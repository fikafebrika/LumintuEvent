var ns=Object.defineProperty,ls=Object.defineProperties;var os=Object.getOwnPropertyDescriptors;var Ho=Object.getOwnPropertySymbols;var as=Object.prototype.hasOwnProperty,is=Object.prototype.propertyIsEnumerable;var Nl=(e,t,l)=>t in e?ns(e,t,{enumerable:!0,configurable:!0,writable:!0,value:l}):e[t]=l,oe=(e,t)=>{for(var l in t||(t={}))as.call(t,l)&&Nl(e,l,t[l]);if(Ho)for(var l of Ho(t))is.call(t,l)&&Nl(e,l,t[l]);return e},ke=(e,t)=>ls(e,os(t));var ft=(e,t,l)=>(Nl(e,typeof t!="symbol"?t+"":t,l),l);import{d as St,s as Lt,c as ss,l as M,b as rs,e as ds,f as us,g as cs,h as ps,i as ms,j as fs,k as vs,n as z,u as te,o as V,r as c,p as m,q as S,w as r,t as a,v as E,y as ye,z as Yt,A as Ue,B as C,C as b,D as xe,E as ge,F as we,G as ne,H as Ae,I as R,J as Dt,K as ue,L as Be,M as He,N as Ze,O as ut,P as D,Q as st,R as Pt,S as xt,T as ht,U as Ye,V as I,W as Wo,X as _s,Y as ae,Z as en,_ as bn,$ as be,a0 as rn,a1 as We,a2 as Ge,a3 as ys,a4 as gs,a5 as hs,a6 as bs,a7 as Go,a8 as Jo,a9 as Qo,aa as Vt,ab as Xo,ac as Zo,ad as Bl,ae as pl,af as $s,ag as ws,ah as Un,ai as Ot,aj as Yo,ak as ql,al as ml,am as xo,an as ks,ao as Cs,ap as bt,aq as Ss,ar as Vs,as as Fs,at as As,au as Is,av as ze,aw as ea,ax as Es,ay as kt,az as $t,aA as Ds,aB as ta,aC as Ts,aD as Ut,aE as zl,aF as Kl,aG as Hl,aH as na,aI as Wl,aJ as la,aK as Ps,aL as Ls,aM as Os,aN as js,aO as Rs,aP as Ms,aQ as Us,aR as Ns,aS as Bs,aT as qs,aU as zs,aV as Ks,aW as Hs,aX as Ws,aY as Gs,aZ as Js,a_ as Qs,a$ as Xs,b0 as Zs,b1 as Ys,b2 as xs,b3 as er,b4 as tr,b5 as nr,b6 as lr,b7 as or,b8 as ar,b9 as ir,ba as sr,bb as rr,bc as Kt,bd as dr,be as oa,bf as dn,bg as ur,bh as cr,bi as pr,bj as Nn,bk as $n,bl as aa,bm as mr,bn as Ht,bo as fr,bp as vr,bq as _r,br as Gl,bs as ia,bt as yr,bu as gr,bv as hr,bw as br,bx as $r,by as wr,bz as kr,bA as Cr,bB as Sr}from"./assets/vendor.6ad70522.js";import{g as Vr,u as Oe,d as un,a as ot,b as yt,S as Fr,A as Ar,c as Ir,e as fl,f as gt,h as Ne,i as vl,j as _l}from"./assets/use-sync.042e848f.js";const Er=function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const u of s)if(u.type==="childList")for(const o of u.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function l(s){const u={};return s.integrity&&(u.integrity=s.integrity),s.referrerpolicy&&(u.referrerPolicy=s.referrerpolicy),s.crossorigin==="use-credentials"?u.credentials="include":s.crossorigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function n(s){if(s.ep)return;s.ep=!0;const u=l(s);fetch(s.href,u)}};Er();const sa="9.0.0-rc.100",wt=St({id:"appStore",state:()=>({sidebarOpen:!1,fullScreen:!1,hydrated:!1,hydrating:!1,error:null,authenticated:!1,accessTokenExpiry:0,basemap:"OpenStreetMap"})}),Dr="modulepreload",ra={},Tr="",j=function(t,l){return!l||l.length===0?t():Promise.all(l.map(n=>{if(n=`${Tr}${n}`,n in ra)return;ra[n]=!0;const s=n.endsWith(".css"),u=s?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${n}"]${u}`))return;const o=document.createElement("link");if(o.rel=s?"stylesheet":Dr,s||(o.as="script",o.crossOrigin=""),o.href=n,document.head.appendChild(o),s)return new Promise((i,d)=>{o.addEventListener("load",i),o.addEventListener("error",d)})})).then(()=>t())},Pr=Lt([]),Lr=Lt([]);function tn(){return{displays:Lr,displaysRaw:Pr}}const Or=Lt([]),jr=Lt([]);function Ct(){return{interfaces:jr,interfacesRaw:Or}}const Rr=Lt([]),Mr=Lt([]);function yl(){return{panels:Mr,panelsRaw:Rr}}const Ur=Lt([]),Nr=Lt([]);function cn(){return{layouts:Nr,layoutsRaw:Ur}}const Br=Lt([]),qr=Lt([]);function Jl(){return{modules:qr,modulesRaw:Br}}var zr={"en-US":{short:{year:"numeric",month:"short",day:"numeric"},long:{year:"numeric",month:"short",day:"numeric",weekday:"short",hour:"numeric",minute:"numeric",hour12:!0}},"bg-BG":{short:{year:"numeric",month:"numeric",day:"numeric"},long:{year:"numeric",month:"short",day:"numeric",weekday:"short",hour:"numeric",minute:"numeric",hour12:!1}},"cs-CZ":{short:{year:"numeric",month:"short",day:"numeric"},long:{year:"numeric",month:"short",day:"numeric",weekday:"short",hour:"numeric",minute:"numeric",hour12:!1}},"de-DE":{short:{year:"numeric",month:"short",day:"numeric"},long:{year:"numeric",month:"short",day:"numeric",weekday:"short",hour:"numeric",minute:"numeric",hour12:!1}},"fr-FR":{short:{year:"numeric",month:"short",day:"numeric"},long:{year:"numeric",month:"short",day:"numeric",weekday:"short",hour:"numeric",minute:"numeric",hour12:!1}},"it-IT":{short:{year:"numeric",month:"short",day:"numeric"},long:{year:"numeric",month:"short",day:"numeric",weekday:"short",hour:"numeric",minute:"numeric",hour12:!1}},"ms-MY":{short:{year:"numeric",month:"short",day:"numeric"},long:{year:"numeric",month:"short",day:"numeric",weekday:"short",hour:"numeric",minute:"numeric",hour12:!1}},"nl-NL":{short:{year:"numeric",month:"short",day:"numeric"},long:{year:"numeric",month:"short",day:"numeric",weekday:"short",hour:"numeric",minute:"numeric",hour12:!1}},"pl-PL":{short:{year:"numeric",month:"short",day:"numeric"},long:{year:"numeric",month:"short",day:"numeric",weekday:"short",hour:"numeric",minute:"numeric",hour12:!1}},"pt-BR":{short:{year:"numeric",month:"short",day:"numeric"},long:{year:"numeric",month:"short",day:"numeric",weekday:"short",hour:"numeric",minute:"numeric",hour12:!1}},"ru-RU":{short:{year:"numeric",month:"short",day:"numeric"},long:{year:"numeric",month:"short",day:"numeric",weekday:"short",hour:"numeric",minute:"numeric",hour12:!1}},"zh-CN":{short:{year:"numeric",month:"short",day:"numeric"},long:{year:"numeric",month:"short",day:"numeric",weekday:"short",hour:"numeric",minute:"numeric",hour12:!0}}},Kr={"en-US":{currency:{style:"currency",currency:"USD",notation:"standard"},decimal:{style:"decimal",minimumFractionDigits:2,maximumFractionDigits:2},percent:{style:"percent",useGrouping:!1}}},$={identifier:"Identifier",avatar:"Avatar",default_provider:"Default",published:"Published",draft:"Draft",archived:"Archived",modules:"Modules",module_bar:"Module Bar",tile_size:"Tile Size",edit_field:"Edit Field",conditions:"Conditions",maps:"Maps",item_creation:"Item Creation",item_revision:"Item Revision",enter_a_name:"Enter a Name...",duplicate_field:"Duplicate Field",half_width:"Half Width",full_width:"Full Width",group:"Group",and:"And",or:"Or",fill_width:"Fill Width",field_name_translations:"Field Name Translations",enter_password_to_enable_tfa:"Enter your password to enable Two-Factor Authentication",add_field:"Add Field",role_name:"Role Name",branch:"Branch",leaf:"Leaf",indeterminate:"Indeterminate",edit_collection:"Edit Collection",exclusive:"Exclusive",children:"Children",db_only_click_to_configure:"Database Only: Click to Configure",show_archived_items:"Show Archived Items",edited:"Value Edited",required:"Required",required_for_app_access:"Required for App Access",requires_value:"Requires value",create_preset:"Create Preset",create_panel:"Create Panel",create_role:"Create Role",create_user:"Create User",delete_panel:"Delete Panel",create_webhook:"Create Webhook",invite_users:"Invite Users",invite:"Invite",email_already_invited:'Email "{email}" has already been invited',emails:"Emails",connection_excellent:"Excellent Connection",connection_good:"Good Connection",connection_fair:"Fair Connection",connection_poor:"Poor Connection",primary:"Primary",rename_folder:"Rename Folder",delete_folder:"Delete Folder",prefix:"Prefix",suffix:"Suffix",reset_bookmark:"Reset Bookmark",rename_bookmark:"Rename Bookmark",update_bookmark:"Update Bookmark",delete_bookmark:"Delete Bookmark",delete_bookmark_copy:'Are you sure you want to delete the "{bookmark}" bookmark? This action cannot be undone.',logoutReason:{SIGN_OUT:"Signed out",SESSION_EXPIRED:"Session expired"},public_label:"Public",public_description:"Controls what API data is available without authenticating.",not_allowed:"Not Allowed",directus_version:"Directus Version",node_version:"Node Version",node_uptime:"Node Uptime",os_type:"OS Type",os_version:"OS Version",os_uptime:"OS Uptime",os_totalmem:"OS Memory",archive:"Archive",archive_confirm:"Are you sure you want to archive this item?",archive_confirm_count:"No Items Selected | Are you sure you want to archive this item? | Are you sure you want to archive these {count} items?",reset_system_permissions_to:"Reset System Permissions to:",reset_system_permissions_copy:"This action will overwrite any custom permissions you may have applied to the system collections. Are you sure?",the_following_are_minimum_permissions:'The following are minimum permissions required when "App Access" is enabled. You can extend permissions beyond this, but not below.',app_access_minimum:"App Access Minimum",recommended_defaults:"Recommended Defaults",unarchive:"Unarchive",unarchive_confirm:"Are you sure you want to unarchive this item?",nested_files_folders_will_be_moved:"Nested files and folders will be moved one level up.",unknown_validation_errors:"There were validation errors for the following hidden fields:",validationError:{eq:"Value has to be {valid}",neq:"Value can't be {invalid}",in:"Value has to be one of {valid}",nin:"Value can't be one of {invalid}",contains:"Value has to contain {substring}",ncontains:"Value can't contain {substring}",gt:"Value has to be greater than {valid}",gte:"Value has to be greater than or equal to {valid}",lt:"Value has to be less than {valid}",lte:"Value has to be less than or equal to {valid}",empty:"Value has to be empty",nempty:"Value can't be empty",null:"Value has to be null",nnull:"Value can't be null",required:"Value is required",unique:"Value has to be unique",regex:"Value doesn't have the correct format"},all_access:"All Access",no_access:"No Access",use_custom:"Use Custom",nullable:"Nullable",allow_null_value:"Allow NULL value",allow_multiple:"Allow Multiple",allow_multiple_to_be_open:"Allow Multiple to be Opened",enter_value_to_replace_nulls:"Please enter a new value to replace any NULLs currently within this field.",field_standard:"Standard",field_presentation:"Presentation & Aliases",field_file:"Single File",field_files:"Multiple Files",field_m2o:"M2O Relationship",field_m2a:"M2A Relationship",field_o2m:"O2M Relationship",field_m2m:"M2M Relationship",field_translations:"Translations",field_group:"Field Group",item_permissions:"Item Permissions",field_permissions:"Field Permissions",field_validation:"Field Validation",field_presets:"Field Presets",permissions_for_role:"Items the {role} Role can {action}.",fields_for_role:"Fields the {role} Role can {action}.",validation_for_role:"Field {action} rules the {role} Role must obey.",presets_for_role:"Field value defaults for the {role} Role.",presentation_and_aliases:"Presentation & Aliases",revision_post_create:"Here is what this item looked like when it was created.",revision_post_update:"Here is what this item looked like after the update.",changes_made:"Below are the specific changes made in this revision.",no_relational_data:"Keep in mind that relational data is not included here.",hide_field_on_detail:"Hide Field on Detail",show_field_on_detail:"Show Field on Detail",delete_field:"Delete Field",fields_and_layout:"Fields & Layout",field_create_success:'Created Field: "{field}"',field_update_success:'Updated Field: "{field}"',duplicate_where_to:"Where would you like to duplicate this field to?",language:"Language",aggregate_function:"Aggregate Function",aggregate_precision:"Aggregate Precision",group_aggregation:"Group Aggregation",group_precision:"Group Precision",global:"Global",admins_have_all_permissions:"Admins have all permissions",camera:"Camera",show_zero:"Show Zero",create_in_advanced_field_creation_mode:"Create in Advanced Field Creation Mode",continue_in_advanced_field_creation_mode:"Continue in Advanced Field Creation Mode",sum:"Sum",sum_distinct:"Sum Distinct",avg:"Average",avg_distinct:"Average Distinct",count:"Count",count_distinct:"Count Distinct",min:"Min",max:"Max",exposure:"Exposure",shutter:"Shutter",iso:"ISO",focal_length:"Focal Length",schema_setup_key:"This field's database column name and API key",create_field:"Create Field",creating_new_field:"New Field ({collection})",field_in_collection:"{field} ({collection})",reset_page_preferences:"Reset Page Preferences",hidden_field:"Hidden Field",hidden_on_detail:"Hidden on Detail",disabled_editing_value:"Disable editing value",key:"Key",alias:"Alias",bigInteger:"Big Integer",boolean:"Boolean",date:"Date",date_range:"Date Range",datetime:"DateTime",dateTime:"DateTime",precision:"Precision",decimal:"Decimal",float:"Float",integer:"Integer",json:"JSON",xml:"XML",string:"String",text:"Text",time:"Time",timestamp:"Timestamp",uuid:"UUID",hash:"Hash",geometry:"Geometry",not_available_for_type:"Not Available for this Type",create_translations:"Create Translations",auto_refresh:"Auto Refresh",refresh_interval:"Refresh Interval",no_refresh:"Do not refresh",refresh_interval_seconds:"Refresh Instantly | Every Second | Every {seconds} Seconds",refresh_interval_minutes:"Every Minute | Every {minutes} Minutes",auto_generate:"Auto-Generate",this_will_auto_setup_fields_relations:"This will automatically setup all required fields and relations.",click_here:"Click here",to_manually_setup_translations:"to manually setup translations.",click_to_manage_translated_fields:"There are no translated fields yet. Click here to create them. | There is one translated field. Click here to manage it. | There are {count} translated fields. Click here to manage them.",fields_group:"Fields Group",no_collections_found:"No collections found.",new_data_alert:"The following will be created within your Data Model:",search_collection:"Search Collection...",new_field:"New Field",new_collection:"New Collection",add_m2o_to_collection:'Add M2O to "{collection}"',add_o2m_to_collection:'Add O2M to "{collection}"',add_m2m_to_collection:'Add M2M to "{collection}"',choose_a_type:"Choose a Type...",determined_by_relationship:"Determined by Relationship",add_note:"Add a helpful note for users...",add_link:"Add Link",custom_link:"Custom Link",default_value:"Default Value",standard_field:"Standard Field",single_file:"Single File",multiple_files:"Multiple Files",m2o_relationship:"Many to One Relationship",o2m_relationship:"One to Many Relationship",m2m_relationship:"Many to Many Relationship",m2a_relationship:"Many to Any Relationship",invalid_item:"Invalid Item",next:"Next",field_name:"Field Name",translations:"Translations",no_translations:"No Translations",note:"Note",enter_a_value:"Enter a value...",enter_a_placeholder:"Enter a placeholder...",length:"Length",precision_scale:"Precision & Scale",readonly:"Readonly",unique:"Unique",updated_on:"Updated On",updated_by:"Updated By",primary_key:"Primary Key",foreign_key:"Foreign Key",finish_setup:"Finish Setup",dismiss:"Dismiss",raw_value:"Raw value",edit_raw_value:"Edit Raw Value",enter_raw_value:"Enter raw value...",clear_value:"Clear value",clear_changes:"Clear Changes",reset_to_default:"Reset to default",undo_changes:"Undo changes",notifications:"Notifications",show_all_activity:"Show All Activity",page_not_found:"Page Not Found",page_not_found_body:"The page you are looking for doesn't seem to exist.",confirm_revert:"Confirm Revert",confirm_revert_body:"This will revert the item to the selected state.",display:"Display",settings_update_success:"Settings updated",title:"Title",revision_delta_created:"Created",revision_delta_created_externally:"Created Externally",revision_delta_updated:"Updated 1 Field | Updated {count} Fields",revision_delta_deleted:"Deleted",revision_delta_reverted:"Reverted",revision_delta_other:"Revision",revision_delta_by:"{date} by {user}",private_user:"Private User",creation_preview:"Creation Preview",revision_preview:"Revision Preview",updates_made:"Updates Made",leave_comment:"Leave a comment...",post_comment_success:"Comment posted",item_create_success:"Item Created | Items Created",item_update_success:"Item Updated | Items Updated",item_delete_success:"Item Deleted | Items Deleted",this_collection:"This Collection",related_collection:"Related Collection",related_collections:"Related Collections",translations_collection:"Translation Collection",languages_collection:"Languages Collection",export_data:"Export Data",format:"Format",use_current_filters_settings:"Use Current Filters & Settings",export_collection:"Export {collection}",last_page:"Last Page",last_access:"Last Access",fill_template:"Fill with Template Value",a_unique_table_name:"A unique table name...",a_unique_column_name:"A unique column name...",enable_custom_values:"Enable custom values",submit:"Submit",move_to_folder:"Move to Folder",move:"Move",system:"System",add_field_related:"Add Field to Related Collection",interface_label:"Interface",today:"Today",yesterday:"Yesterday",delete_comment:"Delete Comment","date-fns_date":"PPP","date-fns_time":"h:mm:ss a","date-fns_time_no_seconds":"h:mm a","date-fns_date_short":"MMM d, u","date-fns_time_short":"h:mma","date-fns_date_short_no_year":"MMM d",minutes:"Minutes",hours:"Hours",month:"Month",year:"Year",select_all:"Select All",months:{january:"January",february:"February",march:"March",april:"April",may:"May",june:"June",july:"July",august:"August",september:"September",october:"October",november:"November",december:"December"},drag_mode:"Drag Mode",cancel_crop:"Cancel Crop",original:"Original",url:"URL",import_label:"Import",file_details:"File Details",dimensions:"Dimensions",size:"Size",created:"Created",modified:"Modified",checksum:"Checksum",owner:"Owner",edited_by:"Edited by",folder:"Folder",zoom:"Zoom",download:"Download",open:"Open",open_in_new_window:"Open in New Window",open_folder:'Open "{folder}" folder',foreground_color:"Foreground Color",background_color:"Background Color",upload_from_device:"Upload File from Device",choose_from_library:"Choose File from Library",import_from_url:"Import File from URL",replace_from_device:"Replace File from Device",replace_from_library:"Replace File from Library",replace_from_url:"Replace File from URL",no_file_selected:"No File Selected",download_file:"Download File",collection_key:"Collection Key",name:"Name",primary_key_field:"Primary Key Field",type:"Type",creating_new_collection:"Creating New Collection",created_by:"Created By",created_on:"Created On",creating_collection_info:"Name the collection and setup its unique \u201Ckey\u201D field...",creating_collection_system:"Enable and rename any of these optional fields.",auto_increment_integer:"Auto-incremented integer",generated_uuid:"Generated UUID",manual_string:"Manually entered string",save_and_create_new:"Save and Create New",save_and_stay:"Save and Stay",save_as_copy:"Save as Copy",add_existing:"Add Existing",creating_items:"Creating Items",enable_create_button:"Enable Create Button",selecting_items:"Selecting Items",enable_select_button:"Enable Select Button",comments:"Comments",no_comments:"No Comments Yet",click_to_expand:"Click to Expand",select_item:"Select Item",no_items:"No items",search_items:"Search items...",disabled:"Disabled",information:"Information",report_bug:"Report Bug",request_feature:"Request Feature",interface_not_found:'Interface "{interface}" not found.',reset_interface:"Reset Interface",display_not_found:'Display "{display}" not found.',reset_display:"Reset Display","list-m2a":"Builder (M2A)",item_count:"No Items | One Item | {count} Items",no_items_copy:"There are no items in this collection yet.",file_count:"No Files | One File | {count} Files",no_files_copy:"There are no files here.",user_count:"No Users | One User | {count} Users",no_users_copy:"There are no users in this role yet.",webhooks_count:"No Webhooks | One Webhook | {count} Webhooks",no_webhooks_copy:"No webhooks have been configured yet. Get started by creating one below.",all_items:"All Items",any:"Any",csv:"CSV",no_collections:"No Collections",create_collection:"Create Collection",no_collections_copy_admin:"You don\u2019t have any Collections yet. Click the button below to get started.",no_collections_copy:"You don\u2019t have any Collections yet. Please contact your system administrator.",relationship_not_setup:"The relationship hasn't been configured correctly",display_template_not_setup:"The display template option is misconfigured",collection_field_not_setup:"The collection field option is misconfigured",select_a_collection:"Select a Collection",select_a_field:"Select a Field",active:"Active",move_to:"Move To...",copy:"Copy",copy_to:"Copy To...",no_other_dashboards_copy:"You don't have any other Dashboards yet.",inactive:"Inactive",users:"Users",activity:"Activity",activity_item:"Activity Item",action:"Action",ip_address:"IP Address",user_agent:"User Agent",webhooks:"Webhooks",decimals:"Decimals",value_decimals:"Value Decimals",min_value:"Min Value",max_value:"Max Value",automatic:"Automatic",field_width:"Field Width",add_filter:"Add Filter",upper_limit:"Upper limit...",lower_limit:"Lower limit...",user_directory:"User Directory",documentation:"Documentation",sidebar:"Sidebar",duration:"Duration",charset:"Charset",second:"second",file_moved:"File Moved",collection_created:"Collection Created",modified_on:"Modified On",card_size:"Card Size",sort_field:"Sort Field",add_sort_field:"Add Sort Field",sort:"Sort",status:"Status",remove:"Remove",toggle_manual_sorting:"Toggle Manual Sorting",bookmark_doesnt_exist:"Bookmark Doesn't Exist",bookmark_doesnt_exist_copy:"The bookmark you're trying to open couldn't be found.",bookmark_doesnt_exist_cta:"Return to collection",select_an_item:"Select an item...",edit:"Edit",enabled:"Enabled",disable_tfa:"Disable 2FA",tfa_scan_code:"Scan the code in your authenticator app to finish setting up 2FA",enter_otp_to_disable_tfa:"Enter the OTP to disable 2FA",create_account:"Create Account",account_created_successfully:"Account Created Successfully",auto_fill:"Auto Fill",corresponding_field:"Corresponding Field",errors:{COLLECTION_NOT_FOUND:"Collection doesn't exist",FIELD_NOT_FOUND:"Field not found",FORBIDDEN:"Forbidden",INVALID_CREDENTIALS:"Wrong username or password",INVALID_OTP:"Wrong one-time password",INVALID_PAYLOAD:"Invalid payload",INVALID_QUERY:"Invalid query",ITEM_LIMIT_REACHED:"Item limit reached",ITEM_NOT_FOUND:"Item not found",ROUTE_NOT_FOUND:"Not found",RECORD_NOT_UNIQUE:"Duplicate value detected",USER_SUSPENDED:"User Suspended",CONTAINS_NULL_VALUES:"Field contains null values",UNPROCESSABLE_ENTITY:"Unprocessable entity",INTERNAL_SERVER_ERROR:"Unexpected Error",NOT_NULL_VIOLATION:"Value can't be null",ILLEGAL_ASSET_TRANSFORMATION:"Image source too large to preview",UNKNOWN:"Unexpected Error"},security:"Security",value_hashed:"Value Securely Hashed",bookmark_name:"Bookmark name...",create_bookmark:"Create Bookmark",edit_bookmark:"Edit Bookmark",bookmarks:"Bookmarks",presets:"Presets",unexpected_error:"Unexpected Error",unexpected_error_copy:"An unexpected error has occurred. Please try again later.",copy_details:"Copy Details",no_app_access:"No App Access",no_app_access_copy:"This user isn't allowed to use the admin app.",password_reset_sent:"We've sent you a secure link to reset your password",password_reset_successful:"Password successfully reset",back:"Back",filter:"Filter",editing_image:"Editing Image",square:"Square",free:"Free",flip_horizontal:"Flip Horizontal",flip_vertical:"Flip Vertical",aspect_ratio:"Aspect Ratio",rotate:"Rotate",all_users:"All Users",delete_collection:"Delete Collection",update_collection_success:"Updated Collection",delete_collection_success:"Deleted Collection",make_collection_visible:"Make Collection Visible",make_collection_hidden:"Make Collection Hidden",start_end_of_count_items:"{start}-{end} of {count} items",start_end_of_count_filtered_items:"{start}-{end} of {count} filtered items",one_item:"1 item",one_filtered_item:"1 filtered item",delete_collection_are_you_sure:"Are you sure you want to delete this collection? This will delete the collection and all items in it. This action is permanent.",collections_shown:"Collections Shown",visible_collections:"Visible Collections",hidden_collections:"Hidden Collections",show_hidden_collections:"Show Hidden Collections",hide_hidden_collections:"Hide Hidden Collections",show_header:"Show Header",unmanaged_collections:"Unconfigured Collections",system_collections:"System Collections",placeholder:"Placeholder",icon_left:"Icon Left",icon_right:"Icon Right",count_other_revisions:"{count} Other Revisions",font:"Font",sans_serif:"Sans Serif",serif:"Serif",monospace:"Monospace",divider:"Divider",color:"Color",circle:"Circle",empty_item:"Empty Item",log_in_with:"Log In with {provider}",conditional_styles:"Conditional Styles",advanced_settings:"Advanced Settings",advanced_filter:"Advanced Filter",delete_advanced_filter:"Delete Filter",change_advanced_filter_operator:"Change Operator",operators:{eq:"Equals",neq:"Doesn't equal",lt:"Less than",gt:"Greater than",lte:"Less than or equal to",gte:"Greater than or equal to",in:"Is one of",nin:"Is not one of",null:"Is null",nnull:"Isn't null",contains:"Contains",ncontains:"Doesn't contain",starts_with:"Starts with",nstarts_with:"Doesn't start with",ends_with:"Ends with",nends_with:"Doesn't end with",between:"Is between",nbetween:"Isn't between",empty:"Is empty",nempty:"Isn't empty",all:"Contains these keys",has:"Contains some of these keys",intersects:"Intersects",nintersects:"Doesn't intersect",intersects_bbox:"Intersects bounding box",nintersects_bbox:"Doesn't intersect bounding box"},loading:"Loading...",drop_to_upload:"Drop to Upload",item:"Item",items:"Items",upload_file:"Upload File",upload_file_indeterminate:"Uploading File...",upload_file_success:"File Uploaded",upload_files_indeterminate:"Uploading files {done}/{total}",upload_files_success:"{count} Files Uploaded",upload_pending:"Upload Pending",drag_file_here:"Drag & Drop a File Here",click_to_browse:"Click to Browse",interface_options:"Interface Options",layout_options:"Layout Options",rows:"Rows",columns:"Columns",collection_setup:"Collection Setup",optional_system_fields:"Optional System Fields",value_unique:"Value has to be unique",all_activity:"All Activity",create_item:"Create Item",display_template:"Display Template",language_display_template:"Language Display Template",translations_display_template:"Translations Display Template",n_items_selected:"No Items Selected | 1 Item Selected | {n} Items Selected",per_page:"Per Page",all_files:"All Files",my_files:"My Files",recent_files:"Recent Files",create_folder:"Create Folder",edit_folder:"Edit Folder",folder_name:"Folder Name...",folder_key:"Folder Key...",add_file:"Add File",replace_file:"Replace File",no_results:"No Results",no_results_copy:"Adjust or clear search filters to see results.",clear_filters:"Clear Filters",saves_automatically:"Saves Automatically",role:"Role",rule:"Rule",user:"User",no_presets:"No Presets",no_presets_copy:"No presets or bookmarks have been saved yet.",no_presets_cta:"Add Preset",presets_only:"Presets Only",create:"Create",on_create:"On Create",on_update:"On Update",read:"Read",update:"Update",select_fields:"Select Fields",format_text:"Format Text",format_value:"Format Value",abbreviate_value:"Abbreviate Value",operator:"Operator",bold:"Bold",toggle:"Toggle",icon_on:"Icon On",icon_off:"Icon Off",label:"Label",insights:"Insights (Beta)",dashboard:"Dashboard",panel:"Panel",panel_options:"Panel Options",panel_header:"Panel Header",panel_name_placeholder:"Name this panel...",panel_note_placeholder:"Optional details about this panel...",panel_delete_confirm:"Are you sure you want to delete this panel? This action can not be undone.",dashboard_delete_confirm:"Are you sure you want to delete this dashboard? This action can not be undone.",edit_dashboard:"Edit Dashboard",delete_dashboard:"Delete Dashboard",visible:"Visible",prefix_placeholder:"Text before value...",suffix_placeholder:"Text after value...",decimals_placeholder:"Number of decimal places...",no_dashboards:"No Dashboards",no_dashboards_copy:"You don\u2019t have any Dashboards yet.",no_data:"No Data",create_dashboard:"Create Dashboard",dashboard_name:"Dashboard Name",full_screen:"Full Screen",edit_panels:"Edit Panels",fit_to_screen:"Fit to Screen",image_url:"Image Url",alt_text:"Alternative Text",media:"Media",quality:"Quality",width:"Width",height:"Height",source:"Source",url_placeholder:"Enter an url...",display_text:"Display Text",display_text_placeholder:"Enter a display text...",interface_group_text_and_numbers:"Text & Numbers",interface_group_selection:"Selection",interface_group_relational:"Relational",interface_group_presentation:"Presentation",interface_group_groups:"Groups",interface_group_other:"Other",tooltip:"Tooltip",tooltip_placeholder:"Enter a tooltip...",unlimited:"Unlimited",open_link_in:"Open link in",new_tab:"New tab",current_tab:"Current tab",wysiwyg_options:{aligncenter:"Align Center",alignjustify:"Align Justify",alignleft:"Align Left",alignnone:"Align None",alignright:"Align Right",forecolor:"Foreground Color",backcolor:"Background Color",bold:"Bold",italic:"Italic",underline:"Underline",strikethrough:"Strikethrough",subscript:"Subscript",superscript:"Superscript",codeblock:"Code",blockquote:"Blockquote",bullist:"Bullet List",numlist:"Numbered List",hr:"Horizontal Rule",link:"Add/Edit Link",unlink:"Remove Link",media:"Add/Edit Media",image:"Add/Edit Image",copy:"Copy",cut:"Cut",paste:"Paste",heading:"Heading",h1:"Heading 1",h2:"Heading 2",h3:"Heading 3",h4:"Heading 4",h5:"Heading 5",h6:"Heading 6",fontselect:"Select Font",fontsizeselect:"Select Font Size",indent:"Indent",outdent:"Outdent",undo:"Undo",redo:"Redo",remove:"Remove",removeformat:"Remove Format",selectall:"Select All",table:"Table",visualaid:"View invisible elements",source_code:"Edit Source Code",fullscreen:"Full Screen",directionality:"Directionality"},dropdown:"Dropdown",choices:"Choices",choices_option_configured_incorrectly:"Choices configured incorrectly",deselect:"Deselect",deselect_all:"Deselect All",other:"Other...",adding_user:"Adding User",unknown_user:"Unknown User",creating_in:"Creating Item in {collection}",editing_in:"Editing Item in {collection}",creating_unit:"Creating {unit}",editing_unit:"Editing {unit}",editing_in_batch:"Batch Editing {count} Items",no_options_available:"No options available",settings_data_model:"Data Model",settings_permissions:"Roles & Permissions",settings_project:"Project Settings",settings_webhooks:"Webhooks",settings_presets:"Presets & Bookmarks",one_or_more_options_are_missing:"One or more options are missing",scope:"Scope",select:"Select...",layout:"Layout",tree_view:"Tree View",changes_are_permanent:"Changes are permanent",preset_name_placeholder:"Serves as default when empty...",preset_search_placeholder:"Search query...",editing_preset:"Editing Preset",layout_preview:"Layout Preview",layout_setup:"Layout Setup",unsaved_changes:"Unsaved Changes",unsaved_changes_copy:"Are you sure you want to leave this page?",discard_changes:"Discard Changes",discard_changes_copy:"Are you sure you want to discard all the changes made?",show_x_axis:"Show X Axis",show_y_axis:"Show Y Axis",keep_editing:"Keep Editing",page_help_collections_overview:"**Collections Overview** \u2014 List of all collections you have access to.",page_help_collections_collection:"**Browse Items** \u2014 Lists all {collection} items you have access to. Customize layout, filters, and sorting to tailor your view, and even save bookmarks of these different configurations for quick access.",page_help_collections_item:"**Item Detail** \u2014 A form for viewing and managing this item. This sidebar also contains a full history of revisions, and embedded comments.",page_help_activity_collection:"**Browse Activity** \u2014 A comprehensive listing of all your user's system and content activity.",page_help_docs_global:"**Documentation Overview** \u2014 Docs tailored specifically to this project's version and schema.",page_help_files_collection:"**File Library** \u2014 Lists all file assets uploaded to this project. Customize layout, filters, and sorting to tailor your view, and even save bookmarks of these different configurations for quick access.",page_help_files_item:"**File Detail** \u2014 A form for managing file metadata, editing the original asset, and updating access settings.",page_help_settings_project:"**Project Settings** \u2014 Your project's global configuration options.",page_help_settings_datamodel_collections:"**Data Model: Collections** \u2014 Lists all collections available. This includes visible, hidden, and system collections, as well as unmanaged database tables that can be added.",page_help_settings_datamodel_fields:"**Data Model: Collection** \u2014 A form for managing this collection and its fields.",page_help_settings_roles_collection:"**Browse Roles** \u2014 Lists the Admin, Public and custom User Roles.",page_help_settings_roles_item:"**Role Detail** \u2014 Manage a role's permissions and other settings.",page_help_settings_presets_collection:"**Browse Presets** \u2014 Lists all presets in the project, including: user, role, and global bookmarks, as well as default views.",page_help_settings_presets_item:"**Preset Detail** \u2014 A form for managing bookmarks and default collection presets.",page_help_settings_webhooks_collection:"**Browse Webhooks** \u2014 Lists all webhooks within the project.",page_help_settings_webhooks_item:"**Webhook Detail** \u2014 A form for creating and managing project webhooks.",page_help_users_collection:"**User Directory** \u2014 Lists all system users within this project.",page_help_users_item:"**User Detail** \u2014 Manage your account information, or view the details of other users.",page_help_insights_overview:"**Insights** \u2014 List of dashboards you have access to.",page_help_insights_dashboard:"**Dashboard** \u2014 Workspace for managing one or more panels",activity_feed:"Activity Feed",add_new:"Add New",create_new:"Create New",all:"All",none:"None",no_layout_collection_selected_yet:"No layout/collection selected yet",batch_delete_confirm:"No items have been selected | Are you sure you want to delete this item? This action can not be undone. | Are you sure you want to delete these {count} items? This action can not be undone.",cancel:"Cancel",no_upscale:"Don't upscale images",collection:"Collection",collections:"Collections",singleton:"Singleton",singleton_label:"Treat as single object",system_fields_locked:"System fields are locked and can't be edited",directus_collection:{directus_activity:"Accountability logs for all events",directus_collections:"Additional collection configuration and metadata",directus_dashboards:"Dashboards within the Insights module",directus_fields:"Additional field configuration and metadata",directus_files:"Metadata for all managed file assets",directus_folders:"Provides virtual directories for files",directus_migrations:"What version of the database you're using",directus_panels:"Individual panels within Insights dashboards",directus_permissions:"Access permissions for each role",directus_presets:"Presets for collection defaults and bookmarks",directus_relations:"Relationship configuration and metadata",directus_revisions:"Data snapshots for all activity",directus_roles:"Permission groups for system users",directus_sessions:"User session information",directus_settings:"Project configuration options",directus_users:"System users for the platform",directus_webhooks:"Configuration for event-based HTTP requests"},fields:{directus_activity:{item:"Item Primary Key",action:"Action",collection:"Collection",timestamp:"Action On",user:"Action By",comment:"Comment",user_agent:"User Agent",ip:"IP Address",revisions:"Revisions"},directus_collections:{collection:"Collection",icon:"Icon",note:"Note",color:"Color",display_template:"Display Template",hidden:"Hidden",singleton:"Singleton",translations:"Collection Naming Translations",archive_app_filter:"Archive App Filter",archive_value:"Archive Value",unarchive_value:"Unarchive Value",sort_field:"Sort Field",accountability:"Activity & Revision Tracking"},directus_files:{$thumbnail:"Thumbnail",title:"Title",description:"Description",tags:"Tags",location:"Location",storage:"Storage",filename_disk:"Filename (Disk)",filename_download:"Filename (Download)",metadata:"Metadata",type:"Mime Type",filesize:"Filesize",modified_by:"Modified By",modified_on:"Modified On",created_on:"Created On",created_by:"Created By",embed:"Embed",uploaded_by:"Uploaded By",folder:"Folder",width:"Width",uploaded_on:"Uploaded On",height:"Height",charset:"Charset",duration:"Duration"},directus_users:{first_name:"First Name",last_name:"Last Name",email:"Email",password:"Password",avatar:"Avatar",location:"Location",title:"Title",description:"Description",tags:"Tags",user_preferences:"User Preferences",language:"Language",theme:"Theme",theme_auto:"Automatic (Based on System)",theme_light:"Light Mode",theme_dark:"Dark Mode",tfa_secret:"Two-Factor Authentication",admin_options:"Admin Options",status:"Status",status_draft:"Draft",status_invited:"Invited",status_active:"Active",status_suspended:"Suspended",status_archived:"Archived",role:"Role",token:"Token",token_placeholder:"Enter a secure access token...",provider:"Provider",external_identifier:"External Identifier",last_page:"Last Page",last_access:"Last Access"},directus_settings:{jpg:"JPEG",png:"PNG",webP:"WebP",tiff:"Tiff",basemaps:"Basemaps",basemaps_raster:"Raster",basemaps_tile:"Raster TileJSON",basemaps_style:"Mapbox Style",mapbox_key:"Mapbox Access Token",mapbox_placeholder:"pk.eyJ1Ijo.....",transforms_note:"The Sharp method name and its arguments. See https://sharp.pixelplumbing.com/api-constructor for more information.",additional_transforms:"Additional Transformations",project_name:"Project Name",project_url:"Project URL",project_color:"Project Color",project_logo:"Project Logo",public_pages:"Public Pages",public_foreground:"Public Foreground",public_background:"Public Background",public_note:"Public Note",auth_password_policy:"Auth Password Policy",auth_login_attempts:"Auth Login Attempts",files_and_thumbnails:"Files & Thumbnails",storage_default_folder:"Storage Default Folder",storage_asset_presets:"Storage Asset Presets",storage_asset_transform:"Storage Asset Transform",overrides:"App Overrides",custom_css:"Custom CSS"},directus_fields:{collection:"Collection Name",icon:"Collection Icon",note:"Note",hidden:"Hidden",singleton:"Singleton",translation:"Field Name Translations",display_template:"Template"},directus_roles:{name:"Role Name",icon:"Role Icon",description:"Description",app_access:"App Access",admin_access:"Admin Access",ip_access:"IP Access",enforce_tfa:"Require 2FA",users:"Users in Role",module_list:"Module Navigation",collection_list:"Collection Navigation"},directus_webhooks:{name:"Name",method:"Method",status:"Status",data:"Data",header:"Header",value:"Value",headers:"Request Headers",data_label:"Send Event Data",triggers:"Triggers",actions:"Actions"}},field_options:{directus_settings:{project_name_placeholder:"My project...",project_logo_note:"Login & Logo Background",public_note_placeholder:"A short, public message that supports markdown formatting...",security_divider_title:"Security",auth_password_policy:{none_text:"None \u2013 Not Recommended",weak_text:"Weak \u2013 Minimum 8 Characters",strong_text:"Strong \u2013 Upper / Lowercase / Numbers / Special"},storage_asset_presets:{fit:{contain_text:"Contain (preserve aspect ratio)",cover_text:"Cover (forces exact size)",fit_text:"Fit inside",outside_text:"Fit outside"}},additional_transforms:"Additional Transformations",transforms_note:"The Sharp method name and its arguments. See https://sharp.pixelplumbing.com/api-constructor for more information.",mapbox_key:"Mapbox Access Token",mapbox_placeholder:"pk.eyJ1Ijo.....",basemaps:"Basemaps",basemaps_raster:"Raster",basemaps_tile:"Raster TileJSON",basemaps_style:"Mapbox Style",files_divider_title:"Files & Thumbnails",overrides_divider_title:"App Overrides"},directus_activity:{login:"Login",create:"Create",update:"Update",delete:"Delete"},directus_collections:{track_activity_revisions:"Track Activity & Revisions",only_track_activity:"Only Track Activity",do_not_track_anything:"Do Not Track Anything",collection_setup:"Collection Setup",note_placeholder:"A description of this collection...",hidden_label:"Hide within the App",singleton:"Treat as single object",language:"Language",translation:"Translation",translation_placeholder:"Enter a translation...",collection_name:"Collection Name",singular_unit:"Singular Unit",plural_unit:"Plural Unit",archive_divider:"Archive",archive_field:"Archive Field",archive_field_placeholder:"Choose a field...",archive_app_filter:"Enable App Archive Filter",archive_value:"Value set when archiving...",unarchive_value:"Value set when unarchiving...",sort_divider:"Sort",sort_field:"Choose a field...",accountability_divider:"Accountability",duplication_divider:"Duplication",item_duplication_fields:"Item Duplication Fields"},directus_files:{title:"A unique title...",description:"An optional description...",location:"An optional location...",storage_divider:"File Naming",filename_disk:"Name on disk storage...",filename_download:"Name when downloading..."},directus_roles:{name:"The unique name for this role...",description:"A description of this role...",ip_access:"Add allowed IP addresses, leave empty to allow all...",fields:{icon_name:"Icon",name_name:"Name",name_placeholder:"Enter a title...",link_name:"Link",link_placeholder:"Relative or absolute URL..."},collection_list:{group_name_addLabel:"Add New Group...",fields:{group_name:"Group Name",group_placeholder:"Label this group...",type_name:"Type",choices_always:"Always Open",choices_start_open:"Start Open",choices_start_collapsed:"Start Collapsed"}},collections_name:"Collections",collections_addLabel:"Add Collection..."},directus_users:{preferences_divider:"User Preferences",dropdown_auto:"Automatic (Based on System)",dropdown_light:"Light Mode",dropdown_dark:"Dark Mode",admin_divider:"Admin Options",status_dropdown_draft:"Draft",status_dropdown_invited:"Invited",status_dropdown_active:"Active",status_dropdown_suspended:"Suspended",status_dropdown_archived:"Archived",token:"Enter a secure access token..."},directus_webhooks:{status_options_active:"Active",status_options_inactive:"Inactive",data_label:"Send Event Data",triggers_divider:"Triggers",actions_create:"Create",actions_update:"Update",actions_delete:"Delete",actions_login:"Login",headers:{header:"Header",value:"Value",add:"Add Header"}}},no_fields_in_collection:'There are no fields in "{collection}" yet',no_value:"No value",do_nothing:"Do Nothing",generate_and_save_uuid:"Generate and Save UUID",save_current_user_id:"Save Current User ID",save_current_user_role:"Save Current User Role",save_current_datetime:"Save Current Date/Time",always_open:"Always Open",start_open:"Start Open",start_collapsed:"Start Collapsed",block:"Block",inline:"Inline",comment:"Comment",relational_triggers:"Relational Triggers",referential_action_field_label_m2o:"On Delete of {collection}...",referential_action_field_label_o2m:"On Deselect of {collection}...",referential_action_no_action:"Prevent the deletion",referential_action_cascade:"Delete the {collection} item (cascade)",referential_action_set_null:"Nullify the {field} field",referential_action_set_default:"Set {field} to its default value",choose_action:"Choose Action",continue_label:"Continue",continue_as:"{name} is currently authenticated. If you recognize this account, press continue.",editing_role:"{role} Role",creating_webhook:"Creating Webhook",default_label:"Default",delete_label:"Delete",delete_are_you_sure:"This action is permanent and can not be undone. Are you sure you would like to proceed?",delete_field_are_you_sure:'Are you sure you want to delete the field "{field}"? This action can not be undone.',description:"Description",done:"Done",duplicate:"Duplicate",limit:"Limit",email:"Email",embed:"Embed",fallback_icon:"Fallback Icon",field:"Field | Fields",file:"File",file_library:"File Library",forgot_password:"Forgot Password",hidden:"Hidden",icon:"Icon",info:"Info",normal:"Normal",success:"Success",warning:"Warning",danger:"Danger",junction_collection:"Junction Collection",latency:"Latency",login:"Log in",my_activity:"My Activity",not_authenticated:"Not Authenticated",authenticated:"Authenticated",options:"Options",otp:"One-Time Password",password:"Password",permissions:"Permissions",relationship:"Relationship",reset:"Reset",reset_password:"Reset Password",revisions:"Revisions",revert:"Revert",save:"Save",schema:"Schema",search:"Search",select_existing:"Select Existing",select_field_type:"Select a field type",select_interface:"Select an interface",settings:"Settings",sign_in:"Sign In",sign_out:"Sign Out",sign_out_confirm:"Are you sure you want to sign out?",something_went_wrong:"Something went wrong.",sort_direction:"Sort Direction",sort_asc:"Sort Ascending",sort_desc:"Sort Descending",template:"Template",require_value_to_be_set:"Require value to be set",translation:"Translation",translation_placeholder:"Enter a translation...",value:"Value",view_project:"View Project",weeks:{},report_error:"Report Error",start:"Start",interfaces:{filter:{name:"Filter",description:"Configure a filter object.",add_filter:"Add Filter",add_group:"And / Or group",add_value:"Add Value",all:"All",any:"Any",and:"and",of_the_following:"of the following",no_rules:"No configured rules",change_value:"Click to change value",placeholder:"Drag rules here"},"group-accordion":{name:"Accordion",description:"Display fields or groups as accordion sections",start:"Start",all_closed:"All Closed",first_opened:"First Opened",all_opened:"All Opened",accordion_mode:"Accordion Mode",max_one_section_open:"Max 1 Section Open"},"presentation-links":{"presentation-links":"Button Links",links:"Links",description:"Configurable link buttons for launching dynamic URLs",style:"Style",primary:"Primary",link:"Links",button:"Buttons",error:"Cannot perform action"},"select-multiple-checkbox":{checkboxes:"Checkboxes",description:"Choose between multiple options via checkboxes",allow_other:"Allow Other",show_more:"Show {count} more",items_shown:"Items Shown"},"select-multiple-checkbox-tree":{name:"Checkboxes (Tree)",description:"Choose between multiple options via nested checkboxes",value_combining:"Value Combining",value_combining_note:"Controls what value is stored when nested selections are made.",show_all:"Show All",show_selected:"Show Selected"},"input-code":{code:"Code",description:"Write or share code snippets",line_number:"Line Number",placeholder:"Enter code here..."},"system-collection":{collection:"Collection",description:"Select between existing collections",include_system_collections:"Include System Collections"},"system-collections":{collections:"Collections",description:"Select between existing collections",include_system_collections:"Include System Collections"},"select-color":{color:"Color",description:"Enter or select a color value",placeholder:"Choose a color...",preset_colors:"Preset Colors",preset_colors_add_label:"Add new color...",name_placeholder:"Enter color name..."},datetime:{datetime:"Datetime",description:"Enter dates and times",include_seconds:"Include Seconds",set_to_now:"Set to Now",use_24:"Use 24-Hour Format"},"system-display-template":{"display-template":"Display Template",description:"Mix static text and dynamic field values",collection_field:"Collection field",collection_field_not_setup:"The collection field option is misconfigured",select_a_collection:"Select a Collection"},"presentation-divider":{divider:"Divider",description:"Label and divide fields into sections",title_placeholder:"Enter a title...",inline_title:"Inline Title",inline_title_label:"Show title inside line",margin_top:"Margin Top",margin_top_label:"Increase Top Margin"},"select-dropdown":{description:"Select a value from a dropdown",choices_placeholder:"Add a new choice",allow_other:"Allow Other",allow_other_label:"Allow Other Values",allow_none:"Allow None",allow_none_label:"Allow No Selection",choices_name_placeholder:"Enter a name...",choices_value_placeholder:"Enter a value..."},"select-multiple-dropdown":{"select-multiple-dropdown":"Dropdown (Multiple)",description:"Select multiple values from a dropdown"},file:{file:"File",description:"Select or upload a file"},files:{files:"Files",description:"Select or upload multiple files"},"input-hash":{hash:"Hash",description:"Enter a value to be hashed",masked:"Masked",masked_label:"Hide the true values"},"select-icon":{icon:"Icon",description:"Select an icon from a dropdown",search_for_icon:"Search for icon..."},"file-image":{image:"Image",description:"Select or upload an image"},"system-interface":{interface:"Interface",description:"Select an existing interface",placeholder:"Select an interface..."},"system-interface-options":{"interface-options":"Interface Options",description:"A modal for selecting options of an interface"},"list-m2m":{"many-to-many":"Many to Many",description:"Select multiple related junction items"},"select-dropdown-m2o":{"many-to-one":"Many to One",description:"Select a single related item",display_template:"Display Template"},"input-rich-text-md":{markdown:"Markdown",description:"Enter and preview markdown",customSyntax:"Custom Blocks",customSyntax_label:"Add custom syntax types",customSyntax_add:"Add custom syntax",box:"Block / Inline",imageToken:"Image Token",imageToken_label:"What (static) token to append to image sources"},map:{map:"Map",description:"Select a location on a map",zoom:"Zoom",geometry_type:"Geometry Type",geometry_format:"Geometry Format",default_view:"Default View",invalid_options:"Invalid options",invalid_format:"Invalid format ({format})",unexpected_geometry:"Expected {expected}, got {got}.",fit_bounds:"Fit view to data",native:"Native",geojson:"GeoJSON",lnglat:"Longitude, Latitude",wkt:"WKT",wkb:"WKB",click_to_select:"Click to select {geometry}"},"presentation-notice":{notice:"Notice",description:"Display a short notice",text:"Enter notice content here..."},"list-o2m":{"one-to-many":"One to Many",description:"Select multiple related items",no_collection:"The collection could not be found"},"system-folder":{folder:"Folder",description:"Select a folder",field_hint:"Puts newly uploaded files in selected folder. Does not affect existing files that are selected.",root_name:"File Library Root",system_default:"System Defaults"},"select-radio":{"radio-buttons":"Radio Buttons",description:"Select one of multiple choices"},list:{repeater:"Repeater",description:"Create multiple entries of the same structure",edit_fields:"Edit Fields",add_label:'"Create New" Label',field_name_placeholder:"Enter field name...",field_note_placeholder:"Enter field note..."},slider:{slider:"Slider",description:"Select a number using a slider",always_show_value:"Always show value"},tags:{tags:"Tags",description:"Select or add tags",whitespace:"Whitespace",hyphen:"Replace with hyphen",underscore:"Replace with underscore",remove:"Remove whitespace",capitalization:"Capitalization",uppercase:"Convert Uppercase",lowercase:"Convert Lowercase",auto_formatter:"Use Title Auto-Formatter",alphabetize:"Alphabetize",alphabetize_label:"Force Alphabetical Order",add_tags:"Add tags..."},input:{input:"Input",description:"Manually enter a value",trim:"Trim",trim_label:"Trim the start and end",mask:"Masked",mask_label:"Hide the real value",clear:"Cleared Value",clear_label:"Save as empty string",minimum_value:"Minimum Value",maximum_value:"Maximum Value",step_interval:"Step Interval",slug:"Slugify",slug_label:"Make entered value URL safe"},"input-multiline":{textarea:"Textarea",description:"Enter multiline plain-text"},boolean:{toggle:"Toggle",description:"Switch between on and off",label_placeholder:"Enter a label...",label_default:"Enabled"},translations:{display_template:"Display Template",no_collection:"No Collection",toggle_split_view:"Toggle Split View",language_field:"Language Indicator Field"},"list-o2m-tree-view":{description:"Tree view for nested recursive one-to-many items",recursive_only:"The tree view interface only works for recursive relationships."},user:{user:"User",description:"Select an existing directus user",select_mode:"Select Mode",modes:{auto:"Auto",dropdown:"Dropdown",modal:"Modal"}},"input-rich-text-html":{wysiwyg:"WYSIWYG",description:"A rich-text editor writing HTML content",toolbar:"Toolbar",custom_formats:"Custom Formats",options_override:"Options Override"},"input-autocomplete-api":{"input-autocomplete-api":"Autocomplete Input (API)",description:"A search typeahead for external API values.",results_path:"Results Path",value_path:"Value Path",trigger:"Trigger",rate:"Rate"},"group-raw":{name:"Raw Group",description:"Render the fields as-is"},"group-detail":{name:"Detail Group",description:"Render the fields as a collapsable section",show_header:"Show Group Header",header_icon:"Header Icon",header_color:"Header Color",start_open:"Start Open",start_closed:"Start Closed"}},displays:{translations:{translations:"Translations",description:"Preview translations",enable:"Enable",user_language:"Use Current User Language",default_language:"Default Language",language_field:"Language Indicator Field"},boolean:{boolean:"Boolean",description:"Display on and off states",label_on:"Label On",label_on_placeholder:"Enter an on label...",label_off:"Label Off",label_off_placeholder:"Enter an off label...",icon_on:"Icon On",icon_off:"Icon Off",color_on:"Color On",color_off:"Color Off"},collection:{collection:"Collection",description:"Display a collection",icon_label:"Show the collection's icon"},color:{color:"Color",description:"Display a colored dot",default_color:"Default Color"},datetime:{datetime:"Datetime",description:"Display values related to time",format:"Format",format_note:"The custom format accepts the __[Date Field Symbol Table](https://www.unicode.org/reports/tr35/tr35-dates.html#Date_Field_Symbol_Table)__",long:"Long",short:"Short",relative:"Relative",relative_label:"Show relative time, eg: 5 minutes ago"},file:{file:"File",description:"Display files"},filesize:{filesize:"File Size",description:"Display the size of a file"},"formatted-value":{"formatted-value":"Formatted Value",description:"Display a formatted version of the text",format_title:"Format Title",format_title_label:"Auto-format casing",bold_label:"Use bold style"},"formatted-json-value":{"formatted-json-value":"Formatted JSON value",description:"Display a formatted version of the object"},icon:{icon:"Icon",description:"Display an icon",filled:"Filled",filled_label:"Use the filled variant"},image:{image:"Image",description:"Display a tiny image preview",circle:"Circle",circle_label:"Display as a circle"},labels:{labels:"Labels",description:"Display either a single or a list of labels",default_foreground:"Default Foreground",default_background:"Default Background",format_label:"Format each label",show_as_dot:"Show As Dot",choices_value_placeholder:"Enter a value...",choices_text_placeholder:"Enter a text..."},"mime-type":{"mime-type":"MIME Type",description:"Show the MIME-Type of a file",extension_only:"Extension Only",extension_only_label:"Only show the file extension"},rating:{rating:"Rating",description:"Visualize a number as stars relative to the max-value",simple:"Simple",simple_label:"Show stars in a simple format"},raw:{raw:"Raw Value"},"related-values":{"related-values":"Related Values",description:"Display relative values"},user:{user:"User",description:"Display a directus user",avatar:"Avatar",name:"Name",both:"Both",circle_label:"Show user in a circle"}},layouts:{cards:{cards:"Cards",image_source:"Image Source",image_fit:"Image Fit",crop:"Crop",contain:"Contain",title:"Title",subtitle:"Subtitle"},tabular:{tabular:"Table",fields:"Fields",spacing:"Spacing",comfortable:"Comfortable",compact:"Compact",cozy:"Cozy"},calendar:{calendar:"Calendar",start_date_field:"Start Date Field",end_date_field:"End Date Field"},map:{map:"Map",basemap:"Basemap",layers:"Layers",edit_custom_layers:"Edit Layers",cluster_options:"Clustering options",cluster:"Cluster Nearby Data",cluster_radius:"Cluster radius",cluster_minpoints:"Cluster minimum size",cluster_maxzoom:"Maximum zoom for clustering",field:"Geometry",invalid_geometry:"Invalid geometry",auto_location_filter:"Auto-Filter within View",search_this_area:"Search this area",clear_data_filter:"Clear data filter",clear_location_filter:"Clear location filter",no_results_here:"No results in this area"}},panels:{metric:{name:"Metric",description:"Show a single value based on a query",field:"Field"},time_series:{name:"Time Series",description:"Render a line chart based on values over time",date_field:"Date Field",value_field:"Value Field"},label:{name:"Label",description:"Show some text"},list:{name:"List",description:"Filter and list fields from a collection"}}},Hr=$.identifier,Wr=$.avatar,Gr=$.default_provider,Jr=$.published,Qr=$.draft,Xr=$.archived,Zr=$.modules,Yr=$.module_bar,xr=$.tile_size,ed=$.edit_field,td=$.conditions,nd=$.maps,ld=$.item_creation,od=$.item_revision,ad=$.enter_a_name,id=$.duplicate_field,sd=$.half_width,rd=$.full_width,dd=$.group,ud=$.and,cd=$.or,pd=$.fill_width,md=$.field_name_translations,fd=$.enter_password_to_enable_tfa,vd=$.add_field,_d=$.role_name,yd=$.branch,gd=$.leaf,hd=$.indeterminate,bd=$.edit_collection,$d=$.exclusive,wd=$.children,kd=$.db_only_click_to_configure,Cd=$.show_archived_items,Sd=$.edited,Vd=$.required,Fd=$.required_for_app_access,Ad=$.requires_value,Id=$.create_preset,Ed=$.create_panel,Dd=$.create_role,Td=$.create_user,Pd=$.delete_panel,Ld=$.create_webhook,Od=$.invite_users,jd=$.invite,Rd=$.email_already_invited,Md=$.emails,Ud=$.connection_excellent,Nd=$.connection_good,Bd=$.connection_fair,qd=$.connection_poor,zd=$.primary,Kd=$.rename_folder,Hd=$.delete_folder,Wd=$.prefix,Gd=$.suffix,Jd=$.reset_bookmark,Qd=$.rename_bookmark,Xd=$.update_bookmark,Zd=$.delete_bookmark,Yd=$.delete_bookmark_copy,xd=$.logoutReason,eu=$.public_label,tu=$.public_description,nu=$.not_allowed,lu=$.directus_version,ou=$.node_version,au=$.node_uptime,iu=$.os_type,su=$.os_version,ru=$.os_uptime,du=$.os_totalmem,uu=$.archive,cu=$.archive_confirm,pu=$.archive_confirm_count,mu=$.reset_system_permissions_to,fu=$.reset_system_permissions_copy,vu=$.the_following_are_minimum_permissions,_u=$.app_access_minimum,yu=$.recommended_defaults,gu=$.unarchive,hu=$.unarchive_confirm,bu=$.nested_files_folders_will_be_moved,$u=$.unknown_validation_errors,wu=$.validationError,ku=$.all_access,Cu=$.no_access,Su=$.use_custom,Vu=$.nullable,Fu=$.allow_null_value,Au=$.allow_multiple,Iu=$.allow_multiple_to_be_open,Eu=$.enter_value_to_replace_nulls,Du=$.field_standard,Tu=$.field_presentation,Pu=$.field_file,Lu=$.field_files,Ou=$.field_m2o,ju=$.field_m2a,Ru=$.field_o2m,Mu=$.field_m2m,Uu=$.field_translations,Nu=$.field_group,Bu=$.item_permissions,qu=$.field_permissions,zu=$.field_validation,Ku=$.field_presets,Hu=$.permissions_for_role,Wu=$.fields_for_role,Gu=$.validation_for_role,Ju=$.presets_for_role,Qu=$.presentation_and_aliases,Xu=$.revision_post_create,Zu=$.revision_post_update,Yu=$.changes_made,xu=$.no_relational_data,ec=$.hide_field_on_detail,tc=$.show_field_on_detail,nc=$.delete_field,lc=$.fields_and_layout,oc=$.field_create_success,ac=$.field_update_success,ic=$.duplicate_where_to,sc=$.language,rc=$.aggregate_function,dc=$.aggregate_precision,uc=$.group_aggregation,cc=$.group_precision,pc=$.global,mc=$.admins_have_all_permissions,fc=$.camera,vc=$.show_zero,_c=$.create_in_advanced_field_creation_mode,yc=$.continue_in_advanced_field_creation_mode,gc=$.sum,hc=$.sum_distinct,bc=$.avg,$c=$.avg_distinct,wc=$.count,kc=$.count_distinct,Cc=$.min,Sc=$.max,Vc=$.exposure,Fc=$.shutter,Ac=$.iso,Ic=$.focal_length,Ec=$.schema_setup_key,Dc=$.create_field,Tc=$.creating_new_field,Pc=$.field_in_collection,Lc=$.reset_page_preferences,Oc=$.hidden_field,jc=$.hidden_on_detail,Rc=$.disabled_editing_value,Mc=$.key,Uc=$.alias,Nc=$.bigInteger,Bc=$.boolean,qc=$.date,zc=$.date_range,Kc=$.datetime,Hc=$.dateTime,Wc=$.precision,Gc=$.decimal,Jc=$.float,Qc=$.integer,Xc=$.json,Zc=$.xml,Yc=$.string,xc=$.text,ep=$.time,tp=$.timestamp,np=$.uuid,lp=$.hash,op=$.geometry,ap=$.not_available_for_type,ip=$.create_translations,sp=$.auto_refresh,rp=$.refresh_interval,dp=$.no_refresh,up=$.refresh_interval_seconds,cp=$.refresh_interval_minutes,pp=$.auto_generate,mp=$.this_will_auto_setup_fields_relations,fp=$.click_here,vp=$.to_manually_setup_translations,_p=$.click_to_manage_translated_fields,yp=$.fields_group,gp=$.no_collections_found,hp=$.new_data_alert,bp=$.search_collection,$p=$.new_field,wp=$.new_collection,kp=$.add_m2o_to_collection,Cp=$.add_o2m_to_collection,Sp=$.add_m2m_to_collection,Vp=$.choose_a_type,Fp=$.determined_by_relationship,Ap=$.add_note,Ip=$.add_link,Ep=$.custom_link,Dp=$.default_value,Tp=$.standard_field,Pp=$.single_file,Lp=$.multiple_files,Op=$.m2o_relationship,jp=$.o2m_relationship,Rp=$.m2m_relationship,Mp=$.m2a_relationship,Up=$.invalid_item,Np=$.next,Bp=$.field_name,qp=$.translations,zp=$.no_translations,Kp=$.note,Hp=$.enter_a_value,Wp=$.enter_a_placeholder,Gp=$.length,Jp=$.precision_scale,Qp=$.readonly,Xp=$.unique,Zp=$.updated_on,Yp=$.updated_by,xp=$.primary_key,em=$.foreign_key,tm=$.finish_setup,nm=$.dismiss,lm=$.raw_value,om=$.edit_raw_value,am=$.enter_raw_value,im=$.clear_value,sm=$.clear_changes,rm=$.reset_to_default,dm=$.undo_changes,um=$.notifications,cm=$.show_all_activity,pm=$.page_not_found,mm=$.page_not_found_body,fm=$.confirm_revert,vm=$.confirm_revert_body,_m=$.display,ym=$.settings_update_success,gm=$.title,hm=$.revision_delta_created,bm=$.revision_delta_created_externally,$m=$.revision_delta_updated,wm=$.revision_delta_deleted,km=$.revision_delta_reverted,Cm=$.revision_delta_other,Sm=$.revision_delta_by,Vm=$.private_user,Fm=$.creation_preview,Am=$.revision_preview,Im=$.updates_made,Em=$.leave_comment,Dm=$.post_comment_success,Tm=$.item_create_success,Pm=$.item_update_success,Lm=$.item_delete_success,Om=$.this_collection,jm=$.related_collection,Rm=$.related_collections,Mm=$.translations_collection,Um=$.languages_collection,Nm=$.export_data,Bm=$.format,qm=$.use_current_filters_settings,zm=$.export_collection,Km=$.last_page,Hm=$.last_access,Wm=$.fill_template,Gm=$.a_unique_table_name,Jm=$.a_unique_column_name,Qm=$.enable_custom_values,Xm=$.submit,Zm=$.move_to_folder,Ym=$.move,xm=$.system,ef=$.add_field_related,tf=$.interface_label,nf=$.today,lf=$.yesterday,of=$.delete_comment,af=$.minutes,sf=$.hours,rf=$.month,df=$.year,uf=$.select_all,cf=$.months,pf=$.drag_mode,mf=$.cancel_crop,ff=$.original,vf=$.url,_f=$.import_label,yf=$.file_details,gf=$.dimensions,hf=$.size,bf=$.created,$f=$.modified,wf=$.checksum,kf=$.owner,Cf=$.edited_by,Sf=$.folder,Vf=$.zoom,Ff=$.download,Af=$.open,If=$.open_in_new_window,Ef=$.open_folder,Df=$.foreground_color,Tf=$.background_color,Pf=$.upload_from_device,Lf=$.choose_from_library,Of=$.import_from_url,jf=$.replace_from_device,Rf=$.replace_from_library,Mf=$.replace_from_url,Uf=$.no_file_selected,Nf=$.download_file,Bf=$.collection_key,qf=$.name,zf=$.primary_key_field,Kf=$.type,Hf=$.creating_new_collection,Wf=$.created_by,Gf=$.created_on,Jf=$.creating_collection_info,Qf=$.creating_collection_system,Xf=$.auto_increment_integer,Zf=$.generated_uuid,Yf=$.manual_string,xf=$.save_and_create_new,ev=$.save_and_stay,tv=$.save_as_copy,nv=$.add_existing,lv=$.creating_items,ov=$.enable_create_button,av=$.selecting_items,iv=$.enable_select_button,sv=$.comments,rv=$.no_comments,dv=$.click_to_expand,uv=$.select_item,cv=$.no_items,pv=$.search_items,mv=$.disabled,fv=$.information,vv=$.report_bug,_v=$.request_feature,yv=$.interface_not_found,gv=$.reset_interface,hv=$.display_not_found,bv=$.reset_display,$v=$.item_count,wv=$.no_items_copy,kv=$.file_count,Cv=$.no_files_copy,Sv=$.user_count,Vv=$.no_users_copy,Fv=$.webhooks_count,Av=$.no_webhooks_copy,Iv=$.all_items,Ev=$.any,Dv=$.csv,Tv=$.no_collections,Pv=$.create_collection,Lv=$.no_collections_copy_admin,Ov=$.no_collections_copy,jv=$.relationship_not_setup,Rv=$.display_template_not_setup,Mv=$.collection_field_not_setup,Uv=$.select_a_collection,Nv=$.select_a_field,Bv=$.active,qv=$.move_to,zv=$.copy,Kv=$.copy_to,Hv=$.no_other_dashboards_copy,Wv=$.inactive,Gv=$.users,Jv=$.activity,Qv=$.activity_item,Xv=$.action,Zv=$.ip_address,Yv=$.user_agent,xv=$.webhooks,e_=$.decimals,t_=$.value_decimals,n_=$.min_value,l_=$.max_value,o_=$.automatic,a_=$.field_width,i_=$.add_filter,s_=$.upper_limit,r_=$.lower_limit,d_=$.user_directory,u_=$.documentation,c_=$.sidebar,p_=$.duration,m_=$.charset,f_=$.second,v_=$.file_moved,__=$.collection_created,y_=$.modified_on,g_=$.card_size,h_=$.sort_field,b_=$.add_sort_field,$_=$.sort,w_=$.status,k_=$.remove,C_=$.toggle_manual_sorting,S_=$.bookmark_doesnt_exist,V_=$.bookmark_doesnt_exist_copy,F_=$.bookmark_doesnt_exist_cta,A_=$.select_an_item,I_=$.edit,E_=$.enabled,D_=$.disable_tfa,T_=$.tfa_scan_code,P_=$.enter_otp_to_disable_tfa,L_=$.create_account,O_=$.account_created_successfully,j_=$.auto_fill,R_=$.corresponding_field,M_=$.errors,U_=$.security,N_=$.value_hashed,B_=$.bookmark_name,q_=$.create_bookmark,z_=$.edit_bookmark,K_=$.bookmarks,H_=$.presets,W_=$.unexpected_error,G_=$.unexpected_error_copy,J_=$.copy_details,Q_=$.no_app_access,X_=$.no_app_access_copy,Z_=$.password_reset_sent,Y_=$.password_reset_successful,x_=$.back,ey=$.filter,ty=$.editing_image,ny=$.square,ly=$.free,oy=$.flip_horizontal,ay=$.flip_vertical,iy=$.aspect_ratio,sy=$.rotate,ry=$.all_users,dy=$.delete_collection,uy=$.update_collection_success,cy=$.delete_collection_success,py=$.make_collection_visible,my=$.make_collection_hidden,fy=$.start_end_of_count_items,vy=$.start_end_of_count_filtered_items,_y=$.one_item,yy=$.one_filtered_item,gy=$.delete_collection_are_you_sure,hy=$.collections_shown,by=$.visible_collections,$y=$.hidden_collections,wy=$.show_hidden_collections,ky=$.hide_hidden_collections,Cy=$.show_header,Sy=$.unmanaged_collections,Vy=$.system_collections,Fy=$.placeholder,Ay=$.icon_left,Iy=$.icon_right,Ey=$.count_other_revisions,Dy=$.font,Ty=$.sans_serif,Py=$.serif,Ly=$.monospace,Oy=$.divider,jy=$.color,Ry=$.circle,My=$.empty_item,Uy=$.log_in_with,Ny=$.conditional_styles,By=$.advanced_settings,qy=$.advanced_filter,zy=$.delete_advanced_filter,Ky=$.change_advanced_filter_operator,Hy=$.operators,Wy=$.loading,Gy=$.drop_to_upload,Jy=$.item,Qy=$.items,Xy=$.upload_file,Zy=$.upload_file_indeterminate,Yy=$.upload_file_success,xy=$.upload_files_indeterminate,eg=$.upload_files_success,tg=$.upload_pending,ng=$.drag_file_here,lg=$.click_to_browse,og=$.interface_options,ag=$.layout_options,ig=$.rows,sg=$.columns,rg=$.collection_setup,dg=$.optional_system_fields,ug=$.value_unique,cg=$.all_activity,pg=$.create_item,mg=$.display_template,fg=$.language_display_template,vg=$.translations_display_template,_g=$.n_items_selected,yg=$.per_page,gg=$.all_files,hg=$.my_files,bg=$.recent_files,$g=$.create_folder,wg=$.edit_folder,kg=$.folder_name,Cg=$.folder_key,Sg=$.add_file,Vg=$.replace_file,Fg=$.no_results,Ag=$.no_results_copy,Ig=$.clear_filters,Eg=$.saves_automatically,Dg=$.role,Tg=$.rule,Pg=$.user,Lg=$.no_presets,Og=$.no_presets_copy,jg=$.no_presets_cta,Rg=$.presets_only,Mg=$.create,Ug=$.on_create,Ng=$.on_update,Bg=$.read,qg=$.update,zg=$.select_fields,Kg=$.format_text,Hg=$.format_value,Wg=$.abbreviate_value,Gg=$.operator,Jg=$.bold,Qg=$.toggle,Xg=$.icon_on,Zg=$.icon_off,Yg=$.label,xg=$.insights,eh=$.dashboard,th=$.panel,nh=$.panel_options,lh=$.panel_header,oh=$.panel_name_placeholder,ah=$.panel_note_placeholder,ih=$.panel_delete_confirm,sh=$.dashboard_delete_confirm,rh=$.edit_dashboard,dh=$.delete_dashboard,uh=$.visible,ch=$.prefix_placeholder,ph=$.suffix_placeholder,mh=$.decimals_placeholder,fh=$.no_dashboards,vh=$.no_dashboards_copy,_h=$.no_data,yh=$.create_dashboard,gh=$.dashboard_name,hh=$.full_screen,bh=$.edit_panels,$h=$.fit_to_screen,wh=$.image_url,kh=$.alt_text,Ch=$.media,Sh=$.quality,Vh=$.width,Fh=$.height,Ah=$.source,Ih=$.url_placeholder,Eh=$.display_text,Dh=$.display_text_placeholder,Th=$.interface_group_text_and_numbers,Ph=$.interface_group_selection,Lh=$.interface_group_relational,Oh=$.interface_group_presentation,jh=$.interface_group_groups,Rh=$.interface_group_other,Mh=$.tooltip,Uh=$.tooltip_placeholder,Nh=$.unlimited,Bh=$.open_link_in,qh=$.new_tab,zh=$.current_tab,Kh=$.wysiwyg_options,Hh=$.dropdown,Wh=$.choices,Gh=$.choices_option_configured_incorrectly,Jh=$.deselect,Qh=$.deselect_all,Xh=$.other,Zh=$.adding_user,Yh=$.unknown_user,xh=$.creating_in,eb=$.editing_in,tb=$.creating_unit,nb=$.editing_unit,lb=$.editing_in_batch,ob=$.no_options_available,ab=$.settings_data_model,ib=$.settings_permissions,sb=$.settings_project,rb=$.settings_webhooks,db=$.settings_presets,ub=$.one_or_more_options_are_missing,cb=$.scope,pb=$.select,mb=$.layout,fb=$.tree_view,vb=$.changes_are_permanent,_b=$.preset_name_placeholder,yb=$.preset_search_placeholder,gb=$.editing_preset,hb=$.layout_preview,bb=$.layout_setup,$b=$.unsaved_changes,wb=$.unsaved_changes_copy,kb=$.discard_changes,Cb=$.discard_changes_copy,Sb=$.show_x_axis,Vb=$.show_y_axis,Fb=$.keep_editing,Ab=$.page_help_collections_overview,Ib=$.page_help_collections_collection,Eb=$.page_help_collections_item,Db=$.page_help_activity_collection,Tb=$.page_help_docs_global,Pb=$.page_help_files_collection,Lb=$.page_help_files_item,Ob=$.page_help_settings_project,jb=$.page_help_settings_datamodel_collections,Rb=$.page_help_settings_datamodel_fields,Mb=$.page_help_settings_roles_collection,Ub=$.page_help_settings_roles_item,Nb=$.page_help_settings_presets_collection,Bb=$.page_help_settings_presets_item,qb=$.page_help_settings_webhooks_collection,zb=$.page_help_settings_webhooks_item,Kb=$.page_help_users_collection,Hb=$.page_help_users_item,Wb=$.page_help_insights_overview,Gb=$.page_help_insights_dashboard,Jb=$.activity_feed,Qb=$.add_new,Xb=$.create_new,Zb=$.all,Yb=$.none,xb=$.no_layout_collection_selected_yet,e0=$.batch_delete_confirm,t0=$.cancel,n0=$.no_upscale,l0=$.collection,o0=$.collections,a0=$.singleton,i0=$.singleton_label,s0=$.system_fields_locked,r0=$.directus_collection,d0=$.fields,u0=$.field_options,c0=$.no_fields_in_collection,p0=$.no_value,m0=$.do_nothing,f0=$.generate_and_save_uuid,v0=$.save_current_user_id,_0=$.save_current_user_role,y0=$.save_current_datetime,g0=$.always_open,h0=$.start_open,b0=$.start_collapsed,$0=$.block,w0=$.inline,k0=$.comment,C0=$.relational_triggers,S0=$.referential_action_field_label_m2o,V0=$.referential_action_field_label_o2m,F0=$.referential_action_no_action,A0=$.referential_action_cascade,I0=$.referential_action_set_null,E0=$.referential_action_set_default,D0=$.choose_action,T0=$.continue_label,P0=$.continue_as,L0=$.editing_role,O0=$.creating_webhook,j0=$.default_label,R0=$.delete_label,M0=$.delete_are_you_sure,U0=$.delete_field_are_you_sure,N0=$.description,B0=$.done,q0=$.duplicate,z0=$.limit,K0=$.email,H0=$.embed,W0=$.fallback_icon,G0=$.field,J0=$.file,Q0=$.file_library,X0=$.forgot_password,Z0=$.hidden,Y0=$.icon,x0=$.info,e1=$.normal,t1=$.success,n1=$.warning,l1=$.danger,o1=$.junction_collection,a1=$.latency,i1=$.login,s1=$.my_activity,r1=$.not_authenticated,d1=$.authenticated,u1=$.options,c1=$.otp,p1=$.password,m1=$.permissions,f1=$.relationship,v1=$.reset,_1=$.reset_password,y1=$.revisions,g1=$.revert,h1=$.save,b1=$.schema,$1=$.search,w1=$.select_existing,k1=$.select_field_type,C1=$.select_interface,S1=$.settings,V1=$.sign_in,F1=$.sign_out,A1=$.sign_out_confirm,I1=$.something_went_wrong,E1=$.sort_direction,D1=$.sort_asc,T1=$.sort_desc,P1=$.template,L1=$.require_value_to_be_set,O1=$.translation,j1=$.translation_placeholder,R1=$.value,M1=$.view_project,U1=$.weeks,N1=$.report_error,B1=$.start,q1=$.interfaces,z1=$.displays,K1=$.layouts,H1=$.panels,W1=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:$,identifier:Hr,avatar:Wr,default_provider:Gr,published:Jr,draft:Qr,archived:Xr,modules:Zr,module_bar:Yr,tile_size:xr,edit_field:ed,conditions:td,maps:nd,item_creation:ld,item_revision:od,enter_a_name:ad,duplicate_field:id,half_width:sd,full_width:rd,group:dd,and:ud,or:cd,fill_width:pd,field_name_translations:md,enter_password_to_enable_tfa:fd,add_field:vd,role_name:_d,branch:yd,leaf:gd,indeterminate:hd,edit_collection:bd,exclusive:$d,children:wd,db_only_click_to_configure:kd,show_archived_items:Cd,edited:Sd,required:Vd,required_for_app_access:Fd,requires_value:Ad,create_preset:Id,create_panel:Ed,create_role:Dd,create_user:Td,delete_panel:Pd,create_webhook:Ld,invite_users:Od,invite:jd,email_already_invited:Rd,emails:Md,connection_excellent:Ud,connection_good:Nd,connection_fair:Bd,connection_poor:qd,primary:zd,rename_folder:Kd,delete_folder:Hd,prefix:Wd,suffix:Gd,reset_bookmark:Jd,rename_bookmark:Qd,update_bookmark:Xd,delete_bookmark:Zd,delete_bookmark_copy:Yd,logoutReason:xd,public_label:eu,public_description:tu,not_allowed:nu,directus_version:lu,node_version:ou,node_uptime:au,os_type:iu,os_version:su,os_uptime:ru,os_totalmem:du,archive:uu,archive_confirm:cu,archive_confirm_count:pu,reset_system_permissions_to:mu,reset_system_permissions_copy:fu,the_following_are_minimum_permissions:vu,app_access_minimum:_u,recommended_defaults:yu,unarchive:gu,unarchive_confirm:hu,nested_files_folders_will_be_moved:bu,unknown_validation_errors:$u,validationError:wu,all_access:ku,no_access:Cu,use_custom:Su,nullable:Vu,allow_null_value:Fu,allow_multiple:Au,allow_multiple_to_be_open:Iu,enter_value_to_replace_nulls:Eu,field_standard:Du,field_presentation:Tu,field_file:Pu,field_files:Lu,field_m2o:Ou,field_m2a:ju,field_o2m:Ru,field_m2m:Mu,field_translations:Uu,field_group:Nu,item_permissions:Bu,field_permissions:qu,field_validation:zu,field_presets:Ku,permissions_for_role:Hu,fields_for_role:Wu,validation_for_role:Gu,presets_for_role:Ju,presentation_and_aliases:Qu,revision_post_create:Xu,revision_post_update:Zu,changes_made:Yu,no_relational_data:xu,hide_field_on_detail:ec,show_field_on_detail:tc,delete_field:nc,fields_and_layout:lc,field_create_success:oc,field_update_success:ac,duplicate_where_to:ic,language:sc,aggregate_function:rc,aggregate_precision:dc,group_aggregation:uc,group_precision:cc,global:pc,admins_have_all_permissions:mc,camera:fc,show_zero:vc,create_in_advanced_field_creation_mode:_c,continue_in_advanced_field_creation_mode:yc,sum:gc,sum_distinct:hc,avg:bc,avg_distinct:$c,count:wc,count_distinct:kc,min:Cc,max:Sc,exposure:Vc,shutter:Fc,iso:Ac,focal_length:Ic,schema_setup_key:Ec,create_field:Dc,creating_new_field:Tc,field_in_collection:Pc,reset_page_preferences:Lc,hidden_field:Oc,hidden_on_detail:jc,disabled_editing_value:Rc,key:Mc,alias:Uc,bigInteger:Nc,boolean:Bc,date:qc,date_range:zc,datetime:Kc,dateTime:Hc,precision:Wc,decimal:Gc,float:Jc,integer:Qc,json:Xc,xml:Zc,string:Yc,text:xc,time:ep,timestamp:tp,uuid:np,hash:lp,geometry:op,not_available_for_type:ap,create_translations:ip,auto_refresh:sp,refresh_interval:rp,no_refresh:dp,refresh_interval_seconds:up,refresh_interval_minutes:cp,auto_generate:pp,this_will_auto_setup_fields_relations:mp,click_here:fp,to_manually_setup_translations:vp,click_to_manage_translated_fields:_p,fields_group:yp,no_collections_found:gp,new_data_alert:hp,search_collection:bp,new_field:$p,new_collection:wp,add_m2o_to_collection:kp,add_o2m_to_collection:Cp,add_m2m_to_collection:Sp,choose_a_type:Vp,determined_by_relationship:Fp,add_note:Ap,add_link:Ip,custom_link:Ep,default_value:Dp,standard_field:Tp,single_file:Pp,multiple_files:Lp,m2o_relationship:Op,o2m_relationship:jp,m2m_relationship:Rp,m2a_relationship:Mp,invalid_item:Up,next:Np,field_name:Bp,translations:qp,no_translations:zp,note:Kp,enter_a_value:Hp,enter_a_placeholder:Wp,length:Gp,precision_scale:Jp,readonly:Qp,unique:Xp,updated_on:Zp,updated_by:Yp,primary_key:xp,foreign_key:em,finish_setup:tm,dismiss:nm,raw_value:lm,edit_raw_value:om,enter_raw_value:am,clear_value:im,clear_changes:sm,reset_to_default:rm,undo_changes:dm,notifications:um,show_all_activity:cm,page_not_found:pm,page_not_found_body:mm,confirm_revert:fm,confirm_revert_body:vm,display:_m,settings_update_success:ym,title:gm,revision_delta_created:hm,revision_delta_created_externally:bm,revision_delta_updated:$m,revision_delta_deleted:wm,revision_delta_reverted:km,revision_delta_other:Cm,revision_delta_by:Sm,private_user:Vm,creation_preview:Fm,revision_preview:Am,updates_made:Im,leave_comment:Em,post_comment_success:Dm,item_create_success:Tm,item_update_success:Pm,item_delete_success:Lm,this_collection:Om,related_collection:jm,related_collections:Rm,translations_collection:Mm,languages_collection:Um,export_data:Nm,format:Bm,use_current_filters_settings:qm,export_collection:zm,last_page:Km,last_access:Hm,fill_template:Wm,a_unique_table_name:Gm,a_unique_column_name:Jm,enable_custom_values:Qm,submit:Xm,move_to_folder:Zm,move:Ym,system:xm,add_field_related:ef,interface_label:tf,today:nf,yesterday:lf,delete_comment:of,minutes:af,hours:sf,month:rf,year:df,select_all:uf,months:cf,drag_mode:pf,cancel_crop:mf,original:ff,url:vf,import_label:_f,file_details:yf,dimensions:gf,size:hf,created:bf,modified:$f,checksum:wf,owner:kf,edited_by:Cf,folder:Sf,zoom:Vf,download:Ff,open:Af,open_in_new_window:If,open_folder:Ef,foreground_color:Df,background_color:Tf,upload_from_device:Pf,choose_from_library:Lf,import_from_url:Of,replace_from_device:jf,replace_from_library:Rf,replace_from_url:Mf,no_file_selected:Uf,download_file:Nf,collection_key:Bf,name:qf,primary_key_field:zf,type:Kf,creating_new_collection:Hf,created_by:Wf,created_on:Gf,creating_collection_info:Jf,creating_collection_system:Qf,auto_increment_integer:Xf,generated_uuid:Zf,manual_string:Yf,save_and_create_new:xf,save_and_stay:ev,save_as_copy:tv,add_existing:nv,creating_items:lv,enable_create_button:ov,selecting_items:av,enable_select_button:iv,comments:sv,no_comments:rv,click_to_expand:dv,select_item:uv,no_items:cv,search_items:pv,disabled:mv,information:fv,report_bug:vv,request_feature:_v,interface_not_found:yv,reset_interface:gv,display_not_found:hv,reset_display:bv,item_count:$v,no_items_copy:wv,file_count:kv,no_files_copy:Cv,user_count:Sv,no_users_copy:Vv,webhooks_count:Fv,no_webhooks_copy:Av,all_items:Iv,any:Ev,csv:Dv,no_collections:Tv,create_collection:Pv,no_collections_copy_admin:Lv,no_collections_copy:Ov,relationship_not_setup:jv,display_template_not_setup:Rv,collection_field_not_setup:Mv,select_a_collection:Uv,select_a_field:Nv,active:Bv,move_to:qv,copy:zv,copy_to:Kv,no_other_dashboards_copy:Hv,inactive:Wv,users:Gv,activity:Jv,activity_item:Qv,action:Xv,ip_address:Zv,user_agent:Yv,webhooks:xv,decimals:e_,value_decimals:t_,min_value:n_,max_value:l_,automatic:o_,field_width:a_,add_filter:i_,upper_limit:s_,lower_limit:r_,user_directory:d_,documentation:u_,sidebar:c_,duration:p_,charset:m_,second:f_,file_moved:v_,collection_created:__,modified_on:y_,card_size:g_,sort_field:h_,add_sort_field:b_,sort:$_,status:w_,remove:k_,toggle_manual_sorting:C_,bookmark_doesnt_exist:S_,bookmark_doesnt_exist_copy:V_,bookmark_doesnt_exist_cta:F_,select_an_item:A_,edit:I_,enabled:E_,disable_tfa:D_,tfa_scan_code:T_,enter_otp_to_disable_tfa:P_,create_account:L_,account_created_successfully:O_,auto_fill:j_,corresponding_field:R_,errors:M_,security:U_,value_hashed:N_,bookmark_name:B_,create_bookmark:q_,edit_bookmark:z_,bookmarks:K_,presets:H_,unexpected_error:W_,unexpected_error_copy:G_,copy_details:J_,no_app_access:Q_,no_app_access_copy:X_,password_reset_sent:Z_,password_reset_successful:Y_,back:x_,filter:ey,editing_image:ty,square:ny,free:ly,flip_horizontal:oy,flip_vertical:ay,aspect_ratio:iy,rotate:sy,all_users:ry,delete_collection:dy,update_collection_success:uy,delete_collection_success:cy,make_collection_visible:py,make_collection_hidden:my,start_end_of_count_items:fy,start_end_of_count_filtered_items:vy,one_item:_y,one_filtered_item:yy,delete_collection_are_you_sure:gy,collections_shown:hy,visible_collections:by,hidden_collections:$y,show_hidden_collections:wy,hide_hidden_collections:ky,show_header:Cy,unmanaged_collections:Sy,system_collections:Vy,placeholder:Fy,icon_left:Ay,icon_right:Iy,count_other_revisions:Ey,font:Dy,sans_serif:Ty,serif:Py,monospace:Ly,divider:Oy,color:jy,circle:Ry,empty_item:My,log_in_with:Uy,conditional_styles:Ny,advanced_settings:By,advanced_filter:qy,delete_advanced_filter:zy,change_advanced_filter_operator:Ky,operators:Hy,loading:Wy,drop_to_upload:Gy,item:Jy,items:Qy,upload_file:Xy,upload_file_indeterminate:Zy,upload_file_success:Yy,upload_files_indeterminate:xy,upload_files_success:eg,upload_pending:tg,drag_file_here:ng,click_to_browse:lg,interface_options:og,layout_options:ag,rows:ig,columns:sg,collection_setup:rg,optional_system_fields:dg,value_unique:ug,all_activity:cg,create_item:pg,display_template:mg,language_display_template:fg,translations_display_template:vg,n_items_selected:_g,per_page:yg,all_files:gg,my_files:hg,recent_files:bg,create_folder:$g,edit_folder:wg,folder_name:kg,folder_key:Cg,add_file:Sg,replace_file:Vg,no_results:Fg,no_results_copy:Ag,clear_filters:Ig,saves_automatically:Eg,role:Dg,rule:Tg,user:Pg,no_presets:Lg,no_presets_copy:Og,no_presets_cta:jg,presets_only:Rg,create:Mg,on_create:Ug,on_update:Ng,read:Bg,update:qg,select_fields:zg,format_text:Kg,format_value:Hg,abbreviate_value:Wg,operator:Gg,bold:Jg,toggle:Qg,icon_on:Xg,icon_off:Zg,label:Yg,insights:xg,dashboard:eh,panel:th,panel_options:nh,panel_header:lh,panel_name_placeholder:oh,panel_note_placeholder:ah,panel_delete_confirm:ih,dashboard_delete_confirm:sh,edit_dashboard:rh,delete_dashboard:dh,visible:uh,prefix_placeholder:ch,suffix_placeholder:ph,decimals_placeholder:mh,no_dashboards:fh,no_dashboards_copy:vh,no_data:_h,create_dashboard:yh,dashboard_name:gh,full_screen:hh,edit_panels:bh,fit_to_screen:$h,image_url:wh,alt_text:kh,media:Ch,quality:Sh,width:Vh,height:Fh,source:Ah,url_placeholder:Ih,display_text:Eh,display_text_placeholder:Dh,interface_group_text_and_numbers:Th,interface_group_selection:Ph,interface_group_relational:Lh,interface_group_presentation:Oh,interface_group_groups:jh,interface_group_other:Rh,tooltip:Mh,tooltip_placeholder:Uh,unlimited:Nh,open_link_in:Bh,new_tab:qh,current_tab:zh,wysiwyg_options:Kh,dropdown:Hh,choices:Wh,choices_option_configured_incorrectly:Gh,deselect:Jh,deselect_all:Qh,other:Xh,adding_user:Zh,unknown_user:Yh,creating_in:xh,editing_in:eb,creating_unit:tb,editing_unit:nb,editing_in_batch:lb,no_options_available:ob,settings_data_model:ab,settings_permissions:ib,settings_project:sb,settings_webhooks:rb,settings_presets:db,one_or_more_options_are_missing:ub,scope:cb,select:pb,layout:mb,tree_view:fb,changes_are_permanent:vb,preset_name_placeholder:_b,preset_search_placeholder:yb,editing_preset:gb,layout_preview:hb,layout_setup:bb,unsaved_changes:$b,unsaved_changes_copy:wb,discard_changes:kb,discard_changes_copy:Cb,show_x_axis:Sb,show_y_axis:Vb,keep_editing:Fb,page_help_collections_overview:Ab,page_help_collections_collection:Ib,page_help_collections_item:Eb,page_help_activity_collection:Db,page_help_docs_global:Tb,page_help_files_collection:Pb,page_help_files_item:Lb,page_help_settings_project:Ob,page_help_settings_datamodel_collections:jb,page_help_settings_datamodel_fields:Rb,page_help_settings_roles_collection:Mb,page_help_settings_roles_item:Ub,page_help_settings_presets_collection:Nb,page_help_settings_presets_item:Bb,page_help_settings_webhooks_collection:qb,page_help_settings_webhooks_item:zb,page_help_users_collection:Kb,page_help_users_item:Hb,page_help_insights_overview:Wb,page_help_insights_dashboard:Gb,activity_feed:Jb,add_new:Qb,create_new:Xb,all:Zb,none:Yb,no_layout_collection_selected_yet:xb,batch_delete_confirm:e0,cancel:t0,no_upscale:n0,collection:l0,collections:o0,singleton:a0,singleton_label:i0,system_fields_locked:s0,directus_collection:r0,fields:d0,field_options:u0,no_fields_in_collection:c0,no_value:p0,do_nothing:m0,generate_and_save_uuid:f0,save_current_user_id:v0,save_current_user_role:_0,save_current_datetime:y0,always_open:g0,start_open:h0,start_collapsed:b0,block:$0,inline:w0,comment:k0,relational_triggers:C0,referential_action_field_label_m2o:S0,referential_action_field_label_o2m:V0,referential_action_no_action:F0,referential_action_cascade:A0,referential_action_set_null:I0,referential_action_set_default:E0,choose_action:D0,continue_label:T0,continue_as:P0,editing_role:L0,creating_webhook:O0,default_label:j0,delete_label:R0,delete_are_you_sure:M0,delete_field_are_you_sure:U0,description:N0,done:B0,duplicate:q0,limit:z0,email:K0,embed:H0,fallback_icon:W0,field:G0,file:J0,file_library:Q0,forgot_password:X0,hidden:Z0,icon:Y0,info:x0,normal:e1,success:t1,warning:n1,danger:l1,junction_collection:o1,latency:a1,login:i1,my_activity:s1,not_authenticated:r1,authenticated:d1,options:u1,otp:c1,password:p1,permissions:m1,relationship:f1,reset:v1,reset_password:_1,revisions:y1,revert:g1,save:h1,schema:b1,search:$1,select_existing:w1,select_field_type:k1,select_interface:C1,settings:S1,sign_in:V1,sign_out:F1,sign_out_confirm:A1,something_went_wrong:I1,sort_direction:E1,sort_asc:D1,sort_desc:T1,template:P1,require_value_to_be_set:L1,translation:O1,translation_placeholder:j1,value:R1,view_project:M1,weeks:U1,report_error:N1,start:B1,interfaces:q1,displays:z1,layouts:K1,panels:H1});const qe=ss({legacy:!1,locale:"en-US",fallbackLocale:"en-US",messages:{"en-US":$},silentTranslationWarn:!0,datetimeFormats:zr,numberFormats:Kr}),da=["en-US"];function Wt(e){var u,o,i,d,p;const t=qe.global.t("unexpected_error");let l=e;if(typeof e=="object"&&(l=(p=(d=(i=(o=(u=e==null?void 0:e.response)==null?void 0:u.data)==null?void 0:o.errors)==null?void 0:i[0])==null?void 0:d.extensions)==null?void 0:p.code),!e||!l===void 0)return t;const n=`errors.${l}`;return qe.global.te(n)===!1?t:qe.global.t(n)}function Ft(e){const t=M.exports.cloneDeep(e);return Object.entries(t).forEach(([l,n])=>{n&&typeof n=="object"&&(t[l]=Ft(n)),n&&typeof n=="string"&&n.startsWith("$t:")&&(t[l]=qe.global.t(n.replace("$t:","")))}),t}var ua={"af-ZA":"Afrikaans (South Africa)","ar-SA":"Arabic (Saudi Arabia)","bn-IN":"Bengali (India)","br-FR":"Breton (France)","bg-BG":"Bulgarian (Bulgaria)","ca-ES":"Catalan (Spain)","zh-CN":"Chinese (Simplified)","cs-CZ":"Czech (Czech Republic)","da-DK":"Danish (Denmark)","nl-NL":"Dutch (Netherlands)","en-US":"English (United States)","et-EE":"Estonian (Estonia)","fi-FI":"Finnish (Finland)","fr-FR":"French (France)","ka-GE":"Georgian (Georgia)","de-DE":"German (Germany)","el-GR":"Greek (Greece)","he-IL":"Hebrew (Israel)","hi-IN":"Hindi (India)","hu-HU":"Hungarian (Hungary)","is-IS":"Icelandic (Iceland)","id-ID":"Indonesian (Indonesia)","it-IT":"Italian (Italy)","ja-JP":"Japanese (Japan)","ko-KR":"Korean (Korea)","lt-LT":"Lithuanian (Lithuania)","ms-MY":"Malay (Malaysia)","no-NO":"Norwegian (Norway)","fa-IR":"Farci (Iran)","pl-PL":"Polish (Poland)","pt-BR":"Portuguese (Brazil)","pt-PT":"Portuguese (Portugal)","ro-RO":"Romanian (Romania)","ru-RU":"Russian (Russian Federation)","sr-SP":"Serbian (Cyrillic) (Serbia and Montenegro)","sr-CS":"Serbian (Latin) (Serbia and Montenegro)","si-LK":"Sinhala (Sri Lanka)","sk-SK":"Slovak (Slovakia)","sl-SI":"Slovenian (Slovenia)","es-ES":"Spanish (Spain)","es-419":"Spanish (Latin America)","es-cl":"Spanish (Chile)","sv-SE":"Swedish (Sweden)","zh-TW":"Taiwanese Mandarin (Taiwan)","th-TH":"Thai (Thailand)","tr-TR":"Turkish (Turkey)","uk-UA":"Ukrainian (Ukraine)","vi-VN":"Vietnamese (Vietnam)"};function G1(e){switch(e){case"./translations/af-ZA.yaml":return j(()=>import("./assets/af-ZA.5bc87dbc.js"),[]);case"./translations/ar-SA.yaml":return j(()=>import("./assets/ar-SA.860d1d77.js"),[]);case"./translations/bg-BG.yaml":return j(()=>import("./assets/bg-BG.5cc489fe.js"),[]);case"./translations/bn-IN.yaml":return j(()=>import("./assets/bn-IN.4b03e908.js"),[]);case"./translations/br-FR.yaml":return j(()=>import("./assets/br-FR.4052e8cf.js"),[]);case"./translations/ca-ES.yaml":return j(()=>import("./assets/ca-ES.345260dc.js"),[]);case"./translations/cs-CZ.yaml":return j(()=>import("./assets/cs-CZ.d7386f11.js"),[]);case"./translations/da-DK.yaml":return j(()=>import("./assets/da-DK.0f81c484.js"),[]);case"./translations/de-DE.yaml":return j(()=>import("./assets/de-DE.c3c8875b.js"),[]);case"./translations/el-GR.yaml":return j(()=>import("./assets/el-GR.aed67eec.js"),[]);case"./translations/en-US.yaml":return j(()=>Promise.resolve().then(function(){return W1}),void 0);case"./translations/es-419.yaml":return j(()=>import("./assets/es-419.e48fc8e4.js"),[]);case"./translations/es-CL.yaml":return j(()=>import("./assets/es-CL.702f7901.js"),[]);case"./translations/es-ES.yaml":return j(()=>import("./assets/es-ES.3f206cd4.js"),[]);case"./translations/et-EE.yaml":return j(()=>import("./assets/et-EE.8e75a2f9.js"),[]);case"./translations/fa-IR.yaml":return j(()=>import("./assets/fa-IR.10a601f8.js"),[]);case"./translations/fi-FI.yaml":return j(()=>import("./assets/fi-FI.69fa5875.js"),[]);case"./translations/fr-FR.yaml":return j(()=>import("./assets/fr-FR.6ed449bf.js"),[]);case"./translations/he-IL.yaml":return j(()=>import("./assets/he-IL.26f18aa8.js"),[]);case"./translations/hi-IN.yaml":return j(()=>import("./assets/hi-IN.d224762a.js"),[]);case"./translations/hu-HU.yaml":return j(()=>import("./assets/hu-HU.dfee1b41.js"),[]);case"./translations/id-ID.yaml":return j(()=>import("./assets/id-ID.dbd87477.js"),[]);case"./translations/is-IS.yaml":return j(()=>import("./assets/is-IS.35706417.js"),[]);case"./translations/it-IT.yaml":return j(()=>import("./assets/it-IT.5037e3c6.js"),[]);case"./translations/ja-JP.yaml":return j(()=>import("./assets/ja-JP.a1973b18.js"),[]);case"./translations/ka-GE.yaml":return j(()=>import("./assets/ka-GE.eff8ef9c.js"),[]);case"./translations/ko-KR.yaml":return j(()=>import("./assets/ko-KR.735832c7.js"),[]);case"./translations/ku-TR.yaml":return j(()=>import("./assets/ku-TR.281a8d73.js"),[]);case"./translations/lt-LT.yaml":return j(()=>import("./assets/lt-LT.d08feb77.js"),[]);case"./translations/mn-MN.yaml":return j(()=>import("./assets/mn-MN.4a40eb3e.js"),[]);case"./translations/ms-MY.yaml":return j(()=>import("./assets/ms-MY.7729b3c2.js"),[]);case"./translations/nl-NL.yaml":return j(()=>import("./assets/nl-NL.a5123a56.js"),[]);case"./translations/no-NO.yaml":return j(()=>import("./assets/no-NO.2f342eff.js"),[]);case"./translations/pl-PL.yaml":return j(()=>import("./assets/pl-PL.dab4fb33.js"),[]);case"./translations/pt-BR.yaml":return j(()=>import("./assets/pt-BR.28b14312.js"),[]);case"./translations/pt-PT.yaml":return j(()=>import("./assets/pt-PT.62f3a1fb.js"),[]);case"./translations/ro-RO.yaml":return j(()=>import("./assets/ro-RO.5d125b41.js"),[]);case"./translations/ru-RU.yaml":return j(()=>import("./assets/ru-RU.d5479ce4.js"),[]);case"./translations/si-LK.yaml":return j(()=>import("./assets/si-LK.2e97c6ef.js"),[]);case"./translations/sk-SK.yaml":return j(()=>import("./assets/sk-SK.8e0ff1f5.js"),[]);case"./translations/sl-SI.yaml":return j(()=>import("./assets/sl-SI.a7bae658.js"),[]);case"./translations/sr-CS.yaml":return j(()=>import("./assets/sr-CS.800cddbc.js"),[]);case"./translations/sr-SP.yaml":return j(()=>import("./assets/sr-SP.2cb9f65c.js"),[]);case"./translations/sv-SE.yaml":return j(()=>import("./assets/sv-SE.d1d47530.js"),[]);case"./translations/th-TH.yaml":return j(()=>import("./assets/th-TH.50aef143.js"),[]);case"./translations/tr-TR.yaml":return j(()=>import("./assets/tr-TR.4ed0c151.js"),[]);case"./translations/uk-UA.yaml":return j(()=>import("./assets/uk-UA.7ce8bb3e.js"),[]);case"./translations/vi-VN.yaml":return j(()=>import("./assets/vi-VN.fbca0e2b.js"),[]);case"./translations/zh-CN.yaml":return j(()=>import("./assets/zh-CN.2fffb3f3.js"),[]);case"./translations/zh-TW.yaml":return j(()=>import("./assets/zh-TW.0b0eaf72.js"),[]);default:return new Promise(function(t,l){(typeof queueMicrotask=="function"?queueMicrotask:setTimeout)(l.bind(null,new Error("Unknown variable dynamic import: "+e)))})}}const{modules:J1,modulesRaw:Q1}=Jl(),{layouts:X1,layoutsRaw:Z1}=cn(),{interfaces:Y1,interfacesRaw:x1}=Ct(),{panels:e2,panelsRaw:t2}=yl(),{displays:n2,displaysRaw:l2}=tn();async function ca(e){const t=Ke(),l=Te();if(Object.keys(ua).includes(e)===!1)console.warn(`"${e}" is not an available language in the Directus app.`);else{if(da.includes(e)===!1)try{const{default:n}=await G1(`./translations/${e}.yaml`);qe.global.mergeLocaleMessage(e,n),da.push(e)}catch(n){console.warn(n)}qe.global.locale.value=e,document.querySelector("html").setAttribute("lang",e)}return J1.value=Ft(Q1.value),X1.value=Ft(Z1.value),Y1.value=Ft(x1.value),e2.value=Ft(t2.value),n2.value=Ft(l2.value),t.translateCollections(),l.translateFields(),!0}function o2(e,t){var l;e=M.exports.clone(e);const n=/^((?:-|\+)?\d*?\.?\d+?) *?(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|months?|mth|mo|years?|yrs?|y)?$/i.exec(t.trim());if(!n||!n[1])return;const s=parseFloat(n[1]);switch(((l=n[2])!==null&&l!==void 0?l:"days").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return vs(e,s);case"months":case"month":case"mth":case"mo":return fs(e,s);case"weeks":case"week":case"w":return ms(e,s);case"days":case"day":case"d":return ps(e,s);case"hours":case"hour":case"hrs":case"hr":case"h":return cs(e,s);case"minutes":case"minute":case"mins":case"min":case"m":return us(e,s);case"seconds":case"second":case"secs":case"sec":case"s":return ds(e,s);case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return rs(e,s);default:return}}function Bn(e,t,l){if(Array.isArray(e))return e.map(function(n,s){return M.exports.isObjectLike(n)?Bn(n,t,l):t.call(l,n,s)});if(M.exports.isObjectLike(e)){const n={};for(const s in e){const u=e[s];M.exports.isObjectLike(u)?n[s]=Bn(u,t,l):n[s]=t.call(l,u,s)}return n}else return e}function a2(e){return e.schema?"table":e.meta?"alias":"unknown"}function pa(e){switch(e){case"binary":case"hash":case"string":case"csv":return["contains","ncontains","starts_with","nstarts_with","ends_with","nends_with","eq","neq","empty","nempty","null","nnull","in","nin"];case"uuid":return["eq","neq","null","nnull","in","nin"];case"json":return["null","nnull"];case"boolean":return["eq","neq","null","nnull"];case"bigInteger":case"integer":case"decimal":case"float":return["eq","neq","lt","lte","gt","gte","between","nbetween","null","nnull","in","nin"];case"dateTime":case"date":case"time":return["eq","neq","null","nnull","lt","lte","gt","gte","between","nbetween","null","nnull","in","nin"];case"geometry":return["null","nnull","intersects","nintersects","intersects_bbox","nintersects_bbox"];default:return["contains","ncontains","eq","neq","lt","lte","gt","gte","between","nbetween","empty","nempty","null","nnull","in","nin"]}}const i2=["alias","bigInteger","boolean","date","dateTime","decimal","float","integer","json","string","text","time","timestamp","binary","uuid","hash","csv","geometry","unknown"],ma=["Point","LineString","Polygon","MultiPoint","MultiLineString","MultiPolygon"],s2=/\(([^)]+)\)/;function gl(e,t,l="and"){return e?t?{[`_${l}`]:[e,t]}:e:t}function hl(e){return typeof e=="string"?e.split(","):Array.isArray(e)?e:[e]}function r2(e,t){if(!e)return e;return Bn(e,l);function l(n,s){var u;if(n==="true")return!0;if(n==="false")return!1;if(n==="null"||n==="NULL")return null;if(["_in","_nin","_between","_nbetween"].includes(String(s)))return typeof n=="string"&&n.includes(",")?Bn(n.split(","),l):Bn(hl(n),l);if(n&&typeof n=="string"&&n.startsWith("$NOW")){if(n.includes("(")&&n.includes(")")){const o=(u=n.match(s2))===null||u===void 0?void 0:u[1];return o?o2(new Date,o):new Date}return new Date}return n==="$CURRENT_USER"?(t==null?void 0:t.user)||null:n==="$CURRENT_ROLE"?(t==null?void 0:t.role)||null:n}}function qn(e,t,l){const n=[];if(Object.keys(e)[0]==="_and"){const s=Object.values(e)[0],u=M.exports.flatten(s.map(o=>qn(o,t,l))).filter(o=>o);n.push(...u)}else if(Object.keys(e)[0]==="_or"){const s=Object.values(e)[0],u=M.exports.flatten(s.map(i=>qn(i,t,l)));s.length===u.length&&n.push(...u)}else{const s=Vr(e,l),{error:u}=s.validate(t,{abortEarly:!1});u&&n.push(u)}return n}function At(e){return e.first_name&&e.last_name?`${e.first_name} ${e.last_name}`:e.first_name?e.first_name:e.email?e.email:qe.global.t("unknown_user")}const Xe=St({id:"userStore",state:()=>({currentUser:null,loading:!1,error:null}),getters:{fullName(){return this.currentUser===null?null:At(this.currentUser)},isAdmin(){var e;return((e=this.currentUser)==null?void 0:e.role.admin_access)===!0||!1}},actions:{async hydrate(){this.loading=!0;try{const{data:e}=await pe.get("/users/me",{params:{fields:"*,avatar.id,role.*"}});this.currentUser=e.data}catch(e){this.error=e}finally{this.loading=!1}},async dehydrate(){this.$reset()},async trackPage(e){const t=To(),l=performance.now();await pe.patch("/users/me/track/page",{last_page:e});const n=performance.now();t.save({timestamp:new Date,latency:n-l}),this.currentUser&&(this.currentUser.last_page=e)}}});var N=(e,t)=>{for(const[l,n]of t)e[l]=n;return e};const d2=z({props:{filter:{type:Object,default:null}},emits:["update:filter"],setup(e,{emit:t}){const{t:l}=te(),n=Xe(),s=V(()=>{var p;return(p=n.currentUser)==null?void 0:p.id}),u=V(()=>{var p,f;return(f=Object.keys((p=e.filter)!=null?p:{})[0])!=null?f:null}),o=V(()=>{var p,f,v;return(v=(f=Object.values((p=e.filter)!=null?p:{})[0])==null?void 0:f._eq)!=null?v:null});return{t:l,currentUserID:s,setNavFilter:i,clearNavFilter:d,filterField:u,filterValue:o};function i(p,f){t("update:filter",{[p]:{_eq:f}})}function d(){t("update:filter",null)}}});function u2(e,t,l,n,s,u){const o=c("v-icon"),i=c("v-list-item-icon"),d=c("v-text-overflow"),p=c("v-list-item-content"),f=c("v-list-item"),v=c("v-divider"),y=c("v-list");return m(),S(y,{nav:""},{default:r(()=>[a(f,{clickable:"",active:!e.filterField,onClick:e.clearNavFilter},{default:r(()=>[a(i,null,{default:r(()=>[a(o,{name:"access_time"})]),_:1}),a(p,null,{default:r(()=>[a(d,{text:e.t("all_activity")},null,8,["text"])]),_:1})]),_:1},8,["active","onClick"]),a(f,{clickable:"",active:e.filterField==="user"&&e.filterValue===e.currentUserID,onClick:t[0]||(t[0]=_=>e.setNavFilter("user",e.currentUserID))},{default:r(()=>[a(i,null,{default:r(()=>[a(o,{name:"face"})]),_:1}),a(p,null,{default:r(()=>[a(d,{text:e.t("my_activity")},null,8,["text"])]),_:1})]),_:1},8,["active"]),a(v),a(f,{clickable:"",active:e.filterField==="action"&&e.filterValue==="create",onClick:t[1]||(t[1]=_=>e.setNavFilter("action","create"))},{default:r(()=>[a(i,null,{default:r(()=>[a(o,{name:"add"})]),_:1}),a(p,null,{default:r(()=>[a(d,{text:e.t("create")},null,8,["text"])]),_:1})]),_:1},8,["active"]),a(f,{clickable:"",active:e.filterField==="action"&&e.filterValue==="update",onClick:t[2]||(t[2]=_=>e.setNavFilter("action","update"))},{default:r(()=>[a(i,null,{default:r(()=>[a(o,{name:"check"})]),_:1}),a(p,null,{default:r(()=>[a(d,{text:e.t("update")},null,8,["text"])]),_:1})]),_:1},8,["active"]),a(f,{clickable:"",active:e.filterField==="action"&&e.filterValue==="delete",onClick:t[3]||(t[3]=_=>e.setNavFilter("action","delete"))},{default:r(()=>[a(i,null,{default:r(()=>[a(o,{name:"clear"})]),_:1}),a(p,null,{default:r(()=>[a(d,{text:e.t("delete_label")},null,8,["text"])]),_:1})]),_:1},8,["active"]),a(f,{clickable:"",active:e.filterField==="action"&&e.filterValue==="comment",onClick:t[4]||(t[4]=_=>e.setNavFilter("action","comment"))},{default:r(()=>[a(i,null,{default:r(()=>[a(o,{name:"chat_bubble_outline"})]),_:1}),a(p,null,{default:r(()=>[a(d,{text:e.t("comment")},null,8,["text"])]),_:1})]),_:1},8,["active"]),a(f,{clickable:"",active:e.filterField==="action"&&e.filterValue==="login",onClick:t[5]||(t[5]=_=>e.setNavFilter("action","login"))},{default:r(()=>[a(i,null,{default:r(()=>[a(o,{name:"login"})]),_:1}),a(p,null,{default:r(()=>[a(d,{text:e.t("login")},null,8,["text"])]),_:1})]),_:1},8,["active"])]),_:1})}var c2=N(d2,[["render",u2]]);function wn(e,t=E(null),l=!1){const n=Ln(),s=Xe(),u=E(!1),o=V(()=>t.value?!!n.getBookmark(t.value):!1),i=E({});O();const d=E(!0),p=V(()=>i.value.user===s.currentUser.id),f=async T=>{if(l)return;u.value=!0;const B=await n.savePreset(T||i.value);return i.value=ke(oe({},i.value),{id:B.id,user:B.user}),d.value=!0,u.value=!1,B},v=M.exports.debounce(async()=>{f()},450);function y(){if(o.value){const T=n.getBookmark(Number(t.value));d.value=M.exports.isEqual(i.value,T)}else v()}ye([e,t],()=>{O()});const _=V({get(){var T;return i.value.layout&&((T=i.value.layout_options)==null?void 0:T[i.value.layout])||null},set(T){if(!i.value.layout)return null;i.value=ke(oe({},i.value),{layout_options:ke(oe({},i.value.layout_options),{[i.value.layout]:T})}),y()}}),g=V({get(){var T;return i.value.layout&&((T=i.value.layout_query)==null?void 0:T[i.value.layout])||null},set(T){if(!i.value.layout)return null;i.value=ke(oe({},i.value),{layout_query:ke(oe({},i.value.layout_query),{[i.value.layout]:T})}),y()}}),w=V({get(){return i.value.layout||"tabular"},set(T){i.value=ke(oe({},i.value),{layout:T}),y()}}),h=V({get(){var T;return(T=i.value.filter)!=null?T:null},set(T){i.value=ke(oe({},i.value),{filter:T}),y()}}),k=V({get(){return i.value.refresh_interval||null},set(T){i.value=ke(oe({},i.value),{refresh_interval:T}),y()}}),F=V({get(){return i.value.search||null},set(T){i.value=ke(oe({},i.value),{search:T}),y()}}),A=V({get(){var T;return((T=i.value)==null?void 0:T.bookmark)||null},set(T){i.value=ke(oe({},i.value),{bookmark:T}),f()}});return{bookmarkExists:o,layout:w,layoutOptions:_,layoutQuery:g,filter:h,search:F,refreshInterval:k,savePreset:f,saveCurrentAsBookmark:U,bookmarkTitle:A,resetPreset:L,bookmarkSaved:d,bookmarkIsMine:p,busy:u,clearLocalSave:P,localPreset:i};function P(){const T=n.getBookmark(Number(t.value));T&&(i.value=oe({},T)),d.value=!0}async function L(){i.value=ke(oe({},i.value),{layout_query:null,layout_options:null,layout:"tabular",filter:null,search:null,refresh_interval:null}),await f()}function O(){if(t.value===null)i.value=oe({},n.getPresetForCollection(e.value));else{if(o.value===!1)return;i.value=oe({},n.getBookmark(Number(t.value)))}i.value.layout||(i.value=ke(oe({},i.value),{layout:"tabular"}))}async function U(T){const B=oe(oe({},i.value),T);return B.id&&delete B.id,B.user=s.currentUser.id,await f(B)}}const Ql="wrapper",fa=["selection","layoutOptions","layoutQuery"];function p2(e){return fa.includes(e)}function m2(e){return z({name:`${e.id}-${Ql}`,props:{collection:{type:String,required:!0},selection:{type:Array,default:()=>[]},layoutOptions:{type:Object,default:()=>({})},layoutQuery:{type:Object,default:()=>({})},filter:{type:Object,default:null},filterUser:{type:Object,default:null},filterSystem:{type:Object,default:null},search:{type:String,default:null},selectMode:{type:Boolean,default:!1},readonly:{type:Boolean,default:!1},resetPreset:{type:Function,default:null},clearFilters:{type:Function,default:null}},emits:fa.map(t=>`update:${t}`),setup(t,{emit:l}){const n=Yt(oe(oe({},e.setup(t,{emit:l})),Ue(t)));for(const s in n)n[`onUpdate:${s}`]=u=>{p2(s)?l(`update:${s}`,u):Object.keys(t).includes(s)||(n[s]=u)};return{state:n}},render(t){return t.$slots.default!==void 0?t.$slots.default({layoutState:t.state}):null}})}function pn(e){const{layouts:t}=cn(),l=V(()=>t.value.map(s=>m2(s)));return{layoutWrapper:V(()=>{const s=l.value.find(u=>u.name===`${e.value}-${Ql}`);return s===void 0?l.value.find(u=>u.name===`tabular-${Ql}`):s})}}const f2=z({props:{modelValue:{type:String,default:"tabular"}},emits:["update:modelValue"],setup(e,{emit:t}){const{t:l}=te(),{layouts:n}=cn(),s=V(()=>{const o=n.value.find(i=>i.id===e.modelValue);return o===void 0?n.value.find(i=>i.id==="tabular"):o}),u=Oe(e,"modelValue",t);return{t:l,currentLayout:s,layouts:n,layout:u}}}),v2={class:"layout-options"},_2={class:"field"},y2={class:"type-label"};function g2(e,t,l,n,s,u){const o=c("v-icon"),i=c("v-select"),d=c("sidebar-detail");return m(),S(d,{icon:"layers",title:e.t("layout_options")},{default:r(()=>[C("div",v2,[C("div",_2,[C("div",y2,b(e.t("layout")),1),a(i,{modelValue:e.layout,"onUpdate:modelValue":t[0]||(t[0]=p=>e.layout=p),items:e.layouts,"item-text":"name","item-value":"id","item-icon":"icon"},xe({_:2},[e.currentLayout.icon?{name:"prepend",fn:r(()=>[a(o,{name:e.currentLayout.icon},null,8,["name"])])}:void 0]),1032,["modelValue","items"])]),ge(e.$slots,"default",{},void 0,!0)])]),_:3},8,["title"])}var zn=N(f2,[["render",g2],["__scopeId","data-v-0abace7d"]]);const h2=z({props:{modelValue:{type:String,default:null},collection:{type:String,required:!0},filter:{type:Object,default:null}},emits:["update:modelValue","update:filter"],setup(e,{emit:t}){const{t:l}=te(),n=E(null),s=E(e.modelValue!==null),u=E(!1),o=E(!1);ye(s,y=>{y===!0&&n.value!==null&&n.value.focus()});const i=V(()=>{if(!e.filter)return 0;let y=[];return _(e.filter),y.length;function _(g){for(const[w,h]of Object.entries(g))w==="_and"||w==="_or"?h.forEach(_):w.startsWith("_")?y.push(w):M.exports.isObject(h)&&_(h)}}),d=M.exports.debounce(()=>v(),250);return{t:l,active:s,disable:f,input:n,emitValueDebounced:d,activeFilterCount:i,filterActive:u,onClickOutside:p,filterBorder:o};function p(y){return!(y.path||y.composedPath()).some(g=>{var w;return(w=g==null?void 0:g.classList)==null?void 0:w.contains("v-menu-content")})}function f(){s.value=!1,u.value=!1}function v(){var _;if(!n.value)return;const y=(_=n.value)==null?void 0:_.value;t("update:modelValue",y)}}}),b2=["value","placeholder"],$2={class:"filter"};function w2(e,t,l,n,s,u){const o=c("v-icon"),i=c("interface-system-filter"),d=c("transition-expand"),p=c("v-badge"),f=we("tooltip"),v=we("click-outside");return m(),S(p,{bottom:"",right:"",class:"search-badge",value:e.activeFilterCount,disabled:!e.activeFilterCount||e.filterActive},{default:r(()=>[ne(C("div",{class:ue(["search-input",{active:e.active,"filter-active":e.filterActive,"has-content":!!e.modelValue,"filter-border":e.filterBorder}]),onClick:t[7]||(t[7]=y=>e.active=!0)},[ne(a(o,{name:"search",class:"icon-search",clickable:!e.active},null,8,["clickable"]),[[f,e.active?null:e.t("search"),void 0,{bottom:!0}]]),C("input",{ref:"input",value:e.modelValue,placeholder:e.t("search_items"),onInput:t[0]||(t[0]=(...y)=>e.emitValueDebounced&&e.emitValueDebounced(...y)),onPaste:t[1]||(t[1]=(...y)=>e.emitValueDebounced&&e.emitValueDebounced(...y))},null,40,b2),e.modelValue?(m(),S(o,{key:0,clickable:"",class:"icon-empty",name:"close",onClick:t[2]||(t[2]=Ae(y=>e.$emit("update:modelValue",null),["stop"]))})):R("",!0),ne(a(o,{clickable:"",class:"icon-filter",name:"filter_list",onClick:t[3]||(t[3]=y=>e.filterActive=!e.filterActive)},null,512),[[f,e.t("filter"),void 0,{bottom:!0}]]),a(d,{onBeforeEnter:t[5]||(t[5]=y=>e.filterBorder=!0),onAfterLeave:t[6]||(t[6]=y=>e.filterBorder=!1)},{default:r(()=>[ne(C("div",$2,[a(i,{class:"filter-input",inline:"",value:e.filter,"collection-name":e.collection,onInput:t[4]||(t[4]=y=>e.$emit("update:filter",y))},null,8,["value","collection-name"])],512),[[Dt,e.filterActive]])]),_:1})],2),[[v,{handler:e.disable,middleware:e.onClickOutside}]])]),_:1},8,["value","disabled"])}var kn=N(h2,[["render",w2],["__scopeId","data-v-29d961bb"]]);const k2=z({name:"ActivityCollection",components:{ActivityNavigation:c2,LayoutSidebarDetail:zn,SearchInput:kn},props:{primaryKey:{type:String,default:null}},setup(){const{t:e}=te(),{layout:t,layoutOptions:l,layoutQuery:n,filter:s,search:u}=wn(E("directus_activity")),{breadcrumb:o}=p(),{layoutWrapper:i}=pn(t),d=E(null);return{t:e,breadcrumb:o,layout:t,layoutWrapper:i,layoutOptions:l,layoutQuery:n,search:u,filter:s,roleFilter:d,mergeFilters:gl};function p(){return{breadcrumb:V(()=>[{name:e("collection",2),to:"/collections"}])}}}}),C2={class:"page-description"};function S2(e,t,l,n,s,u){const o=c("v-icon"),i=c("v-button"),d=c("search-input"),p=c("activity-navigation"),f=c("v-info"),v=c("router-view"),y=c("sidebar-detail"),_=c("layout-sidebar-detail"),g=c("private-view"),w=we("md");return m(),S(Be(e.layoutWrapper),{"layout-options":e.layoutOptions,"onUpdate:layout-options":t[4]||(t[4]=h=>e.layoutOptions=h),"layout-query":e.layoutQuery,"onUpdate:layout-query":t[5]||(t[5]=h=>e.layoutQuery=h),filter:e.mergeFilters(e.filter,e.roleFilter),"filter-user":e.filter,"filter-system":e.roleFilter,search:e.search,collection:"directus_activity"},{default:r(({layoutState:h})=>[a(g,{title:e.t("activity_feed")},{"title-outer:prepend":r(()=>[a(i,{class:"header-icon",rounded:"",disabled:"",icon:"",secondary:""},{default:r(()=>[a(o,{name:"access_time"})]),_:1})]),"actions:prepend":r(()=>[(m(),S(Be(`layout-actions-${e.layout}`),He(Ze(h)),null,16))]),actions:r(()=>[a(d,{modelValue:e.search,"onUpdate:modelValue":t[0]||(t[0]=k=>e.search=k),filter:e.filter,"onUpdate:filter":t[1]||(t[1]=k=>e.filter=k),collection:"directus_activity"},null,8,["modelValue","filter"])]),navigation:r(()=>[a(p,{filter:e.roleFilter,"onUpdate:filter":t[2]||(t[2]=k=>e.roleFilter=k)},null,8,["filter"])]),sidebar:r(()=>[a(y,{icon:"info_outline",title:e.t("information"),close:""},{default:r(()=>[ne(C("div",C2,null,512),[[w,e.t("page_help_activity_collection")]])]),_:1},8,["title"]),a(_,{modelValue:e.layout,"onUpdate:modelValue":t[3]||(t[3]=k=>e.layout=k)},{default:r(()=>[(m(),S(Be(`layout-options-${e.layout}`),He(Ze(h)),null,16))]),_:2},1032,["modelValue"]),(m(),S(Be(`layout-sidebar-${e.layout}`),He(Ze(h)),null,16))]),default:r(()=>[(m(),S(Be(`layout-${e.layout}`),ut(h,{class:"layout"}),{"no-results":r(()=>[a(f,{title:e.t("no_results"),icon:"search",center:""},{default:r(()=>[D(b(e.t("no_results_copy")),1)]),_:1},8,["title"])]),"no-items":r(()=>[a(f,{title:e.t("item_count",0),icon:"access_time",center:""},{default:r(()=>[D(b(e.t("no_items_copy")),1)]),_:1},8,["title"])]),_:2},1040)),a(v,{name:"detail","primary-key":e.primaryKey},null,8,["primary-key"])]),_:2},1032,["title"])]),_:1},8,["layout-options","layout-query","filter","filter-user","filter-system","search"])}var V2=N(k2,[["render",S2],["__scopeId","data-v-6193aa34"]]);const va=Symbol();function mn(){const e=E(!1);let t;const l=new Promise(s=>{t=s});return st(()=>{e.value=!0}),Pt(()=>(e.value=!1,l)),xt(va,n),e;function n(){t()}}function F2(){return ht(va,void 0)}const A2=z({name:"ActivityDetail",props:{primaryKey:{type:String,required:!0}},setup(e){const{t,te:l}=te(),n=Ye(),s=mn(),u=E(),o=E(!1),i=E(null),d=V(()=>{if(!(!u.value||u.value.collection.startsWith("directus_")))return`/collections/${u.value.collection}/${encodeURIComponent(u.value.item)}`});return ye(()=>e.primaryKey,p,{immediate:!0}),{t,isOpen:s,item:u,loading:o,error:i,close:f,openItemLink:d,userName:At};async function p(){o.value=!0;try{const v=await pe.get(`/activity/${e.primaryKey}`,{params:{fields:["user.id","user.email","user.first_name","user.last_name","action","timestamp","ip","user_agent","collection","item"]}});u.value=v.data.data,u.value&&(l(`field_options.directus_activity.${u.value.action}`)&&(u.value.action=t(`field_options.directus_activity.${u.value.action}`)),u.value.timestamp=new Date(u.value.timestamp).toLocaleString(qe.global.locale.value))}catch(v){i.value=v}finally{o.value=!1}}function f(){n.push("/activity")}}}),I2={key:1,class:"content"},E2={key:2,class:"content"},D2={class:"type-label"},T2={class:"type-label"},P2={class:"type-label"},L2={class:"type-label"},O2={class:"type-label"},j2={class:"type-label"},R2={class:"type-label"};function M2(e,t,l,n,s,u){const o=c("v-progress-circular"),i=c("v-notice"),d=c("user-popover"),p=c("v-icon"),f=c("v-button"),v=c("v-drawer"),y=we("tooltip");return m(),S(v,{"model-value":e.isOpen,title:e.t("activity_item"),"onUpdate:modelValue":e.close,onCancel:e.close},{actions:r(()=>[e.openItemLink?ne((m(),S(f,{key:0,to:e.openItemLink,icon:"",rounded:""},{default:r(()=>[a(p,{name:"launch"})]),_:1},8,["to"])),[[y,e.t("open"),void 0,{bottom:!0}]]):R("",!0),ne(a(f,{to:"/activity",icon:"",rounded:""},{default:r(()=>[a(p,{name:"check"})]),_:1},512),[[y,e.t("done"),void 0,{bottom:!0}]])]),default:r(()=>[e.loading?(m(),S(o,{key:0,indeterminate:""})):e.error?(m(),I("div",I2,[a(i,{type:"danger"},{default:r(()=>[D(b(e.error),1)]),_:1})])):(m(),I("div",E2,[C("p",D2,b(e.t("user"))+":",1),e.item.user?(m(),S(d,{key:0,user:e.item.user.id},{default:r(()=>[D(b(e.userName(e.item.user)),1)]),_:1},8,["user"])):R("",!0),C("p",T2,b(e.t("action"))+":",1),C("p",null,b(e.item.action),1),C("p",P2,b(e.t("date"))+":",1),C("p",null,b(e.item.timestamp),1),C("p",L2,b(e.t("ip_address"))+":",1),C("p",null,b(e.item.ip),1),C("p",O2,b(e.t("user_agent"))+":",1),C("p",null,b(e.item.user_agent),1),C("p",j2,b(e.t("collection"))+":",1),C("p",null,b(e.item.collection),1),C("p",R2,b(e.t("item"))+":",1),C("p",null,b(e.item.item),1)]))]),_:1},8,["model-value","title","onUpdate:modelValue","onCancel"])}var U2=N(A2,[["render",M2],["__scopeId","data-v-98f2e818"]]),N2=un({id:"activity",hidden:!0,name:"$t:activity",icon:"notifications",routes:[{name:"activity-collection",path:"",component:V2,props:!0,children:[{name:"activity-item",path:":primaryKey",components:{detail:U2}}]}]}),B2=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:N2});function Xl(e,t){const l=[];for(const[n,s]of Object.entries(t))l.push(`${n}=${s}`);return e.includes("?")?`${e}&${l.join("&")}`:`${e}?${l.join("&")}`}const fn=()=>Wo(_s);fn.displayName="router-passthrough";let Zl,Cn;function _a(e){const t=Ke();return Cn||(Cn=E(t.collections.filter(l=>{var n,s;return((n=l.meta)==null?void 0:n.collapse)==="open"||((s=l.meta)==null?void 0:s.collapse)==="locked"}).map(({collection:l})=>l))),Zl===void 0&&(Zl=E(!1)),ye(e,l=>{var u;if(l===null)return;let n=t.getCollection(l);const s=[];for(;(u=n==null?void 0:n.meta)==null?void 0:u.group;)Cn.value.includes(n.meta.group)===!1&&s.push(n.meta.group),n=t.getCollection(n.meta.group);Cn.value=[...Cn.value,...s]},{immediate:!0}),{showHidden:Zl,activeGroups:Cn}}const q2=z({props:{icon:{type:String,default:"label"},color:{type:String,default:"var(--foreground-normal)"},name:{type:String,required:!0},search:{type:String,default:null}}});function z2(e,t,l,n,s,u){const o=c("v-icon"),i=c("v-list-item-icon"),d=c("v-text-overflow"),p=c("v-list-item-content");return m(),I(ae,null,[a(i,null,{default:r(()=>{var f;return[a(o,{name:(f=e.icon)!=null?f:"label",color:e.color},null,8,["name","color"])]}),_:1}),a(p,null,{default:r(()=>[a(d,{text:e.name,highlight:e.search},null,8,["text","highlight"])]),_:1})],64)}var K2=N(q2,[["render",z2]]);let Yl;function Se(e){var n,s,u,o,i,d,p,f,v,y;Yl||(Yl=Dl());const t=((i=(o=(u=(s=(n=e.response)==null?void 0:n.data)==null?void 0:s.errors)==null?void 0:u[0])==null?void 0:o.extensions)==null?void 0:i.code)||((d=e==null?void 0:e.extensions)==null?void 0:d.code)||"UNKNOWN",l=((y=(v=(f=(p=e.response)==null?void 0:p.data)==null?void 0:f.errors)==null?void 0:v[0])==null?void 0:y.message)||e.message||void 0;console.warn(e),Yl.add({title:qe.global.t(`errors.${t}`),text:l,type:"error",dialog:!0,error:e})}const H2=z({props:{bookmark:{type:Object,required:!0}},setup(e){const{t}=te(),l=Ye(),n=en(),s=E(),u=Xe(),o=Ln(),i=V(()=>e.bookmark.user===u.currentUser.id),{renameActive:d,renameValue:p,renameSave:f,renameSaving:v}=h(),{deleteActive:y,deleteValue:_,deleteSave:g,deleteSaving:w}=k();return{t,contextMenu:s,isMine:i,renameActive:d,renameValue:p,renameSave:f,renameSaving:v,deleteActive:y,deleteValue:_,deleteSave:g,deleteSaving:w,activateContextMenu:F};function h(){const A=E(!1),P=E(e.bookmark.bookmark),L=E(!1);return{renameActive:A,renameValue:P,renameSave:O,renameSaving:L};async function O(){L.value=!0;try{await o.savePreset(ke(oe({},e.bookmark),{bookmark:P.value})),A.value=!1}catch(U){Se(U)}finally{L.value=!1}}}function k(){const A=E(!1),P=E(e.bookmark.bookmark),L=E(!1);return{deleteActive:A,deleteValue:P,deleteSave:O,deleteSaving:L};async function O(){var U;L.value=!0;try{let T=null;+((U=n.query)==null?void 0:U.bookmark)===e.bookmark.id&&(T=`/collections/${e.bookmark.collection}`),await o.delete(e.bookmark.id),A.value=!1,T&&l.push(T)}catch(T){Se(T)}finally{L.value=!1}}}function F(A){s.value.activate(A)}}});function W2(e,t,l,n,s,u){const o=c("v-icon"),i=c("v-list-item-icon"),d=c("v-text-overflow"),p=c("v-list-item-content"),f=c("v-list-item"),v=c("v-list"),y=c("v-menu"),_=c("v-card-title"),g=c("v-input"),w=c("v-card-text"),h=c("v-button"),k=c("v-card-actions"),F=c("v-card"),A=c("v-dialog");return m(),S(f,{to:`/collections/${e.bookmark.collection}?bookmark=${e.bookmark.id}`,query:"",class:"bookmark",clickable:"",onContextmenu:Ae(e.activateContextMenu,["prevent","stop"])},{default:r(()=>[a(i,null,{default:r(()=>[a(o,{name:"bookmark_outline"})]),_:1}),a(p,null,{default:r(()=>[a(d,{text:e.bookmark.bookmark},null,8,["text"])]),_:1}),a(y,{ref:"contextMenu","show-arrow":"",placement:"bottom-start"},{default:r(()=>[a(v,null,{default:r(()=>[a(f,{clickable:"",disabled:e.isMine===!1,onClick:t[0]||(t[0]=P=>e.renameActive=!0)},{default:r(()=>[a(i,null,{default:r(()=>[a(o,{name:"edit",outline:""})]),_:1}),a(p,null,{default:r(()=>[a(d,{text:e.t("rename_bookmark")},null,8,["text"])]),_:1})]),_:1},8,["disabled"]),a(f,{clickable:"",class:"danger",disabled:e.isMine===!1,onClick:t[1]||(t[1]=P=>e.deleteActive=!0)},{default:r(()=>[a(i,null,{default:r(()=>[a(o,{name:"delete",outline:""})]),_:1}),a(p,null,{default:r(()=>[a(d,{text:e.t("delete_bookmark")},null,8,["text"])]),_:1})]),_:1},8,["disabled"])]),_:1})]),_:1},512),a(A,{modelValue:e.renameActive,"onUpdate:modelValue":t[4]||(t[4]=P=>e.renameActive=P),persistent:"",onEsc:t[5]||(t[5]=P=>e.renameActive=!1)},{default:r(()=>[a(F,null,{default:r(()=>[a(_,null,{default:r(()=>[D(b(e.t("rename_bookmark")),1)]),_:1}),a(w,null,{default:r(()=>[a(g,{modelValue:e.renameValue,"onUpdate:modelValue":t[2]||(t[2]=P=>e.renameValue=P),autofocus:"",onKeyup:bn(e.renameSave,["enter"])},null,8,["modelValue","onKeyup"])]),_:1}),a(k,null,{default:r(()=>[a(h,{secondary:"",onClick:t[3]||(t[3]=P=>e.renameActive=!1)},{default:r(()=>[D(b(e.t("cancel")),1)]),_:1}),a(h,{disabled:e.renameValue===null,loading:e.renameSaving,onClick:e.renameSave},{default:r(()=>[D(b(e.t("save")),1)]),_:1},8,["disabled","loading","onClick"])]),_:1})]),_:1})]),_:1},8,["modelValue"]),a(A,{modelValue:e.deleteActive,"onUpdate:modelValue":t[7]||(t[7]=P=>e.deleteActive=P),persistent:"",onEsc:t[8]||(t[8]=P=>e.deleteActive=!1)},{default:r(()=>[a(F,null,{default:r(()=>[a(_,null,{default:r(()=>[D(b(e.t("delete_bookmark_copy",{bookmark:e.bookmark.bookmark})),1)]),_:1}),a(k,null,{default:r(()=>[a(h,{secondary:"",onClick:t[6]||(t[6]=P=>e.deleteActive=!1)},{default:r(()=>[D(b(e.t("cancel")),1)]),_:1}),a(h,{loading:e.deleteSaving,kind:"danger",onClick:e.deleteSave},{default:r(()=>[D(b(e.t("delete_label")),1)]),_:1},8,["loading","onClick"])]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1},8,["to","onContextmenu"])}var G2=N(H2,[["render",W2],["__scopeId","data-v-5ac4dd1a"]]);const J2=z({name:"NavigationItem",components:{NavigationItemContent:K2,NavigationBookmark:G2},props:{collection:{type:Object,required:!0},showHidden:{type:Boolean,default:!1},search:{type:String,default:null}},setup(e){const{t}=te(),l=Ke(),n=Ln(),s=V(()=>v(e.collection)),u=V(()=>y(e.collection)),o=E(),i=V(()=>{var g,w;return((g=e.collection.meta)==null?void 0:g.archive_field)&&((w=e.collection.meta)==null?void 0:w.archive_app_filter)}),d=V(()=>s.value.length>0||u.value.length>0),p=V(()=>e.collection.schema?`/collections/${e.collection.collection}`:""),f=V(()=>{if(!e.search||e.search.length<3)return!0;const g=e.search.toLowerCase();return h(e.collection)||w(s.value,u.value);function w(F,A){return F.some(P=>{const L=v(P),O=y(P);return h(P)||w(L,O)})||A.some(P=>k(P))}function h(F){return F.collection.includes(g)||F.name.toLowerCase().includes(g)}function k(F){var A;return(A=F.bookmark)==null?void 0:A.toLowerCase().includes(g)}});return{childCollections:s,childBookmarks:u,isGroup:d,to:p,matchesSearch:f,contextMenu:o,activateContextMenu:_,t,hasArchive:i};function v(g){let w=l.collections.filter(h=>{var k;return((k=h.meta)==null?void 0:k.group)===g.collection});return e.showHidden===!1&&(w=w.filter(h=>{var k;return((k=h.meta)==null?void 0:k.hidden)!==!0})),M.exports.orderBy(w,["meta.sort","collection"])}function y(g){return n.bookmarks.filter(w=>w.collection===g.collection)}function _(g){i.value&&(o.value.activate(g),g.stopPropagation(),g.preventDefault())}}});function Q2(e,t,l,n,s,u){var k,F;const o=c("navigation-item-content"),i=c("navigation-item",!0),d=c("navigation-bookmark"),p=c("v-list-group"),f=c("v-list-item"),v=c("v-icon"),y=c("v-list-item-icon"),_=c("v-text-overflow"),g=c("v-list-item-content"),w=c("v-list"),h=c("v-menu");return m(),I(ae,null,[e.isGroup&&e.matchesSearch?(m(),S(p,{key:0,to:e.to,scope:"collections-navigation",value:e.collection.collection,query:"","arrow-placement":((k=e.collection.meta)==null?void 0:k.collapse)==="locked"?!1:"after",onContextmenu:e.activateContextMenu},{activator:r(()=>{var A,P;return[a(o,{search:e.search,name:e.collection.name,icon:(A=e.collection.meta)==null?void 0:A.icon,color:(P=e.collection.meta)==null?void 0:P.color},null,8,["search","name","icon","color"])]}),default:r(()=>[(m(!0),I(ae,null,be(e.childCollections,A=>(m(),S(i,{key:A.collection,collection:A,search:e.search},null,8,["collection","search"]))),128)),(m(!0),I(ae,null,be(e.childBookmarks,A=>(m(),S(d,{key:A.id,bookmark:A},null,8,["bookmark"]))),128))]),_:1},8,["to","value","arrow-placement","onContextmenu"])):e.matchesSearch?(m(),S(f,{key:1,to:e.to,value:e.collection.collection,class:ue({hidden:(F=e.collection.meta)==null?void 0:F.hidden}),query:"",onContextmenu:e.activateContextMenu},{default:r(()=>{var A,P;return[a(o,{search:e.search,name:e.collection.name,icon:(A=e.collection.meta)==null?void 0:A.icon,color:(P=e.collection.meta)==null?void 0:P.color},null,8,["search","name","icon","color"])]}),_:1},8,["to","value","class","onContextmenu"])):R("",!0),a(h,{ref:"contextMenu","show-arrow":"",placement:"bottom-start"},{default:r(()=>[a(w,null,{default:r(()=>[a(f,{clickable:"",to:`/collections/${e.collection.collection}?archive`,exact:"",query:""},{default:r(()=>[a(y,null,{default:r(()=>[a(v,{name:"archive",outline:""})]),_:1}),a(g,null,{default:r(()=>[a(_,{text:e.t("show_archived_items")},null,8,["text"])]),_:1})]),_:1},8,["to"])]),_:1})]),_:1},512)],64)}var X2=N(J2,[["render",Q2],["__scopeId","data-v-c93e86b0"]]);const Z2=z({components:{NavigationItem:X2},props:{currentCollection:{type:String,default:null}},setup(e){const{t}=te(),{currentCollection:l}=Ue(e),{activeGroups:n,showHidden:s}=_a(l),u=E(""),o=Ke(),i=E(),d=E(),p=V(()=>{const _=s.value?o.allCollections:o.visibleCollections;return M.exports.orderBy(_.filter(g=>{var w;return M.exports.isNil((w=g==null?void 0:g.meta)==null?void 0:w.group)}),["meta.sort","collection"])}),f=V(()=>o.visibleCollections.length>5),v=V(()=>o.visibleCollections.length>20);return{t,activeGroups:n,showHidden:s,rootItems:p,dense:f,activateContextMenu:y,contextMenu:i,contextMenuTarget:d,search:u,showSearch:v};function y(_,g){d.value=g,i.value.activate(_)}}}),Y2={class:"collections-navigation-wrapper"},x2={key:0,class:"search-input"};function e$(e,t,l,n,s,u){const o=c("v-input"),i=c("navigation-item"),d=c("v-icon"),p=c("v-list-item-icon"),f=c("v-text-overflow"),v=c("v-list-item-content"),y=c("v-list-item"),_=c("v-menu"),g=c("v-list");return m(),I("div",Y2,[e.showSearch?(m(),I("div",x2,[a(o,{modelValue:e.search,"onUpdate:modelValue":t[0]||(t[0]=w=>e.search=w),type:"search",placeholder:e.t("search_collection")},null,8,["modelValue","placeholder"])])):R("",!0),a(g,{modelValue:e.activeGroups,"onUpdate:modelValue":t[2]||(t[2]=w=>e.activeGroups=w),scope:"collections-navigation",class:"collections-navigation",nav:"",mandatory:!1,dense:e.dense,onContextmenu:Ae(e.activateContextMenu,["prevent","stop"])},{default:r(()=>[(m(!0),I(ae,null,be(e.rootItems,w=>(m(),S(i,{key:w.collection,"show-hidden":e.showHidden,collection:w,search:e.search},null,8,["show-hidden","collection","search"]))),128)),a(_,{ref:"contextMenu","show-arrow":"",placement:"bottom-start"},{default:r(()=>[a(y,{clickable:"",onClick:t[1]||(t[1]=w=>e.showHidden=!e.showHidden)},{default:r(()=>[a(p,null,{default:r(()=>[a(d,{name:e.showHidden?"visibility_off":"visibility"},null,8,["name"])]),_:1}),a(v,null,{default:r(()=>[a(f,{text:e.showHidden?e.t("hide_hidden_collections"):e.t("show_hidden_collections")},null,8,["text"])]),_:1})]),_:1})]),_:1},512)]),_:1},8,["modelValue","dense","onContextmenu"])])}var bl=N(Z2,[["render",e$],["__scopeId","data-v-7fd2561a"]]);const t$=z({components:{CollectionsNavigation:bl},setup(){const{t:e}=te();return{t:e}}}),n$={class:"not-found"};function l$(e,t,l,n,s,u){const o=c("collections-navigation"),i=c("v-info"),d=c("private-view");return m(),S(d,{title:e.t("page_not_found")},{navigation:r(()=>[a(o)]),default:r(()=>[C("div",n$,[a(i,{title:e.t("page_not_found"),icon:"not_interested"},{default:r(()=>[D(b(e.t("page_not_found_body")),1)]),_:1},8,["title"])])]),_:1},8,["title"])}var xl=N(t$,[["render",l$],["__scopeId","data-v-08c08cfa"]]);const o$=z({props:{modelValue:{type:Number,default:null}},emits:["update:modelValue","refresh"],setup(e,{emit:t}){const{t:l}=te(),n=V({get(){return e.modelValue},set(i){t("update:modelValue",i)}}),s=E(null);ye(n,i=>{s.value!==null&&clearInterval(s.value),i!==null&&i>0&&(s.value=setInterval(()=>{t("refresh")},i*1e3))},{immediate:!0});const u=V(()=>[null,10,30,60,300].map(d=>d===null?{text:l("no_refresh"),value:null}:d>=60&&d%60==0?{text:l("refresh_interval_minutes",{minutes:d/60},d/60),value:d}:{text:l("refresh_interval_seconds",{seconds:d},d),value:d})),o=V(()=>n.value!==null);return{t:l,active:o,interval:n,items:u}}}),a$={class:"fields"},i$={class:"field full"},s$={class:"type-label"};function r$(e,t,l,n,s,u){const o=c("v-select"),i=c("sidebar-detail");return m(),S(i,{icon:e.active?"sync":"sync_disabled",title:e.t("auto_refresh"),badge:e.active},{default:r(()=>[C("div",a$,[C("div",i$,[C("p",s$,b(e.t("refresh_interval")),1),a(o,{modelValue:e.interval,"onUpdate:modelValue":t[0]||(t[0]=d=>e.interval=d),items:e.items},null,8,["modelValue","items"])])])]),_:1},8,["icon","title","badge"])}var d$=N(o$,[["render",r$],["__scopeId","data-v-3c22b9bc"]]);const u$=z({props:{modelValue:{type:Boolean,default:!1},saving:{type:Boolean,default:!1}},emits:["save","update:modelValue"],setup(e,{emit:t}){const{t:l}=te(),n=E(null);return{t:l,bookmarkName:n,cancel:s};function s(){n.value=null,t("update:modelValue",!1)}}});function c$(e,t,l,n,s,u){const o=c("v-card-title"),i=c("v-input"),d=c("v-card-text"),p=c("v-button"),f=c("v-card-actions"),v=c("v-card"),y=c("v-dialog");return m(),S(y,{"model-value":e.modelValue,persistent:"","onUpdate:modelValue":t[3]||(t[3]=_=>e.$emit("update:modelValue",_)),onEsc:e.cancel},{activator:r(_=>[ge(e.$slots,"activator",He(Ze(_)))]),default:r(()=>[a(v,null,{default:r(()=>[a(o,null,{default:r(()=>[D(b(e.t("create_bookmark")),1)]),_:1}),a(d,null,{default:r(()=>[a(i,{modelValue:e.bookmarkName,"onUpdate:modelValue":t[0]||(t[0]=_=>e.bookmarkName=_),autofocus:"",placeholder:e.t("bookmark_name"),onKeyup:t[1]||(t[1]=bn(_=>e.$emit("save",e.bookmarkName),["enter"]))},null,8,["modelValue","placeholder"])]),_:1}),a(f,null,{default:r(()=>[a(p,{secondary:"",onClick:e.cancel},{default:r(()=>[D(b(e.t("cancel")),1)]),_:1},8,["onClick"]),a(p,{disabled:e.bookmarkName===null||e.bookmarkName.length===0,loading:e.saving,onClick:t[2]||(t[2]=_=>e.$emit("save",e.bookmarkName))},{default:r(()=>[D(b(e.t("save")),1)]),_:1},8,["disabled","loading"])]),_:1})]),_:1})]),_:3},8,["model-value","onEsc"])}var p$=N(u$,[["render",c$]]);const m$=z({props:{modelValue:{type:Boolean,default:!1},saving:{type:Boolean,default:!1},name:{type:String,required:!0}},emits:["save","update:modelValue"],setup(e,{emit:t}){const{t:l}=te(),n=E(e.name);return ye(()=>e.name,u=>n.value=u),{t:l,bookmarkName:n,cancel:s};function s(){t("update:modelValue",!1)}}});function f$(e,t,l,n,s,u){const o=c("v-card-title"),i=c("v-input"),d=c("v-card-text"),p=c("v-button"),f=c("v-card-actions"),v=c("v-card"),y=c("v-dialog");return m(),S(y,{"model-value":e.modelValue,persistent:"","onUpdate:modelValue":t[3]||(t[3]=_=>e.$emit("update:modelValue",_)),onEsc:e.cancel},{activator:r(_=>[ge(e.$slots,"activator",He(Ze(_)))]),default:r(()=>[a(v,null,{default:r(()=>[a(o,null,{default:r(()=>[D(b(e.t("edit_bookmark")),1)]),_:1}),a(d,null,{default:r(()=>[a(i,{modelValue:e.bookmarkName,"onUpdate:modelValue":t[0]||(t[0]=_=>e.bookmarkName=_),autofocus:"",placeholder:e.t("bookmark_name"),onKeyup:t[1]||(t[1]=bn(_=>e.$emit("save",e.bookmarkName),["enter"]))},null,8,["modelValue","placeholder"])]),_:1}),a(f,null,{default:r(()=>[a(p,{secondary:"",onClick:e.cancel},{default:r(()=>[D(b(e.t("cancel")),1)]),_:1},8,["onClick"]),a(p,{disabled:e.bookmarkName===null||e.bookmarkName.length===0,loading:e.saving,onClick:t[2]||(t[2]=_=>e.$emit("save",e.bookmarkName))},{default:r(()=>[D(b(e.t("save")),1)]),_:1},8,["disabled","loading"])]),_:1})]),_:1})]),_:3},8,["model-value","onEsc"])}var v$=N(m$,[["render",f$]]);const $l=["FAILED_VALIDATION","RECORD_NOT_UNIQUE"],_$=`

\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u283B\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28F6\u28E6\u28E4\u28C0\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800
\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2880\u2800\u283B\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28F7\u28E6\u28C0\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800
\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2819\u28FF\u28FF\u28FF\u28F7\u28FE\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u287F\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28F7\u28C4\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800
\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u28E4\u28FF\u28C4\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2809\u281B\u281B\u283F\u283F\u283F\u283F\u283F\u281B\u281B\u2809\u2800\u28B0\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28F7\u28C4\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800
\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u28B0\u28FF\u28FF\u28FF\u28FF\u28F6\u28C4\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28C4\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800
\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28F6\u28F6\u28E6\u28E4\u28C4\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u28FE\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u2801\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800
\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2808\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28F7\u28F6\u28F6\u28F6\u28FE\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u287F\u283F\u283F\u281B\u2809\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800
\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u280B\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800
\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u28B8\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800
\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2880\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u284C\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800
\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2880\u28E4\u28F6\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u2801\u281B\u281B\u283F\u28BF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28F6\u28F6\u28E4\u28E4\u28C0\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800
\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2880\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u281F\u2801\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2809\u281B\u28FF\u28FF\u28FF\u28FF\u28FF\u2846\u28BF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28F6\u28C4\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800
\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u287F\u283F\u281B\u281B\u280B\u2809\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2809\u281B\u283F\u28FF\u28C4\u2808\u283B\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28E6\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800
\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u28FE\u28FF\u28FF\u28FF\u28FF\u280B\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2809\u2809\u2809\u2809\u2809\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2809\u28BF\u28FF\u28FF\u28FF\u28F7\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800
\u2800\u2800\u2800\u2800\u2800\u28E4\u28FF\u28FF\u28FF\u28FF\u281F\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2809\u2809\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800
\u2800\u2800\u2800\u28F4\u28FF\u28FF\u28FF\u28FF\u281F\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800
\u2800\u2800\u2800\u2800\u2809\u2809\u2801\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800

`,y$=["directus_activity","directus_collections","directus_fields","directus_migrations","directus_relations","directus_revisions","directus_sessions","directus_settings"],vn=[{type:"module",id:"collections",enabled:!0},{type:"module",id:"users",enabled:!0},{type:"module",id:"files",enabled:!0},{type:"module",id:"insights",enabled:!1},{type:"module",id:"docs",enabled:!0},{type:"module",id:"settings",enabled:!0,locked:!0}],g$=[{text:"$t:string",value:"string"},{text:"$t:text",value:"text"},{divider:!0},{text:"$t:boolean",value:"boolean"},{divider:!0},{text:"$t:integer",value:"integer"},{text:"$t:bigInteger",value:"bigInteger"},{text:"$t:float",value:"float"},{text:"$t:decimal",value:"decimal"},{divider:!0},{text:"$t:geometry",value:"geometry"},{divider:!0},{text:"$t:timestamp",value:"timestamp"},{text:"$t:datetime",value:"dateTime"},{text:"$t:date",value:"date"},{text:"$t:time",value:"time"},{divider:!0},{text:"$t:json",value:"json"},{text:"$t:csv",value:"csv"},{text:"$t:uuid",value:"uuid"},{text:"$t:hash",value:"hash"}],eo="default",ya=["oauth2","openid"];const h$=z({props:{active:{type:Boolean,default:!1},collection:{type:String,required:!0},edits:{type:Object,default:void 0},primaryKeys:{type:Array,required:!0}},emits:["update:active","refresh"],setup(e,{emit:t}){const{t:l}=te(),{internalEdits:n}=f(),{internalActive:s}=v(),{save:u,cancel:o,saving:i,validationErrors:d}=y(),{collection:p}=Ue(e);return{t:l,internalActive:s,internalEdits:n,save:u,saving:i,cancel:o,validationErrors:d};function f(){const _=E({});return{internalEdits:V({get(){return e.edits!==void 0?oe(oe({},e.edits),_.value):_.value},set(w){_.value=w}})}}function v(){const _=E(!1);return{internalActive:V({get(){return e.active===void 0?_.value:e.active},set(w){_.value=w,t("update:active",w)}})}}function y(){const _=E(!1),g=E([]),w=V(()=>p.value.startsWith("directus_")?`/${p.value.substring(9)}`:`/items/${p.value}`);return{save:h,cancel:k,saving:_,validationErrors:g};async function h(){_.value=!0;try{await pe.patch(w.value,{keys:e.primaryKeys,data:n.value}),t("refresh"),s.value=!1,n.value={}}catch(F){g.value=F.response.data.errors.filter(P=>{var L;return $l.includes((L=P==null?void 0:P.extensions)==null?void 0:L.code)}).map(P=>P.extensions);const A=F.response.data.errors.filter(P=>{var L;return $l.includes((L=P==null?void 0:P.extensions)==null?void 0:L.code)===!1});A.length>0&&A.forEach(Se)}finally{_.value=!1}}function k(){s.value=!1,n.value={}}}}}),b$={class:"drawer-batch-content"};function $$(e,t,l,n,s,u){const o=c("v-icon"),i=c("v-button"),d=c("v-form"),p=c("v-drawer"),f=we("tooltip");return m(),S(p,{modelValue:e.internalActive,"onUpdate:modelValue":t[1]||(t[1]=v=>e.internalActive=v),title:e.t("editing_in_batch",{count:e.primaryKeys.length}),persistent:"",onCancel:e.cancel},{actions:r(()=>[ne(a(i,{icon:"",rounded:"",loading:e.saving,onClick:e.save},{default:r(()=>[a(o,{name:"check"})]),_:1},8,["loading","onClick"]),[[f,e.t("save"),void 0,{bottom:!0}]])]),default:r(()=>[C("div",b$,[a(d,{modelValue:e.internalEdits,"onUpdate:modelValue":t[0]||(t[0]=v=>e.internalEdits=v),collection:e.collection,"batch-mode":"","primary-key":"+","validation-errors":e.validationErrors},null,8,["modelValue","collection","validation-errors"])])]),_:1},8,["modelValue","title","onCancel"])}var to=N(h$,[["render",$$],["__scopeId","data-v-5d0693b1"]]);const w$=z({name:"CollectionsCollection",components:{CollectionsNavigation:bl,CollectionsNotFound:xl,LayoutSidebarDetail:zn,SearchInput:kn,BookmarkAdd:p$,BookmarkEdit:v$,DrawerBatch:to,RefreshSidebarDetail:d$},props:{collection:{type:String,required:!0},bookmark:{type:String,default:null},archive:{type:Boolean,default:!1}},setup(e){const{t}=te(),l=Ye(),{layouts:n}=cn(),s=Xe(),u=Tt(),o=E(),{collection:i}=Ue(e),d=V(()=>e.bookmark?+e.bookmark:null),{selection:p}=Ie(),{info:f}=ot(i),{addNewLink:v,currentCollectionLink:y}=nt(),{breadcrumb:_}=De(),{layout:g,layoutOptions:w,layoutQuery:h,filter:k,search:F,savePreset:A,bookmarkExists:P,saveCurrentAsBookmark:L,bookmarkTitle:O,resetPreset:U,bookmarkSaved:T,bookmarkIsMine:B,refreshInterval:q,busy:K,clearLocalSave:H}=wn(i,d),{layoutWrapper:Y}=pn(g),{confirmDelete:J,deleting:re,batchDelete:fe,confirmArchive:X,archive:x,archiving:ee,error:se,batchEditActive:W}=je(),{bookmarkDialogActive:G,creatingBookmark:le,createBookmark:Z,editingBookmark:ce,editBookmark:ve}=Pe(),Q=V(()=>n.value.find(Fe=>Fe.id===g.value));ye(i,()=>{g.value===null&&(g.value="tabular")},{immediate:!0});const{batchEditAllowed:ie,batchArchiveAllowed:de,batchDeleteAllowed:me,createAllowed:he}=Le(),_e=V(()=>{var Me,Qe,at;if(!((Me=f.value)==null?void 0:Me.meta)||!((at=(Qe=f.value)==null?void 0:Qe.meta)==null?void 0:at.archive_app_filter))return null;const Fe=f.value.meta.archive_field;if(!Fe)return null;let $e=f.value.meta.archive_value;return $e==="true"&&($e=!0),$e==="false"&&($e=!1),e.archive?{[Fe]:{_eq:$e}}:{[Fe]:{_neq:$e}}});return{t,addNewLink:v,batchDelete:fe,batchEditActive:W,confirmDelete:J,currentCollection:f,deleting:re,filter:k,layoutRef:o,layoutWrapper:Y,selection:p,layoutOptions:w,layoutQuery:h,layout:g,search:F,savePreset:A,bookmarkExists:P,currentCollectionLink:y,bookmarkDialogActive:G,creatingBookmark:le,createBookmark:Z,bookmarkTitle:O,editingBookmark:ce,editBookmark:ve,breadcrumb:_,clearFilters:Re,confirmArchive:X,archiveItems:x,archiving:ee,batchEditAllowed:ie,batchArchiveAllowed:de,batchDeleteAllowed:me,deleteError:se,createAllowed:he,resetPreset:U,bookmarkSaved:T,bookmarkIsMine:B,bookmarkSaving:K,clearLocalSave:H,refresh:Ce,refreshInterval:q,currentLayout:Q,archiveFilter:_e,mergeFilters:gl};async function Ce(){var Fe,$e,Me;await((Me=($e=(Fe=o.value)==null?void 0:Fe.state)==null?void 0:$e.refresh)==null?void 0:Me.call($e))}function De(){return{breadcrumb:V(()=>{var $e;return[{name:($e=f.value)==null?void 0:$e.name,to:`/collections/${e.collection}`}]})}}function Ie(){const Fe=E([]);return ye(()=>e.collection,()=>Fe.value=[]),{selection:Fe}}function je(){const Fe=E(!1),$e=E(!1),Me=E(!1),Qe=E(!1),at=E(!1),lt=E(null);return{batchEditActive:Me,confirmDelete:Fe,deleting:$e,batchDelete:tt,confirmArchive:Qe,archiving:at,archiveItems:ct,error:lt};async function tt(){$e.value=!0;const pt=p.value;try{await pe.delete(`/items/${e.collection}`,{data:pt}),await Ce(),p.value=[],Fe.value=!1}catch(zt){lt.value=zt}finally{$e.value=!1}}async function ct(){var zt,ul;if(!((ul=(zt=f.value)==null?void 0:zt.meta)==null?void 0:ul.archive_field))return;at.value=!0;let pt=f.value.meta.archive_value;pt==="true"&&(pt=!0),pt==="false"&&(pt=!1);try{await pe.patch(`/items/${e.collection}`,{keys:p.value,data:{[f.value.meta.archive_field]:pt}}),Qe.value=!1,p.value=[],await Ce()}catch(cl){lt.value=cl}finally{at.value=!1}}}function nt(){const Fe=V(()=>`/collections/${e.collection}/+`),$e=V(()=>`/collections/${e.collection}`);return{addNewLink:Fe,currentCollectionLink:$e}}function Pe(){const Fe=E(!1),$e=E(!1),Me=E(!1);return{bookmarkDialogActive:Fe,creatingBookmark:$e,createBookmark:Qe,editingBookmark:Me,editBookmark:at};async function Qe(lt){$e.value=!0;try{const tt=await L({bookmark:lt});l.push(`/collections/${tt.collection}?bookmark=${tt.id}`),Fe.value=!1}catch(tt){Se(tt)}finally{$e.value=!1}}async function at(lt){O.value=lt,Fe.value=!1}}function Re(){k.value=null,F.value=null}function Le(){const Fe=V(()=>{var tt;return((tt=s==null?void 0:s.currentUser)==null?void 0:tt.role.admin_access)===!0?!0:!!u.permissions.find(ct=>ct.action==="update"&&ct.collection===i.value)}),$e=V(()=>{var tt,ct,pt;if(!((ct=(tt=f.value)==null?void 0:tt.meta)==null?void 0:ct.archive_field))return!1;if(((pt=s==null?void 0:s.currentUser)==null?void 0:pt.role.admin_access)===!0)return!0;const lt=u.permissions.find(zt=>zt.action==="update"&&zt.collection===i.value);return!lt||!lt.fields?!1:lt.fields.includes("*")?!0:lt.fields.includes(f.value.meta.archive_field)}),Me=V(()=>{var tt;return((tt=s==null?void 0:s.currentUser)==null?void 0:tt.role.admin_access)===!0?!0:!!u.permissions.find(ct=>ct.action==="delete"&&ct.collection===i.value)}),Qe=V(()=>{var tt;return((tt=s==null?void 0:s.currentUser)==null?void 0:tt.role.admin_access)===!0?!0:!!u.permissions.find(ct=>ct.action==="create"&&ct.collection===i.value)});return{batchEditAllowed:Fe,batchArchiveAllowed:$e,batchDeleteAllowed:Me,createAllowed:Qe}}}}),k$={class:"bookmark-controls"},C$={class:"page-description"};function S$(e,t,l,n,s,u){const o=c("collections-not-found"),i=c("v-icon"),d=c("v-button"),p=c("v-breadcrumb"),f=c("bookmark-add"),v=c("search-input"),y=c("v-card-title"),_=c("v-card-actions"),g=c("v-card"),w=c("v-dialog"),h=c("collections-navigation"),k=c("v-info"),F=c("drawer-batch"),A=c("sidebar-detail"),P=c("layout-sidebar-detail"),L=c("refresh-sidebar-detail"),O=c("export-sidebar-detail"),U=c("v-error"),T=c("v-card-text"),B=c("private-view"),q=we("tooltip"),K=we("md");return m(),S(Be(e.layoutWrapper),{ref:"layoutRef",selection:e.selection,"onUpdate:selection":t[16]||(t[16]=H=>e.selection=H),"layout-options":e.layoutOptions,"onUpdate:layout-options":t[17]||(t[17]=H=>e.layoutOptions=H),"layout-query":e.layoutQuery,"onUpdate:layout-query":t[18]||(t[18]=H=>e.layoutQuery=H),"filter-user":e.filter,"filter-system":e.archiveFilter,filter:e.mergeFilters(e.filter,e.archiveFilter),search:e.search,collection:e.collection,"reset-preset":e.resetPreset,"clear-filters":e.clearFilters},{default:r(({layoutState:H})=>{var Y;return[!e.currentCollection||e.collection.startsWith("directus_")?(m(),S(o,{key:0})):(m(),S(B,{key:1,title:e.bookmark?e.bookmarkTitle:e.currentCollection.name,"small-header":(Y=e.currentLayout)==null?void 0:Y.smallHeader},{"title-outer:prepend":r(()=>[a(d,{class:ue(["header-icon",{archive:e.archive}]),rounded:"",icon:"",secondary:"",disabled:""},{default:r(()=>[a(i,{name:e.archive?"archive":e.currentCollection.icon,color:e.currentCollection.color},null,8,["name","color"])]),_:1},8,["class"])]),headline:r(()=>[e.bookmark?(m(),S(p,{key:0,items:e.breadcrumb},null,8,["items"])):(m(),S(p,{key:1,items:[{name:e.t("collections"),to:"/collections"}]},null,8,["items"]))]),"title-outer:append":r(()=>[C("div",k$,[e.bookmark?e.bookmarkSaved?(m(),S(i,{key:1,class:"saved",name:"bookmark"})):e.bookmarkIsMine?ne((m(),S(i,{key:2,class:"save",clickable:"",name:"bookmark_save",onClick:t[1]||(t[1]=J=>e.savePreset())},null,512)),[[q,e.t("update_bookmark"),void 0,{bottom:!0}]]):(m(),S(f,{key:3,modelValue:e.bookmarkDialogActive,"onUpdate:modelValue":t[2]||(t[2]=J=>e.bookmarkDialogActive=J),class:"add",saving:e.creatingBookmark,onSave:e.createBookmark},{activator:r(({on:J})=>[a(i,{class:"toggle",name:"bookmark_outline",clickable:"",onClick:J},null,8,["onClick"])]),_:1},8,["modelValue","saving","onSave"])):(m(),S(f,{key:0,modelValue:e.bookmarkDialogActive,"onUpdate:modelValue":t[0]||(t[0]=J=>e.bookmarkDialogActive=J),class:"add",saving:e.creatingBookmark,onSave:e.createBookmark},{activator:r(({on:J})=>[ne(a(i,{class:"toggle",clickable:"",name:"bookmark_outline",onClick:J},null,8,["onClick"]),[[q,e.t("create_bookmark"),void 0,{right:!0}]])]),_:1},8,["modelValue","saving","onSave"])),e.bookmark&&!e.bookmarkSaving&&e.bookmarkSaved===!1?ne((m(),S(i,{key:4,name:"settings_backup_restore",clickable:"",class:"clear",onClick:e.clearLocalSave},null,8,["onClick"])),[[q,e.t("reset_bookmark"),void 0,{bottom:!0}]]):R("",!0)])]),"actions:prepend":r(()=>[(m(),S(Be(`layout-actions-${e.layout||"tabular"}`),He(Ze(H)),null,16))]),actions:r(()=>[a(v,{modelValue:e.search,"onUpdate:modelValue":t[3]||(t[3]=J=>e.search=J),filter:e.filter,"onUpdate:filter":t[4]||(t[4]=J=>e.filter=J),collection:e.collection},null,8,["modelValue","filter","collection"]),e.selection.length>0?(m(),S(w,{key:0,modelValue:e.confirmDelete,"onUpdate:modelValue":t[6]||(t[6]=J=>e.confirmDelete=J),onEsc:t[7]||(t[7]=J=>e.confirmDelete=!1)},{activator:r(({on:J})=>[ne(a(d,{disabled:e.batchDeleteAllowed!==!0,rounded:"",icon:"",class:"action-delete",onClick:J},{default:r(()=>[a(i,{name:"delete",outline:""})]),_:2},1032,["disabled","onClick"]),[[q,e.batchDeleteAllowed?e.t("delete_label"):e.t("not_allowed"),void 0,{bottom:!0}]])]),default:r(()=>[a(g,null,{default:r(()=>[a(y,null,{default:r(()=>[D(b(e.t("batch_delete_confirm",e.selection.length)),1)]),_:1}),a(_,null,{default:r(()=>[a(d,{secondary:"",onClick:t[5]||(t[5]=J=>e.confirmDelete=!1)},{default:r(()=>[D(b(e.t("cancel")),1)]),_:1}),a(d,{kind:"danger",loading:e.deleting,onClick:e.batchDelete},{default:r(()=>[D(b(e.t("delete_label")),1)]),_:1},8,["loading","onClick"])]),_:1})]),_:1})]),_:1},8,["modelValue"])):R("",!0),e.selection.length>0&&e.currentCollection.meta&&e.currentCollection.meta.archive_field?(m(),S(w,{key:1,modelValue:e.confirmArchive,"onUpdate:modelValue":t[9]||(t[9]=J=>e.confirmArchive=J),onEsc:t[10]||(t[10]=J=>e.confirmArchive=!1)},{activator:r(({on:J})=>[ne(a(d,{disabled:e.batchArchiveAllowed!==!0,rounded:"",icon:"",class:"action-archive",onClick:J},{default:r(()=>[a(i,{name:"archive",outline:""})]),_:2},1032,["disabled","onClick"]),[[q,e.batchArchiveAllowed?e.t("archive"):e.t("not_allowed"),void 0,{bottom:!0}]])]),default:r(()=>[a(g,null,{default:r(()=>[a(y,null,{default:r(()=>[D(b(e.t("archive_confirm_count",e.selection.length)),1)]),_:1}),a(_,null,{default:r(()=>[a(d,{secondary:"",onClick:t[8]||(t[8]=J=>e.confirmArchive=!1)},{default:r(()=>[D(b(e.t("cancel")),1)]),_:1}),a(d,{kind:"warning",loading:e.archiving,onClick:e.archiveItems},{default:r(()=>[D(b(e.t("archive")),1)]),_:1},8,["loading","onClick"])]),_:1})]),_:1})]),_:1},8,["modelValue"])):R("",!0),e.selection.length>1?ne((m(),S(d,{key:2,rounded:"",icon:"",class:"action-batch",disabled:e.batchEditAllowed===!1,onClick:t[11]||(t[11]=J=>e.batchEditActive=!0)},{default:r(()=>[a(i,{name:"edit",outline:""})]),_:1},8,["disabled"])),[[q,e.batchEditAllowed?e.t("edit"):e.t("not_allowed"),void 0,{bottom:!0}]]):R("",!0),ne(a(d,{rounded:"",icon:"",to:e.addNewLink,disabled:e.createAllowed===!1},{default:r(()=>[a(i,{name:"add"})]),_:1},8,["to","disabled"]),[[q,e.createAllowed?e.t("create_item"):e.t("not_allowed"),void 0,{bottom:!0}]])]),navigation:r(()=>[a(h,{"current-collection":e.collection},null,8,["current-collection"])]),sidebar:r(()=>[a(A,{icon:"info_outline",title:e.t("information"),close:""},{default:r(()=>[ne(C("div",C$,null,512),[[K,e.t("page_help_collections_collection",{collection:e.currentCollection.name})]])]),_:1},8,["title"]),a(P,{modelValue:e.layout,"onUpdate:modelValue":t[13]||(t[13]=J=>e.layout=J)},{default:r(()=>[(m(),S(Be(`layout-options-${e.layout||"tabular"}`),He(Ze(H)),null,16))]),_:2},1032,["modelValue"]),(m(),S(Be(`layout-sidebar-${e.layout||"tabular"}`),He(Ze(H)),null,16)),a(L,{modelValue:e.refreshInterval,"onUpdate:modelValue":t[14]||(t[14]=J=>e.refreshInterval=J),onRefresh:e.refresh},null,8,["modelValue","onRefresh"]),a(O,{collection:e.collection,filter:e.mergeFilters(e.filter,e.archiveFilter),search:e.search},null,8,["collection","filter","search"])]),default:r(()=>[e.bookmark&&e.bookmarkExists===!1?(m(),S(k,{key:0,type:"warning",title:e.t("bookmark_doesnt_exist"),icon:"bookmark",center:""},{append:r(()=>[a(d,{to:e.currentCollectionLink},{default:r(()=>[D(b(e.t("bookmark_doesnt_exist_cta")),1)]),_:1},8,["to"])]),default:r(()=>[D(b(e.t("bookmark_doesnt_exist_copy"))+" ",1)]),_:1},8,["title"])):(m(),S(Be(`layout-${e.layout||"tabular"}`),ut({key:1,class:"layout"},H),{"no-results":r(()=>[a(k,{title:e.t("no_results"),icon:"search",center:""},{append:r(()=>[a(d,{onClick:e.clearFilters},{default:r(()=>[D(b(e.t("clear_filters")),1)]),_:1},8,["onClick"])]),default:r(()=>[D(b(e.t("no_results_copy"))+" ",1)]),_:1},8,["title"])]),"no-items":r(()=>[a(k,{title:e.t("item_count",0),icon:e.currentCollection.icon,center:""},xe({default:r(()=>[D(b(e.t("no_items_copy"))+" ",1)]),_:2},[e.createAllowed?{name:"append",fn:r(()=>[a(d,{to:`/collections/${e.collection}/+`},{default:r(()=>[D(b(e.t("create_item")),1)]),_:1},8,["to"])])}:void 0]),1032,["title","icon"])]),_:2},1040)),a(F,{active:e.batchEditActive,"onUpdate:active":t[12]||(t[12]=J=>e.batchEditActive=J),"primary-keys":e.selection,collection:e.collection,onRefresh:e.refresh},null,8,["active","primary-keys","collection","onRefresh"]),a(w,{"model-value":e.deleteError!==null},{default:r(()=>[a(g,null,{default:r(()=>[a(y,null,{default:r(()=>[D(b(e.t("something_went_wrong")),1)]),_:1}),a(T,null,{default:r(()=>[a(U,{error:e.deleteError},null,8,["error"])]),_:1}),a(_,null,{default:r(()=>[a(d,{onClick:t[15]||(t[15]=J=>e.deleteError=null)},{default:r(()=>[D(b(e.t("done")),1)]),_:1})]),_:1})]),_:1})]),_:1},8,["model-value"])]),_:2},1032,["title","small-header"]))]}),_:1},8,["selection","layout-options","layout-query","filter-user","filter-system","filter","search","collection","reset-preset","clear-filters"])}var V$=N(w$,[["render",S$],["__scopeId","data-v-cecb7054"]]);function F$(e){switch(e){case"af":return j(()=>import("./assets/index.3e8ca338.js").then(function(t){return t.i}),["assets/index.3e8ca338.js","assets/vendor.6ad70522.js","assets/vendor.fe7856f0.css","assets/index.ffc6c203.js"]);case"ar-DZ":return j(()=>import("./assets/index.b09bb571.js").then(function(t){return t.i}),["assets/index.b09bb571.js","assets/vendor.6ad70522.js","assets/vendor.fe7856f0.css","assets/index.ffc6c203.js"]);case"ar-MA":return j(()=>import("./assets/index.327b1f83.js").then(function(t){return t.i}),["assets/index.327b1f83.js","assets/vendor.6ad70522.js","assets/vendor.fe7856f0.css","assets/index.ffc6c203.js"]);case"ar-SA":return j(()=>import("./assets/index.945a8768.js").then(function(t){return t.i}),["assets/index.945a8768.js","assets/vendor.6ad70522.js","assets/vendor.fe7856f0.css","assets/index.ffc6c203.js"]);case"az":return j(()=>import("./assets/index.73b1c40e.js").then(function(t){return t.i}),["assets/index.73b1c40e.js","assets/vendor.6ad70522.js","assets/vendor.fe7856f0.css","assets/index.ffc6c203.js"]);case"be":return j(()=>import("./assets/index.cc8ba010.js").then(function(t){return t.i}),["assets/index.cc8ba010.js","assets/vendor.6ad70522.js","assets/vendor.fe7856f0.css","assets/index.ffc6c203.js","assets/index.dc71b91a.js"]);case"bg":return j(()=>import("./assets/index.8faed5d6.js").then(function(t){return t.i}),["assets/index.8faed5d6.js","assets/vendor.6ad70522.js","assets/vendor.fe7856f0.css","assets/index.ffc6c203.js","assets/index.dc71b91a.js"]);case"bn":return j(()=>import("./assets/index.0c46ce60.js").then(function(t){return t.i}),["assets/index.0c46ce60.js","assets/vendor.6ad70522.js","assets/vendor.fe7856f0.css","assets/index.ffc6c203.js"]);case"ca":return j(()=>import("./assets/index.1ecc7901.js").then(function(t){return t.i}),["assets/index.1ecc7901.js","assets/vendor.6ad70522.js","assets/vendor.fe7856f0.css","assets/index.ffc6c203.js"]);case"cs":return j(()=>import("./assets/index.d1b023a1.js").then(function(t){return t.i}),["assets/index.d1b023a1.js","assets/vendor.6ad70522.js","assets/vendor.fe7856f0.css","assets/index.ffc6c203.js"]);case"cy":return j(()=>import("./assets/index.79ee8818.js").then(function(t){return t.i}),["assets/index.79ee8818.js","assets/vendor.6ad70522.js","assets/vendor.fe7856f0.css","assets/index.ffc6c203.js"]);case"da":return j(()=>import("./assets/index.44ba1091.js").then(function(t){return t.i}),["assets/index.44ba1091.js","assets/vendor.6ad70522.js","assets/vendor.fe7856f0.css","assets/index.ffc6c203.js"]);case"de":return j(()=>import("./assets/index.36e26fbc.js").then(function(t){return t.i}),["assets/index.36e26fbc.js","assets/vendor.6ad70522.js","assets/vendor.fe7856f0.css","assets/index.eedadecd.js","assets/index.ffc6c203.js"]);case"de-AT":return j(()=>import("./assets/index.27fad8c0.js").then(function(t){return t.i}),["assets/index.27fad8c0.js","assets/vendor.6ad70522.js","assets/vendor.fe7856f0.css","assets/index.eedadecd.js","assets/index.ffc6c203.js"]);case"el":return j(()=>import("./assets/index.859960e0.js").then(function(t){return t.i}),["assets/index.859960e0.js","assets/vendor.6ad70522.js","assets/vendor.fe7856f0.css","assets/index.ffc6c203.js"]);case"en-AU":return j(()=>import("./assets/index.c6711208.js").then(function(t){return t.i}),["assets/index.c6711208.js","assets/vendor.6ad70522.js","assets/vendor.fe7856f0.css","assets/index.55d799e2.js","assets/index.ffc6c203.js","assets/index.7b2f54b1.js"]);case"en-CA":return j(()=>import("./assets/index.4a7ba94b.js").then(function(t){return t.i}),["assets/index.4a7ba94b.js","assets/vendor.6ad70522.js","assets/vendor.fe7856f0.css","assets/index.7b2f54b1.js","assets/index.ffc6c203.js"]);case"en-GB":return j(()=>import("./assets/index.a28c4b38.js").then(function(t){return t.i}),["assets/index.a28c4b38.js","assets/vendor.6ad70522.js","assets/vendor.fe7856f0.css","assets/index.55d799e2.js","assets/index.7b2f54b1.js","assets/index.ffc6c203.js"]);case"en-IN":return j(()=>import("./assets/index.55fe44ce.js").then(function(t){return t.i}),["assets/index.55fe44ce.js","assets/vendor.6ad70522.js","assets/vendor.fe7856f0.css","assets/index.55d799e2.js","assets/index.7b2f54b1.js","assets/index.ffc6c203.js"]);case"en-NZ":return j(()=>import("./assets/index.303f4649.js").then(function(t){return t.i}),["assets/index.303f4649.js","assets/vendor.6ad70522.js","assets/vendor.fe7856f0.css","assets/index.55d799e2.js","assets/index.7b2f54b1.js","assets/index.ffc6c203.js"]);case"en-US":return j(()=>import("./assets/index.fb8b3daa.js").then(function(t){return t.i}),["assets/index.fb8b3daa.js","assets/vendor.6ad70522.js","assets/vendor.fe7856f0.css","assets/index.55d799e2.js","assets/index.ffc6c203.js","assets/index.7b2f54b1.js"]);case"en-ZA":return j(()=>import("./assets/index.0683673e.js").then(function(t){return t.i}),["assets/index.0683673e.js","assets/vendor.6ad70522.js","assets/vendor.fe7856f0.css","assets/index.55d799e2.js","assets/index.7b2f54b1.js","assets/index.ffc6c203.js"]);case"eo":return j(()=>import("./assets/index.cdc9bc45.js").then(function(t){return t.i}),["assets/index.cdc9bc45.js","assets/vendor.6ad70522.js","assets/vendor.fe7856f0.css","assets/index.ffc6c203.js"]);case"es":return j(()=>import("./assets/index.9f87bca1.js").then(function(t){return t.i}),["assets/index.9f87bca1.js","assets/vendor.6ad70522.js","assets/vendor.fe7856f0.css","assets/index.ffc6c203.js"]);case"et":return j(()=>import("./assets/index.e77198db.js").then(function(t){return t.i}),["assets/index.e77198db.js","assets/vendor.6ad70522.js","assets/vendor.fe7856f0.css","assets/index.ffc6c203.js"]);case"eu":return j(()=>import("./assets/index.021ec2ed.js").then(function(t){return t.i}),["assets/index.021ec2ed.js","assets/vendor.6ad70522.js","assets/vendor.fe7856f0.css","assets/index.ffc6c203.js"]);case"fa-IR":return j(()=>import("./assets/index.0ee85545.js").then(function(t){return t.i}),["assets/index.0ee85545.js","assets/vendor.6ad70522.js","assets/vendor.fe7856f0.css","assets/index.ffc6c203.js"]);case"fi":return j(()=>import("./assets/index.d2f93af2.js").then(function(t){return t.i}),["assets/index.d2f93af2.js","assets/vendor.6ad70522.js","assets/vendor.fe7856f0.css","assets/index.ffc6c203.js"]);case"fr":return j(()=>import("./assets/index.0161115f.js").then(function(t){return t.i}),["assets/index.0161115f.js","assets/vendor.6ad70522.js","assets/vendor.fe7856f0.css","assets/index.1b3cf886.js","assets/index.ffc6c203.js"]);case"fr-CA":return j(()=>import("./assets/index.f3fc704b.js").then(function(t){return t.i}),["assets/index.f3fc704b.js","assets/vendor.6ad70522.js","assets/vendor.fe7856f0.css","assets/index.1b3cf886.js","assets/index.ffc6c203.js"]);case"fr-CH":return j(()=>import("./assets/index.95c6adda.js").then(function(t){return t.i}),["assets/index.95c6adda.js","assets/vendor.6ad70522.js","assets/vendor.fe7856f0.css","assets/index.ffc6c203.js"]);case"gd":return j(()=>import("./assets/index.050970fa.js").then(function(t){return t.i}),["assets/index.050970fa.js","assets/vendor.6ad70522.js","assets/vendor.fe7856f0.css","assets/index.ffc6c203.js"]);case"gl":return j(()=>import("./assets/index.6ac9df8b.js").then(function(t){return t.i}),["assets/index.6ac9df8b.js","assets/vendor.6ad70522.js","assets/vendor.fe7856f0.css","assets/index.ffc6c203.js"]);case"gu":return j(()=>import("./assets/index.feb3452a.js").then(function(t){return t.i}),["assets/index.feb3452a.js","assets/vendor.6ad70522.js","assets/vendor.fe7856f0.css","assets/index.ffc6c203.js"]);case"he":return j(()=>import("./assets/index.14f12309.js").then(function(t){return t.i}),["assets/index.14f12309.js","assets/vendor.6ad70522.js","assets/vendor.fe7856f0.css","assets/index.ffc6c203.js"]);case"hi":return j(()=>import("./assets/index.1bd41359.js").then(function(t){return t.i}),["assets/index.1bd41359.js","assets/vendor.6ad70522.js","assets/vendor.fe7856f0.css","assets/index.ffc6c203.js"]);case"hr":return j(()=>import("./assets/index.d64fbed5.js").then(function(t){return t.i}),["assets/index.d64fbed5.js","assets/vendor.6ad70522.js","assets/vendor.fe7856f0.css","assets/index.ffc6c203.js"]);case"ht":return j(()=>import("./assets/index.d15c3ba5.js").then(function(t){return t.i}),["assets/index.d15c3ba5.js","assets/vendor.6ad70522.js","assets/vendor.fe7856f0.css","assets/index.ffc6c203.js"]);case"hu":return j(()=>import("./assets/index.b1a2f99c.js").then(function(t){return t.i}),["assets/index.b1a2f99c.js","assets/vendor.6ad70522.js","assets/vendor.fe7856f0.css","assets/index.ffc6c203.js"]);case"hy":return j(()=>import("./assets/index.5391758c.js").then(function(t){return t.i}),["assets/index.5391758c.js","assets/vendor.6ad70522.js","assets/vendor.fe7856f0.css","assets/index.ffc6c203.js"]);case"id":return j(()=>import("./assets/index.f18fdb88.js").then(function(t){return t.i}),["assets/index.f18fdb88.js","assets/vendor.6ad70522.js","assets/vendor.fe7856f0.css","assets/index.ffc6c203.js"]);case"is":return j(()=>import("./assets/index.ef0c94d9.js").then(function(t){return t.i}),["assets/index.ef0c94d9.js","assets/vendor.6ad70522.js","assets/vendor.fe7856f0.css","assets/index.ffc6c203.js"]);case"it":return j(()=>import("./assets/index.bf63884f.js").then(function(t){return t.i}),["assets/index.bf63884f.js","assets/vendor.6ad70522.js","assets/vendor.fe7856f0.css","assets/index.ffc6c203.js","assets/index.dc71b91a.js"]);case"ja":return j(()=>import("./assets/index.f8385a15.js").then(function(t){return t.i}),["assets/index.f8385a15.js","assets/vendor.6ad70522.js","assets/vendor.fe7856f0.css","assets/index.ffc6c203.js"]);case"ka":return j(()=>import("./assets/index.9fa5f9af.js").then(function(t){return t.i}),["assets/index.9fa5f9af.js","assets/vendor.6ad70522.js","assets/vendor.fe7856f0.css","assets/index.ffc6c203.js"]);case"kk":return j(()=>import("./assets/index.f0ba373d.js").then(function(t){return t.i}),["assets/index.f0ba373d.js","assets/vendor.6ad70522.js","assets/vendor.fe7856f0.css","assets/index.ffc6c203.js","assets/index.dc71b91a.js"]);case"kn":return j(()=>import("./assets/index.a0f1b976.js").then(function(t){return t.i}),["assets/index.a0f1b976.js","assets/vendor.6ad70522.js","assets/vendor.fe7856f0.css","assets/index.ffc6c203.js"]);case"ko":return j(()=>import("./assets/index.bec0eae5.js").then(function(t){return t.i}),["assets/index.bec0eae5.js","assets/vendor.6ad70522.js","assets/vendor.fe7856f0.css","assets/index.ffc6c203.js"]);case"lb":return j(()=>import("./assets/index.9a15ca3b.js").then(function(t){return t.i}),["assets/index.9a15ca3b.js","assets/vendor.6ad70522.js","assets/vendor.fe7856f0.css","assets/index.ffc6c203.js"]);case"lt":return j(()=>import("./assets/index.278f3377.js").then(function(t){return t.i}),["assets/index.278f3377.js","assets/vendor.6ad70522.js","assets/vendor.fe7856f0.css","assets/index.ffc6c203.js"]);case"lv":return j(()=>import("./assets/index.be90d060.js").then(function(t){return t.i}),["assets/index.be90d060.js","assets/vendor.6ad70522.js","assets/vendor.fe7856f0.css","assets/index.ffc6c203.js","assets/index.dc71b91a.js"]);case"mk":return j(()=>import("./assets/index.e883ec84.js").then(function(t){return t.i}),["assets/index.e883ec84.js","assets/vendor.6ad70522.js","assets/vendor.fe7856f0.css","assets/index.ffc6c203.js","assets/index.dc71b91a.js"]);case"mn":return j(()=>import("./assets/index.6c0f68e5.js").then(function(t){return t.i}),["assets/index.6c0f68e5.js","assets/vendor.6ad70522.js","assets/vendor.fe7856f0.css","assets/index.ffc6c203.js"]);case"ms":return j(()=>import("./assets/index.77a60252.js").then(function(t){return t.i}),["assets/index.77a60252.js","assets/vendor.6ad70522.js","assets/vendor.fe7856f0.css","assets/index.ffc6c203.js"]);case"mt":return j(()=>import("./assets/index.cf4b0211.js").then(function(t){return t.i}),["assets/index.cf4b0211.js","assets/vendor.6ad70522.js","assets/vendor.fe7856f0.css","assets/index.ffc6c203.js"]);case"nb":return j(()=>import("./assets/index.a9c42883.js").then(function(t){return t.i}),["assets/index.a9c42883.js","assets/vendor.6ad70522.js","assets/vendor.fe7856f0.css","assets/index.ffc6c203.js"]);case"nl":return j(()=>import("./assets/index.52b7a4aa.js").then(function(t){return t.i}),["assets/index.52b7a4aa.js","assets/vendor.6ad70522.js","assets/vendor.fe7856f0.css","assets/index.ffc6c203.js"]);case"nl-BE":return j(()=>import("./assets/index.c4f02a00.js").then(function(t){return t.i}),["assets/index.c4f02a00.js","assets/vendor.6ad70522.js","assets/vendor.fe7856f0.css","assets/index.ffc6c203.js"]);case"nn":return j(()=>import("./assets/index.3d18d582.js").then(function(t){return t.i}),["assets/index.3d18d582.js","assets/vendor.6ad70522.js","assets/vendor.fe7856f0.css","assets/index.ffc6c203.js"]);case"pl":return j(()=>import("./assets/index.73febbe7.js").then(function(t){return t.i}),["assets/index.73febbe7.js","assets/vendor.6ad70522.js","assets/vendor.fe7856f0.css","assets/index.ffc6c203.js","assets/index.dc71b91a.js"]);case"pt":return j(()=>import("./assets/index.14d94064.js").then(function(t){return t.i}),["assets/index.14d94064.js","assets/vendor.6ad70522.js","assets/vendor.fe7856f0.css","assets/index.ffc6c203.js"]);case"pt-BR":return j(()=>import("./assets/index.a5a6ced6.js").then(function(t){return t.i}),["assets/index.a5a6ced6.js","assets/vendor.6ad70522.js","assets/vendor.fe7856f0.css","assets/index.ffc6c203.js"]);case"ro":return j(()=>import("./assets/index.eeed5740.js").then(function(t){return t.i}),["assets/index.eeed5740.js","assets/vendor.6ad70522.js","assets/vendor.fe7856f0.css","assets/index.ffc6c203.js"]);case"ru":return j(()=>import("./assets/index.d73d6ffb.js").then(function(t){return t.i}),["assets/index.d73d6ffb.js","assets/vendor.6ad70522.js","assets/vendor.fe7856f0.css","assets/index.ffc6c203.js","assets/index.dc71b91a.js"]);case"sk":return j(()=>import("./assets/index.ea82a46a.js").then(function(t){return t.i}),["assets/index.ea82a46a.js","assets/vendor.6ad70522.js","assets/vendor.fe7856f0.css","assets/index.ffc6c203.js","assets/index.dc71b91a.js"]);case"sl":return j(()=>import("./assets/index.42bb0be0.js").then(function(t){return t.i}),["assets/index.42bb0be0.js","assets/vendor.6ad70522.js","assets/vendor.fe7856f0.css","assets/index.ffc6c203.js"]);case"sq":return j(()=>import("./assets/index.632f4918.js").then(function(t){return t.i}),["assets/index.632f4918.js","assets/vendor.6ad70522.js","assets/vendor.fe7856f0.css","assets/index.ffc6c203.js"]);case"sr":return j(()=>import("./assets/index.1523b28b.js").then(function(t){return t.i}),["assets/index.1523b28b.js","assets/vendor.6ad70522.js","assets/vendor.fe7856f0.css","assets/index.ffc6c203.js"]);case"sr-Latn":return j(()=>import("./assets/index.ddbab783.js").then(function(t){return t.i}),["assets/index.ddbab783.js","assets/vendor.6ad70522.js","assets/vendor.fe7856f0.css","assets/index.ffc6c203.js"]);case"sv":return j(()=>import("./assets/index.85b8ba68.js").then(function(t){return t.i}),["assets/index.85b8ba68.js","assets/vendor.6ad70522.js","assets/vendor.fe7856f0.css","assets/index.ffc6c203.js"]);case"ta":return j(()=>import("./assets/index.d5f91430.js").then(function(t){return t.i}),["assets/index.d5f91430.js","assets/vendor.6ad70522.js","assets/vendor.fe7856f0.css","assets/index.ffc6c203.js"]);case"te":return j(()=>import("./assets/index.e51c9fdd.js").then(function(t){return t.i}),["assets/index.e51c9fdd.js","assets/vendor.6ad70522.js","assets/vendor.fe7856f0.css","assets/index.ffc6c203.js"]);case"th":return j(()=>import("./assets/index.3bb0036b.js").then(function(t){return t.i}),["assets/index.3bb0036b.js","assets/vendor.6ad70522.js","assets/vendor.fe7856f0.css","assets/index.ffc6c203.js"]);case"tr":return j(()=>import("./assets/index.86caf2fd.js").then(function(t){return t.i}),["assets/index.86caf2fd.js","assets/vendor.6ad70522.js","assets/vendor.fe7856f0.css","assets/index.ffc6c203.js"]);case"ug":return j(()=>import("./assets/index.a928e2bb.js").then(function(t){return t.i}),["assets/index.a928e2bb.js","assets/vendor.6ad70522.js","assets/vendor.fe7856f0.css","assets/index.ffc6c203.js"]);case"uk":return j(()=>import("./assets/index.5dc009b1.js").then(function(t){return t.i}),["assets/index.5dc009b1.js","assets/vendor.6ad70522.js","assets/vendor.fe7856f0.css","assets/index.ffc6c203.js","assets/index.dc71b91a.js"]);case"uz":return j(()=>import("./assets/index.b08cb9df.js").then(function(t){return t.i}),["assets/index.b08cb9df.js","assets/vendor.6ad70522.js","assets/vendor.fe7856f0.css","assets/index.ffc6c203.js"]);case"vi":return j(()=>import("./assets/index.d3512f3a.js").then(function(t){return t.i}),["assets/index.d3512f3a.js","assets/vendor.6ad70522.js","assets/vendor.fe7856f0.css","assets/index.ffc6c203.js"]);case"zh-CN":return j(()=>import("./assets/index.21e31dc2.js").then(function(t){return t.i}),["assets/index.21e31dc2.js","assets/vendor.6ad70522.js","assets/vendor.fe7856f0.css","assets/index.ffc6c203.js","assets/index.dc71b91a.js"]);case"zh-TW":return j(()=>import("./assets/index.edb10393.js").then(function(t){return t.i}),["assets/index.edb10393.js","assets/vendor.6ad70522.js","assets/vendor.fe7856f0.css","assets/index.ffc6c203.js"]);default:return Promise.resolve()}}async function ga(){const e=qe.global.locale.value,t=[e,e.split("-")[0],"en-US"];let l;for(const n of t)try{l=(await F$(n)).default;break}catch{continue}return l}const jt=async(e,t,l)=>rn(e,t,ke(oe({},l),{locale:await ga()}));const A$=z({props:{revision:{type:Object,required:!0},last:{type:Boolean,default:!1}},emits:["click"],setup(e){const{t}=te(),l=V(()=>Object.keys(e.revision.delta).length),n=V(()=>{switch(e.revision.activity.action.toLowerCase()){case"create":return t("revision_delta_created");case"update":return t("revision_delta_updated",l.value);case"delete":return t("revision_delta_deleted");case"revert":return t("revision_delta_reverted");default:return t("revision_delta_other")}}),s=V(()=>rn(new Date(e.revision.activity.timestamp),String(t("date-fns_time")))),u=V(()=>{var o,i;return((i=(o=e.revision)==null?void 0:o.activity)==null?void 0:i.user)&&typeof e.revision.activity.user=="object"?At(e.revision.activity.user):t("private_user")});return{t,headerMessage:n,time:s,user:u}}}),I$={class:"header"},E$={class:"content"},D$={class:"time"},T$=D(" \u2013 "),P$={key:1};function L$(e,t,l,n,s,u){const o=c("user-popover");return m(),I("div",{class:ue(["revision-item",{last:e.last}]),onClick:t[0]||(t[0]=i=>e.$emit("click"))},[C("div",I$,[C("span",{class:ue(["dot",e.revision.activity.action])},null,2),D(" "+b(e.headerMessage),1)]),C("div",E$,[C("span",D$,b(e.time),1),T$,e.revision.activity.user?(m(),S(o,{key:0,class:"user",user:e.revision.activity.user.id},{default:r(()=>[C("span",null,b(e.user),1)]),_:1},8,["user"])):(m(),I("span",P$,b(e.t("private_user")),1))])],2)}var O$=N(A$,[["render",L$],["__scopeId","data-v-552a0966"]]);const j$=z({components:{RevisionItem:O$},props:{group:{type:Object,required:!0}},emits:["click"],setup(){return{expand:E(!0)}}}),R$={class:"scroll-container"};function M$(e,t,l,n,s,u){const o=c("revision-item"),i=c("v-detail");return m(),S(i,{modelValue:e.expand,"onUpdate:modelValue":t[0]||(t[0]=d=>e.expand=d),label:e.group.dateFormatted,class:"revisions-date-group"},{default:r(()=>[ne(C("div",R$,[(m(!0),I(ae,null,be(e.group.revisions,(d,p)=>(m(),S(o,{key:d.id,revision:d,last:p===e.group.revisions.length-1,onClick:f=>e.$emit("click",d.id)},null,8,["revision","last","onClick"]))),128))],512),[[Dt,e.expand]])]),_:1},8,["modelValue","label"])}var U$=N(j$,[["render",M$],["__scopeId","data-v-dcd1ff74"]]);const N$=z({props:{revisions:{type:Array,required:!0},current:{type:Number,required:!0}},emits:["update:current"],setup(e,{emit:t}){const{t:l}=te(),n=Oe(e,"current",t),s=E(null);ye(()=>e.revisions,async()=>{const i=[];for(const d of e.revisions){const p=await o(d);let f=l("private_user");if(typeof d.activity.user=="object"){const _=d.activity.user;f=At(_)}const v=String(l("revision_delta_by",{date:p,user:f})),y=d.id;i.push({text:v,value:y})}s.value=i},{immediate:!0});const u=V(()=>{var i;return(i=s.value)==null?void 0:i.find(d=>d.value===n.value)});return{internalCurrent:n,options:s,selectedOption:u};async function o(i){const d=await jt(new Date(i.activity.timestamp),String(l("date-fns_date_short"))),p=await jt(new Date(i.activity.timestamp),String(l("date-fns_time")));return`${d} (${p})`}}}),B$=["onClick"];function q$(e,t,l,n,s,u){const o=c("v-icon"),i=c("v-list-item-content"),d=c("v-list-item"),p=c("v-list"),f=c("v-menu");return m(),S(f,{"show-arrow":""},{activator:r(({toggle:v})=>[C("span",{class:"picker",onClick:v},[D(b(e.selectedOption&&e.selectedOption.text)+" ",1),a(o,{name:"expand_more",small:""})],8,B$)]),default:r(()=>[a(p,{class:"menu"},{default:r(()=>[(m(!0),I(ae,null,be(e.options,v=>(m(),S(d,{key:v.value,clickable:"",active:e.internalCurrent===v.value,onClick:y=>e.internalCurrent=v.value},{default:r(()=>[a(o,{name:"commit_node"}),a(i,null,{default:r(()=>[D(b(v.text),1)]),_:2},1024)]),_:2},1032,["active","onClick"]))),128))]),_:1})]),_:1})}var z$=N(N$,[["render",q$],["__scopeId","data-v-2f4d8b82"]]);const K$=z({props:{revision:{type:Object,required:!0}},setup(){const{t:e}=te();return{t:e}}}),H$=e=>(We("data-v-2d744eb6"),e=e(),Ge(),e),W$=H$(()=>C("br",null,null,-1));function G$(e,t,l,n,s,u){const o=c("v-notice"),i=c("v-form");return m(),I("div",null,[a(o,{type:"info"},{default:r(()=>[D(b(e.revision.activity.action==="create"?e.t("revision_post_create"):e.t("revision_post_update"))+" ",1),W$,D(" "+b(e.t("no_relational_data")),1)]),_:1}),a(i,{disabled:"",collection:e.revision.collection,"primary-key":e.revision.item,"initial-values":e.revision.data},null,8,["collection","primary-key","initial-values"])])}var J$=N(K$,[["render",G$],["__scopeId","data-v-2d744eb6"]]);const Q$=z({props:{changes:{type:Array,required:!0},added:{type:Boolean,default:!1},deleted:{type:Boolean,default:!1}},setup(e){const{t}=te(),l=V(()=>e.changes.filter(s=>e.added===!0?s.removed!==!0:s.added!==!0)),n=V(()=>e.changes.length===2);return{t,changesFiltered:l,wholeThing:n}}}),X$={class:"delta"},Z$={key:1,class:"no-value"};function Y$(e,t,l,n,s,u){const o=c("v-icon");return m(),I("div",{class:ue(["change-line",{added:e.added,deleted:e.deleted,"no-highlight":e.wholeThing}])},[a(o,{name:e.added?"add":"remove"},null,8,["name"]),C("div",X$,[(m(!0),I(ae,null,be(e.changesFiltered,(i,d)=>(m(),I("span",{key:d,class:ue({changed:i.added||i.removed})},[i.value?(m(),I(ae,{key:0},[D(b(i.value),1)],64)):(m(),I("span",Z$,b(e.t("no_value")),1))],2))),128))])],2)}var x$=N(Q$,[["render",Y$],["__scopeId","data-v-481ea258"]]);const ew=z({components:{RevisionsDrawerUpdatesChange:x$},props:{revision:{type:Object,required:!0},revisions:{type:Array,required:!0}},setup(e){const{t}=te(),l=Te(),n=V(()=>{const u=e.revisions.findIndex(o=>o.id===e.revision.id);return e.revisions[u+1]}),s=V(()=>n.value?Object.keys(e.revision.delta).map(o=>{var v;const i=(v=l.getField(e.revision.collection,o))==null?void 0:v.name;if(!i)return null;const d=e.revision.delta[o],p=n.value.data[o];if(M.exports.isEqual(d,p))return null;let f;return typeof p=="string"&&typeof d=="string"&&d.length>25?f=ys(p,d):Array.isArray(p)&&Array.isArray(d)?f=gs(p,d):p&&d&&typeof d=="object"&&typeof d=="object"?f=hs(p,d):f=[{removed:!0,value:p},{added:!0,value:d}],{name:i,changes:f}}).filter(o=>o):null);return{t,changes:s,previousRevision:n}}}),tw=e=>(We("data-v-09850b86"),e=e(),Ge(),e),nw={class:"updates"},lw=tw(()=>C("br",null,null,-1)),ow={class:"type-label"};function aw(e,t,l,n,s,u){const o=c("v-notice"),i=c("revisions-drawer-updates-change");return m(),I("div",nw,[a(o,{type:"info"},{default:r(()=>[D(b(e.t("changes_made"))+" ",1),lw,D(" "+b(e.t("no_relational_data")),1)]),_:1}),(m(!0),I(ae,null,be(e.changes,d=>(m(),I("div",{key:d.name,class:"change"},[C("div",ow,b(d.name),1),a(i,{deleted:"",changes:d.changes},null,8,["changes"]),a(i,{added:"",changes:d.changes},null,8,["changes"])]))),128))])}var iw=N(ew,[["render",aw],["__scopeId","data-v-09850b86"]]);const sw=z({components:{RevisionsDrawerPicker:z$,RevisionsDrawerPreview:J$,RevisionsDrawerUpdates:iw},props:{revisions:{type:Array,required:!0},current:{type:[Number,String],default:null},active:{type:Boolean,default:!1}},emits:["revert","update:active","update:current"],setup(e,{emit:t}){const{t:l}=te(),n=Oe(e,"active",t),s=Oe(e,"current",t),u=E(["updates_made"]),o=V(()=>{var y;return((y=i.value)==null?void 0:y.activity.action)==="create"?l("item_creation"):l("item_revision")}),i=V(()=>e.revisions.find(y=>y.id===e.current)),d=V(()=>{const y=e.revisions.findIndex(_=>_.id===e.current);return e.revisions[y+1]}),p=V(()=>{var y;return((y=i.value)==null?void 0:y.activity.action)==="create"?[{text:l("creation_preview"),value:"revision_preview"}]:[{text:l("updates_made"),value:"updates_made"},{text:l("revision_preview"),value:"revision_preview"}]}),f=V(()=>{var y;return((y=i.value)==null?void 0:y.activity.action)!=="create"});return bs(()=>u.value=[p.value[0].value]),{t:l,internalActive:n,internalCurrent:s,title:o,currentRevision:i,currentTab:u,tabs:p,hasPastRevision:f,revert:v};function v(){var _,g;if(!i.value)return;const y={};for(const[w,h]of Object.entries(i.value.delta)){const k=(g=(_=d.value)==null?void 0:_.data[w])!=null?g:null;M.exports.isEqual(h,k)||(y[w]=k)}t("revert",y),n.value=!1}}}),rw={class:"content"};function dw(e,t,l,n,s,u){const o=c("revisions-drawer-picker"),i=c("v-tab"),d=c("v-tabs"),p=c("revisions-drawer-updates"),f=c("revisions-drawer-preview"),v=c("v-icon"),y=c("v-button"),_=c("v-drawer"),g=we("tooltip");return m(),I("div",null,[a(_,{modelValue:e.internalActive,"onUpdate:modelValue":t[3]||(t[3]=w=>e.internalActive=w),title:e.title,icon:"change_history","sidebar-label":e.t(e.currentTab[0]),onCancel:t[4]||(t[4]=w=>e.internalActive=!1)},{subtitle:r(()=>[a(o,{current:e.internalCurrent,"onUpdate:current":t[0]||(t[0]=w=>e.internalCurrent=w),revisions:e.revisions},null,8,["current","revisions"])]),sidebar:r(()=>[a(d,{modelValue:e.currentTab,"onUpdate:modelValue":t[1]||(t[1]=w=>e.currentTab=w),vertical:""},{default:r(()=>[(m(!0),I(ae,null,be(e.tabs,w=>(m(),S(i,{key:w.value,value:w.value},{default:r(()=>[D(b(w.text),1)]),_:2},1032,["value"]))),128))]),_:1},8,["modelValue"])]),actions:r(()=>[e.hasPastRevision?ne((m(),S(y,{key:0,class:"revert",icon:"",rounded:"",onClick:e.revert},{default:r(()=>[a(v,{name:"restore"})]),_:1},8,["onClick"])),[[g,e.t("revert"),void 0,{bottom:!0}]]):R("",!0),ne(a(y,{icon:"",rounded:"",onClick:t[2]||(t[2]=w=>e.internalActive=!1)},{default:r(()=>[a(v,{name:"check"})]),_:1},512),[[g,e.t("done"),void 0,{bottom:!0}]])]),default:r(()=>[C("div",rw,[e.currentTab[0]==="updates_made"?(m(),S(p,{key:0,revision:e.currentRevision,revisions:e.revisions},null,8,["revision","revisions"])):R("",!0),e.currentTab[0]==="revision_preview"?(m(),S(f,{key:1,revision:e.currentRevision},null,8,["revision"])):R("",!0)])]),_:1},8,["modelValue","title","sidebar-label"])])}var uw=N(sw,[["render",dw],["__scopeId","data-v-ca277ace"]]);function no(e,t=0,l=["K","M","B","T"]){const n=e<0;e=Math.abs(e);let s=String(e);if(e>=1e3){const u=Math.pow(10,t);for(let o=l.length-1;o>=0;o--){const i=Math.pow(10,(o+1)*3);if(i<=e){e=Math.round(e*u/i)/u,e===1e3&&o<l.length-1&&(e=1,o++),s=e.toFixed(t)+l[o];break}}}return n&&(s=`-${s}`),s}const cw=z({components:{RevisionsDrawer:uw,RevisionsDateGroup:U$},props:{collection:{type:String,required:!0},primaryKey:{type:[String,Number],required:!0}},emits:["revert"],setup(e){const{t}=te(),{revisions:l,revisionsByDate:n,loading:s,refresh:u,revisionsCount:o,pagesCount:i,created:d}=_(e.collection,e.primaryKey),p=E(!1),f=E(null),v=E(1);return ye(()=>v.value,g=>{u(g)}),{t,revisions:l,revisionsByDate:n,loading:s,refresh:u,modalActive:p,modalCurrentRevision:f,openModal:y,revisionsCount:o,created:d,page:v,pagesCount:i,abbreviateNumber:no};function y(g){f.value=g,p.value=!0}function _(g,w){const h=E(null),k=E(null),F=E(!1),A=E(0),P=E(),L=E(0);return O(),{created:P,revisions:h,revisionsByDate:k,loading:F,refresh:U,revisionsCount:A,pagesCount:L};async function O(T=0){var q;F.value=!0;const B=100;try{const K=await pe.get("/revisions",{params:{filter:{collection:{_eq:g},item:{_eq:w}},sort:"-id",limit:B,page:T,fields:["id","data","delta","collection","item","activity.action","activity.timestamp","activity.user.id","activity.user.email","activity.user.first_name","activity.user.last_name","activity.ip","activity.user_agent"],meta:["filter_count"]}}),H=await pe.get("/revisions",{params:{filter:{collection:{_eq:g},item:{_eq:w},activity:{action:{_eq:"create"}}},sort:"-id",limit:1,fields:["id","data","delta","collection","item","activity.action","activity.timestamp","activity.user.id","activity.user.email","activity.user.first_name","activity.user.last_name","activity.ip","activity.user_agent"],meta:["filter_count"]}});P.value=(q=H.data.data)==null?void 0:q[0];const Y=M.exports.groupBy(K.data.data.filter(re=>!!re.activity),re=>new Date(new Date(re.activity.timestamp).toDateString())),J=[];for(const[re,fe]of Object.entries(Y)){const X=new Date(re),x=Go(X),ee=Jo(X),se=Qo(X);let W;x?W=t("today"):ee?W=t("yesterday"):se?W=await jt(X,String(t("date-fns_date_short_no_year"))):W=await jt(X,String(t("date-fns_date_short"))),J.push({date:X,dateFormatted:String(W),revisions:M.exports.orderBy(fe,["activity.timestamp"],["desc"])})}k.value=M.exports.orderBy(J,["date"],["desc"]),h.value=M.exports.orderBy(K.data.data,["activity.timestamp"],["desc"]),A.value=K.data.meta.filter_count,L.value=Math.ceil(A.value/B)}catch(K){Se(K)}finally{F.value=!1}}async function U(T=0){await O(T)}}}}),pw={class:"external"};function mw(e,t,l,n,s,u){const o=c("v-progress-linear"),i=c("RevisionsDateGroup"),d=c("v-divider"),p=c("v-pagination"),f=c("revisions-drawer"),v=c("sidebar-detail");return m(),S(v,{title:e.t("revisions"),icon:"change_history",badge:!e.loading&&e.revisions?e.abbreviateNumber(e.revisionsCount):null},{default:r(()=>[e.loading?(m(),S(o,{key:0,indeterminate:""})):(m(),I(ae,{key:1},[(m(!0),I(ae,null,be(e.revisionsByDate,y=>(m(),S(i,{key:y.date.toString(),group:y,onClick:e.openModal},null,8,["group","onClick"]))),128)),e.page==e.pagesCount&&!e.created?(m(),I(ae,{key:0},[e.revisionsByDate.length>0?(m(),S(d,{key:0})):R("",!0),C("div",pw,b(e.t("revision_delta_created_externally")),1)],64)):R("",!0),e.pagesCount>1?(m(),S(p,{key:1,modelValue:e.page,"onUpdate:modelValue":t[0]||(t[0]=y=>e.page=y),length:e.pagesCount,"total-visible":2},null,8,["modelValue","length"])):R("",!0)],64)),e.revisions?(m(),S(f,{key:2,current:e.modalCurrentRevision,"onUpdate:current":t[1]||(t[1]=y=>e.modalCurrentRevision=y),active:e.modalActive,"onUpdate:active":t[2]||(t[2]=y=>e.modalActive=y),revisions:e.revisions,onRevert:t[3]||(t[3]=y=>e.$emit("revert",y))},null,8,["current","active","revisions"])):R("",!0)]),_:1},8,["title","badge"])}var Kn=N(cw,[["render",mw],["__scopeId","data-v-427239ad"]]);const wl=new Set([]),Gt={};document.body.addEventListener("keydown",e=>{e.repeat||!e.key||(wl.add(fw(e)),vw(e))});document.body.addEventListener("keyup",e=>{e.repeat||!e.key||wl.clear()});function et(e,t,l=E(document.body)){const n=(s,u)=>{if(!l.value)return;const o=l.value instanceof HTMLElement?l.value:l.value.$el;return document.activeElement===o||o.contains(document.activeElement)||document.activeElement===document.body?(s.preventDefault(),t(s,u)):!1};st(()=>{[e].flat().forEach(s=>{s in Gt?Gt[s].unshift(n):Gt[s]=[n]})}),Vt(()=>{[e].flat().forEach(s=>{s in Gt&&(Gt[s]=Gt[s].filter(u=>u!==n),Gt[s].length===0&&delete Gt[s])})})}function fw(e){const t={Control:"meta",Command:"meta"},l=/^[a-zA-Z0-9]*?$/g;let n=e.key.match(l)===null?e.code.replace(/(Key|Digit)/g,""):e.key;return n=n in t?t[n]:n,n=n.toLowerCase(),n}function vw(e){Object.entries(Gt).forEach(([t,l])=>{const n=t.split("+");for(t of wl)if(n.includes(t)===!1)return;for(t of n)if(wl.has(t)===!1)return;for(let s=0;s<l.length;s++){let u=!1;if(l[s](e,()=>{u=!0}),typeof u=="boolean"&&u)break}})}let lo;function It(e){lo||(lo=Dl()),lo.add(e)}const _w=z({props:{refresh:{type:Function,required:!0},collection:{type:String,required:!0},primaryKey:{type:[Number,String],required:!0}},setup(e){const{t}=te(),l=E();et("meta+enter",u,l);const n=E(null),s=E(!1);return{t,newCommentContent:n,postComment:u,saving:s,textarea:l};async function u(){if(!(n.value===null||n.value.length===0)){s.value=!0;try{await pe.post("/activity/comment",{collection:e.collection,item:e.primaryKey,comment:n.value}),await e.refresh(),n.value=null,It({title:t("post_comment_success"),type:"success"})}catch(o){Se(o)}finally{s.value=!1}}}}});function yw(e,t,l,n,s,u){const o=c("v-button"),i=c("v-textarea");return m(),S(i,{ref:"textarea",modelValue:e.newCommentContent,"onUpdate:modelValue":t[0]||(t[0]=d=>e.newCommentContent=d),class:"new-comment",placeholder:e.t("leave_comment"),"expand-on-focus":""},{append:r(()=>[a(o,{disabled:!e.newCommentContent||e.newCommentContent.length===0,loading:e.saving,class:"post-comment","x-small":"",onClick:e.postComment},{default:r(()=>[D(b(e.t("submit")),1)]),_:1},8,["disabled","loading","onClick"])]),_:1},8,["modelValue","placeholder"])}var gw=N(_w,[["render",yw],["__scopeId","data-v-5a756b4e"]]);function Je(){const t=window.location.pathname.split("/"),l=t.indexOf("admin");return t.slice(0,l).join("/")+"/"}function ha(){const t=window.location.href.split("/"),l=t.indexOf("admin");return t.slice(0,l).join("/")+"/"}const hw=z({props:{activity:{type:Object,required:!0},refresh:{type:Function,required:!0}},emits:["edit"],setup(e){const{t}=te(),l=V(()=>e.activity.timestamp?rn(new Date(e.activity.timestamp),String(t("date-fns_time_no_seconds"))):null),n=V(()=>{var d;return((d=e.activity.user)==null?void 0:d.avatar)?dt(Je()+`assets/${e.activity.user.avatar.id}?key=system-small-cover`):null}),{confirmDelete:s,deleting:u,remove:o}=i();return{t,formattedTime:l,avatarSource:n,confirmDelete:s,deleting:u,remove:o,userName:At};function i(){const d=E(!1),p=E(!1);return{confirmDelete:d,deleting:p,remove:f};async function f(){p.value=!0;try{await pe.delete(`/activity/comment/${e.activity.id}`),await e.refresh(),d.value=!1}catch(v){Se(v)}finally{p.value=!1}}}}}),bw={class:"comment-header"},$w=["src","alt"],ww={class:"name"},kw={class:"header-right"},Cw={class:"time"};function Sw(e,t,l,n,s,u){const o=c("v-icon"),i=c("v-avatar"),d=c("user-popover"),p=c("v-list-item-icon"),f=c("v-list-item-content"),v=c("v-list-item"),y=c("v-list"),_=c("v-menu"),g=c("v-card-title"),w=c("v-card-text"),h=c("v-button"),k=c("v-card-actions"),F=c("v-card"),A=c("v-dialog");return m(),I("div",bw,[a(i,{"x-small":""},{default:r(()=>[e.avatarSource?(m(),I("img",{key:0,src:e.avatarSource,alt:e.userName(e.activity.user)},null,8,$w)):(m(),S(o,{key:1,name:"person_outline"}))]),_:1}),C("div",ww,[e.activity.user&&e.activity.user.id?(m(),S(d,{key:0,user:e.activity.user.id},{default:r(()=>[C("span",null,[e.activity.user&&e.activity.user?(m(),I(ae,{key:0},[D(b(e.userName(e.activity.user)),1)],64)):(m(),I(ae,{key:1},[D(b(e.t("private_user")),1)],64))])]),_:1},8,["user"])):R("",!0)]),C("div",kw,[a(_,{"show-arrow":"",placement:"bottom-end"},{activator:r(({toggle:P,active:L})=>[a(o,{class:ue(["more",{active:L}]),name:"more_horiz",clickable:"",onClick:P},null,8,["class","onClick"]),C("div",Cw,b(e.formattedTime),1)]),default:r(()=>[a(y,null,{default:r(()=>[a(v,{clickable:"",onClick:t[0]||(t[0]=P=>e.$emit("edit"))},{default:r(()=>[a(p,null,{default:r(()=>[a(o,{name:"edit",outline:""})]),_:1}),a(f,null,{default:r(()=>[D(b(e.t("edit")),1)]),_:1})]),_:1}),a(v,{clickable:"",onClick:t[1]||(t[1]=P=>e.confirmDelete=!0)},{default:r(()=>[a(p,null,{default:r(()=>[a(o,{name:"delete",outline:""})]),_:1}),a(f,null,{default:r(()=>[D(b(e.t("delete_label")),1)]),_:1})]),_:1})]),_:1})]),_:1})]),a(A,{modelValue:e.confirmDelete,"onUpdate:modelValue":t[3]||(t[3]=P=>e.confirmDelete=P),onEsc:t[4]||(t[4]=P=>e.confirmDelete=!1)},{default:r(()=>[a(F,null,{default:r(()=>[a(g,null,{default:r(()=>[D(b(e.t("delete_comment")),1)]),_:1}),a(w,null,{default:r(()=>[D(b(e.t("delete_are_you_sure")),1)]),_:1}),a(k,null,{default:r(()=>[a(h,{secondary:"",onClick:t[2]||(t[2]=P=>e.confirmDelete=!1)},{default:r(()=>[D(b(e.t("cancel")),1)]),_:1}),a(h,{kind:"danger",loading:e.deleting,onClick:e.remove},{default:r(()=>[D(b(e.t("delete_label")),1)]),_:1},8,["loading","onClick"])]),_:1})]),_:1})]),_:1},8,["modelValue"])])}var Vw=N(hw,[["render",Sw],["__scopeId","data-v-cb2ab15c"]]);const Fw=z({components:{CommentItemHeader:Vw},props:{activity:{type:Object,required:!0},refresh:{type:Function,required:!0}},setup(e){const{t}=te(),l=E(),{edits:n,editing:s,savingEdits:u,saveEdits:o,cancelEditing:i}=d();return et("meta+enter",o,l),{t,edits:n,editing:s,savingEdits:u,saveEdits:o,cancelEditing:i,textarea:l};function d(){const p=E(e.activity.comment),f=E(!1),v=E(!1);return ye(()=>e.activity,()=>p.value=e.activity.comment),{edits:p,editing:f,savingEdits:v,saveEdits:y,cancelEditing:_};async function y(){v.value=!0;try{await pe.patch(`/activity/comment/${e.activity.id}`,{comment:p.value}),await e.refresh()}catch(g){Se(g)}finally{v.value=!1,f.value=!1}}function _(){p.value=e.activity.comment,f.value=!1}}}}),Aw={class:"comment-item"},Iw={class:"buttons"},Ew={key:1,class:"content"},Dw={class:"selectable"};function Tw(e,t,l,n,s,u){const o=c("comment-item-header"),i=c("v-button"),d=c("v-textarea"),p=we("md");return m(),I("div",Aw,[a(o,{refresh:e.refresh,activity:e.activity,onEdit:t[0]||(t[0]=f=>e.editing=!0)},null,8,["refresh","activity"]),e.editing?(m(),S(d,{key:0,ref:"textarea",modelValue:e.edits,"onUpdate:modelValue":t[1]||(t[1]=f=>e.edits=f)},{append:r(()=>[C("div",Iw,[a(i,{class:"cancel",secondary:"","x-small":"",onClick:e.cancelEditing},{default:r(()=>[D(b(e.t("cancel")),1)]),_:1},8,["onClick"]),a(i,{loading:e.savingEdits,class:"post-comment","x-small":"",disabled:e.edits===e.activity.comment,onClick:e.saveEdits},{default:r(()=>[D(b(e.t("save")),1)]),_:1},8,["loading","disabled","onClick"])])]),_:1},8,["modelValue"])):(m(),I("div",Ew,[ne(C("span",Dw,null,512),[[p,e.activity.comment]])]))])}var Pw=N(Fw,[["render",Tw],["__scopeId","data-v-695fe65a"]]);const Lw=z({components:{CommentInput:gw,CommentItem:Pw},props:{collection:{type:String,required:!0},primaryKey:{type:[String,Number],required:!0}},setup(e){const{t}=te(),{activity:l,loading:n,error:s,refresh:u,count:o}=i(e.collection,e.primaryKey);return{t,activity:l,loading:n,error:s,refresh:u,count:o};function i(d,p){const f=E(null),v=E(0),y=E(null),_=E(!1);return g(),{activity:f,error:y,loading:_,refresh:w,count:v};async function g(){y.value=null,_.value=!0;try{const h=await pe.get("/activity",{params:{"filter[collection][_eq]":d,"filter[item][_eq]":p,"filter[action][_in]":"comment",sort:"-id",fields:["id","action","timestamp","user.id","user.email","user.first_name","user.last_name","user.avatar.id","revisions.id","comment"]}});v.value=h.data.data.length;const k=M.exports.groupBy(h.data.data,A=>new Date(new Date(A.timestamp).toDateString())),F=[];for(const[A,P]of Object.entries(k)){const L=new Date(A),O=Go(L),U=Jo(L),T=Qo(L);let B;O?B=t("today"):U?B=t("yesterday"):T?B=await jt(L,String(t("date-fns_date_short_no_year"))):B=await jt(L,String(t("date-fns_date_short"))),F.push({date:L,dateFormatted:String(B),activity:P})}f.value=M.exports.orderBy(F,["date"],["desc"])}catch(h){h.value=h}finally{_.value=!1}}async function w(){await g()}}}}),Ow={key:1,class:"empty"},jw={class:"content"};function Rw(e,t,l,n,s,u){const o=c("comment-input"),i=c("v-progress-linear"),d=c("v-divider"),p=c("comment-item"),f=c("sidebar-detail");return m(),S(f,{title:e.t("comments"),icon:"chat_bubble_outline",badge:e.count||null},{default:r(()=>[a(o,{refresh:e.refresh,collection:e.collection,"primary-key":e.primaryKey},null,8,["refresh","collection","primary-key"]),e.loading?(m(),S(i,{key:0,indeterminate:""})):!e.activity||e.activity.length===0?(m(),I("div",Ow,[C("div",jw,b(e.t("no_comments")),1)])):(m(!0),I(ae,{key:2},be(e.activity,v=>(m(),I(ae,{key:v.date.toString()},[a(d,null,{default:r(()=>[D(b(v.dateFormatted),1)]),_:2},1024),(m(!0),I(ae,null,be(v.activity,y=>(m(),S(p,{key:y.id,refresh:e.refresh,activity:y},null,8,["refresh","activity"]))),128))],64))),128))]),_:1},8,["title","badge"])}var oo=N(Lw,[["render",Rw],["__scopeId","data-v-6aeefb6c"]]);class Mw extends Error{constructor(t,l,n,s){super(t);this.status=l,this.code=n,this.extensions=s||{}}}class Uw extends Mw{constructor(t){var l,n,s,u,o,i,d,p,f,v,y,_,g,w;const h={field:t.path[0]},k=t.type;if(k.endsWith("only"))if(((l=t.context)===null||l===void 0?void 0:l.valids.length)>1)h.type="in",h.valid=(n=t.context)===null||n===void 0?void 0:n.valids;else{const F=(s=t.context)===null||s===void 0?void 0:s.valids[0];F===null?h.type="null":F===""?h.type="empty":(h.type="eq",h.valid=(u=t.context)===null||u===void 0?void 0:u.valids[0])}if(k.endsWith("invalid"))if(((o=t.context)===null||o===void 0?void 0:o.invalids.length)>1)h.type="nin",h.invalid=(i=t.context)===null||i===void 0?void 0:i.invalids;else{const F=(d=t.context)===null||d===void 0?void 0:d.invalids[0];F===null?h.type="nnull":F===""?h.type="nempty":(h.type="neq",h.invalid=F)}k.endsWith("greater")&&(h.type="gt",h.valid=(p=t.context)===null||p===void 0?void 0:p.limit),k.endsWith("min")&&(h.type="gte",h.valid=(f=t.context)===null||f===void 0?void 0:f.limit),k.endsWith("less")&&(h.type="lt",h.valid=(v=t.context)===null||v===void 0?void 0:v.limit),k.endsWith("max")&&(h.type="lte",h.valid=(y=t.context)===null||y===void 0?void 0:y.limit),k.endsWith("contains")&&(h.type="contains",h.substring=(_=t.context)===null||_===void 0?void 0:_.substring),k.endsWith("ncontains")&&(h.type="ncontains",h.substring=(g=t.context)===null||g===void 0?void 0:g.substring),k.endsWith("required")&&(h.type="required"),k.endsWith(".pattern.base")&&(h.type="regex",h.invalid=(w=t.context)===null||w===void 0?void 0:w.value);super(t.message,400,"FAILED_VALIDATION",h)}}function Jt(e){return e.startsWith("directus_")?`/${e.substring(9)}`:`/items/${e}`}function Hn(e){const t=Xe();if(!t.currentUser)return e;const l={role:t.currentUser.role.id,user:t.currentUser.id};return r2(e,l)}function Sn(e,t){const{info:l,primaryKeyField:n,fields:s}=ot(e),u=E(null),o=E(null),i=E([]),d=E(!1),p=E(!1),f=E(!1),v=E(!1),y=E({}),_=V(()=>t.value==="+"),g=V(()=>typeof t.value=="string"&&t.value.includes(",")),w=V(()=>{var q,K;return!!((K=(q=l.value)==null?void 0:q.meta)==null?void 0:K.singleton)}),h=V(()=>{var q,K,H,Y;return((K=(q=l.value)==null?void 0:q.meta)==null?void 0:K.archive_field)?l.value.meta.archive_value==="true"?((H=u.value)==null?void 0:H[l.value.meta.archive_field])===!0:((Y=u.value)==null?void 0:Y[l.value.meta.archive_field])===l.value.meta.archive_value:null}),k=V(()=>w.value?Jt(e.value):`${Jt(e.value)}/${encodeURIComponent(t.value)}`);return ye([e,t],U,{immediate:!0}),{edits:y,item:u,error:o,loading:d,saving:p,refresh:U,save:A,isNew:_,remove:O,deleting:f,archive:L,isArchived:h,archiving:v,saveAsCopy:P,isBatch:g,getItem:F,validationErrors:i};async function F(){d.value=!0,o.value=null;try{const q=await pe.get(k.value);T(q)}catch(q){o.value=q}finally{d.value=!1}}async function A(){var K,H;p.value=!0,i.value=[];const q=B(y.value);if(q.length>0)throw i.value=q,p.value=!1,q;try{let Y;return _.value===!0?(Y=await pe.post(Jt(e.value),y.value),It({title:qe.global.t("item_create_success",g.value?2:1),type:"success"})):(Y=await pe.patch(k.value,y.value),It({title:qe.global.t("item_update_success",g.value?2:1),type:"success"})),T(Y),y.value={},Y.data.data}catch(Y){if((H=(K=Y==null?void 0:Y.response)==null?void 0:K.data)==null?void 0:H.errors){i.value=Y.response.data.errors.filter(re=>{var fe;return $l.includes((fe=re==null?void 0:re.extensions)==null?void 0:fe.code)}).map(re=>re.extensions);const J=Y.response.data.errors.filter(re=>{var fe;return $l.includes((fe=re==null?void 0:re.extensions)==null?void 0:fe.code)===!1});J.length>0&&J.forEach(Se)}else Se(Y);throw Y}finally{p.value=!1}}async function P(){var J,re,fe,X;p.value=!0,i.value=[];const q=((re=(J=l.value)==null?void 0:J.meta)==null?void 0:re.item_duplication_fields)||["*"],K=await pe.get(k.value,{params:{fields:q}}),H=oe(oe({},K.data.data||{}),y.value);n.value&&n.value.field in H&&delete H[n.value.field];const Y=B(H);if(Y.length>0)throw i.value=Y,p.value=!1,Y;try{const x=await pe.post(Jt(e.value),H);return It({title:qe.global.t("item_create_success",1),type:"success"}),y.value={},n.value?x.data.data[n.value.field]:null}catch(x){if((X=(fe=x==null?void 0:x.response)==null?void 0:fe.data)==null?void 0:X.errors)i.value=x.response.data.errors.filter(ee=>{var se;return((se=ee==null?void 0:ee.extensions)==null?void 0:se.code)==="FAILED_VALIDATION"}).map(ee=>ee.extensions);else throw Se(x),x}finally{p.value=!1}}async function L(){var Y,J;if(!((J=(Y=l.value)==null?void 0:Y.meta)==null?void 0:J.archive_field))return;v.value=!0;const q=l.value.meta.archive_field;let K=l.value.meta.archive_value;K==="true"&&(K=!0),K==="false"&&(K=!1);let H=l.value.meta.unarchive_value;H==="true"&&(H=!0),H==="false"&&(H=!1);try{let re=u.value&&u.value[q]===K?H:K;re==="true"&&(re=!0),re==="false"&&(re=!1),u.value=ke(oe({},u.value),{[q]:re}),await pe.patch(k.value,{[q]:re}),It({title:qe.global.t("item_delete_success",g.value?2:1),type:"success"})}catch(re){throw Se(re),re}finally{v.value=!1}}async function O(){f.value=!0;try{await pe.delete(k.value),u.value=null,It({title:qe.global.t("item_delete_success",g.value?2:1),type:"success"})}catch(q){throw Se(q),q}finally{f.value=!1}}function U(){o.value=null,d.value=!1,p.value=!1,f.value=!1,_.value===!0?u.value=null:F()}function T(q){var K;if(((K=q.data.data.collection)==null?void 0:K.startsWith("directus_"))&&(q.data.data=Ft(q.data.data)),g.value===!1)u.value=q.data.data;else{const H=oe({},q.data.data[0]);q.data.data.forEach(Y=>{for(const[J,re]of Object.entries(Y))H[J]!==re&&delete H[J]}),u.value=H}}function B(q){var re;const K={_and:[]},H=fe=>{var X;if(fe.meta&&Array.isArray((X=fe.meta)==null?void 0:X.conditions)){const ee=[...fe.meta.conditions].reverse().find(se=>{if(!se.rule||Object.keys(se.rule).length!==1)return;const W=Hn(se.rule);return qn(W,q,{requireAll:!0}).length===0});return ee?ke(oe({},fe),{meta:M.exports.merge({},fe.meta||{},{readonly:ee.readonly,options:ee.options,hidden:ee.hidden,required:ee.required})}):fe}else return fe},J=s.value.map(fe=>H(fe)).filter(fe=>{var X;return((X=fe.meta)==null?void 0:X.required)===!0});for(const fe of J)_.value===!0&&M.exports.isNil((re=fe.schema)==null?void 0:re.default_value)&&K._and.push({[fe.field]:{_submitted:!0}}),K._and.push({[fe.field]:{_nnull:!0}});return M.exports.flatten(qn(K,q).map(fe=>fe.details.map(X=>new Uw(X).extensions)))}}function ao(e){return e.charAt(0).toUpperCase()+e.slice(1)}function ba(e){return navigator.platform.toLowerCase().startsWith("mac")||navigator.platform.startsWith("iP")?e.map(l=>l==="meta"?"\u2318":l==="option"?"\u2325":l==="shift"?"\u21E7":l==="alt"?"\u2325":ao(l)).join(""):e.map(l=>l==="meta"?"Ctrl":ao(l)).join("+")}const Nw=z({props:{disabled:{type:Boolean,default:!1}},emits:["save-and-stay","save-and-add-new","save-as-copy"],setup(){const{t:e}=te();return{t:e,translateShortcut:ba}}});function Bw(e,t,l,n,s,u){const o=c("v-icon"),i=c("v-list-item-icon"),d=c("v-list-item-content"),p=c("v-list-item-hint"),f=c("v-list-item"),v=c("v-list"),y=c("v-menu");return m(),S(y,{"show-arrow":"",disabled:e.disabled},{activator:r(({toggle:_})=>[a(o,{class:ue({disabled:e.disabled}),name:"more_vert",clickable:"",onClick:_},null,8,["class","onClick"])]),default:r(()=>[a(v,null,{default:r(()=>[a(f,{disabled:e.disabled,clickable:"",onClick:t[0]||(t[0]=_=>e.$emit("save-and-stay"))},{default:r(()=>[a(i,null,{default:r(()=>[a(o,{name:"check"})]),_:1}),a(d,null,{default:r(()=>[D(b(e.t("save_and_stay")),1)]),_:1}),a(p,null,{default:r(()=>[D(b(e.translateShortcut(["meta","s"])),1)]),_:1})]),_:1},8,["disabled"]),a(f,{disabled:e.disabled,clickable:"",onClick:t[1]||(t[1]=_=>e.$emit("save-and-add-new"))},{default:r(()=>[a(i,null,{default:r(()=>[a(o,{name:"add"})]),_:1}),a(d,null,{default:r(()=>[D(b(e.t("save_and_create_new")),1)]),_:1}),a(p,null,{default:r(()=>[D(b(e.translateShortcut(["meta","shift","s"])),1)]),_:1})]),_:1},8,["disabled"]),a(f,{disabled:e.disabled,clickable:"",onClick:t[2]||(t[2]=_=>e.$emit("save-as-copy"))},{default:r(()=>[a(i,null,{default:r(()=>[a(o,{name:"done_all"})]),_:1}),a(d,null,{default:r(()=>[D(b(e.t("save_as_copy")),1)]),_:1})]),_:1},8,["disabled"])]),_:1})]),_:1},8,["disabled"])}var kl=N(Nw,[["render",Bw],["__scopeId","data-v-6cae65c2"]]);const rt=Xo.extend({type:"string",base:Xo.string(),messages:{"string.contains":"{{#label}} must contain [{{#substring}}]","string.ncontains":"{{#label}} can't contain [{{#substring}}]"},rules:{contains:{args:[{name:"substring",ref:!0,assert:e=>typeof e=="string",message:"must be a string"}],method(e){return this.$_addRule({name:"contains",args:{substring:e}})},validate(e,t,{substring:l}){return e.includes(l)===!1?t.error("string.contains",{substring:l}):e}},ncontains:{args:[{name:"substring",ref:!0,assert:e=>typeof e=="string",message:"must be a string"}],method(e){return this.$_addRule({name:"ncontains",args:{substring:e}})},validate(e,t,{substring:l}){return e.includes(l)===!0?t.error("string.ncontains",{substring:l}):e}}}}),qw={allowUnknown:!0,requireAll:!1};function zw(e,t){e=e||{},t=M.exports.merge({},qw,t);const l={};for(const[n,s]of Object.entries(e))if(n.startsWith("_")===!1){const o=Object.keys(s)[0];if(o==="_eq"&&(l[n]=rt.any().equal(Object.values(s)[0])),o==="_neq"&&(l[n]=rt.any().not(Object.values(s)[0])),o==="_contains"&&(l[n]=rt.string().contains(Object.values(s)[0])),o==="_ncontains"&&(l[n]=rt.string().ncontains(Object.values(s)[0])),o==="_starts_with"&&(l[n]=rt.string().pattern(new RegExp(`^${M.exports.escapeRegExp(Object.values(s)[0])}.*`),{name:"starts_with"})),o==="_nstarts_with"&&(l[n]=rt.string().pattern(new RegExp(`^${M.exports.escapeRegExp(Object.values(s)[0])}.*`),{name:"starts_with",invert:!0})),o==="_ends_with"&&(l[n]=rt.string().pattern(new RegExp(`.*${M.exports.escapeRegExp(Object.values(s)[0])}$`),{name:"ends_with"})),o==="_nends_with"&&(l[n]=rt.string().pattern(new RegExp(`.*${M.exports.escapeRegExp(Object.values(s)[0])}$`),{name:"ends_with",invert:!0})),o==="_in"&&(l[n]=rt.any().equal(...Object.values(s)[0])),o==="_nin"&&(l[n]=rt.any().not(...Object.values(s)[0])),o==="_gt"&&(l[n]=rt.number().greater(Number(Object.values(s)[0]))),o==="_gte"&&(l[n]=rt.number().min(Number(Object.values(s)[0]))),o==="_lt"&&(l[n]=rt.number().less(Number(Object.values(s)[0]))),o==="_lte"&&(l[n]=rt.number().max(Number(Object.values(s)[0]))),o==="_null"&&(l[n]=rt.any().valid(null)),o==="_nnull"&&(l[n]=rt.any().invalid(null)),o==="_empty"&&(l[n]=rt.any().valid("")),o==="_nempty"&&(l[n]=rt.any().invalid("")),o==="_between"){const i=Object.values(s)[0];l[n]=rt.number().greater(i[0]).less(i[1])}if(o==="_nbetween"){const i=Object.values(s)[0];l[n]=rt.number().less(i[0]).greater(i[1])}t.requireAll&&(l[n]=l[n].required())}return t.allowUnknown?rt.object(l).unknown():rt.object(l)}function Cl(e,t,l,n=!1){const s=Tt();if(Xe().isAdmin===!0)return!0;const i=s.permissions.find(f=>f.action===t&&f.collection===e);if(!i||!i.fields)return!1;if(n&&i.fields.includes("*")===!1&&l){const f=i.fields;if(Object.keys(l).every(y=>f.includes(y))===!1)return!1}const d=zw(i.permissions,{allowUnknown:!0}),{error:p}=d.validate(l);return!p}function Wn(e,t,l){const n=Xe(),s=Tt(),{info:u,fields:o}=ot(e),i=V(()=>Cl(e.value,"delete",t.value)),d=V(()=>l.value?!0:Cl(e.value,"update",t.value)),p=V(()=>Cl(e.value,"update",t.value)),f=V(()=>{var _,g;return((g=(_=u.value)==null?void 0:_.meta)==null?void 0:g.archive_field)?Cl(e.value,"update",{[u.value.meta.archive_field]:u.value.meta.archive_value},!0):!1}),v=V(()=>{var w,h,k;let _=M.exports.cloneDeep(o.value);if(((h=(w=n.currentUser)==null?void 0:w.role)==null?void 0:h.admin_access)===!0)return _;const g=s.getPermissionsForUser(e.value,l.value?"create":"update");return g&&(((k=g==null?void 0:g.fields)==null?void 0:k.includes("*"))===!1&&(_=_.map(F=>(g.fields.includes(F.field)===!1&&(F.meta=ke(oe({},F.meta||{}),{readonly:!0})),F))),(g==null?void 0:g.presets)&&(_=_.map(F=>(F.field in g.presets&&(F.schema=ke(oe({},F.schema||{}),{default_value:g.presets[F.field]})),F)))),_}),y=V(()=>{var _,g;return((g=(_=n.currentUser)==null?void 0:_.role)==null?void 0:g.admin_access)===!0?!0:!!s.permissions.find(w=>w.collection==="directus_revisions"&&w.action==="read")});return{deleteAllowed:i,saveAllowed:d,archiveAllowed:f,updateAllowed:p,fields:v,revisionsAllowed:y}}function nn(e){Zo(()=>{window.addEventListener("beforeunload",t)}),Bl(()=>{window.removeEventListener("beforeunload",t)});function t(l){if(e.value)return l.preventDefault(),l.returnValue="",""}}function Kw(e){if(e==null)return;const t=typeof e=="string"?E(e):e;return ye(t,(l,n)=>{typeof l=="string"&&n!==l&&(document.title=l)},{immediate:!0}),t}function Hw(e,t){const l=ws(t,e);return typeof l=="object"?JSON.stringify(l):l}function $a(e,t){const l=pl(t),n=pl(e),s=V(()=>yt(n)),u=V(()=>{if(!l||!n||!s.value)return!1;try{return $s(n,Hw,l,{propsExist:!0})}catch{return!1}});return{fieldsInTemplate:s,displayValue:u}}function Ww(e,t){const l=yt(e);if(!t||!e||!l)return null;try{return Un(e,t,{propsExist:!0})}catch{return null}}function wa(e,t){const l=E(),n=E(!1),s=E(null),u=V(()=>{var i,d;return((d=(i=e.value)==null?void 0:i.meta)==null?void 0:d.display_template)?yt(e.value.meta.display_template):null});return ye([e,t],o,{immediate:!0}),{templateData:l,loading:n,error:s};async function o(){if(!t.value||t.value==="+"||u.value===null||!e.value)return;n.value=!0;const i=e.value.collection.startsWith("directus_")?`/${e.value.collection.substring(9)}/${t.value}`:`/items/${e.value.collection}/${encodeURIComponent(t.value)}`;try{const d=await pe.get(i,{params:{fields:u.value}});l.value=d.data.data}catch(d){s.value=d}finally{n.value=!1}}}const Gw=z({name:"CollectionsItem",components:{CollectionsNavigation:bl,CollectionsNotFound:xl,RevisionsDrawerDetail:Kn,CommentsSidebarDetail:oo,SaveOptions:kl},props:{collection:{type:String,required:!0},primaryKey:{type:String,default:null},singleton:{type:Boolean,default:!1}},setup(e){const{t,te:l}=te(),n=Ye(),s=E(),{collection:u,primaryKey:o}=Ue(e),{breadcrumb:i}=_e(),d=E(null),{info:p,defaults:f,primaryKeyField:v,isSingleton:y,accountabilityScope:_}=ot(u),{isNew:g,edits:w,item:h,saving:k,loading:F,error:A,save:P,remove:L,deleting:O,archive:U,archiving:T,isArchived:B,saveAsCopy:q,refresh:K,validationErrors:H}=Sn(u,o),{templateData:Y,loading:J}=wa(p,o),re=V(()=>Object.keys(w.value).length>0),fe=V(()=>{var Fe,$e,Me,Qe,at,lt;return Q.value===!1?!1:re.value===!0?!0:!(($e=(Fe=v.value)==null?void 0:Fe.schema)==null?void 0:$e.has_auto_increment)&&!((at=(Qe=(Me=v.value)==null?void 0:Me.meta)==null?void 0:Qe.special)==null?void 0:at.includes("uuid"))?!!((lt=w.value)==null?void 0:lt[v.value.field]):g.value===!0&&Object.keys(f.value).length>0||re.value});nn(fe);const X=E(!1),x=E(!1),ee=E(!1),se=E(null),W=V(()=>{var Fe,$e;return l(`collection_names_singular.${e.collection}`)?g.value?t("creating_unit",{unit:t(`collection_names_singular.${e.collection}`)}):t("editing_unit",{unit:t(`collection_names_singular.${e.collection}`)}):g.value?t("creating_in",{collection:(Fe=p.value)==null?void 0:Fe.name}):t("editing_in",{collection:($e=p.value)==null?void 0:$e.name})}),G=V(()=>{var $e;let Fe=((($e=p.value)==null?void 0:$e.name)||"")+" | ";if(p.value&&p.value.meta){if(p.value.meta.singleton===!0)return Fe+p.value.name;if(g.value===!1&&p.value.meta.display_template){const{displayValue:Me}=$a(p.value.meta.display_template,Y);if(Me.value!==void 0)return Fe+Me.value}}return Fe+W.value});Kw(G);const le=V(()=>ve.value===!1?t("not_allowed"):B.value===!0?t("unarchive"):t("archive"));et("meta+s",De,s),et("meta+shift+s",Ie,s);const Z=Fe=>{if(re.value)return ee.value=!0,se.value=Fe.fullPath,!1};Ot(Z),Pt(Z);const{deleteAllowed:ce,archiveAllowed:ve,saveAllowed:Q,updateAllowed:ie,fields:de,revisionsAllowed:me}=Wn(u,h,g),he=V(()=>{var Fe,$e;return g.value?"+":y.value?($e=h.value)==null?void 0:$e[(Fe=v.value)==null?void 0:Fe.field]:e.primaryKey});return{t,router:n,item:h,loading:F,error:A,isNew:g,edits:w,isSavable:fe,hasEdits:re,saving:k,collectionInfo:p,saveAndQuit:Ce,deleteAndQuit:nt,confirmDelete:X,confirmArchive:x,deleting:O,archiving:T,saveAndStay:De,saveAndAddNew:Ie,saveAsCopyAndNavigate:je,templateData:Y,templateDataLoading:J,archiveTooltip:le,breadcrumb:i,title:W,revisionsDrawerDetail:d,refresh:K,confirmLeave:ee,leaveTo:se,discardAndLeave:Re,deleteAllowed:ce,saveAllowed:Q,archiveAllowed:ve,isArchived:B,updateAllowed:ie,toggleArchive:Pe,validationErrors:H,form:s,fields:de,isSingleton:y,internalPrimaryKey:he,revisionsAllowed:me,revert:Le,accountabilityScope:_};function _e(){return{breadcrumb:V(()=>{var $e;return[{name:($e=p.value)==null?void 0:$e.name,to:`/collections/${e.collection}`}]})}}async function Ce(){if(fe.value!==!1)try{await P(),e.singleton===!1&&n.push(`/collections/${e.collection}`)}catch{}}async function De(){var Fe,$e;if(fe.value!==!1)try{const Me=await P();if(($e=(Fe=d.value)==null?void 0:Fe.refresh)==null||$e.call(Fe),e.primaryKey==="+"){const Qe=Me[v.value.field];n.replace(`/collections/${e.collection}/${encodeURIComponent(Qe)}`)}}catch{}}async function Ie(){if(fe.value!==!1)try{await P(),g.value===!0?K():n.push(`/collections/${e.collection}/+`)}catch{}}async function je(){try{const Fe=await q();Fe&&n.push(`/collections/${e.collection}/${encodeURIComponent(Fe)}`)}catch{}}async function nt(){try{await L(),w.value={},n.push(`/collections/${e.collection}`)}catch{}}async function Pe(){try{await U(),B.value===!0?n.push(`/collections/${e.collection}`):x.value=!1}catch{}}function Re(){!se.value||(w.value={},ee.value=!1,n.push(se.value))}function Le(Fe){w.value=oe(oe({},w.value),Fe)}}}),Jw={class:"type-title"},Qw={class:"page-description"};function Xw(e,t,l,n,s,u){const o=c("collections-not-found"),i=c("v-skeleton-loader"),d=c("render-template"),p=c("v-icon"),f=c("v-button"),v=c("v-breadcrumb"),y=c("v-card-title"),_=c("v-card-actions"),g=c("v-card"),w=c("v-dialog"),h=c("save-options"),k=c("collections-navigation"),F=c("v-form"),A=c("v-card-text"),P=c("sidebar-detail"),L=c("revisions-drawer-detail"),O=c("comments-sidebar-detail"),U=c("private-view"),T=we("tooltip"),B=we("md");return e.error||e.collectionInfo.meta&&e.collectionInfo.meta.singleton===!0&&e.primaryKey!==null?(m(),S(o,{key:0})):(m(),S(U,{key:1,title:e.title},xe({"title-outer:prepend":r(()=>[e.collectionInfo.meta&&e.collectionInfo.meta.singleton===!0?(m(),S(f,{key:0,class:"header-icon",rounded:"",icon:"",secondary:"",disabled:""},{default:r(()=>[a(p,{name:e.collectionInfo.icon},null,8,["name"])]),_:1})):ne((m(),S(f,{key:1,class:"header-icon",rounded:"",icon:"",secondary:"",exact:"",onClick:t[0]||(t[0]=q=>e.router.back())},{default:r(()=>[a(p,{name:"arrow_back"})]),_:1},512)),[[T,e.t("back"),void 0,{bottom:!0}]])]),headline:r(()=>[e.collectionInfo.meta&&e.collectionInfo.meta.singleton===!0?(m(),S(v,{key:0,items:[{name:e.t("collections"),to:"/collections"}]},null,8,["items"])):(m(),S(v,{key:1,items:e.breadcrumb},null,8,["items"]))]),actions:r(()=>[e.isNew?R("",!0):(m(),S(w,{key:0,modelValue:e.confirmDelete,"onUpdate:modelValue":t[2]||(t[2]=q=>e.confirmDelete=q),disabled:e.deleteAllowed===!1,onEsc:t[3]||(t[3]=q=>e.confirmDelete=!1)},{activator:r(({on:q})=>[e.collectionInfo.meta&&e.collectionInfo.meta.singleton===!1?ne((m(),S(f,{key:0,rounded:"",icon:"",class:"action-delete",disabled:e.item===null||e.deleteAllowed!==!0,onClick:q},{default:r(()=>[a(p,{name:"delete",outline:""})]),_:2},1032,["disabled","onClick"])),[[T,e.deleteAllowed?e.t("delete_label"):e.t("not_allowed"),void 0,{bottom:!0}]]):R("",!0)]),default:r(()=>[a(g,null,{default:r(()=>[a(y,null,{default:r(()=>[D(b(e.t("delete_are_you_sure")),1)]),_:1}),a(_,null,{default:r(()=>[a(f,{secondary:"",onClick:t[1]||(t[1]=q=>e.confirmDelete=!1)},{default:r(()=>[D(b(e.t("cancel")),1)]),_:1}),a(f,{kind:"danger",loading:e.deleting,onClick:e.deleteAndQuit},{default:r(()=>[D(b(e.t("delete_label")),1)]),_:1},8,["loading","onClick"])]),_:1})]),_:1})]),_:1},8,["modelValue","disabled"])),e.collectionInfo.meta&&e.collectionInfo.meta.archive_field&&!e.isNew?(m(),S(w,{key:1,modelValue:e.confirmArchive,"onUpdate:modelValue":t[5]||(t[5]=q=>e.confirmArchive=q),disabled:e.archiveAllowed===!1,onEsc:t[6]||(t[6]=q=>e.confirmArchive=!1)},{activator:r(({on:q})=>[e.collectionInfo.meta&&e.collectionInfo.meta.singleton===!1?ne((m(),S(f,{key:0,rounded:"",icon:"",class:"action-archive",disabled:e.item===null||e.archiveAllowed!==!0,onClick:q},{default:r(()=>[a(p,{name:e.isArchived?"unarchive":"archive",outline:""},null,8,["name"])]),_:2},1032,["disabled","onClick"])),[[T,e.archiveTooltip,void 0,{bottom:!0}]]):R("",!0)]),default:r(()=>[a(g,null,{default:r(()=>[a(y,null,{default:r(()=>[D(b(e.isArchived?e.t("unarchive_confirm"):e.t("archive_confirm")),1)]),_:1}),a(_,null,{default:r(()=>[a(f,{secondary:"",onClick:t[4]||(t[4]=q=>e.confirmArchive=!1)},{default:r(()=>[D(b(e.t("cancel")),1)]),_:1}),a(f,{kind:"warning",loading:e.archiving,onClick:e.toggleArchive},{default:r(()=>[D(b(e.isArchived?e.t("unarchive"):e.t("archive")),1)]),_:1},8,["loading","onClick"])]),_:1})]),_:1})]),_:1},8,["modelValue","disabled"])):R("",!0),ne(a(f,{rounded:"",icon:"",loading:e.saving,disabled:e.isSavable===!1||e.saveAllowed===!1,onClick:e.saveAndQuit},{"append-outer":r(()=>[e.collectionInfo.meta&&e.collectionInfo.meta.singleton!==!0&&e.isSavable===!0?(m(),S(h,{key:0,onSaveAndStay:e.saveAndStay,onSaveAndAddNew:e.saveAndAddNew,onSaveAsCopy:e.saveAsCopyAndNavigate},null,8,["onSaveAndStay","onSaveAndAddNew","onSaveAsCopy"])):R("",!0)]),default:r(()=>[a(p,{name:"check"})]),_:1},8,["loading","disabled","onClick"]),[[T,e.saveAllowed?e.t("save"):e.t("not_allowed"),void 0,{bottom:!0}]])]),navigation:r(()=>[a(k,{"current-collection":e.collection},null,8,["current-collection"])]),sidebar:r(()=>[a(P,{icon:"info_outline",title:e.t("information"),close:""},{default:r(()=>[ne(C("div",Qw,null,512),[[B,e.t("page_help_collections_item")]])]),_:1},8,["title"]),e.isNew===!1&&e.internalPrimaryKey&&e.revisionsAllowed&&e.accountabilityScope==="all"?(m(),S(L,{key:0,ref:"revisionsDrawerDetail",collection:e.collection,"primary-key":e.internalPrimaryKey,scope:e.accountabilityScope,onRevert:e.revert},null,8,["collection","primary-key","scope","onRevert"])):R("",!0),e.isNew===!1&&e.internalPrimaryKey?(m(),S(O,{key:1,collection:e.collection,"primary-key":e.internalPrimaryKey},null,8,["collection","primary-key"])):R("",!0)]),default:r(()=>[a(F,{ref:"form",key:e.collection,modelValue:e.edits,"onUpdate:modelValue":t[7]||(t[7]=q=>e.edits=q),disabled:e.isNew?!1:e.updateAllowed===!1,loading:e.loading,"initial-values":e.item,fields:e.fields,"primary-key":e.internalPrimaryKey,"validation-errors":e.validationErrors},null,8,["modelValue","disabled","loading","initial-values","fields","primary-key","validation-errors"]),a(w,{modelValue:e.confirmLeave,"onUpdate:modelValue":t[9]||(t[9]=q=>e.confirmLeave=q),onEsc:t[10]||(t[10]=q=>e.confirmLeave=!1)},{default:r(()=>[a(g,null,{default:r(()=>[a(y,null,{default:r(()=>[D(b(e.t("unsaved_changes")),1)]),_:1}),a(A,null,{default:r(()=>[D(b(e.t("unsaved_changes_copy")),1)]),_:1}),a(_,null,{default:r(()=>[a(f,{secondary:"",onClick:e.discardAndLeave},{default:r(()=>[D(b(e.t("discard_changes")),1)]),_:1},8,["onClick"]),a(f,{onClick:t[8]||(t[8]=q=>e.confirmLeave=!1)},{default:r(()=>[D(b(e.t("keep_editing")),1)]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:2},[e.collectionInfo.meta&&e.collectionInfo.meta.singleton===!0?{name:"title",fn:r(()=>[C("h1",Jw,b(e.collectionInfo.name),1)])}:e.isNew===!1&&e.collectionInfo.meta&&e.collectionInfo.meta.display_template?{name:"title",fn:r(()=>[e.loading||e.templateDataLoading?(m(),S(i,{key:0,class:"title-loader",type:"text"})):(m(),I("h1",{key:1,class:"type-title"},[a(d,{collection:e.collectionInfo.collection,item:e.templateData,template:e.collectionInfo.meta.display_template},null,8,["collection","item","template"])]))])}:void 0]),1032,["title"]))}var ka=N(Gw,[["render",Xw],["__scopeId","data-v-71940df9"]]);const Zw=z({components:{CollectionRoute:V$,ItemRoute:ka},props:{collection:{type:String,required:!0},bookmark:{type:String,default:null},archive:{type:Boolean,default:!1}},setup(e){const t=Ke();return{isSingleton:V(()=>{var s;const n=t.getCollection(e.collection);return!!((s=n==null?void 0:n.meta)==null?void 0:s.singleton)})}}});function Yw(e,t,l,n,s,u){return m(),S(Be(e.isSingleton?"item-route":"collection-route"),{collection:e.collection,bookmark:e.bookmark,singleton:e.isSingleton?!0:void 0,archive:e.archive},null,8,["collection","bookmark","singleton","archive"])}var xw=N(Zw,[["render",Yw]]);const ek=z({name:"CollectionsOverview",components:{CollectionsNavigation:bl},props:{},setup(){const{t:e}=te(),t=Xe(),l=V(()=>{var n;return((n=t.currentUser)==null?void 0:n.role.admin_access)===!0});return{t:e,isAdmin:l}}}),tk={class:"page-description"};function nk(e,t,l,n,s,u){const o=c("v-icon"),i=c("v-button"),d=c("collections-navigation"),p=c("v-info"),f=c("sidebar-detail"),v=c("private-view"),y=we("md");return m(),S(v,{class:"collections-overview",title:e.t("collections")},{"title-outer:prepend":r(()=>[a(i,{class:"header-icon",rounded:"",disabled:"",icon:"",secondary:""},{default:r(()=>[a(o,{name:"box"})]),_:1})]),navigation:r(()=>[a(d)]),sidebar:r(()=>[a(f,{icon:"info_outline",title:e.t("information"),close:""},{default:r(()=>[ne(C("div",tk,null,512),[[y,e.t("page_help_collections_overview")]])]),_:1},8,["title"])]),default:r(()=>[a(p,{icon:"box",title:e.t("no_collections"),center:""},xe({default:r(()=>[e.isAdmin?(m(),I(ae,{key:0},[D(b(e.t("no_collections_copy_admin")),1)],64)):(m(),I(ae,{key:1},[D(b(e.t("no_collections_copy")),1)],64))]),_:2},[e.isAdmin?{name:"append",fn:r(()=>[a(i,{to:"/settings/data-model/+"},{default:r(()=>[D(b(e.t("create_collection")),1)]),_:1})])}:void 0]),1032,["title"])]),_:1},8,["title"])}var lk=N(ek,[["render",nk],["__scopeId","data-v-0b7f5748"]]);const io=(e,t)=>{var l;if(!!((l=e.params)==null?void 0:l.collection)){if(e.params.collection==="directus_users")return e.params.primaryKey?`/users/${e.params.primaryKey}`:"/users";if(e.params.collection==="directus_files")return e.params.primaryKey?`/files/${e.params.primaryKey}`:"/files";if(e.params.collection==="directus_activity")return e.params.primaryKey?`/activity/${e.params.primaryKey}`:"/activity";if(e.params.collection==="directus_webhooks")return e.params.primaryKey?`/settings/webhooks/${e.params.primaryKey}`:"/settings/webhooks";if("bookmark"in t.query&&typeof t.query.bookmark=="string"&&!("bookmark"in e.query)&&e.params.collection===t.params.collection)return Xl(e.fullPath,{bookmark:t.query.bookmark})}};var ok=un({id:"collections",name:"$t:collections",icon:"box",routes:[{name:"no-collections",path:"",component:lk,beforeEnter(){const e=Ke(),{activeGroups:t}=_a(E(null));if(e.visibleCollections.length===0)return;const l=M.exports.orderBy(e.visibleCollections.filter(u=>{var o;return M.exports.isNil((o=u==null?void 0:u.meta)==null?void 0:o.group)}),["meta.sort","collection"]);let n=s(l);if(n=s(l,{skipClosed:!1}),!n)return;return`/collections/${n.collection}`;function s(u,{skipClosed:o}={skipClosed:!0}){for(const i of u){if(i.schema)return i;if(o&&t.value.includes(i.collection)===!1)continue;const d=M.exports.orderBy(e.visibleCollections.filter(f=>{var v;return i.collection===((v=f.meta)==null?void 0:v.group)}),["meta.sort","collection"]),p=s(d);if(p)return p}}}},{path:":collection",component:fn,children:[{name:"collections-collection",path:"",component:xw,props:e=>({collection:e.params.collection,bookmark:e.query.bookmark,archive:"archive"in e.query}),beforeEnter:io},{name:"collections-item",path:":primaryKey",component:ka,props:!0,beforeEnter:io}]},{name:"collections-item-not-found",path:":_(.+)+",component:xl,beforeEnter:io}]}),ak=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:ok}),ik=[{name:"app",path:"app",children:[{name:"content-collections",path:"app/content-collections",import:()=>j(()=>import("./assets/content-collections.32b7e9af.js"),["assets/content-collections.32b7e9af.js","assets/vendor.6ad70522.js","assets/vendor.fe7856f0.css"])},{name:"content-items",path:"app/content-items",import:()=>j(()=>import("./assets/content-items.23767b16.js"),["assets/content-items.23767b16.js","assets/vendor.6ad70522.js","assets/vendor.fe7856f0.css"])},{name:"content",path:"app/content",import:()=>j(()=>import("./assets/content.a2ee19a6.js"),["assets/content.a2ee19a6.js","assets/vendor.6ad70522.js","assets/vendor.fe7856f0.css"])},{name:"documentation",path:"app/documentation",import:()=>j(()=>import("./assets/documentation.5c345a9a.js"),["assets/documentation.5c345a9a.js","assets/vendor.6ad70522.js","assets/vendor.fe7856f0.css"])},{name:"file-library",path:"app/file-library",import:()=>j(()=>import("./assets/file-library.317c090a.js"),["assets/file-library.317c090a.js","assets/vendor.6ad70522.js","assets/vendor.fe7856f0.css"])},{name:"insights",path:"app/insights",import:()=>j(()=>import("./assets/insights.22c55251.js"),["assets/insights.22c55251.js","assets/vendor.6ad70522.js","assets/vendor.fe7856f0.css"])},{name:"overview",path:"app/overview",import:()=>j(()=>import("./assets/overview.6ee45247.js"),["assets/overview.6ee45247.js","assets/vendor.6ad70522.js","assets/vendor.fe7856f0.css"])},{name:"settings",path:"app/settings",import:()=>j(()=>import("./assets/settings.ee8d8715.js"),["assets/settings.ee8d8715.js","assets/vendor.6ad70522.js","assets/vendor.fe7856f0.css"])},{name:"user-directory",path:"app/user-directory",import:()=>j(()=>import("./assets/user-directory.f11be162.js"),["assets/user-directory.f11be162.js","assets/vendor.6ad70522.js","assets/vendor.fe7856f0.css"])}]},{name:"configuration",path:"configuration",children:[{name:"activity-log",path:"configuration/activity-log",import:()=>j(()=>import("./assets/activity-log.7d8df9fa.js"),["assets/activity-log.7d8df9fa.js","assets/vendor.6ad70522.js","assets/vendor.fe7856f0.css"])},{name:"config-options",path:"configuration/config-options",import:()=>j(()=>import("./assets/config-options.f81455a4.js"),["assets/config-options.f81455a4.js","assets/vendor.6ad70522.js","assets/vendor.fe7856f0.css"])},{name:"data-model",path:"configuration/data-model",import:()=>j(()=>import("./assets/data-model.227c725c.js"),["assets/data-model.227c725c.js","assets/vendor.6ad70522.js","assets/vendor.fe7856f0.css"])},{name:"faq",path:"configuration/faq",import:()=>j(()=>import("./assets/faq.b76623c8.js"),["assets/faq.b76623c8.js","assets/vendor.6ad70522.js","assets/vendor.fe7856f0.css"])},{name:"filter-rules",path:"configuration/filter-rules",import:()=>j(()=>import("./assets/filter-rules.32866105.js"),["assets/filter-rules.32866105.js","assets/vendor.6ad70522.js","assets/vendor.fe7856f0.css"])},{name:"localization",path:"configuration/localization",import:()=>j(()=>import("./assets/localization.826918c8.js"),["assets/localization.826918c8.js","assets/vendor.6ad70522.js","assets/vendor.fe7856f0.css"])},{name:"overview",path:"configuration/overview",import:()=>j(()=>import("./assets/overview.0ce2a214.js"),["assets/overview.0ce2a214.js","assets/vendor.6ad70522.js","assets/vendor.fe7856f0.css"])},{name:"presets-bookmarks",path:"configuration/presets-bookmarks",import:()=>j(()=>import("./assets/presets-bookmarks.6ed5a6d3.js"),["assets/presets-bookmarks.6ed5a6d3.js","assets/vendor.6ad70522.js","assets/vendor.fe7856f0.css"])},{name:"project-settings",path:"configuration/project-settings",import:()=>j(()=>import("./assets/project-settings.a06f24a8.js"),["assets/project-settings.a06f24a8.js","assets/vendor.6ad70522.js","assets/vendor.fe7856f0.css"])},{name:"relationships",path:"configuration/relationships",import:()=>j(()=>import("./assets/relationships.33c07fc4.js"),["assets/relationships.33c07fc4.js","assets/vendor.6ad70522.js","assets/vendor.fe7856f0.css"])},{name:"security",path:"configuration/security",import:()=>j(()=>import("./assets/security.ae0c3c63.js"),["assets/security.ae0c3c63.js","assets/vendor.6ad70522.js","assets/vendor.fe7856f0.css"])},{name:"upgrades-migrations",path:"configuration/upgrades-migrations",import:()=>j(()=>import("./assets/upgrades-migrations.1bec08e3.js"),["assets/upgrades-migrations.1bec08e3.js","assets/vendor.6ad70522.js","assets/vendor.fe7856f0.css"])},{name:"users-roles-permissions",path:"configuration/users-roles-permissions",import:()=>j(()=>import("./assets/users-roles-permissions.0fc3f63b.js"),["assets/users-roles-permissions.0fc3f63b.js","assets/vendor.6ad70522.js","assets/vendor.fe7856f0.css"])},{name:"webhooks",path:"configuration/webhooks",import:()=>j(()=>import("./assets/webhooks.28adbbaa.js"),["assets/webhooks.28adbbaa.js","assets/vendor.6ad70522.js","assets/vendor.fe7856f0.css"])}]},{name:"contributing",path:"contributing",children:[{name:"codebase-overview",path:"contributing/codebase-overview",import:()=>j(()=>import("./assets/codebase-overview.22216b31.js"),["assets/codebase-overview.22216b31.js","assets/vendor.6ad70522.js","assets/vendor.fe7856f0.css"])},{name:"github-ci",path:"contributing/github-ci",import:()=>j(()=>import("./assets/github-ci.af32ea02.js"),["assets/github-ci.af32ea02.js","assets/vendor.6ad70522.js","assets/vendor.fe7856f0.css"])},{name:"introduction",path:"contributing/introduction",import:()=>j(()=>import("./assets/introduction.ef035a84.js"),["assets/introduction.ef035a84.js","assets/vendor.6ad70522.js","assets/vendor.fe7856f0.css"])},{name:"running-locally",path:"contributing/running-locally",import:()=>j(()=>import("./assets/running-locally.224b7919.js"),["assets/running-locally.224b7919.js","assets/vendor.6ad70522.js","assets/vendor.fe7856f0.css"])},{name:"translations",path:"contributing/translations",import:()=>j(()=>import("./assets/translations.568ebf15.js"),["assets/translations.568ebf15.js","assets/vendor.6ad70522.js","assets/vendor.fe7856f0.css"])}]},{name:"extensions",path:"extensions",children:[{name:"api-endpoints",path:"extensions/api-endpoints",import:()=>j(()=>import("./assets/api-endpoints.8b6665bc.js"),["assets/api-endpoints.8b6665bc.js","assets/vendor.6ad70522.js","assets/vendor.fe7856f0.css"])},{name:"app-translations",path:"extensions/app-translations",import:()=>j(()=>import("./assets/app-translations.e3fe7cd1.js"),["assets/app-translations.e3fe7cd1.js","assets/vendor.6ad70522.js","assets/vendor.fe7856f0.css"])},{name:"displays",path:"extensions/displays",import:()=>j(()=>import("./assets/displays.637199aa.js"),["assets/displays.637199aa.js","assets/vendor.6ad70522.js","assets/vendor.fe7856f0.css"])},{name:"email-templates",path:"extensions/email-templates",import:()=>j(()=>import("./assets/email-templates.02899282.js"),["assets/email-templates.02899282.js","assets/vendor.6ad70522.js","assets/vendor.fe7856f0.css"])},{name:"hooks",path:"extensions/hooks",import:()=>j(()=>import("./assets/hooks.f6f769ce.js"),["assets/hooks.f6f769ce.js","assets/vendor.6ad70522.js","assets/vendor.fe7856f0.css"])},{name:"interfaces",path:"extensions/interfaces",import:()=>j(()=>import("./assets/interfaces.26529940.js"),["assets/interfaces.26529940.js","assets/vendor.6ad70522.js","assets/vendor.fe7856f0.css"])},{name:"introduction",path:"extensions/introduction",import:()=>j(()=>import("./assets/introduction.82d2a7ca.js"),["assets/introduction.82d2a7ca.js","assets/vendor.6ad70522.js","assets/vendor.fe7856f0.css"])},{name:"layouts",path:"extensions/layouts",import:()=>j(()=>import("./assets/layouts.68316239.js"),["assets/layouts.68316239.js","assets/vendor.6ad70522.js","assets/vendor.fe7856f0.css"])},{name:"migrations",path:"extensions/migrations",import:()=>j(()=>import("./assets/migrations.8c50b104.js"),["assets/migrations.8c50b104.js","assets/vendor.6ad70522.js","assets/vendor.fe7856f0.css"])},{name:"modules",path:"extensions/modules",import:()=>j(()=>import("./assets/modules.b4663334.js"),["assets/modules.b4663334.js","assets/vendor.6ad70522.js","assets/vendor.fe7856f0.css"])},{name:"panels",path:"extensions/panels",import:()=>j(()=>import("./assets/panels.53ad06b2.js"),["assets/panels.53ad06b2.js","assets/vendor.6ad70522.js","assets/vendor.fe7856f0.css"])},{name:"themes",path:"extensions/themes",import:()=>j(()=>import("./assets/themes.ae776c13.js"),["assets/themes.ae776c13.js","assets/vendor.6ad70522.js","assets/vendor.fe7856f0.css"])}]},{name:"getting-started",path:"getting-started",children:[{name:"backing-directus",path:"getting-started/backing-directus",import:()=>j(()=>import("./assets/backing-directus.17cbd2a3.js"),["assets/backing-directus.17cbd2a3.js","assets/vendor.6ad70522.js","assets/vendor.fe7856f0.css"])},{name:"glossary",path:"getting-started/glossary",import:()=>j(()=>import("./assets/glossary.001f6de4.js"),["assets/glossary.001f6de4.js","assets/vendor.6ad70522.js","assets/vendor.fe7856f0.css"])},{name:"installation",path:"getting-started/installation",children:[{name:"aws",path:"getting-started/installation/aws",import:()=>j(()=>import("./assets/aws.a8ab59c5.js"),["assets/aws.a8ab59c5.js","assets/vendor.6ad70522.js","assets/vendor.fe7856f0.css"])},{name:"cli",path:"getting-started/installation/cli",import:()=>j(()=>import("./assets/cli.6bd5bc90.js"),["assets/cli.6bd5bc90.js","assets/vendor.6ad70522.js","assets/vendor.fe7856f0.css"])},{name:"digitalocean-app-platform",path:"getting-started/installation/digitalocean-app-platform",import:()=>j(()=>import("./assets/digitalocean-app-platform.b3aaf883.js"),["assets/digitalocean-app-platform.b3aaf883.js","assets/vendor.6ad70522.js","assets/vendor.fe7856f0.css"])},{name:"docker",path:"getting-started/installation/docker",import:()=>j(()=>import("./assets/docker.4570ab49.js"),["assets/docker.4570ab49.js","assets/vendor.6ad70522.js","assets/vendor.fe7856f0.css"])},{name:"iis",path:"getting-started/installation/iis",import:()=>j(()=>import("./assets/iis.d005c998.js"),["assets/iis.d005c998.js","assets/vendor.6ad70522.js","assets/vendor.fe7856f0.css"])},{name:"manual",path:"getting-started/installation/manual",import:()=>j(()=>import("./assets/manual.291deb6d.js"),["assets/manual.291deb6d.js","assets/vendor.6ad70522.js","assets/vendor.fe7856f0.css"])},{name:"plesk",path:"getting-started/installation/plesk",import:()=>j(()=>import("./assets/plesk.a8c3b07c.js"),["assets/plesk.a8c3b07c.js","assets/vendor.6ad70522.js","assets/vendor.fe7856f0.css"])},{name:"ubuntu",path:"getting-started/installation/ubuntu",import:()=>j(()=>import("./assets/ubuntu.ac6b8828.js"),["assets/ubuntu.ac6b8828.js","assets/vendor.6ad70522.js","assets/vendor.fe7856f0.css"])}]},{name:"installation",path:"getting-started/installation",import:()=>j(()=>import("./assets/installation.7e440a6f.js"),["assets/installation.7e440a6f.js","assets/vendor.6ad70522.js","assets/vendor.fe7856f0.css"])},{name:"introduction",path:"getting-started/introduction",import:()=>j(()=>import("./assets/introduction.841b990b.js"),["assets/introduction.841b990b.js","assets/vendor.6ad70522.js","assets/vendor.fe7856f0.css"])},{name:"quickstart",path:"getting-started/quickstart",import:()=>j(()=>import("./assets/quickstart.493ca63d.js"),["assets/quickstart.493ca63d.js","assets/vendor.6ad70522.js","assets/vendor.fe7856f0.css"])},{name:"support",path:"getting-started/support",import:()=>j(()=>import("./assets/support.e53f8098.js"),["assets/support.e53f8098.js","assets/vendor.6ad70522.js","assets/vendor.fe7856f0.css"])}]},{name:"reference",path:"reference",children:[{name:"authentication",path:"reference/authentication",import:()=>j(()=>import("./assets/authentication.1e341f2f.js"),["assets/authentication.1e341f2f.js","assets/vendor.6ad70522.js","assets/vendor.fe7856f0.css"])},{name:"cli",path:"reference/cli",import:()=>j(()=>import("./assets/cli.a05f102d.js"),["assets/cli.a05f102d.js","assets/vendor.6ad70522.js","assets/vendor.fe7856f0.css"])},{name:"files",path:"reference/files",import:()=>j(()=>import("./assets/files.7444d9c4.js"),["assets/files.7444d9c4.js","assets/vendor.6ad70522.js","assets/vendor.fe7856f0.css"])},{name:"introduction",path:"reference/introduction",import:()=>j(()=>import("./assets/introduction.57cee287.js"),["assets/introduction.57cee287.js","assets/vendor.6ad70522.js","assets/vendor.fe7856f0.css"])},{name:"items",path:"reference/items",import:()=>j(()=>import("./assets/items.d9dab22c.js"),["assets/items.d9dab22c.js","assets/vendor.6ad70522.js","assets/vendor.fe7856f0.css"])},{name:"query",path:"reference/query",import:()=>j(()=>import("./assets/query.a3c64049.js"),["assets/query.a3c64049.js","assets/vendor.6ad70522.js","assets/vendor.fe7856f0.css"])},{name:"sdk",path:"reference/sdk",import:()=>j(()=>import("./assets/sdk.31ee128a.js"),["assets/sdk.31ee128a.js","assets/vendor.6ad70522.js","assets/vendor.fe7856f0.css"])},{name:"system",path:"reference/system",children:[{name:"activity",path:"reference/system/activity",import:()=>j(()=>import("./assets/activity.fd7b6243.js"),["assets/activity.fd7b6243.js","assets/vendor.6ad70522.js","assets/vendor.fe7856f0.css"])},{name:"collections",path:"reference/system/collections",import:()=>j(()=>import("./assets/collections.8348d9d9.js"),["assets/collections.8348d9d9.js","assets/vendor.6ad70522.js","assets/vendor.fe7856f0.css"])},{name:"extensions",path:"reference/system/extensions",import:()=>j(()=>import("./assets/extensions.4264cbcf.js"),["assets/extensions.4264cbcf.js","assets/vendor.6ad70522.js","assets/vendor.fe7856f0.css"])},{name:"fields",path:"reference/system/fields",import:()=>j(()=>import("./assets/fields.6d8548ea.js"),["assets/fields.6d8548ea.js","assets/vendor.6ad70522.js","assets/vendor.fe7856f0.css"])},{name:"folders",path:"reference/system/folders",import:()=>j(()=>import("./assets/folders.455a5469.js"),["assets/folders.455a5469.js","assets/vendor.6ad70522.js","assets/vendor.fe7856f0.css"])},{name:"permissions",path:"reference/system/permissions",import:()=>j(()=>import("./assets/permissions.5af725fe.js"),["assets/permissions.5af725fe.js","assets/vendor.6ad70522.js","assets/vendor.fe7856f0.css"])},{name:"presets",path:"reference/system/presets",import:()=>j(()=>import("./assets/presets.027402ac.js"),["assets/presets.027402ac.js","assets/vendor.6ad70522.js","assets/vendor.fe7856f0.css"])},{name:"relations",path:"reference/system/relations",import:()=>j(()=>import("./assets/relations.b1f7eb74.js"),["assets/relations.b1f7eb74.js","assets/vendor.6ad70522.js","assets/vendor.fe7856f0.css"])},{name:"revisions",path:"reference/system/revisions",import:()=>j(()=>import("./assets/revisions.b6ec71ee.js"),["assets/revisions.b6ec71ee.js","assets/vendor.6ad70522.js","assets/vendor.fe7856f0.css"])},{name:"roles",path:"reference/system/roles",import:()=>j(()=>import("./assets/roles.ae589bbd.js"),["assets/roles.ae589bbd.js","assets/vendor.6ad70522.js","assets/vendor.fe7856f0.css"])},{name:"server",path:"reference/system/server",import:()=>j(()=>import("./assets/server.c1ccab17.js"),["assets/server.c1ccab17.js","assets/vendor.6ad70522.js","assets/vendor.fe7856f0.css"])},{name:"settings",path:"reference/system/settings",import:()=>j(()=>import("./assets/settings.183ef0d8.js"),["assets/settings.183ef0d8.js","assets/vendor.6ad70522.js","assets/vendor.fe7856f0.css"])},{name:"users",path:"reference/system/users",import:()=>j(()=>import("./assets/users.d24ded2b.js"),["assets/users.d24ded2b.js","assets/vendor.6ad70522.js","assets/vendor.fe7856f0.css"])},{name:"utilities",path:"reference/system/utilities",import:()=>j(()=>import("./assets/utilities.23218934.js"),["assets/utilities.23218934.js","assets/vendor.6ad70522.js","assets/vendor.fe7856f0.css"])},{name:"webhooks",path:"reference/system/webhooks",import:()=>j(()=>import("./assets/webhooks.65bd5f07.js"),["assets/webhooks.65bd5f07.js","assets/vendor.6ad70522.js","assets/vendor.fe7856f0.css"])}]}]}];const sk=z({name:"NavigationListItem",props:{section:{type:Object,default:null},dense:{type:Boolean,default:!1}}});function rk(e,t,l,n,s,u){const o=c("v-divider"),i=c("v-icon"),d=c("v-list-item-icon"),p=c("v-text-overflow"),f=c("v-list-item-content"),v=c("navigation-list-item"),y=c("v-list-group"),_=c("v-list-item");return e.section.divider?(m(),S(o,{key:0})):e.section.children?(m(),S(y,{key:1,scope:"docs-navigation",dense:e.dense,multiple:!1,value:e.section.to},{activator:r(()=>[e.section.icon!==void 0?(m(),S(d,{key:0},{default:r(()=>[a(i,{name:e.section.icon},null,8,["name"])]),_:1})):R("",!0),a(f,null,{default:r(()=>[a(p,{text:e.section.name},null,8,["text"])]),_:1})]),default:r(()=>[(m(!0),I(ae,null,be(e.section.children,(g,w)=>(m(),S(v,{key:w,section:g,dense:""},null,8,["section"]))),128))]),_:1},8,["dense","value"])):(m(),S(_,{key:2,scope:"docs-navigation",to:`/docs${e.section.to}`,dense:e.dense,value:e.section.to},{default:r(()=>[e.section.icon!==void 0?(m(),S(d,{key:0},{default:r(()=>[a(i,{name:e.section.icon},null,8,["name"])]),_:1})):R("",!0),a(f,null,{default:r(()=>[a(p,{text:e.section.name},null,8,["text"])]),_:1})]),_:1},8,["to","dense","value"]))}var dk=N(sk,[["render",rk]]),uk=[{name:"App Overview",to:"/app/overview",icon:"school"},{name:"Content Collections",to:"/app/content-collections",icon:"list_alt"},{name:"Content Items",to:"/app/content-items",icon:"edit_note"},{name:"User Directory",to:"/app/user-directory",icon:"people_alt"},{name:"File Library",to:"/app/file-library",icon:"folder"},{name:"Insights",to:"/app/insights",icon:"insights"},{name:"Documentation",to:"/app/documentation",icon:"help_outline"},{name:"Settings",to:"/app/settings",icon:"settings"},{name:"Help & Support",to:"/getting-started/support",icon:"support_agent"},{name:"Backing Directus",to:"/getting-started/backing-directus",icon:"card_giftcard"},{name:"Glossary",to:"/getting-started/glossary",icon:"menu_book"}];function ck(e){const t=e.substr(1).split("/");if(t.length===0)return[];const l=["/"+t[0]];for(let n=1;n<t.length;n++)l.push(l[n-1]+"/"+t[n]);return l[0]==="/reference"&&l[1]==="/reference/api"&&l.shift(),l}const pk=z({components:{NavigationItem:dk},props:{path:{type:String,default:"/docs"}},setup(e){const t=E(null);return ye(()=>e.path,l=>{l!==null&&(t.value=[...t.value||[],...ck(l.replace("/docs",""))])},{immediate:!0}),{navSections:uk,selection:t}}});function mk(e,t,l,n,s,u){const o=c("navigation-item"),i=c("v-list");return m(),S(i,{modelValue:e.selection,"onUpdate:modelValue":t[0]||(t[0]=d=>e.selection=d),nav:"",mandatory:!1,scope:"docs-navigation"},{default:r(()=>[(m(!0),I(ae,null,be(e.navSections,d=>(m(),S(o,{key:d.name,section:d},null,8,["section"]))),128))]),_:1},8,["modelValue"])}var Ca=N(pk,[["render",mk]]);const fk=z({name:"NotFound",components:{DocsNavigation:Ca},setup(){const{t:e}=te(),t=en();return{t:e,route:t}}}),vk={class:"not-found"};function _k(e,t,l,n,s,u){const o=c("docs-navigation"),i=c("v-info"),d=c("private-view");return m(),S(d,{title:e.t("page_not_found")},{navigation:r(()=>[a(o,{path:e.route.path},null,8,["path"])]),default:r(()=>[C("div",vk,[a(i,{title:e.t("page_not_found"),icon:"not_interested"},{default:r(()=>[D(b(e.t("page_not_found_body")),1)]),_:1},8,["title"])])]),_:1},8,["title"])}var yk=N(fk,[["render",_k],["__scopeId","data-v-736afbfa"]]);const gk=z({name:"StaticDocs",components:{DocsNavigation:Ca},setup(){const{t:e}=te(),t=en(),l=E("Test"),n=E(!1);return{t:e,route:t,title:l,modularExtension:n}}}),hk={class:"type-title"},bk=D("Modular Extension"),$k={class:"docs-content selectable"},wk={class:"page-description"};function kk(e,t,l,n,s,u){const o=c("v-icon"),i=c("v-button"),d=c("v-chip"),p=c("docs-navigation"),f=c("router-view"),v=c("sidebar-detail"),y=c("private-view"),_=we("md");return m(),S(y,{title:e.title},{"title-outer:prepend":r(()=>[a(i,{rounded:"",disabled:"",icon:""},{default:r(()=>[a(o,{name:"info"})]),_:1})]),title:r(()=>[C("h1",hk,b(e.title),1),e.modularExtension?(m(),S(d,{key:0,disabled:"",small:""},{default:r(()=>[bk]),_:1})):R("",!0)]),navigation:r(()=>[a(p,{path:e.route.path},null,8,["path"])]),sidebar:r(()=>[a(v,{icon:"info_outline",title:e.t("information"),close:""},{default:r(()=>[ne(C("div",wk,null,512),[[_,e.t("page_help_docs_global")]])]),_:1},8,["title"])]),default:r(()=>[C("div",$k,[a(f,{"onUpdate:title":t[0]||(t[0]=g=>e.title=g),"onUpdate:modularExtension":t[1]||(t[1]=g=>e.modularExtension=g)})])]),_:1},8,["title"])}var Ck=N(gk,[["render",kk],["__scopeId","data-v-3383fb1a"]]),Sk=un({id:"docs",name:"$t:documentation",icon:"help_outline",routes:[{path:"",component:Ck,children:[{path:"",redirect:"/docs/getting-started/introduction/"},...Sa(ik)]},{path:":_(.+)+",component:yk}]});function Sa(e){const t=[];for(const l of e)"children"in l?(t.push({path:l.path,redirect:`/docs/${l.children[0].path}`}),t.push(...Sa(l.children))):t.push({name:`docs-${l.path.replace("/","-")}`,path:l.path,component:l.import});return t}var Vk=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:Sk});const Fk=z({props:{folder:{type:String,default:null}},setup(e){const{t}=te(),l=Ye(),n=mn();return{t,isOpen:n,close:s};function s(){l.push(e.folder?{path:`/files/folders/${e.folder}`}:{path:"/files"})}}});function Ak(e,t,l,n,s,u){const o=c("v-card-title"),i=c("v-upload"),d=c("v-card-text"),p=c("v-button"),f=c("v-card-actions"),v=c("v-card"),y=c("v-dialog");return m(),S(y,{"model-value":e.isOpen,"onUpdate:modelValue":e.close,onEsc:e.close},{default:r(()=>[a(v,null,{default:r(()=>[a(o,null,{default:r(()=>[D(b(e.t("add_file")),1)]),_:1}),a(d,null,{default:r(()=>[a(i,{preset:{folder:e.folder},multiple:"","from-url":"",onInput:e.close},null,8,["preset","onInput"])]),_:1}),a(f,null,{default:r(()=>[a(p,{secondary:"",onClick:e.close},{default:r(()=>[D(b(e.t("done")),1)]),_:1},8,["onClick"])]),_:1})]),_:1})]),_:1},8,["model-value","onUpdate:modelValue","onEsc"])}var Va=N(Fk,[["render",Ak]]);let _n=null,Vn=null,Gn=null,so=null,Jn=null;function Qn(){return _n===null&&(_n=E(!1)),Vn===null&&(Vn=E(null)),Gn===null&&(Gn=E(null)),Jn===null&&(Jn=E(null)),so===null&&(so=E(["root"])),Vn.value===null&&_n.value===!1&&e(),{loading:_n,folders:Vn,nestedFolders:Gn,error:Jn,fetchFolders:e,openFolders:so};async function e(){if(_n!==null&&Vn!==null&&Gn!==null&&Jn!==null){_n.value=!0;try{const t=await pe.get("/folders",{params:{limit:-1,sort:"name"}});Vn.value=t.data.data,Gn.value=Ik(t.data.data)}catch(t){Jn.value=t}finally{_n.value=!1}}}}function Ik(e){return e.map(t=>Fa(t,e)).filter(t=>t.parent===null)}function Fa(e,t){const l=oe({},e),n=t.filter(s=>s.parent===e.id&&s.id!==e.id).map(s=>Fa(s,t));return n.length>0&&(l.children=n),l}const Ek=z({name:"FolderPickerListItem",props:{folder:{type:Object,required:!0},currentFolder:{type:String,default:null},clickHandler:{type:Function,default:()=>{}},disabled:{type:Boolean,default:!1},disabledFolders:{type:Array,default:()=>[]}}}),Dk={class:"folder-picker-list-item"};function Tk(e,t,l,n,s,u){const o=c("v-icon"),i=c("v-list-item-icon"),d=c("v-list-item-content"),p=c("v-list-item"),f=c("folder-picker-list-item",!0),v=c("v-list-group");return m(),I("div",Dk,[e.folder.children.length===0?(m(),S(p,{key:0,clickable:"",active:e.currentFolder===e.folder.id,disabled:e.disabled,onClick:t[0]||(t[0]=y=>e.clickHandler(e.folder.id))},{default:r(()=>[a(i,null,{default:r(()=>[a(o,{name:e.currentFolder===e.folder.id?"folder_open":"folder"},null,8,["name"])]),_:1}),a(d,null,{default:r(()=>[D(b(e.folder.name),1)]),_:1})]),_:1},8,["active","disabled"])):(m(),S(v,{key:1,clickable:"",active:e.currentFolder===e.folder.id,disabled:e.disabled,onClick:t[1]||(t[1]=y=>e.clickHandler(e.folder.id))},{activator:r(()=>[a(i,null,{default:r(()=>[a(o,{name:e.currentFolder===e.folder.id?"folder_open":"folder"},null,8,["name"])]),_:1}),a(d,null,{default:r(()=>[D(b(e.folder.name),1)]),_:1})]),default:r(()=>[(m(!0),I(ae,null,be(e.folder.children,y=>(m(),S(f,{key:y.id,folder:y,"current-folder":e.currentFolder,"click-handler":e.clickHandler,disabled:e.disabledFolders.includes(y.id),"disabled-folders":e.disabledFolders},null,8,["folder","current-folder","click-handler","disabled","disabled-folders"]))),128))]),_:1},8,["active","disabled"]))])}var Pk=N(Ek,[["render",Tk]]);const Lk=z({components:{FolderPickerListItem:Pk},props:{disabledFolders:{type:Array,default:()=>[]},modelValue:{type:String,default:null}},emits:["update:modelValue"],setup(e){const{t}=te(),l=E(!1),n=E([]),s=V(()=>{return n.value.filter(_=>_.parent===null).map(_=>ke(oe({},_),{children:y(_)}));function y(_){return n.value.filter(g=>g.parent===_.id).map(g=>ke(oe({},g),{children:y(g)}))}}),u=[],o=n.value.find(y=>y.id===e.modelValue);o&&o.parent&&v(o.parent);const i=["root"];for(const y of u)i.includes(y)===!1&&i.push(y);const d=V(()=>n.value.find(y=>y.id===e.modelValue)||{}),p=E(i);return f(),{t,loading:l,folders:n,tree:s,selectedFolder:d,openFolders:p};async function f(){if(!(n.value.length>0)){l.value=!0;try{const y=await pe.get("/folders",{params:{limit:-1,sort:"name"}});n.value=y.data.data}catch(y){Se(y)}finally{l.value=!1}}}function v(y){if(!n.value)return;u.push(y);const _=n.value.find(g=>g.id===y);_&&_.parent&&v(_.parent)}}}),Ok={key:1,class:"folder-picker"};function jk(e,t,l,n,s,u){const o=c("v-skeleton-loader"),i=c("v-icon"),d=c("v-list-item-icon"),p=c("v-list-item-content"),f=c("folder-picker-list-item"),v=c("v-list-group"),y=c("v-item-group"),_=c("v-list");return e.loading?(m(),S(o,{key:0})):(m(),I("div",Ok,[a(_,null,{default:r(()=>[a(y,{modelValue:e.openFolders,"onUpdate:modelValue":t[1]||(t[1]=g=>e.openFolders=g),scope:"folder-picker",multiple:""},{default:r(()=>[a(v,{"disable-groupable-parent":"",clickable:"",active:e.modelValue===null,scope:"folder-picker",value:"root",onClick:t[0]||(t[0]=g=>e.$emit("update:modelValue",null))},{activator:r(()=>[a(d,null,{default:r(()=>[a(i,{name:"folder_special",outline:""})]),_:1}),a(p,null,{default:r(()=>[D(b(e.t("file_library")),1)]),_:1})]),default:r(()=>[(m(!0),I(ae,null,be(e.tree,g=>(m(),S(f,{key:g.id,folder:g,"current-folder":e.modelValue,"click-handler":w=>e.$emit("update:modelValue",w),disabled:e.disabledFolders.includes(g.id),"disabled-folders":e.disabledFolders},null,8,["folder","current-folder","click-handler","disabled","disabled-folders"]))),128))]),_:1},8,["active"])]),_:1},8,["modelValue"])]),_:1})]))}var ro=N(Lk,[["render",jk],["__scopeId","data-v-2293d565"]]);const Rk=z({name:"NavigationFolder",components:{FolderPicker:ro},props:{folder:{type:Object,required:!0},currentFolder:{type:String,default:null},clickHandler:{type:Function,default:()=>{}}},setup(e){const{t}=te(),l=Ye(),n=E(),{renameActive:s,renameValue:u,renameSave:o,renameSaving:i}=h(),{moveActive:d,moveValue:p,moveSave:f,moveSaving:v}=k(),{deleteActive:y,deleteSave:_,deleteSaving:g}=F(),{fetchFolders:w}=Qn();return{t,renameActive:s,renameValue:u,renameSave:o,renameSaving:i,moveActive:d,moveValue:p,moveSave:f,moveSaving:v,deleteActive:y,deleteSave:_,deleteSaving:g,contextMenu:n,activateContextMenu:A};function h(){const P=E(!1),L=E(e.folder.name),O=E(!1);return{renameActive:P,renameValue:L,renameSave:U,renameSaving:O};async function U(){O.value=!0;try{await pe.patch(`/folders/${e.folder.id}`,{name:L.value})}catch(T){Se(T)}finally{O.value=!1,await w(),P.value=!1}}}function k(){const P=E(!1),L=E(e.folder.parent),O=E(!1);return{moveActive:P,moveValue:L,moveSave:U,moveSaving:O};async function U(){O.value=!0;try{await pe.patch(`/folders/${e.folder.id}`,{parent:L.value})}catch(T){Se(T)}finally{O.value=!1,await w(),P.value=!1}}}function F(){const P=E(!1),L=E(!1);return{deleteActive:P,deleteSave:O,deleteSaving:L};async function O(){L.value=!0;try{const U=await pe.get("/folders",{params:{filter:{parent:{_eq:e.folder.id}}}}),T=await pe.get("/files",{params:{filter:{folder:{_eq:e.folder.id}}}}),B=e.folder.parent||null,q=U.data.data.map(H=>H.id),K=T.data.data.map(H=>H.id);q.length>0&&await pe.patch("/folders",{keys:q,data:{parent:B}}),K.length>0&&await pe.patch("/files",{keys:K,data:{folder:B}}),await pe.delete(`/folders/${e.folder.id}`),B?l.push(`/files/folders/${B}`):l.push("/files"),P.value=!1}catch(U){Se(U)}finally{await w(),L.value=!1}}}function A(P){n.value.activate(P)}}});function Mk(e,t,l,n,s,u){const o=c("v-icon"),i=c("v-list-item-icon"),d=c("v-text-overflow"),p=c("v-list-item-content"),f=c("v-list-item"),v=c("navigation-folder",!0),y=c("v-list-group"),_=c("v-list"),g=c("v-menu"),w=c("v-card-title"),h=c("v-input"),k=c("v-card-text"),F=c("v-button"),A=c("v-card-actions"),P=c("v-card"),L=c("v-dialog"),O=c("folder-picker"),U=c("v-notice");return m(),I("div",null,[e.folder.children===void 0?(m(),S(f,{key:0,to:`/files/folders/${e.folder.id}`,active:e.currentFolder===e.folder.id,onContextmenu:Ae(e.activateContextMenu,["prevent","stop"])},{default:r(()=>[a(i,null,{default:r(()=>[a(o,{name:"folder"})]),_:1}),a(p,null,{default:r(()=>[a(d,{text:e.folder.name},null,8,["text"])]),_:1})]),_:1},8,["to","active","onContextmenu"])):(m(),S(y,{key:1,to:`/files/folders/${e.folder.id}`,active:e.currentFolder===e.folder.id,value:e.folder.id,scope:"files-navigation","disable-groupable-parent":"",onContextmenu:Ae(e.activateContextMenu,["prevent","stop"])},{activator:r(()=>[a(i,null,{default:r(()=>[a(o,{name:"folder"})]),_:1}),a(p,null,{default:r(()=>[a(d,{text:e.folder.name},null,8,["text"])]),_:1})]),default:r(()=>[(m(!0),I(ae,null,be(e.folder.children,T=>(m(),S(v,{key:T.id,folder:T,"current-folder":e.currentFolder,"click-handler":e.clickHandler},null,8,["folder","current-folder","click-handler"]))),128))]),_:1},8,["to","active","value","onContextmenu"])),a(g,{ref:"contextMenu","show-arrow":"",placement:"bottom-start"},{default:r(()=>[a(_,null,{default:r(()=>[a(f,{clickable:"",onClick:t[0]||(t[0]=T=>e.renameActive=!0)},{default:r(()=>[a(i,null,{default:r(()=>[a(o,{name:"edit",outline:""})]),_:1}),a(p,null,{default:r(()=>[a(d,{text:e.t("rename_folder")},null,8,["text"])]),_:1})]),_:1}),a(f,{clickable:"",onClick:t[1]||(t[1]=T=>e.moveActive=!0)},{default:r(()=>[a(i,null,{default:r(()=>[a(o,{name:"folder_move"})]),_:1}),a(p,null,{default:r(()=>[a(d,{text:e.t("move_to_folder")},null,8,["text"])]),_:1})]),_:1}),a(f,{clickable:"",onClick:t[2]||(t[2]=T=>e.deleteActive=!0)},{default:r(()=>[a(i,null,{default:r(()=>[a(o,{name:"delete",outline:""})]),_:1}),a(p,null,{default:r(()=>[a(d,{text:e.t("delete_folder")},null,8,["text"])]),_:1})]),_:1})]),_:1})]),_:1},512),a(L,{modelValue:e.renameActive,"onUpdate:modelValue":t[5]||(t[5]=T=>e.renameActive=T),persistent:"",onEsc:t[6]||(t[6]=T=>e.renameActive=!1)},{default:r(()=>[a(P,null,{default:r(()=>[a(w,null,{default:r(()=>[D(b(e.t("rename_folder")),1)]),_:1}),a(k,null,{default:r(()=>[a(h,{modelValue:e.renameValue,"onUpdate:modelValue":t[3]||(t[3]=T=>e.renameValue=T),autofocus:"",onKeyup:bn(e.renameSave,["enter"])},null,8,["modelValue","onKeyup"])]),_:1}),a(A,null,{default:r(()=>[a(F,{secondary:"",onClick:t[4]||(t[4]=T=>e.renameActive=!1)},{default:r(()=>[D(b(e.t("cancel")),1)]),_:1}),a(F,{disabled:e.renameValue===null,loading:e.renameSaving,onClick:e.renameSave},{default:r(()=>[D(b(e.t("save")),1)]),_:1},8,["disabled","loading","onClick"])]),_:1})]),_:1})]),_:1},8,["modelValue"]),a(L,{modelValue:e.moveActive,"onUpdate:modelValue":t[9]||(t[9]=T=>e.moveActive=T),persistent:"",onEsc:t[10]||(t[10]=T=>e.moveActive=!1)},{default:r(()=>[a(P,null,{default:r(()=>[a(w,null,{default:r(()=>[D(b(e.t("move_to_folder")),1)]),_:1}),a(k,null,{default:r(()=>[a(O,{modelValue:e.moveValue,"onUpdate:modelValue":t[7]||(t[7]=T=>e.moveValue=T),"disabled-folders":[e.folder.id]},null,8,["modelValue","disabled-folders"])]),_:1}),a(A,null,{default:r(()=>[a(F,{secondary:"",onClick:t[8]||(t[8]=T=>e.moveActive=!1)},{default:r(()=>[D(b(e.t("cancel")),1)]),_:1}),a(F,{loading:e.moveSaving,onClick:e.moveSave},{default:r(()=>[D(b(e.t("save")),1)]),_:1},8,["loading","onClick"])]),_:1})]),_:1})]),_:1},8,["modelValue"]),a(L,{modelValue:e.deleteActive,"onUpdate:modelValue":t[12]||(t[12]=T=>e.deleteActive=T),persistent:"",onEsc:t[13]||(t[13]=T=>e.deleteActive=!1)},{default:r(()=>[a(P,null,{default:r(()=>[a(w,null,{default:r(()=>[D(b(e.t("delete_folder")),1)]),_:1}),a(k,null,{default:r(()=>[a(U,null,{default:r(()=>[D(b(e.t("nested_files_folders_will_be_moved")),1)]),_:1})]),_:1}),a(A,null,{default:r(()=>[a(F,{secondary:"",onClick:t[11]||(t[11]=T=>e.deleteActive=!1)},{default:r(()=>[D(b(e.t("cancel")),1)]),_:1}),a(F,{kind:"danger",loading:e.deleteSaving,onClick:e.deleteSave},{default:r(()=>[D(b(e.t("delete_label")),1)]),_:1},8,["loading","onClick"])]),_:1})]),_:1})]),_:1},8,["modelValue"])])}var Uk=N(Rk,[["render",Mk]]);function Nk(e,t){const l={};for(let n=0;n<e.length;n++){const s=e[n]+typeof e[n];l[s]=1}for(let n=0;n<t.length;n++){const s=t[n]+typeof t[n];if(!l[s])return!1;l[s]=2}for(const n in l)if(l[n]===1)return!1;return!0}const Bk=z({components:{NavigationFolder:Uk},props:{currentFolder:{type:String,default:null}},setup(e){const{t}=te(),{nestedFolders:l,folders:n,error:s,loading:u,openFolders:o}=Qn();return i(),ye(()=>e.currentFolder,i),{t,folders:n,nestedFolders:l,error:s,loading:u,openFolders:o};function i(){if(!n.value)return[];if(!(o==null?void 0:o.value))return[];const d=[],p=n.value.find(y=>y.id===e.currentFolder);p&&p.parent&&v(p.parent);const f=[...o.value];for(const y of d)f.includes(y)===!1&&f.push(y);f.length!==1&&Nk(f,o.value)===!1&&(o.value=f);function v(y){if(!n.value)return;d.push(y);const _=n.value.find(g=>g.id===y);_&&_.parent&&v(_.parent)}}}}),qk={class:"folders"};function zk(e,t,l,n,s,u){const o=c("v-skeleton-loader"),i=c("v-list-item"),d=c("v-icon"),p=c("v-list-item-icon"),f=c("v-text-overflow"),v=c("v-list-item-content"),y=c("navigation-folder"),_=c("v-list-group"),g=c("v-item-group"),w=c("v-divider"),h=c("v-list");return m(),S(h,{nav:""},{default:r(()=>[e.loading&&(e.nestedFolders===null||e.nestedFolders.length===0)?(m(),I(ae,{key:0},be(4,k=>a(i,{key:k},{default:r(()=>[a(o,{type:"list-item-icon"})]),_:2},1024)),64)):R("",!0),C("div",qk,[a(g,{modelValue:e.openFolders,"onUpdate:modelValue":t[0]||(t[0]=k=>e.openFolders=k),scope:"files-navigation",multiple:""},{default:r(()=>[a(_,{to:"/files",active:e.currentFolder===null,value:"root",scope:"files-navigation",exact:"","disable-groupable-parent":""},{activator:r(()=>[a(p,null,{default:r(()=>[a(d,{name:"folder_special",outline:""})]),_:1}),a(v,null,{default:r(()=>[a(f,{text:e.t("file_library")},null,8,["text"])]),_:1})]),default:r(()=>[(m(!0),I(ae,null,be(e.nestedFolders,k=>(m(),S(y,{key:k.id,folder:k,"current-folder":e.currentFolder},null,8,["folder","current-folder"]))),128))]),_:1},8,["active"])]),_:1},8,["modelValue"])]),a(w),a(i,{to:"/files/all"},{default:r(()=>[a(p,null,{default:r(()=>[a(d,{name:"file_copy",outline:""})]),_:1}),a(v,null,{default:r(()=>[a(f,{text:e.t("all_files")},null,8,["text"])]),_:1})]),_:1}),a(i,{to:"/files/mine"},{default:r(()=>[a(p,null,{default:r(()=>[a(d,{name:"folder_shared"})]),_:1}),a(v,null,{default:r(()=>[a(f,{text:e.t("my_files")},null,8,["text"])]),_:1})]),_:1}),a(i,{to:"/files/recent"},{default:r(()=>[a(p,null,{default:r(()=>[a(d,{name:"history"})]),_:1}),a(v,null,{default:r(()=>[a(f,{text:e.t("recent_files")},null,8,["text"])]),_:1})]),_:1})]),_:1})}var uo=N(Bk,[["render",zk],["__scopeId","data-v-1c8d05c4"]]);const Kk=z({props:{parent:{type:String,default:null},disabled:{type:Boolean,default:!1}},setup(e){const{t}=te(),l=Ye(),n=E(!1),s=E(!1),u=E(null),{fetchFolders:o}=Qn();return{t,addFolder:i,dialogActive:n,newFolderName:u,saving:s};async function i(){s.value=!0;try{const d=await pe.post("/folders",{name:u.value,parent:e.parent==="root"?null:e.parent});await o(),n.value=!1,u.value=null,l.push({path:`/files/folders/${d.data.data.id}`})}catch(d){Se(d)}finally{s.value=!1}}}});function Hk(e,t,l,n,s,u){const o=c("v-icon"),i=c("v-button"),d=c("v-card-title"),p=c("v-input"),f=c("v-card-text"),v=c("v-card-actions"),y=c("v-card"),_=c("v-dialog"),g=we("tooltip");return m(),S(_,{modelValue:e.dialogActive,"onUpdate:modelValue":t[2]||(t[2]=w=>e.dialogActive=w),onEsc:t[3]||(t[3]=w=>e.dialogActive=!1)},{activator:r(({on:w})=>[ne(a(i,{rounded:"",icon:"",class:"add-new",disabled:e.disabled,onClick:w},{default:r(()=>[a(o,{name:"create_new_folder",outline:""})]),_:2},1032,["disabled","onClick"]),[[g,e.disabled?e.t("not_allowed"):e.t("create_folder"),void 0,{bottom:!0}]])]),default:r(()=>[a(y,null,{default:r(()=>[a(d,null,{default:r(()=>[D(b(e.t("create_folder")),1)]),_:1}),a(f,null,{default:r(()=>[a(p,{modelValue:e.newFolderName,"onUpdate:modelValue":t[0]||(t[0]=w=>e.newFolderName=w),autofocus:"",placeholder:e.t("folder_name"),onKeyup:bn(e.addFolder,["enter"])},null,8,["modelValue","placeholder","onKeyup"])]),_:1}),a(v,null,{default:r(()=>[a(i,{secondary:"",onClick:t[1]||(t[1]=w=>e.dialogActive=!1)},{default:r(()=>[D(b(e.t("cancel")),1)]),_:1}),a(i,{disabled:e.newFolderName===null,loading:e.saving,onClick:e.addFolder},{default:r(()=>[D(b(e.t("save")),1)]),_:1},8,["disabled","loading","onClick"])]),_:1})]),_:1})]),_:1},8,["modelValue"])}var Wk=N(Kk,[["render",Hk],["__scopeId","data-v-51ae7fc6"]]);const Xn=Yo();var yn;(function(e){e.upload="upload"})(yn||(yn={}));function Fn(e,t,l,n){st(()=>{(ql(e)?e.value:e).addEventListener(t,l,n)}),Bl(()=>{(ql(e)?e.value:e).removeEventListener(t,l,n)})}async function Aa(e,t){const l=(t==null?void 0:t.onProgressChange)||(()=>{}),n=new FormData;if(t==null?void 0:t.preset)for(const[u,o]of Object.entries(t.preset))n.append(u,o);n.append("file",e);try{let u=null;return(t==null?void 0:t.fileId)?u=await pe.patch(`/files/${t.fileId}`,n,{onUploadProgress:s}):u=await pe.post("/files",n,{onUploadProgress:s}),(t==null?void 0:t.notifications)&&It({title:qe.global.t("upload_file_success"),type:"success"}),Xn.emit(yn.upload),u.data.data}catch(u){Se(u)}function s(u){const o=Math.floor(u.loaded*100/u.total);l(o)}}async function Ia(e,t){const l=(t==null?void 0:t.onProgressChange)||(()=>{}),n=e.map(()=>0);try{const s=await Promise.all(e.map((u,o)=>Aa(u,ke(oe({},t),{onProgressChange:i=>{n[o]=i,l(n)}}))));return(t==null?void 0:t.notifications)&&It({title:qe.global.t("upload_files_success",{count:e.length}),type:"success"}),s}catch(s){Se(s)}}const Gk=z({name:"FilesCollection",components:{FilesNavigation:uo,LayoutSidebarDetail:zn,AddFolder:Wk,SearchInput:kn,FolderPicker:ro,DrawerBatch:to},props:{folder:{type:String,default:null},special:{type:String,default:null}},setup(e){const{t}=te(),l=Ye(),n=Dl(),s=Tt(),{folders:u}=Qn(),o=E(),i=E([]),d=Xe(),{layout:p,layoutOptions:f,layoutQuery:v,filter:y,search:_,resetPreset:g}=wn(E("directus_files")),{confirmDelete:w,deleting:h,batchDelete:k,error:F,batchEditActive:A}=G(),{breadcrumb:P,title:L}=le(),O=V(()=>{const de={_and:[{type:{_nnull:!0}}]};return e.special===null&&(e.folder!==null?de._and.push({folder:{_eq:e.folder}}):de._and.push({folder:{_null:!0}})),e.special==="mine"&&d.currentUser&&de._and.push({uploaded_by:{_eq:d.currentUser.id}}),e.special==="recent"&&de._and.push({uploaded_on:{_gt:xo(new Date,5).toISOString()}}),de}),{layoutWrapper:U}=pn(p),{moveToDialogActive:T,moveToFolder:B,moving:q,selectedFolder:K}=Z();st(()=>Xn.on(yn.upload,ce)),Vt(()=>Xn.off(yn.upload,ce)),Pt(()=>{i.value=[]}),Ot(()=>{i.value=[]});const{onDragEnter:H,onDragLeave:Y,onDrop:J,onDragOver:re,showDropEffect:fe,dragging:X}=ie();Fn(window,"dragenter",H),Fn(window,"dragover",re),Fn(window,"dragleave",Y),Fn(window,"drop",J);const{batchEditAllowed:x,batchDeleteAllowed:ee,createAllowed:se,createFolderAllowed:W}=Q();return{t,breadcrumb:P,title:L,layoutRef:o,layoutWrapper:U,selection:i,layoutOptions:f,layoutQuery:v,layout:p,folderTypeFilter:O,search:_,moveToDialogActive:T,moveToFolder:B,moving:q,selectedFolder:K,refresh:ce,clearFilters:ve,onDragEnter:H,onDragLeave:Y,showDropEffect:fe,onDrop:J,dragging:X,batchEditAllowed:x,batchDeleteAllowed:ee,createAllowed:se,createFolderAllowed:W,resetPreset:g,confirmDelete:w,deleting:h,batchDelete:k,deleteError:F,batchEditActive:A,filter:y,mergeFilters:gl};function G(){const de=E(!1),me=E(!1),he=E(!1),_e=E();return{batchEditActive:he,confirmDelete:de,deleting:me,batchDelete:Ce,error:_e};async function Ce(){me.value=!0;const De=i.value;try{await pe.delete("/files",{data:De}),await ce(),i.value=[]}catch(Ie){Se(Ie),_e.value=Ie}finally{de.value=!1,me.value=!1}}}function le(){const de=V(()=>{var he;if(e.special==="all")return t("all_files");if(e.special==="mine")return t("my_files");if(e.special==="recent")return t("recent_files");if(e.folder){const _e=(he=u.value)==null?void 0:he.find(Ce=>Ce.id===e.folder);if(_e)return _e.name}return t("file_library")});return{breadcrumb:V(()=>de.value!==t("file_library")?[{name:t("file_library"),to:"/files"}]:null),title:de}}function Z(){const de=E(!1),me=E(!1),he=E();return{moveToDialogActive:de,moving:me,moveToFolder:_e,selectedFolder:he};async function _e(){me.value=!0;try{await pe.patch("/files",{keys:i.value,data:{folder:he.value}}),i.value=[],he.value&&l.push(`/files/folders/${he.value}`),await ml(),await ce()}catch(Ce){Se(Ce)}finally{de.value=!1,me.value=!1}}}async function ce(){var de,me,he;await((he=(me=(de=o.value)==null?void 0:de.state)==null?void 0:me.refresh)==null?void 0:he.call(me))}function ve(){y.value=null,_.value=null}function Q(){const de=V(()=>{var Ie;return((Ie=d==null?void 0:d.currentUser)==null?void 0:Ie.role.admin_access)===!0?!0:!!s.permissions.find(je=>je.action==="update"&&je.collection==="directus_files")}),me=V(()=>{var Ie;return((Ie=d==null?void 0:d.currentUser)==null?void 0:Ie.role.admin_access)===!0?!0:!!s.permissions.find(je=>je.action==="delete"&&je.collection==="directus_files")}),he=V(()=>{var Ie;return((Ie=d==null?void 0:d.currentUser)==null?void 0:Ie.role.admin_access)===!0?!0:!!s.permissions.find(je=>je.action==="create"&&je.collection==="directus_files")}),_e=V(()=>{var Ie;return((Ie=d==null?void 0:d.currentUser)==null?void 0:Ie.role.admin_access)===!0?!0:!!s.permissions.find(je=>je.action==="create"&&je.collection==="directus_folders")});return{batchEditAllowed:de,batchDeleteAllowed:me,createAllowed:he,createFolderAllowed:_e}}function ie(){const de=E(!1);let me,he;const _e=E(0),Ce=V(()=>_e.value>0);return{onDragEnter:je,onDragLeave:Pe,onDrop:Re,onDragOver:nt,showDropEffect:de,dragging:Ce};function De(){de.value=!0,me=n.add({title:t("drop_to_upload"),icon:"cloud_upload",type:"info",persist:!0,closeable:!1})}function Ie(){de.value=!1,me&&n.remove(me)}function je(Le){var $e,Me,Qe;if(!Le.dataTransfer||(($e=Le.dataTransfer)==null?void 0:$e.types.indexOf("Files"))===-1)return;Le.preventDefault(),_e.value++;const Fe=Le.target&&((Qe=(Me=Le.target).getAttribute)==null?void 0:Qe.call(Me,"data-dropzone"))==="";_e.value===1&&de.value===!1&&Fe===!1&&De(),Fe&&(Ie(),_e.value=0)}function nt(Le){var Fe;!Le.dataTransfer||((Fe=Le.dataTransfer)==null?void 0:Fe.types.indexOf("Files"))!==-1&&Le.preventDefault()}function Pe(Le){var Fe,$e,Me;!Le.dataTransfer||((Fe=Le.dataTransfer)==null?void 0:Fe.types.indexOf("Files"))!==-1&&(Le.preventDefault(),_e.value--,_e.value===0&&Ie(),Le.target&&((Me=($e=Le.target).getAttribute)==null?void 0:Me.call($e,"data-dropzone"))===""&&(De(),_e.value=1))}async function Re(Le){var $e;if(!Le.dataTransfer||(($e=Le.dataTransfer)==null?void 0:$e.types.indexOf("Files"))===-1)return;Le.preventDefault(),de.value=!1,_e.value=0,me&&n.remove(me);const Fe=[...Le.dataTransfer.files];he=n.add({title:t("upload_files_indeterminate",{done:0,total:Fe.length},Fe.length),type:"info",persist:!0,closeable:!1,loading:!0}),await Ia(Fe,{preset:{folder:e.folder},onProgressChange:Me=>{const Qe=Me.reduce((tt,ct)=>tt+=ct)/Me.length,at=Fe.length,lt=Me.filter(tt=>tt===100).length;n.update(he,{title:t("upload_files_indeterminate",{done:lt,total:at},Fe.length),loading:!1,progress:Qe})}}),n.remove(he),Xn.emit(yn.upload)}}}}),Sl=e=>(We("data-v-f242a114"),e=e(),Ge(),e),Jk={class:"page-description"},Qk=Sl(()=>C("div",{class:"drop-border top"},null,-1)),Xk=Sl(()=>C("div",{class:"drop-border right"},null,-1)),Zk=Sl(()=>C("div",{class:"drop-border bottom"},null,-1)),Yk=Sl(()=>C("div",{class:"drop-border left"},null,-1));function xk(e,t,l,n,s,u){const o=c("v-breadcrumb"),i=c("v-icon"),d=c("v-button"),p=c("search-input"),f=c("add-folder"),v=c("v-card-title"),y=c("folder-picker"),_=c("v-card-text"),g=c("v-card-actions"),w=c("v-card"),h=c("v-dialog"),k=c("files-navigation"),F=c("v-info"),A=c("router-view"),P=c("drawer-batch"),L=c("sidebar-detail"),O=c("layout-sidebar-detail"),U=c("export-sidebar-detail"),T=c("private-view"),B=we("tooltip"),q=we("md");return m(),S(Be(e.layoutWrapper),{ref:"layoutRef",selection:e.selection,"onUpdate:selection":t[12]||(t[12]=K=>e.selection=K),"layout-options":e.layoutOptions,"onUpdate:layout-options":t[13]||(t[13]=K=>e.layoutOptions=K),"layout-query":e.layoutQuery,"onUpdate:layout-query":t[14]||(t[14]=K=>e.layoutQuery=K),filter:e.mergeFilters(e.filter,e.folderTypeFilter),"filter-user":e.filter,"filter-system":e.folderTypeFilter,search:e.search,collection:"directus_files","reset-preset":e.resetPreset},{default:r(({layoutState:K})=>[a(T,{title:e.title,class:ue({dragging:e.dragging})},xe({"title-outer:prepend":r(()=>[a(d,{class:"header-icon",rounded:"",disabled:"",icon:"",secondary:""},{default:r(()=>[a(i,{name:"folder",outline:""})]),_:1})]),"actions:prepend":r(()=>[(m(),S(Be(`layout-actions-${e.layout}`),He(Ze(K)),null,16))]),actions:r(()=>[a(p,{modelValue:e.search,"onUpdate:modelValue":t[0]||(t[0]=H=>e.search=H),filter:e.filter,"onUpdate:filter":t[1]||(t[1]=H=>e.filter=H),collection:"directus_files"},null,8,["modelValue","filter"]),a(f,{parent:e.folder,disabled:e.createFolderAllowed!==!0},null,8,["parent","disabled"]),e.selection.length>0?(m(),S(h,{key:0,modelValue:e.moveToDialogActive,"onUpdate:modelValue":t[4]||(t[4]=H=>e.moveToDialogActive=H),onEsc:t[5]||(t[5]=H=>e.moveToDialogActive=!1)},{activator:r(({on:H})=>[ne(a(d,{rounded:"",icon:"",class:"folder",onClick:H},{default:r(()=>[a(i,{name:"folder_move"})]),_:2},1032,["onClick"]),[[B,e.t("move_to_folder"),void 0,{bottom:!0}]])]),default:r(()=>[a(w,null,{default:r(()=>[a(v,null,{default:r(()=>[D(b(e.t("move_to_folder")),1)]),_:1}),a(_,null,{default:r(()=>[a(y,{modelValue:e.selectedFolder,"onUpdate:modelValue":t[2]||(t[2]=H=>e.selectedFolder=H)},null,8,["modelValue"])]),_:1}),a(g,null,{default:r(()=>[a(d,{secondary:"",onClick:t[3]||(t[3]=H=>e.moveToDialogActive=!1)},{default:r(()=>[D(b(e.t("cancel")),1)]),_:1}),a(d,{loading:e.moving,onClick:e.moveToFolder},{default:r(()=>[D(b(e.t("move")),1)]),_:1},8,["loading","onClick"])]),_:1})]),_:1})]),_:1},8,["modelValue"])):R("",!0),e.selection.length>0?(m(),S(h,{key:1,modelValue:e.confirmDelete,"onUpdate:modelValue":t[7]||(t[7]=H=>e.confirmDelete=H),onEsc:t[8]||(t[8]=H=>e.confirmDelete=!1)},{activator:r(({on:H})=>[ne(a(d,{disabled:e.batchDeleteAllowed!==!0,rounded:"",icon:"",class:"action-delete",onClick:H},{default:r(()=>[a(i,{name:"delete",outline:""})]),_:2},1032,["disabled","onClick"]),[[B,e.batchDeleteAllowed?e.t("delete_label"):e.t("not_allowed"),void 0,{bottom:!0}]])]),default:r(()=>[a(w,null,{default:r(()=>[a(v,null,{default:r(()=>[D(b(e.t("batch_delete_confirm",e.selection.length)),1)]),_:1}),a(g,null,{default:r(()=>[a(d,{secondary:"",onClick:t[6]||(t[6]=H=>e.confirmDelete=!1)},{default:r(()=>[D(b(e.t("cancel")),1)]),_:1}),a(d,{kind:"danger",loading:e.deleting,onClick:e.batchDelete},{default:r(()=>[D(b(e.t("delete_label")),1)]),_:1},8,["loading","onClick"])]),_:1})]),_:1})]),_:1},8,["modelValue"])):R("",!0),e.selection.length>1?ne((m(),S(d,{key:2,rounded:"",icon:"",class:"action-batch",disabled:e.batchEditAllowed===!1,onClick:t[9]||(t[9]=H=>e.batchEditActive=!0)},{default:r(()=>[a(i,{name:"edit",outline:""})]),_:1},8,["disabled"])),[[B,e.batchEditAllowed?e.t("edit"):e.t("not_allowed"),void 0,{bottom:!0}]]):R("",!0),ne(a(d,{rounded:"",icon:"",class:"add-new",to:e.folder?{path:`/files/folders/${e.folder}/+`}:{path:"/files/+"},disabled:e.createAllowed===!1},{default:r(()=>[a(i,{name:"add"})]),_:1},8,["to","disabled"]),[[B,e.createAllowed?e.t("create_item"):e.t("not_allowed"),void 0,{bottom:!0}]])]),navigation:r(()=>[a(k,{"current-folder":e.folder},null,8,["current-folder"])]),sidebar:r(()=>[a(L,{icon:"info_outline",title:e.t("information"),close:""},{default:r(()=>[ne(C("div",Jk,null,512),[[q,e.t("page_help_files_collection")]])]),_:1},8,["title"]),a(O,{modelValue:e.layout,"onUpdate:modelValue":t[11]||(t[11]=H=>e.layout=H)},{default:r(()=>[(m(),S(Be(`layout-options-${e.layout}`),He(Ze(K)),null,16))]),_:2},1032,["modelValue"]),(m(),S(Be(`layout-sidebar-${e.layout}`),He(Ze(K)),null,16)),a(U,{collection:"directus_files",filter:e.mergeFilters(e.filter,e.folderTypeFilter),search:e.search},null,8,["filter","search"])]),default:r(()=>[(m(),S(Be(`layout-${e.layout}`),ut({class:"layout"},K),{"no-results":r(()=>[!e.filter&&!e.search?(m(),S(F,{key:0,title:e.t("file_count",0),icon:"folder",center:""},{append:r(()=>[a(d,{to:e.folder?{path:`/files/folders/${e.folder}/+`}:{path:"/files/+"}},{default:r(()=>[D(b(e.t("add_file")),1)]),_:1},8,["to"])]),default:r(()=>[D(b(e.t("no_files_copy"))+" ",1)]),_:1},8,["title"])):(m(),S(F,{key:1,title:e.t("no_results"),icon:"search",center:""},{append:r(()=>[a(d,{onClick:e.clearFilters},{default:r(()=>[D(b(e.t("clear_filters")),1)]),_:1},8,["onClick"])]),default:r(()=>[D(b(e.t("no_results_copy"))+" ",1)]),_:1},8,["title"]))]),"no-items":r(()=>[a(F,{title:e.t("file_count",0),icon:"folder",center:""},{append:r(()=>[a(d,{to:e.folder?{path:`/files/folders/${e.folder}/+`}:{path:"/files/+"}},{default:r(()=>[D(b(e.t("add_file")),1)]),_:1},8,["to"])]),default:r(()=>[D(b(e.t("no_files_copy"))+" ",1)]),_:1},8,["title"])]),_:2},1040)),a(A,{name:"addNew",folder:e.folder,onUpload:e.refresh},null,8,["folder","onUpload"]),a(P,{active:e.batchEditActive,"onUpdate:active":t[10]||(t[10]=H=>e.batchEditActive=H),"primary-keys":e.selection,collection:"directus_files",onRefresh:e.refresh},null,8,["active","primary-keys","onRefresh"]),e.showDropEffect?(m(),I(ae,{key:0},[Qk,Xk,Zk,Yk],64)):R("",!0)]),_:2},[e.breadcrumb?{name:"headline",fn:r(()=>[a(o,{items:e.breadcrumb},null,8,["items"])])}:void 0]),1032,["title","class"])]),_:1},8,["selection","layout-options","layout-query","filter","filter-user","filter-system","search","reset-preset"])}var Zn=N(Gk,[["render",xk],["__scopeId","data-v-f242a114"]]);const e8=z({props:{mime:{type:String,required:!0},width:{type:Number,default:null},height:{type:Number,default:null},src:{type:String,required:!0},title:{type:String,required:!0},inModal:{type:Boolean,default:!1}},emits:["click"],setup(e){const t=E(!1),l=V(()=>e.mime===null?null:e.mime.startsWith("image")?"image":e.mime.startsWith("video")?"video":e.mime.startsWith("audio")?"audio":null),n=V(()=>e.mime.includes("svg"));return{type:l,isSVG:n,imgError:t}}}),t8={key:0,class:"file-preview"},n8=["src","width","height","alt"],l8=["src"],o8=["src"];function a8(e,t,l,n,s,u){const o=c("v-icon");return e.type&&!e.imgError?(m(),I("div",t8,[e.type==="image"?(m(),I("div",{key:0,class:ue(["image",{svg:e.isSVG,"max-size":e.inModal===!1}]),onClick:t[1]||(t[1]=i=>e.$emit("click"))},[C("img",{src:e.src,width:e.width,height:e.height,alt:e.title,onError:t[0]||(t[0]=i=>e.imgError=!0)},null,40,n8),e.inModal===!1?(m(),S(o,{key:0,name:"upload"})):R("",!0)],2)):e.type==="video"?(m(),I("video",{key:1,controls:"",src:e.src},null,8,l8)):e.type==="audio"?(m(),I("audio",{key:2,controls:"",src:e.src},null,8,o8)):R("",!0)])):R("",!0)}var co=N(e8,[["render",a8],["__scopeId","data-v-7957d1ad"]]);const i8=z({props:{id:{type:String,required:!0},modelValue:{type:Boolean,default:void 0}},emits:["update:modelValue","refresh"],setup(e,{emit:t}){const{t:l,n}=te(),s=E(!1),u=V({get(){return e.modelValue===void 0?s.value:e.modelValue},set(q){s.value=q,t("update:modelValue",q)}}),{loading:o,error:i,imageData:d,imageElement:p,save:f,saving:v,fetchImage:y,onImageLoad:_}=T(),{cropperInstance:g,initCropper:w,flip:h,rotate:k,aspectRatio:F,aspectRatioIcon:A,newDimensions:P,dragMode:L,cropping:O}=B();ye(u,q=>{q===!0?y():(g.value&&g.value.destroy(),o.value=!1,i.value=null,d.value=null)});const U=V(()=>dt(`${Je()}assets/${e.id}?${bt()}`));return{t:l,n,internalActive:u,loading:o,error:i,imageData:d,imageElement:p,save:f,onImageLoad:_,flip:h,rotate:k,aspectRatio:F,aspectRatioIcon:A,saving:v,imageURL:U,newDimensions:P,dragMode:L,cropping:O};function T(){const q=E(!1),K=E(null),H=E(null),Y=E(!1),J=E(null);return{loading:q,error:K,imageData:H,saving:Y,fetchImage:re,imageElement:J,save:fe,onImageLoad:X};async function re(){try{q.value=!0;const x=await pe.get(`/files/${e.id}`,{params:{fields:["type","filesize","filename_download","width","height"]}});H.value=x.data.data}catch(x){K.value=x}finally{q.value=!1}}function fe(){var x,ee;Y.value=!0,(ee=g.value)==null||ee.getCroppedCanvas({imageSmoothingQuality:"high"}).toBlob(async se=>{var G;if(se===null){Y.value=!1;return}const W=new FormData;W.append("file",se,(G=H.value)==null?void 0:G.filename_download);try{await pe.patch(`/files/${e.id}`,W),t("refresh"),u.value=!1}catch(le){Se(le)}finally{Y.value=!1}},(x=H.value)==null?void 0:x.type)}async function X(){await ml(),w()}}function B(){const q=E(null),K=E(NaN),H=Yt({width:null,height:null});ye(d,()=>{!d.value||(K.value=d.value.width/d.value.height,H.width=d.value.width,H.height=d.value.height)});const Y=V({get(){return K.value},set(G){var le;K.value=G,(le=q.value)==null||le.setAspectRatio(G)}}),J=V(()=>{if(!d.value)return"crop_original";switch(Y.value){case 16/9:return"crop_16_9";case 3/2:return"crop_3_2";case 5/4:return"crop_5_4";case 7/5:return"crop_7_5";case 1/1:return"crop_square";case d.value.width/d.value.height:return"crop_original";default:return"crop_free"}}),re=E("move"),fe=V({get(){return re.value},set(G){var le;(le=q.value)==null||le.setDragMode(G),re.value=G}}),X=E(!1),x=V({get(){return X.value},set(G){var le;G===!1&&((le=q.value)==null||le.clear()),X.value=G}});return{cropperInstance:q,initCropper:ee,flip:se,rotate:W,aspectRatio:Y,aspectRatioIcon:J,newDimensions:H,dragMode:fe,cropping:x};function ee(){p.value!==null&&(q.value&&q.value.destroy(),q.value=new ks(p.value,{autoCrop:!1,toggleDragModeOnDblclick:!1,dragMode:"move",crop:Cs(G=>{if(!d.value)return;x.value===!1&&(G.detail.width||G.detail.height)&&(x.value=!0);const le=G.detail.width||d.value.width,Z=G.detail.height||d.value.height;G.detail.rotate===0||G.detail.rotate===-180?(H.width=Math.round(le),H.height=Math.round(Z)):(H.height=Math.round(le),H.width=Math.round(Z))},50)}))}function se(G){var le,Z,ce,ve,Q,ie;G==="vertical"&&(((le=q.value)==null?void 0:le.getData().scaleX)===-1?(Z=q.value)==null||Z.scaleX(1):(ce=q.value)==null||ce.scaleX(-1)),G==="horizontal"&&(((ve=q.value)==null?void 0:ve.getData().scaleY)===-1?(Q=q.value)==null||Q.scaleY(1):(ie=q.value)==null||ie.scaleY(-1))}function W(){var G;(G=q.value)==null||G.rotate(-90)}}}}),s8=e=>(We("data-v-106d65e4"),e=e(),Ge(),e),r8={class:"warning"},d8={key:0,class:"loader"},u8=D("error"),c8={class:"editor-container"},p8={class:"editor"},m8=["src"],f8={class:"toolbar"},v8=D("16:9"),_8=D("3:2"),y8=D("5:4"),g8=D("7:5"),h8=s8(()=>C("div",{class:"spacer"},null,-1)),b8={key:0,class:"dimensions"};function $8(e,t,l,n,s,u){const o=c("v-progress-circular"),i=c("v-notice"),d=c("v-icon"),p=c("v-list-item-icon"),f=c("v-list-item-content"),v=c("v-list-item"),y=c("v-list"),_=c("v-menu"),g=c("v-button"),w=c("v-drawer"),h=we("tooltip");return m(),S(w,{modelValue:e.internalActive,"onUpdate:modelValue":t[12]||(t[12]=k=>e.internalActive=k),class:"modal",title:e.t("editing_image"),persistent:"",onCancel:t[13]||(t[13]=k=>e.internalActive=!1)},{activator:r(k=>[ge(e.$slots,"activator",He(Ze(k)),void 0,!0)]),subtitle:r(()=>[C("span",r8,b(e.t("changes_are_permanent")),1)]),actions:r(()=>[ne(a(g,{loading:e.saving,icon:"",rounded:"",onClick:e.save},{default:r(()=>[a(d,{name:"check"})]),_:1},8,["loading","onClick"]),[[h,e.t("save"),void 0,{bottom:!0}]])]),default:r(()=>[e.loading?(m(),I("div",d8,[a(o,{indeterminate:""})])):e.error?(m(),S(i,{key:1,type:"error"},{default:r(()=>[u8]),_:1})):R("",!0),ne(C("div",c8,[C("div",p8,[C("img",{ref:"imageElement",src:e.imageURL,role:"presentation",alt:"",onLoad:t[0]||(t[0]=(...k)=>e.onImageLoad&&e.onImageLoad(...k))},null,40,m8)]),C("div",f8,[ne(C("div",{class:"drag-mode toolbar-button",onClick:t[1]||(t[1]=k=>e.dragMode=e.dragMode==="crop"?"move":"crop")},[a(d,{name:"pan_tool",class:ue({active:e.dragMode==="move"})},null,8,["class"]),a(d,{name:"crop",class:ue({active:e.dragMode==="crop"})},null,8,["class"])],512),[[h,e.t("drag_mode"),void 0,{top:!0,inverted:!0}]]),ne(a(d,{name:"rotate_90_degrees_ccw",clickable:"",onClick:e.rotate},null,8,["onClick"]),[[h,e.t("rotate"),void 0,{top:!0,inverted:!0}]]),ne(a(d,{name:"flip_horizontal",clickable:"",onClick:t[2]||(t[2]=k=>e.flip("horizontal"))},null,512),[[h,e.t("flip_horizontal"),void 0,{top:!0,inverted:!0}]]),ne(a(d,{name:"flip_vertical",clickable:"",onClick:t[3]||(t[3]=k=>e.flip("vertical"))},null,512),[[h,e.t("flip_vertical"),void 0,{top:!0,inverted:!0}]]),a(_,{placement:"top","show-arrow":""},{activator:r(({toggle:k})=>[ne(a(d,{name:e.aspectRatioIcon,clickable:"",onClick:k},null,8,["name","onClick"]),[[h,e.t("aspect_ratio"),void 0,{top:!0,inverted:!0}]])]),default:r(()=>[a(y,null,{default:r(()=>[a(v,{clickable:"",active:e.aspectRatio===16/9,onClick:t[4]||(t[4]=k=>e.aspectRatio=16/9)},{default:r(()=>[a(p,null,{default:r(()=>[a(d,{name:"crop_16_9"})]),_:1}),a(f,null,{default:r(()=>[v8]),_:1})]),_:1},8,["active"]),a(v,{clickable:"",active:e.aspectRatio===3/2,onClick:t[5]||(t[5]=k=>e.aspectRatio=3/2)},{default:r(()=>[a(p,null,{default:r(()=>[a(d,{name:"crop_3_2"})]),_:1}),a(f,null,{default:r(()=>[_8]),_:1})]),_:1},8,["active"]),a(v,{clickable:"",active:e.aspectRatio===5/4,onClick:t[6]||(t[6]=k=>e.aspectRatio=5/4)},{default:r(()=>[a(p,null,{default:r(()=>[a(d,{name:"crop_5_4"})]),_:1}),a(f,null,{default:r(()=>[y8]),_:1})]),_:1},8,["active"]),a(v,{clickable:"",active:e.aspectRatio===7/5,onClick:t[7]||(t[7]=k=>e.aspectRatio=7/5)},{default:r(()=>[a(p,null,{default:r(()=>[a(d,{name:"crop_7_5"})]),_:1}),a(f,null,{default:r(()=>[g8]),_:1})]),_:1},8,["active"]),a(v,{clickable:"",active:e.aspectRatio===1/1,onClick:t[8]||(t[8]=k=>e.aspectRatio=1/1)},{default:r(()=>[a(p,null,{default:r(()=>[a(d,{name:"crop_square"})]),_:1}),a(f,null,{default:r(()=>[D(b(e.t("square")),1)]),_:1})]),_:1},8,["active"]),a(v,{clickable:"",active:e.aspectRatio===NaN,onClick:t[9]||(t[9]=k=>e.aspectRatio=NaN)},{default:r(()=>[a(p,null,{default:r(()=>[a(d,{name:"crop_free"})]),_:1}),a(f,null,{default:r(()=>[D(b(e.t("free")),1)]),_:1})]),_:1},8,["active"]),e.imageData?(m(),S(v,{key:0,clickable:"",active:e.aspectRatio===e.imageData.width/e.imageData.height,onClick:t[10]||(t[10]=k=>e.aspectRatio=e.imageData.width/e.imageData.height)},{default:r(()=>[a(p,null,{default:r(()=>[a(d,{name:"crop_original"})]),_:1}),a(f,null,{default:r(()=>[D(b(e.t("original")),1)]),_:1})]),_:1},8,["active"])):R("",!0)]),_:1})]),_:1}),h8,e.imageData?(m(),I("div",b8,[D(b(e.n(e.imageData.width))+"x"+b(e.n(e.imageData.height))+" ",1),e.imageData.width!==e.newDimensions.width||e.imageData.height!==e.newDimensions.height?(m(),I(ae,{key:0},[D(" -> "+b(e.n(e.newDimensions.width))+"x"+b(e.n(e.newDimensions.height)),1)],64)):R("",!0)])):R("",!0),ne(C("button",{class:"toolbar-button cancel",onClick:t[11]||(t[11]=k=>e.cropping=!1)},b(e.t("cancel_crop")),513),[[Dt,e.cropping]])])],512),[[Dt,e.imageData&&!e.loading&&!e.error]])]),_:3},8,["modelValue","title"])}var w8=N(i8,[["render",$8],["__scopeId","data-v-106d65e4"]]),k8={"audio/aac":"aac","application/x-abiword":"abw","application/x-freearc":"arc","video/x-msvideo":"avi","application/vnd.amazon.ebook":"azw","application/octet-stream":"file","image/bmp":"bmp","application/x-bzip":"bz","application/x-bzip2":"bz2","application/x-csh":"csh","text/css":"css","text/csv":"csv","application/msword":"doc","application/sql":"sql","application/vnd.openxmlformats-officedocument.wordprocessingml.document":"docx","application/vnd.ms-fontobject":"eot","application/epub+zip":"epub","application/gzip":"gz","image/gif":"gif","text/html":"html","image/vnd.microsoft.icon":"ico","text/calendar":"ics","application/java-archive":"jar","image/jpeg":"jpg","text/javascript":"js","application/json":"json","application/ld+json":"jsonld","audio/midi audio/x-midi":"midi","audio/mpeg":"mp3","video/mpeg":"mpeg","application/vnd.apple.installer+xml":"mpkg","application/vnd.oasis.opendocument.presentation":"odp","application/vnd.oasis.opendocument.spreadsheet":"ods","application/vnd.oasis.opendocument.text":"odt","audio/ogg":"oga","video/ogg":"ogv","application/ogg":"ogx","audio/opus":"opus","font/otf":"otf","image/png":"png","application/pdf":"pdf","application/x-httpd-php":"php","application/vnd.ms-powerpoint":"ppt","application/vnd.openxmlformats-officedocument.presentationml.presentation":"pptx","application/vnd.rar":"rar","application/rtf":"rtf","application/x-sh":"sh","image/svg+xml":"svg","application/x-shockwave-flash":"swf","application/x-tar":"tar","image/tiff":"tiff","video/mp2t":"ts","font/ttf":"ttf","text/plain":"txt","application/vnd.visio":"vsd","audio/wav":"wav","audio/webm":"weba","video/webm":"webm","image/webp":"webp","font/woff":"woff","font/woff2":"woff2","application/xhtml+xml":"xhtml","application/vnd.ms-excel":"xls","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet":"xlsx","application/xml":"xml","application/vnd.mozilla.xul+xml":"xul","application/zip":"zip","video/3gpp":"3gp","video/3gpp2":"3g2","audio/3gpp":"3gp","audio/3gpp2":"3g2","application/x-7z-compressed":"7z"},C8={"application/vnd.hzn-3d-crossword":"3D Crossword Plugin","video/3gpp":"3GP","video/3gpp2":"3GP2","application/vnd.mseq":"3GPP MSEQ File","application/vnd.3m.post-it-notes":"3M Post It Notes","application/vnd.3gpp.pic-bw-large":"3rd Generation Partnership Project - Pic Large","application/vnd.3gpp.pic-bw-small":"3rd Generation Partnership Project - Pic Small","application/vnd.3gpp.pic-bw-var":"3rd Generation Partnership Project - Pic Var","application/vnd.3gpp2.tcap":"3rd Generation Partnership Project - Transaction Capabilities Application Part","application/x-7z-compressed":"7-Zip","application/x-abiword":"AbiWord","application/x-ace-compressed":"Ace Archive","application/vnd.americandynamics.acc":"Active Content Compression","application/vnd.acucobol":"ACU Cobol","application/vnd.acucorp":"ACU Cobol","audio/adpcm":"Adaptive differential pulse-code modulation","application/x-authorware-bin":"Adobe (Macropedia) Authorware - Binary File","application/x-authorware-map":"Adobe (Macropedia) Authorware - Map","application/x-authorware-seg":"Adobe (Macropedia) Authorware - Segment File","application/vnd.adobe.air-application-installer-package+zip":"Adobe AIR Application","application/x-shockwave-flash":"Adobe Flash","application/vnd.adobe.fxp":"Adobe Flex Project","application/pdf":"PDF","application/sql":"SQL","application/vnd.cups-ppd":"Adobe PostScript Printer Description File Format","application/x-director":"Adobe Shockwave Player","application/vnd.adobe.xdp+xml":"Adobe XML Data Package","application/vnd.adobe.xfdf":"Adobe XML Forms Data Format","audio/x-aac":"Advanced Audio Coding (AAC)","application/vnd.ahead.space":"Ahead AIR Application","application/vnd.airzip.filesecure.azf":"AirZip FileSECURE","application/vnd.airzip.filesecure.azs":"AirZip FileSECURE","application/vnd.amazon.ebook":"Amazon Kindle eBook format","application/vnd.amiga.ami":"AmigaDE","application/andrew-inset":"Andrew Toolkit","application/vnd.android.package-archive":"Android Package Archive","application/vnd.anser-web-certificate-issue-initiation":"ANSER-WEB Terminal Client - Certificate Issue","application/vnd.anser-web-funds-transfer-initiation":"ANSER-WEB Terminal Client - Web Funds Transfer","application/vnd.antix.game-component":"Antix Game Player","application/x-apple-diskimage":"Apple Disk Image","application/vnd.apple.installer+xml":"Apple Installer Package","application/applixware":"Applixware","application/vnd.hhe.lesson-player":"Archipelago Lesson Player","application/vnd.aristanetworks.swi":"Arista Networks Software Image","text/x-asm":"Assembler Source File","application/atomcat+xml":"Atom Publishing Protocol","application/atomsvc+xml":"Atom Publishing Protocol Service Document","application/atom+xml":"Atom Syndication Format","application/pkix-attr-cert":"Attribute Certificate","audio/x-aiff":"AIFF","video/x-msvideo":"AVI","application/vnd.audiograph":"Audiograph","image/vnd.dxf":"AutoCAD DXF","model/vnd.dwf":"Autodesk Design Web Format (DWF)","text/plain-bas":"BAS Partitur Format","application/x-bcpio":"Binary CPIO Archive","application/octet-stream":"Binary Data","image/bmp":"Bitmap Image","application/x-bittorrent":"BitTorrent","application/vnd.rim.cod":"Blackberry COD File","application/vnd.blueice.multipass":"Blueice Research Multipass","application/vnd.bmi":"BMI Drawing Data Interchange","application/x-sh":"Bourne Shell Script","image/prs.btif":"BTIF","application/vnd.businessobjects":"BusinessObjects","application/x-bzip":"Bzip Archive","application/x-bzip2":"Bzip2 Archive","application/x-csh":"C Shell Script","text/x-c":"C Source File","application/vnd.chemdraw+xml":"CambridgeSoft Chem Draw","text/css":"Cascading Style Sheets (CSS)","chemical/x-cdx":"ChemDraw eXchange file","chemical/x-cml":"Chemical Markup Language","chemical/x-csml":"Chemical Style Markup Language","application/vnd.contact.cmsg":"CIM Database","application/vnd.claymore":"Claymore Data Files","application/vnd.clonk.c4group":"Clonk Game","image/vnd.dvb.subtitle":"Close Captioning - Subtitle","application/cdmi-capability":"Cloud Data Management Interface (CDMI) - Capability","application/cdmi-container":"Cloud Data Management Interface (CDMI) - Contaimer","application/cdmi-domain":"Cloud Data Management Interface (CDMI) - Domain","application/cdmi-object":"Cloud Data Management Interface (CDMI) - Object","application/cdmi-queue":"Cloud Data Management Interface (CDMI) - Queue","application/vnd.cluetrust.cartomobile-config":"ClueTrust CartoMobile - Config","application/vnd.cluetrust.cartomobile-config-pkg":"ClueTrust CartoMobile - Config Package","image/x-cmu-raster":"CMU Image","model/vnd.collada+xml":"COLLADA","text/csv":"CSV","application/mac-compactpro":"Compact Pro","application/vnd.wap.wmlc":"Compiled Wireless Markup Language (WMLC)","image/cgm":"Computer Graphics Metafile","x-conference/x-cooltalk":"CoolTalk","image/x-cmx":"Corel Metafile Exchange (CMX)","application/vnd.xara":"CorelXARA","application/vnd.cosmocaller":"CosmoCaller","application/x-cpio":"CPIO Archive","application/vnd.crick.clicker":"CrickSoftware - Clicker","application/vnd.crick.clicker.keyboard":"CrickSoftware - Clicker - Keyboard","application/vnd.crick.clicker.palette":"CrickSoftware - Clicker - Palette","application/vnd.crick.clicker.template":"CrickSoftware - Clicker - Template","application/vnd.crick.clicker.wordbank":"CrickSoftware - Clicker - Wordbank","application/vnd.criticaltools.wbs+xml":"Critical Tools - PERT Chart EXPERT","application/vnd.rig.cryptonote":"CryptoNote","chemical/x-cif":"Crystallographic Interchange Format","chemical/x-cmdf":"CrystalMaker Data Format","application/cu-seeme":"CU-SeeMe","application/prs.cww":"CU-Writer","text/vnd.curl":"Curl - Applet","text/vnd.curl.dcurl":"Curl - Detached Applet","text/vnd.curl.mcurl":"Curl - Manifest File","text/vnd.curl.scurl":"Curl - Source Code","application/vnd.curl.car":"CURL Applet","application/vnd.curl.pcurl":"CURL Applet","application/vnd.yellowriver-custom-menu":"CustomMenu","application/dssc+der":"Data Structure for the Security Suitability of Cryptographic Algorithms","application/dssc+xml":"Data Structure for the Security Suitability of Cryptographic Algorithms","application/x-debian-package":"Debian Package","audio/vnd.dece.audio":"DECE Audio","image/vnd.dece.graphic":"DECE Graphic","video/vnd.dece.hd":"DECE High Definition Video","video/vnd.dece.mobile":"DECE Mobile Video","video/vnd.uvvu.mp4":"DECE MP4","video/vnd.dece.pd":"DECE PD Video","video/vnd.dece.sd":"DECE SD Video","video/vnd.dece.video":"DECE Video","application/x-dvi":"DVI","application/vnd.fdsn.seed":"Digital Siesmograph Networks - SEED Datafiles","application/x-dtbook+xml":"Digital Talking Book","application/x-dtbresource+xml":"Digital Talking Book - Resource File","application/vnd.dvb.ait":"Digital Video Broadcasting","application/vnd.dvb.service":"Digital Video Broadcasting","audio/vnd.digital-winds":"Digital Winds Music","image/vnd.djvu":"DjVu","application/xml-dtd":"Document Type Definition","application/vnd.dolby.mlp":"Dolby Meridian Lossless Packing","application/x-doom":"Doom Video Game","application/vnd.dpgraph":"DPGraph","audio/vnd.dra":"DRA Audio","application/vnd.dreamfactory":"DreamFactory","audio/vnd.dts":"DTS Audio","audio/vnd.dts.hd":"DTS High Definition Audio","image/vnd.dwg":"DWG Drawing","application/vnd.dynageo":"DynaGeo","application/ecmascript":"ECMAScript","application/vnd.ecowin.chart":"EcoWin Chart","image/vnd.fujixerox.edmics-mmr":"EDMICS 2000","image/vnd.fujixerox.edmics-rlc":"EDMICS 2000","application/exi":"Efficient XML Interchange","application/vnd.proteus.magazine":"EFI Proteus","application/epub+zip":"Electronic Publication","message/rfc822":"Email Message","application/vnd.enliven":"Enliven Viewer","application/vnd.is-xpr":"Express by Infoseek","image/vnd.xiff":"eXtended Image File Format (XIFF)","application/vnd.xfdl":"Extensible Forms Description Language","application/emma+xml":"Extensible MultiModal Annotation","application/vnd.ezpix-album":"EZPix Secure Photo Album","application/vnd.ezpix-package":"EZPix Secure Photo Album","image/vnd.fst":"FAST Search & Transfer ASA","video/vnd.fvt":"FAST Search & Transfer ASA","image/vnd.fastbidsheet":"FastBid Sheet","application/vnd.denovo.fcselayout-link":"FCS Express Layout Link","video/x-f4v":"Flash Video","video/x-flv":"Flash Video","image/vnd.fpx":"FlashPix","image/vnd.net-fpx":"FlashPix","text/vnd.fmi.flexstor":"FLEXSTOR","video/x-fli":"FLI/FLC Animation Format","application/vnd.fluxtime.clip":"FluxTime Clip","application/vnd.fdf":"Forms Data Format","text/x-fortran":"Fortran Source File","application/vnd.mif":"FrameMaker Interchange Format","application/vnd.framemaker":"FrameMaker Normal Format","image/x-freehand":"FreeHand MX","application/vnd.fsc.weblaunch":"Friendly Software Corporation","application/vnd.frogans.fnc":"Frogans Player","application/vnd.frogans.ltf":"Frogans Player","application/vnd.fujixerox.ddd":"Fujitsu - Xerox 2D CAD Data","application/vnd.fujixerox.docuworks":"Fujitsu - Xerox DocuWorks","application/vnd.fujixerox.docuworks.binder":"Fujitsu - Xerox DocuWorks Binder","application/vnd.fujitsu.oasys":"Fujitsu Oasys","application/vnd.fujitsu.oasys2":"Fujitsu Oasys","application/vnd.fujitsu.oasys3":"Fujitsu Oasys","application/vnd.fujitsu.oasysgp":"Fujitsu Oasys","application/vnd.fujitsu.oasysprs":"Fujitsu Oasys","application/x-futuresplash":"FutureSplash Animator","application/vnd.fuzzysheet":"FuzzySheet","image/g3fax":"G3 Fax Image","application/vnd.gmx":"GameMaker ActiveX","model/vnd.gtw":"Gen-Trix Studio","application/vnd.genomatix.tuxedo":"Genomatix Tuxedo Framework","application/vnd.geogebra.file":"GeoGebra","application/vnd.geogebra.tool":"GeoGebra","model/vnd.gdl":"Geometric Description Language (GDL)","application/vnd.geometry-explorer":"GeoMetry Explorer","application/vnd.geonext":"GEONExT and JSXGraph","application/vnd.geoplan":"GeoplanW","application/vnd.geospace":"GeospacW","application/x-font-ghostscript":"Ghostscript Font","application/x-font-bdf":"Glyph Bitmap Distribution Format","application/x-gtar":"GNU Tar Files","application/x-texinfo":"GNU Texinfo Document","application/x-gnumeric":"Gnumeric","application/vnd.google-earth.kml+xml":"Google Earth - KML","application/vnd.google-earth.kmz":"Google Earth - Zipped KML","application/vnd.grafeq":"GrafEq","image/gif":"GIF","text/vnd.graphviz":"Graphviz","application/vnd.groove-account":"Groove - Account","application/vnd.groove-help":"Groove - Help","application/vnd.groove-identity-message":"Groove - Identity Message","application/vnd.groove-injector":"Groove - Injector","application/vnd.groove-tool-message":"Groove - Tool Message","application/vnd.groove-tool-template":"Groove - Tool Template","application/vnd.groove-vcard":"Groove - Vcard","video/h261":"H.261","video/h263":"H.263","video/h264":"H.264","application/vnd.hp-hpid":"Hewlett Packard Instant Delivery","application/vnd.hp-hps":"Hewlett-Packard's WebPrintSmart","application/x-hdf":"Hierarchical Data Format","audio/vnd.rip":"Hit'n'Mix","application/vnd.hbci":"Homebanking Computer Interface (HBCI)","application/vnd.hp-jlyt":"HP Indigo Digital Press - Job Layout Languate","application/vnd.hp-pcl":"HP Printer Command Language","application/vnd.hp-hpgl":"HP-GL/2 and HP RTL","application/vnd.yamaha.hv-script":"HV Script","application/vnd.yamaha.hv-dic":"HV Voice Dictionary","application/vnd.yamaha.hv-voice":"HV Voice Parameter","application/vnd.hydrostatix.sof-data":"Hydrostatix Master Suite","application/hyperstudio":"Hyperstudio","application/vnd.hal+xml":"Hypertext Application Language","text/html":"HTML","application/vnd.ibm.rights-management":"IBM DB2 Rights Manager","application/vnd.ibm.secure-container":"IBM Electronic Media Management System - Secure Container","text/calendar":"iCalendar","application/vnd.iccprofile":"ICC profile","image/x-icon":"Icon Image","application/vnd.igloader":"igLoader","image/ief":"Image Exchange Format","application/vnd.immervision-ivp":"ImmerVision PURE Players","application/vnd.immervision-ivu":"ImmerVision PURE Players","application/reginfo+xml":"IMS Networks","text/vnd.in3d.3dml":"In3D - 3DML","text/vnd.in3d.spot":"In3D - 3DML","model/iges":"Initial Graphics Exchange Specification (IGES)","application/vnd.intergeo":"Interactive Geometry Software","application/vnd.cinderella":"Interactive Geometry Software Cinderella","application/vnd.intercon.formnet":"Intercon FormNet","application/vnd.isac.fcs":"International Society for Advancement of Cytometry","application/ipfix":"Internet Protocol Flow Information Export","application/pkix-cert":"Internet Public Key Infrastructure - Certificate","application/pkixcmp":"Internet Public Key Infrastructure - Certificate Management Protocole","application/pkix-crl":"Internet Public Key Infrastructure - Certificate Revocation Lists","application/pkix-pkipath":"Internet Public Key Infrastructure - Certification Path","application/vnd.insors.igm":"IOCOM Visimeet","application/vnd.ipunplugged.rcprofile":"IP Unplugged Roaming Client","application/vnd.irepository.package+xml":"iRepository / Lucidoc Editor","text/vnd.sun.j2me.app-descriptor":"J2ME App Descriptor","application/java-archive":"Java Archive","application/java-vm":"Java Bytecode File","application/x-java-jnlp-file":"Java Network Launching Protocol","application/java-serialized-object":"Java Serialized Object","text/x-java-source,java":"Java Source File","application/javascript":"JavaScript","application/json":"JSON","application/vnd.joost.joda-archive":"Joda Archive","video/jpm":"JPG","image/jpeg":"JPG","image/x-citrix-jpeg":"JPG","image/pjpeg":"JPG","video/jpeg":"JPGVideo","application/vnd.kahootz":"Kahootz","application/vnd.chipnuts.karaoke-mmd":"Karaoke on Chipnuts Chipsets","application/vnd.kde.karbon":"KDE KOffice Office Suite - Karbon","application/vnd.kde.kchart":"KDE KOffice Office Suite - KChart","application/vnd.kde.kformula":"KDE KOffice Office Suite - Kformula","application/vnd.kde.kivio":"KDE KOffice Office Suite - Kivio","application/vnd.kde.kontour":"KDE KOffice Office Suite - Kontour","application/vnd.kde.kpresenter":"KDE KOffice Office Suite - Kpresenter","application/vnd.kde.kspread":"KDE KOffice Office Suite - Kspread","application/vnd.kde.kword":"KDE KOffice Office Suite - Kword","application/vnd.kenameaapp":"Kenamea App","application/vnd.kidspiration":"Kidspiration","application/vnd.kinar":"Kinar Applications","application/vnd.kodak-descriptor":"Kodak Storyshare","application/vnd.las.las+xml":"Laser App Enterprise","application/x-latex":"LaTeX","application/vnd.llamagraphics.life-balance.desktop":"Life Balance - Desktop Edition","application/vnd.llamagraphics.life-balance.exchange+xml":"Life Balance - Exchange Format","application/vnd.jam":"Lightspeed Audio Lab","application/vnd.lotus-1-2-3":"Lotus 1-2-3","application/vnd.lotus-approach":"Lotus Approach","application/vnd.lotus-freelance":"Lotus Freelance","application/vnd.lotus-notes":"Lotus Notes","application/vnd.lotus-organizer":"Lotus Organizer","application/vnd.lotus-screencam":"Lotus Screencam","application/vnd.lotus-wordpro":"Lotus Wordpro","audio/vnd.lucent.voice":"Lucent Voice","audio/x-mpegurl":"M3U (Multimedia Playlist)","video/x-m4v":"M4v","application/mac-binhex40":"Macintosh BinHex 4.0","application/vnd.macports.portpkg":"MacPorts Port System","application/vnd.osgeo.mapguide.package":"MapGuide DBXML","application/marc":"MARC Formats","application/marcxml+xml":"MARC21 XML Schema","application/mxf":"Material Exchange Format","application/vnd.wolfram.player":"Mathematica Notebook Player","application/mathematica":"Mathematica Notebooks","application/mathml+xml":"Mathematical Markup Language","application/mbox":"Mbox database files","application/vnd.medcalcdata":"MedCalc","application/mediaservercontrol+xml":"Media Server Control Markup Language","application/vnd.mediastation.cdkey":"MediaRemote","application/vnd.mfer":"Medical Waveform Encoding Format","application/vnd.mfmp":"Melody Format for Mobile Platform","model/mesh":"Mesh Data Type","application/mads+xml":"Metadata Authority  Description Schema","application/mets+xml":"Metadata Encoding and Transmission Standard","application/mods+xml":"Metadata Object Description Schema","application/metalink4+xml":"Metalink","application/vnd.mcd":"Micro CADAM Helix D&D","application/vnd.micrografx.flo":"Micrografx","application/vnd.micrografx.igx":"Micrografx iGrafx Professional","application/vnd.eszigno3+xml":"MICROSEC e-Szign\xA2","application/x-msaccess":"Access","video/x-ms-asf":"MS ASF","application/x-msdownload":"MS App","application/vnd.ms-artgalry":"MS Artgalry","application/vnd.ms-cab-compressed":"MS Cabinet File","application/vnd.ms-ims":"MS Class Server","application/x-ms-application":"MS ClickOnce","application/x-msclip":"MS Clipboard Clip","image/vnd.ms-modi":"MS Document Imaging Format","application/vnd.ms-fontobject":"MS Embedded OpenType","application/vnd.ms-excel":"Excel","application/vnd.ms-excel.addin.macroenabled.12":"MS Excel - Add-In File","application/vnd.ms-excel.sheet.binary.macroenabled.12":"MS Excel - Binary Workbook","application/vnd.ms-excel.template.macroenabled.12":"MS Excel - Macro-Enabled Template File","application/vnd.ms-excel.sheet.macroenabled.12":"MS Excel - Macro-Enabled Workbook","application/vnd.ms-htmlhelp":"MS Html Help File","application/x-mscardfile":"MS Information Card","application/vnd.ms-lrm":"MS Learning Resource Module","application/x-msmediaview":"MS MediaView","application/x-msmoney":"MS Money","application/vnd.openxmlformats-officedocument.presentationml.presentation":"MS Office - OOXML - Presentation","application/vnd.openxmlformats-officedocument.presentationml.slide":"MS Office - OOXML - Presentation (Slide)","application/vnd.openxmlformats-officedocument.presentationml.slideshow":"MS Office - OOXML - Presentation (Slideshow)","application/vnd.openxmlformats-officedocument.presentationml.template":"MS Office - OOXML - Presentation Template","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet":"MS Office - OOXML - Spreadsheet","application/vnd.openxmlformats-officedocument.spreadsheetml.template":"MS Office - OOXML - Spreadsheet Template","application/vnd.openxmlformats-officedocument.wordprocessingml.document":"MS Office - OOXML - Word Document","application/vnd.openxmlformats-officedocument.wordprocessingml.template":"MS Office - OOXML - Word Document Template","application/x-msbinder":"MS Office Binder","application/vnd.ms-officetheme":"MS Office System Release Theme","application/onenote":"OneNote","audio/vnd.ms-playready.media.pya":"MS PlayReady Ecosystem","video/vnd.ms-playready.media.pyv":"MS PlayReady Ecosystem Video","application/vnd.ms-powerpoint":"PowerPoint","application/vnd.ms-powerpoint.addin.macroenabled.12":"PowerPoint - Add-in file","application/vnd.ms-powerpoint.slide.macroenabled.12":"PowerPoint - Macro-Enabled Open XML Slide","application/vnd.ms-powerpoint.presentation.macroenabled.12":"PowerPoint - Macro-Enabled Presentation File","application/vnd.ms-powerpoint.slideshow.macroenabled.12":"PowerPoint - Macro-Enabled Slide Show File","application/vnd.ms-powerpoint.template.macroenabled.12":"PowerPoint - Macro-Enabled Template File","application/vnd.ms-project":"MS Project","application/x-mspublisher":"MS Publisher","application/x-msschedule":"MS Schedule+","application/x-silverlight-app":"MS Silverlight","application/vnd.ms-pki.stl":"MS Trust UI Provider - Certificate Trust Link","application/vnd.ms-pki.seccat":"MS Trust UI Provider - Security Catalog","application/vnd.visio":"Visio","application/vnd.visio2013":"Visio 2013","video/x-ms-wm":"MS Windows Media","audio/x-ms-wma":"WMA","audio/x-ms-wax":"MS Windows Media Audio Redirector","video/x-ms-wmx":"MS Windows Media Audio/Video Playlist","application/x-ms-wmd":"MS Windows Media Player Download Package","application/vnd.ms-wpl":"MS Windows Media Player Playlist","application/x-ms-wmz":"MS Windows Media Player Skin Package","video/x-ms-wmv":"WMV","video/x-ms-wvx":"MS Windows Media Video Playlist","application/x-msmetafile":"MS Windows Metafile","application/x-msterminal":"MS Windows Terminal Services","application/msword":"Word","application/vnd.ms-word.document.macroenabled.12":"MS Word - Macro-Enabled Document","application/vnd.ms-word.template.macroenabled.12":"MS Word - Macro-Enabled Template","application/x-mswrite":"MS Wordpad","application/vnd.ms-works":"MS Works","application/x-ms-xbap":"MS XAML Browser Application","application/vnd.ms-xpsdocument":"MS XML Paper Specification","audio/midi":"MIDI","application/vnd.ibm.minipay":"MiniPay","application/vnd.ibm.modcap":"MO:DCA-P","application/vnd.jcp.javame.midlet-rms":"Mobile Information Device Profile","application/vnd.tmobile-livetv":"MobileTV","application/x-mobipocket-ebook":"Mobipocket","application/vnd.mobius.mbk":"Mobius Management Systems - Basket file","application/vnd.mobius.dis":"Mobius Management Systems - Distribution Database","application/vnd.mobius.plc":"Mobius Management Systems - Policy Definition Language File","application/vnd.mobius.mqy":"Mobius Management Systems - Query File","application/vnd.mobius.msl":"Mobius Management Systems - Script Language","application/vnd.mobius.txf":"Mobius Management Systems - Topic Index File","application/vnd.mobius.daf":"Mobius Management Systems - UniversalArchive","text/vnd.fly":"mod_fly / fly.cgi","application/vnd.mophun.certificate":"Mophun Certificate","application/vnd.mophun.application":"Mophun VM","video/mj2":"Motion JPEG 2000","audio/mpeg":"MPEG Audio","video/vnd.mpegurl":"MPEG Url","video/mpeg":"MPEG","application/mp21":"MPEG-21","audio/mp4":"MP4 Audio","video/mp4":"MP4 Video","application/mp4":"MP4","application/vnd.apple.mpegurl":"Multimedia Playlist Unicode","application/vnd.musician":"MUsical Score Interpreted Code Invented for the ASCII designation of Notation","application/vnd.muvee.style":"Muvee Automatic Video Editing","application/xv+xml":"MXML","application/vnd.nokia.n-gage.data":"N-Gage Game Data","application/vnd.nokia.n-gage.symbian.install":"N-Gage Game Installer","application/x-dtbncx+xml":"Navigation Control file for XML (for ePub)","application/x-netcdf":"Network Common Data Form (NetCDF)","application/vnd.neurolanguage.nlu":"neuroLanguage","application/vnd.dna":"New Moon Liftoff/DNA","application/vnd.noblenet-directory":"NobleNet Directory","application/vnd.noblenet-sealer":"NobleNet Sealer","application/vnd.noblenet-web":"NobleNet Web","application/vnd.nokia.radio-preset":"Nokia Radio Application - Preset","application/vnd.nokia.radio-presets":"Nokia Radio Application - Preset","text/n3":"Notation3","application/vnd.novadigm.edm":"Novadigm's RADIA and EDM products","application/vnd.novadigm.edx":"Novadigm's RADIA and EDM products","application/vnd.novadigm.ext":"Novadigm's RADIA and EDM products","application/vnd.flographit":"NpGraphIt","audio/vnd.nuera.ecelp4800":"Nuera ECELP 4800","audio/vnd.nuera.ecelp7470":"Nuera ECELP 7470","audio/vnd.nuera.ecelp9600":"Nuera ECELP 9600","application/oda":"Office Document Architecture","application/ogg":"Ogg","audio/ogg":"Ogg Audio","video/ogg":"Ogg Video","application/vnd.oma.dd2+xml":"OMA Download Agents","application/vnd.oasis.opendocument.text-web":"Open Document Text Web","application/oebps-package+xml":"Open eBook Publication Structure","application/vnd.intu.qbo":"Open Financial Exchange","application/vnd.openofficeorg.extension":"Open Office Extension","application/vnd.yamaha.openscoreformat":"Open Score Format","audio/webm":"WebM Audio","video/webm":"WebM Video","application/vnd.oasis.opendocument.chart":"OpenDocument Chart","application/vnd.oasis.opendocument.chart-template":"OpenDocument Chart Template","application/vnd.oasis.opendocument.database":"OpenDocument Database","application/vnd.oasis.opendocument.formula":"OpenDocument Formula","application/vnd.oasis.opendocument.formula-template":"OpenDocument Formula Template","application/vnd.oasis.opendocument.graphics":"OpenDocument Graphics","application/vnd.oasis.opendocument.graphics-template":"OpenDocument Graphics Template","application/vnd.oasis.opendocument.image":"OpenDocument Image","application/vnd.oasis.opendocument.image-template":"OpenDocument Image Template","application/vnd.oasis.opendocument.presentation":"OpenDocument Presentation","application/vnd.oasis.opendocument.presentation-template":"OpenDocument Presentation Template","application/vnd.oasis.opendocument.spreadsheet":"OpenDocument Spreadsheet","application/vnd.oasis.opendocument.spreadsheet-template":"OpenDocument Spreadsheet Template","application/vnd.oasis.opendocument.text":"OpenDocument Text","application/vnd.oasis.opendocument.text-master":"OpenDocument Text Master","application/vnd.oasis.opendocument.text-template":"OpenDocument Text Template","image/ktx":"OpenGL Textures (KTX)","application/vnd.sun.xml.calc":"OpenOffice - Calc (Spreadsheet)","application/vnd.sun.xml.calc.template":"OpenOffice - Calc Template (Spreadsheet)","application/vnd.sun.xml.draw":"OpenOffice - Draw (Graphics)","application/vnd.sun.xml.draw.template":"OpenOffice - Draw Template (Graphics)","application/vnd.sun.xml.impress":"OpenOffice - Impress (Presentation)","application/vnd.sun.xml.impress.template":"OpenOffice - Impress Template (Presentation)","application/vnd.sun.xml.math":"OpenOffice - Math (Formula)","application/vnd.sun.xml.writer":"OpenOffice - Writer (Text - HTML)","application/vnd.sun.xml.writer.global":"OpenOffice - Writer (Text - HTML)","application/vnd.sun.xml.writer.template":"OpenOffice - Writer Template (Text - HTML)","application/x-font-otf":"OpenType Font File","application/vnd.yamaha.openscoreformat.osfpvg+xml":"OSFPVG","application/vnd.osgi.dp":"OSGi Deployment Package","application/vnd.palm":"PalmOS Data","text/x-pascal":"Pascal Source File","application/vnd.pawaafile":"PawaaFILE","application/vnd.hp-pclxl":"PCL 6 Enhanced (Formely PCL XL)","application/vnd.picsel":"Pcsel eFIF File","image/x-pcx":"PCX Image","image/vnd.adobe.photoshop":"Photoshop Document","application/pics-rules":"PICSRules","image/x-pict":"PICT Image","application/x-chat":"pIRCh","application/pkcs10":"PKCS #10 - Certification Request Standard","application/x-pkcs12":"PKCS #12 - Personal Information Exchange Syntax Standard","application/pkcs7-mime":"PKCS #7 - Cryptographic Message Syntax Standard","application/pkcs7-signature":"PKCS #7 - Cryptographic Message Syntax Standard","application/x-pkcs7-certreqresp":"PKCS #7 - Cryptographic Message Syntax Standard (Certificate Request Response)","application/x-pkcs7-certificates":"PKCS #7 - Cryptographic Message Syntax Standard (Certificates)","application/pkcs8":"PKCS #8 - Private-Key Information Syntax Standard","application/vnd.pocketlearn":"PocketLearn Viewers","image/x-portable-anymap":"Portable Anymap Image","image/x-portable-bitmap":"Portable Bitmap Format","application/x-font-pcf":"Portable Compiled Format","application/font-tdpfr":"Portable Font Resource","application/x-chess-pgn":"Portable Game Notation (Chess Games)","image/x-portable-graymap":"Portable Graymap Format","image/png":"PNG","image/x-citrix-png":"PNG","image/x-png":"PNG","image/x-portable-pixmap":"Portable Pixmap Format","application/pskc+xml":"Portable Symmetric Key Container","application/vnd.ctc-posml":"PosML","application/postscript":"PostScript","application/x-font-type1":"PostScript Fonts","application/vnd.powerbuilder6":"PowerBuilder","application/pgp-encrypted":"Pretty Good Privacy","application/pgp-signature":"Pretty Good Privacy - Signature","application/vnd.previewsystems.box":"Preview Systems ZipLock/VBox","application/vnd.pvi.ptid1":"Princeton Video Image","application/pls+xml":"Pronunciation Lexicon Specification","application/vnd.pg.format":"Proprietary P&G Standard Reporting System","application/vnd.pg.osasli":"Proprietary P&G Standard Reporting System","text/prs.lines.tag":"PRS Lines Tag","application/x-font-linux-psf":"PSF Fonts","application/vnd.publishare-delta-tree":"PubliShare Objects","application/vnd.pmi.widget":"Qualcomm's Plaza Mobile Internet","application/vnd.quark.quarkxpress":"QuarkXpress","application/vnd.epson.esf":"QUASS Stream Player","application/vnd.epson.msf":"QUASS Stream Player","application/vnd.epson.ssf":"QUASS Stream Player","application/vnd.epson.quickanime":"QuickAnime Player","application/vnd.intu.qfx":"Quicken","video/quicktime":"Quicktime Video","application/x-rar-compressed":"RAR Archive","audio/x-pn-realaudio":"Real Audio Sound","audio/x-pn-realaudio-plugin":"Real Audio Sound","application/rsd+xml":"Really Simple Discovery","application/vnd.rn-realmedia":"RealMedia","application/vnd.realvnc.bed":"RealVNC","application/vnd.recordare.musicxml":"Recordare Applications","application/vnd.recordare.musicxml+xml":"Recordare Applications","application/relax-ng-compact-syntax":"Relax NG Compact Syntax","application/vnd.data-vision.rdz":"RemoteDocs R-Viewer","application/rdf+xml":"Resource Description Framework","application/vnd.cloanto.rp9":"RetroPlatform Player","application/vnd.jisp":"RhymBox","application/rtf":"Rich Text","text/richtext":"Rich Text","application/vnd.route66.link66+xml":"ROUTE 66 Location Based Services","application/rss+xml":"RSS","application/shf+xml":"S Hexdump Format","application/vnd.sailingtracker.track":"SailingTracker","image/svg+xml":"SVG","application/vnd.sus-calendar":"ScheduleUs","application/sru+xml":"Search/Retrieve via URL Response Format","application/set-payment-initiation":"Secure Electronic Transaction - Payment","application/set-registration-initiation":"Secure Electronic Transaction - Registration","application/vnd.sema":"Secured eMail","application/vnd.semd":"Secured eMail","application/vnd.semf":"Secured eMail","application/vnd.seemail":"SeeMail","application/x-font-snf":"Server Normal Format","application/scvp-vp-request":"Server-Based Certificate Validation Protocol - Validation Policies - Request","application/scvp-vp-response":"Server-Based Certificate Validation Protocol - Validation Policies - Response","application/scvp-cv-request":"Server-Based Certificate Validation Protocol - Validation Request","application/scvp-cv-response":"Server-Based Certificate Validation Protocol - Validation Response","application/sdp":"Session Description Protocol","text/x-setext":"Setext","video/x-sgi-movie":"SGI Movie","application/vnd.shana.informed.formdata":"Shana Informed Filler","application/vnd.shana.informed.formtemplate":"Shana Informed Filler","application/vnd.shana.informed.interchange":"Shana Informed Filler","application/vnd.shana.informed.package":"Shana Informed Filler","application/thraud+xml":"Sharing Transaction Fraud Data","application/x-shar":"Shell Archive","image/x-rgb":"Silicon Graphics RGB Bitmap","application/vnd.epson.salt":"SimpleAnimeLite Player","application/vnd.accpac.simply.aso":"Simply Accounting","application/vnd.accpac.simply.imp":"Simply Accounting - Data Import","application/vnd.simtech-mindmapper":"SimTech MindMapper","application/vnd.commonspace":"Sixth Floor Media - CommonSpace","application/vnd.yamaha.smaf-audio":"SMAF Audio","application/vnd.smaf":"SMAF File","application/vnd.yamaha.smaf-phrase":"SMAF Phrase","application/vnd.smart.teacher":"SMART Technologies Apps","application/vnd.svd":"SourceView Document","application/sparql-query":"SPARQL - Query","application/sparql-results+xml":"SPARQL - Results","application/srgs":"Speech Recognition Grammar Specification","application/srgs+xml":"Speech Recognition Grammar Specification - XML","application/ssml+xml":"Speech Synthesis Markup Language","application/vnd.koan":"SSEYO Koan Play File","text/sgml":"SGML","application/vnd.stardivision.calc":"StarOffice - Calc","application/vnd.stardivision.draw":"StarOffice - Draw","application/vnd.stardivision.impress":"StarOffice - Impress","application/vnd.stardivision.math":"StarOffice - Math","application/vnd.stardivision.writer":"StarOffice - Writer","application/vnd.stardivision.writer-global":"StarOffice - Writer  (Global)","application/vnd.stepmania.stepchart":"StepMania","application/x-stuffit":"Stuffit Archive","application/x-stuffitx":"Stuffit Archive","application/vnd.solent.sdkm+xml":"SudokuMagic","application/vnd.olpc-sugar":"Sugar Linux Application Bundle","audio/basic":"Sun Audio - Au file format","application/vnd.wqd":"SundaHus WQ","application/vnd.symbian.install":"Symbian Install Package","application/smil+xml":"Synchronized Multimedia Integration Language","application/vnd.syncml+xml":"SyncML","application/vnd.syncml.dm+wbxml":"SyncML - Device Management","application/vnd.syncml.dm+xml":"SyncML - Device Management","application/x-sv4cpio":"System V Release 4 CPIO Archive","application/x-sv4crc":"System V Release 4 CPIO Checksum Data","application/sbml+xml":"Systems Biology Markup Language","text/tab-separated-values":"Tab Seperated Values","image/tiff":"TIFF","application/vnd.tao.intent-module-archive":"Tao Intent","application/x-tar":"Tar File","application/x-tcl":"Tcl Script","application/x-tex":"TeX","application/x-tex-tfm":"TeX Font Metric","application/tei+xml":"Text Encoding and Interchange","text/plain":"Text","application/vnd.spotfire.dxp":"TIBCO Spotfire","application/vnd.spotfire.sfs":"TIBCO Spotfire","application/timestamped-data":"Time Stamped Data Envelope","application/vnd.trid.tpt":"TRI Systems Config","application/vnd.triscape.mxs":"Triscape Map Explorer","text/troff":"troff","application/vnd.trueapp":"True BASIC","application/x-font-ttf":"TrueType Font","text/turtle":"Turtle (Terse RDF Triple Language)","application/vnd.umajin":"UMAJIN","application/vnd.uoml+xml":"Unique Object Markup Language","application/vnd.unity":"Unity 3d","application/vnd.ufdl":"Universal Forms Description Language","text/uri-list":"URI Resolution Services","application/vnd.uiq.theme":"User Interface Quartz - Theme (Symbian)","application/x-ustar":"Ustar (Uniform Standard Tape Archive)","text/x-uuencode":"UUEncode","text/x-vcalendar":"vCalendar","text/x-vcard":"vCard","application/x-cdlink":"Video CD","application/vnd.vsf":"Viewport+","model/vrml":"Virtual Reality Modeling Language","application/vnd.vcx":"VirtualCatalog","model/vnd.mts":"Virtue MTS","model/vnd.vtu":"Virtue VTU","application/vnd.visionary":"Visionary","video/vnd.vivo":"Vivo","application/ccxml+xml,":"Voice Browser Call Control","application/voicexml+xml":"VoiceXML","application/x-wais-source":"WAIS Source","application/vnd.wap.wbxml":"WAP Binary XML (WBXML)","image/vnd.wap.wbmp":"WBMP","audio/x-wav":"WAV","application/davmount+xml":"Web Distributed Authoring and Versioning","application/x-font-woff":"WOFF","application/wspolicy+xml":"Web Services Policy","image/webp":"WebP","application/vnd.webturbo":"WebTurbo","application/widget":"Widget Packaging and XML Configuration","application/winhlp":"WinHelp","text/vnd.wap.wml":"WML","text/vnd.wap.wmlscript":"WMLScript","application/vnd.wap.wmlscriptc":"WMLScript","application/vnd.wordperfect":"Wordperfect","application/vnd.wt.stf":"Worldtalk","application/wsdl+xml":"WSDL","image/x-xbitmap":"X BitMap","image/x-xpixmap":"X PixMap","image/x-xwindowdump":"X Window Dump","application/x-x509-ca-cert":"X.509 Certificate","application/x-xfig":"Xfig","application/xhtml+xml":"XHTML","application/xml":"XML","application/xcap-diff+xml":"XML Configuration Access Protocol - XCAP Diff","application/xenc+xml":"XML Encryption Syntax and Processing","application/patch-ops-error+xml":"XML Patch Framework","application/resource-lists+xml":"XML Resource Lists","application/rls-services+xml":"XML Resource Lists","application/resource-lists-diff+xml":"XML Resource Lists Diff","application/xslt+xml":"XML Transformations","application/xop+xml":"XML-Binary Optimized Packaging","application/x-xpinstall":"XPInstall - Mozilla","application/xspf+xml":"XSPF - XML Shareable Playlist Format","application/vnd.mozilla.xul+xml":"XUL - XML User Interface Language","chemical/x-xyz":"XYZ File Format","text/yaml":"YAML","application/yang":"YANG Data Modeling Language","application/yin+xml":"YIN (YANG - XML)","application/vnd.zul":"Z.U.L. Geometry","application/zip":"Zip Archive","application/vnd.handheld-entertainment+xml":"ZVUE Media Manager","application/vnd.zzazz.deck+xml":"Zzazz Deck"};function Yn(e,t=!1){return t?k8[e]||null:C8[e]||null}function Vl(e=0,t=!0){const l=t?1e3:1024;if(Boolean(e)===!1)return"--";if(Math.abs(e)<l)return`${e} B`;const n=t?["kB","MB","GB","TB","PB","EB","ZB","YB"]:["KiB","MiB","GiB","TiB","PiB","EiB","ZiB","YiB"];let s=-1,u=e;do u/=l,s+=1;while(Math.abs(u)>=l&&s<n.length-1);return`${u.toFixed(1)} ${n[s]}`}const S8=z({props:{file:{type:Object,default:()=>({})},isNew:{type:Boolean,default:!1}},setup(e){const{t,n:l}=te(),n=V(()=>e.isNew||!e.file||!e.file.filesize?null:Vl(e.file.filesize)),{creationDate:s,modificationDate:u}=v(),{userCreated:o,userModified:i}=y(),{folder:d,folderLink:p}=_(),f=V(()=>dt(`${Je()}assets/${e.file.id}`));return{t,n:l,readableMimeType:Yn,size:n,creationDate:s,modificationDate:u,userCreated:o,userModified:i,folder:d,folderLink:p,getRootPath:Je,fileLink:f};function v(){const g=E(null),w=E(null);return ye(()=>e.file,async()=>{if(!e.file)return null;g.value=await jt(new Date(e.file.uploaded_on),String(t("date-fns_date_short"))),e.file.modified_on&&(w.value=await jt(new Date(e.file.modified_on),String(t("date-fns_date_short"))))},{immediate:!0}),{creationDate:g,modificationDate:w}}function y(){const g=E(!1),w=E(null),h=E(null);return ye(()=>e.file,k,{immediate:!0}),{userCreated:w,userModified:h};async function k(){if(!e.file||!e.file.uploaded_by)return null;g.value=!0;try{const A=(await pe.get(`/users/${e.file.uploaded_by}`,{params:{fields:["id","email","first_name","last_name","role"]}})).data.data;if(w.value={id:e.file.uploaded_by,name:At(A),link:`/users/${A.id}`},e.file.modified_by){const L=(await pe.get(`/users/${e.file.modified_by}`,{params:{fields:["id","email","first_name","last_name","role"]}})).data.data;h.value={id:e.file.modified_by,name:At(L),link:`/users/${L.id}`}}}finally{g.value=!1}}}function _(){const g=E(!1),w=E(null),h=V(()=>w.value===null?"/files":`/files/folders/${w.value.id}`);return ye(()=>e.file,k,{immediate:!0}),{folder:w,folderLink:h};async function k(){if(!e.file)return null;if(!!e.file.folder){g.value=!0;try{const F=await pe.get(`/folders/${e.file.folder}`,{params:{fields:["id","name"]}}),{name:A}=F.data.data;w.value={id:e.file.folder,name:A}}finally{g.value=!1}}}}}}),V8={key:0},F8={key:0},A8={key:1},I8={key:2},E8={key:3},D8={key:4},T8={key:5},P8={key:6},L8={key:7,class:"checksum"},O8={key:8},j8={key:9},R8={key:10},M8=["href"],U8={key:0},N8={key:1},B8={key:2},q8={key:3},z8={key:4},K8={class:"page-description"};function H8(e,t,l,n,s,u){const o=c("router-link"),i=c("user-popover"),d=c("v-divider"),p=c("sidebar-detail"),f=we("md");return m(),S(p,{icon:"info_outline",title:e.t("file_details"),close:""},{default:r(()=>{var v,y,_,g,w,h,k,F,A,P,L,O,U,T,B,q,K,H;return[e.file?(m(),I("dl",V8,[e.file.type?(m(),I("div",F8,[C("dt",null,b(e.t("type")),1),C("dd",null,b(e.readableMimeType(e.file.type)||e.file.type),1)])):R("",!0),e.file.width&&e.file.height?(m(),I("div",A8,[C("dt",null,b(e.t("dimensions")),1),C("dd",null,b(e.n(e.file.width))+" \xD7 "+b(e.n(e.file.height)),1)])):R("",!0),e.file.duration?(m(),I("div",I8,[C("dt",null,b(e.t("duration")),1),C("dd",null,b(e.n(e.file.duration)),1)])):R("",!0),e.file.filesize?(m(),I("div",E8,[C("dt",null,b(e.t("size")),1),C("dd",null,b(e.size),1)])):R("",!0),e.file.charset?(m(),I("div",D8,[C("dt",null,b(e.t("charset")),1),C("dd",null,b(e.charset),1)])):R("",!0),e.file.embed?(m(),I("div",T8,[C("dt",null,b(e.t("embed")),1),C("dd",null,b(e.embed),1)])):R("",!0),e.creationDate?(m(),I("div",P8,[C("dt",null,b(e.t("created")),1),C("dd",null,b(e.creationDate),1)])):R("",!0),e.file.checksum?(m(),I("div",L8,[C("dt",null,b(e.t("checksum")),1),C("dd",null,b(e.file.checksum),1)])):R("",!0),e.userCreated?(m(),I("div",O8,[C("dt",null,b(e.t("owner")),1),C("dd",null,[a(i,{user:e.userCreated.id},{default:r(()=>[a(o,{to:e.userCreated.link},{default:r(()=>[D(b(e.userCreated.name),1)]),_:1},8,["to"])]),_:1},8,["user"])])])):R("",!0),e.modificationDate?(m(),I("div",j8,[C("dt",null,b(e.t("modified")),1),C("dd",null,b(e.modificationDate),1)])):R("",!0),e.userModified?(m(),I("div",R8,[C("dt",null,b(e.t("edited_by")),1),C("dd",null,[a(i,{user:e.userModified.id},{default:r(()=>[a(o,{to:e.userModified.link},{default:r(()=>[D(b(e.userModified.name),1)]),_:1},8,["to"])]),_:1},8,["user"])])])):R("",!0),C("div",null,[C("dt",null,b(e.t("file")),1),C("dd",null,[C("a",{href:e.fileLink,target:"_blank"},b(e.t("open_in_new_window")),9,M8)])]),C("div",null,[C("dt",null,b(e.t("folder")),1),C("dd",null,[a(o,{to:e.folderLink},{default:r(()=>[D(b(e.t("open_folder",{folder:e.folder?e.folder.name:e.t("file_library")})),1)]),_:1},8,["to"])])]),((y=(v=e.file.metadata)==null?void 0:v.ifd0)==null?void 0:y.Make)||((g=(_=e.file.metadata)==null?void 0:_.ifd0)==null?void 0:g.Model)||((h=(w=e.file.metadata)==null?void 0:w.exif)==null?void 0:h.FNumber)||((F=(k=e.file.metadata)==null?void 0:k.exif)==null?void 0:F.ExposureTime)||((P=(A=e.file.metadata)==null?void 0:A.exif)==null?void 0:P.FocalLength)||((O=(L=e.file.metadata)==null?void 0:L.exif)==null?void 0:O.ISO)?(m(),I(ae,{key:11},[a(d),((U=e.file.metadata.ifd0)==null?void 0:U.Make)&&((T=e.file.metadata.ifd0)==null?void 0:T.Model)?(m(),I("div",U8,[C("dt",null,b(e.t("camera")),1),C("dd",null,b(e.file.metadata.ifd0.Make)+" "+b(e.file.metadata.ifd0.Model),1)])):R("",!0),((B=e.file.metadata.exif)==null?void 0:B.FNumber)?(m(),I("div",N8,[C("dt",null,b(e.t("exposure")),1),C("dd",null,"\u0192/"+b(e.file.metadata.exif.FNumber),1)])):R("",!0),((q=e.file.metadata.exif)==null?void 0:q.ExposureTime)?(m(),I("div",B8,[C("dt",null,b(e.t("shutter")),1),C("dd",null,"1/"+b(Math.round(1/+e.file.metadata.exif.ExposureTime))+" "+b(e.t("second")),1)])):R("",!0),((K=e.file.metadata.exif)==null?void 0:K.FocalLength)?(m(),I("div",q8,[C("dt",null,b(e.t("focal_length")),1),C("dd",null,b(e.file.metadata.exif.FocalLength)+"mm",1)])):R("",!0),((H=e.file.metadata.exif)==null?void 0:H.ISO)?(m(),I("div",z8,[C("dt",null,b(e.t("iso")),1),C("dd",null,b(e.file.metadata.exif.ISO),1)])):R("",!0)],64)):R("",!0)])):R("",!0),a(d),ne(C("div",K8,null,512),[[f,e.t("page_help_files_item")]])]}),_:1},8,["title"])}var W8=N(S8,[["render",H8],["__scopeId","data-v-4018d0a4"]]);const G8=z({components:{FilesNavigation:uo},setup(){const{t:e}=te();return{t:e}}}),J8={class:"not-found"};function Q8(e,t,l,n,s,u){const o=c("files-navigation"),i=c("v-info"),d=c("private-view");return m(),S(d,{title:e.t("page_not_found")},{navigation:r(()=>[a(o)]),default:r(()=>[C("div",J8,[a(i,{title:e.t("page_not_found"),icon:"not_interested"},{default:r(()=>[D(b(e.t("page_not_found_body")),1)]),_:1},8,["title"])])]),_:1},8,["title"])}var X8=N(G8,[["render",Q8],["__scopeId","data-v-6900fd47"]]);const Z8=z({props:{modelValue:{type:Boolean,default:!1},file:{type:Object,default:()=>({})},preset:{type:Object,default:()=>({})}},emits:["update:modelValue","replaced"],setup(e,{emit:t}){const{t:l}=te();return{t:l,uploaded:n};function n(){t("update:modelValue",!1),t("replaced")}}});function Y8(e,t,l,n,s,u){const o=c("v-card-title"),i=c("v-upload"),d=c("v-card-text"),p=c("v-button"),f=c("v-card-actions"),v=c("v-card"),y=c("v-dialog");return m(),S(y,{"model-value":e.modelValue,"onUpdate:modelValue":t[1]||(t[1]=_=>e.$emit("update:modelValue",!1)),onEsc:t[2]||(t[2]=_=>e.$emit("update:modelValue",!1))},{default:r(()=>[e.file?(m(),S(v,{key:0},{default:r(()=>[a(o,null,{default:r(()=>[D(b(e.t("replace_file")),1)]),_:1}),a(d,null,{default:r(()=>[a(i,{preset:e.preset,"file-id":e.file.id,"from-url":"",onInput:e.uploaded},null,8,["preset","file-id","onInput"])]),_:1}),a(f,null,{default:r(()=>[a(p,{secondary:"",onClick:t[0]||(t[0]=_=>e.$emit("update:modelValue",!1))},{default:r(()=>[D(b(e.t("done")),1)]),_:1})]),_:1})]),_:1})):R("",!0)]),_:1},8,["model-value"])}var x8=N(Z8,[["render",Y8],["__scopeId","data-v-767b664e"]]);const eC=z({name:"FilesItem",components:{FilesNavigation:uo,RevisionsDrawerDetail:Kn,CommentsSidebarDetail:oo,FilePreview:co,ImageEditor:w8,FileInfoSidebarDetail:W8,FolderPicker:ro,FilesNotFound:X8,ReplaceFile:x8,SaveOptions:kl},props:{primaryKey:{type:String,required:!0}},setup(e){const{t}=te(),l=Ye(),n=E(),{primaryKey:s}=Ue(e),{breadcrumb:u}=Z(),o=E(!1),i=E(null),{isNew:d,edits:p,item:f,saving:v,loading:y,error:_,save:g,remove:w,deleting:h,saveAsCopy:k,isBatch:F,refresh:A,validationErrors:P}=Sn(E("directus_files"),s),L=V(()=>Object.keys(p.value).length>0);nn(L);const O=E(!1),U=E(!1),T=V(()=>f.value&&f.value.modified_on?dt(Je()+`assets/${e.primaryKey}?cache-buster=${f.value.modified_on}&key=system-large-contain`):dt(Je()+`assets/${e.primaryKey}?key=system-large-contain`)),B=["type","width","height","filesize","checksum","uploaded_by","uploaded_on","modified_by","modified_on","duration","folder","charset","embed"],q=V(()=>{var _e;return f.value&&((_e=f.value)==null?void 0:_e.folder)?`/files/folders/${f.value.folder}`:"/files"}),K=E(!1),H=E(null),{moveToDialogActive:Y,moveToFolder:J,moving:re,selectedFolder:fe}=he();et("meta+s",ve,n);const X=_e=>{if(L.value)return K.value=!0,H.value=_e.fullPath,!1};Ot(X),Pt(X);const{deleteAllowed:x,saveAllowed:ee,updateAllowed:se,fields:W,revisionsAllowed:G}=Wn(E("directus_files"),f,d),le=V(()=>W.value.filter(_e=>B.includes(_e.field)===!1));return{t,router:l,item:f,loading:y,error:_,isNew:d,breadcrumb:u,edits:p,hasEdits:L,saving:v,saveAndQuit:ce,deleteAndQuit:ie,confirmDelete:O,deleting:h,saveAndStay:ve,saveAsCopyAndNavigate:Q,isBatch:F,editActive:U,revisionsDrawerDetail:i,confirmLeave:K,leaveTo:H,discardAndLeave:de,downloadFile:me,moveToDialogActive:Y,moveToFolder:J,moving:re,selectedFolder:fe,fileSrc:T,form:n,to:q,replaceFileDialogActive:o,refresh:A,deleteAllowed:x,saveAllowed:ee,updateAllowed:se,fields:W,fieldsFiltered:le,revisionsAllowed:G,validationErrors:P};function Z(){return{breadcrumb:V(()=>{var Ce;return((Ce=f==null?void 0:f.value)==null?void 0:Ce.folder)?[{name:t("file_library"),to:{path:`/files/folders/${f.value.folder}`}}]:[{name:t("file_library"),to:"/files"}]})}}async function ce(){try{await g(),l.push(q.value)}catch{}}async function ve(){var _e,Ce;try{await g(),(Ce=(_e=i.value)==null?void 0:_e.refresh)==null||Ce.call(_e)}catch{}}async function Q(){const _e=await k();_e&&l.push(`/files/${_e}`)}async function ie(){try{await w(),l.push(q.value)}catch{O.value=!1}}function de(){!H.value||(p.value={},l.push(H.value))}function me(){const _e=dt(Je()+`assets/${e.primaryKey}?download`);window.open(_e,"_blank")}function he(){const _e=E(!1),Ce=E(!1),De=E();return ye(f,()=>{var je;De.value=((je=f.value)==null?void 0:je.folder)||null}),{moveToDialogActive:_e,moving:Ce,moveToFolder:Ie,selectedFolder:De};async function Ie(){var je;Ce.value=!0;try{const nt=await pe.patch(`/files/${e.primaryKey}`,{folder:De.value},{params:{fields:"folder.name"}});await A();const Pe=((je=nt.data.data.folder)==null?void 0:je.name)||t("file_library");It({title:t("file_moved",{folder:Pe}),type:"success",icon:"folder_move"})}catch(nt){Se(nt)}finally{_e.value=!1,Ce.value=!1}}}}}),tC={class:"file-item"};function nC(e,t,l,n,s,u){const o=c("files-not-found"),i=c("v-icon"),d=c("v-button"),p=c("v-breadcrumb"),f=c("v-card-title"),v=c("v-card-actions"),y=c("v-card"),_=c("v-dialog"),g=c("folder-picker"),w=c("v-card-text"),h=c("save-options"),k=c("files-navigation"),F=c("file-preview"),A=c("image-editor"),P=c("v-form"),L=c("file-info-sidebar-detail"),O=c("revisions-drawer-detail"),U=c("comments-sidebar-detail"),T=c("replace-file"),B=c("private-view"),q=we("tooltip");return!e.loading&&!e.item?(m(),S(o,{key:0})):(m(),S(B,{key:1,title:e.loading||!e.item?e.t("loading"):e.item.title},{"title-outer:prepend":r(()=>[a(d,{class:"header-icon",rounded:"",icon:"",secondary:"",exact:"",onClick:t[0]||(t[0]=K=>e.router.back())},{default:r(()=>[a(i,{name:"arrow_back"})]),_:1})]),headline:r(()=>[a(p,{items:e.breadcrumb},null,8,["items"])]),actions:r(()=>[a(_,{modelValue:e.confirmDelete,"onUpdate:modelValue":t[2]||(t[2]=K=>e.confirmDelete=K),onEsc:t[3]||(t[3]=K=>e.confirmDelete=!1)},{activator:r(({on:K})=>[ne(a(d,{rounded:"",icon:"",class:"action-delete",disabled:e.item===null||e.deleteAllowed===!1,onClick:K},{default:r(()=>[a(i,{name:"delete",outline:""})]),_:2},1032,["disabled","onClick"]),[[q,e.deleteAllowed?e.t("delete_label"):e.t("not_allowed"),void 0,{bottom:!0}]])]),default:r(()=>[a(y,null,{default:r(()=>[a(f,null,{default:r(()=>[D(b(e.t("delete_are_you_sure")),1)]),_:1}),a(v,null,{default:r(()=>[a(d,{secondary:"",onClick:t[1]||(t[1]=K=>e.confirmDelete=!1)},{default:r(()=>[D(b(e.t("cancel")),1)]),_:1}),a(d,{kind:"danger",loading:e.deleting,onClick:e.deleteAndQuit},{default:r(()=>[D(b(e.t("delete_label")),1)]),_:1},8,["loading","onClick"])]),_:1})]),_:1})]),_:1},8,["modelValue"]),e.isNew===!1?(m(),S(_,{key:0,modelValue:e.moveToDialogActive,"onUpdate:modelValue":t[6]||(t[6]=K=>e.moveToDialogActive=K),onEsc:t[7]||(t[7]=K=>e.moveToDialogActive=!1)},{activator:r(({on:K})=>[ne(a(d,{rounded:"",icon:"",disabled:e.item===null,class:"folder",onClick:K},{default:r(()=>[a(i,{name:"folder_move"})]),_:2},1032,["disabled","onClick"]),[[q,e.t("move_to_folder"),void 0,{bottom:!0}]])]),default:r(()=>[a(y,null,{default:r(()=>[a(f,null,{default:r(()=>[D(b(e.t("move_to_folder")),1)]),_:1}),a(w,null,{default:r(()=>[a(g,{modelValue:e.selectedFolder,"onUpdate:modelValue":t[4]||(t[4]=K=>e.selectedFolder=K)},null,8,["modelValue"])]),_:1}),a(v,null,{default:r(()=>[a(d,{secondary:"",onClick:t[5]||(t[5]=K=>e.moveToDialogActive=!1)},{default:r(()=>[D(b(e.t("cancel")),1)]),_:1}),a(d,{loading:e.moving,onClick:e.moveToFolder},{default:r(()=>[D(b(e.t("move")),1)]),_:1},8,["loading","onClick"])]),_:1})]),_:1})]),_:1},8,["modelValue"])):R("",!0),ne(a(d,{rounded:"",icon:"",class:"download",onClick:e.downloadFile},{default:r(()=>[a(i,{name:"save_alt"})]),_:1},8,["onClick"]),[[q,e.t("download"),void 0,{bottom:!0}]]),e.item&&e.item.type.includes("image")?ne((m(),S(d,{key:1,rounded:"",icon:"",class:"edit",onClick:t[8]||(t[8]=K=>e.editActive=!0)},{default:r(()=>[a(i,{name:"tune"})]),_:1},512)),[[q,e.t("edit"),void 0,{bottom:!0}]]):R("",!0),ne(a(d,{rounded:"",icon:"",loading:e.saving,disabled:e.hasEdits===!1||e.saveAllowed===!1,onClick:e.saveAndQuit},{"append-outer":r(()=>[e.hasEdits===!0||e.saveAllowed===!0?(m(),S(h,{key:0,onSaveAndStay:e.saveAndStay,onSaveAsCopy:e.saveAsCopyAndNavigate},null,8,["onSaveAndStay","onSaveAsCopy"])):R("",!0)]),default:r(()=>[a(i,{name:"check"})]),_:1},8,["loading","disabled","onClick"]),[[q,e.saveAllowed?e.t("save"):e.t("not_allowed"),void 0,{bottom:!0}]])]),navigation:r(()=>[a(k,{"current-folder":e.item&&e.item.folder},null,8,["current-folder"])]),sidebar:r(()=>[a(L,{file:e.item},null,8,["file"]),e.isBatch===!1&&e.isNew===!1&&e.revisionsAllowed?(m(),S(O,{key:0,ref:"revisionsDrawerDetail",collection:"directus_files","primary-key":e.primaryKey},null,8,["primary-key"])):R("",!0),e.isBatch===!1&&e.isNew===!1?(m(),S(U,{key:1,collection:"directus_files","primary-key":e.primaryKey},null,8,["primary-key"])):R("",!0)]),default:r(()=>[C("div",tC,[e.isBatch===!1&&e.item?(m(),S(F,{key:0,src:e.fileSrc,mime:e.item.type,width:e.item.width,height:e.item.height,title:e.item.title,onClick:t[9]||(t[9]=K=>e.replaceFileDialogActive=!0)},null,8,["src","mime","width","height","title"])):R("",!0),e.item&&e.item.type.startsWith("image")?(m(),S(A,{key:1,id:e.item.id,modelValue:e.editActive,"onUpdate:modelValue":t[10]||(t[10]=K=>e.editActive=K),onRefresh:e.refresh},null,8,["id","modelValue","onRefresh"])):R("",!0),a(P,{ref:"form",modelValue:e.edits,"onUpdate:modelValue":t[11]||(t[11]=K=>e.edits=K),fields:e.fieldsFiltered,loading:e.loading,"initial-values":e.item,"batch-mode":e.isBatch,"primary-key":e.primaryKey,disabled:e.updateAllowed===!1,"validation-errors":e.validationErrors},null,8,["modelValue","fields","loading","initial-values","batch-mode","primary-key","disabled","validation-errors"])]),a(_,{modelValue:e.confirmLeave,"onUpdate:modelValue":t[13]||(t[13]=K=>e.confirmLeave=K),onEsc:e.discardAndLeave},{default:r(()=>[a(y,null,{default:r(()=>[a(f,null,{default:r(()=>[D(b(e.t("unsaved_changes")),1)]),_:1}),a(w,null,{default:r(()=>[D(b(e.t("unsaved_changes_copy")),1)]),_:1}),a(v,null,{default:r(()=>[a(d,{secondary:"",onClick:e.discardAndLeave},{default:r(()=>[D(b(e.t("discard_changes")),1)]),_:1},8,["onClick"]),a(d,{onClick:t[12]||(t[12]=K=>e.confirmLeave=!1)},{default:r(()=>[D(b(e.t("keep_editing")),1)]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue","onEsc"]),a(T,{modelValue:e.replaceFileDialogActive,"onUpdate:modelValue":t[14]||(t[14]=K=>e.replaceFileDialogActive=K),file:e.item,onReplaced:e.refresh},null,8,["modelValue","file","onReplaced"])]),_:1},8,["title"]))}var lC=N(eC,[["render",nC],["__scopeId","data-v-b965a6f0"]]),oC=un({id:"files",name:"$t:file_library",icon:"folder",routes:[{name:"files-collection",path:"",component:Zn,children:[{path:"+",name:"add-file",components:{addNew:Va}}]},{name:"files-item",path:":primaryKey",component:lC,props:!0},{path:"folders",redirect:"/files"},{name:"folders-collection",path:"folders/:folder",component:Zn,props:!0,children:[{path:"+",name:"add-file-folder",components:{addNew:Va}}]},{path:"all",component:Zn,props:{special:"all"}},{path:"mine",component:Zn,props:{special:"mine"}},{path:"recent",component:Zn,props:{special:"recent"}}],preRegisterCheck(e,t){return e.role.admin_access?!0:!!t.find(s=>s.collection==="directus_files"&&s.action==="read")}}),aC=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:oC});function Ea(e){const t=e.split(".")[1].replace("-","+").replace("_","/"),l=Ss.exports.decode(t);return JSON.parse(l)}const iC=z({setup(){const{t:e}=te(),t=en(),l=V(()=>t.query.token),n=E(null),s=E(!1),u=E(null),o=E(!1),i=V(()=>u.value?Wt(u.value):null),d=V(()=>"/login"),p=V(()=>Ea(l.value).email);return{t:e,creating:s,error:u,done:o,password:n,onSubmit:f,signInLink:d,errorFormatted:i,email:p};async function f(){s.value=!0,u.value=null;try{await pe.post("/users/invite/accept",{password:n.value,token:l.value}),o.value=!0}catch(v){u.value=v}finally{s.value=!1}}}}),sC={class:"type-title"};function rC(e,t,l,n,s,u){const o=c("v-input"),i=c("v-notice"),d=c("v-button"),p=c("v-icon"),f=c("public-view");return m(),S(f,null,{notice:r(()=>[a(p,{name:"lock_outlined",left:""}),D(" "+b(e.t("not_authenticated")),1)]),default:r(()=>[C("h1",sC,b(e.t("create_account")),1),C("form",{onSubmit:t[1]||(t[1]=Ae((...v)=>e.onSubmit&&e.onSubmit(...v),["prevent"]))},[a(o,{"model-value":e.email,disabled:""},null,8,["model-value"]),a(o,{modelValue:e.password,"onUpdate:modelValue":t[0]||(t[0]=v=>e.password=v),placeholder:e.t("password"),autofocus:"",autocomplete:"password",type:"password",disabled:e.done},null,8,["modelValue","placeholder","disabled"]),e.done?(m(),S(i,{key:0,type:"success"},{default:r(()=>[D(b(e.t("account_created_successfully")),1)]),_:1})):R("",!0),e.error?(m(),S(i,{key:1,type:"danger"},{default:r(()=>[D(b(e.errorFormatted),1)]),_:1})):R("",!0),e.done?(m(),S(d,{key:3,large:"",to:e.signInLink},{default:r(()=>[D(b(e.t("sign_in")),1)]),_:1},8,["to"])):(m(),S(d,{key:2,type:"submit",loading:e.creating,large:""},{default:r(()=>[D(b(e.t("create")),1)]),_:1},8,["loading"]))],32)]),_:1})}var dC=N(iC,[["render",rC],["__scopeId","data-v-8ab16d02"]]);const uC=z({props:{provider:{type:String,required:!0}},setup(e){const{t}=te(),l=Ye(),{provider:n}=Ue(e),s=E(!1),u=E(null),o=E(null),i=E(null),d=E(null),p=E(!1),f=Xe();ye(u,()=>{p.value===!0&&(p.value=!1)}),ye(n,()=>{u.value=null,o.value=null,i.value=null,d.value=null,p.value=!1});const v=V(()=>i.value==="INVALID_PAYLOAD"?Wt("INVALID_CREDENTIALS"):i.value?Wt(i.value):null);return{t,errorFormatted:v,error:i,email:u,password:o,onSubmit:y,loggingIn:s,translateAPIError:Wt,otp:d,requiresTFA:p};async function y(){var _,g,w,h,k,F,A,P,L,O,U;if(!(u.value===null||o.value===null))try{s.value=!0;const T={email:u.value,password:o.value};d.value&&(T.otp=d.value),await ui(T,n.value);const B=(_=f.currentUser)==null?void 0:_.last_page;l.push(B||"/collections")}catch(T){((F=(k=(h=(w=(g=T.response)==null?void 0:g.data)==null?void 0:w.errors)==null?void 0:h[0])==null?void 0:k.extensions)==null?void 0:F.code)==="INVALID_OTP"&&p.value===!1?p.value=!0:i.value=((U=(O=(L=(P=(A=T.response)==null?void 0:A.data)==null?void 0:P.errors)==null?void 0:L[0])==null?void 0:O.extensions)==null?void 0:U.code)||T}finally{s.value=!1}}}}),cC={class:"buttons"};function pC(e,t,l,n,s,u){const o=c("v-input"),i=c("transition-expand"),d=c("v-notice"),p=c("v-button"),f=c("router-link");return m(),I("form",{onSubmit:t[3]||(t[3]=Ae((...v)=>e.onSubmit&&e.onSubmit(...v),["prevent"]))},[a(o,{modelValue:e.email,"onUpdate:modelValue":t[0]||(t[0]=v=>e.email=v),autofocus:"",autocomplete:"username",type:"email",placeholder:e.t("email")},null,8,["modelValue","placeholder"]),a(o,{modelValue:e.password,"onUpdate:modelValue":t[1]||(t[1]=v=>e.password=v),type:"password",autocomplete:"current-password",placeholder:e.t("password")},null,8,["modelValue","placeholder"]),a(i,null,{default:r(()=>[e.requiresTFA?(m(),S(o,{key:0,modelValue:e.otp,"onUpdate:modelValue":t[2]||(t[2]=v=>e.otp=v),type:"text",placeholder:e.t("otp"),autofocus:""},null,8,["modelValue","placeholder"])):R("",!0)]),_:1}),e.error?(m(),S(d,{key:0,type:"warning"},{default:r(()=>[D(b(e.errorFormatted),1)]),_:1})):R("",!0),C("div",cC,[a(p,{type:"submit",loading:e.loggingIn,large:""},{default:r(()=>[D(b(e.t("sign_in")),1)]),_:1},8,["loading"]),a(f,{to:"/reset-password",class:"forgot-password"},{default:r(()=>[D(b(e.t("forgot_password")),1)]),_:1})])],32)}var mC=N(uC,[["render",pC],["__scopeId","data-v-2c052007"]]);const fC=z({props:{provider:{type:String,required:!0}},setup(e){const{t}=te(),l=Ye(),{provider:n}=Ue(e),s=E(!1),u=E(null),o=E(null),i=E(null),d=E(null),p=E(!1),f=Xe();ye(u,()=>{p.value===!0&&(p.value=!1)}),ye(n,()=>{u.value=null,o.value=null,i.value=null,d.value=null,p.value=!1});const v=V(()=>i.value==="INVALID_PAYLOAD"?Wt("INVALID_CREDENTIALS"):i.value?Wt(i.value):null);return{t,errorFormatted:v,error:i,identifier:u,password:o,onSubmit:y,loggingIn:s,translateAPIError:Wt,otp:d,requiresTFA:p};async function y(){var _,g,w,h,k,F,A,P,L,O,U;if(!(u.value===null||o.value===null))try{s.value=!0;const T={identifier:u.value,password:o.value};d.value&&(T.otp=d.value),await ui(T,n.value);const B=(_=f.currentUser)==null?void 0:_.last_page;l.push(B||"/collections")}catch(T){((F=(k=(h=(w=(g=T.response)==null?void 0:g.data)==null?void 0:w.errors)==null?void 0:h[0])==null?void 0:k.extensions)==null?void 0:F.code)==="INVALID_OTP"&&p.value===!1?p.value=!0:i.value=((U=(O=(L=(P=(A=T.response)==null?void 0:A.data)==null?void 0:P.errors)==null?void 0:L[0])==null?void 0:O.extensions)==null?void 0:U.code)||T}finally{s.value=!1}}}});function vC(e,t,l,n,s,u){const o=c("v-input"),i=c("transition-expand"),d=c("v-notice"),p=c("v-button");return m(),I("form",{onSubmit:t[3]||(t[3]=Ae((...f)=>e.onSubmit&&e.onSubmit(...f),["prevent"]))},[a(o,{modelValue:e.identifier,"onUpdate:modelValue":t[0]||(t[0]=f=>e.identifier=f),autofocus:"",autocomplete:"username",placeholder:e.t("identifier")},null,8,["modelValue","placeholder"]),a(o,{modelValue:e.password,"onUpdate:modelValue":t[1]||(t[1]=f=>e.password=f),type:"password",autocomplete:"current-password",placeholder:e.t("password")},null,8,["modelValue","placeholder"]),a(i,null,{default:r(()=>[e.requiresTFA?(m(),S(o,{key:0,modelValue:e.otp,"onUpdate:modelValue":t[2]||(t[2]=f=>e.otp=f),type:"text",placeholder:e.t("otp"),autofocus:""},null,8,["modelValue","placeholder"])):R("",!0)]),_:1}),e.error?(m(),S(d,{key:0,type:"warning"},{default:r(()=>[D(b(e.errorFormatted),1)]),_:1})):R("",!0),a(p,{type:"submit",loading:e.loggingIn,large:""},{default:r(()=>[D(b(e.t("sign_in")),1)]),_:1},8,["loading"])],32)}var _C=N(fC,[["render",vC],["__scopeId","data-v-2f8d6010"]]);const yC=z({setup(){const{t:e}=te(),t=Ye(),l=E(!1),n=E(null),s=E(null);return u(),st(()=>{"continue"in t.currentRoute.value.query&&o()}),{t:e,name:n,lastPage:s,loading:l,hydrateAndLogin:o};async function u(){l.value=!0;try{const i=await pe.get("/users/me",{params:{fields:["email","first_name","last_name","last_page"]}});n.value=At(i.data.data),s.value=i.data.data.last_page}catch(i){Se(i)}finally{l.value=!1}}async function o(){await Vo(),t.push(s.value||"/collections")}}}),gC={class:"continue-as"},hC={class:"actions"};function bC(e,t,l,n,s,u){const o=c("v-progress-circular"),i=c("i18n-t"),d=c("router-link"),p=c("v-button");return m(),I("div",gC,[e.loading?(m(),S(o,{key:0,indeterminate:""})):(m(),I(ae,{key:1},[a(i,{keypath:"continue_as",scope:"global",tag:"p"},{name:r(()=>[C("b",null,b(e.name),1)]),_:1}),C("div",hC,[a(d,{to:"/logout",class:"sign-out"},{default:r(()=>[D(b(e.t("sign_out")),1)]),_:1}),a(p,{autofocus:"",large:"",onClick:e.hydrateAndLogin},{default:r(()=>[D(b(e.t("continue_label")),1)]),_:1},8,["onClick"])])],64))])}var $C=N(yC,[["render",bC],["__scopeId","data-v-0da53ff4"]]),wC=["about","above","across","after","against","along","among","around","at","because of","before","behind","below","beneath","beside","besides","between","beyond","but","by","concerning","despite","down","during","except","excepting","for","from","in","in front of","inside","in spite of","instead of","into","like","near","of","off","on","onto","out","outside","over","past","regarding","since","through","throughout","to","toward","under","underneath","until","up","upon","up to","with","within","without","with regard to","with respect to"],kC=["and","that","but","or","as","if","when","than","because","while","where","after","so","though","since","until","whether","before","although","nor","like","once","unless","now","except"],CC=["2D","3D","4WD","API","BASIC","BIOS","CCTV","CC","CCV","CD","CD-ROM","COBOL","CIA","CMS","CSS","CSV","CV","DIY","DVD","DB","DNA","E3","EIN","ESPN","FAQ","FAQs","FTP","FPS","FORTRAN","FBI","HTML","HTTP","ID","IP","ISO","JS","JSON","LASER","M2M","M2MM","M2O","MMORPG","NAFTA","NASA","NDA","O2M","PDF","PHP","POP","RAM","RNGR","ROM","RPG","RTFM","RTS","SCUBA","SITCOM","SKU","SMTP","SQL","SSN","SWAT","TBS","TTL","TV","TNA","UI","URL","USB","UWP","VIP","W3C","WYSIWYG","WWW","WWE","WWF"],po=["2FA","3D","DateTime","GitHub","ID","IDs","iMac","IMAX","iOS","IP","iPad","iPhone","iPod","macOS","M2M","M2O","McDonalds","MySQL","O2M","PDFs","pH","PostgreSQL","YouTube","UUID","SEO","CTA","4K","HD","UHD","5K","8K"];function SC(e,t,l){const n=e.toLowerCase(),s=e.toUpperCase();for(let u=0;u<po.length;u+=1)if(po[u].toLowerCase()===n)return po[u];return CC.includes(s)?s:t===0||t===l.length-1?e:wC.includes(n)||kC.includes(n)?n:e}function VC(e,t){return`${e} ${t}`}function FC(e){return e.charAt(0).toUpperCase()+e.substring(1)}function AC(e){return e.replace(/([a-z\d])([A-Z])/g,"$1_$2").replace(/([A-Z]+)([A-Z][a-z\d]+)/g,"$1_$2").toLowerCase()}function Et(e,t){return t||(t=new RegExp("/s|-|_| ","g")),AC(e).split(t).map(FC).map(SC).reduce(VC)}const IC=z({props:{providers:{type:Array,default:()=>[]}},setup(e){const{t}=te(),{providers:l}=Ue(e),n=E([]);return ye(l,()=>{n.value=l.value.filter(s=>ya.includes(s.driver)).map(s=>{var u;return{name:Et(s.name),link:`${Je()}auth/login/${s.name}?redirect=${window.location.href.replace(location.search,"")}?continue`,icon:(u=s.icon)!=null?u:"account_circle"}})}),{t,ssoProviders:n}}}),EC={class:"sso-links"},DC=["href"],TC={class:"sso-icon"},PC={class:"sso-title"};function LC(e,t,l,n,s,u){const o=c("v-divider"),i=c("v-icon");return m(),I("div",EC,[e.ssoProviders.length>0?(m(),I(ae,{key:0},[a(o),(m(!0),I(ae,null,be(e.ssoProviders,d=>(m(),I("a",{key:d.name,class:"sso-link",href:d.link},[C("div",TC,[a(i,{name:d.icon},null,8,["name"])]),C("div",PC,b(e.t("log_in_with",{provider:d.name})),1)],8,DC))),128))],64)):R("",!0)])}var OC=N(IC,[["render",LC],["__scopeId","data-v-32497dd8"]]);const jC=z({components:{LoginForm:mC,LdapForm:_C,ContinueAs:$C,SsoLinks:OC},props:{logoutReason:{type:String,default:null}},setup(){const{t:e,te:t}=te(),l=wt(),n=E([]),s=E(eo),u=E([]),o=E("local"),i=V({get(){return s.value},set(f){var v,y;s.value=f,o.value=(y=(v=n.value.find(_=>_.name===f))==null?void 0:v.driver)!=null?y:"local"}}),d=V(()=>l.authenticated);return st(()=>p()),ye(n,()=>{u.value=n.value.filter(f=>!ya.includes(f.driver)).map(f=>({text:Et(f.name),value:f.name})),u.value.unshift({text:e("default_provider"),value:eo})}),{t:e,te:t,authenticated:d,providers:n,providerSelect:i,providerOptions:u,provider:s,driver:o};async function p(){try{const f=await pe.get("/auth");n.value=f.data.data}catch(f){Se(f)}}}}),RC={class:"header"},MC={class:"type-title"},UC={key:0,class:"provider-select"};function NC(e,t,l,n,s,u){const o=c("v-select"),i=c("continue-as"),d=c("ldap-form"),p=c("login-form"),f=c("sso-links"),v=c("v-icon"),y=c("public-view");return m(),S(y,null,xe({default:r(()=>[C("div",RC,[C("h1",MC,b(e.t("sign_in")),1),!e.authenticated&&e.providerOptions.length>1?(m(),I("div",UC,[a(o,{modelValue:e.providerSelect,"onUpdate:modelValue":t[0]||(t[0]=_=>e.providerSelect=_),inline:"",items:e.providerOptions,label:""},null,8,["modelValue","items"])])):R("",!0)]),e.authenticated?(m(),S(i,{key:0})):e.driver==="ldap"?(m(),S(d,{key:1,provider:e.provider},null,8,["provider"])):(m(),S(p,{key:2,provider:e.provider},null,8,["provider"])),e.authenticated?R("",!0):(m(),S(f,{key:3,providers:e.providers},null,8,["providers"]))]),_:2},[e.authenticated?{name:"notice",fn:r(()=>[a(v,{name:"lock_open",left:""}),D(" "+b(e.t("authenticated")),1)])}:{name:"notice",fn:r(()=>[a(v,{name:"lock_outlined",left:""}),D(" "+b(e.logoutReason&&e.te(`logoutReason.${e.logoutReason}`)?e.t(`logoutReason.${e.logoutReason}`):e.t("not_authenticated")),1)])}]),1024)}var BC=N(jC,[["render",NC],["__scopeId","data-v-75eef6b2"]]);const qC=z({setup(){st(()=>{Eo()})}}),zC={class:"logout"};function KC(e,t,l,n,s,u){const o=c("v-progress-circular");return m(),I("div",zC,[a(o,{indeterminate:""})])}var HC=N(qC,[["render",KC],["__scopeId","data-v-cfb047f4"]]);const WC=z({setup(){const{t:e}=te();return{t:e}}}),GC={class:"not-found"};function JC(e,t,l,n,s,u){const o=c("v-info"),i=c("private-view");return m(),S(i,{title:e.t("page_not_found")},{default:r(()=>[C("div",GC,[a(o,{title:e.t("page_not_found"),icon:"not_interested"},{default:r(()=>[D(b(e.t("page_not_found_body")),1)]),_:1},8,["title"])])]),_:1},8,["title"])}var QC=N(WC,[["render",JC],["__scopeId","data-v-a922425e"]]);const XC=z({setup(){const{t:e}=te(),t=E(null),l=E(!1),n=E(null),s=E(!1),u=V(()=>n.value?Wt(n.value):null),o=V(()=>"/login");return{t:e,sending:l,error:n,done:s,email:t,onSubmit:i,signInLink:o,errorFormatted:u};async function i(){l.value=!0,n.value=null;try{await pe.post("/auth/password/request",{email:t.value}),s.value=!0}catch(d){n.value=d}finally{l.value=!1}}}}),ZC={class:"buttons"};function YC(e,t,l,n,s,u){const o=c("v-input"),i=c("v-notice"),d=c("v-button"),p=c("router-link");return m(),I("form",{onSubmit:t[1]||(t[1]=Ae((...f)=>e.onSubmit&&e.onSubmit(...f),["prevent"]))},[a(o,{modelValue:e.email,"onUpdate:modelValue":t[0]||(t[0]=f=>e.email=f),autofocus:"",autocomplete:"username",type:"email",placeholder:e.t("email")},null,8,["modelValue","placeholder"]),e.done?(m(),S(i,{key:0,type:"success"},{default:r(()=>[D(b(e.t("password_reset_sent")),1)]),_:1})):R("",!0),e.error?(m(),S(i,{key:1,type:"danger"},{default:r(()=>[D(b(e.errorFormatted),1)]),_:1})):R("",!0),C("div",ZC,[a(d,{type:"submit",loading:e.sending,large:""},{default:r(()=>[D(b(e.t("reset")),1)]),_:1},8,["loading"]),a(p,{to:e.signInLink,class:"sign-in"},{default:r(()=>[D(b(e.t("sign_in")),1)]),_:1},8,["to"])])],32)}var xC=N(XC,[["render",YC],["__scopeId","data-v-388f645e"]]);const eS=z({props:{token:{type:String,required:!0}},setup(e){const{t}=te(),l=E(null),n=E(!1),s=E(null),u=E(!1),o=V(()=>s.value?Wt(s.value):null),i=V(()=>"/login"),d=V(()=>Ea(e.token).email);return{t,resetting:n,error:s,done:u,password:l,onSubmit:p,signInLink:i,errorFormatted:o,email:d};async function p(){n.value=!0,s.value=null;try{await pe.post("/auth/password/reset",{password:l.value,token:e.token}),u.value=!0}catch(f){s.value=f}finally{n.value=!1}}}});function tS(e,t,l,n,s,u){const o=c("v-input"),i=c("v-notice"),d=c("v-button");return m(),I("form",{onSubmit:t[1]||(t[1]=Ae((...p)=>e.onSubmit&&e.onSubmit(...p),["prevent"]))},[a(o,{"model-value":e.email,disabled:""},null,8,["model-value"]),a(o,{modelValue:e.password,"onUpdate:modelValue":t[0]||(t[0]=p=>e.password=p),placeholder:e.t("password"),autofocus:"",autocomplete:"username",type:"password",disabled:e.done},null,8,["modelValue","placeholder","disabled"]),e.done?(m(),S(i,{key:0,type:"success"},{default:r(()=>[D(b(e.t("password_reset_successful")),1)]),_:1})):R("",!0),e.error?(m(),S(i,{key:1,type:"danger"},{default:r(()=>[D(b(e.errorFormatted),1)]),_:1})):R("",!0),e.done?(m(),S(d,{key:3,large:"",to:e.signInLink},{default:r(()=>[D(b(e.t("sign_in")),1)]),_:1},8,["to"])):(m(),S(d,{key:2,type:"submit",loading:e.resetting,large:""},{default:r(()=>[D(b(e.t("reset")),1)]),_:1},8,["loading"]))],32)}var nS=N(eS,[["render",tS],["__scopeId","data-v-31ae4e7a"]]);const lS=z({components:{RequestForm:xC,ResetForm:nS},setup(){const{t:e}=te(),t=en(),l=V(()=>t.query.token);return{t:e,resetToken:l}}}),oS={class:"type-title"};function aS(e,t,l,n,s,u){const o=c("request-form"),i=c("reset-form"),d=c("v-icon"),p=c("public-view");return m(),S(p,null,{notice:r(()=>[a(d,{name:"lock_outlined",left:""}),D(" "+b(e.t("not_authenticated")),1)]),default:r(()=>[C("h1",oS,b(e.t("reset_password")),1),e.resetToken?(m(),S(i,{key:1,token:e.resetToken},null,8,["token"])):(m(),S(o,{key:0}))]),_:1})}var iS=N(lS,[["render",aS],["__scopeId","data-v-05544d73"]]);const sS=[{path:"/",redirect:"/login"},{name:"login",path:"/login",component:BC,props:e=>({ssoErrorCode:e.query.error?e.query.code:null,logoutReason:e.query.reason}),meta:{public:!0}},{name:"reset-password",path:"/reset-password",component:iS,meta:{public:!0}},{name:"accept-invite",path:"/accept-invite",component:dC,meta:{public:!0}},{name:"logout",path:"/logout",component:HC,meta:{public:!0}},{name:"private-404",path:"/:_(.+)+",component:QC}],Rt=Vs({history:Fs(Je()+"admin/"),routes:sS});let Da=!0;const rS=async e=>{var n;const t=wt(),l=On();if(Da){Da=!1;try{await gn({navigate:!1})}catch{}}if(l.info===null&&await l.hydrate(),((n=e.meta)==null?void 0:n.public)!==!0&&t.hydrated===!1)return t.hydrating=!1,t.authenticated===!0&&t.hydrating===!1?(await Vo(),e.fullPath):"/login"},dS=e=>{const t=Xe();e.meta.public!==!0&&setTimeout(()=>{t.trackPage(e.fullPath)},500)};Rt.beforeEach(rS);Rt.afterEach(dS);const uS=z({name:"InsightsNavigation",emits:["create"],setup(){const{t:e}=te(),t=Pn(),l=E(!1);return{navItems:V(()=>t.dashboards.map(s=>({icon:s.icon,name:s.name,to:`/insights/${s.id}`}))),createDialogActive:l,t:e}}});function cS(e,t,l,n,s,u){const o=c("v-button"),i=c("v-icon"),d=c("v-list-item-icon"),p=c("v-text-overflow"),f=c("v-list-item-content"),v=c("v-list-item"),y=c("v-list");return m(),S(y,{nav:""},{default:r(()=>[e.navItems.length===0?(m(),S(o,{key:0,"full-width":"",outlined:"",dashed:"",onClick:t[0]||(t[0]=_=>e.$emit("create"))},{default:r(()=>[D(b(e.t("create_dashboard")),1)]),_:1})):(m(!0),I(ae,{key:1},be(e.navItems,_=>(m(),S(v,{key:_.to,to:_.to},{default:r(()=>[a(d,null,{default:r(()=>[a(i,{name:_.icon},null,8,["name"])]),_:2},1024),a(f,null,{default:r(()=>[a(p,{text:_.name},null,8,["text"])]),_:2},1024)]),_:2},1032,["to"]))),128))]),_:1})}var mo=N(uS,[["render",cS]]);const pS=z({name:"DashboardDialog",props:{modelValue:{type:Boolean,default:!1},dashboard:{type:Object,default:null}},emits:["update:modelValue"],setup(e,{emit:t}){var d,p,f,v,y,_;const{t:l}=te(),n=Pn(),s=Yt({name:(p=(d=e.dashboard)==null?void 0:d.name)!=null?p:null,icon:(v=(f=e.dashboard)==null?void 0:f.icon)!=null?v:"dashboard",note:(_=(y=e.dashboard)==null?void 0:y.note)!=null?_:null});ye(()=>e.modelValue,(g,w)=>{var h,k,F,A,P,L;M.exports.isEqual(g,w)===!1&&(s.name=(k=(h=e.dashboard)==null?void 0:h.name)!=null?k:null,s.icon=(A=(F=e.dashboard)==null?void 0:F.icon)!=null?A:"dashboard",s.note=(L=(P=e.dashboard)==null?void 0:P.note)!=null?L:null)});const u=E(!1);return{values:s,cancel:o,saving:u,save:i,t:l};function o(){t("update:modelValue",!1)}async function i(){u.value=!0;try{if(e.dashboard)await pe.patch(`/dashboards/${e.dashboard.id}`,s,{params:{fields:["id"]}}),await n.hydrate();else{const g=await pe.post("/dashboards",s,{params:{fields:["id"]}});await n.hydrate(),Rt.push(`/insights/${g.data.data.id}`)}t("update:modelValue",!1)}catch(g){Se(g)}finally{u.value=!1}}}}),mS={class:"fields"};function fS(e,t,l,n,s,u){const o=c("v-card-title"),i=c("v-input"),d=c("interface-select-icon"),p=c("v-card-text"),f=c("v-button"),v=c("v-card-actions"),y=c("v-card"),_=c("v-dialog");return m(),S(_,{"model-value":e.modelValue,persistent:"","onUpdate:modelValue":t[3]||(t[3]=g=>e.$emit("update:modelValue",g)),onEsc:e.cancel},{activator:r(g=>[ge(e.$slots,"activator",He(Ze(g)),void 0,!0)]),default:r(()=>[a(y,null,{default:r(()=>[e.dashboard?(m(),S(o,{key:1},{default:r(()=>[D(b(e.t("edit_dashboard")),1)]),_:1})):(m(),S(o,{key:0},{default:r(()=>[D(b(e.t("create_dashboard")),1)]),_:1})),a(p,null,{default:r(()=>[C("div",mS,[a(i,{modelValue:e.values.name,"onUpdate:modelValue":t[0]||(t[0]=g=>e.values.name=g),autofocus:"",placeholder:e.t("dashboard_name")},null,8,["modelValue","placeholder"]),a(d,{value:e.values.icon,onInput:t[1]||(t[1]=g=>e.values.icon=g)},null,8,["value"]),a(i,{modelValue:e.values.note,"onUpdate:modelValue":t[2]||(t[2]=g=>e.values.note=g),class:"full",placeholder:e.t("note")},null,8,["modelValue","placeholder"])])]),_:1}),a(v,null,{default:r(()=>[a(f,{secondary:"",onClick:e.cancel},{default:r(()=>[D(b(e.t("cancel")),1)]),_:1},8,["onClick"]),a(f,{disabled:!e.values.name,loading:e.saving,onClick:e.save},{default:r(()=>[D(b(e.t("save")),1)]),_:1},8,["disabled","loading","onClick"])]),_:1})]),_:1})]),_:3},8,["model-value","onEsc"])}var vS=N(pS,[["render",fS],["__scopeId","data-v-35403a37"]]);function Fl(e){return As.sanitize(Is(e))}const _S=z({name:"InsightsOverview",components:{InsightsNavigation:mo,DashboardDialog:vS},setup(){const{t:e}=te(),t=Pn(),l=Tt(),n=E(null),s=E(!1),u=E(null),o=E(!1),i=V(()=>l.hasPermission("directus_dashboards","create")),d=[{text:"",value:"icon",width:42,sortable:!1},{text:e("name"),value:"name",width:240},{text:e("note"),value:"note",width:360}];return{dashboards:V(()=>t.dashboards),createAllowed:i,tableHeaders:d,navigateToDashboard:f,createDialogActive:o,confirmDelete:n,deletingDashboard:s,deleteDashboard:v,editDashboard:u,t:e,md:Fl};function f({item:y}){Rt.push(`/insights/${y.id}`)}async function v(){if(!!n.value){s.value=!0;try{await pe.delete(`/dashboards/${n.value}`),await t.hydrate(),n.value=null}catch(y){Se(y)}finally{s.value=!1}}}}}),yS={class:"page-description"};function gS(e,t,l,n,s,u){const o=c("v-icon"),i=c("v-button"),d=c("insights-navigation"),p=c("dashboard-dialog"),f=c("sidebar-detail"),v=c("v-list-item-icon"),y=c("v-list-item-content"),_=c("v-list-item"),g=c("v-list"),w=c("v-menu"),h=c("v-table"),k=c("v-info"),F=c("v-card-title"),A=c("v-card-actions"),P=c("v-card"),L=c("v-dialog"),O=c("private-view"),U=we("tooltip"),T=we("md");return m(),S(O,{title:e.t("insights")},{"title-outer:prepend":r(()=>[a(i,{class:"header-icon",rounded:"",disabled:"",icon:"",secondary:""},{default:r(()=>[a(o,{name:"insights"})]),_:1})]),navigation:r(()=>[a(d,{onCreate:t[0]||(t[0]=B=>e.createDialogActive=!0)})]),actions:r(()=>[a(p,{modelValue:e.createDialogActive,"onUpdate:modelValue":t[1]||(t[1]=B=>e.createDialogActive=B)},{activator:r(({on:B})=>[ne(a(i,{rounded:"",icon:"",disabled:e.createAllowed===!1,onClick:B},{default:r(()=>[a(o,{name:"add"})]),_:2},1032,["disabled","onClick"]),[[U,e.createAllowed?e.t("create_dashboard"):e.t("not_allowed"),void 0,{bottom:!0}]])]),_:1},8,["modelValue"])]),sidebar:r(()=>[a(f,{icon:"info_outline",title:e.t("information"),close:""},{default:r(()=>[ne(C("div",yS,null,512),[[T,e.t("page_help_insights_overview")]])]),_:1},8,["title"])]),default:r(()=>[e.dashboards.length>0?(m(),S(h,{key:0,headers:e.tableHeaders,"onUpdate:headers":t[2]||(t[2]=B=>e.tableHeaders=B),items:e.dashboards,"show-resize":"","fixed-header":"","onClick:row":e.navigateToDashboard},{["item.icon"]:r(({item:B})=>[a(o,{class:"icon",name:B.icon},null,8,["name"])]),"item-append":r(({item:B})=>[a(w,{placement:"left-start","show-arrow":""},{activator:r(({toggle:q})=>[a(o,{name:"more_vert",class:"ctx-toggle",onClick:q},null,8,["onClick"])]),default:r(()=>[a(g,null,{default:r(()=>[a(_,{class:"warning",clickable:"",onClick:q=>e.editDashboard=B},{default:r(()=>[a(v,null,{default:r(()=>[a(o,{name:"edit",outline:""})]),_:1}),a(y,null,{default:r(()=>[D(b(e.t("edit_dashboard")),1)]),_:1})]),_:2},1032,["onClick"]),a(_,{class:"danger",clickable:"",onClick:q=>e.confirmDelete=B.id},{default:r(()=>[a(v,null,{default:r(()=>[a(o,{name:"delete",outline:""})]),_:1}),a(y,null,{default:r(()=>[D(b(e.t("delete_dashboard")),1)]),_:1})]),_:2},1032,["onClick"])]),_:2},1024)]),_:2},1024)]),_:2},1032,["headers","items","onClick:row"])):(m(),S(k,{key:1,icon:"dashboard",title:e.t("no_dashboards"),center:""},{default:r(()=>[D(b(e.t("no_dashboards_copy")),1)]),_:1},8,["title"])),a(L,{"model-value":!!e.confirmDelete,onEsc:t[4]||(t[4]=B=>e.confirmDelete=null)},{default:r(()=>[a(P,null,{default:r(()=>[a(F,null,{default:r(()=>[D(b(e.t("dashboard_delete_confirm")),1)]),_:1}),a(A,null,{default:r(()=>[a(i,{secondary:"",onClick:t[3]||(t[3]=B=>e.confirmDelete=null)},{default:r(()=>[D(b(e.t("cancel")),1)]),_:1}),a(i,{danger:"",loading:e.deletingDashboard,onClick:e.deleteDashboard},{default:r(()=>[D(b(e.t("delete_label")),1)]),_:1},8,["loading","onClick"])]),_:1})]),_:1})]),_:1},8,["model-value"]),a(p,{"model-value":!!e.editDashboard,dashboard:e.editDashboard,"onUpdate:modelValue":t[5]||(t[5]=B=>e.editDashboard=null)},null,8,["model-value","dashboard"])]),_:1},8,["title"])}var hS=N(_S,[["render",gS],["__scopeId","data-v-1571418d"]]);const bS=z({components:{InsightsNavigation:mo},setup(){const{t:e}=te();return{t:e}}}),$S={key:0,class:"not-found"};function wS(e,t,l,n,s,u){const o=c("insights-navigation"),i=c("v-info"),d=c("private-view");return m(),S(d,{title:e.t("insights")},{navigation:r(()=>[a(o)]),default:r(()=>[e.currentDashboard?R("",!0):(m(),I("div",$S,[a(i,{title:e.t("page_not_found"),icon:"not_interested"},{default:r(()=>[D(b(e.t("page_not_found_body")),1)]),_:1},8,["title"])]))]),_:1},8,["title"])}var kS=N(bS,[["render",wS],["__scopeId","data-v-d6310128"]]);function Al(e,t,l){const[n,s]=e,[u,o]=t,[i,d]=l,p=n-u,f=s-o,v=i-u,y=d-o;return p*y-f*v!==0?!1:Math.abs(v)>=Math.abs(y)?v>0?u<=n&&n<=i:i<=n&&n<=u:y>0?o<=s&&s<=d:d<=s&&s<=o}const CS=z({name:"Panel",props:{panel:{type:Object,required:!0},editMode:{type:Boolean,default:!1},now:{type:Date,required:!0}},emits:["update","move","duplicate","delete"],setup(e,{emit:t}){const{t:l}=te(),{panels:n}=yl(),s=V(()=>n.value.find(g=>g.id===e.panel.type)),u=Yt({position_x:void 0,position_y:void 0,width:void 0,height:void 0}),{onPointerDown:o,onPointerUp:i,onPointerMove:d,dragging:p}=_(),f=V(()=>{var g,w,h,k;return p.value?{x:(g=u.position_x)!=null?g:e.panel.position_x,y:(w=u.position_y)!=null?w:e.panel.position_y,width:(h=u.width)!=null?h:e.panel.width,height:(k=u.height)!=null?k:e.panel.height}:{x:e.panel.position_x,y:e.panel.position_y,width:e.panel.width,height:e.panel.height}}),v=V(()=>{var g,w,h,k;return p.value?{"--pos-x":(g=u.position_x)!=null?g:e.panel.position_x,"--pos-y":(w=u.position_y)!=null?w:e.panel.position_y,"--width":(h=u.width)!=null?h:e.panel.width,"--height":(k=u.height)!=null?k:e.panel.height}:{"--pos-x":e.panel.position_x,"--pos-y":e.panel.position_y,"--width":e.panel.width,"--height":e.panel.height}}),y=V(()=>({"--v-icon-color":e.panel.color}));return{positioning:f,positionStyling:v,iconColor:y,onPointerDown:o,onPointerUp:i,onPointerMove:d,dragging:p,editedPosition:u,t:l,omit:M.exports.omit};function _(){const g=E(!1);let w=0,h=0,k=0,F=0,A=0,P=0,L="move";const O=M.exports.throttle(B=>{var J,re;if(e.editMode===!1||g.value===!1)return;const q=B.pageX-w,K=B.pageY-h,H=Math.round(q/20),Y=Math.round(K/20);if(L==="move")u.position_x=k+H,u.position_y=F+Y,u.position_x<1&&(u.position_x=1),u.position_y<1&&(u.position_y=1);else{L.includes("top")&&(u.height=P-Y,u.position_y=F+Y),L.includes("right")&&(u.width=A+H),L.includes("bottom")&&(u.height=P+Y),L.includes("left")&&(u.width=A-H,u.position_x=k+H);const fe=((J=s.value)==null?void 0:J.minWidth)||6,X=((re=s.value)==null?void 0:re.minHeight)||6;u.position_x&&u.position_x<1&&(u.position_x=1),u.position_y&&u.position_y<1&&(u.position_y=1),u.width&&u.width<fe&&(u.width=fe),u.height&&u.height<X&&(u.height=X)}},20);return{dragging:g,onPointerDown:U,onPointerUp:T,onPointerMove:O};function U(B,q){e.editMode!==!1&&(L=B,g.value=!0,w=q.pageX,h=q.pageY,k=e.panel.position_x,F=e.panel.position_y,A=e.panel.width,P=e.panel.height,window.addEventListener("pointerup",T),window.addEventListener("pointermove",O))}function T(){g.value=!1,e.editMode!==!1&&(t("update",u),window.removeEventListener("pointerup",T),window.removeEventListener("pointermove",O),u.position_x=void 0,u.position_y=void 0,u.width=void 0,u.height=void 0)}}}}),SS=e=>(We("data-v-0205318a"),e=e(),Ge(),e),VS={key:0,class:"header"},FS=SS(()=>C("div",{class:"spacer"},null,-1)),AS={class:"resize-details"},IS={key:2,class:"resize-handlers"};function ES(e,t,l,n,s,u){const o=c("v-icon"),i=c("v-text-overflow"),d=c("v-list-item-icon"),p=c("v-list-item-content"),f=c("v-list-item"),v=c("v-list"),y=c("v-menu"),_=we("tooltip");return m(),I("div",{class:ue(["panel",{editing:e.editMode,dragging:e.dragging,"br-tl":e.dragging||e.panel.borderRadius[0],"br-tr":e.dragging||e.panel.borderRadius[1],"br-br":e.dragging||e.panel.borderRadius[2],"br-bl":e.dragging||e.panel.borderRadius[3]}]),style:ze(e.positionStyling),"data-move":"",onPointerdown:t[13]||(t[13]=g=>e.onPointerDown("move",g))},[e.panel.show_header?(m(),I("div",VS,[a(o,{class:"icon",style:ze(e.iconColor),name:e.panel.icon},null,8,["style","name"]),a(i,{class:"name selectable",text:e.panel.name||""},null,8,["text"]),FS,e.panel.note?ne((m(),S(o,{key:0,class:"note",name:"info"},null,512)),[[_,e.panel.note]]):R("",!0)])):R("",!0),e.editMode?(m(),I("div",{key:1,class:"edit-actions",onPointerdown:t[4]||(t[4]=Ae(()=>{},["stop"]))},[ne(a(o,{class:"edit-icon",name:"edit",clickable:"",onClick:t[0]||(t[0]=Ae(g=>e.$router.push(`/insights/${e.panel.dashboard}/${e.panel.id}`),["stop"]))},null,512),[[_,e.t("edit")]]),a(y,{placement:"bottom-end","show-arrow":""},{activator:r(({toggle:g})=>[a(o,{class:"more-icon",name:"more_vert",clickable:"",onClick:g},null,8,["onClick"])]),default:r(()=>[a(v,null,{default:r(()=>[a(f,{clickable:"",disabled:e.panel.id.startsWith("_"),onClick:t[1]||(t[1]=g=>e.$emit("move"))},{default:r(()=>[a(d,null,{default:r(()=>[a(o,{class:"move-icon",name:"input"})]),_:1}),a(p,null,{default:r(()=>[D(b(e.t("copy_to")),1)]),_:1})]),_:1},8,["disabled"]),a(f,{clickable:"",onClick:t[2]||(t[2]=g=>e.$emit("duplicate"))},{default:r(()=>[a(d,null,{default:r(()=>[a(o,{name:"control_point_duplicate"})]),_:1}),a(p,null,{default:r(()=>[D(b(e.t("duplicate")),1)]),_:1})]),_:1}),a(f,{class:"delete-action",clickable:"",onClick:t[3]||(t[3]=g=>e.$emit("delete"))},{default:r(()=>[a(d,null,{default:r(()=>[a(o,{name:"delete"})]),_:1}),a(p,null,{default:r(()=>[D(b(e.t("delete_panel")),1)]),_:1})]),_:1})]),_:1})]),_:1})],32)):R("",!0),C("div",AS," ("+b(e.positioning.x-1)+":"+b(e.positioning.y-1)+") "+b(e.positioning.width)+"\xD7"+b(e.positioning.height),1),e.editMode?(m(),I("div",IS,[C("div",{class:"top",onPointerdown:t[5]||(t[5]=Ae(g=>e.onPointerDown("resize-top",g),["stop"]))},null,32),C("div",{class:"right",onPointerdown:t[6]||(t[6]=Ae(g=>e.onPointerDown("resize-right",g),["stop"]))},null,32),C("div",{class:"bottom",onPointerdown:t[7]||(t[7]=Ae(g=>e.onPointerDown("resize-bottom",g),["stop"]))},null,32),C("div",{class:"left",onPointerdown:t[8]||(t[8]=Ae(g=>e.onPointerDown("resize-left",g),["stop"]))},null,32),C("div",{class:"top-left",onPointerdown:t[9]||(t[9]=Ae(g=>e.onPointerDown("resize-top-left",g),["stop"]))},null,32),C("div",{class:"top-right",onPointerdown:t[10]||(t[10]=Ae(g=>e.onPointerDown("resize-top-right",g),["stop"]))},null,32),C("div",{class:"bottom-right",onPointerdown:t[11]||(t[11]=Ae(g=>e.onPointerDown("resize-bottom-right",g),["stop"]))},null,32),C("div",{class:"bottom-left",onPointerdown:t[12]||(t[12]=Ae(g=>e.onPointerDown("resize-bottom-left",g),["stop"]))},null,32)])):R("",!0),C("div",{class:ue(["panel-content",{"has-header":e.panel.show_header}])},[(m(),S(Be(`panel-${e.panel.type}`),ut(e.panel.options,{id:e.panel.id,"show-header":e.panel.show_header,height:e.panel.height,width:e.panel.width,dashboard:e.panel.dashboard,now:e.now}),null,16,["id","show-header","height","width","dashboard","now"]))],2)],38)}var DS=N(CS,[["render",ES],["__scopeId","data-v-0205318a"]]);function Ta(e){return e==null||e===void 0}function Nt(e){return e!=null}function xn(e){const t=E(0),l=E(0),n=new ResizeObserver(([s])=>{t.value=s.contentRect.width,l.value=s.contentRect.height});return st(()=>{const s=ql(e)?e.value:e;Nt(s)&&n.observe(s)}),Vt(()=>{n.disconnect()}),{width:t,height:l}}const TS=z({name:"InsightsWorkspace",components:{InsightsPanel:DS},props:{panels:{type:Array,required:!0},editMode:{type:Boolean,default:!1},zoomToFit:{type:Boolean,default:!1},now:{type:Date,required:!0}},emits:["update","move","delete","duplicate"],setup(e){const t=ht("main-element",E()),l=xn(t),n=V(()=>{var d;return Number(((d=i("--content-padding"))==null?void 0:d.slice(0,-2))||0)}),s=V(()=>{const d=e.panels.reduce((f,v)=>(v.position_x>f.position_x&&(f.position_x=v.position_x,f.width=v.width),f),{position_x:0,width:0}),p=e.panels.reduce((f,v)=>(v.position_y>f.position_y&&(f.position_y=v.position_y,f.height=v.height),f),{position_y:0,height:0});return e.editMode===!0?{width:(d.position_x+d.width+25)*20,height:(p.position_y+p.height+25)*20}:{width:(d.position_x+d.width-1)*20,height:(p.position_y+p.height-1)*20}}),u=V(()=>{if(e.zoomToFit===!1)return 1;const{width:d,height:p}=l,f=(d.value-n.value*2)/s.value.width,v=(p.value-114-n.value*2)/s.value.height;return Math.min(f,v)}),o=V(()=>({width:s.value.width*u.value+n.value*2,height:s.value.height*u.value+n.value*2}));return{workspaceSize:s,workspaceBoxSize:o,mainElement:t,zoomScale:u};function i(d){if(!!t.value)return getComputedStyle(t.value).getPropertyValue(d).trim()}}});function PS(e,t,l,n,s,u){const o=c("insights-panel");return m(),I("div",{class:ue(["workspace-padding-box",{editing:e.editMode}]),style:ze({width:e.workspaceBoxSize.width+"px",height:e.workspaceBoxSize.height+"px"})},[C("div",{class:"workspace",style:ze({transform:`scale(${e.zoomScale})`,width:e.workspaceSize.width+"px",height:e.workspaceSize.height+"px"})},[(m(!0),I(ae,null,be(e.panels,i=>(m(),S(o,{key:i.id,panel:i,"edit-mode":e.editMode,now:e.now,onUpdate:d=>e.$emit("update",{edits:d,id:i.id}),onMove:d=>e.$emit("move",i.id),onDelete:d=>e.$emit("delete",i.id),onDuplicate:d=>e.$emit("duplicate",i)},null,8,["panel","edit-mode","now","onUpdate","onMove","onDelete","onDuplicate"]))),128))],4)],6)}var LS=N(TS,[["render",PS],["__scopeId","data-v-ffa0afd4"]]);const OS=z({name:"InsightsDashboard",components:{InsightsNotFound:kS,InsightsNavigation:mo,InsightsWorkspace:LS},props:{primaryKey:{type:String,required:!0},panelKey:{type:String,default:null}},setup(e){var fe;const{t}=te(),l=Pn(),n=wt(),{fullScreen:s}=Ue(n),u=E(!1),o=E(!1),i=E(!1),d=E((fe=l.dashboards.find(X=>X.id!==e.primaryKey))==null?void 0:fe.id),p=E(),f=E(!1);et("meta+s",()=>{U()}),ye(u,X=>{X?(f.value=!1,window.onbeforeunload=()=>""):window.onbeforeunload=null});const v=V(()=>l.dashboards.find(X=>X.id===e.primaryKey)),y=V(()=>l.dashboards.filter(X=>X.id!==e.primaryKey)),_=E([]),g=E([]),w=new Date,h=V(()=>{var W;const ee=[...(((W=v.value)==null?void 0:W.panels)||[]).filter(G=>g.value.includes(G.id)===!1).map(G=>{const le=_.value.find(Z=>Z.id===G.id);return le?M.exports.merge({},G,le):G}),..._.value.filter(G=>{var le;return(le=G.id)==null?void 0:le.startsWith("_")})].map(G=>ke(oe({},G),{_coordinates:[[G.position_x,G.position_y],[G.position_x+G.width,G.position_y],[G.position_x+G.width,G.position_y+G.height],[G.position_x,G.position_y+G.height]]}));return ee.map(G=>{let le=!1,Z=!1,ce=!1,ve=!1;for(const Q of ee){if(Q.id===G.id)continue;const ie=[[Q._coordinates[0],Q._coordinates[1]],[Q._coordinates[1],Q._coordinates[2]],[Q._coordinates[2],Q._coordinates[3]],[Q._coordinates[3],Q._coordinates[0]]];le===!1&&(le=ie.some(([de,me])=>Al(G._coordinates[0],de,me))),Z===!1&&(Z=ie.some(([de,me])=>Al(G._coordinates[1],de,me))),ce===!1&&(ce=ie.some(([de,me])=>Al(G._coordinates[2],de,me))),ve===!1&&(ve=ie.some(([de,me])=>Al(G._coordinates[3],de,me)))}return ke(oe({},G),{borderRadius:[!le,!Z,!ce,!ve]})})}),k=E(!1),F=E(!1),A=E(null),P=X=>{const x=g.value.length>0||_.value.length>0;if(u.value&&X.params.primaryKey!==e.primaryKey){if(x)return F.value=!0,A.value=X.fullPath,!1;u.value=!1}};return Ot(P),Pt(P),{currentDashboard:v,editMode:u,panels:h,stagePanelEdits:L,stagedPanels:_,saving:o,saveChanges:U,stageConfiguration:O,movePanelID:p,movePanel:re,deletePanel:T,attemptCancelChanges:B,duplicatePanel:H,movePanelLoading:i,t,toggleFullScreen:Y,zoomToFit:f,fullScreen:s,toggleZoomToFit:J,md:Fl,movePanelChoices:y,movePanelTo:d,confirmLeave:F,discardAndLeave:K,now:w,confirmCancel:k,cancelChanges:q};function L(X){var ee;const x=(ee=X.id)!=null?ee:e.panelKey;x==="+"?_.value=[..._.value,oe({id:`_${bt()}`,dashboard:e.primaryKey},X.edits)]:_.value.some(se=>se.id===x)?_.value=_.value.map(se=>se.id===x?M.exports.merge({id:x,dashboard:e.primaryKey},se,X.edits):se):_.value=[..._.value,oe({id:x,dashboard:e.primaryKey},X.edits)]}function O(X){L({edits:X}),Rt.push(`/insights/${e.primaryKey}`)}async function U(){if(!v.value)return;if(_.value.length===0&&g.value.length===0){u.value=!1;return}o.value=!0;const x=[...v.value.panels.map(ee=>ee.id).map(ee=>_.value.find(se=>se.id===ee)||ee),..._.value.filter(ee=>{var se;return(se=ee.id)==null?void 0:se.startsWith("_")}).map(ee=>M.exports.omit(ee,"id"))];try{_.value.length>0&&await pe.patch(`/dashboards/${e.primaryKey}`,{panels:x}),g.value.length>0&&await pe.delete("/panels",{data:g.value}),await l.hydrate(),_.value=[],u.value=!1}catch(ee){Se(ee)}finally{o.value=!1}}async function T(X){!v.value||(_.value=_.value.filter(x=>x.id!==X),X.startsWith("_")===!1&&g.value.push(X))}function B(){_.value.length>0||g.value.length>0?k.value=!0:q()}function q(){k.value=!1,_.value=[],g.value=[],u.value=!1}function K(){!A.value||(q(),F.value=!1,Rt.push(A.value))}function H(X){const x=M.exports.omit(M.exports.merge({},X),"id");x.position_x=x.position_x+2,x.position_y=x.position_y+2,L({edits:x,id:"+"})}function Y(){s.value=!s.value}function J(){f.value=!f.value}async function re(){i.value=!0;const X=h.value.find(x=>x.id===p.value);try{await pe.post("/panels",ke(oe({},M.exports.omit(X,["id"])),{dashboard:d.value})),await l.hydrate(),p.value=null}catch(x){Se(x)}finally{i.value=!1}}}}),jS={class:"page-description"};function RS(e,t,l,n,s,u){const o=c("insights-not-found"),i=c("v-icon"),d=c("v-button"),p=c("v-breadcrumb"),f=c("sidebar-detail"),v=c("insights-navigation"),y=c("insights-workspace"),_=c("router-view"),g=c("v-card-title"),w=c("v-notice"),h=c("v-select"),k=c("v-card-text"),F=c("v-card-actions"),A=c("v-card"),P=c("v-dialog"),L=c("private-view"),O=we("tooltip"),U=we("md");return e.currentDashboard?(m(),S(L,{key:1,title:e.currentDashboard.name},{"title-outer:prepend":r(()=>[a(d,{class:"header-icon",rounded:"",disabled:"",icon:"",secondary:""},{default:r(()=>[a(i,{name:e.currentDashboard.icon},null,8,["name"])]),_:1})]),headline:r(()=>[a(p,{items:[{name:e.t("insights"),to:"/insights"}]},null,8,["items"])]),actions:r(()=>[e.editMode?(m(),I(ae,{key:0},[ne(a(d,{class:"clear-changes",rounded:"",icon:"",outlined:"",onClick:e.attemptCancelChanges},{default:r(()=>[a(i,{name:"clear"})]),_:1},8,["onClick"]),[[O,e.t("clear_changes"),void 0,{bottom:!0}]]),ne(a(d,{rounded:"",icon:"",outlined:"",to:`/insights/${e.currentDashboard.id}/+`},{default:r(()=>[a(i,{name:"add"})]),_:1},8,["to"]),[[O,e.t("create_panel"),void 0,{bottom:!0}]]),ne(a(d,{rounded:"",icon:"",loading:e.saving,onClick:e.saveChanges},{default:r(()=>[a(i,{name:"check"})]),_:1},8,["loading","onClick"]),[[O,e.t("save"),void 0,{bottom:!0}]])],64)):(m(),I(ae,{key:1},[ne(a(d,{active:e.zoomToFit,class:"zoom-to-fit",rounded:"",icon:"",outlined:"",onClick:e.toggleZoomToFit},{default:r(()=>[a(i,{name:"aspect_ratio"})]),_:1},8,["active","onClick"]),[[O,e.t("fit_to_screen"),void 0,{bottom:!0}]]),ne(a(d,{active:e.fullScreen,class:"fullscreen",rounded:"",icon:"",outlined:"",onClick:e.toggleFullScreen},{default:r(()=>[a(i,{name:"fullscreen"})]),_:1},8,["active","onClick"]),[[O,e.t("full_screen"),void 0,{bottom:!0}]]),ne(a(d,{rounded:"",icon:"",outlined:"",onClick:t[0]||(t[0]=T=>e.editMode=!e.editMode)},{default:r(()=>[a(i,{name:"edit"})]),_:1},512),[[O,e.t("edit_panels"),void 0,{bottom:!0}]])],64))]),sidebar:r(()=>[a(f,{icon:"info_outline",title:e.t("information"),close:""},{default:r(()=>[ne(C("div",jS,null,512),[[U,e.t("page_help_insights_dashboard")]])]),_:1},8,["title"])]),navigation:r(()=>[a(v)]),default:r(()=>[a(y,{"edit-mode":e.editMode,panels:e.panels,"zoom-to-fit":e.zoomToFit,now:e.now,onUpdate:e.stagePanelEdits,onMove:t[1]||(t[1]=T=>e.movePanelID=T),onDelete:e.deletePanel,onDuplicate:e.duplicatePanel},null,8,["edit-mode","panels","zoom-to-fit","now","onUpdate","onDelete","onDuplicate"]),a(_,{name:"detail","dashboard-key":e.primaryKey,panel:e.panelKey?e.panels.find(T=>T.id===e.panelKey):null,onSave:e.stageConfiguration,onCancel:t[2]||(t[2]=T=>e.$router.push(`/insights/${e.primaryKey}`))},null,8,["dashboard-key","panel","onSave"]),a(P,{"model-value":!!e.movePanelID,"onUpdate:modelValue":t[5]||(t[5]=T=>e.movePanelID=null),onEsc:t[6]||(t[6]=T=>e.movePanelID=null)},{default:r(()=>[a(A,null,{default:r(()=>[a(g,null,{default:r(()=>[D(b(e.t("copy_to")),1)]),_:1}),a(k,null,{default:r(()=>[e.movePanelChoices.length===0?(m(),S(w,{key:0},{default:r(()=>[D(b(e.t("no_other_dashboards_copy")),1)]),_:1})):(m(),S(h,{key:1,modelValue:e.movePanelTo,"onUpdate:modelValue":t[3]||(t[3]=T=>e.movePanelTo=T),items:e.movePanelChoices,"item-text":"name","item-value":"id"},null,8,["modelValue","items"]))]),_:1}),a(F,null,{default:r(()=>[a(d,{secondary:"",onClick:t[4]||(t[4]=T=>e.movePanelID=null)},{default:r(()=>[D(b(e.t("cancel")),1)]),_:1}),a(d,{loading:e.movePanelLoading,onClick:e.movePanel},{default:r(()=>[D(b(e.t("copy")),1)]),_:1},8,["loading","onClick"])]),_:1})]),_:1})]),_:1},8,["model-value"]),a(P,{modelValue:e.confirmLeave,"onUpdate:modelValue":t[8]||(t[8]=T=>e.confirmLeave=T),onEsc:t[9]||(t[9]=T=>e.confirmLeave=!1)},{default:r(()=>[a(A,null,{default:r(()=>[a(g,null,{default:r(()=>[D(b(e.t("unsaved_changes")),1)]),_:1}),a(k,null,{default:r(()=>[D(b(e.t("unsaved_changes_copy")),1)]),_:1}),a(F,null,{default:r(()=>[a(d,{secondary:"",onClick:e.discardAndLeave},{default:r(()=>[D(b(e.t("discard_changes")),1)]),_:1},8,["onClick"]),a(d,{onClick:t[7]||(t[7]=T=>e.confirmLeave=!1)},{default:r(()=>[D(b(e.t("keep_editing")),1)]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"]),a(P,{modelValue:e.confirmCancel,"onUpdate:modelValue":t[11]||(t[11]=T=>e.confirmCancel=T),onEsc:t[12]||(t[12]=T=>e.confirmCancel=!1)},{default:r(()=>[a(A,null,{default:r(()=>[a(g,null,{default:r(()=>[D(b(e.t("unsaved_changes")),1)]),_:1}),a(k,null,{default:r(()=>[D(b(e.t("discard_changes_copy")),1)]),_:1}),a(F,null,{default:r(()=>[a(d,{secondary:"",onClick:e.cancelChanges},{default:r(()=>[D(b(e.t("discard_changes")),1)]),_:1},8,["onClick"]),a(d,{onClick:t[10]||(t[10]=T=>e.confirmCancel=!1)},{default:r(()=>[D(b(e.t("keep_editing")),1)]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1},8,["title"])):(m(),S(o,{key:0}))}var MS=N(OS,[["render",RS],["__scopeId","data-v-9862e046"]]);const US=z({name:"PanelConfiguration",props:{panel:{type:Object,default:null}},emits:["cancel","save"],setup(e,{emit:t}){var p,f,v,y,_,g,w,h,k,F,A,P,L,O,U,T,B,q,K;const{t:l}=te(),{panels:n}=yl(),s=mn(),u=Yt({show_header:(f=(p=e.panel)==null?void 0:p.show_header)!=null?f:!0,type:((v=e.panel)==null?void 0:v.type)||void 0,name:(y=e.panel)==null?void 0:y.name,note:(_=e.panel)==null?void 0:_.note,icon:(w=(g=e.panel)==null?void 0:g.icon)!=null?w:"insert_chart",color:(k=(h=e.panel)==null?void 0:h.color)!=null?k:"#00C897",width:(A=(F=e.panel)==null?void 0:F.width)!=null?A:void 0,height:(L=(P=e.panel)==null?void 0:P.height)!=null?L:void 0,position_x:(U=(O=e.panel)==null?void 0:O.position_x)!=null?U:1,position_y:(B=(T=e.panel)==null?void 0:T.position_y)!=null?B:1,options:(K=(q=e.panel)==null?void 0:q.options)!=null?K:{}}),o=V(()=>n.value.map(H=>({text:H.name,icon:H.icon,description:H.description,value:H.id}))),i=V(()=>n.value.find(H=>H.id===u.type));return ye(i,H=>{H?(u.width=H.minWidth,u.height=H.minHeight):(u.width=void 0,u.height=void 0)}),{selectItems:o,selectedPanel:i,close,emitSave:d,edits:u,t:l,isOpen:s};function d(){t("save",u)}}}),NS={class:"content"},BS={class:"type-label panel-type-label"},qS={class:"form-grid"},zS={class:"field half-left"},KS={class:"type-label"},HS={class:"field half-right"},WS={class:"type-label"},GS={class:"field half-left"},JS={class:"type-label"},QS={class:"field half-right"},XS={class:"type-label"},ZS={class:"field full"},YS={class:"type-label"};function xS(e,t,l,n,s,u){var F,A;const o=c("v-icon"),i=c("v-button"),d=c("v-fancy-select"),p=c("v-notice"),f=c("v-form"),v=c("v-divider"),y=c("v-checkbox"),_=c("v-input"),g=c("interface-select-icon"),w=c("interface-select-color"),h=c("v-drawer"),k=we("tooltip");return m(),S(h,{"model-value":e.isOpen,title:((F=e.panel)==null?void 0:F.name)||e.t("panel"),subtitle:e.t("panel_options"),icon:((A=e.panel)==null?void 0:A.icon)||"insert_chart",persistent:"",onCancel:t[8]||(t[8]=P=>e.$emit("cancel"))},{actions:r(()=>[ne(a(i,{disabled:!e.edits.type,icon:"",rounded:"",onClick:e.emitSave},{default:r(()=>[a(o,{name:"check"})]),_:1},8,["disabled","onClick"]),[[k,e.t("done"),void 0,{bottom:!0}]])]),default:r(()=>[C("div",NS,[C("p",BS,b(e.t("type")),1),a(d,{modelValue:e.edits.type,"onUpdate:modelValue":t[0]||(t[0]=P=>e.edits.type=P),class:"select",items:e.selectItems},null,8,["modelValue","items"]),e.edits.type&&e.selectedPanel?(m(),I(ae,{key:0},[!e.selectedPanel.options||e.selectedPanel.options.length===0?(m(),S(p,{key:0},{default:r(()=>[D(b(e.t("no_options_available")),1)]),_:1})):Array.isArray(e.selectedPanel.options)?(m(),S(f,{key:1,modelValue:e.edits.options,"onUpdate:modelValue":t[1]||(t[1]=P=>e.edits.options=P),fields:e.selectedPanel.options,"primary-key":"+","initial-values":e.panel&&e.panel.options},null,8,["modelValue","fields","initial-values"])):(m(),S(Be(`panel-options-${e.selectedPanel.id}`),{key:2,modelValue:e.edits.options,"onUpdate:modelValue":t[2]||(t[2]=P=>e.edits.options=P),collection:e.collection},null,8,["modelValue","collection"]))],64)):R("",!0),a(v,{"inline-title":!1,large:""},{icon:r(()=>[a(o,{name:"info"})]),default:r(()=>[D(b(e.t("panel_header")),1)]),_:1}),C("div",qS,[C("div",zS,[C("p",KS,b(e.t("visible")),1),a(y,{modelValue:e.edits.show_header,"onUpdate:modelValue":t[3]||(t[3]=P=>e.edits.show_header=P),block:"",label:e.t("show_header")},null,8,["modelValue","label"])]),C("div",HS,[C("p",WS,b(e.t("name")),1),a(_,{modelValue:e.edits.name,"onUpdate:modelValue":t[4]||(t[4]=P=>e.edits.name=P),nullable:!1,disabled:e.edits.show_header!==!0,placeholder:e.t("panel_name_placeholder")},null,8,["modelValue","disabled","placeholder"])]),C("div",GS,[C("p",JS,b(e.t("icon")),1),a(g,{value:e.edits.icon,disabled:e.edits.show_header!==!0,onInput:t[5]||(t[5]=P=>e.edits.icon=P)},null,8,["value","disabled"])]),C("div",QS,[C("p",XS,b(e.t("color")),1),a(w,{value:e.edits.color,disabled:e.edits.show_header!==!0,width:"half",onInput:t[6]||(t[6]=P=>e.edits.color=P)},null,8,["value","disabled"])]),C("div",ZS,[C("p",YS,b(e.t("note")),1),a(_,{modelValue:e.edits.note,"onUpdate:modelValue":t[7]||(t[7]=P=>e.edits.note=P),disabled:e.edits.show_header!==!0,placeholder:e.t("panel_note_placeholder")},null,8,["modelValue","disabled","placeholder"])])])])]),_:1},8,["model-value","title","subtitle","icon"])}var eV=N(US,[["render",xS],["__scopeId","data-v-42a9e66e"]]),tV=un({id:"insights",name:"$t:insights",icon:"insights",routes:[{name:"insights-overview",path:"",component:hS},{name:"insights-dashboard",path:":primaryKey",component:MS,props:!0,children:[{name:"panel-detail",path:":panelKey",props:!0,components:{detail:eV}}]}],preRegisterCheck(e,t){return e.role.admin_access?!0:!!t.find(s=>s.collection==="directus_dashboards"&&s.action==="read")}}),nV=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:tV});function Pa(){const e=E(),t=E(!1),l=E(),n=V(()=>e.value?{directus:{version:e.value.directus.version},node:{version:e.value.node.version,uptime:ea(e.value.node.uptime*1e3)},os:{type:e.value.os.type,version:e.value.os.version,uptime:ea(e.value.os.uptime*1e3),totalmem:Es(e.value.os.totalmem)}}:null);return e.value||s(),{info:e,parsedInfo:n,loading:t,error:l};async function s(){t.value=!0,l.value=null;try{const u=await pe.get("/server/info");e.value=u.data.data}catch(u){l.value=u}finally{t.value=!1}}}const lV=z({setup(){const{t:e}=te(),{parsedInfo:t}=Pa(),l=[{icon:"public",name:e("settings_project"),to:"/settings/project"},{icon:"list_alt",name:e("settings_data_model"),to:"/settings/data-model"},{icon:"admin_panel_settings",name:e("settings_permissions"),to:"/settings/roles",outline:!0},{icon:"bookmark_border",name:e("settings_presets"),to:"/settings/presets"},{icon:"anchor",name:e("settings_webhooks"),to:"/settings/webhooks"}],n=V(()=>{var u,o,i,d,p,f,v,y;const s=new URLSearchParams({template:"bug_report.yml","directus-version":(o=(u=t.value)==null?void 0:u.directus.version)!=null?o:"","node-version":(d=(i=t.value)==null?void 0:i.node.version)!=null?d:"","operating-system":`${(f=(p=t.value)==null?void 0:p.os.type)!=null?f:""} ${(y=(v=t.value)==null?void 0:v.os.version)!=null?y:""}`});return[{icon:"bug_report",name:e("report_bug"),href:`https://github.com/directus/directus/issues/new?${s.toString()}`,outline:!0},{icon:"new_releases",name:e("request_feature"),href:"https://github.com/directus/directus/discussions/new",outline:!0}]});return{version:sa,navItems:l,externalItems:n}}});function oV(e,t,l,n,s,u){const o=c("v-icon"),i=c("v-list-item-icon"),d=c("v-text-overflow"),p=c("v-list-item-content"),f=c("v-list-item"),v=c("v-divider"),y=c("v-list");return m(),S(y,{nav:""},{default:r(()=>[(m(!0),I(ae,null,be(e.navItems,_=>(m(),S(f,{key:_.to,to:_.to},{default:r(()=>[a(i,null,{default:r(()=>[a(o,{name:_.icon},null,8,["name"])]),_:2},1024),a(p,null,{default:r(()=>[a(d,{text:_.name},null,8,["text"])]),_:2},1024)]),_:2},1032,["to"]))),128)),a(v),(m(!0),I(ae,null,be(e.externalItems,_=>(m(),S(f,{key:_.href,href:_.href},{default:r(()=>[a(i,null,{default:r(()=>[a(o,{name:_.icon},null,8,["name"])]),_:2},1024),a(p,null,{default:r(()=>[a(d,{text:_.name},null,8,["text"])]),_:2},1024)]),_:2},1032,["href"]))),128)),a(f,{href:"https://github.com/directus/directus/releases",class:"version"},{default:r(()=>[a(i,null,{default:r(()=>[a(o,{name:"directus"})]),_:1}),a(p,null,{default:r(()=>[a(d,{class:"version",text:`Directus ${e.version}`},null,8,["text"])]),_:1})]),_:1})]),_:1})}var Mt=N(lV,[["render",oV],["__scopeId","data-v-0513df29"]]);const aV=z({props:{collection:{type:Object,required:!0}},setup(e){const{t}=te(),l=Ke(),{deleting:n,deleteActive:s,deleteCollection:u}=i();return{t,deleting:n,deleteActive:s,deleteCollection:u,update:o};async function o(d){await l.updateCollection(e.collection.collection,d)}function i(){const d=E(!1),p=E(!1);return{deleting:d,deleteActive:p,deleteCollection:f};async function f(){d.value=!0;try{await l.deleteCollection(e.collection.collection),p.value=!1}finally{d.value=!1}}}}}),iV={key:0};function sV(e,t,l,n,s,u){const o=c("v-icon"),i=c("v-list-item-icon"),d=c("v-list-item-content"),p=c("v-list-item"),f=c("v-list"),v=c("v-menu"),y=c("v-card-title"),_=c("v-button"),g=c("v-card-actions"),w=c("v-card"),h=c("v-dialog");return e.collection.collection.startsWith("directus_")===!1?(m(),I("div",iV,[a(v,{placement:"left-start","show-arrow":""},{activator:r(({toggle:k})=>[a(o,{name:"more_vert",clickable:"",class:"ctx-toggle",onClick:k},null,8,["onClick"])]),default:r(()=>[a(f,null,{default:r(()=>[a(p,{clickable:"",class:"danger",onClick:t[0]||(t[0]=k=>e.deleteActive=!0)},{default:r(()=>[a(i,null,{default:r(()=>[a(o,{name:"delete",outline:""})]),_:1}),a(d,null,{default:r(()=>[D(b(e.t("delete_collection")),1)]),_:1})]),_:1}),a(p,{clickable:"",onClick:t[1]||(t[1]=k=>{var F;return e.update({meta:{hidden:!((F=e.collection.meta)==null?void 0:F.hidden)}})})},{default:r(()=>{var k;return[((k=e.collection.meta)==null?void 0:k.hidden)===!1?(m(),I(ae,{key:0},[a(i,null,{default:r(()=>[a(o,{name:"visibility_off"})]),_:1}),a(d,null,{default:r(()=>[D(b(e.t("make_collection_hidden")),1)]),_:1})],64)):(m(),I(ae,{key:1},[a(i,null,{default:r(()=>[a(o,{name:"visibility"})]),_:1}),a(d,null,{default:r(()=>[D(b(e.t("make_collection_visible")),1)]),_:1})],64))]}),_:1})]),_:1})]),_:1}),a(h,{modelValue:e.deleteActive,"onUpdate:modelValue":t[3]||(t[3]=k=>e.deleteActive=k),onEsc:t[4]||(t[4]=k=>e.deleteActive=null)},{default:r(()=>[a(w,null,{default:r(()=>[a(y,null,{default:r(()=>[D(b(e.t("delete_collection_are_you_sure")),1)]),_:1}),a(g,null,{default:r(()=>[a(_,{disabled:e.deleting,secondary:"",onClick:t[2]||(t[2]=k=>e.deleteActive=null)},{default:r(()=>[D(b(e.t("cancel")),1)]),_:1},8,["disabled"]),a(_,{loading:e.deleting,kind:"danger",onClick:e.deleteCollection},{default:r(()=>[D(b(e.t("delete_collection")),1)]),_:1},8,["loading","onClick"])]),_:1})]),_:1})]),_:1},8,["modelValue"])])):R("",!0)}var La=N(aV,[["render",sV],["__scopeId","data-v-2ee583e6"]]);const rV=z({name:"CollectionItem",components:{CollectionOptions:La,Draggable:kt},props:{collection:{type:Object,required:!0},collections:{type:Array,required:!0},disableDrag:{type:Boolean,default:!1}},emits:["setNestedSort","editCollection"],setup(e,{emit:t}){const l=Ke(),n=Ye(),{t:s}=te(),u=V(()=>e.collections.filter(_=>{var g;return((g=_.meta)==null?void 0:g.group)===e.collection.collection})),o=V(()=>{var _;switch((_=e.collection.meta)==null?void 0:_.collapse){case"open":return"folder_open";case"closed":return"folder";case"locked":return"folder_lock"}}),i=V(()=>{var _;switch((_=e.collection.meta)==null?void 0:_.collapse){case"open":return s("start_open");case"closed":return s("start_collapsed");case"locked":return s("always_open")}}),d=E(!1);return{collapseIcon:o,openCollection:v,onGroupSortChange:y,nestedCollections:u,update:f,toggleCollapse:p,collapseTooltip:i,collapseLoading:d};async function p(){var g,w;if(d.value===!0)return;d.value=!0;let _="open";((g=e.collection.meta)==null?void 0:g.collapse)==="open"?_="closed":((w=e.collection.meta)==null?void 0:w.collapse)==="closed"&&(_="locked");try{await f({meta:{collapse:_}})}catch(h){Se(h)}finally{d.value=!1}}async function f(_){await l.updateCollection(e.collection.collection,_)}function v(_){_.schema?n.push(`/settings/data-model/${_.collection}`):t("editCollection",_)}function y(_){const g=_.map(w=>({collection:w.collection,meta:{group:e.collection.collection}}));t("setNestedSort",g)}}}),dV={class:"collection-item"};function uV(e,t,l,n,s,u){var g;const o=c("v-icon"),i=c("v-list-item-icon"),d=c("v-progress-circular"),p=c("collection-options"),f=c("v-list-item"),v=c("collection-item",!0),y=c("draggable"),_=we("tooltip");return m(),I("div",dV,[a(f,{block:"",clickable:"",class:ue({hidden:(g=e.collection.meta)==null?void 0:g.hidden})},{default:r(()=>{var w,h;return[a(i,null,{default:r(()=>[e.disableDrag?R("",!0):(m(),S(o,{key:0,class:"drag-handle",name:"drag_handle"}))]),_:1}),C("div",{class:"collection-name",onClick:t[0]||(t[0]=k=>e.openCollection(e.collection))},[a(o,{color:((w=e.collection.meta)==null?void 0:w.hidden)?"var(--foreground-subdued)":e.collection.color,class:"collection-icon",name:((h=e.collection.meta)==null?void 0:h.hidden)?"visibility_off":e.collection.icon},null,8,["color","name"]),C("span",null,b(e.collection.name),1)]),e.collection.type==="alias"||e.nestedCollections.length?(m(),I(ae,{key:0},[e.collapseLoading?(m(),S(d,{key:0,small:"",indeterminate:""})):e.nestedCollections.length?ne((m(),S(o,{key:1,name:e.collapseIcon,clickable:e.nestedCollections.length>0,onClick:e.toggleCollapse},null,8,["name","clickable","onClick"])),[[_,e.collapseTooltip]]):(m(),S(o,{key:2,name:e.collapseIcon},null,8,["name"]))],64)):R("",!0),a(p,{collection:e.collection},null,8,["collection"])]}),_:1},8,["class"]),a(y,{"force-fallback":!0,"model-value":e.nestedCollections,group:{name:"collections"},"swap-threshold":.3,class:"drag-container","item-key":"collection",handle:".drag-handle","onUpdate:modelValue":e.onGroupSortChange},{item:r(({element:w})=>[a(v,{collection:w,collections:e.collections,onEditCollection:t[1]||(t[1]=h=>e.$emit("editCollection",h)),onSetNestedSort:t[2]||(t[2]=h=>e.$emit("setNestedSort",h))},null,8,["collection","collections"])]),_:1},8,["model-value","swap-threshold","onUpdate:modelValue"])])}var cV=N(rV,[["render",uV],["__scopeId","data-v-2d4b9374"]]);const pV=z({name:"CollectionDialog",props:{modelValue:{type:Boolean,default:!1},collection:{type:Object,default:null}},emits:["update:modelValue"],setup(e,{emit:t}){var d,p,f,v,y,_,g,w,h,k,F,A;const{t:l}=te(),n=Ke(),s=Yt({collection:(p=(d=e.collection)==null?void 0:d.collection)!=null?p:null,icon:(v=(f=e.collection)==null?void 0:f.icon)!=null?v:"folder",note:(g=(_=(y=e.collection)==null?void 0:y.meta)==null?void 0:_.note)!=null?g:null,color:(h=(w=e.collection)==null?void 0:w.color)!=null?h:null,translations:(A=(F=(k=e.collection)==null?void 0:k.meta)==null?void 0:F.translations)!=null?A:null});ye(()=>e.modelValue,(P,L)=>{var O,U,T,B,q,K,H,Y,J,re,fe,X;M.exports.isEqual(P,L)===!1&&(s.collection=(U=(O=e.collection)==null?void 0:O.collection)!=null?U:null,s.icon=(B=(T=e.collection)==null?void 0:T.icon)!=null?B:"folder",s.note=(H=(K=(q=e.collection)==null?void 0:q.meta)==null?void 0:K.note)!=null?H:null,s.color=(J=(Y=e.collection)==null?void 0:Y.color)!=null?J:null,s.translations=(X=(fe=(re=e.collection)==null?void 0:re.meta)==null?void 0:fe.translations)!=null?X:null)});const u=E(!1);return{values:s,cancel:o,saving:u,save:i,t:l};function o(){t("update:modelValue",!1)}async function i(){u.value=!0;try{e.collection?(await pe.patch(`/collections/${e.collection.collection}`,{meta:s}),await n.hydrate()):(await pe.post("/collections",{collection:s.collection,meta:s}),await n.hydrate()),t("update:modelValue",!1)}catch(P){Se(P)}finally{u.value=!1}}}}),mV={class:"fields"};function fV(e,t,l,n,s,u){const o=c("v-card-title"),i=c("v-input"),d=c("interface-select-icon"),p=c("interface-select-color"),f=c("interface-list"),v=c("v-card-text"),y=c("v-button"),_=c("v-card-actions"),g=c("v-card"),w=c("v-dialog");return m(),S(w,{"model-value":e.modelValue,persistent:"","onUpdate:modelValue":t[5]||(t[5]=h=>e.$emit("update:modelValue",h)),onEsc:e.cancel},{activator:r(h=>[ge(e.$slots,"activator",He(Ze(h)),void 0,!0)]),default:r(()=>[a(g,null,{default:r(()=>[e.collection?(m(),S(o,{key:1},{default:r(()=>[D(b(e.t("edit_folder")),1)]),_:1})):(m(),S(o,{key:0},{default:r(()=>[D(b(e.t("create_folder")),1)]),_:1})),a(v,null,{default:r(()=>[C("div",mV,[a(i,{modelValue:e.values.collection,"onUpdate:modelValue":t[0]||(t[0]=h=>e.values.collection=h),disabled:!!e.collection,class:"full collection-key","db-safe":"",autofocus:"",placeholder:e.t("folder_key")},null,8,["modelValue","disabled","placeholder"]),a(d,{width:"half",value:e.values.icon,onInput:t[1]||(t[1]=h=>e.values.icon=h)},null,8,["value"]),a(p,{width:"half",value:e.values.color,onInput:t[2]||(t[2]=h=>e.values.color=h)},null,8,["value"]),a(i,{modelValue:e.values.note,"onUpdate:modelValue":t[3]||(t[3]=h=>e.values.note=h),class:"full",placeholder:e.t("note")},null,8,["modelValue","placeholder"]),a(f,{width:"full",class:"full",value:e.values.translations,placeholder:e.t("no_translations"),template:"{{ translation }} ({{ language }})",fields:[{field:"language",name:"$t:language",type:"string",schema:{default_value:"en-US"},meta:{interface:"system-language",width:"half"}},{field:"translation",name:"$t:field_options.directus_collections.collection_name",type:"string",meta:{interface:"input",width:"half",options:{placeholder:"$t:field_options.directus_collections.translation_placeholder"}}}],onInput:t[4]||(t[4]=h=>e.values.translations=h)},null,8,["value","placeholder","fields"])])]),_:1}),a(_,null,{default:r(()=>[a(y,{secondary:"",onClick:e.cancel},{default:r(()=>[D(b(e.t("cancel")),1)]),_:1},8,["onClick"]),a(y,{disabled:!e.values.collection,loading:e.saving,onClick:e.save},{default:r(()=>[D(b(e.t("save")),1)]),_:1},8,["disabled","loading","onClick"])]),_:1})]),_:1})]),_:3},8,["model-value","onEsc"])}var vV=N(pV,[["render",fV],["__scopeId","data-v-ce1c7cd4"]]);const _V=z({components:{SettingsNavigation:Mt,CollectionItem:cV,CollectionOptions:La,Draggable:kt,CollectionDialog:vV},setup(){const{t:e}=te(),t=E(!1),l=E(),n=Ke(),s=V(()=>Ft(M.exports.sortBy(n.collections.filter(p=>p.collection.startsWith("directus_")===!1&&p.meta),["meta.sort","collection"]))),u=V(()=>s.value.filter(p=>{var f;return!((f=p.meta)==null?void 0:f.group)})),o=V(()=>Ft(M.exports.sortBy(n.collections.filter(p=>p.collection.startsWith("directus_")===!1&&!p.meta&&p.schema),["meta.sort","collection"]))),i=V(()=>Ft(M.exports.sortBy(n.collections.filter(p=>p.collection.startsWith("directus_")===!0).map(p=>ke(oe({},p),{icon:"settings"})),"collection")));return{collectionDialogActive:t,t:e,collections:s,tableCollections:o,systemCollections:i,onSort:d,rootCollections:u,editCollection:l};async function d(p,f=!1){const v=p.map((y,_)=>{var g;return M.exports.merge(y,{meta:{sort:_+1,group:f?null:(g=y.meta)==null?void 0:g.group}})});n.collections=n.collections.map(y=>{const _=v.find(g=>g.collection===y.collection);return _?M.exports.merge({},y,_):y});try{await Promise.all(v.map(y=>pe.patch(`/collections/${y.collection}`,{meta:{sort:y.meta.sort,group:y.meta.group}})))}catch(y){Se(y)}}}}),yV={class:"padding-box"},gV=["onClick"],hV={class:"collection-name"},bV={class:"page-description"};function $V(e,t,l,n,s,u){const o=c("v-breadcrumb"),i=c("v-icon"),d=c("v-button"),p=c("collection-dialog"),f=c("settings-navigation"),v=c("v-info"),y=c("collection-item"),_=c("draggable"),g=c("v-list"),w=c("v-list-item-icon"),h=c("collection-options"),k=c("v-list-item"),F=c("v-detail"),A=c("router-view"),P=c("sidebar-detail"),L=c("private-view"),O=we("tooltip"),U=we("md");return m(),S(L,{title:e.t("settings_data_model")},{headline:r(()=>[a(o,{items:[{name:e.t("settings"),to:"/settings"}]},null,8,["items"])]),"title-outer:prepend":r(()=>[a(d,{class:"header-icon",rounded:"",disabled:"",icon:"",secondary:""},{default:r(()=>[a(i,{name:"list_alt"})]),_:1})]),actions:r(()=>[a(p,{modelValue:e.collectionDialogActive,"onUpdate:modelValue":t[0]||(t[0]=T=>e.collectionDialogActive=T)},{activator:r(({on:T})=>[ne(a(d,{rounded:"",icon:"",class:"add-folder",onClick:T},{default:r(()=>[a(i,{name:"create_new_folder"})]),_:2},1032,["onClick"]),[[O,e.t("create_folder"),void 0,{bottom:!0}]])]),_:1},8,["modelValue"]),ne(a(d,{rounded:"",icon:"",to:"/settings/data-model/+"},{default:r(()=>[a(i,{name:"add"})]),_:1},512),[[O,e.t("create_collection"),void 0,{bottom:!0}]])]),navigation:r(()=>[a(f)]),sidebar:r(()=>[a(P,{icon:"info_outline",title:e.t("information"),close:""},{default:r(()=>[ne(C("div",bV,null,512),[[U,e.t("page_help_settings_datamodel_collections")]])]),_:1},8,["title"])]),default:r(()=>[C("div",yV,[e.collections.length===0?(m(),S(v,{key:0,type:"warning",icon:"box",title:e.t("no_collections")},{append:r(()=>[a(d,{to:"/settings/data-model/+"},{default:r(()=>[D(b(e.t("create_collection")),1)]),_:1})]),default:r(()=>[D(b(e.t("no_collections_copy_admin"))+" ",1)]),_:1},8,["title"])):(m(),S(g,{key:1,class:"draggable-list"},{default:r(()=>[a(_,{"force-fallback":!0,"model-value":e.rootCollections,group:{name:"collections"},"swap-threshold":.3,class:"root-drag-container","item-key":"collection",handle:".drag-handle","onUpdate:modelValue":t[2]||(t[2]=T=>e.onSort(T,!0))},{item:r(({element:T})=>[a(y,{collection:T,collections:e.collections,onEditCollection:t[1]||(t[1]=B=>e.editCollection=B),onSetNestedSort:e.onSort},null,8,["collection","collections","onSetNestedSort"])]),_:1},8,["model-value","swap-threshold"])]),_:1})),a(g,{class:"db-only"},{default:r(()=>[(m(!0),I(ae,null,be(e.tableCollections,T=>ne((m(),S(k,{key:T.collection,class:"collection-row hidden",block:"",clickable:""},{default:r(()=>[a(w,null,{default:r(()=>[a(i,{name:"add"})]),_:1}),C("div",{class:"collection-name",onClick:B=>e.openCollection(T)},[a(i,{class:"collection-icon",name:"dns"}),C("span",hV,b(T.name),1)],8,gV),a(h,{collection:T},null,8,["collection"])]),_:2},1536)),[[O,e.t("db_only_click_to_configure")]])),128))]),_:1}),a(F,{label:e.t("system_collections")},{default:r(()=>[(m(!0),I(ae,null,be(e.systemCollections,T=>(m(),S(y,{key:T.collection,collection:T,collections:e.systemCollections,"disable-drag":""},null,8,["collection","collections"]))),128))]),_:1},8,["label"])]),a(A,{name:"add"}),a(p,{"model-value":!!e.editCollection,collection:e.editCollection,"onUpdate:modelValue":t[3]||(t[3]=T=>e.editCollection=null)},null,8,["model-value","collection"])]),_:1},8,["title"])}var wV=N(_V,[["render",$V],["__scopeId","data-v-d4a68d78"]]);function kV(e,t){t.field.schema===void 0&&M.exports.set(e,"field.schema",{})}function CV(e){var n,s,u,o;if(!((s=(n=e.field)==null?void 0:n.meta)==null?void 0:s.interface))return;const t=Ct().interfaces.value.find(i=>i.id===e.field.meta.interface);if(!t)return;const l=(o=(u=t==null?void 0:t.localTypes)==null?void 0:u[0])!=null?o:"standard";M.exports.set(e,"localType",l)}function SV(e,t){var s,u;if(!((u=(s=e.field)==null?void 0:s.meta)==null?void 0:u.interface))return;const l=Ct().interfaces.value.find(o=>o.id===e.field.meta.interface);if(!l)return e;if(t.field.type&&l.types.includes(t.field.type))return;const n=l==null?void 0:l.types[0];M.exports.set(e,"field.type",n)}function VV(e){(e==null?void 0:e.localType)==="o2m"&&M.exports.set(e,"field.meta.special",["o2m"]),(e==null?void 0:e.localType)==="m2m"&&M.exports.set(e,"field.meta.special",["m2m"]),(e==null?void 0:e.localType)==="m2a"&&M.exports.set(e,"field.meta.special",["m2a"]),(e==null?void 0:e.localType)==="m2o"&&M.exports.set(e,"field.meta.special",["m2o"]),(e==null?void 0:e.localType)==="translations"&&M.exports.set(e,"field.meta.special",["translations"]),(e==null?void 0:e.localType)==="file"&&M.exports.set(e,"field.meta.special",["file"]),(e==null?void 0:e.localType)==="files"&&M.exports.set(e,"field.meta.special",["files"]),(e==null?void 0:e.localType)==="presentation"&&M.exports.set(e,"field.meta.special",["alias","no-data"]),(e==null?void 0:e.localType)==="group"&&M.exports.set(e,"field.meta.special",["alias","no-data","group"])}function FV(e){e.relations||(e.relations={}),e.relations.m2a=void 0,e.relations.m2o=void 0,e.relations.o2m=void 0}function AV(e,t,l){const{hasChanged:n}=l;n("localType")&&(IV(e),EV(e,t)),n("field.field")&&DV(e)}function IV(e){M.exports.set(e,"field.type","uuid")}function EV(e,t){e.relations||(e.relations={}),e.relations.m2o={collection:t.collection,field:t.field.field,related_collection:"directus_files",meta:{sort_field:null},schema:{on_delete:"SET NULL"}}}function DV(e){var t,l;!((t=e.field)==null?void 0:t.field)||(((l=e.relations)==null?void 0:l.m2o)||(e.relations={m2o:{}}),M.exports.set(e,"relations.m2o.field",e.field.field))}function TV(e,t,l){const{hasChanged:n}=l;n("localType")&&(PV(e),LV(e),OV(e,t),NV(e,t)),n("field.field")&&jV(e),n("relations.m2o.related_collection")&&RV(e,t,l),n("relations.o2m.field")&&Oa(e,t,l),n("relations.m2o.field")&&Oa(e,t,l),(n("relations.o2m.collection")||n("relations.m2o.collection"))&&BV(e),["relations.o2m.collection","relations.o2m.field","relations.m2o.field","relations.m2o.related_collection","relations.o2m.meta?.sort_field"].some(n)&&(MV(e,t,l),UV(e,t,l))}function PV(e){M.exports.set(e,"field.schema",void 0)}function LV(e){M.exports.set(e,"field.type","alias")}function OV(e,t){var l,n;e.relations||(e.relations={}),e.relations.o2m={collection:void 0,field:void 0,related_collection:t.collection,meta:{one_field:(n=(l=e.field)==null?void 0:l.field)!=null?n:t.field.field,sort_field:null,one_deselect_action:"nullify"},schema:{on_delete:"SET NULL"}},e.relations.m2o={collection:void 0,field:void 0,related_collection:void 0,meta:{one_field:null,sort_field:null,one_deselect_action:"nullify"},schema:{on_delete:"SET NULL"}}}function jV(e){var t,l;!((t=e.field)==null?void 0:t.field)||(((l=e.relations)==null?void 0:l.o2m)||(e.relations={o2m:{}}),M.exports.set(e,"relations.o2m.meta.one_field",e.field.field))}function RV(e,t,{getCurrent:l}){l("relations.o2m.collection")===l("relations.o2m.related_collection")&&M.exports.set(e,"relations.o2m.schema.on_delete","NO ACTION"),l("relations.m2o.collection")===l("relations.m2o.related_collection")&&M.exports.set(e,"relations.m2o.schema.on_delete","NO ACTION")}function Oa(e,t,{getCurrent:l}){M.exports.set(e,"relations.o2m.meta.junction_field",l("relations.m2o.field")),M.exports.set(e,"relations.m2o.meta.junction_field",l("relations.o2m.field"))}function ja(e){return!!Ke().getCollection(e)}function fo(e,t){return!!Te().getField(e,t)}function MV(e,t,{getCurrent:l}){const n=l("relations.o2m.collection");!n||ja(n)?M.exports.set(e,"collections.junction",void 0):M.exports.set(e,"collections.junction",{collection:n,meta:{hidden:!0,icon:"import_export"},schema:{name:n},fields:[{field:"id",type:"integer",schema:{has_auto_increment:!0},meta:{hidden:!0}}]})}function UV(e,t,{getCurrent:l}){var v,y,_;const n=Te(),s=n.getPrimaryKeyFieldForCollection(t.collection),u=l("relations.o2m.collection"),o=l("relations.o2m.field"),i=l("relations.m2o.field"),d=l("relations.m2o.related_collection"),p=(v=n.getPrimaryKeyFieldForCollection(d))!=null?v:l("collections.related.fields[0]"),f=l("relations.o2m.meta.sort_field");u&&o&&fo(u,o)===!1?M.exports.set(e,"fields.junctionCurrent",{collection:u,field:o,type:(y=s==null?void 0:s.type)!=null?y:"integer",schema:{},meta:{hidden:!0}}):M.exports.set(e,"fields.junctionCurrent",void 0),u&&i&&fo(u,i)===!1?M.exports.set(e,"fields.junctionRelated",{collection:u,field:i,type:(_=p==null?void 0:p.type)!=null?_:"uuid",schema:{},meta:{hidden:!0}}):M.exports.set(e,"fields.junctionRelated",void 0),u&&f&&fo(u,f)===!1?M.exports.set(e,"fields.sort",{collection:u,field:f,type:"integer",schema:{},meta:{hidden:!0}}):M.exports.set(e,"fields.sort",void 0)}function NV(e,t){var o,i;const l=Te(),n=t.collection,s=(i=(o=l.getPrimaryKeyFieldForCollection(n))==null?void 0:o.field)!=null?i:"id",u=qV(n);M.exports.set(e,"relations.o2m.collection",u),M.exports.set(e,"relations.o2m.field",`${n}_${s}`),M.exports.set(e,"relations.m2o.collection",u),M.exports.set(e,"relations.m2o.related_collection","directus_files"),M.exports.set(e,"relations.m2o.field","directus_files_id")}function BV(e){var t,l,n,s,u,o;((l=(t=e==null?void 0:e.relations)==null?void 0:t.o2m)==null?void 0:l.collection)&&e.relations.o2m.collection!==((n=e.relations.m2o)==null?void 0:n.collection)&&M.exports.set(e,"relations.m2o.collection",e.relations.o2m.collection),((u=(s=e==null?void 0:e.relations)==null?void 0:s.m2o)==null?void 0:u.collection)&&e.relations.m2o.collection!==((o=e.relations.o2m)==null?void 0:o.collection)&&M.exports.set(e,"relations.o2m.collection",e.relations.m2o.collection)}function qV(e){let t=0,l=n(t);for(;ja(l);)t++,l=n(t);return l;function n(s){let u=`${e}_files`;return u.startsWith("directus_")&&(u="junction_"+u),s?u+"_"+s:u}}function zV(e,t,l){const{hasChanged:n}=l;n("localType")&&(this.removeSchema(e,t,l),this.setTypeToAlias(e,t,l),this.setSpecialToGroup(e,t,l))}function KV(e,t,l){const{hasChanged:n}=l;n("localType")&&(HV(e),WV(e),GV(e,t),JV(e,t,l)),n("field.field")&&(XV(e),QV(e,t,l)),n("relations.o2m.field")&&Ma(e,t,l),n("relations.m2o.field")&&Ma(e,t,l),(n("relations.o2m.collection")||n("relations.m2o.collection"))&&xV(e),n("fields.corresponding")&&eF(e),["relations.o2m.collection","relations.o2m.field","relations.m2o.field","relations.o2m.meta.sort_field","relations.m2o.meta.one_collection_field"].some(n)&&(ZV(e,t,l),YV(e,t,l))}function HV(e){M.exports.set(e,"field.schema",void 0)}function WV(e){M.exports.set(e,"field.type","alias")}function GV(e,t){var l,n;e.relations||(e.relations={}),e.relations.o2m={collection:void 0,field:void 0,related_collection:t.collection,meta:{one_field:(n=(l=e.field)==null?void 0:l.field)!=null?n:t.field.field,sort_field:null,one_deselect_action:"nullify"},schema:{on_delete:"SET NULL"}},e.relations.m2o={collection:void 0,field:void 0,related_collection:null,meta:{one_field:null,sort_field:null,one_deselect_action:"nullify"},schema:null}}function JV(e,t,{getCurrent:l}){var i,d;const n=Te(),s=t.collection,u=(d=(i=n.getPrimaryKeyFieldForCollection(s))==null?void 0:i.field)!=null?d:"id",o=Ra(s,l("field.field"));M.exports.set(e,"relations.o2m.collection",o),M.exports.set(e,"relations.o2m.field",`${s}_${u}`),M.exports.set(e,"relations.m2o.collection",o),M.exports.set(e,"relations.m2o.field","item"),M.exports.set(e,"relations.m2o.meta.one_collection_field","collection")}function QV(e,t,{getCurrent:l}){l("autoGenerateJunctionRelation")!==!1&&M.exports.set(e,"relations.o2m.collection",Ra(l("collection"),l("field.field")))}function Ra(e,t){let l=0,n=s(l);for(;Ua(n);)l++,n=s(l);return n;function s(u){let o=`${e}_${t}`;return o.startsWith("directus_")&&(o="junction_"+o),u?o+"_"+u:o}}function XV(e){var t,l;!((t=e.field)==null?void 0:t.field)||(((l=e.relations)==null?void 0:l.o2m)||(e.relations={o2m:{}}),M.exports.set(e,"relations.o2m.meta.one_field",e.field.field))}function Ma(e,t,{getCurrent:l}){M.exports.set(e,"relations.o2m.meta.junction_field",l("relations.m2o.field")),M.exports.set(e,"relations.m2o.meta.junction_field",l("relations.o2m.field"))}function Ua(e){return!!Ke().getCollection(e)}function Il(e,t){return!!Te().getField(e,t)}function ZV(e,t,{getCurrent:l}){const n=l("relations.o2m.collection");!n||Ua(n)?M.exports.set(e,"collections.junction",void 0):M.exports.set(e,"collections.junction",{collection:n,meta:{hidden:!0,icon:"import_export"},schema:{name:n},fields:[{field:"id",type:"integer",schema:{has_auto_increment:!0},meta:{hidden:!0}}]})}function YV(e,t,{getCurrent:l}){var f;const s=Te().getPrimaryKeyFieldForCollection(t.collection),u=l("relations.o2m.collection"),o=l("relations.o2m.field"),i=l("relations.m2o.field"),d=l("relations.m2o.meta.one_collection_field"),p=l("relations.o2m.meta.sort_field");u&&o&&Il(u,o)===!1?M.exports.set(e,"fields.junctionCurrent",{collection:u,field:o,type:(f=s==null?void 0:s.type)!=null?f:"integer",schema:{},meta:{hidden:!0}}):M.exports.set(e,"fields.junctionCurrent",void 0),u&&i&&Il(u,i)===!1?M.exports.set(e,"fields.junctionRelated",{collection:u,field:i,type:"string",schema:{},meta:{hidden:!0}}):M.exports.set(e,"fields.junctionRelated",void 0),u&&d&&Il(u,d)===!1?M.exports.set(e,"fields.oneCollectionField",{collection:u,field:d,type:"string",schema:{},meta:{hidden:!0}}):M.exports.set(e,"fields.oneCollectionField",void 0),u&&p&&Il(u,p)===!1?M.exports.set(e,"fields.sort",{collection:u,field:p,type:"integer",schema:{},meta:{hidden:!0}}):M.exports.set(e,"fields.sort",void 0)}function xV(e){var t,l,n,s,u,o;((l=(t=e==null?void 0:e.relations)==null?void 0:t.o2m)==null?void 0:l.collection)&&e.relations.o2m.collection!==((n=e.relations.m2o)==null?void 0:n.collection)&&M.exports.set(e,"relations.m2o.collection",e.relations.o2m.collection),((u=(s=e==null?void 0:e.relations)==null?void 0:s.m2o)==null?void 0:u.collection)&&e.relations.m2o.collection!==((o=e.relations.o2m)==null?void 0:o.collection)&&M.exports.set(e,"relations.o2m.collection",e.relations.m2o.collection)}function eF(e){var t,l,n;((l=(t=e==null?void 0:e.fields)==null?void 0:t.corresponding)==null?void 0:l.field)&&M.exports.set(e,"relations.m2o.meta.one_field",e.fields.corresponding.field),((n=e.fields)==null?void 0:n.corresponding)||M.exports.set(e,"relations.m2o.meta.one_field",null)}function tF(e,t,l){const{hasChanged:n}=l;n("localType")&&(nF(e),lF(e),oF(e,t)),n("autoGenerateJunctionRelation")&&Ba(e,t,l),n("field.field")&&aF(e),n("relations.m2o.related_collection")&&(iF(e,t,l),Ba(e,t,l)),n("relations.o2m.field")&&Na(e,t,l),n("relations.m2o.field")&&Na(e,t,l),(n("relations.o2m.collection")||n("relations.m2o.collection"))&&uF(e),n("fields.corresponding")&&cF(e),["relations.o2m.collection","relations.o2m.field","relations.m2o.field","relations.m2o.related_collection","relations.o2m.meta.sort_field"].some(n)&&(rF(e,t,l),dF(e,t,l))}function nF(e){M.exports.set(e,"field.schema",void 0)}function lF(e){M.exports.set(e,"field.type","alias")}function oF(e,t){var l,n;e.relations||(e.relations={}),e.relations.o2m={collection:void 0,field:void 0,related_collection:t.collection,meta:{one_field:(n=(l=e.field)==null?void 0:l.field)!=null?n:t.field.field,sort_field:null,one_deselect_action:"nullify"},schema:{on_delete:"SET NULL"}},e.relations.m2o={collection:void 0,field:void 0,related_collection:void 0,meta:{one_field:null,sort_field:null,one_deselect_action:"nullify"},schema:{on_delete:"SET NULL"}}}function aF(e){var t,l;!((t=e.field)==null?void 0:t.field)||(((l=e.relations)==null?void 0:l.o2m)||(e.relations={o2m:{}}),M.exports.set(e,"relations.o2m.meta.one_field",e.field.field))}function iF(e,t,{getCurrent:l}){l("relations.o2m.collection")===l("relations.o2m.related_collection")&&M.exports.set(e,"relations.o2m.schema.on_delete","NO ACTION"),l("relations.m2o.collection")===l("relations.m2o.related_collection")&&M.exports.set(e,"relations.m2o.schema.on_delete","NO ACTION")}function Na(e,t,{getCurrent:l}){M.exports.set(e,"relations.o2m.meta.junction_field",l("relations.m2o.field")),M.exports.set(e,"relations.m2o.meta.junction_field",l("relations.o2m.field"))}function Ba(e,t,{getCurrent:l}){var i,d,p,f,v,y;if(l("autoGenerateJunctionRelation")===!1)return;const n=Te(),s=t.collection,u=(d=(i=n.getPrimaryKeyFieldForCollection(s))==null?void 0:i.field)!=null?d:"id",o=(f=(p=e.relations)==null?void 0:p.m2o)==null?void 0:f.related_collection;if(o){const _=sF(s,o),g=(y=(v=n.getPrimaryKeyFieldForCollection(o))==null?void 0:v.field)!=null?y:"id";M.exports.set(e,"relations.o2m.collection",_),M.exports.set(e,"relations.m2o.collection",_),M.exports.set(e,"relations.o2m.related_collection",s),M.exports.set(e,"relations.m2o.related_collection",o),M.exports.set(e,"relations.o2m.field",`${s}_${u}`),M.exports.set(e,"relations.m2o.field",`${o}_${g}`),l("relations.o2m.field")===l("relations.m2o.field")&&M.exports.set(e,"relations.m2o.field",`related_${l("relations.m2o.field")}`)}else M.exports.set(e,"relations.o2m.collection",void 0),M.exports.set(e,"relations.m2o.collection",void 0),M.exports.set(e,"relations.o2m.related_collection",t.collection),M.exports.set(e,"relations.m2o.related_collection",void 0),M.exports.set(e,"relations.o2m.field",void 0),M.exports.set(e,"relations.m2o.field",void 0)}function sF(e,t){let l=0,n=s(l);for(;vo(n);)l++,n=s(l);return n;function s(u){let o=`${e}_${t}`;return o.startsWith("directus_")&&(o="junction_"+o),u?o+"_"+u:o}}function vo(e){return!!Ke().getCollection(e)}function _o(e,t){return!!Te().getField(e,t)}function rF(e,t,{getCurrent:l}){const n=l("relations.o2m.collection"),s=l("relations.m2o.related_collection");!n||vo(n)?M.exports.set(e,"collections.junction",void 0):M.exports.set(e,"collections.junction",{collection:n,meta:{hidden:!0,icon:"import_export"},schema:{name:n},fields:[{field:"id",type:"integer",schema:{has_auto_increment:!0},meta:{hidden:!0}}]}),s&&vo(s)===!1?M.exports.set(e,"collections.related",{collection:s,meta:{},schema:{name:s},fields:[{field:"id",type:"integer",schema:{has_auto_increment:!0},meta:{hidden:!0}}]}):M.exports.set(e,"collections.related",void 0)}function dF(e,t,{getCurrent:l}){var v,y,_;const n=Te(),s=n.getPrimaryKeyFieldForCollection(t.collection),u=l("relations.o2m.collection"),o=l("relations.o2m.field"),i=l("relations.m2o.field"),d=l("relations.o2m.meta.sort_field"),p=l("relations.m2o.related_collection"),f=(v=n.getPrimaryKeyFieldForCollection(p))!=null?v:l("collections.related.fields[0]");u&&o&&_o(u,o)===!1?M.exports.set(e,"fields.junctionCurrent",{collection:u,field:o,type:(y=s==null?void 0:s.type)!=null?y:"integer",schema:{},meta:{hidden:!0}}):M.exports.set(e,"fields.junctionCurrent",void 0),u&&i&&_o(u,i)===!1?M.exports.set(e,"fields.junctionRelated",{collection:u,field:i,type:(_=f==null?void 0:f.type)!=null?_:"integer",schema:{},meta:{hidden:!0}}):M.exports.set(e,"fields.junctionRelated",void 0),u&&d&&_o(u,d)===!1?M.exports.set(e,"fields.sort",{collection:u,field:d,type:"integer",schema:{},meta:{hidden:!0}}):M.exports.set(e,"fields.sort",void 0)}function uF(e){var t,l,n,s,u,o;((l=(t=e==null?void 0:e.relations)==null?void 0:t.o2m)==null?void 0:l.collection)&&e.relations.o2m.collection!==((n=e.relations.m2o)==null?void 0:n.collection)&&M.exports.set(e,"relations.m2o.collection",e.relations.o2m.collection),((u=(s=e==null?void 0:e.relations)==null?void 0:s.m2o)==null?void 0:u.collection)&&e.relations.m2o.collection!==((o=e.relations.o2m)==null?void 0:o.collection)&&M.exports.set(e,"relations.o2m.collection",e.relations.m2o.collection)}function cF(e){var t,l,n;((l=(t=e==null?void 0:e.fields)==null?void 0:t.corresponding)==null?void 0:l.field)&&M.exports.set(e,"relations.m2o.meta.one_field",e.fields.corresponding.field),((n=e.fields)==null?void 0:n.corresponding)||M.exports.set(e,"relations.m2o.meta.one_field",null)}function pF(e,t,l){const{hasChanged:n}=l;n("localType")&&mF(e,t),n("field.field")&&fF(e),n("relations.m2o.related_collection")&&(vF(e),_F(e,t),yF(e,t))}function mF(e,t){e.relations||(e.relations={}),e.relations.m2o={collection:t.collection,field:t.field.field,related_collection:void 0,meta:{sort_field:null},schema:{on_delete:"SET NULL"}}}function fF(e){var t,l;!((t=e.field)==null?void 0:t.field)||(((l=e.relations)==null?void 0:l.m2o)||(e.relations={m2o:{}}),M.exports.set(e,"relations.m2o.field",e.field.field))}function vF(e){var s,u,o;const t=(u=(s=e.relations)==null?void 0:s.m2o)==null?void 0:u.related_collection;if(!t)return;((o=e.collections)==null?void 0:o.related)||(e.collections={related:void 0}),!!Ke().getCollection(t)===!1&&(e.collections.related={collection:t,fields:[{field:"id",type:"integer",schema:{has_auto_increment:!0,is_primary_key:!0},meta:{hidden:!0}}],meta:{},schema:{}})}function _F(e,t){var n,s;const l=(s=(n=e.relations)==null?void 0:n.m2o)==null?void 0:s.related_collection;!l||(e.relations||(e.relations={}),l===t.collection&&M.exports.set(e,"relations.m2o.schema.on_delete","NO ACTION"))}function yF(e,t){var u,o,i,d,p;const l=(o=(u=e.relations)==null?void 0:u.m2o)==null?void 0:o.related_collection;if(!l)return;const s=Te().getPrimaryKeyFieldForCollection(l);s?M.exports.set(e,"field.type",s.type):((p=(d=(i=t.collections.related)==null?void 0:i.fields)==null?void 0:d[0])==null?void 0:p.type)&&M.exports.set(e,"field.type",t.collections.related.fields[0].type)}function gF(e,t,l){const{hasChanged:n}=l;n("localType")&&(hF(e),bF(e),$F(e,t)),n("field.field")&&kF(e),n("relations.o2m.collection")&&(SF(e),wF(e,t),FF(e,t),qa(e,t,l)),n("relations.o2m.field")&&(CF(e),VF(e,t)),n("relations.o2m.meta.sort_field")&&qa(e,t,l)}function hF(e){M.exports.set(e,"field.schema",void 0)}function bF(e){M.exports.set(e,"field.type","alias")}function $F(e,t){var l,n;e.relations||(e.relations={}),e.relations.o2m={collection:void 0,field:void 0,related_collection:t.collection,meta:{one_field:(n=(l=e.field)==null?void 0:l.field)!=null?n:t.field.field,sort_field:null,one_deselect_action:"nullify"},schema:{on_delete:"SET NULL"}}}function wF(e,t){var n,s;const l=(s=(n=e.relations)==null?void 0:n.o2m)==null?void 0:s.collection;!l||(e.relations||(e.relations={}),l===t.collection&&M.exports.set(e,"relations.o2m.schema.on_delete","NO ACTION"))}function kF(e){var t,l;!((t=e.field)==null?void 0:t.field)||(((l=e.relations)==null?void 0:l.o2m)||(e.relations={o2m:{}}),M.exports.set(e,"relations.o2m.meta.one_field",e.field.field))}function CF(e){var s,u,o;e.relations||(e.relations={});const t=mt(),l=(s=e.relations.o2m)==null?void 0:s.collection,n=(u=e.relations.o2m)==null?void 0:u.field;if(l&&n){const i=t.getRelationForField(l,n);if(i){M.exports.set(e,"relations.o2m.schema.on_delete",(o=i.schema)==null?void 0:o.on_delete);return}}}function SF(e){var s,u,o;const t=(u=(s=e.relations)==null?void 0:s.o2m)==null?void 0:u.collection;if(!t)return;const n=!!Ke().getCollection(t);((o=e.collections)==null?void 0:o.related)||(e.collections={related:void 0}),n===!1&&(e.collections.related={collection:t,fields:[{field:"id",type:"integer",schema:{has_auto_increment:!0,is_primary_key:!0},meta:{hidden:!0}}],meta:{},schema:{}})}function VF(e,t){var i,d,p,f,v,y,_,g,w;const l=Te(),n=(f=(d=(i=e.relations)==null?void 0:i.o2m)==null?void 0:d.collection)!=null?f:(p=t.relations.o2m)==null?void 0:p.collection;if(!n)return;const s=t.collection&&(y=(v=l.getPrimaryKeyFieldForCollection(t.collection))==null?void 0:v.type)!=null?y:"integer",u=(g=(_=e.relations)==null?void 0:_.o2m)==null?void 0:g.field;if(!u)return;const o=!!l.getField(n,u);((w=e.fields)==null?void 0:w.corresponding)||(e.fields={corresponding:void 0}),o===!1&&(e.fields.corresponding={collection:n,field:u,type:s,schema:{},meta:{interface:"select-dropdown-m2o",hidden:!0}})}function FF(e,t){var n,s;const l=(s=(n=e.relations)==null?void 0:n.o2m)==null?void 0:s.collection;!l||t.fields.corresponding&&M.exports.set(e,"fields.corresponding.collection",l)}function qa(e,t,{getCurrent:l}){const n=l("relations.o2m.meta.sort_field");if(!n)return;const s=Te(),u=l("relations.o2m.collection");!!s.getField(u,n)?M.exports.set(e,"fields.sort",void 0):M.exports.set(e,"fields.sort",{collection:u,field:n,type:"integer",schema:{},meta:{hidden:!0}})}function AF(e,t,l){const{hasChanged:n}=l;n("localType")&&(IF(e),EF(e),DF(e))}function IF(e){M.exports.set(e,"field.schema",void 0)}function EF(e){M.exports.set(e,"field.type","alias")}function DF(e){M.exports.set(e,"field.meta.special",["alias","no-data"])}function TF(e,t,l){const{hasChanged:n}=l;n("field.type")&&PF(e)}function PF(e){var l;const t=(l=e.field)==null?void 0:l.type;if(!!t)switch(t){case"uuid":M.exports.set(e,"field.meta.special",["uuid"]);break;case"hash":M.exports.set(e,"field.meta.special",["hash"]);break;case"json":M.exports.set(e,"field.meta.special",["json"]);break;case"csv":M.exports.set(e,"field.meta.special",["csv"]);break;case"boolean":M.exports.set(e,"field.meta.special",["boolean"]);break;case"geometry":M.exports.set(e,"field.meta.special",["geometry"]);break;default:M.exports.set(e,"field.meta.special",null)}}function LF(e,t,l){const{hasChanged:n}=l;n("localType")&&(OF(e),jF(e),RF(e,t),qF(e,t,l)),n("field.field")&&MF(e),n("relations.m2o.related_collection")&&UF(e,t,l),n("relations.o2m.field")&&za(e,t,l),n("relations.m2o.field")&&za(e,t,l),["relations.o2m.collection","relations.o2m.field","relations.m2o.field","relations.m2o.related_collection","relations.o2m.meta?.sort_field"].some(n)&&(NF(e,t,l),BF(e,t,l))}function OF(e){M.exports.set(e,"field.schema",void 0)}function jF(e){M.exports.set(e,"field.type","alias")}function RF(e,t){var l,n;e.relations||(e.relations={}),e.relations.o2m={collection:void 0,field:void 0,related_collection:t.collection,meta:{one_field:(n=(l=e.field)==null?void 0:l.field)!=null?n:t.field.field,sort_field:null,one_deselect_action:"nullify"},schema:{on_delete:"SET NULL"}},e.relations.m2o={collection:void 0,field:void 0,related_collection:void 0,meta:{one_field:null,sort_field:null,one_deselect_action:"nullify"},schema:{on_delete:"SET NULL"}}}function MF(e){var t,l;!((t=e.field)==null?void 0:t.field)||(((l=e.relations)==null?void 0:l.o2m)||(e.relations={o2m:{}}),M.exports.set(e,"relations.o2m.meta.one_field",e.field.field))}function UF(e,t,{getCurrent:l}){l("relations.o2m.collection")===l("relations.o2m.related_collection")&&M.exports.set(e,"relations.o2m.schema.on_delete","NO ACTION"),l("relations.m2o.collection")===l("relations.m2o.related_collection")&&M.exports.set(e,"relations.m2o.schema.on_delete","NO ACTION")}function za(e,t,{getCurrent:l}){M.exports.set(e,"relations.o2m.meta.junction_field",l("relations.m2o.field")),M.exports.set(e,"relations.m2o.meta.junction_field",l("relations.o2m.field"))}function yo(e){return!!Ke().getCollection(e)}function go(e,t){return!!Te().getField(e,t)}function NF(e,t,{getCurrent:l}){const n=l("relations.o2m.collection"),s=l("relations.m2o.related_collection");if(!n||yo(n)?M.exports.set(e,"collections.junction",void 0):M.exports.set(e,"collections.junction",{collection:n,meta:{hidden:!0,icon:"import_export"},schema:{name:n},fields:[{field:"id",type:"integer",schema:{has_auto_increment:!0},meta:{hidden:!0}}]}),s&&yo(s)===!1){M.exports.set(e,"collections.related",{collection:s,meta:{},schema:{name:s},fields:[{field:"code",type:"string",schema:{is_primary_key:!0},meta:{}},{field:"name",type:"string",schema:{},meta:{}}]});const u=M.exports.get(t,"relations.m2o.related_collection");t.items&&t.items[u]&&delete t.items[u],e.items={[s]:[{code:"en-US",name:"English"},{code:"de-DE",name:"German"},{code:"fr-FR",name:"French"},{code:"ru-RU",name:"Russian"},{code:"es-ES",name:"Spanish"},{code:"it-IT",name:"Italian"},{code:"pt-BR",name:"Portuguese"}]}}else M.exports.set(e,"collections.related",void 0),e.items=void 0}function BF(e,t,{getCurrent:l}){var v,y,_;const n=Te(),s=n.getPrimaryKeyFieldForCollection(t.collection),u=l("relations.o2m.collection"),o=l("relations.o2m.field"),i=l("relations.m2o.field"),d=l("relations.m2o.related_collection"),p=(v=n.getPrimaryKeyFieldForCollection(d))!=null?v:l("collections.related.fields[0]"),f=l("relations.o2m.sort_field");u&&o&&go(u,o)===!1?M.exports.set(e,"fields.junctionCurrent",{collection:u,field:o,type:(y=s==null?void 0:s.type)!=null?y:"integer",schema:{},meta:{hidden:!0}}):M.exports.set(e,"fields.junctionCurrent",void 0),u&&i&&go(u,i)===!1?M.exports.set(e,"fields.junctionRelated",{collection:u,field:i,type:(_=p==null?void 0:p.type)!=null?_:"string",schema:{},meta:{hidden:!0}}):M.exports.set(e,"fields.junctionRelated",void 0),u&&f&&go(u,f)===!1?M.exports.set(e,"fields.sort",{collection:u,field:f,type:"integer",schema:{},meta:{hidden:!0}}):M.exports.set(e,"fields.sort",void 0)}function qF(e,t,{getCurrent:l}){var p,f,v,y;const n=Te(),s=t.collection,u=(f=(p=n.getPrimaryKeyFieldForCollection(s))==null?void 0:p.field)!=null?f:"id",o=zF(s);M.exports.set(e,"relations.o2m.collection",o),M.exports.set(e,"relations.o2m.field",`${s}_${u}`),M.exports.set(e,"relations.m2o.collection",o),M.exports.set(e,"relations.m2o.related_collection","languages");const i=l("relations.m2o.related_collection"),d=(y=(v=n.getPrimaryKeyFieldForCollection(i))==null?void 0:v.field)!=null?y:"id";M.exports.set(e,"relations.m2o.field",`${i}_${d}`),l("field.field")||(M.exports.set(e,"field.field","translations"),M.exports.set(e,"relations.o2m.meta","translations"))}function zF(e){let t=0,l=n(t);for(;yo(l);)t++,l=n(t);return l;function n(s){let u=`${e}_translations`;return u.startsWith("directus_")&&(u="junction_"+u),s?u+"_"+s:u}}function ho(e,t){var o,i,d,p;const l=Te(),n=mt(),s=l.getField(e,t),u=n.getRelationsForField(e,t);if(!s)return null;if(u.length===0)return s.type==="alias"?((i=(o=s.meta)==null?void 0:o.special)==null?void 0:i.includes("group"))?"group":"presentation":"standard";if(u.length===1){const f=u[0];return f.related_collection==="directus_files"?"file":f.collection===e&&f.field===t?"m2o":"o2m"}if(u.length===2){if((((d=s.meta)==null?void 0:d.special)||[]).includes("translations"))return"translations";if((((p=s.meta)==null?void 0:p.special)||[]).includes("m2a"))return"m2a";const f=u.find(v=>{var y;return v.collection===e&&v.field===t||v.related_collection===e&&((y=v.meta)==null?void 0:y.one_field)===t});return(f==null?void 0:f.collection)===e&&(f==null?void 0:f.field)===t?"m2o":u[0].related_collection==="directus_files"||u[1].related_collection==="directus_files"?"files":"m2m"}return"standard"}function Ee(e,t){const l=vt();return V({get(){return M.exports.get(l,e,t)},set(n){l.update(M.exports.set({},e,n))}})}const vt=St({id:"fieldDetailStore",state:()=>({collection:void 0,editing:"+",field:{field:void 0,type:void 0,schema:{},meta:{}},relations:{m2o:void 0,o2m:void 0},collections:{junction:void 0,related:void 0},fields:{corresponding:void 0,junctionCurrent:void 0,junctionRelated:void 0,sort:void 0,oneCollectionField:void 0},items:{},localType:"standard",autoGenerateJunctionRelation:!0,saving:!1}),actions:{startEditing(e,t,l){var n;if(this.$reset(),this.collection=e,this.field.collection=e,this.editing=t,t!=="+"){const s=Te(),u=mt();this.field=s.getField(e,t);const o=u.getRelationsForField(e,t);this.relations.o2m=o.find(i=>{var d;return i.related_collection===e&&((d=i.meta)==null?void 0:d.one_field)===t}),["files","m2m","translations"].includes(this.localType)?this.relations.m2o=o.find(i=>i!==this.relations.o2m):this.relations.m2o=o.find(i=>i.collection===e&&i.field===t)}this.update({localType:(n=l!=null?l:ho(e,t))!=null?n:"standard"})},update(e){const t=s=>M.exports.has(e,s)&&M.exports.get(e,s)!==M.exports.get(this,s),l=s=>M.exports.has(e,s)?M.exports.get(e,s):M.exports.get(this,s),n={hasChanged:t,getCurrent:l};switch(t("field.meta.interface")&&(CV(e),SV(e,this)),t("localType")&&(kV(e,this),FV(e),VV(e)),l("localType")){case"file":AV(e,this,n);break;case"files":TV(e,this,n);break;case"group":zV(e,this,n);break;case"m2a":KV(e,this,n);break;case"m2m":tF(e,this,n);break;case"m2o":pF(e,this,n);break;case"o2m":gF(e,this,n);break;case"presentation":AF(e,this,n);break;case"standard":TF(e,this,n);break;case"translations":LF(e,this,n);break}this.$patch(e)},async save(){if(!this.collection||!this.field.field)return;const e=Ke(),t=Te(),l=mt();this.saving=!0;try{await t.upsertField(this.collection,this.editing,this.field);for(const n of Object.values(this.collections))!n||!n.collection||await e.upsertCollection(n==null?void 0:n.collection,n);for(const n of Object.values(this.fields))!n||!n.collection||!n.field||await t.upsertField(n.collection,n.field,n);for(const n of Object.values(this.relations))!n||!n.collection||!n.field||await l.upsertRelation(n.collection,n.field,n);for(const n of Object.keys(this.items))await pe.post(`/items/${n}`,this.items[n])}catch(n){Se(n)}finally{this.saving=!1}}},getters:{missingConfiguration(e){const t=["field.field","field.type","collection"],l=e.localType;return(l==="files"||l==="m2m"||l==="translations")&&t.push("relations.o2m.collection","relations.o2m.field","relations.o2m.related_collection","relations.m2o.collection","relations.m2o.field","relations.m2o.related_collection"),(l==="file"||l==="m2o")&&t.push("relations.m2o.collection","relations.m2o.field","relations.m2o.related_collection"),l==="o2m"&&t.push("relations.o2m.collection","relations.o2m.field","relations.o2m.related_collection"),l==="m2a"&&t.push("relations.o2m.collection","relations.o2m.field","relations.o2m.related_collection","relations.m2o.collection","relations.m2o.field","relations.m2o.meta.one_allowed_collections","relations.m2o.meta.one_collection_field"),t.filter(n=>(M.exports.has(e,n)&&M.exports.isEmpty(M.exports.get(e,n))===!1)===!1)},readyToSave(){return this.missingConfiguration.length===0},interfacesForType(){const{interfaces:e}=Ct();return M.exports.orderBy(e.value.filter(t=>{if(t.system===!0)return!1;const l=t.types.includes(this.field.type||"alias"),n=(t.localTypes||["standard"]).includes(this.localType);return l&&n}),["name"])},displaysForType(){const{displays:e}=tn();return M.exports.orderBy(e.value.filter(t=>{const l=t.types.includes(this.field.type||"alias"),n=(t.localTypes||["standard"]).includes(this.localType);return l&&n}),["name"])},generationInfo(){const e=[];for(const t of Object.values(this.collections))!t||!t.collection||e.push({name:t.collection,type:"collection"});for(const t of Object.values(this.fields))!t||!t.collection||!t.field||e.push({name:`${t.collection}.${t.field}`,type:"field"});return e}}});function _t(e,t,l){return V({get:()=>{var n;return((n=e.value)==null?void 0:n[t])?e.value[t]:M.exports.isFunction(l)?l():l},set:n=>{e.value=Object.assign({},e.value,{[t]:n})}})}const KF=z({props:{type:{type:String,required:!0},extension:{type:String,required:!0},showAdvanced:{type:Boolean,default:!1}},setup(e){const t=vt(),{t:l}=te(),{collection:n,field:s,relations:u,fields:o,collections:i}=$t(t),{interfaces:d}=Ct(),{displays:p}=tn(),f=V(()=>e.type==="interface"?d.value.find(g=>g.id===e.extension):e.type==="display"?p.value.find(g=>g.id===e.extension):null),v=V(()=>f.value?f.value.options&&"render"in f.value.options:!1),y=V(()=>{if(!f.value)return[];if(!f.value.options)return[];if(v.value===!0)return[];let g;return typeof f.value.options=="function"?g=f.value.options(t):g=f.value.options,Array.isArray(g)?g:e.showAdvanced?[...g.standard,...g.advanced]:g.standard}),_=V({get(){const g=e.type==="interface"?"field.meta.options":"field.meta.display_options";return M.exports.get(t,g)},set(g){const w=e.type==="interface"?"options":"display_options";t.$patch(h=>{h.field.meta=ke(oe({},h.field.meta),{[w]:g})})}});return{usesCustomComponent:v,extensionInfo:f,optionsFields:y,options:_,collection:n,field:s,relations:u,fields:o,collections:i,t:l}}});function HF(e,t,l,n,s,u){const o=c("v-notice"),i=c("v-form");return e.usesCustomComponent===!1&&e.optionsFields.length===0?(m(),S(o,{key:0},{default:r(()=>[D(b(e.t("no_options_available")),1)]),_:1})):e.usesCustomComponent===!1?(m(),S(i,{key:1,modelValue:e.options,"onUpdate:modelValue":t[0]||(t[0]=d=>e.options=d),class:"extension-options",fields:e.optionsFields,"primary-key":"+"},null,8,["modelValue","fields"])):(m(),S(Be(`interface-options-${e.extensionInfo.id}`),{key:2,value:e.options,collection:e.collection,field:e.field,onInput:t[1]||(t[1]=d=>e.options=d)},null,8,["value","collection","field"]))}var bo=N(KF,[["render",HF]]);const WF=z({props:{modelValue:{type:String,default:null},disabled:{type:Boolean,default:!1}},emits:["update:modelValue"],setup(e){const{t}=te(),l=Ke(),n=V(()=>!!l.getCollection(e.modelValue)),s=V(()=>M.exports.orderBy(l.collections.filter(o=>o.collection.startsWith("directus_")===!1&&o.schema),["sort","collection"],["asc"])),u=V(()=>M.exports.orderBy(l.crudSafeSystemCollections.filter(o=>o.collection.startsWith("directus_")===!0),["collection"],["asc"]));return{t,collectionExists:n,availableCollections:s,systemCollections:u}}});function GF(e,t,l,n,s,u){const o=c("v-icon"),i=c("v-list-item-content"),d=c("v-list-item"),p=c("v-divider"),f=c("v-list-group"),v=c("v-list"),y=c("v-menu"),_=c("v-text-overflow"),g=c("v-input"),w=we("tooltip");return m(),S(g,{key:"related-collection-select","model-value":e.modelValue,class:ue({matches:e.collectionExists}),"db-safe":"",nullable:!1,disabled:e.disabled,placeholder:e.t("collection")+"...","onUpdate:modelValue":t[0]||(t[0]=h=>e.$emit("update:modelValue",h))},xe({_:2},[e.disabled?void 0:{name:"append",fn:r(()=>[a(y,{"show-arrow":"",placement:"bottom-end"},{activator:r(({toggle:h})=>[ne(a(o,{name:"list_alt",clickable:"",disabled:e.disabled,onClick:h},null,8,["disabled","onClick"]),[[w,e.t("select_existing")]])]),default:r(()=>[a(v,{class:"monospace"},{default:r(()=>[(m(!0),I(ae,null,be(e.availableCollections,h=>(m(),S(d,{key:h.collection,active:e.modelValue===h.collection,clickable:"",onClick:k=>e.$emit("update:modelValue",h.collection)},{default:r(()=>[a(i,null,{default:r(()=>[D(b(h.collection),1)]),_:2},1024)]),_:2},1032,["active","onClick"]))),128)),a(p),a(f,null,{activator:r(()=>[D(b(e.t("system")),1)]),default:r(()=>[(m(!0),I(ae,null,be(e.systemCollections,h=>(m(),S(d,{key:h.collection,active:e.modelValue===h.collection,clickable:"",onClick:k=>e.$emit("update:modelValue",h.collection)},{default:r(()=>[a(i,null,{default:r(()=>[D(b(h.collection),1)]),_:2},1024)]),_:2},1032,["active","onClick"]))),128))]),_:1})]),_:1})]),_:1})])},e.disabled?{name:"input",fn:r(()=>[a(_,{text:e.modelValue},null,8,["text"])])}:void 0]),1032,["model-value","class","disabled","placeholder"])}var An=N(WF,[["render",GF]]);const JF=z({props:{modelValue:{type:String,default:null},disabled:{type:Boolean,default:!1},collection:{type:String,default:null},typeDenyList:{type:Array,default:()=>[]},placeholder:{type:String,default:()=>qe.global.t("foreign_key")+"..."}},emits:["update:modelValue"],setup(e){const{t}=te(),l=Te(),n=V(()=>e.collection?l.getFieldsForCollectionAlphabetical(e.collection).map(u=>{var o;return{text:u.field,value:u.field,disabled:!u.schema||((o=u.schema)==null?void 0:o.is_primary_key)||e.typeDenyList.includes(u.type)}}):[]),s=V(()=>!e.collection||!e.modelValue?!1:!!l.getField(e.collection,e.modelValue));return{t,fields:n,fieldExists:s}}});function QF(e,t,l,n,s,u){const o=c("v-icon"),i=c("v-list-item-content"),d=c("v-list-item"),p=c("v-list"),f=c("v-menu"),v=c("v-text-overflow"),y=c("v-input"),_=we("tooltip");return m(),S(y,{"model-value":e.modelValue,"db-safe":"",nullable:!1,disabled:e.disabled,placeholder:e.placeholder,class:ue({matches:e.fieldExists}),"onUpdate:modelValue":t[0]||(t[0]=g=>e.$emit("update:modelValue",g))},xe({_:2},[e.fields&&e.fields.length>0&&!e.disabled?{name:"append",fn:r(()=>[a(f,{"show-arrow":"",placement:"bottom-end"},{activator:r(({toggle:g})=>[ne(a(o,{name:"list_alt",clickable:"",onClick:g},null,8,["onClick"]),[[_,e.t("select_existing")]])]),default:r(()=>[a(p,{class:"monospace"},{default:r(()=>[(m(!0),I(ae,null,be(e.fields,g=>(m(),S(d,{key:g.value,active:e.modelValue===g.value,disabled:g.disabled,clickable:"",onClick:w=>e.$emit("update:modelValue",g.value)},{default:r(()=>[a(i,null,{default:r(()=>[D(b(g.text),1)]),_:2},1024)]),_:2},1032,["active","disabled","onClick"]))),128))]),_:1})]),_:1})])}:void 0,e.disabled?{name:"input",fn:r(()=>[a(v,{text:e.modelValue},null,8,["text"])])}:void 0]),1032,["model-value","disabled","placeholder","class"])}var el=N(JF,[["render",QF]]);const XF=z({components:{RelatedCollectionSelect:An,RelatedFieldSelect:el},props:{localType:{type:String,required:!0}},setup(){const e=Ke(),{t}=te(),l=Ee("relations.m2o.related_collection"),n=Ee("relations.o2m.collection"),s=Ee("relations.o2m.field"),u=Ee("relations.m2o.meta.one_allowed_fields",[]);return{availableCollections:V(()=>M.exports.orderBy([...e.allCollections,{divider:!0},{name:t("system"),selectable:!1,children:e.crudSafeSystemCollections}],["collection"],["asc"])),oneAllowedCollections:u,relatedCollectionM2O:l,o2mCollection:n,o2mField:s,t}}}),ZF={class:"relationship"},YF={key:0,class:"field full"},xF={class:"label type-label"},e3={class:"field half-left"},t3={class:"label type-label"},n3={class:"field half-right"},l3={class:"label type-label"},o3={key:2,class:"field full"},a3={class:"label type-label"},i3={key:3,class:"field full"},s3={class:"label type-label"},r3={key:4,class:"field full"},d3={class:"label type-label"};function u3(e,t,l,n,s,u){const o=c("v-icon"),i=c("related-collection-select"),d=c("related-field-select"),p=c("v-select"),f=we("tooltip");return m(),I("div",ZF,[e.localType==="m2o"?(m(),I("div",YF,[C("div",xF,[D(b(e.t("related_collection"))+" ",1),ne(a(o,{class:"required-mark",sup:"",name:"star"},null,512),[[f,e.t("required")]])]),a(i,{modelValue:e.relatedCollectionM2O,"onUpdate:modelValue":t[0]||(t[0]=v=>e.relatedCollectionM2O=v)},null,8,["modelValue"])])):e.localType==="o2m"?(m(),I(ae,{key:1},[C("div",e3,[C("div",t3,[D(b(e.t("related_collection"))+" ",1),ne(a(o,{class:"required-mark",sup:"",name:"star"},null,512),[[f,e.t("required")]])]),a(i,{modelValue:e.o2mCollection,"onUpdate:modelValue":t[1]||(t[1]=v=>e.o2mCollection=v)},null,8,["modelValue"])]),C("div",n3,[C("div",l3,[D(b(e.t("foreign_key"))+" ",1),ne(a(o,{class:"required-mark",sup:"",name:"star"},null,512),[[f,e.t("required")]])]),a(d,{modelValue:e.o2mField,"onUpdate:modelValue":t[2]||(t[2]=v=>e.o2mField=v),collection:e.o2mCollection,disabled:!e.o2mCollection},null,8,["modelValue","collection","disabled"])])],64)):R("",!0),e.localType==="m2m"?(m(),I("div",o3,[C("div",a3,[D(b(e.t("related_collection"))+" ",1),ne(a(o,{class:"required-mark",sup:"",name:"star"},null,512),[[f,e.t("required")]])]),a(i,{modelValue:e.relatedCollectionM2O,"onUpdate:modelValue":t[3]||(t[3]=v=>e.relatedCollectionM2O=v)},null,8,["modelValue"])])):R("",!0),e.localType==="translations"?(m(),I("div",i3,[C("div",s3,[D(b(e.t("languages_collection"))+" ",1),ne(a(o,{class:"required-mark",sup:"",name:"star"},null,512),[[f,e.t("required")]])]),a(i,{modelValue:e.relatedCollectionM2O,"onUpdate:modelValue":t[4]||(t[4]=v=>e.relatedCollectionM2O=v)},null,8,["modelValue"])])):R("",!0),e.localType==="m2a"?(m(),I("div",r3,[C("div",d3,[D(b(e.t("related_collections"))+" ",1),ne(a(o,{class:"required-mark",sup:"",name:"star"},null,512),[[f,e.t("required")]])]),a(p,{modelValue:e.oneAllowedCollections,"onUpdate:modelValue":t[5]||(t[5]=v=>e.oneAllowedCollections=v),placeholder:e.t("collection")+"...",items:e.availableCollections,"item-value":"collection","item-text":"name","item-disabled":"meta.singleton",multiple:"","multiple-preview-threshold":0},null,8,["modelValue","placeholder","items"])])):R("",!0)])}var c3=N(XF,[["render",u3],["__scopeId","data-v-63e0c3f4"]]);const p3=z({components:{ExtensionOptions:bo,RelationshipConfiguration:c3},props:{row:{type:Number,default:null},chosenInterface:{type:String,required:!0}},emits:["save","toggleAdvanced"],setup(e){const t=vt(),{readyToSave:l,saving:n,localType:s,collection:u}=$t(t),{t:o}=te(),{interfaces:i}=Ct(),d=V(()=>i.value.find(w=>w.id===e.chosenInterface)),p=V(()=>d.value?d.value.types.map(w=>({text:o(w),value:w})):[]),f=Ee("field.field"),v=Ee("field.type"),y=Ee("field.schema.default_value"),_=Ee("field.meta.required",!1),g=Ee("field.meta.note");return{key:f,t:o,type:v,typeOptions:p,defaultValue:y,required:_,note:g,readyToSave:l,saving:n,localType:s,collection:u}}}),m3={class:"setup"},f3={class:"schema"},v3={class:"field half-left"},_3={class:"label type-label"},y3={class:"field half-right"},g3={class:"label type-label"},h3={class:"field half-left"},b3={class:"label type-label"},$3={class:"field half-right"},w3={class:"label type-label"};function k3(e,t,l,n,s,u){const o=c("v-icon"),i=c("v-input"),d=c("v-select"),p=c("v-checkbox"),f=c("relationship-configuration"),v=c("v-divider"),y=c("extension-options"),_=c("v-button"),g=we("tooltip");return m(),I("div",{class:"field-configuration",style:ze({"grid-row":e.row})},[C("div",m3,[C("div",f3,[C("div",v3,[C("div",_3,[D(b(e.t("key"))+" ",1),ne(a(o,{class:"required-mark",sup:"",name:"star"},null,512),[[g,e.t("required")]])]),a(i,{modelValue:e.key,"onUpdate:modelValue":t[0]||(t[0]=w=>e.key=w),autofocus:"",class:"monospace","db-safe":"",placeholder:e.t("a_unique_column_name")},null,8,["modelValue","placeholder"])]),C("div",y3,[C("div",g3,b(e.t("type")),1),a(d,{modelValue:e.type,"onUpdate:modelValue":t[1]||(t[1]=w=>e.type=w),items:e.typeOptions,disabled:e.typeOptions.length===1},null,8,["modelValue","items","disabled"])]),C("div",h3,[C("div",b3,b(e.t("default_value")),1),e.type==="boolean"?(m(),S(p,{key:0,modelValue:e.defaultValue,"onUpdate:modelValue":t[2]||(t[2]=w=>e.defaultValue=w),block:"",label:e.t("enabled")},null,8,["modelValue","label"])):(m(),S(i,{key:1,modelValue:e.defaultValue,"onUpdate:modelValue":t[3]||(t[3]=w=>e.defaultValue=w),class:"monospace",placeholder:"NULL"},null,8,["modelValue"]))]),C("div",$3,[C("div",w3,b(e.t("required")),1),a(p,{modelValue:e.required,"onUpdate:modelValue":t[4]||(t[4]=w=>e.required=w),block:"",label:e.t("require_value_to_be_set")},null,8,["modelValue","label"])])]),a(f,{"local-type":e.localType},null,8,["local-type"]),a(v,{inline:""}),a(y,{type:"interface",extension:e.chosenInterface},null,8,["extension"]),a(_,{class:"save","full-width":"",disabled:!e.readyToSave,loading:e.saving,onClick:t[5]||(t[5]=w=>e.$emit("save"))},{default:r(()=>[D(b(e.t("save")),1)]),_:1},8,["disabled","loading"]),C("button",{class:"toggle-advanced",onClick:t[6]||(t[6]=w=>e.$emit("toggleAdvanced"))},b(e.t("continue_in_advanced_field_creation_mode")),1)])],4)}var C3=N(p3,[["render",k3],["__scopeId","data-v-bc096a84"]]);const S3=z({components:{FieldConfiguration:C3},props:{collection:{type:Object,required:!0}},emits:["save","toggleAdvanced"],setup(e){const{collection:t}=Ue(e),{t:l}=te(),n=vt();ye(t,()=>n.update({collection:t.value.collection}),{immediate:!0});const{interfaces:s}=Ct(),u=V(()=>M.exports.orderBy(s.value.filter(v=>!v.system),["order"])),o=V(()=>[{key:"standard",name:l("interface_group_text_and_numbers"),interfaces:u.value.filter(v=>v.group==="standard")},{key:"selection",name:l("interface_group_selection"),interfaces:u.value.filter(v=>v.group==="selection")},{key:"relational",name:l("interface_group_relational"),interfaces:u.value.filter(v=>v.group==="relational")},{key:"presentation",name:l("interface_group_presentation"),interfaces:u.value.filter(v=>v.group==="presentation")},{key:"group",name:l("interface_group_groups"),interfaces:u.value.filter(v=>v.group==="group")},{key:"other",name:l("interface_group_other"),interfaces:u.value.filter(v=>v.group==="other")}]),i=Ee("field.meta.interface"),d=V(()=>{if(!i.value)return null;let v=null;if(o.value.forEach(g=>{const w=g.interfaces.findIndex(h=>h.id===i.value);w!==-1&&(v=w)}),v===null)return null;const y=window.innerWidth;let _=1;return y>400&&(_=2),y>600&&(_=3),y>840&&(_=4),Math.ceil((v+1)/_)+1});return{t:l,interfaces:s,groups:o,isSVG:p,syncRefProperty:_t,chosenInterface:i,configRow:d,toggleInterface:f};function p(v){return v.startsWith("<svg")}function f(v){i.value===v?i.value=null:i.value=v}}}),V3={class:"content"},F3={class:"grid"},A3=["onClick"],I3={class:"preview"},E3=["innerHTML"],D3=["src"],T3={key:1,class:"fallback"};function P3(e,t,l,n,s,u){const o=c("v-icon"),i=c("v-text-overflow"),d=c("field-configuration"),p=c("transition-expand");return m(),I("div",V3,[(m(!0),I(ae,null,be(e.groups,f=>(m(),I("div",{key:f.key,class:"group"},[C("h2",null,b(f.name),1),C("div",F3,[(m(!0),I(ae,null,be(f.interfaces,v=>(m(),I("button",{key:v.id,class:ue(["interface",{active:e.chosenInterface===v.id,gray:e.chosenInterface&&e.chosenInterface!==v.id}]),onClick:y=>e.toggleInterface(v.id)},[C("div",I3,[v.preview?(m(),I(ae,{key:0},[e.isSVG(v.preview)?(m(),I("span",{key:0,innerHTML:v.preview},null,8,E3)):(m(),I("img",{key:1,src:v.preview,alt:""},null,8,D3))],64)):(m(),I("span",T3,[a(o,{large:"",name:v.icon},null,8,["name"])]))]),a(i,{text:v.name,class:"name"},null,8,["text"])],10,A3))),128)),a(p,null,{default:r(()=>[e.chosenInterface&&!!f.interfaces.some(v=>v.id===e.chosenInterface)?(m(),S(d,{key:0,row:e.configRow,"chosen-interface":e.chosenInterface,onSave:t[0]||(t[0]=v=>e.$emit("save")),onToggleAdvanced:t[1]||(t[1]=v=>e.$emit("toggleAdvanced"))},null,8,["row","chosen-interface"])):R("",!0)]),_:2},1024)])]))),128))])}var L3=N(S3,[["render",P3],["__scopeId","data-v-1e82db9f"]]);const O3=[{text:"$t:string",value:"string"},{text:"$t:text",value:"text"},{divider:!0},{text:"$t:boolean",value:"boolean"},{divider:!0},{text:"$t:integer",value:"integer"},{text:"$t:bigInteger",value:"bigInteger"},{text:"$t:float",value:"float"},{text:"$t:decimal",value:"decimal"},{divider:!0},{text:"$t:geometry",value:"geometry"},{divider:!0},{text:"$t:timestamp",value:"timestamp"},{text:"$t:datetime",value:"dateTime"},{text:"$t:date",value:"date"},{text:"$t:time",value:"time"},{divider:!0},{text:"$t:json",value:"json"},{text:"$t:csv",value:"csv"},{text:"$t:uuid",value:"uuid"},{text:"$t:hash",value:"hash"}],j3=z({setup(){const e=vt(),{localType:t,relations:l,editing:n}=$t(e),s=V(()=>n.value!=="+"),u=Ee("field.type"),o=Ee("field.schema.default_value"),i=Ee("field.field"),d=Ee("field.meta.special"),p=Ee("field.schema.geometry_type"),f=Ee("field.schema.max_length"),v=Ee("field.schema.numeric_precision"),y=Ee("field.schema.is_nullable"),_=Ee("field.schema.unique"),g=Ee("field.schema.numeric_scale"),{t:w}=te(),h=V(()=>Ft(O3)),k=V(()=>["file","files","o2m","m2m","m2a","m2o","translations"].includes(t.value)),F=V(()=>t.value==="m2o"?w("determined_by_relationship"):w("choose_a_type")),{onCreateOptions:A,onCreateValue:P}=K(),{onUpdateOptions:L,onUpdateValue:O}=H(),U=V(()=>["uuid","date","time","dateTime","timestamp"].includes(u.value)&&t.value!=="file"),T=V(()=>!e.field.schema),B=V(()=>{var Y;return((Y=e.field.schema)==null?void 0:Y.is_primary_key)===!0}),q=V(()=>{var Y;return(Y=e.field.schema)==null?void 0:Y.is_generated});return{t:w,typesWithLabels:h,GEOMETRY_TYPES:ma,typeDisabled:k,typePlaceholder:F,defaultValue:o,onCreateOptions:A,onCreateValue:P,onUpdateOptions:L,onUpdateValue:O,hasCreateUpdateTriggers:U,field:i,isAlias:T,type:u,geometryType:p,maxLength:f,numericPrecision:v,numericScale:g,special:d,nullable:y,unique:_,isPrimaryKey:B,isExisting:s,isGenerated:q};function K(){const Y=["uuid","user-created","role-created","date-created"],J=V(()=>{var fe,X;if(u.value==="uuid"){const x=[{text:w("do_nothing"),value:null},{text:w("generate_and_save_uuid"),value:"uuid"},{text:w("save_current_user_id"),value:"user-created"},{text:w("save_current_user_role"),value:"role-created"}];return t.value==="m2o"&&((fe=l.value.m2o)==null?void 0:fe.related_collection)==="directus_users"?x.filter(({value:ee})=>[null,"user-created"].includes(ee)):t.value==="m2o"&&((X=l.value.m2o)==null?void 0:X.related_collection)==="directus_roles"?x.filter(({value:ee})=>[null,"role-created"].includes(ee)):x}else if(["date","time","dateTime","timestamp"].includes(u.value))return[{text:w("do_nothing"),value:null},{text:w("save_current_datetime"),value:"date-created"}];return[]}),re=V({get(){var X;const fe=(X=d.value)!=null?X:[];for(const x of Y)if(fe.includes(x))return x;return null},set(fe){var X,x;d.value=((X=d.value)!=null?X:[]).filter(ee=>Y.includes(ee)===!1),fe&&(d.value=[...(x=d.value)!=null?x:[],fe])}});return{onCreateSpecials:Y,onCreateOptions:J,onCreateValue:re}}function H(){const Y=["user-updated","role-updated","date-updated"],J=V(()=>{var fe,X;if(u.value==="uuid"){const x=[{text:w("do_nothing"),value:null},{text:w("save_current_user_id"),value:"user-updated"},{text:w("save_current_user_role"),value:"role-updated"}];return t.value==="m2o"&&((fe=l.value.m2o)==null?void 0:fe.related_collection)==="directus_users"?x.filter(({value:ee})=>[null,"user-updated"].includes(ee)):t.value==="m2o"&&((X=l.value.m2o)==null?void 0:X.related_collection)==="directus_roles"?x.filter(({value:ee})=>[null,"role-updated"].includes(ee)):x}else if(["date","time","dateTime","timestamp"].includes(u.value))return[{text:w("do_nothing"),value:null},{text:w("save_current_datetime"),value:"date-updated"}];return[]}),re=V({get(){var X;const fe=(X=d.value)!=null?X:[];for(const x of Y)if(fe.includes(x))return x;return null},set(fe){var X,x;d.value=((X=d.value)!=null?X:[]).filter(ee=>Y.includes(ee)===!1),fe&&(d.value=[...(x=d.value)!=null?x:[],fe])}});return{onUpdateSpecials:Y,onUpdateOptions:J,onUpdateValue:re}}}}),R3={class:"form"},M3={class:"field"},U3={class:"label type-label"},N3={class:"note"},B3={class:"field half"},q3={class:"label type-label"},z3={key:0,class:"field half-right"},K3={class:"label type-label"},H3={key:0,class:"field half"},W3={class:"label type-label"},G3={key:0,class:"field half"},J3={class:"label type-label"},Q3={class:"precision-scale"},X3={class:"field half-left"},Z3={class:"label type-label"},Y3={class:"field half-right"},x3={class:"label type-label"},eA={key:4,class:"field full"},tA={class:"label type-label"},nA={key:5,class:"field half-left"},lA={class:"label type-label"},oA={key:6,class:"field half-right"},aA={class:"label type-label"};function iA(e,t,l,n,s,u){const o=c("v-icon"),i=c("v-input"),d=c("v-select"),p=c("v-textarea"),f=c("interface-input-code"),v=c("v-checkbox");return m(),I("div",null,[C("div",R3,[C("div",M3,[C("div",U3,[D(b(e.t("key"))+" ",1),a(o,{class:"required",sup:"",name:"star"})]),a(i,{modelValue:e.field,"onUpdate:modelValue":t[0]||(t[0]=y=>e.field=y),disabled:e.isExisting,autofocus:"",class:"monospace",nullable:!1,"db-safe":"",placeholder:e.t("a_unique_column_name")},null,8,["modelValue","disabled","placeholder"]),C("small",N3,b(e.t("schema_setup_key")),1)]),C("div",B3,[C("div",q3,[D(b(e.t("type"))+" ",1),a(o,{class:"required",sup:"",name:"star"})]),e.isAlias?(m(),S(i,{key:0,"model-value":e.t("alias"),disabled:""},null,8,["model-value"])):(m(),S(d,{key:1,modelValue:e.type,"onUpdate:modelValue":t[1]||(t[1]=y=>e.type=y),disabled:e.typeDisabled||e.isExisting,items:e.typesWithLabels,placeholder:e.typePlaceholder},null,8,["modelValue","disabled","items","placeholder"]))]),e.type=="geometry"?(m(),I(ae,{key:0},[e.isAlias?R("",!0):(m(),I("div",z3,[C("div",K3,b(e.t("interfaces.map.geometry_type")),1),a(d,{modelValue:e.geometryType,"onUpdate:modelValue":t[2]||(t[2]=y=>e.geometryType=y),"show-deselect":!0,placeholder:e.t("any"),disabled:e.isExisting,items:e.GEOMETRY_TYPES.map(y=>({value:y,text:y}))},null,8,["modelValue","placeholder","disabled","items"])]))],64)):["decimal","float"].includes(e.type)===!1?(m(),I(ae,{key:1},[e.isAlias?R("",!0):(m(),I("div",H3,[C("div",W3,b(e.t("length")),1),a(i,{modelValue:e.maxLength,"onUpdate:modelValue":t[3]||(t[3]=y=>e.maxLength=y),type:"number",placeholder:e.type!=="string"?e.t("not_available_for_type"):"255",disabled:e.isExisting||e.type!=="string"},null,8,["modelValue","placeholder","disabled"])]))],64)):(m(),I(ae,{key:2},[e.isAlias?R("",!0):(m(),I("div",G3,[C("div",J3,b(e.t("precision_scale")),1),C("div",Q3,[a(i,{modelValue:e.numericPrecision,"onUpdate:modelValue":t[4]||(t[4]=y=>e.numericPrecision=y),type:"number",placeholder:10},null,8,["modelValue"]),a(i,{modelValue:e.numericScale,"onUpdate:modelValue":t[5]||(t[5]=y=>e.numericScale=y),type:"number",placeholder:5},null,8,["modelValue"])])]))],64)),e.hasCreateUpdateTriggers?(m(),I(ae,{key:3},[C("div",X3,[C("div",Z3,b(e.t("on_create")),1),a(d,{modelValue:e.onCreateValue,"onUpdate:modelValue":t[6]||(t[6]=y=>e.onCreateValue=y),items:e.onCreateOptions},null,8,["modelValue","items"])]),C("div",Y3,[C("div",x3,b(e.t("on_update")),1),a(d,{modelValue:e.onUpdateValue,"onUpdate:modelValue":t[7]||(t[7]=y=>e.onUpdateValue=y),items:e.onUpdateOptions},null,8,["modelValue","items"])])],64)):R("",!0),!e.isAlias&&!e.isPrimaryKey&&!e.isGenerated?(m(),I("div",eA,[C("div",tA,b(e.t("default_value")),1),["string","uuid"].includes(e.type)?(m(),S(i,{key:0,modelValue:e.defaultValue,"onUpdate:modelValue":t[8]||(t[8]=y=>e.defaultValue=y),class:"monospace",placeholder:"NULL"},null,8,["modelValue"])):["text"].includes(e.type)?(m(),S(p,{key:1,modelValue:e.defaultValue,"onUpdate:modelValue":t[9]||(t[9]=y=>e.defaultValue=y),class:"monospace",placeholder:"NULL"},null,8,["modelValue"])):["integer","bigInteger","float","decimal"].includes(e.type)?(m(),S(i,{key:2,modelValue:e.defaultValue,"onUpdate:modelValue":t[10]||(t[10]=y=>e.defaultValue=y),type:"number",class:"monospace",placeholder:"NULL"},null,8,["modelValue"])):["timestamp","dateTime","date","time"].includes(e.type)?(m(),S(i,{key:3,modelValue:e.defaultValue,"onUpdate:modelValue":t[11]||(t[11]=y=>e.defaultValue=y),class:"monospace",placeholder:"NULL"},null,8,["modelValue"])):e.type==="boolean"?(m(),S(d,{key:4,modelValue:e.defaultValue,"onUpdate:modelValue":t[12]||(t[12]=y=>e.defaultValue=y),class:"monospace",items:[{text:"true",value:!0},{text:"false",value:!1},{text:"NULL",value:null}]},null,8,["modelValue"])):e.type==="json"?(m(),S(f,{key:5,value:e.defaultValue||"",language:"JSON",placeholder:"NULL",type:"json",onInput:t[13]||(t[13]=y=>e.defaultValue=y)},null,8,["value"])):(m(),S(i,{key:6,modelValue:e.defaultValue,"onUpdate:modelValue":t[14]||(t[14]=y=>e.defaultValue=y),class:"monospace",disabled:"",placeholder:"NULL"},null,8,["modelValue"]))])):R("",!0),e.isAlias?R("",!0):(m(),I("div",nA,[C("div",lA,b(e.t("nullable")),1),a(v,{modelValue:e.nullable,"onUpdate:modelValue":t[15]||(t[15]=y=>e.nullable=y),disabled:!e.isGenerated,label:e.t("allow_null_value"),block:""},null,8,["modelValue","disabled","label"])])),e.isAlias?R("",!0):(m(),I("div",oA,[C("div",aA,b(e.t("unique")),1),a(v,{modelValue:e.unique,"onUpdate:modelValue":t[16]||(t[16]=y=>e.unique=y),disabled:!e.isGenerated,label:e.t("value_unique"),block:""},null,8,["modelValue","disabled","label"])]))])])}var sA=N(j3,[["render",iA],["__scopeId","data-v-33142701"]]);const rA=z({components:{RelatedCollectionSelect:An},setup(){const{t:e}=te(),t=vt(),l=Te(),n=Ee("relations.m2o.related_collection"),s=Ee("fields.corresponding"),u=Ee("relations.m2o.schema.on_delete"),{field:o,collection:i,editing:d,generationInfo:p}=$t(t),f=V(()=>d.value!=="+"),v=V(()=>{var h,k;return(k=(h=l.getPrimaryKeyFieldForCollection(n.value))==null?void 0:h.field)!=null?k:"id"}),y=V(()=>o.value.field),_=V({get(){return!!s.value},set(h){h?s.value={field:i.value,collection:n.value,type:"alias",meta:{special:["o2m"],interface:"list-o2m"}}:s.value=null}}),g=V(()=>n.value?e("add_o2m_to_collection",{collection:n.value}):e("add_field_related")),w=V({get(){var h;return(h=s.value)==null?void 0:h.field},set(h){_.value||(_.value=!0),s.value.field=h}});return{t:e,collection:i,relatedCollection:n,isExisting:f,relatedPrimaryKey:v,currentField:y,hasCorresponding:_,correspondingLabel:g,correspondingFieldKey:w,generationInfo:p,onDeleteRelated:u}}}),dA={class:"grid"},uA={class:"field"},cA={class:"type-label"},pA={class:"field"},mA={class:"type-label"},fA={key:1,class:"grid"},vA={class:"field"},_A={class:"type-label"},yA={class:"field"},gA={class:"type-label"},hA={class:"relational-triggers"},bA={class:"field"},$A={class:"type-label"},wA={class:"field-name"};function kA(e,t,l,n,s,u){const o=c("v-input"),i=c("related-collection-select"),d=c("v-icon"),p=c("v-divider"),f=c("v-checkbox"),v=c("v-select"),y=c("v-notice");return m(),I("div",null,[C("div",dA,[C("div",uA,[C("div",cA,b(e.t("this_collection")),1),a(o,{disabled:"","model-value":e.collection},null,8,["model-value"])]),C("div",pA,[C("div",mA,b(e.t("related_collection")),1),a(i,{modelValue:e.relatedCollection,"onUpdate:modelValue":t[0]||(t[0]=_=>e.relatedCollection=_),disabled:e.isExisting},null,8,["modelValue","disabled"])]),a(o,{disabled:"","model-value":e.currentField},null,8,["model-value"]),a(o,{"model-value":e.relatedPrimaryKey,disabled:"",placeholder:e.t("primary_key")+"..."},null,8,["model-value","placeholder"]),a(d,{class:"arrow",name:"arrow_back"})]),e.isExisting?R("",!0):(m(),S(p,{key:0,large:"","inline-title":!1},{default:r(()=>[D(b(e.t("corresponding_field")),1)]),_:1})),e.isExisting?R("",!0):(m(),I("div",fA,[C("div",vA,[C("div",_A,b(e.t("create_field")),1),a(f,{modelValue:e.hasCorresponding,"onUpdate:modelValue":t[1]||(t[1]=_=>e.hasCorresponding=_),block:"",label:e.correspondingLabel},null,8,["modelValue","label"])]),C("div",yA,[C("div",gA,b(e.t("field_name")),1),a(o,{modelValue:e.correspondingFieldKey,"onUpdate:modelValue":t[2]||(t[2]=_=>e.correspondingFieldKey=_),disabled:e.hasCorresponding===!1,placeholder:e.t("field_name")+"...","db-safe":""},null,8,["modelValue","disabled","placeholder"])]),a(d,{name:"arrow_forward",class:"arrow"})])),C("div",hA,[a(p,{class:"field full",large:"","inline-title":!1},{default:r(()=>[D(b(e.t("relational_triggers")),1)]),_:1}),C("div",bA,[C("div",$A,b(e.t("referential_action_field_label_m2o",{collection:e.relatedCollection||"related"})),1),a(v,{modelValue:e.onDeleteRelated,"onUpdate:modelValue":t[3]||(t[3]=_=>e.onDeleteRelated=_),disabled:e.collection===e.relatedCollection,placeholder:e.t("choose_action")+"...",items:[{text:e.t("referential_action_set_null",{field:e.currentField}),value:"SET NULL"},{text:e.t("referential_action_set_default",{field:e.currentField}),value:"SET DEFAULT"},{text:e.t("referential_action_cascade",{collection:e.collection,field:e.currentField}),value:"CASCADE"},{text:e.t("referential_action_no_action",{field:e.currentField}),value:"NO ACTION"}]},null,8,["modelValue","disabled","placeholder","items"])])]),e.generationInfo.length>0?(m(),S(y,{key:2,class:"generated-data",type:"warning"},{default:r(()=>[C("span",null,[D(b(e.t("new_data_alert"))+" ",1),C("ul",null,[(m(!0),I(ae,null,be(e.generationInfo,(_,g)=>(m(),I("li",{key:g},[C("span",wA,b(_.name),1)]))),128))])])]),_:1})):R("",!0)])}var CA=N(rA,[["render",kA],["__scopeId","data-v-2ad632af"]]);const SA=z({components:{RelatedCollectionSelect:An,RelatedFieldSelect:el},setup(){const{t:e}=te(),t=vt(),l=Te(),n=Ee("relations.o2m.collection"),s=Ee("relations.o2m.field"),u=Ee("relations.o2m.meta.sort_field"),o=Ee("relations.o2m.schema.on_delete"),i=Ee("relations.o2m.meta.one_deselect_action"),{collection:d,editing:p,generationInfo:f}=$t(t),v=V(()=>p.value!=="+"),y=V(()=>{var _;return(_=l.getPrimaryKeyFieldForCollection(d.value))==null?void 0:_.field});return{t:e,isExisting:v,collection:d,relatedCollection:n,currentPrimaryKey:y,relatedField:s,generationInfo:f,sortField:u,onDelete:o,onDeselect:i}}}),VA={class:"grid"},FA={class:"field"},AA={class:"type-label"},IA={class:"field"},EA={class:"type-label"},DA={class:"sort-field"},TA={class:"relational-triggers"},PA={class:"field"},LA={class:"type-label"},OA={class:"field"},jA={class:"type-label"},RA={class:"field-name"};function MA(e,t,l,n,s,u){const o=c("v-input"),i=c("related-collection-select"),d=c("related-field-select"),p=c("v-icon"),f=c("v-divider"),v=c("v-select"),y=c("v-notice");return m(),I("div",null,[C("div",VA,[C("div",FA,[C("div",AA,b(e.t("this_collection")),1),a(o,{disabled:"","model-value":e.collection},null,8,["model-value"])]),C("div",IA,[C("div",EA,b(e.t("related_collection")),1),a(i,{modelValue:e.relatedCollection,"onUpdate:modelValue":t[0]||(t[0]=_=>e.relatedCollection=_),disabled:e.isExisting},null,8,["modelValue","disabled"])]),a(o,{disabled:"","model-value":e.currentPrimaryKey},null,8,["model-value"]),a(d,{modelValue:e.relatedField,"onUpdate:modelValue":t[1]||(t[1]=_=>e.relatedField=_),collection:e.relatedCollection},null,8,["modelValue","collection"]),a(p,{class:"arrow",name:"arrow_forward"})]),C("div",DA,[a(f,{large:"","inline-title":!1},{default:r(()=>[D(b(e.t("sort_field")),1)]),_:1}),a(d,{modelValue:e.sortField,"onUpdate:modelValue":t[2]||(t[2]=_=>e.sortField=_),collection:e.relatedCollection,placeholder:e.t("add_sort_field")+"..."},null,8,["modelValue","collection","placeholder"])]),C("div",TA,[a(f,{class:"field full",large:"","inline-title":!1},{default:r(()=>[D(b(e.t("relational_triggers")),1)]),_:1}),C("div",PA,[C("div",LA,b(e.t("referential_action_field_label_o2m",{collection:e.relatedCollection||"related"})),1),a(v,{modelValue:e.onDeselect,"onUpdate:modelValue":t[3]||(t[3]=_=>e.onDeselect=_),placeholder:e.t("choose_action")+"...",items:[{text:e.t("referential_action_set_null",{field:e.relatedField}),value:"nullify"},{text:e.t("referential_action_cascade",{collection:e.relatedCollection,field:e.relatedField}),value:"delete"}]},null,8,["modelValue","placeholder","items"])]),C("div",OA,[C("div",jA,b(e.t("referential_action_field_label_m2o",{collection:e.collection||"related"})),1),a(v,{modelValue:e.onDelete,"onUpdate:modelValue":t[4]||(t[4]=_=>e.onDelete=_),disabled:e.collection===e.relatedCollection,placeholder:e.t("choose_action")+"...",items:[{text:e.t("referential_action_set_null",{field:e.relatedField}),value:"SET NULL"},{text:e.t("referential_action_set_default",{field:e.relatedField}),value:"SET DEFAULT"},{text:e.t("referential_action_cascade",{collection:e.collection,field:e.relatedField}),value:"CASCADE"},{text:e.t("referential_action_no_action"),value:"NO ACTION"}]},null,8,["modelValue","disabled","placeholder","items"])])]),e.generationInfo.length>0?(m(),S(y,{key:0,class:"generated-data",type:"warning"},{default:r(()=>[C("span",null,[D(b(e.t("new_data_alert"))+" ",1),C("ul",null,[(m(!0),I(ae,null,be(e.generationInfo,(_,g)=>(m(),I("li",{key:g},[C("span",RA,b(_.name),1)]))),128))])])]),_:1})):R("",!0)])}var UA=N(SA,[["render",MA],["__scopeId","data-v-ddf8fb5c"]]);const NA=z({components:{RelatedCollectionSelect:An,RelatedFieldSelect:el},setup(){const{t:e}=te(),t=vt(),l=Te(),{field:n,collection:s,editing:u,generationInfo:o}=$t(t),i=Ee("relations.o2m.meta.sort_field"),d=Ee("relations.o2m.collection"),p=Ee("relations.o2m.field"),f=Ee("relations.m2o.field"),v=Ee("relations.m2o.related_collection"),y=Ee("autoGenerateJunctionRelation"),_=Ee("relations.o2m.schema.on_delete"),g=Ee("relations.m2o.schema.on_delete"),w=Ee("relations.o2m.meta.one_deselect_action"),h=Ee("fields.corresponding"),k=V(()=>n.value.type),F=V(()=>u.value!=="+"),A=V(()=>{var T;return(T=l.getPrimaryKeyFieldForCollection(s.value))==null?void 0:T.field}),P=V(()=>{var T,B;return(B=(T=l.getPrimaryKeyFieldForCollection(v.value))==null?void 0:T.field)!=null?B:"id"}),L=V({get(){return!!h.value},set(T){T?h.value={field:s.value,collection:v.value,type:"alias",meta:{special:["m2m"],interface:"list-m2m"}}:h.value=null}}),O=V(()=>d.value?e("add_m2m_to_collection",{collection:v.value}):e("add_field_related")),U=V({get(){var T;return(T=h.value)==null?void 0:T.field},set(T){L.value||(L.value=!0),h.value.field=T}});return{t:e,autoGenerateJunctionRelation:y,collection:s,type:k,isExisting:F,junctionCollection:d,junctionFieldCurrent:p,relatedCollection:v,sortField:i,currentPrimaryKey:A,junctionFieldRelated:f,relatedPrimaryKey:P,onDeleteCurrent:_,onDeleteRelated:g,deselectAction:w,hasCorresponding:L,correspondingLabel:O,correspondingFieldKey:U,generationInfo:o}}}),$o=e=>(We("data-v-084985d0"),e=e(),Ge(),e),BA={class:"grid"},qA={class:"field"},zA={class:"type-label"},KA={class:"field"},HA={class:"type-label"},WA={class:"field"},GA={class:"type-label"},JA=$o(()=>C("div",{class:"spacer"},null,-1)),QA=$o(()=>C("div",{class:"spacer"},null,-1)),XA=$o(()=>C("div",{class:"spacer"},null,-1)),ZA={key:1,class:"corresponding"},YA={class:"field"},xA={class:"type-label"},eI={class:"field"},tI={class:"type-label"},nI={class:"sort-field"},lI={class:"relational-triggers"},oI={class:"field"},aI={class:"type-label"},iI={class:"field"},sI={class:"type-label"},rI={class:"field"},dI={class:"type-label"},uI={class:"field-name"};function cI(e,t,l,n,s,u){const o=c("v-input"),i=c("related-collection-select"),d=c("related-field-select"),p=c("v-checkbox"),f=c("v-icon"),v=c("v-divider"),y=c("v-select"),_=c("v-notice");return m(),I("div",null,[C("div",BA,[C("div",qA,[C("div",zA,b(e.t("this_collection")),1),a(o,{disabled:"","model-value":e.collection},null,8,["model-value"])]),C("div",KA,[C("div",HA,b(e.t("junction_collection")),1),a(i,{modelValue:e.junctionCollection,"onUpdate:modelValue":t[0]||(t[0]=g=>e.junctionCollection=g),disabled:e.autoGenerateJunctionRelation||e.isExisting},null,8,["modelValue","disabled"])]),C("div",WA,[C("div",GA,b(e.t("related_collection")),1),a(i,{modelValue:e.relatedCollection,"onUpdate:modelValue":t[1]||(t[1]=g=>e.relatedCollection=g),disabled:e.type==="files"||e.isExisting},null,8,["modelValue","disabled"])]),a(o,{disabled:"","model-value":e.currentPrimaryKey},null,8,["model-value"]),a(d,{modelValue:e.junctionFieldCurrent,"onUpdate:modelValue":t[2]||(t[2]=g=>e.junctionFieldCurrent=g),collection:e.junctionCollection,disabled:e.autoGenerateJunctionRelation||e.isExisting},null,8,["modelValue","collection","disabled"]),JA,QA,a(d,{modelValue:e.junctionFieldRelated,"onUpdate:modelValue":t[3]||(t[3]=g=>e.junctionFieldRelated=g),collection:e.junctionCollection,disabled:e.autoGenerateJunctionRelation||e.isExisting},null,8,["modelValue","collection","disabled"]),a(o,{modelValue:e.relatedPrimaryKey,"onUpdate:modelValue":t[4]||(t[4]=g=>e.relatedPrimaryKey=g),disabled:"",placeholder:e.t("primary_key")+"..."},null,8,["modelValue","placeholder"]),XA,e.isExisting?R("",!0):(m(),S(p,{key:0,modelValue:e.autoGenerateJunctionRelation,"onUpdate:modelValue":t[5]||(t[5]=g=>e.autoGenerateJunctionRelation=g),block:"",label:e.t("auto_fill")},null,8,["modelValue","label"])),a(f,{class:"arrow",name:"arrow_forward"}),a(f,{class:"arrow",name:"arrow_backward"})]),e.isExisting?R("",!0):(m(),S(v,{key:0,large:"","inline-title":!1},{default:r(()=>[D(b(e.t("corresponding_field")),1)]),_:1})),e.isExisting?R("",!0):(m(),I("div",ZA,[C("div",YA,[C("div",xA,b(e.t("create_field")),1),a(p,{modelValue:e.hasCorresponding,"onUpdate:modelValue":t[6]||(t[6]=g=>e.hasCorresponding=g),block:"",label:e.correspondingLabel},null,8,["modelValue","label"])]),C("div",eI,[C("div",tI,b(e.t("field_name")),1),a(o,{modelValue:e.correspondingFieldKey,"onUpdate:modelValue":t[7]||(t[7]=g=>e.correspondingFieldKey=g),disabled:e.hasCorresponding===!1,placeholder:e.t("field_name")+"...","db-safe":""},null,8,["modelValue","disabled","placeholder"])]),a(f,{name:"arrow_forward",class:"arrow"})])),C("div",nI,[a(v,{large:"","inline-title":!1},{default:r(()=>[D(b(e.t("sort_field")),1)]),_:1}),a(d,{modelValue:e.sortField,"onUpdate:modelValue":t[8]||(t[8]=g=>e.sortField=g),collection:e.junctionCollection,placeholder:e.t("add_sort_field")+"..."},null,8,["modelValue","collection","placeholder"])]),C("div",lI,[a(v,{class:"field full",large:"","inline-title":!1},{default:r(()=>[D(b(e.t("relational_triggers")),1)]),_:1}),C("div",oI,[C("div",aI,b(e.t("referential_action_field_label_o2m",{collection:e.junctionCollection||""})),1),a(y,{modelValue:e.deselectAction,"onUpdate:modelValue":t[9]||(t[9]=g=>e.deselectAction=g),placeholder:e.t("choose_action")+"...",items:[{text:e.t("referential_action_set_null",{collection:e.junctionCollection,field:e.junctionFieldCurrent}),value:"nullify"},{text:e.t("referential_action_cascade",{collection:e.junctionCollection,field:e.junctionFieldCurrent}),value:"delete"}]},null,8,["modelValue","placeholder","items"])]),C("div",iI,[C("div",sI,b(e.t("referential_action_field_label_m2o",{collection:e.collection||"related"})),1),a(y,{modelValue:e.onDeleteCurrent,"onUpdate:modelValue":t[10]||(t[10]=g=>e.onDeleteCurrent=g),disabled:e.junctionCollection===e.collection,placeholder:e.t("choose_action")+"...",items:[{text:e.t("referential_action_set_null",{field:e.junctionFieldCurrent}),value:"SET NULL"},{text:e.t("referential_action_set_default",{field:e.junctionFieldCurrent}),value:"SET DEFAULT"},{text:e.t("referential_action_cascade",{collection:e.junctionCollection,field:e.junctionFieldCurrent}),value:"CASCADE"},{text:e.t("referential_action_no_action"),value:"NO ACTION"}]},null,8,["modelValue","disabled","placeholder","items"])]),C("div",rI,[C("div",dI,b(e.t("referential_action_field_label_m2o",{collection:e.relatedCollection||"related"})),1),a(y,{modelValue:e.onDeleteRelated,"onUpdate:modelValue":t[11]||(t[11]=g=>e.onDeleteRelated=g),disabled:e.junctionCollection===e.relatedCollection,placeholder:e.t("choose_action")+"...",items:[{text:e.t("referential_action_set_null",{field:e.junctionFieldRelated}),value:"SET NULL"},{text:e.t("referential_action_set_default",{field:e.junctionFieldRelated}),value:"SET DEFAULT"},{text:e.t("referential_action_cascade",{collection:e.junctionCollection,field:e.junctionFieldRelated}),value:"CASCADE"},{text:e.t("referential_action_no_action"),value:"NO ACTION"}]},null,8,["modelValue","disabled","placeholder","items"])])]),e.generationInfo.length>0?(m(),S(_,{key:2,class:"generated-data",type:"warning"},{default:r(()=>[C("span",null,[D(b(e.t("new_data_alert"))+" ",1),C("ul",null,[(m(!0),I(ae,null,be(e.generationInfo,(g,w)=>(m(),I("li",{key:w},[C("span",uI,b(g.name),1)]))),128))])])]),_:1})):R("",!0)])}var pI=N(NA,[["render",cI],["__scopeId","data-v-084985d0"]]);const mI=z({components:{RelatedCollectionSelect:An,RelatedFieldSelect:el},setup(){const{t:e}=te(),t=vt(),l=Ke(),n=Te(),{collection:s,editing:u,generationInfo:o}=$t(t),i=Ee("autoGenerateJunctionRelation"),d=Ee("relations.o2m.collection"),p=Ee("relations.o2m.field"),f=Ee("relations.m2o.field"),v=Ee("relations.m2o.meta.one_collection_field"),y=Ee("relations.m2o.meta.one_allowed_collections",[]),_=Ee("relations.o2m.meta.sort_field"),g=Ee("relations.o2m.schema.on_delete"),w=Ee("relations.o2m.meta.one_deselect_action"),h=V(()=>u.value!=="+"),k=V(()=>{var A;return(A=n.getPrimaryKeyFieldForCollection(s.value))==null?void 0:A.field}),F=V(()=>M.exports.orderBy([...l.allCollections,{divider:!0},{name:e("system"),selectable:!1,children:l.crudSafeSystemCollections}],["collection"],["asc"]));return{t:e,availableCollections:F,generationInfo:o,collection:s,isExisting:h,autoGenerateJunctionRelation:i,junctionCollection:d,oneAllowedCollections:y,currentPrimaryKey:k,junctionFieldCurrent:p,junctionFieldRelated:f,oneCollectionField:v,sortField:_,onDelete:g,onDeselect:w}}}),wo=e=>(We("data-v-aba18114"),e=e(),Ge(),e),fI={class:"grid"},vI={class:"field"},_I={class:"type-label"},yI={class:"field"},gI={class:"type-label"},hI={class:"field"},bI={class:"type-label"},$I={class:"related-collections-preview"},wI=wo(()=>C("div",{class:"spacer"},null,-1)),kI=wo(()=>C("div",{class:"spacer"},null,-1)),CI=wo(()=>C("div",{class:"spacer"},null,-1)),SI={class:"sort-field"},VI={class:"relational-triggers"},FI={class:"field"},AI={class:"type-label"},II={class:"field"},EI={class:"type-label"},DI={class:"field-name"};function TI(e,t,l,n,s,u){var g,w;const o=c("v-input"),i=c("related-collection-select"),d=c("v-select"),p=c("related-field-select"),f=c("v-checkbox"),v=c("v-icon"),y=c("v-divider"),_=c("v-notice");return m(),I("div",null,[C("div",fI,[C("div",vI,[C("div",_I,b(e.t("this_collection")),1),a(o,{disabled:"","model-value":e.collection},null,8,["model-value"])]),C("div",yI,[C("div",gI,b(e.t("junction_collection")),1),a(i,{modelValue:e.junctionCollection,"onUpdate:modelValue":t[0]||(t[0]=h=>e.junctionCollection=h),disabled:e.autoGenerateJunctionRelation||e.isExisting},null,8,["modelValue","disabled"])]),C("div",hI,[C("div",bI,b(e.t("related_collections")),1),a(d,{modelValue:e.oneAllowedCollections,"onUpdate:modelValue":t[1]||(t[1]=h=>e.oneAllowedCollections=h),placeholder:e.t("collection")+"...",items:e.availableCollections,"item-value":"collection","item-text":"name","item-disabled":"meta.singleton",multiple:"","multiple-preview-threshold":0},null,8,["modelValue","placeholder","items"])]),a(o,{disabled:"","model-value":e.currentPrimaryKey},null,8,["model-value"]),a(p,{modelValue:e.junctionFieldCurrent,"onUpdate:modelValue":t[2]||(t[2]=h=>e.junctionFieldCurrent=h),collection:e.junctionCollection,disabled:e.autoGenerateJunctionRelation||e.isExisting},null,8,["modelValue","collection","disabled"]),C("div",$I,b(((g=e.oneAllowedCollections)!=null?g:[]).join(", ")),1),wI,a(p,{modelValue:e.oneCollectionField,"onUpdate:modelValue":t[3]||(t[3]=h=>e.oneCollectionField=h),collection:e.junctionCollection,placeholder:e.t("collection_key")+"...",disabled:e.autoGenerateJunctionRelation||e.isExisting},null,8,["modelValue","collection","placeholder","disabled"]),kI,a(p,{modelValue:e.junctionFieldRelated,"onUpdate:modelValue":t[4]||(t[4]=h=>e.junctionFieldRelated=h),disabled:e.autoGenerateJunctionRelation||e.isExisting},null,8,["modelValue","disabled"]),a(o,{disabled:"","model-value":e.t("primary_key")},null,8,["model-value"]),CI,e.isExisting?R("",!0):(m(),S(f,{key:0,modelValue:e.autoGenerateJunctionRelation,"onUpdate:modelValue":t[5]||(t[5]=h=>e.autoGenerateJunctionRelation=h),block:"",label:e.t("auto_fill")},null,8,["modelValue","label"])),a(v,{class:"arrow",name:"arrow_forward"}),a(v,{class:"arrow",name:"arrow_backward"}),a(v,{class:"arrow",name:"arrow_backward"})]),C("div",SI,[a(y,{large:"","inline-title":!1},{default:r(()=>[D(b(e.t("sort_field")),1)]),_:1}),a(p,{modelValue:e.sortField,"onUpdate:modelValue":t[6]||(t[6]=h=>e.sortField=h),collection:e.junctionCollection,placeholder:e.t("add_sort_field")},null,8,["modelValue","collection","placeholder"])]),C("div",VI,[a(y,{class:"field full",large:"","inline-title":!1},{default:r(()=>[D(b(e.t("relational_triggers")),1)]),_:1}),C("div",FI,[C("div",AI,b(e.t("referential_action_field_label_m2o",{collection:e.collection||"related"})),1),a(d,{modelValue:e.onDelete,"onUpdate:modelValue":t[7]||(t[7]=h=>e.onDelete=h),disabled:e.collection===e.junctionCollection,placeholder:e.t("choose_action")+"...",items:[{text:e.t("referential_action_set_null",{field:e.junctionFieldRelated}),value:"SET NULL"},{text:e.t("referential_action_set_default",{field:e.junctionFieldRelated}),value:"SET DEFAULT"},{text:e.t("referential_action_cascade",{collection:e.junctionCollection,field:e.junctionFieldRelated}),value:"CASCADE"},{text:e.t("referential_action_no_action"),value:"NO ACTION"}]},null,8,["modelValue","disabled","placeholder","items"])]),C("div",II,[C("div",EI,b(e.t("referential_action_field_label_o2m",{collection:e.junctionCollection||"related"})),1),a(d,{modelValue:e.onDeselect,"onUpdate:modelValue":t[8]||(t[8]=h=>e.onDeselect=h),placeholder:e.t("choose_action")+"...",items:[{text:e.t("referential_action_set_null",{field:e.junctionFieldRelated}),value:"nullify"},{text:e.t("referential_action_cascade",{collection:((w=e.oneAllowedCollections)!=null?w:[]).join(" / "),field:e.junctionFieldRelated}),value:"delete"}]},null,8,["modelValue","placeholder","items"])])]),e.generationInfo.length>0?(m(),S(_,{key:0,class:"generated-data",type:"warning"},{default:r(()=>[C("span",null,[D(b(e.t("new_data_alert"))+" ",1),C("ul",null,[(m(!0),I(ae,null,be(e.generationInfo,(h,k)=>(m(),I("li",{key:k},[C("span",DI,b(h.name),1)]))),128))])])]),_:1})):R("",!0)])}var PI=N(mI,[["render",TI],["__scopeId","data-v-aba18114"]]);const LI=z({components:{RelatedCollectionSelect:An,RelatedFieldSelect:el},setup(){const{t:e}=te(),t=vt(),l=Te(),{field:n,collection:s,editing:u,generationInfo:o}=$t(t),i=Ee("relations.o2m.meta.sort_field"),d=Ee("relations.o2m.collection"),p=Ee("relations.o2m.field"),f=Ee("relations.m2o.field"),v=Ee("relations.m2o.related_collection"),y=Ee("autoGenerateJunctionRelation"),_=Ee("relations.o2m.schema.on_delete"),g=Ee("relations.m2o.schema.on_delete"),w=Ee("relations.o2m.meta.one_deselect_action"),h=Ee("fields.corresponding"),k=V(()=>n.value.type),F=V(()=>u.value!=="+"),A=V(()=>{var T;return(T=l.getPrimaryKeyFieldForCollection(s.value))==null?void 0:T.field}),P=V(()=>{var T,B;return(B=(T=l.getPrimaryKeyFieldForCollection(v.value))==null?void 0:T.field)!=null?B:"id"}),L=V({get(){return!!h.value},set(T){T?h.value={field:s.value,collection:v.value,type:"alias",meta:{special:["m2m"],interface:"list-m2m"}}:h.value=null}}),O=V(()=>d.value?e("add_m2m_to_collection",{collection:v.value}):e("add_field_related")),U=V({get(){var T;return(T=h.value)==null?void 0:T.field},set(T){L.value||(L.value=!0),h.value.field=T}});return{t:e,autoGenerateJunctionRelation:y,collection:s,type:k,isExisting:F,junctionCollection:d,junctionFieldCurrent:p,relatedCollection:v,sortField:i,currentPrimaryKey:A,junctionFieldRelated:f,relatedPrimaryKey:P,onDeleteCurrent:_,onDeleteRelated:g,deselectAction:w,hasCorresponding:L,correspondingLabel:O,correspondingFieldKey:U,generationInfo:o}}}),ko=e=>(We("data-v-4e650362"),e=e(),Ge(),e),OI={class:"grid"},jI={class:"field"},RI={class:"type-label"},MI={class:"field"},UI={class:"type-label"},NI={class:"field"},BI={class:"type-label"},qI=ko(()=>C("div",{class:"spacer"},null,-1)),zI=ko(()=>C("div",{class:"spacer"},null,-1)),KI=ko(()=>C("div",{class:"spacer"},null,-1)),HI={class:"relational-triggers"},WI={class:"field"},GI={class:"type-label"},JI={class:"field"},QI={class:"type-label"},XI={class:"field"},ZI={class:"type-label"};function YI(e,t,l,n,s,u){const o=c("v-input"),i=c("related-collection-select"),d=c("related-field-select"),p=c("v-checkbox"),f=c("v-icon"),v=c("v-divider"),y=c("v-select");return m(),I("div",null,[C("div",OI,[C("div",jI,[C("div",RI,b(e.t("this_collection")),1),a(o,{disabled:"","model-value":e.collection},null,8,["model-value"])]),C("div",MI,[C("div",UI,b(e.t("translations_collection")),1),a(i,{modelValue:e.junctionCollection,"onUpdate:modelValue":t[0]||(t[0]=_=>e.junctionCollection=_),disabled:e.autoGenerateJunctionRelation||e.isExisting},null,8,["modelValue","disabled"])]),C("div",NI,[C("div",BI,b(e.t("languages_collection")),1),a(i,{modelValue:e.relatedCollection,"onUpdate:modelValue":t[1]||(t[1]=_=>e.relatedCollection=_),disabled:e.type==="files"||e.isExisting},null,8,["modelValue","disabled"])]),a(o,{disabled:"","model-value":e.currentPrimaryKey},null,8,["model-value"]),a(d,{modelValue:e.junctionFieldCurrent,"onUpdate:modelValue":t[2]||(t[2]=_=>e.junctionFieldCurrent=_),collection:e.junctionCollection,disabled:e.autoGenerateJunctionRelation||e.isExisting},null,8,["modelValue","collection","disabled"]),qI,zI,a(d,{modelValue:e.junctionFieldRelated,"onUpdate:modelValue":t[3]||(t[3]=_=>e.junctionFieldRelated=_),collection:e.junctionCollection,disabled:e.autoGenerateJunctionRelation||e.isExisting},null,8,["modelValue","collection","disabled"]),a(o,{modelValue:e.relatedPrimaryKey,"onUpdate:modelValue":t[4]||(t[4]=_=>e.relatedPrimaryKey=_),disabled:"",placeholder:e.t("primary_key")+"..."},null,8,["modelValue","placeholder"]),KI,a(p,{modelValue:e.autoGenerateJunctionRelation,"onUpdate:modelValue":t[5]||(t[5]=_=>e.autoGenerateJunctionRelation=_),disabled:e.isExisting,block:"",label:e.t("auto_fill")},null,8,["modelValue","disabled","label"]),a(f,{class:"arrow",name:"arrow_forward"}),a(f,{class:"arrow",name:"arrow_backward"})]),C("div",HI,[a(v,{class:"field full",large:"","inline-title":!1},{default:r(()=>[D(b(e.t("relational_triggers")),1)]),_:1}),C("div",WI,[C("div",GI,b(e.t("referential_action_field_label_o2m",{collection:e.junctionCollection||""})),1),a(y,{modelValue:e.deselectAction,"onUpdate:modelValue":t[6]||(t[6]=_=>e.deselectAction=_),placeholder:e.t("choose_action")+"...",items:[{text:e.t("referential_action_set_null",{collection:e.junctionCollection,field:e.junctionFieldCurrent}),value:"nullify"},{text:e.t("referential_action_cascade",{collection:e.junctionCollection,field:e.junctionFieldCurrent}),value:"delete"}]},null,8,["modelValue","placeholder","items"])]),C("div",JI,[C("div",QI,b(e.t("referential_action_field_label_m2o",{collection:e.collection||"related"})),1),a(y,{modelValue:e.onDeleteCurrent,"onUpdate:modelValue":t[7]||(t[7]=_=>e.onDeleteCurrent=_),disabled:e.junctionCollection===e.collection,placeholder:e.t("choose_action")+"...",items:[{text:e.t("referential_action_set_null",{field:e.junctionFieldCurrent}),value:"SET NULL"},{text:e.t("referential_action_set_default",{field:e.junctionFieldCurrent}),value:"SET DEFAULT"},{text:e.t("referential_action_cascade",{collection:e.junctionCollection,field:e.junctionFieldCurrent}),value:"CASCADE"},{text:e.t("referential_action_no_action"),value:"NO ACTION"}]},null,8,["modelValue","disabled","placeholder","items"])]),C("div",XI,[C("div",ZI,b(e.t("referential_action_field_label_m2o",{collection:e.relatedCollection||"related"})),1),a(y,{modelValue:e.onDeleteRelated,"onUpdate:modelValue":t[8]||(t[8]=_=>e.onDeleteRelated=_),disabled:e.junctionCollection===e.relatedCollection,placeholder:e.t("choose_action")+"...",items:[{text:e.t("referential_action_set_null",{field:e.junctionFieldRelated}),value:"SET NULL"},{text:e.t("referential_action_set_default",{field:e.junctionFieldRelated}),value:"SET DEFAULT"},{text:e.t("referential_action_cascade",{collection:e.junctionCollection,field:e.junctionFieldRelated}),value:"CASCADE"},{text:e.t("referential_action_no_action"),value:"NO ACTION"}]},null,8,["modelValue","disabled","placeholder","items"])])])])}var xI=N(LI,[["render",YI],["__scopeId","data-v-4e650362"]]);const e4=z({components:{RelationshipM2o:CA,RelationshipO2m:UA,RelationshipM2m:pI,RelationshipM2a:PI,RelationshipTranslations:xI},setup(){const e=vt(),{collection:t,localType:l}=$t(e);return{collection:t,localType:l}}});function t4(e,t,l,n,s,u){const o=c("relationship-m2o"),i=c("relationship-o2m"),d=c("relationship-m2m"),p=c("relationship-m2a"),f=c("relationship-translations");return e.localType==="m2o"||e.localType==="file"?(m(),S(o,{key:0})):e.localType==="o2m"?(m(),S(i,{key:1})):e.localType==="m2m"||e.localType==="files"?(m(),S(d,{key:2})):e.localType==="m2a"?(m(),S(p,{key:3})):e.localType==="translations"?(m(),S(f,{key:4})):R("",!0)}var n4=N(e4,[["render",t4]]);const l4=z({setup(){const{t:e}=te(),t=vt(),l=Ee("field.meta.readonly"),n=Ee("field.meta.hidden"),s=Ee("field.meta.required"),u=Ee("field.meta.note"),o=Ee("field.meta.translations"),{field:i}=$t(t),d=V(()=>i.value.type),p=V(()=>{var f;return(f=i.value.schema)==null?void 0:f.is_generated});return{t:e,readonly:l,hidden:n,required:s,note:u,translations:o,type:d,isGenerated:p}}}),o4={class:"form"},a4={key:0,class:"field half-left"},i4={class:"label type-label"},s4={key:1,class:"field half-right"},r4={class:"label type-label"},d4={class:"field half-left"},u4={class:"label type-label"},c4={key:2,class:"field full"},p4={class:"label type-label"},m4={class:"field full"},f4={class:"label type-label"};function v4(e,t,l,n,s,u){const o=c("v-checkbox"),i=c("v-input"),d=c("interface-list");return m(),I("div",o4,[e.isGenerated?R("",!0):(m(),I("div",a4,[C("div",i4,b(e.t("readonly")),1),a(o,{modelValue:e.readonly,"onUpdate:modelValue":t[0]||(t[0]=p=>e.readonly=p),label:e.t("disabled_editing_value"),block:""},null,8,["modelValue","label"])])),e.isGenerated?R("",!0):(m(),I("div",s4,[C("div",r4,b(e.t("required")),1),a(o,{modelValue:e.required,"onUpdate:modelValue":t[1]||(t[1]=p=>e.required=p),label:e.t("require_value_to_be_set"),block:""},null,8,["modelValue","label"])])),C("div",d4,[C("div",u4,b(e.t("hidden")),1),a(o,{modelValue:e.hidden,"onUpdate:modelValue":t[2]||(t[2]=p=>e.hidden=p),label:e.t("hidden_on_detail"),block:""},null,8,["modelValue","label"])]),e.type!=="group"?(m(),I("div",c4,[C("div",p4,b(e.t("note")),1),a(i,{modelValue:e.note,"onUpdate:modelValue":t[3]||(t[3]=p=>e.note=p),placeholder:e.t("add_note")},null,8,["modelValue","placeholder"])])):R("",!0),C("div",m4,[C("div",f4,b(e.t("field_name_translations")),1),a(d,{template:"[{{ language }}] {{ translation }}",fields:[{field:"language",type:"string",name:e.t("language"),meta:{interface:"system-language",width:"half",display:"formatted-value",display_options:{font:"monospace",color:"var(--foreground-subdued)"}},schema:{default_value:"en-US"}},{field:"translation",type:"string",name:e.t("translation"),meta:{interface:"input",width:"half",options:{placeholder:e.t("translation_placeholder")}}}],value:e.translations,onInput:t[4]||(t[4]=p=>e.translations=p)},null,8,["fields","value"])])])}var _4=N(l4,[["render",v4],["__scopeId","data-v-6a3dad1a"]]);const y4=z({components:{ExtensionOptions:bo},setup(){const{t:e}=te(),t=vt(),l=Ee("field.meta.interface"),n=Ee("field.meta.options"),{field:s,interfacesForType:u}=$t(t),o=V(()=>s.value.type),{interfaces:i}=Ct(),d=V(()=>{var h;const v={string:["input","select-dropdown"],text:["input-rich-text-html"],boolean:["boolean"],integer:["input"],bigInteger:["input"],float:["input"],decimal:["input"],timestamp:["datetime"],datetime:["datetime"],date:["datetime"],time:["datetime"],json:["select-multiple-checkbox","tags"],uuid:["input"],csv:["tags"]}[(h=o.value)!=null?h:"alias"]||[],y=u.value.map(k=>{const F={text:k.name,description:k.description,value:k.id,icon:k.icon};return v.includes(F.value)&&(F.iconRight="star"),F}),_=[],g=v.map(k=>y.find(F=>F.value===k));g!==void 0&&_.push(...g.filter(k=>k)),y.length>=5&&v.length>0&&_.push({divider:!0});const w=y.filter(k=>v.includes(k.value)===!1);return w!==void 0&&_.push(...w.filter(k=>k)),_}),p=V(()=>i.value.find(f=>f.id===l.value));return{t:e,selectItems:d,selectedInterface:p,interfaceID:l,options:n}}}),g4=e=>(We("data-v-048a218e"),e=e(),Ge(),e),h4=g4(()=>C("div",{class:"spacer"},null,-1));function b4(e,t,l,n,s,u){const o=c("v-fancy-select"),i=c("v-notice"),d=c("extension-options");return m(),I("div",null,[a(o,{modelValue:e.interfaceID,"onUpdate:modelValue":t[0]||(t[0]=p=>e.interfaceID=p),class:"select",items:e.selectItems},null,8,["modelValue","items"]),e.interfaceID&&!e.selectedInterface?(m(),S(i,{key:0,class:"not-found",type:"danger"},{default:r(()=>[D(b(e.t("interface_not_found",{interface:e.interfaceID}))+" ",1),h4,C("button",{onClick:t[1]||(t[1]=p=>e.interfaceID=null)},b(e.t("reset_interface")),1)]),_:1})):R("",!0),e.interfaceID&&e.selectedInterface?(m(),S(d,{key:1,type:"interface",extension:e.interfaceID,"show-advanced":""},null,8,["extension"])):R("",!0)])}var $4=N(y4,[["render",b4],["__scopeId","data-v-048a218e"]]);const w4=z({components:{ExtensionOptions:bo},setup(){const{t:e}=te(),t=vt(),{field:l,displaysForType:n}=$t(t),s=V(()=>{var v;return(v=l.value.meta)==null?void 0:v.interface}),u=Ee("field.meta.display"),{displays:o}=tn(),{interfaces:i}=Ct(),d=V(()=>i.value.find(v=>v.id===s.value)),p=V(()=>{var h;let v=M.exports.clone((h=d.value)==null?void 0:h.recommendedDisplays)||[];v.push("raw","formatted-value"),v=[...new Set(v)];const y=n.value.map(k=>{const F={text:k.name,description:k.description,value:k.id,icon:k.icon};return v.includes(F.value)&&(F.iconRight="star"),F}),_=[],g=v.map(k=>y.find(F=>F.value===k));g!==void 0&&_.push(...g.filter(k=>k)),y.length>=5&&v.length>0&&_.push({divider:!0});const w=y.filter(k=>v.includes(k.value)===!1);return w!==void 0&&_.push(...w.filter(k=>k)),_}),f=V(()=>o.value.find(v=>v.id===u.value));return{t:e,selectItems:p,selectedDisplay:f,display:u}}}),k4=e=>(We("data-v-54fd92c6"),e=e(),Ge(),e),C4=k4(()=>C("div",{class:"spacer"},null,-1));function S4(e,t,l,n,s,u){const o=c("v-fancy-select"),i=c("v-notice"),d=c("extension-options");return m(),I("div",null,[a(o,{modelValue:e.display,"onUpdate:modelValue":t[0]||(t[0]=p=>e.display=p),class:"select",items:e.selectItems},null,8,["modelValue","items"]),e.display&&!e.selectedDisplay?(m(),S(i,{key:0,class:"not-found",type:"danger"},{default:r(()=>[D(b(e.t("display_not_found",{display:e.display}))+" ",1),C4,C("button",{onClick:t[1]||(t[1]=p=>e.display=null)},b(e.t("reset_display")),1)]),_:1})):R("",!0),e.display&&e.selectedDisplay?(m(),S(d,{key:1,type:"display",extension:e.display},null,8,["extension"])):R("",!0)])}var V4=N(w4,[["render",S4],["__scopeId","data-v-54fd92c6"]]);const F4=z({setup(){const{t:e}=te(),t=vt(),{field:l,collection:n}=$t(t),s=Ee("field.meta.conditions"),u=V(()=>{var i;return(i=l.value.meta)==null?void 0:i.interface});return{repeaterFields:V(()=>[{field:"name",name:e("name"),type:"string",meta:{interface:"input",options:{iconLeft:"label",placeholder:e("enter_a_value")}}},{field:"rule",name:e("rule"),type:"json",meta:{interface:"system-filter",options:{collectionName:n.value}}},{field:"readonly",name:e("readonly"),type:"boolean",meta:{interface:"boolean",options:{label:e("disabled_editing_value")},width:"half"}},{field:"hidden",name:e("hidden"),type:"boolean",meta:{interface:"boolean",options:{label:e("hidden_on_detail")},width:"half"}},{field:"required",name:e("required"),type:"boolean",meta:{interface:"boolean",options:{label:e("require_value_to_be_set")},width:"half"}},{field:"options",name:e("interface_options"),type:"json",meta:{interface:"system-interface-options",options:{interface:u.value}}}]),conditions:s}}});function A4(e,t,l,n,s,u){const o=c("interface-list");return m(),I("div",null,[a(o,{fields:e.repeaterFields,template:"{{ name }}",value:e.conditions,onInput:t[0]||(t[0]=i=>e.conditions=i)},null,8,["fields","value"])])}var I4=N(F4,[["render",A4]]);const E4=z({components:{FieldDetailAdvancedSchema:sA,FieldDetailAdvancedRelationship:n4,FieldDetailAdvancedField:_4,FieldDetailAdvancedInterface:$4,FieldDetailAdvancedDisplay:V4,FieldDetailAdvancedConditions:I4},props:{currentTab:{type:String,required:!0}}}),D4={class:"content"};function T4(e,t,l,n,s,u){const o=c("field-detail-advanced-schema"),i=c("field-detail-advanced-relationship"),d=c("field-detail-advanced-field"),p=c("field-detail-advanced-interface"),f=c("field-detail-advanced-display"),v=c("field-detail-advanced-conditions");return m(),I("div",D4,[e.currentTab==="schema"?(m(),S(o,{key:0})):R("",!0),e.currentTab==="relationship"?(m(),S(i,{key:1})):R("",!0),e.currentTab==="field"?(m(),S(d,{key:2})):R("",!0),e.currentTab==="interface"?(m(),S(p,{key:3})):R("",!0),e.currentTab==="display"?(m(),S(f,{key:4})):R("",!0),e.currentTab==="conditions"?(m(),S(v,{key:5})):R("",!0)])}var P4=N(E4,[["render",T4],["__scopeId","data-v-25cdbb16"]]);const L4=z({props:{currentTab:{type:Array,required:!0}},emits:["update:currentTab"],setup(e,{emit:t}){const l=vt(),{localType:n}=$t(l),s=Oe(e,"currentTab",t),{t:u}=te();return{tabs:V(()=>{const i=[{text:u("schema"),value:"schema"},{text:u("field",1),value:"field"},{text:u("interface_label"),value:"interface"}];return n.value!=="presentation"&&n.value!=="group"&&i.push({text:u("display"),value:"display"}),["o2m","m2o","m2m","m2a","files"].includes(n.value)&&i.splice(1,0,{text:u("relationship"),value:"relationship"}),n.value==="translations"&&i.splice(1,0,{text:u("translations"),value:"relationship"}),i.push({text:u("conditions"),value:"conditions"}),i}),currentTabSync:s}}});function O4(e,t,l,n,s,u){const o=c("v-tab"),i=c("v-tabs");return m(),S(i,{modelValue:e.currentTabSync,"onUpdate:modelValue":t[0]||(t[0]=d=>e.currentTabSync=d),vertical:""},{default:r(()=>[(m(!0),I(ae,null,be(e.tabs,d=>(m(),S(o,{key:d.value,value:d.value,disabled:d.disabled},{default:r(()=>[D(b(d.text),1)]),_:2},1032,["value","disabled"]))),128))]),_:1},8,["modelValue"])}var j4=N(L4,[["render",O4]]);const R4=z({emits:["save"],setup(){const e=vt(),{saving:t,readyToSave:l}=$t(e),{t:n}=te();return{saving:t,t:n,readyToSave:l}}});function M4(e,t,l,n,s,u){const o=c("v-icon"),i=c("v-button"),d=we("tooltip");return ne((m(),S(i,{disabled:e.readyToSave===!1,loading:e.saving,icon:"",rounded:"",onClick:t[0]||(t[0]=p=>e.$emit("save"))},{default:r(()=>[a(o,{name:"check"})]),_:1},8,["disabled","loading"])),[[d,e.t("save"),void 0,{bottom:!0}]])}var U4=N(R4,[["render",M4]]);const N4=z({name:"FieldDetail",components:{FieldDetailSimple:L3,FieldDetailAdvanced:P4,FieldDetailAdvancedTabs:j4,FieldDetailAdvancedActions:U4},props:{collection:{type:String,required:!0},field:{type:String,required:!0},type:{type:String,default:null}},setup(e){const{collection:t}=Ue(e),l=mn(),n=vt(),{editing:s}=$t(n);ye(()=>e.field,()=>n.startEditing(e.collection,e.field,e.type),{immediate:!0});const u=Ke(),o=Te(),i=Ye(),{t:d}=te(),p=V(()=>u.getCollection(t.value)),f=E(e.type===null),v=V(()=>{var F,A;const h=o.getField(e.collection,e.field),k=(h==null?void 0:h.name)||Et(n.field.name||"");return e.field==="+"&&k===""?d("creating_new_field",{collection:(F=p.value)==null?void 0:F.name}):d("field_in_collection",{field:k,collection:(A=p.value)==null?void 0:A.name})}),y=E(["schema"]),_=V(()=>s.value!=="+"||!f.value);return{simple:f,cancel:g,collectionInfo:p,t:d,title:v,save:w,isOpen:l,currentTab:y,showAdvanced:_};async function g(){await i.push(`/settings/data-model/${e.collection}`),n.$reset()}async function w(){await n.save(),i.push(`/settings/data-model/${e.collection}`),n.$reset()}}});function B4(e,t,l,n,s,u){const o=c("field-detail-simple"),i=c("field-detail-advanced-tabs"),d=c("field-detail-advanced-actions"),p=c("field-detail-advanced"),f=c("v-drawer");return m(),S(f,{"model-value":e.isOpen,title:e.title,persistent:"",onCancel:e.cancel,"onUpdate:modelValue":e.cancel},xe({default:r(()=>[e.showAdvanced?R("",!0):(m(),S(o,{key:0,collection:e.collectionInfo,onSave:e.save,onToggleAdvanced:t[0]||(t[0]=v=>e.simple=!1)},null,8,["collection","onSave"])),e.showAdvanced?(m(),S(p,{key:1,collection:e.collectionInfo,"current-tab":e.currentTab[0],onSave:e.save},null,8,["collection","current-tab","onSave"])):R("",!0)]),_:2},[e.showAdvanced?{name:"sidebar",fn:r(()=>[a(i,{"current-tab":e.currentTab,"onUpdate:current-tab":t[1]||(t[1]=v=>e.currentTab=v)},null,8,["current-tab"])])}:void 0,e.showAdvanced?{name:"actions",fn:r(()=>[a(d,{onSave:e.save},null,8,["onSave"])])}:void 0]),1032,["model-value","title","onCancel","onUpdate:modelValue"])}var q4=N(N4,[["render",B4],["__scopeId","data-v-4fc67dfe"]]);const z4=z({name:"FieldSelectMenu",props:{field:{type:Object,required:!0},noDelete:{type:Boolean,default:!1}},emits:["toggleVisibility","duplicate","delete","setWidth"],setup(e){const{t}=te(),l=V(()=>ho(e.field.collection,e.field.field)),n=V(()=>{var u;return((u=e.field.schema)==null?void 0:u.is_primary_key)===!0}),s=V(()=>l.value==="standard"&&n.value===!1);return{t,localType:l,isPrimaryKey:n,duplicable:s}}});function K4(e,t,l,n,s,u){const o=c("v-icon"),i=c("v-list-item-icon"),d=c("v-list-item-content"),p=c("v-list-item"),f=c("v-divider"),v=c("v-list"),y=c("v-menu");return m(),S(y,{"show-arrow":"",placement:"bottom-end"},{activator:r(({toggle:_})=>[a(o,{clickable:"",name:"more_vert",onClick:_},null,8,["onClick"])]),default:r(()=>[a(v,null,{default:r(()=>{var _,g,w,h;return[a(p,{to:`/settings/data-model/${e.field.collection}/${e.field.field}`},{default:r(()=>[a(i,null,{default:r(()=>[a(o,{name:"edit",outline:""})]),_:1}),a(d,null,{default:r(()=>[D(b(e.t("edit_field")),1)]),_:1})]),_:1},8,["to"]),a(p,{disabled:e.duplicable===!1,clickable:"",onClick:t[0]||(t[0]=k=>e.$emit("duplicate"))},{default:r(()=>[a(i,null,{default:r(()=>[a(o,{name:"content_copy"})]),_:1}),a(d,null,{default:r(()=>[D(b(e.t("duplicate_field")),1)]),_:1})]),_:1},8,["disabled"]),a(p,{clickable:"",onClick:t[1]||(t[1]=k=>e.$emit("toggleVisibility"))},{default:r(()=>{var k;return[((k=e.field.meta)==null?void 0:k.hidden)===!1?(m(),I(ae,{key:0},[a(i,null,{default:r(()=>[a(o,{name:"visibility_off"})]),_:1}),a(d,null,{default:r(()=>[D(b(e.t("hide_field_on_detail")),1)]),_:1})],64)):(m(),I(ae,{key:1},[a(i,null,{default:r(()=>[a(o,{name:"visibility"})]),_:1}),a(d,null,{default:r(()=>[D(b(e.t("show_field_on_detail")),1)]),_:1})],64))]}),_:1}),a(f),a(p,{clickable:"",disabled:((_=e.field.meta)==null?void 0:_.width)==="half"||e.localType==="group",onClick:t[2]||(t[2]=k=>e.$emit("setWidth","half"))},{default:r(()=>[a(i,null,{default:r(()=>[a(o,{name:"border_vertical"})]),_:1}),a(d,null,{default:r(()=>[D(b(e.t("half_width")),1)]),_:1})]),_:1},8,["disabled"]),a(p,{clickable:"",disabled:((g=e.field.meta)==null?void 0:g.width)==="full"||e.localType==="group",onClick:t[3]||(t[3]=k=>e.$emit("setWidth","full"))},{default:r(()=>[a(i,null,{default:r(()=>[a(o,{name:"border_right"})]),_:1}),a(d,null,{default:r(()=>[D(b(e.t("full_width")),1)]),_:1})]),_:1},8,["disabled"]),a(p,{clickable:"",disabled:((w=e.field.meta)==null?void 0:w.width)==="fill"||e.localType==="group",onClick:t[4]||(t[4]=k=>e.$emit("setWidth","fill"))},{default:r(()=>[a(i,null,{default:r(()=>[a(o,{name:"aspect_ratio"})]),_:1}),a(d,null,{default:r(()=>[D(b(e.t("fill_width")),1)]),_:1})]),_:1},8,["disabled"]),a(f),a(p,{clickable:"",class:"danger",disabled:((h=e.field.schema)==null?void 0:h.is_primary_key)===!0||e.noDelete,onClick:t[5]||(t[5]=k=>e.$emit("delete"))},{default:r(()=>[a(i,null,{default:r(()=>[a(o,{name:"delete",outline:""})]),_:1}),a(d,null,{default:r(()=>[D(b(e.t("delete_field")),1)]),_:1})]),_:1},8,["disabled"])]}),_:1})]),_:1})}var H4=N(z4,[["render",K4]]);function Bt(e){const t=new Image;e.setDragImage(t,0,0)}const W4=z({name:"FieldSelect",components:{FieldSelectMenu:H4,Draggable:kt},props:{field:{type:Object,required:!0},disabled:{type:Boolean,default:!1},fields:{type:Array,default:()=>[]}},emits:["setNestedSort"],setup(e,{emit:t}){const{t:l}=te(),n=Ye(),s=Ke(),u=Te(),{interfaces:o}=Ct(),i=E(!1),{deleteActive:d,deleting:p,deleteField:f}=U(),{duplicateActive:v,duplicateName:y,collections:_,duplicateTo:g,saveDuplicate:w,duplicating:h}=T(),k=V(()=>{var K;return(K=o.value.find(H=>{var Y;return H.id===((Y=e.field.meta)==null?void 0:Y.interface)}))==null?void 0:K.name}),F=V(()=>{var K;return((K=e.field.meta)==null?void 0:K.hidden)===!0}),A=V(()=>ho(e.field.collection,e.field.field)),P=V(()=>e.fields.filter(K=>{var H;return((H=K.meta)==null?void 0:H.group)===e.field.field}));return{t:l,interfaceName:k,editActive:i,setWidth:L,deleteActive:d,deleting:p,deleteField:f,duplicateActive:v,collections:_,duplicateName:y,duplicateTo:g,saveDuplicate:w,duplicating:h,openFieldDetail:B,hidden:F,toggleVisibility:O,localType:A,hideDragImage:Bt,onGroupSortChange:q,nestedFields:P};function L(K){u.updateField(e.field.collection,e.field.field,{meta:{width:K}})}function O(){var K;u.updateField(e.field.collection,e.field.field,{meta:{hidden:!((K=e.field.meta)==null?void 0:K.hidden)}})}function U(){const K=E(!1),H=E(!1);return{deleteActive:K,deleting:H,deleteField:Y};async function Y(){await u.deleteField(e.field.collection,e.field.field),H.value=!1,K.value=!1}}function T(){const K=E(!1),H=E(e.field.field+"_copy"),Y=E(!1),J=V(()=>s.collections.map(({collection:X})=>X).filter(X=>X.startsWith("directus_")===!1)),re=E(e.field.collection);return{duplicateActive:K,duplicateName:H,collections:J,duplicateTo:re,saveDuplicate:fe,duplicating:Y};async function fe(){const X=ke(oe({},M.exports.cloneDeep(e.field)),{field:H.value,collection:re.value});X.meta&&(delete X.meta.id,delete X.meta.sort,delete X.meta.group),X.schema&&delete X.schema.comment,delete X.name,Y.value=!0;try{await u.createField(re.value,X),It({title:l("field_create_success",{field:X.field}),type:"success"}),K.value=!1}catch(x){Se(x)}finally{Y.value=!1}}}async function B(){e.field.meta||await u.updateField(e.field.collection,e.field.field,{meta:{}}),n.push(`/settings/data-model/${e.field.collection}/${e.field.field}`)}async function q(K){const H=K.map((Y,J)=>({field:Y.field,meta:{sort:J+1,group:e.field.meta.field}}));t("setNestedSort",H)}}}),G4={class:"label"},J4={class:"name"},Q4={class:"header full"},X4={class:"name"},Z4={class:"label-inner"},Y4={class:"name"},x4={key:0,class:"interface"},eE={key:1,class:"interface"},tE={class:"icons"},nE={class:"form-grid"},lE={class:"field"},oE={class:"type-label"},aE={class:"field"},iE={class:"type-label"};function sE(e,t,l,n,s,u){var A;const o=c("v-icon"),i=c("v-input"),d=c("field-select-menu"),p=c("field-select",!0),f=c("draggable"),v=c("v-card-title"),y=c("v-select"),_=c("v-card-text"),g=c("v-button"),w=c("v-card-actions"),h=c("v-card"),k=c("v-dialog"),F=we("tooltip");return m(),I("div",{class:ue(["field-select",((A=e.field.meta)==null?void 0:A.width)||"full"])},[e.disabled?(m(),S(i,{key:0,disabled:"",class:"field"},{prepend:r(()=>[ne(a(o,{name:"lock"},null,512),[[F,e.t("system_fields_locked")]])]),input:r(()=>[C("div",G4,[C("span",J4,b(e.field.field),1)])]),_:1})):(m(),I(ae,{key:1},[e.localType==="group"?(m(),S(f,{key:0,class:"field-grid group full nested","model-value":e.nestedFields,"force-fallback":!0,handle:".drag-handle",group:{name:"fields"},"set-data":e.hideDragImage,animation:150,"item-key":"field","fallback-on-body":!0,"invert-swap":!0,"onUpdate:modelValue":e.onGroupSortChange},{header:r(()=>[C("div",Q4,[a(o,{class:"drag-handle",name:"drag_indicator",onClick:t[0]||(t[0]=Ae(()=>{},["stop"]))}),C("span",X4,b(e.field.field),1),e.hidden?ne((m(),S(o,{key:0,name:"visibility_off",class:"hidden-icon",small:""},null,512)),[[F,e.t("hidden_field")]]):R("",!0),a(d,{field:e.field,"no-delete":e.nestedFields.length>0,onToggleVisibility:e.toggleVisibility,onSetWidth:t[1]||(t[1]=P=>e.setWidth(P)),onDuplicate:t[2]||(t[2]=P=>e.duplicateActive=!0),onDelete:t[3]||(t[3]=P=>e.deleteActive=!0)},null,8,["field","no-delete","onToggleVisibility"])])]),item:r(({element:P})=>[a(p,{field:P,fields:e.fields,onSetNestedSort:t[4]||(t[4]=L=>e.$emit("setNestedSort",L))},null,8,["field","fields"])]),_:1},8,["model-value","set-data","onUpdate:modelValue"])):(m(),S(i,{key:1,class:ue(["field",{hidden:e.hidden}]),readonly:""},{prepend:r(()=>[a(o,{class:"drag-handle",name:"drag_indicator",onClick:t[5]||(t[5]=Ae(()=>{},["stop"]))})]),input:r(()=>{var P;return[ne(C("div",{class:"label",onClick:t[6]||(t[6]=(...L)=>e.openFieldDetail&&e.openFieldDetail(...L))},[C("div",Z4,[C("span",Y4,[D(b(e.field.field)+" ",1),((P=e.field.meta)==null?void 0:P.required)===!0?(m(),S(o,{key:0,name:"star",class:"required",sup:""})):R("",!0)]),e.field.meta?(m(),I("span",x4,b(e.interfaceName),1)):(m(),I("span",eE,b(e.t("db_only_click_to_configure")),1))])],512),[[F,e.interfaceName?`${e.field.name} (${e.interfaceName})`:e.field.name]])]}),append:r(()=>[C("div",tE,[e.field.schema&&e.field.schema.is_primary_key?ne((m(),S(o,{key:0,name:"vpn_key",small:""},null,512)),[[F,e.t("primary_key")]]):R("",!0),e.field.meta?R("",!0):ne((m(),S(o,{key:1,name:"report_problem",class:"unmanaged",small:""},null,512)),[[F,e.t("db_only_click_to_configure")]]),e.hidden?ne((m(),S(o,{key:2,name:"visibility_off",class:"hidden-icon",small:""},null,512)),[[F,e.t("hidden_field")]]):R("",!0),a(d,{field:e.field,onToggleVisibility:e.toggleVisibility,onSetWidth:t[7]||(t[7]=P=>e.setWidth(P)),onDuplicate:t[8]||(t[8]=P=>e.duplicateActive=!0),onDelete:t[9]||(t[9]=P=>e.deleteActive=!0)},null,8,["field","onToggleVisibility"])])]),_:1},8,["class"])),a(k,{modelValue:e.duplicateActive,"onUpdate:modelValue":t[13]||(t[13]=P=>e.duplicateActive=P),onEsc:t[14]||(t[14]=P=>e.duplicateActive=!1)},{default:r(()=>[a(h,{class:"duplicate"},{default:r(()=>[a(v,null,{default:r(()=>[D(b(e.t("duplicate_where_to")),1)]),_:1}),a(_,null,{default:r(()=>[C("div",nE,[C("div",lE,[C("span",oE,b(e.t("collection",0)),1),a(y,{modelValue:e.duplicateTo,"onUpdate:modelValue":t[10]||(t[10]=P=>e.duplicateTo=P),class:"monospace",items:e.collections},null,8,["modelValue","items"])]),C("div",aE,[C("span",iE,b(e.t("field",0)),1),a(i,{modelValue:e.duplicateName,"onUpdate:modelValue":t[11]||(t[11]=P=>e.duplicateName=P),class:"monospace","db-safe":"",autofocus:""},null,8,["modelValue"])])])]),_:1}),a(w,null,{default:r(()=>[a(g,{secondary:"",onClick:t[12]||(t[12]=P=>e.duplicateActive=!1)},{default:r(()=>[D(b(e.t("cancel")),1)]),_:1}),a(g,{disabled:e.duplicateName===null,loading:e.duplicating,onClick:e.saveDuplicate},{default:r(()=>[D(b(e.t("duplicate")),1)]),_:1},8,["disabled","loading","onClick"])]),_:1})]),_:1})]),_:1},8,["modelValue"]),a(k,{modelValue:e.deleteActive,"onUpdate:modelValue":t[16]||(t[16]=P=>e.deleteActive=P),onEsc:t[17]||(t[17]=P=>e.deleteActive=!1)},{default:r(()=>[a(h,null,{default:r(()=>[a(v,null,{default:r(()=>[D(b(e.t("delete_field_are_you_sure",{field:e.field.field})),1)]),_:1}),a(w,null,{default:r(()=>[a(g,{secondary:"",onClick:t[15]||(t[15]=P=>e.deleteActive=!1)},{default:r(()=>[D(b(e.t("cancel")),1)]),_:1}),a(g,{loading:e.deleting,kind:"danger",onClick:e.deleteField},{default:r(()=>[D(b(e.t("delete_label")),1)]),_:1},8,["loading","onClick"])]),_:1})]),_:1})]),_:1},8,["modelValue"])],64))],2)}var rE=N(W4,[["render",sE],["__scopeId","data-v-19732891"]]);const dE=z({name:"FieldsManagement",components:{Draggable:kt,FieldSelect:rE},props:{collection:{type:String,required:!0}},setup(e){const{t}=te(),{collection:l}=Ue(e),{fields:n}=ot(l),s=Te(),u=V(()=>M.exports.orderBy(n.value,[v=>{var y,_;return((y=v.meta)==null?void 0:y.sort)?Number((_=v.meta)==null?void 0:_.sort):null},v=>{var y;return(y=v.meta)==null?void 0:y.id}]).filter(v=>v.field.startsWith("$")===!1)),o=V(()=>u.value.filter(v=>{var y;return((y=v.meta)==null?void 0:y.system)===!0})),i=V(()=>u.value.filter(v=>{var y;return((y=v.meta)==null?void 0:y.system)!==!0})),d=V(()=>[{type:"standard",icon:"create",text:t("standard_field")},{type:"presentation",icon:"scatter_plot",text:t("presentation_and_aliases")},{type:"group",icon:"view_in_ar",text:t("field_group")},{divider:!0},{type:"file",icon:"photo",text:t("single_file")},{type:"files",icon:"collections",text:t("multiple_files")},{divider:!0},{type:"m2o",icon:"call_merge",text:t("m2o_relationship")},{type:"o2m",icon:"call_split",text:t("o2m_relationship")},{type:"m2m",icon:"import_export",text:t("m2m_relationship")},{type:"m2a",icon:"gesture",text:t("m2a_relationship")},{divider:!0},{type:"translations",icon:"translate",text:t("translations")}]);return{t,usableFields:i,lockedFields:o,setSort:p,hideDragImage:Bt,addOptions:d,setNestedSort:f,isNil:M.exports.isNil};async function p(v){const y=v.map((_,g)=>({field:_.field,meta:{sort:g+1,group:null}}));await s.updateFields(l.value,y)}async function f(v){v=(v||[]).filter(y=>M.exports.isNil(y)===!1),v.length>0&&await s.updateFields(l.value,v)}}}),uE={class:"fields-management"},cE={key:0,class:"field-grid"},pE=["dashed","onClick"];function mE(e,t,l,n,s,u){const o=c("field-select"),i=c("draggable"),d=c("v-button"),p=c("v-divider"),f=c("v-icon"),v=c("v-list-item-icon"),y=c("v-list-item-content"),_=c("v-list-item"),g=c("v-list"),w=c("v-menu");return m(),I("div",uE,[e.lockedFields.length>0?(m(),I("div",cE,[(m(!0),I(ae,null,be(e.lockedFields,h=>(m(),S(o,{key:h.field,disabled:"",field:h},null,8,["field"]))),128))])):R("",!0),a(i,{class:"field-grid","model-value":e.usableFields.filter(h=>{var k;return e.isNil((k=h==null?void 0:h.meta)==null?void 0:k.group)}),"force-fallback":!0,handle:".drag-handle",group:{name:"fields"},"set-data":e.hideDragImage,"item-key":"field",animation:150,"fallback-on-body":!0,"invert-swap":!0,"onUpdate:modelValue":e.setSort},{item:r(({element:h})=>[a(o,{field:h,fields:e.usableFields,onSetNestedSort:e.setNestedSort},null,8,["field","fields","onSetNestedSort"])]),_:1},8,["model-value","set-data","onUpdate:modelValue"]),a(d,{"full-width":"",to:`/settings/data-model/${e.collection}/+`},{default:r(()=>[D(b(e.t("create_field")),1)]),_:1},8,["to"]),a(w,{"show-arrow":""},{activator:r(({toggle:h,active:k})=>[C("button",{class:ue(["add-field-advanced",{active:k}]),dashed:!k,onClick:h},b(e.t("create_in_advanced_field_creation_mode")),11,pE)]),default:r(()=>[a(g,null,{default:r(()=>[(m(!0),I(ae,null,be(e.addOptions,(h,k)=>(m(),I(ae,{key:k},[h.divider===!0?(m(),S(p,{key:0})):(m(),S(_,{key:1,to:`/settings/data-model/${e.collection}/+?type=${h.type}`},{default:r(()=>[a(v,null,{default:r(()=>[a(f,{name:h.icon},null,8,["name"])]),_:2},1024),a(y,null,{default:r(()=>[D(b(h.text),1)]),_:2},1024)]),_:2},1032,["to"]))],64))),128))]),_:1})]),_:1})])}var fE=N(dE,[["render",mE],["__scopeId","data-v-d56d168a"]]);const vE=z({components:{SettingsNavigation:Mt,FieldsManagement:fE},props:{collection:{type:String,required:!0},field:{type:String,default:null},type:{type:String,default:null}},setup(e){const{t}=te(),l=Ye(),{collection:n}=Ue(e),{info:s,fields:u}=ot(n),o=Ke(),i=Te(),{isNew:d,edits:p,item:f,saving:v,loading:y,error:_,save:g,remove:w,deleting:h,saveAsCopy:k,isBatch:F}=Sn(E("directus_collections"),n),A=V(()=>p.value.meta?Object.keys(p.value.meta).length>0:!1);et("meta+s",()=>{A.value&&q()});const P=E(!1),L=V(()=>A.value===!0?!0:A.value);nn(L);const O=E(!1),U=E(null),T=Y=>{if(A.value)return O.value=!0,U.value=Y.fullPath,!1};return Ot(T),Pt(T),{t,collectionInfo:s,fields:u,confirmDelete:P,isNew:d,edits:p,item:f,saving:v,loading:y,error:_,save:g,remove:w,deleting:h,saveAsCopy:k,isBatch:F,deleteAndQuit:B,saveAndQuit:K,hasEdits:A,isSavable:L,confirmLeave:O,leaveTo:U,discardAndLeave:H};async function B(){await w(),await o.hydrate(),await i.hydrate(),l.push("/settings/data-model")}async function q(){await g(),await o.hydrate(),await i.hydrate()}async function K(){await g(),await o.hydrate(),await i.hydrate(),l.push("/settings/data-model")}function H(){!U.value||(p.value={},O.value=!1,l.push(U.value))}}}),_E={class:"collections-item"},yE={class:"fields"},gE={class:"title type-label"},hE={class:"instant-save"},bE={class:"page-description"};function $E(e,t,l,n,s,u){const o=c("v-breadcrumb"),i=c("v-icon"),d=c("v-button"),p=c("v-card-title"),f=c("v-card-actions"),v=c("v-card"),y=c("v-dialog"),_=c("settings-navigation"),g=c("fields-management"),w=c("router-view"),h=c("v-form"),k=c("sidebar-detail"),F=c("v-card-text"),A=c("private-view"),P=we("tooltip"),L=we("md");return m(),S(A,{title:e.collectionInfo&&e.collectionInfo.name},{headline:r(()=>[a(o,{items:[{name:e.t("settings_data_model"),to:"/settings/data-model"}]},null,8,["items"])]),"title-outer:prepend":r(()=>[a(d,{class:"header-icon",rounded:"",icon:"",exact:"",to:"/settings/data-model"},{default:r(()=>[a(i,{name:"arrow_back"})]),_:1})]),actions:r(()=>[a(y,{modelValue:e.confirmDelete,"onUpdate:modelValue":t[1]||(t[1]=O=>e.confirmDelete=O),onEsc:t[2]||(t[2]=O=>e.confirmDelete=!1)},{activator:r(({on:O})=>[e.item&&e.item.collection.startsWith("directus_")===!1?ne((m(),S(d,{key:0,rounded:"",icon:"",class:"action-delete",disabled:e.item===null,onClick:O},{default:r(()=>[a(i,{name:"delete",outline:""})]),_:2},1032,["disabled","onClick"])),[[P,e.t("delete_collection"),void 0,{bottom:!0}]]):R("",!0)]),default:r(()=>[a(v,null,{default:r(()=>[a(p,null,{default:r(()=>[D(b(e.t("delete_are_you_sure")),1)]),_:1}),a(f,null,{default:r(()=>[a(d,{secondary:"",onClick:t[0]||(t[0]=O=>e.confirmDelete=!1)},{default:r(()=>[D(b(e.t("cancel")),1)]),_:1}),a(d,{kind:"danger",loading:e.deleting,onClick:e.deleteAndQuit},{default:r(()=>[D(b(e.t("delete_label")),1)]),_:1},8,["loading","onClick"])]),_:1})]),_:1})]),_:1},8,["modelValue"]),ne(a(d,{rounded:"",icon:"",loading:e.saving,disabled:e.hasEdits===!1,onClick:e.saveAndQuit},{default:r(()=>[a(i,{name:"check"})]),_:1},8,["loading","disabled","onClick"]),[[P,e.t("save"),void 0,{bottom:!0}]])]),navigation:r(()=>[a(_)]),sidebar:r(()=>[a(k,{icon:"info_outline",title:e.t("information"),close:""},{default:r(()=>[ne(C("div",bE,null,512),[[L,e.t("page_help_settings_datamodel_fields")]])]),_:1},8,["title"])]),default:r(()=>[C("div",_E,[C("div",yE,[C("h2",gE,[D(b(e.t("fields_and_layout"))+" ",1),C("span",hE,b(e.t("saves_automatically")),1)]),a(g,{collection:e.collection},null,8,["collection"])]),a(w,{name:"field",collection:e.collection,field:e.field,type:e.type},null,8,["collection","field","type"]),a(h,{modelValue:e.edits.meta,"onUpdate:modelValue":t[3]||(t[3]=O=>e.edits.meta=O),collection:"directus_collections",loading:e.loading,"initial-values":e.item&&e.item.meta,"batch-mode":e.isBatch,"primary-key":e.collection,disabled:e.item&&e.item.collection.startsWith("directus_")},null,8,["modelValue","loading","initial-values","batch-mode","primary-key","disabled"])]),a(y,{modelValue:e.confirmLeave,"onUpdate:modelValue":t[5]||(t[5]=O=>e.confirmLeave=O),onEsc:t[6]||(t[6]=O=>e.confirmLeave=!1)},{default:r(()=>[a(v,null,{default:r(()=>[a(p,null,{default:r(()=>[D(b(e.t("unsaved_changes")),1)]),_:1}),a(F,null,{default:r(()=>[D(b(e.t("unsaved_changes_copy")),1)]),_:1}),a(f,null,{default:r(()=>[a(d,{secondary:"",onClick:e.discardAndLeave},{default:r(()=>[D(b(e.t("discard_changes")),1)]),_:1},8,["onClick"]),a(d,{onClick:t[4]||(t[4]=O=>e.confirmLeave=!1)},{default:r(()=>[D(b(e.t("keep_editing")),1)]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1},8,["title"])}var wE=N(vE,[["render",$E],["__scopeId","data-v-23ac21ca"]]);const kE=z({setup(){const{t:e}=te(),t=Ye(),l=Ke(),n=Te(),s=mt(),u=mn(),o=E(["collection_setup"]),i=E(null),d=E(!1),p=E("id"),f=E("auto_int"),v=E(),y=E(),_=E(),g=E(),w=Yt({status:{enabled:!1,name:"status",label:"status",icon:"flag"},sort:{enabled:!1,name:"sort",label:"sort",icon:"low_priority"},dateCreated:{enabled:!1,name:"date_created",label:"created_on",icon:"access_time"},userCreated:{enabled:!1,name:"user_created",label:"created_by",icon:"account_circle"},dateUpdated:{enabled:!1,name:"date_updated",label:"updated_on",icon:"access_time"},userUpdated:{enabled:!1,name:"user_updated",label:"updated_by",icon:"account_circle"}}),h=E(!1);return{t:e,router:t,isOpen:u,currentTab:o,save:k,systemFields:w,primaryKeyFieldName:p,primaryKeyFieldType:f,collectionName:i,saving:h,singleton:d};async function k(){h.value=!0;try{await pe.post("/collections",{collection:i.value,fields:[F(),...A()],schema:{},meta:{sort_field:v.value,archive_field:y.value,archive_value:_.value,unarchive_value:g.value,singleton:d.value}});const L=P();if(L.length>0){for(const O of L)await pe.post("/relations",O);await s.hydrate()}await l.hydrate(),await n.hydrate(),It({title:e("collection_created"),type:"success"}),t.push(`/settings/data-model/${i.value}`)}catch(L){Se(L)}finally{h.value=!1}}function F(){return f.value==="uuid"?{field:p.value,type:"uuid",meta:{hidden:!0,readonly:!0,interface:"input",special:["uuid"]},schema:{is_primary_key:!0,length:36,has_auto_increment:!1}}:f.value==="manual"?{field:p.value,type:"string",meta:{interface:"input",readonly:!1,hidden:!1},schema:{is_primary_key:!0,length:255,has_auto_increment:!1}}:{field:p.value,type:"integer",meta:{hidden:!0,interface:"input",readonly:!0},schema:{is_primary_key:!0,has_auto_increment:!0}}}function A(){const L=[];return w.status.enabled===!0&&(L.push({field:w.status.name,type:"string",meta:{width:"full",options:{choices:[{text:"$t:published",value:"published"},{text:"$t:draft",value:"draft"},{text:"$t:archived",value:"archived"}]},interface:"select-dropdown",display:"labels",display_options:{showAsDot:!0,choices:[{background:"#00C897",value:"published"},{background:"#D3DAE4",value:"draft"},{background:"#F7971C",value:"archived"}]}},schema:{default_value:"draft",is_nullable:!1}}),y.value="status",_.value="archived",g.value="draft"),w.sort.enabled===!0&&(L.push({field:w.sort.name,type:"integer",meta:{interface:"input",hidden:!0},schema:{}}),v.value=w.sort.name),w.userCreated.enabled===!0&&L.push({field:w.userCreated.name,type:"uuid",meta:{special:["user-created"],interface:"select-dropdown-m2o",options:{template:"{{avatar.$thumbnail}} {{first_name}} {{last_name}}"},display:"user",readonly:!0,hidden:!0,width:"half"},schema:{}}),w.dateCreated.enabled===!0&&L.push({field:w.dateCreated.name,type:"timestamp",meta:{special:["date-created"],interface:"datetime",readonly:!0,hidden:!0,width:"half",display:"datetime",display_options:{relative:!0}},schema:{}}),w.userUpdated.enabled===!0&&L.push({field:w.userUpdated.name,type:"uuid",meta:{special:["user-updated"],interface:"select-dropdown-m2o",options:{template:"{{avatar.$thumbnail}} {{first_name}} {{last_name}}"},display:"user",readonly:!0,hidden:!0,width:"half"},schema:{}}),w.dateUpdated.enabled===!0&&L.push({field:w.dateUpdated.name,type:"timestamp",meta:{special:["date-updated"],interface:"datetime",readonly:!0,hidden:!0,width:"half",display:"datetime",display_options:{relative:!0}},schema:{}}),L}function P(){const L=[];return w.userCreated.enabled===!0&&L.push({collection:i.value,field:w.userCreated.name,related_collection:"directus_users"}),w.userUpdated.enabled===!0&&L.push({collection:i.value,field:w.userUpdated.name,related_collection:"directus_users"}),L}}}),CE={class:"grid"},SE={class:"field half"},VE={class:"type-label"},FE={class:"field half"},AE={class:"type-label"},IE={class:"field half"},EE={class:"type-label"},DE={class:"field half"},TE={class:"type-label"},PE={class:"grid system"},LE={class:"type-label"};function OE(e,t,l,n,s,u){const o=c("v-tab"),i=c("v-tabs"),d=c("v-notice"),p=c("v-icon"),f=c("v-input"),v=c("v-checkbox"),y=c("v-divider"),_=c("v-select"),g=c("v-tab-item"),w=c("v-tabs-items"),h=c("v-button"),k=c("v-drawer"),F=we("tooltip");return m(),S(k,{title:e.t("creating_new_collection"),"model-value":e.isOpen,class:"new-collection",persistent:"","sidebar-label":e.t(e.currentTab[0]),onCancel:t[7]||(t[7]=A=>e.router.push("/settings/data-model"))},{sidebar:r(()=>[a(i,{modelValue:e.currentTab,"onUpdate:modelValue":t[0]||(t[0]=A=>e.currentTab=A),vertical:""},{default:r(()=>[a(o,{value:"collection_setup"},{default:r(()=>[D(b(e.t("collection_setup")),1)]),_:1}),a(o,{value:"optional_system_fields",disabled:!e.collectionName},{default:r(()=>[D(b(e.t("optional_system_fields")),1)]),_:1},8,["disabled"])]),_:1},8,["modelValue"])]),actions:r(()=>[e.currentTab[0]==="collection_setup"?ne((m(),S(h,{key:0,disabled:!e.collectionName||e.collectionName.length===0,icon:"",rounded:"",onClick:t[6]||(t[6]=A=>e.currentTab=["optional_system_fields"])},{default:r(()=>[a(p,{name:"arrow_forward"})]),_:1},8,["disabled"])),[[F,e.t("next"),void 0,{bottom:!0}]]):R("",!0),e.currentTab[0]==="optional_system_fields"?ne((m(),S(h,{key:1,loading:e.saving,icon:"",rounded:"",onClick:e.save},{default:r(()=>[a(p,{name:"check"})]),_:1},8,["loading","onClick"])),[[F,e.t("finish_setup"),void 0,{bottom:!0}]]):R("",!0)]),default:r(()=>[a(w,{modelValue:e.currentTab,"onUpdate:modelValue":t[5]||(t[5]=A=>e.currentTab=A),class:"content"},{default:r(()=>[a(g,{value:"collection_setup"},{default:r(()=>[a(d,{type:"info"},{default:r(()=>[D(b(e.t("creating_collection_info")),1)]),_:1}),C("div",CE,[C("div",SE,[C("div",VE,[D(b(e.t("name"))+" ",1),ne(a(p,{class:"required",name:"star",sup:""},null,512),[[F,e.t("required")]])]),a(f,{modelValue:e.collectionName,"onUpdate:modelValue":t[1]||(t[1]=A=>e.collectionName=A),autofocus:"",class:"monospace","db-safe":"",placeholder:e.t("a_unique_table_name")},null,8,["modelValue","placeholder"])]),C("div",FE,[C("div",AE,b(e.t("singleton")),1),a(v,{modelValue:e.singleton,"onUpdate:modelValue":t[2]||(t[2]=A=>e.singleton=A),block:"",label:e.t("singleton_label")},null,8,["modelValue","label"])]),a(y,{class:"full"}),C("div",IE,[C("div",EE,b(e.t("primary_key_field")),1),a(f,{modelValue:e.primaryKeyFieldName,"onUpdate:modelValue":t[3]||(t[3]=A=>e.primaryKeyFieldName=A),class:"monospace","db-safe":"",placeholder:e.t("a_unique_column_name")},null,8,["modelValue","placeholder"])]),C("div",DE,[C("div",TE,b(e.t("type")),1),a(_,{modelValue:e.primaryKeyFieldType,"onUpdate:modelValue":t[4]||(t[4]=A=>e.primaryKeyFieldType=A),items:[{text:e.t("auto_increment_integer"),value:"auto_int"},{text:e.t("generated_uuid"),value:"uuid"},{text:e.t("manual_string"),value:"manual"}]},null,8,["modelValue","items"])])])]),_:1}),a(g,{value:"optional_system_fields"},{default:r(()=>[a(d,{type:"info"},{default:r(()=>[D(b(e.t("creating_collection_system")),1)]),_:1}),C("div",PE,[(m(!0),I(ae,null,be(e.systemFields,(A,P,L)=>(m(),I("div",{key:P,class:ue(["field",L%2==0?"half":"half-right"])},[C("div",LE,b(e.t(A.label)),1),a(f,{modelValue:A.name,"onUpdate:modelValue":O=>A.name=O,class:ue(["monospace",{active:A.enabled}]),onFocus:O=>A.enabled=!0},{prepend:r(()=>[a(v,{modelValue:A.enabled,"onUpdate:modelValue":O=>A.enabled=O},null,8,["modelValue","onUpdate:modelValue"])]),append:r(()=>[a(p,{name:A.icon},null,8,["name"])]),_:2},1032,["modelValue","onUpdate:modelValue","class","onFocus"])],2))),128))])]),_:1})]),_:1},8,["modelValue"])]),_:1},8,["title","model-value","sidebar-label"])}var jE=N(kE,[["render",OE],["__scopeId","data-v-e01fa5b0"]]);const RE=z({components:{SettingsNavigation:Mt},setup(){const{t:e}=te();return{t:e}}}),ME={class:"not-found"};function UE(e,t,l,n,s,u){const o=c("settings-navigation"),i=c("v-info"),d=c("private-view");return m(),S(d,{title:e.t("page_not_found")},{navigation:r(()=>[a(o)]),default:r(()=>[C("div",ME,[a(i,{title:e.t("page_not_found"),icon:"not_interested"},{default:r(()=>[D(b(e.t("page_not_found_body")),1)]),_:1},8,["title"])])]),_:1},8,["title"])}var NE=N(RE,[["render",UE],["__scopeId","data-v-bf888afe"]]);const BE={},qE={class:"null"};function zE(e,t){return m(),I("span",qE,"--")}var ln=N(BE,[["render",zE],["__scopeId","data-v-cf005d72"]]);const KE=z({setup(){const{t:e}=te(),t=E(!1),l=E(null),n=E(null);return s(),{t:e,bookmarksCount:l,presetsCount:n};async function s(){t.value=!0;try{const u=await pe.get("/presets",{params:{["filter[bookmark][_nnull]"]:!0,fields:["id"],meta:"filter_count,total_count"}});l.value=u.data.meta.filter_count,n.value=u.data.meta.total_count-l.value}catch(u){Se(u)}finally{t.value=!1}}}}),HE={class:"page-description"};function WE(e,t,l,n,s,u){const o=c("v-divider"),i=c("sidebar-detail"),d=we("md");return m(),S(i,{icon:"info_outline",title:e.t("information"),close:""},{default:r(()=>[C("dl",null,[C("div",null,[C("dt",null,b(e.t("bookmarks")),1),C("dd",null,b(e.bookmarksCount),1)]),C("div",null,[C("dt",null,b(e.t("presets")),1),C("dd",null,b(e.presetsCount),1)])]),a(o),ne(C("div",HE,null,512),[[d,e.t("page_help_settings_presets_collection")]])]),_:1},8,["title"])}var GE=N(KE,[["render",WE],["__scopeId","data-v-7ed28445"]]);const JE=z({components:{SettingsNavigation:Mt,ValueNull:ln,PresetsInfoSidebarDetail:GE},setup(){const{t:e}=te(),t=Ye(),{layouts:l}=cn(),n=Ke(),s=E([]),{addNewLink:u}=_(),{loading:o,presets:i,getPresets:d}=g(),{headers:p}=w(),{confirmDelete:f,deleting:v,deleteSelection:y}=k();return d(),{t:e,addNewLink:u,usePresets:g,loading:o,presets:i,getPresets:d,headers:p,selection:s,onRowClick:h,confirmDelete:f,deleting:v,deleteSelection:y};function _(){return{addNewLink:V(()=>"/settings/presets/+")}}function g(){const F=E(!1),A=E(null),P=V(()=>(A.value||[]).map(O=>{var q,K;let U="all";O.role&&(U=O.role.name),O.user&&(U=At(O.user));const T=(q=n.getCollection(O.collection))==null?void 0:q.name,B=(K=l.value.find(H=>H.id===O.layout))==null?void 0:K.name;return{id:O.id,scope:U,collection:T,layout:B,name:O.bookmark}}));return{loading:F,presetsRaw:A,getPresets:L,presets:P};async function L(){F.value=!0;try{const O=await pe.get("/presets",{params:{fields:["id","bookmark","user.email","user.first_name","user.last_name","role.name","collection","layout"],limit:-1}});A.value=O.data.data}catch(O){Se(O)}finally{F.value=!1}}}function w(){return{headers:[{text:e("collection"),value:"collection",align:"left",sortable:!0,width:200},{text:e("scope"),value:"scope",align:"left",sortable:!0,width:200},{text:e("layout"),value:"layout",align:"left",sortable:!0,width:200},{text:e("name"),value:"name",align:"left",sortable:!0,width:200}]}}function h({item:F}){s.value.length===0?t.push(`/settings/presets/${F.id}`):s.value.includes(F)?s.value=s.value.filter(A=>A!==F):s.value=[...s.value,F]}function k(){const F=E(!1),A=E(!1);return{confirmDelete:F,deleting:A,deleteSelection:P};async function P(){A.value=!0;try{const L=s.value.map(O=>O.id);await pe.delete("/presets",{data:L}),s.value=[],await d(),F.value=!1}finally{A.value=!1}}}}}),QE={class:"presets-collection"},XE={key:1};function ZE(e,t,l,n,s,u){const o=c("v-breadcrumb"),i=c("v-icon"),d=c("v-button"),p=c("v-card-title"),f=c("v-card-actions"),v=c("v-card"),y=c("v-dialog"),_=c("settings-navigation"),g=c("v-info"),w=c("value-null"),h=c("v-table"),k=c("presets-info-sidebar-detail"),F=c("private-view"),A=we("tooltip");return m(),S(F,{title:e.t("settings_presets")},{headline:r(()=>[a(o,{items:[{name:e.t("settings"),to:"/settings"}]},null,8,["items"])]),"title-outer:prepend":r(()=>[a(d,{class:"header-icon",rounded:"",disabled:"",icon:"",secondary:""},{default:r(()=>[a(i,{name:"bookmark_border"})]),_:1})]),actions:r(()=>[e.selection.length>0?(m(),S(y,{key:0,modelValue:e.confirmDelete,"onUpdate:modelValue":t[1]||(t[1]=P=>e.confirmDelete=P),onEsc:t[2]||(t[2]=P=>e.confirmDelete=!1)},{activator:r(({on:P})=>[ne(a(d,{rounded:"",icon:"",class:"action-delete",onClick:P},{default:r(()=>[a(i,{name:"delete",outline:""})]),_:2},1032,["onClick"]),[[A,e.t("delete_label"),void 0,{bottom:!0}]])]),default:r(()=>[a(v,null,{default:r(()=>[a(p,null,{default:r(()=>[D(b(e.t("batch_delete_confirm",e.selection.length)),1)]),_:1}),a(f,null,{default:r(()=>[a(d,{secondary:"",onClick:t[0]||(t[0]=P=>e.confirmDelete=!1)},{default:r(()=>[D(b(e.t("cancel")),1)]),_:1}),a(d,{kind:"danger",loading:e.deleting,onClick:e.deleteSelection},{default:r(()=>[D(b(e.t("delete_label")),1)]),_:1},8,["loading","onClick"])]),_:1})]),_:1})]),_:1},8,["modelValue"])):R("",!0),ne(a(d,{rounded:"",icon:"",to:e.addNewLink},{default:r(()=>[a(i,{name:"add"})]),_:1},8,["to"]),[[A,e.t("create_preset"),void 0,{bottom:!0}]])]),navigation:r(()=>[a(_)]),sidebar:r(()=>[a(k)]),default:r(()=>[C("div",QE,[!e.loading&&e.presets.length===0?(m(),S(g,{key:0,center:"",type:"warning",title:e.t("no_presets"),icon:"bookmark"},{append:r(()=>[a(d,{to:e.addNewLink},{default:r(()=>[D(b(e.t("no_presets_cta")),1)]),_:1},8,["to"])]),default:r(()=>[D(b(e.t("no_presets_copy"))+" ",1)]),_:1},8,["title"])):(m(),S(h,{key:1,modelValue:e.selection,"onUpdate:modelValue":t[3]||(t[3]=P=>e.selection=P),headers:e.headers,"fixed-header":"",items:e.presets,loading:e.loading,"show-select":"","onClick:row":e.onRowClick},{["item.scope"]:r(({item:P})=>[C("span",{class:ue({all:P.scope==="all"})},b(P.scope==="all"?e.t("all"):P.scope),3)]),["item.layout"]:r(({item:P})=>[P.layout?(m(),I("span",XE,b(P.layout),1)):(m(),S(w,{key:0}))]),["item.name"]:r(({item:P})=>[C("span",{class:ue({default:P.name===null})},b(P.name===null?e.t("default_label"):P.name),3)]),_:2},1032,["modelValue","headers","items","loading","onClick:row"]))])]),_:1},8,["title"])}var YE=N(JE,[["render",ZE],["__scopeId","data-v-707af3dc"]]);const xE=z({components:{SettingsNavigation:Mt},props:{id:{type:String,default:null}},setup(e){const{t}=te(),l=Ye(),n=Ke(),s=Ln(),{layouts:u}=cn(),{backLink:o}=ee(),i=V(()=>e.id==="+"),{loading:d,preset:p}=x(),{fields:f}=se(),{edits:v,hasEdits:y,initialValues:_,values:g,layoutQuery:w,layoutOptions:h,updateFilters:k,search:F}=X(),{save:A,saving:P}=re(),{deleting:L,deleteAndQuit:O,confirmDelete:U}=fe(),T=V({get(){var G;return(G=g.value.filter)!=null?G:null},set(G){k(G)}}),B=V(()=>g.value.layout),{layoutWrapper:q}=pn(B);et("meta+s",()=>{y.value&&A()});const K=V(()=>y.value===!0?!0:y.value);nn(K);const H=E(!1),Y=E(null),J=G=>{if(y.value)return H.value=!0,Y.value=G.fullPath,!1};return Ot(J),Pt(J),{t,backLink:o,loading:d,preset:p,edits:v,fields:f,values:g,initialValues:_,saving:P,save:A,layoutWrapper:q,layoutQuery:w,layoutOptions:h,layoutFilter:T,hasEdits:y,deleting:L,deleteAndQuit:O,confirmDelete:U,updateFilters:k,search:F,isSavable:K,confirmLeave:H,leaveTo:Y,discardAndLeave:W};function re(){const G=E(!1);return{saving:G,save:le};async function le(){var ce;G.value=!0;const Z={};v.value.name&&(Z.bookmark=v.value.name),((ce=v.value.name)==null?void 0:ce.length)===0&&(Z.bookmark=null),v.value.collection&&(Z.collection=v.value.collection),v.value.layout&&(Z.layout=v.value.layout),v.value.layout_query&&(Z.layout_query=v.value.layout_query),v.value.layout_options&&(Z.layout_options=v.value.layout_options),v.value.filter&&(Z.filter=v.value.filter),Z.search=v.value.search,v.value.scope&&(v.value.scope.startsWith("role_")?(Z.role=v.value.scope.substring(5),Z.user=null):v.value.scope.startsWith("user_")?(Z.user=v.value.scope.substring(5),Z.role=null):(Z.role=null,Z.user=null));try{i.value===!0?await pe.post("/presets",Z):await pe.patch(`/presets/${e.id}`,Z),await s.hydrate(),v.value={}}catch(ve){Se(ve)}finally{G.value=!1,l.push("/settings/presets")}}}function fe(){const G=E(!1),le=E(!1);return{deleting:G,confirmDelete:le,deleteAndQuit:Z};async function Z(){G.value=!0;try{await pe.delete(`/presets/${e.id}`),l.push("/settings/presets")}catch(ce){Se(ce)}finally{G.value=!1}}}function X(){const G=E({}),le=V(()=>Object.keys(G.value).length>0),Z=V(()=>{const me={collection:null,layout:"tabular",search:null,scope:"all",layout_query:null,layout_options:null,filter:null};if(i.value===!0||p.value===null)return me;let he="all";return p.value.user!==null?he=`user_${p.value.user}`:p.value.role!==null&&(he=`role_${p.value.role}`),{id:p.value.id,collection:p.value.collection,layout:p.value.layout,name:p.value.bookmark,search:p.value.search,scope:he,layout_query:p.value.layout_query,layout_options:p.value.layout_options,filter:p.value.filter}}),ce=V(()=>oe(oe({},Z.value),G.value)),ve=V({get(){return!ce.value.layout_query||!ce.value.layout?null:ce.value.layout_query[ce.value.layout]},set(me){G.value=ke(oe({},G.value),{layout_query:ke(oe({},G.value.layout_query),{[ce.value.layout||"tabular"]:me})})}}),Q=V({get(){return!ce.value.layout_options||!ce.value.layout?null:ce.value.layout_options[ce.value.layout]},set(me){G.value=ke(oe({},G.value),{layout_options:ke(oe({},G.value.layout_options),{[ce.value.layout||"tabular"]:me})})}}),ie=V({get(){return ce.value.search},set(me){G.value=ke(oe({},G.value),{search:me})}});return{edits:G,initialValues:Z,values:ce,layoutQuery:ve,layoutOptions:Q,hasEdits:le,updateFilters:de,search:ie};function de(me){G.value=ke(oe({},G.value),{filter:me})}}function x(){const G=E(!1),le=E(null);return Z(),{loading:G,preset:le,fetchPreset:Z};async function Z(){if(e.id!=="+"){G.value=!0;try{const ce=await pe.get(`/presets/${e.id}`);le.value=ce.data.data}catch(ce){Se(ce)}finally{G.value=!1}}}}function ee(){return{backLink:V(()=>"/settings/presets")}}function se(){const G=["directus_users","directus_files","directus_activity"];return{fields:V(()=>[{field:"collection",name:t("collection"),type:"string",meta:{interface:"select-dropdown",options:{choices:n.collections.map(Z=>({text:Z.name,value:Z.collection})).filter(Z=>Z.value.startsWith("directus_")?G.includes(Z.value):!0)},width:"half"}},{field:"scope",name:t("scope"),type:"string",meta:{interface:"system-scope",width:"half"}},{field:"layout",name:t("layout"),type:"string",meta:{interface:"select-dropdown",options:{choices:u.value.map(Z=>({text:Z.name,value:Z.id}))},width:"half"}},{field:"name",name:t("name"),type:"string",meta:{interface:"input",width:"half",options:{placeholder:t("preset_name_placeholder")}}},{field:"divider",name:t("divider"),type:"alias",meta:{interface:"presentation-divider",width:"fill",options:{title:t("layout_preview"),icon:"visibility"}}}])}}function W(){!Y.value||(v.value={},H.value=!1,l.push(Y.value))}}}),eD={class:"preset-item"},tD={class:"layout"},nD={class:"page-description"},lD={class:"layout-sidebar"},oD={class:"layout-options"};function aD(e,t,l,n,s,u){const o=c("v-breadcrumb"),i=c("v-icon"),d=c("v-button"),p=c("settings-navigation"),f=c("v-card-title"),v=c("v-card-actions"),y=c("v-card"),_=c("v-dialog"),g=c("v-form"),w=c("v-info"),h=c("v-notice"),k=c("sidebar-detail"),F=c("v-input"),A=c("v-card-text"),P=c("private-view"),L=we("tooltip"),O=we("md");return m(),S(Be(e.layoutWrapper),{"layout-options":e.layoutOptions,"onUpdate:layout-options":t[8]||(t[8]=U=>e.layoutOptions=U),"layout-query":e.layoutQuery,"onUpdate:layout-query":t[9]||(t[9]=U=>e.layoutQuery=U),filter:e.layoutFilter,search:e.search,collection:e.values.collection,readonly:""},{default:r(({layoutState:U})=>[a(P,{title:e.t("editing_preset")},{headline:r(()=>[a(o,{items:[{name:e.t("settings_presets"),to:"/settings/presets"}]},null,8,["items"])]),"title-outer:prepend":r(()=>[a(d,{class:"header-icon",rounded:"",icon:"",exact:"",to:e.backLink},{default:r(()=>[a(i,{name:"arrow_back"})]),_:1},8,["to"])]),navigation:r(()=>[a(p)]),actions:r(()=>[a(_,{modelValue:e.confirmDelete,"onUpdate:modelValue":t[1]||(t[1]=T=>e.confirmDelete=T),onEsc:t[2]||(t[2]=T=>e.confirmDelete=!1)},{activator:r(({on:T})=>[ne(a(d,{rounded:"",icon:"",class:"action-delete",disabled:e.preset===null||e.id==="+",onClick:T},{default:r(()=>[a(i,{name:"delete",outline:""})]),_:2},1032,["disabled","onClick"]),[[L,e.t("delete_label"),void 0,{bottom:!0}]])]),default:r(()=>[a(y,null,{default:r(()=>[a(f,null,{default:r(()=>[D(b(e.t("delete_are_you_sure")),1)]),_:1}),a(v,null,{default:r(()=>[a(d,{secondary:"",onClick:t[0]||(t[0]=T=>e.confirmDelete=!1)},{default:r(()=>[D(b(e.t("cancel")),1)]),_:1}),a(d,{kind:"danger",loading:e.deleting,onClick:e.deleteAndQuit},{default:r(()=>[D(b(e.t("delete_label")),1)]),_:1},8,["loading","onClick"])]),_:1})]),_:1})]),_:1},8,["modelValue"]),ne(a(d,{icon:"",rounded:"",disabled:e.hasEdits===!1,loading:e.saving,onClick:e.save},{default:r(()=>[a(i,{name:"check"})]),_:1},8,["disabled","loading","onClick"]),[[L,e.t("save"),void 0,{bottom:!0}]])]),sidebar:r(()=>[a(k,{icon:"info_outline",title:e.t("information"),close:""},{default:r(()=>[ne(C("div",nD,null,512),[[O,e.t("page_help_settings_presets_item")]])]),_:1},8,["title"]),C("div",lD,[a(k,{icon:"search",title:e.t("search")},{default:r(()=>[a(F,{modelValue:e.search,"onUpdate:modelValue":t[4]||(t[4]=T=>e.search=T),placeholder:e.t("preset_search_placeholder")},null,8,["modelValue","placeholder"])]),_:1},8,["title"]),e.values.layout&&e.values.collection?(m(),S(Be(`layout-sidebar-${e.values.layout}`),He(ut({key:0},U)),null,16)):R("",!0),a(k,{icon:"layers",title:e.t("layout_options")},{default:r(()=>[C("div",oD,[e.values.layout&&e.values.collection?(m(),S(Be(`layout-options-${e.values.layout}`),He(ut({key:0},U)),null,16)):R("",!0)])]),_:2},1032,["title"])])]),default:r(()=>[C("div",eD,[a(g,{modelValue:e.edits,"onUpdate:modelValue":t[3]||(t[3]=T=>e.edits=T),fields:e.fields,loading:e.loading,"initial-values":e.initialValues,"primary-key":e.id},null,8,["modelValue","fields","loading","initial-values","primary-key"]),C("div",tD,[e.values.layout&&e.values.collection?(m(),S(Be(`layout-${e.values.layout}`),He(ut({key:0},U)),{"no-results":r(()=>[a(w,{title:e.t("no_results"),icon:"search",center:""},{default:r(()=>[D(b(e.t("no_results_copy")),1)]),_:1},8,["title"])]),"no-items":r(()=>[a(w,{title:e.t("item_count",0),center:""},{default:r(()=>[D(b(e.t("no_items_copy")),1)]),_:1},8,["title"])]),_:2},1040)):(m(),S(h,{key:1},{default:r(()=>[D(b(e.t("no_layout_collection_selected_yet")),1)]),_:1}))])]),a(_,{modelValue:e.confirmLeave,"onUpdate:modelValue":t[6]||(t[6]=T=>e.confirmLeave=T),onEsc:t[7]||(t[7]=T=>e.confirmLeave=!1)},{default:r(()=>[a(y,null,{default:r(()=>[a(f,null,{default:r(()=>[D(b(e.t("unsaved_changes")),1)]),_:1}),a(A,null,{default:r(()=>[D(b(e.t("unsaved_changes_copy")),1)]),_:1}),a(v,null,{default:r(()=>[a(d,{secondary:"",onClick:e.discardAndLeave},{default:r(()=>[D(b(e.t("discard_changes")),1)]),_:1},8,["onClick"]),a(d,{onClick:t[5]||(t[5]=T=>e.confirmLeave=!1)},{default:r(()=>[D(b(e.t("keep_editing")),1)]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:2},1032,["title"])]),_:1},8,["layout-options","layout-query","filter","search","collection"])}var iD=N(xE,[["render",aD],["__scopeId","data-v-ad308798"]]);const sD=z({setup(){const{t:e}=te(),{parsedInfo:t}=Pa();return{t:e,parsedInfo:t}}}),rD={key:0},dD={class:"page-description"};function uD(e,t,l,n,s,u){const o=c("v-divider"),i=c("sidebar-detail"),d=we("md");return m(),S(i,{icon:"info_outline",title:e.t("information"),close:""},{default:r(()=>[e.parsedInfo?(m(),I("dl",rD,[C("div",null,[C("dt",null,b(e.t("directus_version")),1),C("dd",null,b(e.parsedInfo.directus.version),1)]),C("div",null,[C("dt",null,b(e.t("node_version")),1),C("dd",null,b(e.parsedInfo.node.version),1)]),C("div",null,[C("dt",null,b(e.t("node_uptime")),1),C("dd",null,b(e.parsedInfo.node.uptime),1)]),C("div",null,[C("dt",null,b(e.t("os_type")),1),C("dd",null,b(e.parsedInfo.os.type),1)]),C("div",null,[C("dt",null,b(e.t("os_version")),1),C("dd",null,b(e.parsedInfo.os.version),1)]),C("div",null,[C("dt",null,b(e.t("os_uptime")),1),C("dd",null,b(e.parsedInfo.os.uptime),1)]),C("div",null,[C("dt",null,b(e.t("os_totalmem")),1),C("dd",null,b(e.parsedInfo.os.totalmem),1)])])):R("",!0),a(o),ne(C("div",dD,null,512),[[d,e.t("page_help_settings_project")]])]),_:1},8,["title"])}var cD=N(sD,[["render",uD],["__scopeId","data-v-1a92ed59"]]);const pD=z({components:{SettingsNavigation:Mt,ProjectInfoSidebarDetail:cD},setup(){const{t:e}=te(),t=Ye(),l=Tl(),n=On(),{fields:s}=ot("directus_settings"),u=E(M.exports.clone(l.settings)),o=E(null),i=V(()=>o.value===null||Object.keys(o.value).length===0),d=E(!1);et("meta+s",()=>{i.value||_()});const p=V(()=>i.value===!0?!1:i.value);nn(p);const f=E(!1),v=E(null),y=w=>{if(!i.value)return f.value=!0,v.value=w.fullPath,!1};return Ot(y),Pt(y),{t:e,fields:s,initialValues:u,edits:o,noEdits:i,saving:d,isSavable:p,confirmLeave:f,leaveTo:v,save:_,discardAndLeave:g};async function _(){o.value!==null&&(d.value=!0,await l.updateSettings(o.value),await n.hydrate(),o.value=null,d.value=!1,u.value=M.exports.clone(l.settings))}function g(){!v.value||(o.value={},f.value=!1,t.push(v.value))}}}),mD={class:"settings"};function fD(e,t,l,n,s,u){const o=c("v-breadcrumb"),i=c("v-icon"),d=c("v-button"),p=c("settings-navigation"),f=c("v-form"),v=c("project-info-sidebar-detail"),y=c("v-card-title"),_=c("v-card-text"),g=c("v-card-actions"),w=c("v-card"),h=c("v-dialog"),k=c("private-view"),F=we("tooltip");return m(),S(k,{title:e.t("settings_project")},{headline:r(()=>[a(o,{items:[{name:e.t("settings"),to:"/settings"}]},null,8,["items"])]),"title-outer:prepend":r(()=>[a(d,{class:"header-icon",rounded:"",disabled:"",icon:"",secondary:""},{default:r(()=>[a(i,{name:"public"})]),_:1})]),actions:r(()=>[ne(a(d,{icon:"",rounded:"",disabled:e.noEdits,loading:e.saving,onClick:e.save},{default:r(()=>[a(i,{name:"check"})]),_:1},8,["disabled","loading","onClick"]),[[F,e.t("save"),void 0,{bottom:!0}]])]),navigation:r(()=>[a(p)]),sidebar:r(()=>[a(v)]),default:r(()=>[C("div",mD,[a(f,{modelValue:e.edits,"onUpdate:modelValue":t[0]||(t[0]=A=>e.edits=A),"initial-values":e.initialValues,fields:e.fields,"primary-key":1},null,8,["modelValue","initial-values","fields"])]),a(h,{modelValue:e.confirmLeave,"onUpdate:modelValue":t[2]||(t[2]=A=>e.confirmLeave=A),onEsc:t[3]||(t[3]=A=>e.confirmLeave=!1)},{default:r(()=>[a(w,null,{default:r(()=>[a(y,null,{default:r(()=>[D(b(e.t("unsaved_changes")),1)]),_:1}),a(_,null,{default:r(()=>[D(b(e.t("unsaved_changes_copy")),1)]),_:1}),a(g,null,{default:r(()=>[a(d,{secondary:"",onClick:e.discardAndLeave},{default:r(()=>[D(b(e.t("discard_changes")),1)]),_:1},8,["onClick"]),a(d,{onClick:t[1]||(t[1]=A=>e.confirmLeave=!1)},{default:r(()=>[D(b(e.t("keep_editing")),1)]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1},8,["title"])}var vD=N(pD,[["render",fD],["__scopeId","data-v-69b900f4"]]);const Ka=[{collection:"directus_files",action:"create",permissions:{},fields:["*"]},{collection:"directus_files",action:"read",permissions:{},fields:["*"]},{collection:"directus_files",action:"update",permissions:{},fields:["*"]},{collection:"directus_files",action:"delete",permissions:{},fields:["*"]},{collection:"directus_dashboards",action:"create",permissions:{},fields:["*"]},{collection:"directus_dashboards",action:"read",permissions:{},fields:["*"]},{collection:"directus_dashboards",action:"update",permissions:{},fields:["*"]},{collection:"directus_dashboards",action:"delete",permissions:{},fields:["*"]},{collection:"directus_panels",action:"create",permissions:{},fields:["*"]},{collection:"directus_panels",action:"read",permissions:{},fields:["*"]},{collection:"directus_panels",action:"update",permissions:{},fields:["*"]},{collection:"directus_panels",action:"delete",permissions:{},fields:["*"]},{collection:"directus_folders",action:"create",permissions:{},fields:["*"]},{collection:"directus_folders",action:"read",permissions:{},fields:["*"]},{collection:"directus_folders",action:"update",permissions:{},fields:["*"]},{collection:"directus_folders",action:"delete",permissions:{}},{collection:"directus_users",action:"read",permissions:{}},{collection:"directus_users",action:"update",permissions:{id:{_eq:"$CURRENT_USER"}},fields:["first_name","last_name","email","password","location","title","description","avatar","language","theme"]},{collection:"directus_roles",action:"read",permissions:{},fields:["*"]}],Ha=[{collection:"directus_activity",action:"read",permissions:{user:{_eq:"$CURRENT_USER"}}},{collection:"directus_activity",action:"create",validation:{comment:{_nnull:!0}}},{collection:"directus_collections",action:"read"},{collection:"directus_fields",action:"read"},{collection:"directus_permissions",action:"read",permissions:{role:{_eq:"$CURRENT_ROLE"}}},{collection:"directus_presets",action:"read",permissions:{_or:[{user:{_eq:"$CURRENT_USER"}},{_and:[{user:{_null:!0}},{role:{_eq:"$CURRENT_ROLE"}}]},{_and:[{user:{_null:!0}},{role:{_null:!0}}]}]}},{collection:"directus_presets",action:"create",validation:[{user:null,_eq:"$CURRENT_USER"}]},{collection:"directus_presets",action:"update",permissions:{user:{_eq:"$CURRENT_USER"}}},{collection:"directus_presets",action:"delete",permissions:{user:{_eq:"$CURRENT_USER"}}},{collection:"directus_relations",action:"read"},{collection:"directus_roles",action:"read",permissions:{id:{_eq:"$CURRENT_ROLE"}}},{collection:"directus_settings",action:"read"},{collection:"directus_users",action:"read",permissions:{id:{_eq:"$CURRENT_USER"}},fields:["id","first_name","last_name","email","password","location","title","description","tags","preferences_divider","avatar","language","theme","tfa_secret","status","role"]}];const _D=z({setup(){const{t:e}=te(),t=Ye(),l=mn(),n=E(null),s=E(!0),u=E(!1),{saving:o,save:i}=d();return{t:e,router:t,isOpen:l,roleName:n,saving:o,save:i,appAccess:s,adminAccess:u};function d(){const p=E(!1);return{saving:p,save:f};async function f(){p.value=!0;try{const v=await pe.post("/roles",{name:n.value,admin_access:u.value,app_access:s.value});s.value===!0&&u.value===!1&&await pe.post("/permissions",Ka.map(y=>ke(oe({},y),{role:v.data.data.id}))),t.push(`/settings/roles/${v.data.data.id}`)}catch(v){Se(v)}finally{p.value=!1}}}}}),yD={class:"form-grid"},gD={class:"field full"},hD={class:"field half"},bD={class:"type-label"},$D={class:"field half"},wD={class:"type-label"};function kD(e,t,l,n,s,u){const o=c("v-card-title"),i=c("v-input"),d=c("v-checkbox"),p=c("v-card-text"),f=c("v-button"),v=c("v-card-actions"),y=c("v-card"),_=c("v-dialog");return m(),S(_,{"model-value":e.isOpen,persistent:"",onEsc:t[3]||(t[3]=g=>e.router.push("/settings/roles"))},{default:r(()=>[a(y,null,{default:r(()=>[a(o,null,{default:r(()=>[D(b(e.t("create_role")),1)]),_:1}),a(p,null,{default:r(()=>[C("div",yD,[C("div",gD,[a(i,{modelValue:e.roleName,"onUpdate:modelValue":t[0]||(t[0]=g=>e.roleName=g),autofocus:"",placeholder:e.t("role_name")+"...",onKeyup:bn(e.save,["enter"])},null,8,["modelValue","placeholder","onKeyup"])]),C("div",hD,[C("p",bD,b(e.t("fields.directus_roles.app_access")),1),a(d,{modelValue:e.appAccess,"onUpdate:modelValue":t[1]||(t[1]=g=>e.appAccess=g),block:"",label:e.t("enabled")},null,8,["modelValue","label"])]),C("div",$D,[C("p",wD,b(e.t("fields.directus_roles.admin_access")),1),a(d,{modelValue:e.adminAccess,"onUpdate:modelValue":t[2]||(t[2]=g=>e.adminAccess=g),block:"",label:e.t("enabled")},null,8,["modelValue","label"])])])]),_:1}),a(v,null,{default:r(()=>[a(f,{to:"/settings/roles",secondary:""},{default:r(()=>[D(b(e.t("cancel")),1)]),_:1}),a(f,{disabled:e.roleName===null,loading:e.saving,onClick:e.save},{default:r(()=>[D(b(e.t("save")),1)]),_:1},8,["disabled","loading","onClick"])]),_:1})]),_:1})]),_:1},8,["model-value"])}var CD=N(_D,[["render",kD],["__scopeId","data-v-2bf24ab7"]]);const SD=z({name:"RolesCollection",components:{SettingsNavigation:Mt,ValueNull:ln},props:{},setup(){const{t:e}=te(),t=Ye(),l=E([]),n=E(!1),s=[{text:"",value:"icon",sortable:!1,width:42,align:"left"},{text:e("name"),value:"name",sortable:!1,width:140,align:"left"},{text:e("users"),value:"count",sortable:!1,width:140,align:"left"},{text:e("description"),value:"description",sortable:!1,width:470,align:"left"}];o();const u=V(()=>"/settings/roles/+");return{t:e,loading:n,roles:l,tableHeaders:s,addNewLink:u,navigateToRole:i};async function o(){n.value=!0;try{const d=await pe.get("/roles",{params:{limit:-1,fields:"id,name,description,icon,users.id",sort:"name"}});l.value=[{public:!0,name:e("public_label"),icon:"public",description:e("public_description"),id:"public"},...d.data.data.map(p=>ke(oe({},p),{count:(p.users||[]).length}))]}catch(d){Se(d)}finally{n.value=!1}}function i({item:d}){t.push(`/settings/roles/${d.id}`)}}}),VD={class:"page-description"},FD={class:"roles"},AD={class:"description"};function ID(e,t,l,n,s,u){const o=c("v-breadcrumb"),i=c("v-icon"),d=c("v-button"),p=c("settings-navigation"),f=c("sidebar-detail"),v=c("value-null"),y=c("v-table"),_=c("router-view"),g=c("private-view"),w=we("tooltip"),h=we("md");return m(),S(g,{title:e.t("settings_permissions")},{headline:r(()=>[a(o,{items:[{name:e.t("settings"),to:"/settings"}]},null,8,["items"])]),"title-outer:prepend":r(()=>[a(d,{class:"header-icon",rounded:"",disabled:"",icon:"",secondary:""},{default:r(()=>[a(i,{name:"admin_panel_settings",outline:""})]),_:1})]),actions:r(()=>[ne(a(d,{rounded:"",icon:"",to:e.addNewLink},{default:r(()=>[a(i,{name:"add"})]),_:1},8,["to"]),[[w,e.t("create_role"),void 0,{bottom:!0}]])]),navigation:r(()=>[a(p)]),sidebar:r(()=>[a(f,{icon:"info_outline",title:e.t("information"),close:""},{default:r(()=>[ne(C("div",VD,null,512),[[h,e.t("page_help_settings_roles_collection")]])]),_:1},8,["title"])]),default:r(()=>[C("div",FD,[a(y,{items:e.roles,headers:e.tableHeaders,"fixed-header":"","item-key":"id",loading:e.loading,"onClick:row":e.navigateToRole},{["item.icon"]:r(({item:k})=>[a(i,{class:ue(["icon",{public:k.public}]),name:k.icon},null,8,["name","class"])]),["item.name"]:r(({item:k})=>[C("span",{class:ue(["name",{public:k.public}])},b(k.name),3)]),["item.count"]:r(({item:k})=>[k.public?(m(),S(v,{key:0})):R("",!0)]),["item.description"]:r(({item:k})=>[C("span",AD,b(k.description),1)]),_:2},1032,["items","headers","loading","onClick:row"])]),a(_,{name:"add"})]),_:1},8,["title"])}var ED=N(SD,[["render",ID],["__scopeId","data-v-491e6aad"]]);const DD=z({props:{isNew:{type:Boolean,default:!1},role:{type:Object,default:null}},setup(){const{t:e}=te();return{t:e}}}),TD={key:0},PD={class:"page-description"};function LD(e,t,l,n,s,u){const o=c("v-divider"),i=c("sidebar-detail"),d=we("md");return m(),S(i,{icon:"info_outline",title:e.t("information"),close:""},{default:r(()=>[!e.isNew&&e.role?(m(),I("dl",TD,[C("div",null,[C("dt",null,b(e.t("primary_key")),1),C("dd",null,b(e.role.id),1)])])):R("",!0),a(o),ne(C("div",PD,null,512),[[d,e.t("page_help_settings_roles_item")]])]),_:1},8,["title"])}var OD=N(DD,[["render",LD],["__scopeId","data-v-b5c69570"]]);const jD=z({setup(){const{t:e}=te();return{t:e}}}),RD={class:"permissions-overview-header"},MD={class:"name"};function UD(e,t,l,n,s,u){const o=c("v-icon"),i=we("tooltip");return m(),I("div",RD,[C("span",MD,b(e.t("collection")),1),ne(a(o,{name:"add"},null,512),[[i,e.t("create")]]),ne(a(o,{name:"visibility"},null,512),[[i,e.t("read")]]),ne(a(o,{name:"edit",outline:""},null,512),[[i,e.t("update")]]),ne(a(o,{name:"delete",outline:""},null,512),[[i,e.t("delete_label")]])])}var ND=N(jD,[["render",UD],["__scopeId","data-v-1a0c28fc"]]);function Wa(e,t,l){const n=E(!1),s=ht("refresh-permissions");return{getPermission:u,setFullAccess:o,setNoAccess:i,setFullAccessAll:d,setNoAccessAll:p};function u(f){return t.value.find(v=>v.action===f)}async function o(f){if(n.value===!0)return;n.value=!0,e.value.meta===null&&await pe.patch(`/collections/${e.value.collection}`,{meta:{}});const v=u(f);if(v)try{await pe.patch(`/permissions/${v.id}`,{fields:"*",permissions:{},validation:{}})}catch(y){Se(y)}finally{await(s==null?void 0:s()),n.value=!1}else try{await pe.post("/permissions/",{role:l.value,collection:e.value.collection,action:f,fields:"*",permissions:{},validation:{}})}catch(y){Se(y)}finally{await(s==null?void 0:s()),n.value=!1}}async function i(f){if(n.value===!0)return;const v=u(f);if(!!v){n.value=!0;try{await pe.delete(`/permissions/${v.id}`)}catch(y){Se(y)}finally{await(s==null?void 0:s()),n.value=!1}}}async function d(){if(n.value===!0)return;n.value=!0,e.value.meta===null&&await pe.patch(`/collections/${e.value.collection}`,{meta:{}});const f=["create","read","update","delete"];await Promise.all(f.map(async v=>{const y=u(v);if(y)try{await pe.patch(`/permissions/${y.id}`,{fields:"*",permissions:{},validation:{}})}catch(_){Se(_)}else try{await pe.post("/permissions/",{role:l.value,collection:e.value.collection,action:v,fields:"*",permissions:{},validation:{}})}catch(_){Se(_)}})),await(s==null?void 0:s()),n.value=!1}async function p(){if(n.value!==!0){n.value=!0;try{await pe.delete("/permissions",{data:t.value.map(f=>f.id)})}catch(f){Se(f)}finally{await(s==null?void 0:s()),n.value=!1}}}}const BD=z({props:{collection:{type:Object,required:!0},role:{type:String,default:null},action:{type:String,required:!0},permissions:{type:Array,default:null},loading:{type:Boolean,default:!1},appMinimal:{type:[Boolean,Object],default:!1}},setup(e){const{t}=te(),l=Ye(),{collection:n,role:s,permissions:u}=Ue(e),{setFullAccess:o,setNoAccess:i,getPermission:d}=Wa(n,u,s),p=V(()=>d(e.action)),f=V(()=>{var w;return p.value===void 0?"none":((w=p.value.fields)==null?void 0:w.includes("*"))&&Object.keys(p.value.permissions||{}).length===0&&Object.keys(p.value.validation||{}).length===0?"all":"custom"}),v=E(!1),y=ht("refresh-permissions"),_=V(()=>e.appMinimal===!1?null:Object.keys(e.appMinimal).length===2?"full":"partial");return{t,permissionLevel:f,saving:v,setFullAccess:o,setNoAccess:i,openPermissions:g,appMinimalLevel:_};async function g(){if(e.collection.meta===null&&await pe.patch(`/collections/${e.collection.collection}`,{meta:{}}),p.value)l.push(`/settings/roles/${e.role||"public"}/${p.value.id}`);else{v.value=!0;const w=await pe.post("/permissions",{role:e.role,collection:e.collection.collection,action:e.action});await(y==null?void 0:y()),v.value=!1,l.push(`/settings/roles/${e.role||"public"}/${w.data.data.id}`)}}}});function qD(e,t,l,n,s,u){const o=c("v-icon"),i=c("v-progress-circular"),d=c("v-list-item-icon"),p=c("v-list-item-content"),f=c("v-list-item"),v=c("v-divider"),y=c("v-list"),_=c("v-menu"),g=we("tooltip");return ne((m(),I("div",{class:ue(["permissions-overview-toggle",[{"has-app-minimal":!!e.appMinimal},e.permissionLevel,e.appMinimalLevel]])},[e.appMinimalLevel==="full"?(m(),S(o,{key:0,name:"check",class:"all app-minimal"})):(m(),S(_,{key:1,"show-arrow":""},{activator:r(({toggle:w})=>[C("div",null,[e.loading||e.saving?(m(),S(i,{key:0,indeterminate:"",small:""})):e.permissionLevel==="all"?(m(),S(o,{key:1,clickable:"",name:"check",onClick:w},null,8,["onClick"])):e.appMinimalLevel==="partial"||e.permissionLevel==="custom"?(m(),S(o,{key:2,clickable:"",name:"rule",onClick:w},null,8,["onClick"])):e.permissionLevel==="none"?(m(),S(o,{key:3,clickable:"",name:"block",onClick:w},null,8,["onClick"])):R("",!0)])]),default:r(()=>[a(y,null,{default:r(()=>[a(f,{disabled:e.permissionLevel==="all",clickable:"",onClick:t[0]||(t[0]=w=>e.setFullAccess(e.action))},{default:r(()=>[a(d,null,{default:r(()=>[a(o,{name:"check"})]),_:1}),a(p,null,{default:r(()=>[D(b(e.t("all_access")),1)]),_:1})]),_:1},8,["disabled"]),e.appMinimalLevel?R("",!0):(m(),S(f,{key:0,disabled:e.permissionLevel==="none",clickable:"",onClick:t[1]||(t[1]=w=>e.setNoAccess(e.action))},{default:r(()=>[a(d,null,{default:r(()=>[a(o,{name:"block"})]),_:1}),a(p,null,{default:r(()=>[D(b(e.t("no_access")),1)]),_:1})]),_:1},8,["disabled"])),a(v),a(f,{clickable:"",onClick:e.openPermissions},{default:r(()=>[a(d,null,{default:r(()=>[a(o,{name:"rule"})]),_:1}),a(p,null,{default:r(()=>[D(b(e.t("use_custom")),1)]),_:1}),a(d,null,{default:r(()=>[a(o,{name:"launch"})]),_:1})]),_:1},8,["onClick"])]),_:1})]),_:1}))],2)),[[g,e.appMinimal&&e.t("required_for_app_access")]])}var zD=N(BD,[["render",qD],["__scopeId","data-v-169ac11c"]]);const KD=z({components:{PermissionsOverviewToggle:zD},props:{role:{type:String,default:null},collection:{type:Object,required:!0},permissions:{type:Array,required:!0},refreshing:{type:Array,required:!0},appMinimal:{type:[Boolean,Array],default:!1}},setup(e){const{t}=te(),{collection:l,role:n,permissions:s}=Ue(e),{setFullAccessAll:u,setNoAccessAll:o,getPermission:i}=Wa(l,s,n);return{t,getPermission:i,isLoading:d,setFullAccessAll:u,setNoAccessAll:o};function d(p){const f=i(p);return f?e.refreshing.includes(f.id):!1}}}),HD=e=>(We("data-v-fb90f180"),e=e(),Ge(),e),WD={class:"permissions-overview-row"},GD={class:"name"},JD={class:"actions"},QD=HD(()=>C("span",{class:"divider"},"/",-1));function XD(e,t,l,n,s,u){const o=c("permissions-overview-toggle");return m(),I("div",WD,[C("span",GD,[D(b(e.collection.name)+" ",1),C("span",JD,[C("span",{class:"all",onClick:t[0]||(t[0]=(...i)=>e.setFullAccessAll&&e.setFullAccessAll(...i))},b(e.t("all")),1),QD,C("span",{class:"none",onClick:t[1]||(t[1]=(...i)=>e.setNoAccessAll&&e.setNoAccessAll(...i))},b(e.t("none")),1)])]),a(o,{action:"create",collection:e.collection,role:e.role,permissions:e.permissions,loading:e.isLoading("create"),"app-minimal":e.appMinimal&&e.appMinimal.find(i=>i.action==="create")},null,8,["collection","role","permissions","loading","app-minimal"]),a(o,{action:"read",collection:e.collection,role:e.role,permissions:e.permissions,loading:e.isLoading("read"),"app-minimal":e.appMinimal&&e.appMinimal.find(i=>i.action==="read")},null,8,["collection","role","permissions","loading","app-minimal"]),a(o,{action:"update",collection:e.collection,role:e.role,permissions:e.permissions,loading:e.isLoading("update"),"app-minimal":e.appMinimal&&e.appMinimal.find(i=>i.action==="update")},null,8,["collection","role","permissions","loading","app-minimal"]),a(o,{action:"delete",collection:e.collection,role:e.role,permissions:e.permissions,loading:e.isLoading("delete"),"app-minimal":e.appMinimal&&e.appMinimal.find(i=>i.action==="delete")},null,8,["collection","role","permissions","loading","app-minimal"])])}var ZD=N(KD,[["render",XD],["__scopeId","data-v-fb90f180"]]);const YD=z({components:{PermissionsOverviewHeader:ND,PermissionsOverviewRow:ZD},props:{role:{type:String,default:null},permission:{type:String,default:null},appAccess:{type:Boolean,default:!1}},setup(e){const{t}=te(),l=Ke(),n=V(()=>l.collections.filter(k=>k.collection.startsWith("directus_")===!1&&k.schema)),s=V(()=>M.exports.orderBy(l.collections.filter(k=>k.collection.startsWith("directus_")===!0),"name")),u=E(!1),{permissions:o,loading:i,fetchPermissions:d,refreshPermission:p,refreshing:f}=w(),{resetActive:v,resetSystemPermissions:y,resetting:_,resetError:g}=h();return d(),ye(()=>e.permission,d,{immediate:!0}),xt("refresh-permissions",d),{t,systemVisible:u,regularCollections:n,systemCollections:s,permissions:o,loading:i,fetchPermissions:d,refreshPermission:p,refreshing:f,resetActive:v,resetSystemPermissions:y,resetting:_,resetError:g,appMinimalPermissions:Ha};function w(){const k=E([]),F=E(!1),A=E([]);return{permissions:k,loading:F,fetchPermissions:P,refreshPermission:L,refreshing:A};async function P(){F.value=!0;try{const O={filter:{role:{}},limit:-1};e.role===null?O.filter.role={_null:!0}:O.filter.role={_eq:e.role};const U=await pe.get("/permissions",{params:O});k.value=U.data.data}catch(O){Se(O)}finally{F.value=!1}}async function L(O){A.value.includes(O)===!1&&A.value.push(O);try{const U=await pe.get(`/permissions/${O}`);k.value=k.value.map(T=>T.id===O?U.data.data:T)}catch(U){Se(U)}finally{A.value=A.value.filter(U=>U!==O)}}}function h(){const k=E(!1),F=E(!1),A=E(null);return{resetActive:k,resetSystemPermissions:P,resetting:F,resetError:A};async function P(L){F.value=!0;const O=o.value.filter(U=>U.collection.startsWith("directus_")).map(U=>U.id);try{O.length>0&&await pe.delete("/permissions",{data:O}),e.role!==null&&e.appAccess===!0&&L===!0&&await pe.post("/permissions",Ka.map(U=>ke(oe({},U),{role:e.role}))),await d(),k.value=!1}catch(U){A.value=U}finally{F.value=!1}}}}}),xD={class:"permissions-overview"},e5={class:"title type-label"},t5={class:"instant-save"},n5={class:"table"},l5={key:0},o5={key:0,class:"reset-toggle"},a5=D(" / ");function i5(e,t,l,n,s,u){const o=c("permissions-overview-header"),i=c("permissions-overview-row"),d=c("v-icon"),p=c("transition-expand"),f=c("router-view"),v=c("v-card-title"),y=c("v-button"),_=c("v-card-actions"),g=c("v-card"),w=c("v-dialog");return m(),I("div",xD,[C("h2",e5,[D(b(e.t("permissions"))+" ",1),C("span",t5,b(e.t("saves_automatically")),1)]),C("div",n5,[a(o),(m(!0),I(ae,null,be(e.regularCollections,h=>(m(),S(i,{key:h.collection,collection:h,role:e.role,permissions:e.permissions.filter(k=>k.collection===h.collection),refreshing:e.refreshing},null,8,["collection","role","permissions","refreshing"]))),128)),C("button",{class:"system-toggle",onClick:t[0]||(t[0]=h=>e.systemVisible=!e.systemVisible)},[D(b(e.t("system_collections"))+" ",1),a(d,{name:e.systemVisible?"expand_less":"expand_more"},null,8,["name"])]),a(p,null,{default:r(()=>[e.systemVisible?(m(),I("div",l5,[(m(!0),I(ae,null,be(e.systemCollections,h=>(m(),S(i,{key:h.collection,collection:h,role:e.role,permissions:e.permissions.filter(k=>k.collection===h.collection),refreshing:e.refreshing,"app-minimal":e.appAccess&&e.appMinimalPermissions.filter(k=>k.collection===h.collection)},null,8,["collection","role","permissions","refreshing","app-minimal"]))),128))])):R("",!0)]),_:1}),e.systemVisible&&e.appAccess?(m(),I("span",o5,[D(b(e.t("reset_system_permissions_to"))+" ",1),C("button",{onClick:t[1]||(t[1]=h=>e.resetActive="minimum")},b(e.t("app_access_minimum")),1),a5,C("button",{onClick:t[2]||(t[2]=h=>e.resetActive="recommended")},b(e.t("recommended_defaults")),1)])):R("",!0)]),a(f,{name:"permissionsDetail","role-key":e.role,"permission-key":e.permission},null,8,["role-key","permission-key"]),a(w,{"model-value":!!e.resetActive,"onUpdate:modelValue":t[5]||(t[5]=h=>e.resetActive=!1),onEsc:t[6]||(t[6]=h=>e.resetActive=!1)},{default:r(()=>[a(g,null,{default:r(()=>[a(v,null,{default:r(()=>[D(b(e.t("reset_system_permissions_copy")),1)]),_:1}),a(_,null,{default:r(()=>[a(y,{secondary:"",onClick:t[3]||(t[3]=h=>e.resetActive=!1)},{default:r(()=>[D(b(e.t("cancel")),1)]),_:1}),a(y,{loading:e.resetting,onClick:t[4]||(t[4]=h=>e.resetSystemPermissions(e.resetActive==="recommended"))},{default:r(()=>[D(b(e.t("reset")),1)]),_:1},8,["loading"])]),_:1})]),_:1})]),_:1},8,["model-value"])])}var Ga=N(YD,[["render",i5],["__scopeId","data-v-554c2db2"]]);const s5=z({props:{modelValue:{type:Boolean,default:!1},role:{type:String,default:null}},emits:["update:modelValue"],setup(e,{emit:t}){const{t:l}=te(),n=E(""),s=E([]),u=E(e.role),o=E(!1),i=E([]);return ye(()=>e.modelValue,()=>{p()}),{t:l,emails:n,inviteUsers:d,roles:s,roleSelected:u,loading:o,uniqueValidationErrors:i};async function d(){var f,v,y,_,g,w;o.value=!0;try{const h=n.value.split(/,|\n/).filter(k=>k).map(k=>k.trim());await pe.post("/users/invite",{email:h,role:u.value}),n.value="",t("update:modelValue",!1)}catch(h){i.value=(y=(v=(f=h==null?void 0:h.response)==null?void 0:f.data)==null?void 0:v.errors)==null?void 0:y.filter(F=>{var A;return((A=F.extensions)==null?void 0:A.code)==="RECORD_NOT_UNIQUE"});const k=(w=(g=(_=h==null?void 0:h.response)==null?void 0:_.data)==null?void 0:g.errors)==null?void 0:w.filter(F=>{var A;return((A=F==null?void 0:F.extensions)==null?void 0:A.code)!=="RECORD_NOT_UNIQUE"});k.length>0&&k.forEach(F=>Se(F))}finally{o.value=!1}}async function p(){const f=await pe.get("/roles");s.value=f.data.data.map(v=>({text:v.name,value:v.id})),s.value.length>0&&u.value===null&&(u.value=s.value[0].value)}}}),r5={class:"grid"},d5={class:"field"},u5={class:"type-label"},c5={key:0,class:"field"},p5={class:"type-label"};function m5(e,t,l,n,s,u){const o=c("v-card-title"),i=c("v-textarea"),d=c("v-select"),p=c("v-notice"),f=c("v-card-text"),v=c("v-button"),y=c("v-card-actions"),_=c("v-card"),g=c("v-dialog");return m(),S(g,{"model-value":e.modelValue,"onUpdate:modelValue":t[3]||(t[3]=w=>e.$emit("update:modelValue",w)),onEsc:t[4]||(t[4]=w=>e.$emit("update:modelValue",!1))},{default:r(()=>[a(_,null,{default:r(()=>[a(o,null,{default:r(()=>[D(b(e.t("invite_users")),1)]),_:1}),a(f,null,{default:r(()=>[C("div",r5,[C("div",d5,[C("div",u5,b(e.t("emails")),1),a(i,{modelValue:e.emails,"onUpdate:modelValue":t[0]||(t[0]=w=>e.emails=w),nullable:!1,placeholder:"admin@example.com, user@example.com..."},null,8,["modelValue"])]),e.role===null?(m(),I("div",c5,[C("div",p5,b(e.t("role")),1),a(d,{modelValue:e.roleSelected,"onUpdate:modelValue":t[1]||(t[1]=w=>e.roleSelected=w),items:e.roles},null,8,["modelValue","items"])])):R("",!0),e.uniqueValidationErrors.length>0?(m(),S(p,{key:1,class:"field",type:"danger"},{default:r(()=>[(m(!0),I(ae,null,be(e.uniqueValidationErrors,(w,h)=>(m(),I("div",{key:h},[w.extensions.invalid?(m(),I(ae,{key:0},[D(b(e.t("email_already_invited",{email:w.extensions.invalid})),1)],64)):h===0?(m(),I(ae,{key:1},[D(b(e.t("validationError.unique")),1)],64)):R("",!0)]))),128))]),_:1})):R("",!0)])]),_:1}),a(y,null,{default:r(()=>[a(v,{secondary:"",onClick:t[2]||(t[2]=w=>e.$emit("update:modelValue",!1))},{default:r(()=>[D(b(e.t("cancel")),1)]),_:1}),a(v,{disabled:e.emails===null||e.emails.length===0,loading:e.loading,onClick:e.inviteUsers},{default:r(()=>[D(b(e.t("invite")),1)]),_:1},8,["disabled","loading","onClick"])]),_:1})]),_:1})]),_:1},8,["model-value"])}var Ja=N(s5,[["render",m5],["__scopeId","data-v-52e00551"]]);const f5=z({name:"RolesItem",components:{SettingsNavigation:Mt,RevisionsDrawerDetail:Kn,RoleInfoSidebarDetail:OD,PermissionsOverview:Ga,UsersInvite:Ja},props:{primaryKey:{type:String,required:!0},permissionKey:{type:String,default:null}},setup(e){const{t}=te(),l=Ye(),n=Xe(),s=E(!1),{primaryKey:u}=Ue(e),{edits:o,item:i,saving:d,loading:p,error:f,save:v,remove:y,deleting:_,isBatch:g}=Sn(E("directus_roles"),u),w=V(()=>Object.keys(o.value).length>0),h=E(!1),k=V(()=>!!oe(oe({},i.value),o.value).admin_access),F=V(()=>!!oe(oe({},i.value),o.value).app_access);et("meta+s",()=>{w.value&&U()});const A=V(()=>w.value===!0?!0:w.value);nn(A);const P=E(!1),L=E(null),O=K=>{if(w.value)return P.value=!0,L.value=K.fullPath,!1};return Ot(O),Pt(O),{t,item:i,loading:p,error:f,edits:o,hasEdits:w,saving:d,saveAndQuit:T,deleteAndQuit:B,confirmDelete:h,deleting:_,isBatch:g,adminEnabled:k,userInviteModalActive:s,appAccess:F,isSavable:A,confirmLeave:P,leaveTo:L,discardAndLeave:q};async function U(){await v(),await n.hydrate()}async function T(){await v(),await n.hydrate(),l.push("/settings/roles")}async function B(){await y(),l.push("/settings/roles")}function q(){!L.value||(o.value={},P.value=!1,l.push(L.value))}}}),v5={class:"roles"};function _5(e,t,l,n,s,u){const o=c("v-breadcrumb"),i=c("v-icon"),d=c("v-button"),p=c("v-card-title"),f=c("v-card-actions"),v=c("v-card"),y=c("v-dialog"),_=c("settings-navigation"),g=c("users-invite"),w=c("v-notice"),h=c("permissions-overview"),k=c("v-form"),F=c("role-info-sidebar-detail"),A=c("revisions-drawer-detail"),P=c("v-card-text"),L=c("private-view"),O=we("tooltip");return m(),S(L,{title:e.loading?e.t("loading"):e.t("editing_role",{role:e.item&&e.item.name})},{headline:r(()=>[a(o,{items:[{name:e.t("settings_permissions"),to:"/settings/roles"}]},null,8,["items"])]),"title-outer:prepend":r(()=>[a(d,{class:"header-icon",rounded:"",icon:"",exact:"",to:"/settings/roles/"},{default:r(()=>[a(i,{name:"arrow_back"})]),_:1})]),actions:r(()=>[[1,2].includes(+e.primaryKey)===!1?(m(),S(y,{key:0,modelValue:e.confirmDelete,"onUpdate:modelValue":t[1]||(t[1]=U=>e.confirmDelete=U),onEsc:t[2]||(t[2]=U=>e.confirmDelete=!1)},{activator:r(({on:U})=>[ne(a(d,{rounded:"",icon:"",class:"action-delete",disabled:e.item===null,onClick:U},{default:r(()=>[a(i,{name:"delete",outline:""})]),_:2},1032,["disabled","onClick"]),[[O,e.t("delete_label"),void 0,{bottom:!0}]])]),default:r(()=>[a(v,null,{default:r(()=>[a(p,null,{default:r(()=>[D(b(e.t("delete_are_you_sure")),1)]),_:1}),a(f,null,{default:r(()=>[a(d,{secondary:"",onClick:t[0]||(t[0]=U=>e.confirmDelete=!1)},{default:r(()=>[D(b(e.t("cancel")),1)]),_:1}),a(d,{kind:"danger",loading:e.deleting,onClick:e.deleteAndQuit},{default:r(()=>[D(b(e.t("delete_label")),1)]),_:1},8,["loading","onClick"])]),_:1})]),_:1})]),_:1},8,["modelValue"])):R("",!0),ne(a(d,{rounded:"",icon:"",class:"invite-user",onClick:t[3]||(t[3]=U=>e.userInviteModalActive=!0)},{default:r(()=>[a(i,{name:"person_add"})]),_:1},512),[[O,e.t("invite_users"),void 0,{bottom:!0}]]),ne(a(d,{rounded:"",icon:"",loading:e.saving,disabled:e.hasEdits===!1,onClick:e.saveAndQuit},{default:r(()=>[a(i,{name:"check"})]),_:1},8,["loading","disabled","onClick"]),[[O,e.t("save"),void 0,{bottom:!0}]])]),navigation:r(()=>[a(_)]),sidebar:r(()=>[a(F,{role:e.item},null,8,["role"]),a(A,{collection:"directus_roles","primary-key":e.primaryKey},null,8,["primary-key"])]),default:r(()=>[a(g,{modelValue:e.userInviteModalActive,"onUpdate:modelValue":t[4]||(t[4]=U=>e.userInviteModalActive=U),role:e.primaryKey},null,8,["modelValue","role"]),C("div",v5,[e.adminEnabled?(m(),S(w,{key:0,type:"info"},{default:r(()=>[D(b(e.t("admins_have_all_permissions")),1)]),_:1})):(m(),S(h,{key:1,role:e.primaryKey,permission:e.permissionKey,"app-access":e.appAccess},null,8,["role","permission","app-access"])),a(k,{modelValue:e.edits,"onUpdate:modelValue":t[5]||(t[5]=U=>e.edits=U),collection:"directus_roles","primary-key":e.primaryKey,loading:e.loading,"initial-values":e.item,"batch-mode":e.isBatch},null,8,["modelValue","primary-key","loading","initial-values","batch-mode"])]),a(y,{modelValue:e.confirmLeave,"onUpdate:modelValue":t[7]||(t[7]=U=>e.confirmLeave=U),onEsc:t[8]||(t[8]=U=>e.confirmLeave=!1)},{default:r(()=>[a(v,null,{default:r(()=>[a(p,null,{default:r(()=>[D(b(e.t("unsaved_changes")),1)]),_:1}),a(P,null,{default:r(()=>[D(b(e.t("unsaved_changes_copy")),1)]),_:1}),a(f,null,{default:r(()=>[a(d,{secondary:"",onClick:e.discardAndLeave},{default:r(()=>[D(b(e.t("discard_changes")),1)]),_:1},8,["onClick"]),a(d,{onClick:t[6]||(t[6]=U=>e.confirmLeave=!1)},{default:r(()=>[D(b(e.t("keep_editing")),1)]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1},8,["title"])}var y5=N(f5,[["render",_5],["__scopeId","data-v-d47be2ca"]]);function Qa(e){return(e.fields||[]).length===0&&Object.keys(e.validation||{}).length===0&&Object.keys(e.presets||{}).length===0&&Object.keys(e.permissions||{}).length===0}const g5=z({props:{roleKey:{type:String,default:null},permission:{type:Object,required:!0}},emits:["refresh"],setup(e,{emit:t}){const{t:l}=te(),n=Ye(),s=E(!1);return{t:l,save:u,loading:s};async function u(){s.value=!0;try{Qa(e.permission)?await pe.delete(`/permissions/${e.permission.id}`):await pe.patch(`/permissions/${e.permission.id}`,e.permission),t("refresh"),n.push(`/settings/roles/${e.roleKey||"public"}`)}catch(o){Se(o)}finally{s.value=!1}}}}),h5={class:"actions"};function b5(e,t,l,n,s,u){const o=c("v-icon"),i=c("v-button"),d=we("tooltip");return m(),I("div",h5,[ne(a(i,{loading:e.loading,icon:"",rounded:"",onClick:e.save},{default:r(()=>[a(o,{name:"check"})]),_:1},8,["loading","onClick"]),[[d,e.t("save"),void 0,{bottom:!0}]])])}var $5=N(g5,[["render",b5],["__scopeId","data-v-47610afd"]]);const w5=z({props:{currentTab:{type:Array,default:null},tabs:{type:Array,required:!0}},emits:["update:currentTab"],setup(e,{emit:t}){return{internalCurrentTab:Oe(e,"currentTab",t)}}}),k5={class:"text"};function C5(e,t,l,n,s,u){const o=c("v-tab"),i=c("v-tabs");return m(),S(i,{modelValue:e.internalCurrentTab,"onUpdate:modelValue":t[0]||(t[0]=d=>e.internalCurrentTab=d),vertical:""},{default:r(()=>[(m(!0),I(ae,null,be(e.tabs,d=>(m(),S(o,{key:d.value,value:d.value},{default:r(()=>[C("span",k5,b(d.text),1),C("span",{class:ue(["dot",{on:d.hasValue}])},null,2)]),_:2},1032,["value"]))),128))]),_:1},8,["modelValue"])}var S5=N(w5,[["render",C5],["__scopeId","data-v-678d5948"]]);const V5=z({props:{permission:{type:Object,required:!0},role:{type:Object,default:null},appMinimal:{type:Object,default:void 0}},emits:["update:permission"],setup(e,{emit:t}){const{t:l}=te(),n=Oe(e,"permission",t),s=V(()=>[{field:"permissions",name:l("rule"),type:"json",meta:{interface:"system-filter",options:{collectionName:n.value.collection}}}]);return{t:l,fields:s,permissionSync:n}}}),F5={key:0,class:"app-minimal"},A5={class:"app-minimal-preview"};function I5(e,t,l,n,s,u){const o=c("v-notice"),i=c("v-form"),d=c("v-divider");return m(),I("div",null,[a(o,{type:"info"},{default:r(()=>[D(b(e.t("permissions_for_role",{action:e.t(e.permission.action).toLowerCase(),role:e.role?e.role.name:e.t("public_label")})),1)]),_:1}),a(i,{modelValue:e.permissionSync,"onUpdate:modelValue":t[0]||(t[0]=p=>e.permissionSync=p),fields:e.fields},null,8,["modelValue","fields"]),e.appMinimal?(m(),I("div",F5,[a(d),a(o,{type:"warning"},{default:r(()=>[D(b(e.t("the_following_are_minimum_permissions")),1)]),_:1}),C("pre",A5,b(e.appMinimal),1)])):R("",!0)])}var E5=N(V5,[["render",I5],["__scopeId","data-v-324d840c"]]);const D5=z({props:{permission:{type:Object,required:!0},role:{type:Object,default:null},appMinimal:{type:Object,default:void 0}},emits:["update:permission"],setup(e,{emit:t}){const{t:l}=te(),n=Te(),s=Oe(e,"permission",t),u=V(()=>n.getFieldsForCollection(e.permission.collection).map(d=>({text:d.name,value:d.field}))),o=V({get(){return s.value.fields?s.value.fields.includes("*")?u.value.map(({value:i})=>i):s.value.fields:[]},set(i){i&&i.length>0?s.value=ke(oe({},s.value),{fields:i}):s.value=ke(oe({},s.value),{fields:null})}});return{t:l,fields:o,fieldsInCollection:u}}}),T5={class:"type-label"},P5={key:0,class:"app-minimal"},L5={class:"app-minimal-preview"};function O5(e,t,l,n,s,u){const o=c("v-notice"),i=c("interface-select-multiple-checkbox"),d=c("v-divider");return m(),I("div",null,[a(o,{type:"info"},{default:r(()=>[D(b(e.t("fields_for_role",{role:e.role?e.role.name:e.t("public_label"),action:e.t(e.permission.action).toLowerCase()})),1)]),_:1}),C("p",T5,b(e.t("field",0)),1),a(i,{value:e.fields,type:"json",choices:e.fieldsInCollection,onInput:t[0]||(t[0]=p=>e.fields=p)},null,8,["value","choices"]),e.appMinimal?(m(),I("div",P5,[a(d),a(o,{type:"warning"},{default:r(()=>[D(b(e.t("the_following_are_minimum_permissions")),1)]),_:1}),C("pre",L5,b(e.appMinimal),1)])):R("",!0)])}var j5=N(D5,[["render",O5],["__scopeId","data-v-28e7bb60"]]);const R5=z({props:{permission:{type:Object,required:!0},role:{type:Object,default:null}},emits:["update:permission"],setup(e,{emit:t}){const{t:l}=te(),n=Oe(e,"permission",t),s=V(()=>[{field:"validation",name:l("rule"),type:"json",meta:{interface:"system-filter",options:{collectionName:n.value.collection}}}]);return{t:l,permissionSync:n,fields:s}}});function M5(e,t,l,n,s,u){const o=c("v-notice"),i=c("v-form");return m(),I("div",null,[a(o,{type:"info"},{default:r(()=>[D(b(e.t("validation_for_role",{action:e.t(e.permission.action).toLowerCase(),role:e.role?e.role.name:e.t("public_label")})),1)]),_:1}),a(i,{modelValue:e.permissionSync,"onUpdate:modelValue":t[0]||(t[0]=d=>e.permissionSync=d),fields:e.fields},null,8,["modelValue","fields"])])}var U5=N(R5,[["render",M5],["__scopeId","data-v-e3088adc"]]);const N5=z({props:{permission:{type:Object,default:null},role:{type:Object,default:null}},emits:["update:permission"],setup(e,{emit:t}){const{t:l}=te(),n=Oe(e,"permission",t),s=V({get(){return n.value.presets},set(u){n.value=ke(oe({},n.value),{presets:u})}});return{t:l,presets:s}}});function B5(e,t,l,n,s,u){const o=c("v-notice"),i=c("interface-input-code");return m(),I("div",null,[a(o,{type:"info"},{default:r(()=>[D(b(e.t("presets_for_role",{action:e.t(e.permission.action).toLowerCase(),role:e.role?e.role.name:e.t("public_label")})),1)]),_:1}),a(i,{value:e.presets,language:"json",type:"json",onInput:t[0]||(t[0]=d=>e.presets=d)},null,8,["value"])])}var q5=N(N5,[["render",B5],["__scopeId","data-v-660c7066"]]);const z5=z({components:{Actions:$5,Tabs:S5,Permissions:E5,Fields:j5,Validation:U5,Presets:q5},props:{roleKey:{type:String,default:null},permissionKey:{type:String,required:!0}},emits:["refresh"],setup(e){const{t}=te(),l=Ye(),n=Ke(),s=mn(),u=E(),o=E(),i=E(!1),d=V(()=>{var h;return u.value?(h=n.collections.find(k=>k.collection===u.value.collection))==null?void 0:h.name:null}),p=V(()=>i.value||!u.value?t("loading"):e.roleKey?o.value.name+" -> "+d.value+" -> "+t(u.value.action):t("public_label")+" -> "+d.value+" -> "+t(u.value.action));ye(()=>e.permissionKey,w,{immediate:!0});const f=V(()=>{if(!u.value)return[];const h=u.value.action,k=[];return["read","update","delete"].includes(h)&&k.push({text:t("item_permissions"),value:"permissions",hasValue:u.value.permissions!==null&&Object.keys(u.value.permissions).length>0}),["create","read","update"].includes(h)&&k.push({text:t("field_permissions"),value:"fields",hasValue:u.value.fields!==null}),["create","update"].includes(h)&&k.push({text:t("field_validation"),value:"validation",hasValue:u.value.validation!==null&&Object.keys(u.value.validation).length>0}),["create","update"].includes(h)&&k.push({text:t("field_presets"),value:"presets",hasValue:u.value.presets!==null&&Object.keys(u.value.presets).length>0}),k}),v=E([]),y=V(()=>{var k;const h=(k=v.value)==null?void 0:k[0];return h?f.value.find(F=>F.value===h):null});ye(f,(h,k)=>{var F,A;h&&k&&h.length===k.length||(v.value=[(A=(F=f==null?void 0:f.value)==null?void 0:F[0])==null?void 0:A.value])},{immediate:!0});const _=V(()=>u.value?Ha.find(h=>h.collection===u.value.collection&&h.action===u.value.action):null);return{isOpen:s,permission:u,role:o,loading:i,modalTitle:p,tabs:f,currentTab:v,currentTabInfo:y,appMinimal:_,close:g};async function g(){u.value&&Qa(u.value)&&await pe.delete(`/permissions/${u.value.id}`),l.push(`/settings/roles/${e.roleKey||"public"}`)}async function w(){var h;i.value=!0;try{if(e.roleKey){const F=await pe.get(`/roles/${e.roleKey}`);o.value=F.data.data}const k=await pe.get(`/permissions/${e.permissionKey}`);u.value=k.data.data}catch(k){((h=k==null?void 0:k.response)==null?void 0:h.status)===403?l.push(`/settings/roles/${e.roleKey||"public"}`):Se(k)}finally{i.value=!1}}}}),K5={key:0,class:"content"};function H5(e,t,l,n,s,u){const o=c("tabs"),i=c("permissions"),d=c("fields"),p=c("validation"),f=c("presets"),v=c("actions"),y=c("v-drawer");return m(),S(y,{title:e.modalTitle,"model-value":e.isOpen,class:"new-collection",persistent:"","sidebar-label":e.currentTabInfo&&e.currentTabInfo.text,onCancel:e.close},xe({default:r(()=>[e.loading?R("",!0):(m(),I("div",K5,[e.currentTab[0]==="permissions"?(m(),S(i,{key:0,permission:e.permission,"onUpdate:permission":t[1]||(t[1]=_=>e.permission=_),role:e.role,"app-minimal":e.appMinimal&&e.appMinimal.permissions},null,8,["permission","role","app-minimal"])):R("",!0),e.currentTab[0]==="fields"?(m(),S(d,{key:1,permission:e.permission,"onUpdate:permission":t[2]||(t[2]=_=>e.permission=_),role:e.role,"app-minimal":e.appMinimal&&e.appMinimal.fields},null,8,["permission","role","app-minimal"])):R("",!0),e.currentTab[0]==="validation"?(m(),S(p,{key:2,permission:e.permission,"onUpdate:permission":t[3]||(t[3]=_=>e.permission=_),role:e.role,"app-minimal":e.appMinimal&&e.appMinimal.validation},null,8,["permission","role","app-minimal"])):R("",!0),e.currentTab[0]==="presets"?(m(),S(f,{key:3,permission:e.permission,"onUpdate:permission":t[4]||(t[4]=_=>e.permission=_),role:e.role,"app-minimal":e.appMinimal&&e.appMinimal.presets},null,8,["permission","role","app-minimal"])):R("",!0)]))]),_:2},[e.loading?void 0:{name:"sidebar",fn:r(()=>[a(o,{"current-tab":e.currentTab,"onUpdate:current-tab":t[0]||(t[0]=_=>e.currentTab=_),tabs:e.tabs},null,8,["current-tab","tabs"])])},e.loading?void 0:{name:"actions",fn:r(()=>[a(v,{"role-key":e.roleKey,permission:e.permission,onRefresh:t[5]||(t[5]=_=>e.$emit("refresh",Number(e.permissionKey)))},null,8,["role-key","permission"])])}]),1032,["title","model-value","sidebar-label","onCancel"])}var Xa=N(z5,[["render",H5],["__scopeId","data-v-46c5da68"]]);const W5=z({name:"RolesItem",components:{SettingsNavigation:Mt,PermissionsOverview:Ga},props:{permissionKey:{type:String,default:null}},setup(){const{t:e}=te();return{t:e}}}),G5={class:"roles"};function J5(e,t,l,n,s,u){const o=c("v-icon"),i=c("v-button"),d=c("settings-navigation"),p=c("permissions-overview"),f=c("private-view");return m(),S(f,{title:e.t("public_label")},{headline:r(()=>[D(b(e.t("settings_permissions")),1)]),"title-outer:prepend":r(()=>[a(i,{class:"header-icon",rounded:"",icon:"",exact:"",to:"/settings/roles/"},{default:r(()=>[a(o,{name:"arrow_back"})]),_:1})]),navigation:r(()=>[a(d)]),default:r(()=>[C("div",G5,[a(p,{role:null,permission:e.permissionKey},null,8,["permission"])])]),_:1},8,["title"])}var Q5=N(W5,[["render",J5],["__scopeId","data-v-696c80cd"]]);const X5=z({name:"WebhooksCollection",components:{SettingsNavigation:Mt,LayoutSidebarDetail:zn,SearchInput:kn},setup(){const{t:e}=te(),t=E(),l=E([]),{layout:n,layoutOptions:s,layoutQuery:u,filter:o,search:i}=wn(E("directus_webhooks")),{addNewLink:d,batchLink:p}=h(),{confirmDelete:f,deleting:v,batchDelete:y}=w(),{layoutWrapper:_}=pn(n);return{t:e,addNewLink:d,batchDelete:y,batchLink:p,confirmDelete:f,deleting:v,layoutRef:t,layoutWrapper:_,filter:o,selection:l,layoutOptions:s,layoutQuery:u,layout:n,search:i,clearFilters:k};async function g(){var F,A,P;await((P=(A=(F=t.value)==null?void 0:F.state)==null?void 0:A.refresh)==null?void 0:P.call(A))}function w(){const F=E(!1),A=E(!1);return{confirmDelete:F,deleting:A,batchDelete:P};async function P(){A.value=!0,F.value=!1;const L=l.value;await pe.delete(`/webhooks/${L}`),await g(),l.value=[],A.value=!1,F.value=!1}}function h(){const F=V(()=>"/settings/webhooks/+"),A=V(()=>`/settings/webhooks/${l.value}`);return{addNewLink:F,batchLink:A}}function k(){o.value=null,i.value=null}}}),Z5={class:"page-description"};function Y5(e,t,l,n,s,u){const o=c("v-breadcrumb"),i=c("v-icon"),d=c("v-button"),p=c("settings-navigation"),f=c("search-input"),v=c("v-card-title"),y=c("v-card-actions"),_=c("v-card"),g=c("v-dialog"),w=c("v-info"),h=c("sidebar-detail"),k=c("layout-sidebar-detail"),F=c("private-view"),A=we("tooltip"),P=we("md");return m(),S(Be(e.layoutWrapper),{ref:"layoutRef",selection:e.selection,"onUpdate:selection":t[5]||(t[5]=L=>e.selection=L),"layout-options":e.layoutOptions,"onUpdate:layout-options":t[6]||(t[6]=L=>e.layoutOptions=L),"layout-query":e.layoutQuery,"onUpdate:layout-query":t[7]||(t[7]=L=>e.layoutQuery=L),filter:e.filter,search:e.search,collection:"directus_webhooks"},{default:r(({layoutState:L})=>[a(F,{title:e.t("webhooks")},{headline:r(()=>[a(o,{items:[{name:e.t("settings"),to:"/settings"}]},null,8,["items"])]),"title-outer:prepend":r(()=>[a(d,{class:"header-icon",rounded:"",disabled:"",icon:"",secondary:""},{default:r(()=>[a(i,{name:"anchor"})]),_:1})]),navigation:r(()=>[a(p)]),actions:r(()=>[a(f,{modelValue:e.search,"onUpdate:modelValue":t[0]||(t[0]=O=>e.search=O),collection:"directus_webhooks"},null,8,["modelValue"]),e.selection.length>0?(m(),S(g,{key:0,modelValue:e.confirmDelete,"onUpdate:modelValue":t[2]||(t[2]=O=>e.confirmDelete=O),onEsc:t[3]||(t[3]=O=>e.confirmDelete=!1)},{activator:r(({on:O})=>[a(d,{rounded:"",icon:"",class:"action-delete",onClick:O},{default:r(()=>[a(i,{name:"delete",outline:""})]),_:2},1032,["onClick"])]),default:r(()=>[a(_,null,{default:r(()=>[a(v,null,{default:r(()=>[D(b(e.t("batch_delete_confirm",e.selection.length)),1)]),_:1}),a(y,null,{default:r(()=>[a(d,{secondary:"",onClick:t[1]||(t[1]=O=>e.confirmDelete=!1)},{default:r(()=>[D(b(e.t("cancel")),1)]),_:1}),a(d,{kind:"danger",loading:e.deleting,onClick:e.batchDelete},{default:r(()=>[D(b(e.t("delete_label")),1)]),_:1},8,["loading","onClick"])]),_:1})]),_:1})]),_:1},8,["modelValue"])):R("",!0),e.selection.length>1?ne((m(),S(d,{key:1,rounded:"",icon:"",class:"action-batch",to:e.batchLink},{default:r(()=>[a(i,{name:"edit",outline:""})]),_:1},8,["to"])),[[A,e.t("edit"),void 0,{bottom:!0}]]):R("",!0),ne(a(d,{rounded:"",icon:"",to:e.addNewLink},{default:r(()=>[a(i,{name:"add"})]),_:1},8,["to"]),[[A,e.t("create_webhook"),void 0,{bottom:!0}]])]),sidebar:r(()=>[a(h,{icon:"info_outline",title:e.t("information"),close:""},{default:r(()=>[ne(C("div",Z5,null,512),[[P,e.t("page_help_settings_webhooks_collection")]])]),_:1},8,["title"]),a(k,{modelValue:e.layout,"onUpdate:modelValue":t[4]||(t[4]=O=>e.layout=O)},{default:r(()=>[(m(),S(Be(`layout-options-${e.layout}`),He(Ze(L)),null,16))]),_:2},1032,["modelValue"]),(m(),S(Be(`layout-sidebar-${e.layout}`),He(Ze(L)),null,16))]),default:r(()=>[(m(),S(Be(`layout-${e.layout}`),ut({class:"layout"},L),{"no-results":r(()=>[a(w,{title:e.t("no_results"),icon:"search",center:""},{append:r(()=>[a(d,{onClick:e.clearFilters},{default:r(()=>[D(b(e.t("clear_filters")),1)]),_:1},8,["onClick"])]),default:r(()=>[D(b(e.t("no_results_copy"))+" ",1)]),_:1},8,["title"])]),"no-items":r(()=>[a(w,{title:e.t("webhooks_count",0),icon:"anchor",center:"",type:"info"},{append:r(()=>[a(d,{to:{path:"/settings/webhooks/+"}},{default:r(()=>[D(b(e.t("create_webhook")),1)]),_:1})]),default:r(()=>[D(b(e.t("no_webhooks_copy"))+" ",1)]),_:1},8,["title"])]),_:2},1040))]),_:2},1032,["title"])]),_:1},8,["selection","layout-options","layout-query","filter","search"])}var x5=N(X5,[["render",Y5],["__scopeId","data-v-35d1a91d"]]);const eT=z({name:"WebhooksItem",components:{SettingsNavigation:Mt,RevisionsDrawerDetail:Kn,SaveOptions:kl},props:{primaryKey:{type:String,required:!0}},setup(e){const{t}=te(),l=Ye(),{primaryKey:n}=Ue(e),{isNew:s,edits:u,item:o,saving:i,loading:d,error:p,save:f,remove:v,deleting:y,saveAsCopy:_,isBatch:g,validationErrors:w}=Sn(E("directus_webhooks"),n),h=V(()=>Object.keys(u.value).length>0),k=E(!1),F=V(()=>{var Y;return d.value?t("loading"):s.value?t("creating_webhook"):(Y=o.value)==null?void 0:Y.name});et("meta+s",()=>{h.value&&T()}),et("meta+shift+s",()=>{h.value&&B()});const A=V(()=>h.value===!0?!0:h.value);nn(A);const P=E(!1),L=E(null),O=Y=>{if(h.value)return P.value=!0,L.value=Y.fullPath,!1};return Ot(O),Pt(O),{t,item:o,loading:d,error:p,isNew:s,edits:u,hasEdits:h,saving:i,saveAndQuit:U,deleteAndQuit:K,confirmDelete:k,deleting:y,saveAndStay:T,saveAndAddNew:B,saveAsCopyAndNavigate:q,isBatch:g,title:F,validationErrors:w,isSavable:A,confirmLeave:P,leaveTo:L,discardAndLeave:H};async function U(){await f(),l.push("/settings/webhooks")}async function T(){await f()}async function B(){await f(),l.push("/settings/webhooks/+")}async function q(){const Y=await _();Y&&l.push(`/settings/webhooks/${Y}`)}async function K(){await v(),l.push("/settings/webhooks")}function H(){!L.value||(u.value={},P.value=!1,l.push(L.value))}}}),tT={class:"page-description"};function nT(e,t,l,n,s,u){const o=c("v-breadcrumb"),i=c("v-icon"),d=c("v-button"),p=c("v-card-title"),f=c("v-card-actions"),v=c("v-card"),y=c("v-dialog"),_=c("save-options"),g=c("settings-navigation"),w=c("v-form"),h=c("sidebar-detail"),k=c("revisions-drawer-detail"),F=c("v-card-text"),A=c("private-view"),P=we("md");return m(),S(A,{title:e.title},{headline:r(()=>[a(o,{items:[{name:e.t("settings_webhooks"),to:"/settings/webhooks"}]},null,8,["items"])]),"title-outer:prepend":r(()=>[a(d,{class:"header-icon",rounded:"",icon:"",exact:"",to:"/settings/webhooks/"},{default:r(()=>[a(i,{name:"arrow_back"})]),_:1})]),actions:r(()=>[a(y,{modelValue:e.confirmDelete,"onUpdate:modelValue":t[1]||(t[1]=L=>e.confirmDelete=L),onEsc:t[2]||(t[2]=L=>e.confirmDelete=!1)},{activator:r(({on:L})=>[a(d,{rounded:"",icon:"",class:"action-delete",disabled:e.item===null,onClick:L},{default:r(()=>[a(i,{name:"delete",outline:""})]),_:2},1032,["disabled","onClick"])]),default:r(()=>[a(v,null,{default:r(()=>[a(p,null,{default:r(()=>[D(b(e.t("delete_are_you_sure")),1)]),_:1}),a(f,null,{default:r(()=>[a(d,{secondary:"",onClick:t[0]||(t[0]=L=>e.confirmDelete=!1)},{default:r(()=>[D(b(e.t("cancel")),1)]),_:1}),a(d,{kind:"danger",loading:e.deleting,onClick:e.deleteAndQuit},{default:r(()=>[D(b(e.t("delete_label")),1)]),_:1},8,["loading","onClick"])]),_:1})]),_:1})]),_:1},8,["modelValue"]),a(d,{rounded:"",icon:"",loading:e.saving,disabled:e.hasEdits===!1,onClick:e.saveAndQuit},{"append-outer":r(()=>[a(_,{disabled:e.hasEdits===!1,onSaveAndStay:e.saveAndStay,onSaveAndAddNew:e.saveAndAddNew,onSaveAsCopy:e.saveAsCopyAndNavigate},null,8,["disabled","onSaveAndStay","onSaveAndAddNew","onSaveAsCopy"])]),default:r(()=>[a(i,{name:"check"})]),_:1},8,["loading","disabled","onClick"])]),navigation:r(()=>[a(g)]),sidebar:r(()=>[a(h,{icon:"info_outline",title:e.t("information"),close:""},{default:r(()=>[ne(C("div",tT,null,512),[[P,e.t("page_help_settings_webhooks_item")]])]),_:1},8,["title"]),e.isNew===!1?(m(),S(k,{key:0,collection:"directus_webhooks","primary-key":e.primaryKey},null,8,["primary-key"])):R("",!0)]),default:r(()=>[a(w,{modelValue:e.edits,"onUpdate:modelValue":t[3]||(t[3]=L=>e.edits=L),loading:e.loading,"initial-values":e.item,collection:"directus_webhooks","batch-mode":e.isBatch,"primary-key":e.primaryKey,"validation-errors":e.validationErrors},null,8,["modelValue","loading","initial-values","batch-mode","primary-key","validation-errors"]),a(y,{modelValue:e.confirmLeave,"onUpdate:modelValue":t[5]||(t[5]=L=>e.confirmLeave=L),onEsc:t[6]||(t[6]=L=>e.confirmLeave=!1)},{default:r(()=>[a(v,null,{default:r(()=>[a(p,null,{default:r(()=>[D(b(e.t("unsaved_changes")),1)]),_:1}),a(F,null,{default:r(()=>[D(b(e.t("unsaved_changes_copy")),1)]),_:1}),a(f,null,{default:r(()=>[a(d,{secondary:"",onClick:e.discardAndLeave},{default:r(()=>[D(b(e.t("discard_changes")),1)]),_:1},8,["onClick"]),a(d,{onClick:t[4]||(t[4]=L=>e.confirmLeave=!1)},{default:r(()=>[D(b(e.t("keep_editing")),1)]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1},8,["title"])}var lT=N(eT,[["render",nT],["__scopeId","data-v-85a564b8"]]),oT=un({id:"settings",name:"$t:settings",icon:"settings",color:"var(--warning)",routes:[{path:"",redirect:"/settings/data-model"},{name:"settings-project",path:"project",component:vD},{path:"data-model",component:fn,children:[{name:"settings-collections",path:"",component:wV,beforeEnter(){Ke().hydrate()},children:[{path:"+",name:"settings-add-new",components:{add:jE}}]},{name:"settings-fields",path:":collection",component:wE,async beforeEnter(e){const l=Ke().getCollection(e.params.collection),n=Te();(l==null?void 0:l.meta)||await pe.patch(`/collections/${e.params.collection}`,{meta:{}}),n.hydrate()},props:e=>({collection:e.params.collection,field:e.params.field,type:e.query.type}),children:[{path:":field",name:"settings-fields-field",components:{field:q4}}]}]},{path:"roles",component:fn,children:[{name:"settings-roles-collection",path:"",component:ED,children:[{path:"+",name:"settings-add-new-role",components:{add:CD}}]},{path:"public",component:Q5,props:!0,children:[{path:":permissionKey",components:{permissionsDetail:Xa}}]},{name:"settings-roles-item",path:":primaryKey",component:y5,props:!0,children:[{path:":permissionKey",components:{permissionsDetail:Xa}}]}]},{path:"presets",component:fn,children:[{name:"settings-presets-collection",path:"",component:YE},{name:"settings-presets-item",path:":id",component:iD,props:!0}]},{path:"webhooks",component:fn,children:[{name:"settings-webhooks-collection",path:"",component:x5},{name:"settings-webhooks-item",path:":primaryKey",component:lT,props:!0}]},{name:"settings-not-found",path:":_(.+)+",component:NE}],preRegisterCheck:e=>e.role.admin_access===!0}),aT=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:oT});let In=null,Qt=null;function Za(){return In===null&&(In=E(null)),Qt===null&&(Qt=E(!1)),In.value===null&&(Qt==null?void 0:Qt.value)===!1&&e(),{roles:In,loading:Qt};async function e(){if(!Qt||!In)return;Qt.value=!0;const t=await pe.get("/roles",{params:{sort:"name"}});In.value=t.data.data,Qt.value=!1}}const iT=z({props:{currentRole:{type:String,default:null}},setup(){const{t:e}=te(),{roles:t,loading:l}=Za();return{t:e,roles:t,loading:l}}});function sT(e,t,l,n,s,u){const o=c("v-icon"),i=c("v-list-item-icon"),d=c("v-list-item-content"),p=c("v-list-item"),f=c("v-divider"),v=c("v-skeleton-loader"),y=c("v-list");return m(),S(y,{nav:""},{default:r(()=>[a(p,{to:"/users",exact:"",active:e.currentRole===null},{default:r(()=>[a(i,null,{default:r(()=>[a(o,{name:"folder_shared",outline:""})]),_:1}),a(d,null,{default:r(()=>[D(b(e.t("all_users")),1)]),_:1})]),_:1},8,["active"]),e.roles&&e.roles.length>0||e.loading?(m(),S(f,{key:0})):R("",!0),e.loading?(m(),I(ae,{key:1},be(4,_=>a(p,{key:_},{default:r(()=>[a(v,{type:"list-item-icon"})]),_:2},1024)),64)):R("",!0),(m(!0),I(ae,null,be(e.roles,({name:_,id:g,icon:w})=>(m(),S(p,{key:g,to:`/users/roles/${g}`,active:e.currentRole===g},{default:r(()=>[a(i,null,{default:r(()=>[a(o,{name:w,outline:""},null,8,["name"])]),_:2},1024),a(d,null,{default:r(()=>[D(b(_),1)]),_:2},1024)]),_:2},1032,["to","active"]))),128))]),_:1})}var Ya=N(iT,[["render",sT],["__scopeId","data-v-1db98fc0"]]);const rT=z({name:"UsersCollection",components:{UsersNavigation:Ya,LayoutSidebarDetail:zn,SearchInput:kn,UsersInvite:Ja,DrawerBatch:to},props:{role:{type:String,default:null}},setup(e){const{t}=te(),{roles:l}=Za(),n=E(!1),s=Xe(),u=Tt(),o=E(),i=E([]),{layout:d,layoutOptions:p,layoutQuery:f,filter:v,search:y,resetPreset:_}=wn(E("directus_users")),{addNewLink:g}=J(),{confirmDelete:w,deleting:h,batchDelete:k,error:F,batchEditActive:A}=Y(),{breadcrumb:P,title:L}=re(),O=V(()=>e.role!==null?{_and:[{role:{_eq:e.role}}]}:null),U=V(()=>{var W,G;if(!!((G=(W=s.currentUser)==null?void 0:W.role)==null?void 0:G.admin_access))return!0;const ee=u.permissions.find(le=>le.collection==="directus_users"&&le.action==="create"),se=u.permissions.find(le=>le.collection==="directus_roles"&&le.action==="read");return!!ee&&!!se}),{layoutWrapper:T}=pn(d),{batchEditAllowed:B,batchDeleteAllowed:q,createAllowed:K}=X();return Pt(()=>{i.value=[]}),Ot(()=>{i.value=[]}),{t,canInviteUsers:U,addNewLink:g,breadcrumb:P,title:L,layoutRef:o,layoutWrapper:T,selection:i,layoutOptions:p,layoutQuery:f,layout:d,search:y,clearFilters:fe,userInviteModalActive:n,refresh:H,batchEditAllowed:B,batchDeleteAllowed:q,createAllowed:K,resetPreset:_,confirmDelete:w,deleting:h,batchDelete:k,deleteError:F,batchEditActive:A,filter:v,roleFilter:O,mergeFilters:gl};async function H(){var x,ee,se;await((se=(ee=(x=o.value)==null?void 0:x.state)==null?void 0:ee.refresh)==null?void 0:se.call(ee))}function Y(){const x=E(!1),ee=E(!1),se=E(!1),W=E();return{batchEditActive:se,confirmDelete:x,deleting:ee,batchDelete:G,error:W};async function G(){ee.value=!0;const le=i.value;try{await pe.delete("/users",{data:le}),await H(),i.value=[],x.value=!1}catch(Z){W.value=Z,Se(Z)}finally{ee.value=!1}}}function J(){return{addNewLink:V(()=>e.role?`/users/roles/${e.role}/+`:"/users/+")}}function re(){const x=V(()=>e.role?[{name:t("user_directory"),to:"/users"}]:null),ee=V(()=>{var se,W;return e.role?(W=(se=l.value)==null?void 0:se.find(G=>G.id===e.role))==null?void 0:W.name:t("user_directory")});return{breadcrumb:x,title:ee}}function fe(){v.value=null,y.value=null}function X(){const x=V(()=>{var le;return((le=s==null?void 0:s.currentUser)==null?void 0:le.role.admin_access)===!0?!0:!!u.permissions.find(Z=>Z.action==="update"&&Z.collection==="directus_users")}),ee=V(()=>{var le;return((le=s==null?void 0:s.currentUser)==null?void 0:le.role.admin_access)===!0?!0:!!u.permissions.find(Z=>Z.action==="delete"&&Z.collection==="directus_users")}),se=V(()=>{var le;return((le=s==null?void 0:s.currentUser)==null?void 0:le.role.admin_access)===!0?!0:!!u.permissions.find(Z=>Z.action==="create"&&Z.collection==="directus_users")});return{batchEditAllowed:x,batchDeleteAllowed:ee,createAllowed:se}}}}),dT={class:"page-description"};function uT(e,t,l,n,s,u){const o=c("v-breadcrumb"),i=c("v-icon"),d=c("v-button"),p=c("search-input"),f=c("v-card-title"),v=c("v-card-actions"),y=c("v-card"),_=c("v-dialog"),g=c("users-navigation"),w=c("users-invite"),h=c("v-info"),k=c("drawer-batch"),F=c("sidebar-detail"),A=c("layout-sidebar-detail"),P=c("export-sidebar-detail"),L=c("private-view"),O=we("tooltip"),U=we("md");return m(),S(Be(e.layoutWrapper),{ref:"layoutRef",selection:e.selection,"onUpdate:selection":t[10]||(t[10]=T=>e.selection=T),"layout-options":e.layoutOptions,"onUpdate:layout-options":t[11]||(t[11]=T=>e.layoutOptions=T),"layout-query":e.layoutQuery,"onUpdate:layout-query":t[12]||(t[12]=T=>e.layoutQuery=T),filter:e.mergeFilters(e.filter,e.roleFilter),"filter-user":e.filter,"filter-system":e.roleFilter,search:e.search,collection:"directus_users","reset-preset":e.resetPreset},{default:r(({layoutState:T})=>[a(L,{title:e.title},xe({"title-outer:prepend":r(()=>[a(d,{class:"header-icon",rounded:"",disabled:"",icon:"",secondary:""},{default:r(()=>[a(i,{name:"people_alt",outline:""})]),_:1})]),"actions:prepend":r(()=>[(m(),S(Be(`layout-actions-${e.layout}`),He(Ze(T)),null,16))]),actions:r(()=>[a(p,{modelValue:e.search,"onUpdate:modelValue":t[0]||(t[0]=B=>e.search=B),filter:e.filter,"onUpdate:filter":t[1]||(t[1]=B=>e.filter=B),collection:"directus_users"},null,8,["modelValue","filter"]),e.selection.length>0?(m(),S(_,{key:0,modelValue:e.confirmDelete,"onUpdate:modelValue":t[3]||(t[3]=B=>e.confirmDelete=B),onEsc:t[4]||(t[4]=B=>e.confirmDelete=!1)},{activator:r(({on:B})=>[ne(a(d,{disabled:e.batchDeleteAllowed!==!0,rounded:"",icon:"",class:"action-delete",onClick:B},{default:r(()=>[a(i,{name:"delete",outline:""})]),_:2},1032,["disabled","onClick"]),[[O,e.batchDeleteAllowed?e.t("delete_label"):e.t("not_allowed"),void 0,{bottom:!0}]])]),default:r(()=>[a(y,null,{default:r(()=>[a(f,null,{default:r(()=>[D(b(e.t("batch_delete_confirm",e.selection.length)),1)]),_:1}),a(v,null,{default:r(()=>[a(d,{secondary:"",onClick:t[2]||(t[2]=B=>e.confirmDelete=!1)},{default:r(()=>[D(b(e.t("cancel")),1)]),_:1}),a(d,{kind:"danger",loading:e.deleting,onClick:e.batchDelete},{default:r(()=>[D(b(e.t("delete_label")),1)]),_:1},8,["loading","onClick"])]),_:1})]),_:1})]),_:1},8,["modelValue"])):R("",!0),e.selection.length>1?ne((m(),S(d,{key:1,rounded:"",icon:"",class:"action-batch",disabled:e.batchEditAllowed===!1,onClick:t[5]||(t[5]=B=>e.batchEditActive=!0)},{default:r(()=>[a(i,{name:"edit",outline:""})]),_:1},8,["disabled"])),[[O,e.batchEditAllowed?e.t("edit"):e.t("not_allowed"),void 0,{bottom:!0}]]):R("",!0),e.canInviteUsers?ne((m(),S(d,{key:2,rounded:"",icon:"",class:"invite-user",onClick:t[6]||(t[6]=B=>e.userInviteModalActive=!0)},{default:r(()=>[a(i,{name:"person_add"})]),_:1},512)),[[O,e.t("invite_users"),void 0,{bottom:!0}]]):R("",!0),ne(a(d,{rounded:"",icon:"",to:e.addNewLink,disabled:e.createAllowed===!1},{default:r(()=>[a(i,{name:"add"})]),_:1},8,["to","disabled"]),[[O,e.createAllowed?e.t("create_item"):e.t("not_allowed"),void 0,{bottom:!0}]])]),navigation:r(()=>[a(g,{"current-role":e.role},null,8,["current-role"])]),sidebar:r(()=>[a(F,{icon:"info_outline",title:e.t("information"),close:""},{default:r(()=>[ne(C("div",dT,null,512),[[U,e.t("page_help_users_collection")]])]),_:1},8,["title"]),a(A,{modelValue:e.layout,"onUpdate:modelValue":t[9]||(t[9]=B=>e.layout=B)},{default:r(()=>[(m(),S(Be(`layout-options-${e.layout}`),He(Ze(T)),null,16))]),_:2},1032,["modelValue"]),(m(),S(Be(`layout-sidebar-${e.layout}`),He(Ze(T)),null,16)),a(P,{collection:"directus_users",filter:e.mergeFilters(e.filter,e.roleFilter),search:e.search},null,8,["filter","search"])]),default:r(()=>[e.canInviteUsers?(m(),S(w,{key:0,modelValue:e.userInviteModalActive,"onUpdate:modelValue":[t[7]||(t[7]=B=>e.userInviteModalActive=B),e.refresh]},null,8,["modelValue","onUpdate:modelValue"])):R("",!0),(m(),S(Be(`layout-${e.layout}`),ut({class:"layout"},T),{"no-results":r(()=>[!e.filter&&!e.search?(m(),S(h,{key:0,title:e.t("user_count",0),icon:"people_alt",center:""},xe({default:r(()=>[D(b(e.t("no_users_copy"))+" ",1)]),_:2},[e.canInviteUsers?{name:"append",fn:r(()=>[a(d,{to:e.role?{path:`/users/roles/${e.role}/+`}:{path:"/users/+"}},{default:r(()=>[D(b(e.t("create_user")),1)]),_:1},8,["to"])])}:void 0]),1032,["title"])):(m(),S(h,{key:1,title:e.t("no_results"),icon:"search",center:""},{append:r(()=>[a(d,{onClick:e.clearFilters},{default:r(()=>[D(b(e.t("clear_filters")),1)]),_:1},8,["onClick"])]),default:r(()=>[D(b(e.t("no_results_copy"))+" ",1)]),_:1},8,["title"]))]),"no-items":r(()=>[a(h,{title:e.t("user_count",0),icon:"people_alt",center:""},xe({default:r(()=>[D(b(e.t("no_users_copy"))+" ",1)]),_:2},[e.canInviteUsers?{name:"append",fn:r(()=>[a(d,{to:e.role?{path:`/users/roles/${e.role}/+`}:{path:"/users/+"}},{default:r(()=>[D(b(e.t("create_user")),1)]),_:1},8,["to"])])}:void 0]),1032,["title"])]),_:2},1040)),a(k,{active:e.batchEditActive,"onUpdate:active":t[8]||(t[8]=B=>e.batchEditActive=B),"primary-keys":e.selection,collection:"directus_users",onRefresh:e.refresh},null,8,["active","primary-keys","onRefresh"])]),_:2},[e.breadcrumb?{name:"headline",fn:r(()=>[a(o,{items:e.breadcrumb},null,8,["items"])])}:void 0]),1032,["title"])]),_:1},8,["selection","layout-options","layout-query","filter","filter-user","filter-system","search","reset-preset"])}var xa=N(rT,[["render",uT],["__scopeId","data-v-3ecd516f"]]);const cT={alias:"input",bigInteger:"input",binary:"input",boolean:"boolean",date:"datetime",dateTime:"datetime",decimal:"input",float:"input",integer:"input",json:"input-code",string:"input",text:"input-multiline",time:"datetime",timestamp:"datetime",uuid:"input",unknown:"input",csv:"tags",hash:"input-hash",geometry:"map"};function ei(e){return cT[e]||"input"}function ti(e){const{interfaces:t}=Ct();return{formFields:V(()=>{let n=M.exports.clone(e.value);return n=n.map((s,u)=>{var d;if(!s.meta)return s;let o=t.value.find(p=>{var f;return p.id===((f=s.meta)==null?void 0:f.interface)});return o!==void 0===!1&&(s.meta.interface=ei(s.type)),o=t.value.find(p=>{var f;return p.id===((f=s.meta)==null?void 0:f.interface)}),(o==null?void 0:o.hideLabel)===!0&&(s.hideLabel=!0),(o==null?void 0:o.hideLoader)===!0&&(s.hideLoader=!0),u!==0&&s.meta.width==="half"&&((d=n[u-1].meta)==null?void 0:d.width)==="half"&&(s.meta.width="half-right"),s}),n=n.filter(s=>{var o;return(((o=s.field)==null?void 0:o.startsWith("$"))||!1)===!1}),n=M.exports.orderBy(n,[s=>{var u;return!!((u=s.meta)==null?void 0:u.system)},"meta.sort","meta.id"],["desc","asc","asc"]),n=Ft(n),n})}}const pT=z({props:{user:{type:Object,default:null},isNew:{type:Boolean,default:!1}},setup(e){const{t}=te(),l=E("");return ye(e,async()=>{!e.user||(l.value=await jt(new Date(e.user.last_access),String(t("date-fns_date_short"))))},{immediate:!0}),{t,lastAccessDate:l}}}),mT={key:0},fT={key:0},vT={key:1},_T={key:2},yT={key:3},gT={key:4},hT={key:5},bT={class:"page-description"};function $T(e,t,l,n,s,u){const o=c("router-link"),i=c("v-divider"),d=c("sidebar-detail"),p=we("md");return m(),S(d,{icon:"info_outline",title:e.t("information"),close:""},{default:r(()=>[e.isNew===!1&&e.user?(m(),I("dl",mT,[e.user.id?(m(),I("div",fT,[C("dt",null,b(e.t("key")),1),C("dd",null,b(e.user.id),1)])):R("",!0),e.user.last_page?(m(),I("div",vT,[C("dt",null,b(e.t("last_page")),1),C("dd",null,[a(o,{to:e.user.last_page},{default:r(()=>[D(b(e.user.last_page),1)]),_:1},8,["to"])])])):R("",!0),e.user.last_access?(m(),I("div",_T,[C("dt",null,b(e.t("last_access")),1),C("dd",null,b(e.lastAccessDate),1)])):R("",!0),e.user.created_on?(m(),I("div",yT,[C("dt",null,b(e.t("created_on")),1),C("dd",null,b(e.user.created_on),1)])):R("",!0),e.user.created_by?(m(),I("div",gT,[C("dt",null,b(e.t("created_by")),1),C("dd",null,b(e.user.created_by),1)])):R("",!0),e.user.modified_on?(m(),I("div",hT,[C("dt",null,b(e.t("modified_on")),1),C("dd",null,b(e.user.modified_on),1)])):R("",!0)])):R("",!0),a(i),ne(C("div",bT,null,512),[[p,e.t("page_help_users_item")]])]),_:1},8,["title"])}var wT=N(pT,[["render",$T],["__scopeId","data-v-8ba7c4c4"]]);const kT=z({name:"UsersItem",components:{UsersNavigation:Ya,RevisionsDrawerDetail:Kn,SaveOptions:kl,CommentsSidebarDetail:oo,UserInfoSidebarDetail:wT},props:{primaryKey:{type:String,required:!0},role:{type:String,default:null}},setup(e){const{t,locale:l}=te(),n=Ye(),s=E(),u=Te(),o=Ke(),i=Xe(),{primaryKey:d}=Ue(e),{breadcrumb:p}=me(),{info:f}=ot("directus_users"),v=E(null),{isNew:y,edits:_,item:g,saving:w,loading:h,save:k,remove:F,deleting:A,saveAsCopy:P,isBatch:L,archive:O,archiving:U,isArchived:T,validationErrors:B}=Sn(E("directus_users"),d);e.role&&(_.value=oe({role:e.role},_.value));const q=V(()=>Object.keys(_.value).length>0);nn(q);const K=E(!1),H=E(!1),Y=V(()=>{if(h.value===!0)return t("loading");if(y.value===!1&&g.value){const $e=g.value;return At($e)}return t("adding_user")}),{loading:J,avatarSrc:re,roleName:fe}=Pe(),X=E(!1),x=E(null),ee=$e=>{if(q.value)return X.value=!0,x.value=$e.fullPath,!1};Ot(ee),Pt(ee);const{deleteAllowed:se,archiveAllowed:W,saveAllowed:G,updateAllowed:le,revisionsAllowed:Z,fields:ce}=Wn(E("directus_users"),g,y),ve=["id","external_id","last_page","created_on","created_by","modified_by","modified_on","last_access"],Q=V(()=>ce.value.filter($e=>(!y.value&&["provider","external_identifier"].includes($e.field)&&($e.meta.readonly=!0),!ve.includes($e.field)))),{formFields:ie}=ti(Q),de=V(()=>W.value===!1?t("not_allowed"):T.value===!0?t("unarchive"):t("archive"));return et("meta+s",_e,s),et("meta+shift+s",Ce,s),{t,router:n,title:Y,item:g,loading:h,isNew:y,breadcrumb:p,edits:_,hasEdits:q,saving:w,saveAndQuit:he,deleteAndQuit:Ie,confirmDelete:K,deleting:A,saveAndStay:_e,saveAndAddNew:Ce,saveAsCopyAndNavigate:De,isBatch:L,revisionsDrawerDetail:v,previewLoading:J,avatarSrc:re,roleName:fe,confirmLeave:X,leaveTo:x,discardAndLeave:Re,formFields:ie,deleteAllowed:se,saveAllowed:G,archiveAllowed:W,isArchived:T,updateAllowed:le,toggleArchive:Le,confirmArchive:H,collectionInfo:f,archiving:U,archiveTooltip:de,form:s,userName:At,revisionsAllowed:Z,validationErrors:B,revert:Fe};function me(){return{breadcrumb:V(()=>[{name:t("user_directory"),to:"/users"}])}}async function he(){try{const $e=await k();await je($e),await nt(),n.push("/users")}catch{}}async function _e(){var $e,Me;try{const Qe=await k();if(await je(Qe),(Me=($e=v.value)==null?void 0:$e.refresh)==null||Me.call($e),e.primaryKey==="+"){const at=Qe.id;n.replace(`/users/${at}`)}}catch{}}async function Ce(){try{const $e=await k();await je($e),await nt(),n.push("/users/+")}catch{}}async function De(){try{const $e=await P();$e&&n.push(`/users/${$e}`)}catch{}}async function Ie(){try{await F(),n.push("/users")}catch{}}async function je($e){var Qe;if(i.currentUser.id!==((Qe=g.value)==null?void 0:Qe.id))return;const Me=$e==null?void 0:$e.language;Me&&Me!==l.value&&(await ca(Me),await u.hydrate(),await o.hydrate())}async function nt(){var $e;i.currentUser.id===(($e=g.value)==null?void 0:$e.id)&&await i.hydrate()}function Pe(){const $e=E(!1),Me=E(null),Qe=E(null);return ye(()=>e.primaryKey,at,{immediate:!0}),{loading:$e,avatarSrc:Me,roleName:Qe};async function at(){var lt,tt,ct;if(e.primaryKey!=="+"){$e.value=!0;try{const pt=await pe.get(`/users/${e.primaryKey}`,{params:{fields:["role.name","avatar.id"]}});Me.value=((lt=pt.data.data.avatar)==null?void 0:lt.id)?dt(Je()+`assets/${pt.data.data.avatar.id}?key=system-medium-cover`):null,Qe.value=(ct=(tt=pt.data.data)==null?void 0:tt.role)==null?void 0:ct.name}catch(pt){Se(pt)}finally{$e.value=!1}}}}function Re(){!x.value||(_.value={},n.push(x.value))}async function Le(){await O(),T.value===!0?n.push("/users"):H.value=!1}function Fe($e){_.value=oe(oe({},_.value),$e)}}}),CT={class:"user-item"},ST={key:0,class:"user-box"},VT={class:"avatar"},FT=["src","alt"],AT={class:"user-box-content"},IT={class:"name type-label"},ET={key:0,class:"title"},DT={key:0,class:"email"},TT={key:1,class:"location"};function PT(e,t,l,n,s,u){const o=c("v-icon"),i=c("v-button"),d=c("v-breadcrumb"),p=c("v-card-title"),f=c("v-card-actions"),v=c("v-card"),y=c("v-dialog"),_=c("save-options"),g=c("users-navigation"),w=c("v-skeleton-loader"),h=c("v-chip"),k=c("v-form"),F=c("v-card-text"),A=c("user-info-sidebar-detail"),P=c("revisions-drawer-detail"),L=c("comments-sidebar-detail"),O=c("private-view"),U=we("tooltip");return m(),S(O,{title:e.title},{"title-outer:prepend":r(()=>[a(i,{class:"header-icon",rounded:"",icon:"",secondary:"",exact:"",onClick:t[0]||(t[0]=T=>e.router.back())},{default:r(()=>[a(o,{name:"arrow_back"})]),_:1})]),headline:r(()=>[a(d,{items:e.breadcrumb},null,8,["items"])]),actions:r(()=>[a(y,{modelValue:e.confirmDelete,"onUpdate:modelValue":t[2]||(t[2]=T=>e.confirmDelete=T),disabled:e.deleteAllowed===!1,onEsc:t[3]||(t[3]=T=>e.confirmDelete=!1)},{activator:r(({on:T})=>[ne(a(i,{rounded:"",icon:"",class:"action-delete",disabled:e.item===null||e.deleteAllowed!==!0,onClick:T},{default:r(()=>[a(o,{name:"delete",outline:""})]),_:2},1032,["disabled","onClick"]),[[U,e.deleteAllowed?e.t("delete_label"):e.t("not_allowed"),void 0,{bottom:!0}]])]),default:r(()=>[a(v,null,{default:r(()=>[a(p,null,{default:r(()=>[D(b(e.t("delete_are_you_sure")),1)]),_:1}),a(f,null,{default:r(()=>[a(i,{secondary:"",onClick:t[1]||(t[1]=T=>e.confirmDelete=!1)},{default:r(()=>[D(b(e.t("cancel")),1)]),_:1}),a(i,{kind:"danger",loading:e.deleting,onClick:e.deleteAndQuit},{default:r(()=>[D(b(e.t("delete_label")),1)]),_:1},8,["loading","onClick"])]),_:1})]),_:1})]),_:1},8,["modelValue","disabled"]),e.collectionInfo.meta&&e.collectionInfo.meta.archive_field&&!e.isNew?(m(),S(y,{key:0,modelValue:e.confirmArchive,"onUpdate:modelValue":t[5]||(t[5]=T=>e.confirmArchive=T),disabled:e.archiveAllowed===!1,onEsc:t[6]||(t[6]=T=>e.confirmArchive=!1)},{activator:r(({on:T})=>[e.collectionInfo.meta&&e.collectionInfo.meta.singleton===!1?ne((m(),S(i,{key:0,rounded:"",icon:"",class:"action-archive",disabled:e.item===null||e.archiveAllowed!==!0,onClick:T},{default:r(()=>[a(o,{name:e.isArchived?"unarchive":"archive",outline:""},null,8,["name"])]),_:2},1032,["disabled","onClick"])),[[U,e.archiveTooltip,void 0,{bottom:!0}]]):R("",!0)]),default:r(()=>[a(v,null,{default:r(()=>[a(p,null,{default:r(()=>[D(b(e.isArchived?e.t("unarchive_confirm"):e.t("archive_confirm")),1)]),_:1}),a(f,null,{default:r(()=>[a(i,{secondary:"",onClick:t[4]||(t[4]=T=>e.confirmArchive=!1)},{default:r(()=>[D(b(e.t("cancel")),1)]),_:1}),a(i,{kind:"warning",loading:e.archiving,onClick:e.toggleArchive},{default:r(()=>[D(b(e.isArchived?e.t("unarchive"):e.t("archive")),1)]),_:1},8,["loading","onClick"])]),_:1})]),_:1})]),_:1},8,["modelValue","disabled"])):R("",!0),ne(a(i,{rounded:"",icon:"",loading:e.saving,disabled:e.hasEdits===!1||e.saveAllowed===!1,onClick:e.saveAndQuit},{"append-outer":r(()=>[e.hasEdits===!0?(m(),S(_,{key:0,onSaveAndStay:e.saveAndStay,onSaveAndAddNew:e.saveAndAddNew,onSaveAsCopy:e.saveAsCopyAndNavigate},null,8,["onSaveAndStay","onSaveAndAddNew","onSaveAsCopy"])):R("",!0)]),default:r(()=>[a(o,{name:"check"})]),_:1},8,["loading","disabled","onClick"]),[[U,e.saveAllowed?e.t("save"):e.t("not_allowed"),void 0,{bottom:!0}]])]),navigation:r(()=>[a(g,{"current-role":e.item&&e.item.role||e.role},null,8,["current-role"])]),sidebar:r(()=>[a(A,{"is-new":e.isNew,user:e.item},null,8,["is-new","user"]),e.isBatch===!1&&e.isNew===!1&&e.revisionsAllowed?(m(),S(P,{key:0,ref:"revisionsDrawerDetail",collection:"directus_users","primary-key":e.primaryKey,onRevert:e.revert},null,8,["primary-key","onRevert"])):R("",!0),e.isBatch===!1&&e.isNew===!1?(m(),S(L,{key:1,collection:"directus_users","primary-key":e.primaryKey},null,8,["primary-key"])):R("",!0)]),default:r(()=>[C("div",CT,[e.isNew===!1?(m(),I("div",ST,[C("div",VT,[e.loading||e.previewLoading?(m(),S(w,{key:0})):e.avatarSrc?(m(),I("img",{key:1,src:e.avatarSrc,alt:e.t("avatar")},null,8,FT)):(m(),S(o,{key:2,name:"account_circle",outline:"","x-large":""}))]),C("div",AT,[e.loading?(m(),I(ae,{key:0},[a(w,{type:"text"}),a(w,{type:"text"}),a(w,{type:"text"})],64)):e.isNew===!1&&e.item?(m(),I(ae,{key:1},[C("div",IT,[D(b(e.userName(e.item))+" ",1),e.item.title?(m(),I("span",ET,", "+b(e.item.title),1)):R("",!0)]),e.item.email?(m(),I("div",DT,[a(o,{name:"alternate_email",small:"",outline:""}),D(" "+b(e.item.email),1)])):R("",!0),e.item.location?(m(),I("div",TT,[a(o,{name:"place",small:"",outline:""}),D(" "+b(e.item.location),1)])):R("",!0),e.roleName?(m(),S(h,{key:2,class:ue(e.item.status),small:""},{default:r(()=>[D(b(e.roleName),1)]),_:1},8,["class"])):R("",!0)],64)):R("",!0)])])):R("",!0),a(k,{ref:"form",modelValue:e.edits,"onUpdate:modelValue":t[7]||(t[7]=T=>e.edits=T),disabled:e.isNew?!1:e.updateAllowed===!1,fields:e.formFields,loading:e.loading,"initial-values":e.item,"batch-mode":e.isBatch,"primary-key":e.primaryKey,"validation-errors":e.validationErrors},null,8,["modelValue","disabled","fields","loading","initial-values","batch-mode","primary-key","validation-errors"])]),a(y,{modelValue:e.confirmLeave,"onUpdate:modelValue":t[9]||(t[9]=T=>e.confirmLeave=T),onEsc:t[10]||(t[10]=T=>e.confirmLeave=!1)},{default:r(()=>[a(v,null,{default:r(()=>[a(p,null,{default:r(()=>[D(b(e.t("unsaved_changes")),1)]),_:1}),a(F,null,{default:r(()=>[D(b(e.t("unsaved_changes_copy")),1)]),_:1}),a(f,null,{default:r(()=>[a(i,{secondary:"",onClick:e.discardAndLeave},{default:r(()=>[D(b(e.t("discard_changes")),1)]),_:1},8,["onClick"]),a(i,{onClick:t[8]||(t[8]=T=>e.confirmLeave=!1)},{default:r(()=>[D(b(e.t("keep_editing")),1)]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1},8,["title"])}var ni=N(kT,[["render",PT],["__scopeId","data-v-29656f72"]]),LT=un({id:"users",name:"$t:user_directory",icon:"people_alt",routes:[{name:"users-collection",path:"",component:xa},{name:"users-item",path:":primaryKey",component:ni,props:!0},{path:"roles",redirect:"/users"},{name:"roles-collection",path:"roles/:role",component:xa,props:!0},{name:"roles-item-add",path:"roles/:role/+",component:ni,props:e=>({primaryKey:"+",role:e.params.role})}],preRegisterCheck(e,t){return e.role.admin_access?!0:!!t.find(s=>s.collection==="directus_users"&&s.action==="read")}}),OT=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:LT});const{modulesRaw:Co}=Jl();let li=[];async function jT(){const t=Object.values({"./activity/index.ts":B2,"./collections/index.ts":ak,"./docs/index.ts":Vk,"./files/index.ts":aC,"./insights/index.ts":nV,"./settings/index.ts":aT,"./users/index.ts":OT}).map(l=>l.default);try{const l=await j(()=>import(`${Je()}extensions/modules/index.js`),[]);t.push(...l.default)}catch(l){console.warn("Couldn't load custom modules"),console.warn(l)}li=t}async function RT(){const e=Xe(),t=Tt(),l=[];for(const n of li)!e.currentUser||(n.preRegisterCheck?await n.preRegisterCheck(e.currentUser,t.permissions)&&l.push(n):l.push(n));for(const n of l)Rt.addRoute({name:n.id,path:`/${n.id}`,component:fn,children:n.routes});Co.value=l}function MT(){for(const e of Co.value)Rt.removeRoute(e.id);Co.value=[]}function En(e){const t=Tl();return t.settings&&e in t.settings?t.settings[e]:null}function UT(){const e=Xe();return e.currentUser?e.currentUser.theme==="auto"?window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light":e.currentUser.theme:"light"}const oi={name:"OpenStreetMap",type:"raster",url:"https://{a-c}.tile.openstreetmap.org/{z}/{x}/{y}.png",tileSize:256},NT={version:8,glyphs:"https://fonts.openmaptiles.org/{fontstack}/{range}.pbf"};function tl(){return En("mapbox_key")?[zT(),oi,...En("basemaps")||[]]:[oi,...En("basemaps")||[]]}function So(e){if(qT(e.url),e.type=="style")return e.url;{const t=oe({},NT),l={type:"raster"};return e.type=="raster"&&(l.tiles=BT(e.url),l.tileSize=e.tileSize||512),e.type=="tile"&&(l.url=e.url),t.layers=[{id:e.name,source:e.name,type:"raster"}],t.sources={[e.name]:l},t}}function BT(e){const t=[];let l=/\{([a-z])-([a-z])\}/.exec(e);if(l){const n=l[1].charCodeAt(0),s=l[2].charCodeAt(0);let u;for(u=n;u<=s;++u)t.push(e.replace(l[0],String.fromCharCode(u)));return t}if(l=/\{(\d+)-(\d+)\}/.exec(e),l){const n=parseInt(l[2],10);for(let s=parseInt(l[1],10);s<=n;s++)t.push(e.replace(l[0],s.toString()));return t}if(l=/\{(([a-z0-9]+)(,([a-z0-9]+))+)\}/.exec(e),l){const n=l[1].split(",");for(const s of n)t.push(e.replace(l[0],s));return t}return t.push(e),t}function qT(e){e=e.replace(/^mapbox:\//,"https://api.mapbox.com/styles/v1");try{const t=new URL(e);if(t.host=="api.mapbox.com"){const l=t.searchParams.get("access_token");l&&(Ds.accessToken=l)}}catch{return}}function zT(){const e={name:"Mapbox",type:"style",url:"mapbox://styles/directus/cktaiz31c509n18nrxj63zdy6"};return UT()==="dark"&&(e.url="mapbox://styles/directus/cktaixyhk2joh17lrb5i8zs22"),e}function ai(e=[Ke,Te,Xe,ll,Ln,Tl,On,To,mt,Tt,Pn]){return e.map(t=>t())}async function Vo(e=ai()){var s,u,o;const t=wt(),l=Xe(),n=Tt();if(!t.hydrated&&!t.hydrating){t.hydrating=!0;try{if(await l.hydrate(),(s=l.currentUser)==null?void 0:s.role){await n.hydrate();const i=["userStore","permissionsStore"];await Promise.all(e.filter(({$id:d})=>!i.includes(d)).map(d=>{var p;return(p=d.hydrate)==null?void 0:p.call(d)})),await RT(),await ca((o=(u=l.currentUser)==null?void 0:u.language)!=null?o:"en-US")}t.basemap=tl()[0].name}catch(i){t.error=i}finally{t.hydrating=!1}t.hydrated=!0}}async function KT(e=ai()){var l;const t=wt();if(t.hydrated!==!1){for(const n of e)await((l=n.dehydrate)==null?void 0:l.call(n));MT(),t.hydrated=!1}}const ii=["pointermove","pointerdown","keydown"],HT=5*60*1e3;let Fo,El=!0,Ao=!1;const on=Yo();function WT(){document.addEventListener("visibilitychange",ri);for(const e of ii)document.addEventListener(e,si);di()}function GT(){document.removeEventListener("visibilitychange",ri);for(const e of ii)document.removeEventListener(e,si)}function si(){Ao===!0&&(Ao=!1,on.emit("active")),di()}function ri(){document.visibilityState==="hidden"&&El===!0&&(El=!1,on.emit("hide")),document.visibilityState==="visible"&&El===!1&&(El=!0,on.emit("show"))}function di(){Fo&&clearTimeout(Fo),Fo=setTimeout(()=>{Ao=!0,on.emit("idle")},HT)}async function ui(e,t){const l=wt(),n=await pe.post(t!==eo?`/auth/login/${t}`:"/auth/login",ke(oe({},e),{mode:"cookie"})),s=n.data.data.access_token;pe.defaults.headers.common.Authorization=`Bearer ${s}`,n.data.data.expires<=21e8&&(an=setTimeout(()=>gn(),n.data.data.expires-1e4)),l.accessTokenExpiry=Date.now()+n.data.data.expires,l.authenticated=!0,await Vo()}let an,Dn=!1,Io=!1,ci=!0;on.on("idle",()=>{clearTimeout(an),Dn=!0});on.on("hide",()=>{clearTimeout(an),Dn=!0});on.on("active",()=>{Dn===!0&&(gn(),Dn=!1)});on.on("show",()=>{Dn===!0&&(gn(),Dn=!1)});async function gn({navigate:e}={navigate:!0}){if(ci)ci=!1;else if(!pe.defaults.headers.common.Authorization)return;if(Io)return;const t=wt();if(t.accessTokenExpiry&&Date.now()<t.accessTokenExpiry-1e4){clearTimeout(an),an=setTimeout(()=>gn(),t.accessTokenExpiry-1e4-Date.now());return}Io=!0;try{const l=await pe.post("/auth/refresh",void 0,{transformRequest(s,u){var o;return(o=u==null?void 0:u.common)==null||delete o.Authorization,s}}),n=l.data.data.access_token;return pe.defaults.headers.common.Authorization=`Bearer ${n}`,clearTimeout(an),l.data.data.expires<=21e8&&(an=setTimeout(()=>gn(),l.data.data.expires-1e4)),t.accessTokenExpiry=Date.now()+l.data.data.expires,t.authenticated=!0,n}catch{await Eo({navigate:e,reason:Tn.SESSION_EXPIRED})}finally{Io=!1}}var Tn;(function(e){e.SIGN_OUT="SIGN_OUT",e.SESSION_EXPIRED="SESSION_EXPIRED"})(Tn||(Tn={}));async function Eo(e={}){const t=wt(),l={navigate:!0,reason:Tn.SIGN_OUT};delete pe.defaults.headers.common.Authorization,clearTimeout(an);const n=oe(oe({},l),e);if(n.reason===Tn.SIGN_OUT&&await pe.post("/auth/logout"),t.authenticated=!1,await KT(),n.navigate===!0){const s={path:"/login",query:{reason:n.reason}};Rt.push(s)}}const nl=ta.create({baseURL:Je(),withCredentials:!0,headers:{"Cache-Control":"no-store"}}),Do=new Ts({concurrency:5,intervalCap:5,interval:500,carryoverConcurrencyCount:!0}),JT=e=>{const l=ll().startRequest(),n=oe({id:l},e);return new Promise(s=>{e.url&&e.url==="/auth/refresh"?(Do.pause(),s(n),Do.start()):Do.add(()=>s(n))})},QT=e=>{var n;const t=ll(),l=(n=e.config)==null?void 0:n.id;return l&&t.endRequest(l),e},XT=async e=>{var u,o,i,d,p,f,v,y;const t=ll(),l=(o=(u=e.response)==null?void 0:u.config)==null?void 0:o.id;l&&t.endRequest(l);const n=(i=e.response)==null?void 0:i.status,s=(y=(v=(f=(p=(d=e.response)==null?void 0:d.data)==null?void 0:p.errors)==null?void 0:f[0])==null?void 0:v.extensions)==null?void 0:y.code;if(n===401&&s==="INVALID_CREDENTIALS"&&e.request.responseURL.includes("refresh")===!1&&e.request.responseURL.includes("login")===!1&&e.request.responseURL.includes("tfa")===!1){let _;try{_=await gn()}catch{return Eo({reason:Tn.SESSION_EXPIRED}),Promise.reject()}if(_)return nl.request(ke(oe({},e.config),{headers:{Authorization:`Bearer ${_}`}}))}return Promise.reject(e)};nl.interceptors.request.use(JT);nl.interceptors.response.use(QT,XT);var pe=nl;function ZT(){var e;return((e=nl.defaults.headers.common.Authorization)==null?void 0:e.split(" ")[1])||null}function dt(e,t){const l=t||ZT();return l?Xl(e,{access_token:l}):e}const Ke=St({id:"collectionsStore",state:()=>({collections:[]}),getters:{visibleCollections(){return this.collections.filter(({collection:e})=>e.startsWith("directus_")===!1).filter(e=>{var t;return((t=e.meta)==null?void 0:t.hidden)!==!0})},allCollections(){return this.collections.filter(({collection:e})=>e.startsWith("directus_")===!1)},crudSafeSystemCollections(){return M.exports.orderBy(this.collections.filter(e=>e.collection.startsWith("directus_")===!0),["collection"],["asc"]).filter(e=>y$.includes(e.collection)===!1)}},actions:{async hydrate(){const t=(await pe.get("/collections",{params:{limit:-1}})).data.data;this.collections=t.map(this.prepareCollectionForApp)},prepareCollectionForApp(e){var u,o;const t=((u=e.meta)==null?void 0:u.icon)||"label",l=(o=e.meta)==null?void 0:o.color;let n=Et(e.collection);const s=a2(e);if(e.meta&&Nt(e.meta.translations))for(let i=0;i<e.meta.translations.length;i++){const{language:d,translation:p,singular:f,plural:v}=e.meta.translations[i];qe.global.mergeLocaleMessage(d,{collection_names:{[e.collection]:p},collection_names_singular:{[e.collection]:f},collection_names_plural:{[e.collection]:v}})}return qe.global.te(`collection_names.${e.collection}`)&&(n=qe.global.t(`collection_names.${e.collection}`)),ke(oe({},e),{name:n,type:s,icon:t,color:l})},async dehydrate(){this.$reset()},translateCollections(){this.collections=this.collections.map(e=>(qe.global.te(`collection_names.${e.collection}`)&&(e.name=qe.global.t(`collection_names.${e.collection}`)),e))},async upsertCollection(e,t){const l=Te(),n=this.getCollection(e),s=M.exports.omit(t,["name","type","icon","color"]);try{if(n){if(M.exports.isEqual(n,t))return;const u=await pe.patch(`/collections/${e}`,s);this.collections=this.collections.map(o=>o.collection===e?this.prepareCollectionForApp(u.data.data):o)}else{const u=await pe.post("/collections",s);this.collections=[...this.collections,this.prepareCollectionForApp(u.data.data)]}}catch(u){Se(u)}finally{await l.hydrate()}},async updateCollection(e,t){try{await pe.patch(`/collections/${e}`,t),await this.hydrate(),It({type:"success",title:qe.global.t("update_collection_success")})}catch(l){Se(l)}},async deleteCollection(e){try{await pe.delete(`/collections/${e}`),await this.hydrate(),It({type:"success",title:qe.global.t("delete_collection_success")})}catch(t){Se(t)}},getCollection(e){return this.collections.find(t=>t.collection===e)||null}}}),YT={collection:"directus_files",field:"$thumbnail",schema:null,name:"$thumbnail",type:"integer",meta:{id:-1,collection:"directus_files",field:"$thumbnail",sort:null,special:null,interface:null,options:null,display:"file",display_options:null,hidden:!1,translations:null,readonly:!0,width:"full",group:null,note:null,required:!1,conditions:null}};let pi;const Te=St({id:"fieldsStore",state:()=>({fields:[]}),actions:{async hydrate(){const t=(await pe.get("/fields",{params:{limit:-1}})).data.data;this.fields=[...t.map(this.parseField),YT],this.translateFields()},async dehydrate(){this.$reset()},parseField(e){let t=Et(e.field);if(e.meta&&Nt(e.meta.translations)&&e.meta.translations.length>0)for(let l=0;l<e.meta.translations.length;l++){const{language:n,translation:s}=e.meta.translations[l];qe.global.mergeLocaleMessage(n,{fields:{[e.collection]:{[e.field]:s}}})}return qe.global.te(`fields.${e.collection}.${e.field}`)&&(t=qe.global.t(`fields.${e.collection}.${e.field}`)),ke(oe({},e),{name:t})},translateFields(){this.fields=this.fields.map(e=>(qe.global.te(`fields.${e.collection}.${e.field}`)&&(e.name=qe.global.t(`fields.${e.collection}.${e.field}`)),e))},async upsertField(e,t,l){const n=this.getField(e,t),s=M.exports.omit(l,["name"]);return n?M.exports.isEqual(l,n)?void 0:await this.updateField(e,t,s):await this.createField(e,s)},async createField(e,t){const l=[...this.fields];try{const n=await pe.post(`/fields/${e}`,t),s=this.parseField(n.data.data);return this.fields=[...this.fields,s],s}catch(n){this.fields=l,Se(n)}},async updateField(e,t,l){const n=[...this.fields];this.fields=this.fields.map(s=>s.collection===e&&s.field===t?M.exports.merge({},s,l):s);try{const s=await pe.patch(`/fields/${e}/${t}`,l);this.fields=this.fields.map(u=>u.collection===e&&u.field===t?this.parseField(s.data.data):u)}catch(s){this.fields=n,Se(s)}},async updateFields(e,t){const l=bt(),n=[...this.fields];pi=l,this.fields=this.fields.map(s=>{if(s.collection===e){const u=t.find(o=>o.field===s.field);if(u)return M.exports.merge({},s,u)}return s});try{const s=await pe.patch(`/fields/${e}`,t);pi===l&&(this.fields=this.fields.map(u=>{if(u.collection===e){const o=s.data.data.find(i=>i.field===u.field);if(o)return this.parseField(o)}return u}),this.translateFields())}catch(s){this.fields=n,Se(s)}},async deleteField(e,t){const l=mt(),n=[...this.fields],s=[...l.relations];this.fields=this.fields.filter(u=>!(u.field===t&&u.collection===e)),l.relations=l.relations.filter(u=>!(u.collection===e&&u.field===t));try{await pe.delete(`/fields/${e}/${t}`)}catch(u){this.fields=n,l.relations=s,Se(u)}},getPrimaryKeyFieldForCollection(e){const t=this.fields.find(l=>{var n;return l.collection===e&&((n=l.schema)==null?void 0:n.is_primary_key)===!0});return t!=null?t:null},getFieldsForCollection(e){return M.exports.orderBy(this.fields.filter(t=>t.collection===e),[t=>{var l;return((l=t.meta)==null?void 0:l.system)===!0},t=>{var l,n;return((l=t.meta)==null?void 0:l.sort)?Number((n=t.meta)==null?void 0:n.sort):null}])},getFieldsForCollectionAlphabetical(e){return this.getFieldsForCollection(e).sort((t,l)=>t.field<l.field?-1:(t.field>l.field,1))},getField(e,t){return t.includes(".")?this.getRelationalField(e,t)||null:this.fields.find(l=>l.collection===e&&l.field===t)||null},getRelationalField(e,t){var i;const l=mt(),n=t.split("."),s=(i=l.getRelationsForField(e,n[0]))==null?void 0:i.find(d=>{var p;return d.field===n[0]||((p=d.meta)==null?void 0:p.one_field)===n[0]});if(s===void 0)return!1;const u=s.field===n[0]?s.related_collection:s.collection;n.shift();const o=n.join(".");return this.getField(u,o)}}}),Pn=St({id:"insightsStore",state:()=>({dashboards:[]}),actions:{async hydrate(){const e=Xe(),t=Tt();if(e.isAdmin!==!0&&!t.hasPermission("directus_dashboards","read"))this.dashboards=[];else try{const l=await pe.get("/dashboards",{params:{limit:-1,fields:["*","panels.*"],sort:["name"]}});this.dashboards=l.data.data}catch{this.dashboards=[]}},async dehydrate(){this.$reset()}}}),To=St({id:"latencyStore",state:()=>({latency:[]}),actions:{async dehydrate(){this.$reset()},save(e){this.latency.push(e),this.latency=this.latency.slice(-20)}}}),Dl=St({id:"notificationsStore",state:()=>({dialogs:[],queue:[],previous:[]}),actions:{add(e){const t=bt(),l=Date.now();return e.dialog===!0?(e.persist=!0,this.dialogs=[...this.dialogs,ke(oe({},e),{id:t,timestamp:l})]):this.queue=[...this.queue,ke(oe({},e),{id:t,timestamp:l})],e.persist!==!0&&setTimeout(()=>{this.remove(t)},3e3),t},hide(e){const l=[...this.queue,...this.dialogs].find(n=>n.id===e);!l||(l.dialog===!0?this.dialogs=this.dialogs.filter(n=>n.id!==e):this.queue=this.queue.filter(n=>n.id!==e),this.previous=[...this.previous,l])},remove(e){const l=[...this.queue,...this.dialogs].find(n=>n.id===e);!l||(l.dialog===!0?this.dialogs=this.dialogs.filter(n=>n.id!==e):this.queue=this.queue.filter(n=>n.id!==e))},update(e,t){this.queue=this.queue.map(l),this.dialogs=this.dialogs.map(l),this.previous=this.queue.map(l);function l(n){return n.id===e?oe(oe({},n),t):n}}},getters:{lastFour(){const e=[...this.queue,...this.previous.filter(n=>n.dialog!==!0)],l=M.exports.reverse(M.exports.sortBy(e,["timestamp"])).slice(0,4);return M.exports.reverse(l)}}}),Tt=St({id:"permissionsStore",state:()=>({permissions:[]}),actions:{async hydrate(){const e=Xe(),t=await pe.get("/permissions",{params:{limit:-1,filter:{role:{_eq:e.currentUser.role.id}}}});this.permissions=t.data.data.map(l=>(l.permissions&&(l.permissions=Hn(l.permissions)),l.validation&&(l.validation=Hn(l.validation)),l.presets&&(l.presets=Hn(l.presets)),l))},dehydrate(){this.$reset()},getPermissionsForUser(e,t){const l=Xe();return this.permissions.find(n=>{var s,u;return n.action===t&&n.collection===e&&n.role===((u=(s=l.currentUser)==null?void 0:s.role)==null?void 0:u.id)})||null},hasPermission(e,t){var n,s;return((s=(n=Xe().currentUser)==null?void 0:n.role)==null?void 0:s.admin_access)===!0?!0:!!this.getPermissionsForUser(e,t)}}}),mi={bookmark:null,role:null,user:null,search:null,filter:null,layout:null,layout_query:null,layout_options:null,refresh_interval:null},fi={directus_files:{collection:"directus_files",layout:"cards",layout_query:{cards:{sort:["-uploaded_on"]}},layout_options:{cards:{icon:"insert_drive_file",title:"{{ title }}",subtitle:"{{ type }} \u2022\xA0{{ filesize }}",size:4,imageFit:"crop"}}},directus_users:{collection:"directus_users",layout:"cards",layout_query:{cards:{sort:["email"]}},layout_options:{cards:{icon:"account_circle",title:"{{ first_name }} {{ last_name }}",subtitle:"{{ email }}",size:4}}},directus_activity:{collection:"directus_activity",layout:"tabular",layout_query:{tabular:{sort:["-timestamp"],fields:["action","collection","timestamp","user"]}},layout_options:{tabular:{widths:{action:100,collection:210,timestamp:240,user:240}}}},directus_roles:{collection:"directus_roles",layout:"tabular",layout_query:{tabular:{fields:["icon","name","description"]}},layout_options:{tabular:{widths:{icon:36,name:248,description:500}}}},directus_webhooks:{collection:"directus_webhooks",layout:"tabular",layout_query:{tabular:{fields:["status","method","name","collections","actions"]}},layout_options:{tabular:{widths:{status:32,method:100,name:210,collections:240,actions:210}}}}},vi={},Ln=St({id:"presetsStore",state:()=>({collectionPresets:[]}),getters:{bookmarks(){return this.collectionPresets.filter(e=>e.bookmark!==null)}},actions:{async hydrate(){const{id:e,role:t}=Xe().currentUser,n=(await Promise.all([pe.get("/presets",{params:{"filter[user][_eq]":e,limit:-1}}),pe.get("/presets",{params:{"filter[role][_eq]":t.id,"filter[user][_null]":!0,limit:-1}}),pe.get("/presets",{params:{"filter[role][_null]":!0,"filter[user][_null]":!0,limit:-1}})])).map(s=>s.data.data).flat();for(const s of Object.keys(fi))n.find(o=>o.collection===s&&!o.user&&!o.role&&!o.bookmark)||n.push(M.exports.merge({},mi,fi[s]));this.collectionPresets=n},async dehydrate(){this.$reset()},async create(e){const t=await pe.post("/presets",e);return this.collectionPresets.push(t.data.data),t.data.data},async update(e,t){const l=bt();vi[e]=l;const n=await pe.patch(`/presets/${e}`,t);return vi[e]===l&&(this.collectionPresets=this.collectionPresets.map(s=>{const u=n.data.data;return s.id===u.id?u:s})),n.data.data},async delete(e){await pe.delete(`/presets/${e}`),this.collectionPresets=this.collectionPresets.filter(t=>t.id!==e)},getPresetForCollection(e){const t=Xe();if(t.currentUser===null)return null;const{id:l,role:n}=t.currentUser,s=ke(oe({},mi),{collection:e,user:l}),u=this.collectionPresets.filter(p=>{const f=p.user===l||p.user===null,v=p.role===n.id||p.role===null,y=p.collection===e;return p.bookmark?!1:!!(f&&y||v&&y)});if(u.length===0)return s;if(u.length===1)return u[0];const o=u.find(p=>p.user===l);if(o)return o;const i=u.find(p=>p.role===n.id);return i||u[u.length-1]},getBookmark(e){return this.collectionPresets.find(t=>t.id===e)||null},async savePreset(e){const t=Xe();if(t.currentUser===null)return null;const{id:l}=t.currentUser;if(e=M.exports.cloneDeep(e),e.id===void 0||e.id===null)return await this.create(ke(oe({},e),{user:l}));if(e.user!==l)return"id"in e&&delete e.id,await this.create(ke(oe({},e),{user:l}));{const n=e.id;return delete e.id,await this.update(n,e)}},saveLocal(e){this.collectionPresets=this.collectionPresets.map(t=>t.id===e.id?oe({},e):t)},async clearLocalSave(e){const t=await pe.get(`/presets/${e.id}`);this.collectionPresets=this.collectionPresets.map(l=>l.id===t.data.data.id?t.data.data:l)}}}),mt=St({id:"relationsStore",state:()=>({relations:[]}),actions:{async hydrate(){const e=await pe.get("/relations",{params:{limit:-1}});this.relations=e.data.data},async dehydrate(){this.$reset()},getRelationsForCollection(e){return this.relations.filter(t=>t.collection===e||t.related_collection===e)},async upsertRelation(e,t,l){const n=this.getRelationForField(e,t);try{if(n){if(M.exports.isEqual(n,l))return;const s=await pe.patch(`/relations/${e}/${t}`,l);this.relations=this.relations.map(u=>u.collection===e&&u.field===t?s.data.data:u)}else{const s=await pe.post("/relations",l);this.relations=[...this.relations,s.data.data]}}catch(s){Se(s)}},getRelationsForField(e,t){var u;if(!Te().getField(e,t))return[];const s=this.getRelationsForCollection(e).filter(o=>{var i;return o.collection===e&&o.field===t||o.related_collection===e&&((i=o.meta)==null?void 0:i.one_field)===t});if(s.length>0&&((u=s[0].meta)==null?void 0:u.junction_field)!==null){const i=this.relations.find(d=>{var p;return d.collection===s[0].collection&&d.field===((p=s[0].meta)==null?void 0:p.junction_field)});i&&s.push(i)}return s},getRelationForField(e,t){return Te().getField(e,t)&&this.getRelationsForCollection(e).filter(u=>{var o;return u.collection===e&&u.field===t||u.related_collection===e&&((o=u.meta)==null?void 0:o.one_field)===t}).find(u=>u.collection===e&&u.field===t)||null}}}),ll=St({id:"requestsStore",state:()=>({queue:[]}),getters:{queueHasItems(){return this.queue.length>0}},actions:{startRequest(){const e=bt();return this.queue=[...this.queue,e],setTimeout(()=>this.endRequest(e),3500),e},endRequest(e){this.queue=this.queue.filter(t=>t!==e)}}}),On=St({id:"serverStore",state:()=>({info:null}),actions:{async hydrate(){const e=await pe.get("/server/info",{params:{limit:-1}});this.info=e.data.data},dehydrate(){this.$reset()}}}),Tl=St({id:"settingsStore",state:()=>({settings:null}),actions:{async hydrate(){const e=await pe.get("/settings");this.settings=e.data.data},async dehydrate(){this.$reset()},async updateSettings(e){const t=oe({},this.settings),l=M.exports.merge({},this.settings,e);this.settings=l;try{const n=await pe.patch("/settings",e);this.settings=n.data.data,It({title:qe.global.t("settings_update_success"),type:"success"})}catch(n){this.settings=t,Se(n)}}}});var xT=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",useAppStore:wt,useCollectionsStore:Ke,useFieldsStore:Te,useInsightsStore:Pn,useLatencyStore:To,useNotificationsStore:Dl,usePermissionsStore:Tt,usePresetsStore:Ln,useRelationsStore:mt,useRequestsStore:ll,useServerStore:On,useSettingsStore:Tl,useUserStore:Xe});function e6(){xt(Fr,xT),xt(Ar,pe)}const t6=(e,t)=>`
<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 200 200">
	<style>
		circle {
			fill: ${e};
		}
	</style>

	<circle cx="100" cy="100" r="100"/>

	${t?"":'<path d="M143.122 109.533c-.663-.167-1.216-.334-1.715-.557a3.945 3.945 0 01-1.216-.836c.332-2.952 0-5.514.276-8.411 1.106-11.253 8.132-7.688 14.439-9.526 3.928-1.114 7.855-3.398 8.851-8.078-4.315-5.069-9.128-9.526-14.383-13.314-17.094-12.255-39.444-17.157-59.747-13.76a30.762 30.762 0 0013.428 12.535s-5.502 0-10.218-3.548c-1.383.558-4.15 1.654-5.478 2.322 10.788 10.417 27.66 11.587 39.776 2.228-.055.112-1.107 1.727-2.379 8.468-2.821 14.372-10.954 13.258-21.022 9.637-20.911-7.631-32.418-.557-42.873-15.04a9.73 9.73 0 00-4.924 8.467c0 3.621 1.992 6.685 4.868 8.356 1.57-2.098 2.275-2.695 5.014-2.695-4.239 2.42-4.737 4.533-6.563 10.382-2.213 7.075-1.272 14.317-11.617 16.211-5.477.279-5.366 4.011-7.358 9.582-2.489 7.242-5.808 10.139-12.281 16.99 2.655 3.231 5.421 3.621 8.243 2.451 5.808-2.45 10.29-10.027 14.494-14.929 4.702-5.46 15.988-3.12 24.507-8.467 5.864-3.622 8.74-8.524 4.868-16.824 2.49 2.785 3.983 6.295 4.204 10.027 9.848-1.28 23.014 10.807 35.019 12.813-1.217-1.56-2.213-3.231-2.932-4.958-1.383-3.342-1.826-6.406-1.55-9.08 1.107 6.629 7.746 15.152 18.423 15.932 2.71.223 5.697-.112 8.795-1.058 3.707-1.115 7.137-2.563 11.23-1.783 3.043.557 5.864 2.117 7.635 4.735 2.655 3.9 8.464 4.735 11.064-.056-5.864-15.43-22.018-16.433-28.878-18.216z" fill="#FFF"/>'}
</svg>`;function n6(e="#00C897",t=!1){const l=t6(e,t),n=document.createElement("div");if(n.innerHTML=l.trim(),n.firstChild){const s=new XMLSerializer().serializeToString(n.firstChild),u="data:image/svg+xml;base64,"+window.btoa(s),o=document.querySelector("link[rel*='icon']")||document.createElement("link");o.type="image/x-icon",o.rel="icon",o.href=u,document.getElementsByTagName("head")[0].appendChild(o)}}const l6=z({setup(){const{t:e}=te(),t=wt(),l=Xe(),n=On(),{hydrating:s}=Ue(t),u=V(()=>{var d,p;return{"--brand":((p=(d=n.info)==null?void 0:d.project)==null?void 0:p.project_color)||"var(--primary)"}});st(()=>WT()),Vt(()=>GT()),ye([()=>{var d,p;return(p=(d=n.info)==null?void 0:d.project)==null?void 0:p.project_color},()=>{var d,p;return(p=(d=n.info)==null?void 0:d.project)==null?void 0:p.project_logo}],()=>{var p,f,v,y;const d=!!((f=(p=n.info)==null?void 0:p.project)==null?void 0:f.project_logo);n6(((y=(v=n.info)==null?void 0:v.project)==null?void 0:y.project_color)||"#00C897",d)}),ye(()=>l.currentUser,d=>{var p;document.body.classList.remove("dark"),document.body.classList.remove("light"),document.body.classList.remove("auto"),d!=null&&d.theme?(document.body.classList.add(d.theme),(p=document.querySelector('head meta[name="theme-color"]'))==null||p.setAttribute("content",d.theme==="light"?"#ffffff":"#263238")):document.body.classList.add("light")}),ye(()=>{var d,p;return(p=(d=n.info)==null?void 0:d.project)==null?void 0:p.project_name},d=>{document.title=d||"Directus"});const o=V(()=>{var d,p;return((p=(d=n.info)==null?void 0:d.project)==null?void 0:p.custom_css)||""}),i=V(()=>t.error);return e6(),{t:e,hydrating:s,brandStyle:u,error:i,customCSS:o}}}),o6={key:0,class:"hydrating"};function a6(e,t,l,n,s,u){const o=c("v-progress-circular"),i=c("v-error"),d=c("v-info"),p=c("router-view");return m(),I("div",{id:"directus",style:ze(e.brandStyle)},[a(Ut,{name:"fade"},{default:r(()=>[e.hydrating?(m(),I("div",o6,[a(o,{indeterminate:""})])):R("",!0)]),_:1}),e.error?(m(),S(d,{key:0,type:"danger",title:e.t("unexpected_error"),icon:"error",center:""},{append:r(()=>[a(i,{error:e.error},null,8,["error"])]),default:r(()=>[D(b(e.t("unexpected_error_copy"))+" ",1)]),_:1},8,["title"])):e.hydrating?R("",!0):(m(),S(p,{key:1})),(m(),S(zl,{to:"#custom-css"},[D(b(e.customCSS),1)]))],4)}var i6=N(l6,[["render",a6],["__scopeId","data-v-d66a0348"]]);const s6=z({props:{layoutQuery:{type:Object,default:()=>({})},filter:{type:Object,default:null},search:{type:String,default:null},collection:{type:String,required:!0}},setup(e){const{t}=te(),l=E("csv"),n=E(!0),s=Ke(),u=V(()=>s.getCollection(e.collection).name);return{t,format:l,useFilters:n,exportData:o,collectionName:u};function o(){var v,y,_;const i=e.collection.startsWith("directus_")?`${e.collection.substring(9)}`:`items/${e.collection}`,d=Je()+i;let p={access_token:pe.defaults.headers.common.Authorization.substring(7),export:l.value||"json"};n.value===!0&&(((v=e.layoutQuery)==null?void 0:v.sort)&&(p.sort=e.layoutQuery.sort),((y=e.layoutQuery)==null?void 0:y.fields)&&(p.fields=e.layoutQuery.fields),((_=e.layoutQuery)==null?void 0:_.limit)&&(p.limit=e.layoutQuery.limit),e.search&&(p.search=e.search),e.filter&&(p.filter=e.filter),e.search&&(p.search=e.search));const f=pe.getUri({url:d,params:p});window.open(f)}}}),r6={class:"fields"},d6={class:"field full"},u6={class:"type-label"},c6={class:"field full"};function p6(e,t,l,n,s,u){const o=c("v-select"),i=c("v-checkbox"),d=c("v-button"),p=c("sidebar-detail");return m(),S(p,{icon:"save_alt",title:e.t("export_data")},{default:r(()=>[C("div",r6,[C("div",d6,[C("p",u6,b(e.t("format")),1),a(o,{modelValue:e.format,"onUpdate:modelValue":t[0]||(t[0]=f=>e.format=f),items:[{text:e.t("csv"),value:"csv"},{text:e.t("json"),value:"json"},{text:e.t("xml"),value:"xml"}]},null,8,["modelValue","items"]),a(i,{modelValue:e.useFilters,"onUpdate:modelValue":t[1]||(t[1]=f=>e.useFilters=f),label:e.t("use_current_filters_settings")},null,8,["modelValue","label"])]),C("div",c6,[a(d,{"full-width":"",onClick:e.exportData},{default:r(()=>[D(b(e.t("export_collection",{collection:e.collectionName})),1)]),_:1},8,["onClick"])])])]),_:1},8,["title"])}var m6=N(s6,[["render",p6],["__scopeId","data-v-11c53db4"]]);const f6=z({components:{ValueNull:ln},props:{display:{type:String,default:null},options:{type:Object,default:()=>({})},interface:{type:String,default:null},interfaceOptions:{type:Object,default:null},value:{type:[String,Number,Object,Array,Boolean],default:null},type:{type:String,required:!0},collection:{type:String,required:!0},field:{type:String,required:!0}},setup(e){const{displays:t}=tn();return{displayInfo:V(()=>t.value.find(n=>n.id===e.display)||null)}}});function v6(e,t,l,n,s,u){const o=c("value-null"),i=c("v-text-overflow");return e.value===null||e.value===void 0?(m(),S(o,{key:0})):e.displayInfo===null?(m(),S(i,{key:1,class:"display",text:e.value},null,8,["text"])):(m(),S(Be(`display-${e.display}`),ut({key:2},e.options,{interface:e.interface,"interface-options":e.interfaceOptions,value:e.value,type:e.type,collection:e.collection,field:e.field}),null,16,["interface","interface-options","value","type","collection","field"]))}var _6=N(f6,[["render",v6],["__scopeId","data-v-edd38016"]]);const y6={alias:"raw",bigInteger:"formatted-value",binary:"raw",boolean:"boolean",date:"datetime",dateTime:"datetime",decimal:"formatted-value",float:"formatted-value",integer:"formatted-value",json:"raw",string:"formatted-value",text:"formatted-value",time:"datetime",timestamp:"datetime",uuid:"formatted-value",unknown:"raw",csv:"labels",hash:"formatted-value",geometry:"map"};function _i(e){return y6[e]||"raw"}const g6=z({components:{ValueNull:ln},props:{collection:{type:String,default:null},fields:{type:Array,default:null},item:{type:Object,default:null},template:{type:String,required:!0}},setup(e){const t=Te(),{displays:l}=tn(),n=E(),s=/({{.*?}})/g;return{parts:V(()=>e.template.split(s).filter(o=>o).map(o=>{var y,_,g,w,h,k;if(o.startsWith("{{")===!1)return o;let i=o.replace(/{{/g,"").replace(/}}/g,"").trim();const d=t.getField(e.collection,i)||((y=e.fields)==null?void 0:y.find(F=>F.field===i));d&&d.collection==="directus_files"&&d.field==="$thumbnail"&&(i=i.split(".").filter(F=>F!=="$thumbnail").join("."));const p=M.exports.get(e.item,i);return p===void 0?null:!d||(((_=d==null?void 0:d.meta)==null?void 0:_.display)||_i(d.type))==="raw"||!l.value.find(F=>{var A;return F.id===((A=d.meta)==null?void 0:A.display)})?p:{component:(g=d.meta)==null?void 0:g.display,options:(w=d.meta)==null?void 0:w.display_options,value:p,interface:(h=d.meta)==null?void 0:h.interface,interfaceOptions:(k=d.meta)==null?void 0:k.options,type:d.type,collection:d.collection,field:d.field}}).map(o=>o!=null?o:null)),templateEl:n}}}),h6=e=>(We("data-v-1200a0f4"),e=e(),Ge(),e),b6={ref:"templateEl",class:"render-template"},$6=h6(()=>C("span",{class:"vertical-aligner"},null,-1)),w6={key:2};function k6(e,t,l,n,s,u){const o=c("value-null");return m(),I("div",b6,[$6,(m(!0),I(ae,null,be(e.parts,(i,d)=>(m(),I(ae,{key:d},[i===null||i.value===null?(m(),S(o,{key:0})):typeof i=="object"&&i.component?(m(),S(Be(`display-${i.component}`),ut({key:1},i.options,{value:i.value,interface:i.interface,"interface-options":i.interfaceOptions,type:i.type,collection:i.collection,field:i.field}),null,16,["value","interface","interface-options","type","collection","field"])):(m(),I("span",w6,b(i),1))],64))),128))],512)}var C6=N(g6,[["render",k6],["__scopeId","data-v-1200a0f4"]]);function hn(e){var p;const t=ht((e==null?void 0:e.group)||"item-group",null);if(Ta(t))return{active:E(!1),toggle:()=>{},activate:()=>{},deactivate:()=>{}};const{register:l,unregister:n,toggle:s,selection:u}=t;let o=!1;((p=e==null?void 0:e.active)==null?void 0:p.value)===!0&&(o=!0),(e==null?void 0:e.value)&&u.value.includes(e.value)&&(o=!0);const i=E(o),d={active:i,value:e==null?void 0:e.value};return l(d),(e==null?void 0:e.active)!==void 0&&e.watch===!0&&ye(e.active,()=>{e.active!==void 0&&(e.active.value===!0&&(i.value===!1&&s(d),i.value=!0),e.active.value===!1&&(i.value===!0&&s(d),i.value=!1))}),Bl(()=>n(d)),{active:i,toggle:()=>{s(d)},activate:()=>{i.value===!1&&s(d)},deactivate:()=>{i.value===!0&&s(d)}}}function Po(e={},t={},l="item-group"){const n=Lt([]),s=E([]),u=V({get(){return Nt(e.selection)&&Nt(e.selection.value)?e.selection.value:s.value},set(_){Nt(e.onSelectionChange)&&e.onSelectionChange(_),s.value=[..._]}});return xt(l,{register:o,unregister:i,toggle:d,selection:u}),ye(u,y,{immediate:!0}),ml().then(y),ye(()=>{var _;return(_=t==null?void 0:t.mandatory)==null?void 0:_.value},(_,g)=>{var w;M.exports.isEqual(_,g)||(!u.value||u.value.length===0&&((w=t==null?void 0:t.mandatory)==null?void 0:w.value)===!0)&&(u.value=[v(n.value[0])])}),{items:n,selection:u,internalSelection:s,getValueForItem:v,updateChildren:y};function o(_){var w;n.value=[...n.value,_];const g=v(_);u.value.length===0&&((w=t==null?void 0:t.mandatory)==null?void 0:w.value)===!0&&n.value.length===1&&(u.value=[g]),_.active.value&&u.value.includes(g)===!1&&d(_)}function i(_){n.value=n.value.filter(g=>g!==_)}function d(_){var g;((g=t==null?void 0:t.multiple)==null?void 0:g.value)===!0?f(_):p(_),Nt(e.onToggle)&&e.onToggle(_)}function p(_){var w;const g=v(_);if(u.value[0]===g&&((w=t==null?void 0:t.mandatory)==null?void 0:w.value)!==!0){u.value=[];return}u.value[0]!==g&&(u.value=[g])}function f(_){var w,h;const g=v(_);if(u.value.includes(g)){if(((w=t==null?void 0:t.mandatory)==null?void 0:w.value)===!0&&u.value.length===1){y();return}u.value=u.value.filter(k=>k!==g);return}if(((h=t==null?void 0:t.max)==null?void 0:h.value)&&t.max.value!==-1&&u.value.length>=t.max.value){y();return}u.value=[...u.value,g]}function v(_){return _.value||n.value.findIndex(g=>_===g)}function y(){n.value.forEach(_=>{_.active.value=u.value.includes(v(_))})}}const S6=z({props:{icon:{type:String,required:!0},title:{type:String,required:!0},badge:{type:[Boolean,String,Number],default:null},close:{type:Boolean,default:!1}},setup(e){const{active:t,toggle:l}=hn({value:e.title,group:"sidebar-detail"}),n=wt(),{sidebarOpen:s}=Ue(n);return{active:t,toggle:l,sidebarOpen:s}}}),V6={class:"icon"},F6={key:0,class:"icon"},A6={class:"content"};function I6(e,t,l,n,s,u){const o=c("v-icon"),i=c("v-badge"),d=c("transition-expand");return m(),I("div",{class:ue(["sidebar-detail",{open:e.sidebarOpen}])},[C("button",{class:ue(["toggle",{open:e.active}]),onClick:t[0]||(t[0]=(...p)=>e.toggle&&e.toggle(...p))},[C("div",V6,[a(i,{dot:e.badge===!0,bordered:"",value:e.badge,disabled:!e.badge},{default:r(()=>[a(o,{name:e.icon,outline:""},null,8,["name"])]),_:1},8,["dot","value","disabled"])]),ne(C("div",{class:"title"},b(e.title),513),[[Dt,e.sidebarOpen]]),e.close?R("",!0):(m(),I("div",F6,[a(o,{class:"expand-icon",name:e.active?"expand_less":"expand_more",outline:""},null,8,["name"])]))],2),e.close?ne((m(),I("div",{key:0,class:"close",onClick:t[1]||(t[1]=p=>e.sidebarOpen=!1)},[a(o,{name:"close"})],512)),[[Dt,e.sidebarOpen]]):R("",!0),a(d,{class:"scroll-container"},{default:r(()=>[ne(C("div",null,[C("div",A6,[ge(e.$slots,"default",{},void 0,!0)])],512),[[Dt,e.active]])]),_:3})],2)}var E6=N(S6,[["render",I6],["__scopeId","data-v-cd036256"]]);const D6=z({props:{user:{type:String,required:!0}},setup(e){const{t}=te(),l=Ye(),n=E(!1),s=E(null),u=E(null),o=V(()=>{var f;return u.value===null?null:((f=u.value.avatar)==null?void 0:f.id)?dt(`${Je()}assets/${u.value.avatar.id}?key=system-medium-cover`):null}),i=E(!1);return ye(i,()=>{i.value===!0&&u.value===null&&n.value===!1&&d()}),Vt(()=>{n.value=!1,s.value=null,u.value=null}),{t,loading:n,error:s,data:u,active:i,avatarSrc:o,userName:At,navigateToUser:p};async function d(){n.value=!0,s.value=null;try{const f=await pe.get(`/users/${e.user}`,{params:{fields:["id","first_name","last_name","avatar.id","role.name","status","email"]}});u.value=f.data.data}catch(f){s.value=f}finally{n.value=!1}}function p(){u.value&&l.push(`/users/${u.value.id}`)}}}),T6={key:0,class:"loading"},P6={key:1,class:"error"},L6=["src","alt"],O6={class:"data"},j6={class:"name type-title"},R6={class:"email"};function M6(e,t,l,n,s,u){const o=c("v-skeleton-loader"),i=c("v-icon"),d=c("v-avatar"),p=c("v-menu");return m(),S(p,{modelValue:e.active,"onUpdate:modelValue":t[1]||(t[1]=f=>e.active=f),"show-arrow":"",placement:"top",trigger:"hover",delay:300},{activator:r(()=>[ge(e.$slots,"default",{},void 0,!0)]),default:r(()=>[e.loading?(m(),I("div",T6,[a(o,{class:"avatar"}),C("div",null,[a(o,{type:"text"}),a(o,{type:"text"}),a(o,{type:"text"})])])):e.error?(m(),I("div",P6,b(e.error),1)):e.data?(m(),I("div",{key:2,class:"user-box",onClick:t[0]||(t[0]=Ae((...f)=>e.navigateToUser&&e.navigateToUser(...f),["stop"]))},[a(d,{"x-large":"",class:"avatar"},{default:r(()=>[e.avatarSrc?(m(),I("img",{key:0,src:e.avatarSrc,alt:e.data.first_name},null,8,L6)):(m(),S(i,{key:1,name:"person",outline:""}))]),_:1}),C("div",O6,[C("div",j6,b(e.userName(e.data)),1),C("div",{class:ue(["status-role",e.data.status])},b(e.t(e.data.status))+" "+b(e.data.role.name),3),C("div",R6,b(e.data.email),1)])])):R("",!0)]),_:3},8,["modelValue"])}var U6=N(D6,[["render",M6],["__scopeId","data-v-71abbf85"]]);const N6=z({props:{frontmatter:{type:Object,required:!0}},emits:["update:title","update:modularExtension"],setup(e,{emit:t}){const l=en(),n=ht("main-element"),s=V(()=>{var u;return(u=e.frontmatter)==null?void 0:u.pageClass});return ye(()=>e.frontmatter,()=>{t("update:title",e.frontmatter.title),t("update:modularExtension",e.frontmatter.modularExtension)},{immediate:!0}),st(()=>{if(l.hash&&(n==null?void 0:n.value)){const u=document.querySelector(l.hash);u&&n.value.scrollTo({top:u.offsetTop-100})}}),{pageClass:s}}});function B6(e,t,l,n,s,u){return m(),I("div",{class:ue(["md",e.pageClass])},[ge(e.$slots,"default",{},void 0,!0)],2)}var q6=N(N6,[["render",B6],["__scopeId","data-v-2e43f355"]]);const z6={};function K6(e,t){return m(),S(Kl,ut({name:"bounce",tag:"div"},e.$attrs),{default:r(()=>[ge(e.$slots,"default")]),_:3},16)}var H6=N(z6,[["render",K6]]);const W6={};function G6(e,t){return m(),S(Kl,ut({name:"dialog",tag:"span"},e.$attrs),{default:r(()=>[ge(e.$slots,"default")]),_:3},16)}var J6=N(W6,[["render",G6]]);function Q6(e="",t=!1,l){const n=t?"width":"height",s=`offset${ao(n)}`;return{beforeEnter(o){l("beforeEnter"),o._parent=o.parentNode,o._initialStyle={transition:o.style.transition,visibility:o.style.visibility,overflow:o.style.overflow,[n]:o.style[n]}},enter(o){l("enter");const i=o._initialStyle;if(!i)return;const d=`${o[s]}px`;o.style.setProperty("transition","none","important"),o.style.visibility="hidden",o.style.visibility=i.visibility,o.style.overflow="hidden",o.style[n]="0",o.offsetHeight,o.style.transition=i.transition!==""?i.transition:`${n} var(--medium) var(--transition)`,e&&o._parent&&o._parent.classList.add(e),requestAnimationFrame(()=>{o.style[n]=d})},afterEnter(o){l("afterEnter"),u(o)},enterCancelled(o){l("enterCancelled"),u(o)},leave(o){l("leave"),o._initialStyle={transition:"",visibility:"",overflow:o.style.overflow,[n]:o.style[n]},o.style.overflow="hidden",o.style[n]=`${o[s]}px`,o.offsetHeight,requestAnimationFrame(()=>o.style[n]="0")},afterLeave(o){l("afterLeave"),e&&o._parent&&o._parent.classList.remove(e),u(o)},leaveCancelled(o){l("leaveCancelled"),e&&o._parent&&o._parent.classList.remove(e),u(o)}};function u(o){if(!o._initialStyle)return;const i=o._initialStyle[n];o.style.overflow=o._initialStyle.overflow,i!=null&&(o.style[n]=i),delete o._initialStyle}}const X6=z({props:{xAxis:{type:Boolean,default:!1},expandedParentClass:{type:String,default:""}},emits:["beforeEnter","enter","afterEnter","enterCancelled","leave","afterLeave","leaveCancelled"],setup(e,{emit:t}){return{methods:Q6(e.expandedParentClass,e.xAxis,t)}}});function Z6(e,t,l,n,s,u){return m(),S(Ut,ut({name:"expand-transition",mode:"in-out"},Hl(e.methods)),{default:r(()=>[ge(e.$slots,"default")]),_:3},16)}var Y6=N(X6,[["render",Z6]]);const ol={xSmall:{type:Boolean,default:!1},small:{type:Boolean,default:!1},large:{type:Boolean,default:!1},xLarge:{type:Boolean,default:!1}};function al(e){return V(()=>e.xSmall?"x-small":e.small?"small":e.large?"large":e.xLarge?"x-large":null)}const x6=z({props:oe({size:{type:Number,default:null},tile:{type:Boolean,default:!1}},ol),setup(e){return{sizeClass:al(e)}}});function eP(e,t,l,n,s,u){return m(),I("div",{class:ue(["v-avatar",[{tile:e.tile},e.sizeClass]])},[ge(e.$slots,"default")],2)}var tP=N(x6,[["render",eP],["__scopeId","data-v-fee7284a"]]);const nP=z({props:{value:{type:[Boolean,String,Number],default:null},dot:{type:Boolean,default:!1},left:{type:Boolean,default:!1},bottom:{type:Boolean,default:!1},icon:{type:String,default:null},bordered:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1}}}),lP={key:1};function oP(e,t,l,n,s,u){const o=c("v-icon");return m(),I("div",{class:ue(["v-badge",{dot:e.dot,bordered:e.bordered}])},[e.disabled?R("",!0):(m(),I("span",{key:0,class:ue(["badge",{dot:e.dot,bordered:e.bordered,left:e.left,bottom:e.bottom}])},[e.icon?(m(),S(o,{key:0,name:e.icon,color:e.color,"x-small":""},null,8,["name","color"])):(m(),I("span",lP,b(e.value),1))],2)),ge(e.$slots,"default",{},void 0,!0)],2)}var aP=N(nP,[["render",oP],["__scopeId","data-v-5d3df5d4"]]);const iP=z({props:{items:{type:Array,default:()=>[]}},setup(){return{}}}),sP={class:"v-breadcrumb"},rP={key:2,class:"section-link"};function dP(e,t,l,n,s,u){const o=c("v-icon"),i=c("router-link");return m(),I("span",sP,[(m(!0),I(ae,null,be(e.items,(d,p)=>(m(),I("span",{key:d.name,class:ue(["section",{disabled:d.disabled}])},[p>0?(m(),S(o,{key:0,name:"chevron_right",small:""})):R("",!0),d.disabled?(m(),I("span",rP,[d.icon?(m(),S(o,{key:0,name:d.icon},null,8,["name"])):R("",!0),D(" "+b(d.name),1)])):(m(),S(i,{key:1,to:d.to,class:"section-link"},{default:r(()=>[d.icon?(m(),S(o,{key:0,name:d.icon,small:""},null,8,["name"])):R("",!0),D(" "+b(d.name),1)]),_:2},1032,["to"]))],2))),128))])}var uP=N(iP,[["render",dP],["__scopeId","data-v-884352f6"]]);const cP=z({props:oe({autofocus:{type:Boolean,default:!1},kind:{type:String,default:"normal"},fullWidth:{type:Boolean,default:!1},rounded:{type:Boolean,default:!1},outlined:{type:Boolean,default:!1},icon:{type:Boolean,default:!1},type:{type:String,default:"button"},disabled:{type:Boolean,default:!1},loading:{type:Boolean,default:!1},to:{type:[String,Object],default:""},href:{type:String,default:void 0},active:{type:Boolean,default:void 0},exact:{type:Boolean,default:!1},query:{type:Boolean,default:!1},secondary:{type:Boolean,default:!1},warning:{type:Boolean,default:!1},danger:{type:Boolean,default:!1},value:{type:[Number,String],default:void 0},dashed:{type:Boolean,default:!1},tile:{type:Boolean,default:!1},align:{type:String,default:"center",validator:e=>["left","center","right"].includes(e)},download:{type:String,default:void 0}},ol),emits:["click"],setup(e,{emit:t}){const l=en(),{route:n,isActive:s,isExactActive:u}=na(e),o=al(e),i=V(()=>e.disabled?"button":Nt(e.href)?"a":e.to?"router-link":"button"),{active:d,toggle:p}=hn({value:e.value,group:"item-group"}),f=V(()=>{if(e.active!==void 0)return e.active;if(e.to){const y=!e.query||M.exports.isEqual(l.query,n.value.query);return e.exact?u.value&&y||d.value:s.value&&y||d.value}return!1});return{sizeClass:o,onClick:v,component:i,isActiveRoute:f,toggle:p};function v(y){e.loading!==!0&&(p(),t("click",y))}}}),pP={class:"spinner"};function mP(e,t,l,n,s,u){const o=c("v-progress-circular"),i=we("focus");return m(),I("div",{class:ue(["v-button",{secondary:e.secondary,warning:e.warning,danger:e.danger,"full-width":e.fullWidth}])},[ge(e.$slots,"prepend-outer",{},void 0,!0),ne((m(),S(Be(e.component),{download:e.download,class:ue(["button",[e.sizeClass,`align-${e.align}`,{active:e.isActiveRoute,rounded:e.rounded,icon:e.icon,outlined:e.outlined,loading:e.loading,dashed:e.dashed,tile:e.tile,"full-width":e.fullWidth},e.kind]]),type:e.type,disabled:e.disabled,to:e.to!==""?e.to:void 0,href:e.href,target:e.component==="a"?"_blank":void 0,rel:e.component==="a"?"noopener noreferrer":void 0,onClick:e.onClick},{default:r(()=>[C("span",{class:ue(["content",{invisible:e.loading}])},[ge(e.$slots,"default",He(Ze({active:e.active,toggle:e.toggle})),void 0,!0)],2),C("div",pP,[e.loading?ge(e.$slots,"loading",{key:0},()=>[a(o,{"x-small":e.xSmall,small:e.small,indeterminate:""},null,8,["x-small","small"])],!0):R("",!0)])]),_:3},8,["download","class","type","disabled","to","href","target","rel","onClick"])),[[i,e.autofocus]]),ge(e.$slots,"append-outer",{},void 0,!0)],2)}var fP=N(cP,[["render",mP],["__scopeId","data-v-55816638"]]);const vP={},_P={class:"v-card-actions"};function yP(e,t){return m(),I("div",_P,[ge(e.$slots,"default")])}var gP=N(vP,[["render",yP],["__scopeId","data-v-1c0af2d8"]]);const hP={},bP={class:"v-card-subtitle"};function $P(e,t){return m(),I("div",bP,[ge(e.$slots,"default",{},void 0,!0)])}var wP=N(hP,[["render",$P],["__scopeId","data-v-61d074a0"]]);const kP={},CP={class:"v-card-text"};function SP(e,t){return m(),I("div",CP,[ge(e.$slots,"default",{},void 0,!0)])}var VP=N(kP,[["render",SP],["__scopeId","data-v-641303f3"]]);const FP={},AP={class:"v-card-title type-label"};function IP(e,t){return m(),I("div",AP,[ge(e.$slots,"default",{},void 0,!0)])}var EP=N(FP,[["render",IP],["__scopeId","data-v-4ef4d67b"]]);const DP=z({props:{disabled:{type:Boolean,default:!1},tile:{type:Boolean,default:!1}},setup(){return{}}});function TP(e,t,l,n,s,u){return m(),I("div",{class:ue(["v-card",{disabled:e.disabled,tile:e.tile}])},[ge(e.$slots,"default",{},void 0,!0)],2)}var PP=N(DP,[["render",TP],["__scopeId","data-v-7bf2718c"]]);const LP=z({props:{value:{type:String,default:null},modelValue:{type:[Boolean,Array],default:null},label:{type:String,default:null},disabled:{type:Boolean,default:!1},indeterminate:{type:Boolean,default:!1},iconOn:{type:String,default:"check_box"},iconOff:{type:String,default:"check_box_outline_blank"},iconIndeterminate:{type:String,default:"indeterminate_check_box"},block:{type:Boolean,default:!1},customValue:{type:Boolean,default:!1},checked:{type:Boolean,default:null}},emits:["update:indeterminate","update:modelValue","update:value"],setup(e,{emit:t}){const l=Oe(e,"value",t),n=V(()=>e.checked!==null?e.checked:e.modelValue instanceof Array?e.modelValue.includes(e.value):e.modelValue===!0),s=V(()=>e.indeterminate===!0||e.checked===null&&e.modelValue===null?e.iconIndeterminate:n.value?e.iconOn:e.iconOff);return{isChecked:n,toggleInput:u,icon:s,internalValue:l};function u(){if(e.indeterminate===!0&&t("update:indeterminate",!1),e.modelValue instanceof Array){const o=[...e.modelValue];e.modelValue.includes(e.value)===!1?o.push(e.value):o.splice(o.indexOf(e.value),1),t("update:modelValue",o)}else t("update:modelValue",!e.modelValue)}}}),OP={key:0,class:"prepend"},jP={class:"label type-text"},RP={key:1,class:"append"};function MP(e,t,l,n,s,u){const o=c("v-icon");return m(),S(Be(e.customValue?"div":"button"),{class:ue(["v-checkbox",{checked:e.isChecked,indeterminate:e.indeterminate,block:e.block}]),type:"button",role:"checkbox","aria-pressed":e.isChecked?"true":"false",disabled:e.disabled,onClick:Ae(e.toggleInput,["stop"])},{default:r(()=>[e.$slots.prepend?(m(),I("div",OP,[ge(e.$slots,"prepend",{},void 0,!0)])):R("",!0),a(o,{class:"checkbox",name:e.icon,disabled:e.disabled},null,8,["name","disabled"]),C("span",jP,[e.customValue===!1?ge(e.$slots,"default",{key:0},()=>[D(b(e.label),1)],!0):ne((m(),I("input",{key:1,"onUpdate:modelValue":t[0]||(t[0]=i=>e.internalValue=i),class:"custom-input"},null,512)),[[Wl,e.internalValue]])]),e.$slots.append?(m(),I("div",RP,[ge(e.$slots,"append",{},void 0,!0)])):R("",!0)]),_:3},8,["aria-pressed","disabled","class","onClick"])}var UP=N(LP,[["render",MP],["__scopeId","data-v-1bdd02de"]]);const NP=z({name:"VCheckboxTreeCheckbox",props:{text:{type:String,required:!0},value:{type:[String,Number],required:!0},children:{type:Array,default:null},modelValue:{type:Array,default:()=>[]},valueCombining:{type:String,required:!0},checked:{type:Boolean,default:null},search:{type:String,default:null},hidden:{type:Boolean,default:!1},itemText:{type:String,default:"text"},itemValue:{type:String,default:"value"},itemChildren:{type:String,default:"children"},disabled:{type:Boolean,default:!1},showSelectionOnly:{type:Boolean,default:!1},parentValue:{type:[String,Number],default:null}},emits:["update:modelValue"],setup(e,{emit:t}){const l=V(()=>{let k=e.children||[];return e.search&&(k=k.filter(P=>P[e.itemText].toLowerCase().includes(e.search.toLowerCase())||F(P[e.itemChildren]))),e.showSelectionOnly&&(k=k.filter(P=>e.modelValue.includes(P[e.itemValue])||A(P[e.itemChildren])||e.modelValue.includes(e.parentValue)||e.modelValue.includes(e.value))),k.map(P=>P[e.itemValue]);function F(P){return P?P.some(L=>L[e.itemText].toLowerCase().includes(e.search.toLowerCase())||F(L[e.itemChildren])):!1}function A(P){return P?P.some(L=>e.modelValue.includes(L[e.itemValue])||A(L[e.itemChildren])):!1}}),n=V(()=>e.showSelectionOnly===!0&&e.modelValue.includes(e.value)?!0:l.value.length>0),s=V(()=>typeof e.search=="string"&&e.search.length>0),u=V(()=>{var k;return((k=e.children)==null?void 0:k.map(F=>F[e.itemValue]))||[]}),o=V({get(){return e.modelValue||[]},set(k){const F=M.exports.difference(k,e.modelValue),A=M.exports.difference(e.modelValue,k);if(e.children)switch(e.valueCombining){case"all":return f(k,{added:F,removed:A});case"branch":return v(k,{added:F,removed:A});case"leaf":return y(k,{added:F,removed:A});case"indeterminate":return _(k,{added:F,removed:A});case"exclusive":return g(k,{added:F,removed:A});default:return w(k)}w(k)}}),i=V(()=>e.checked!==null?e.checked:e.valueCombining==="all"?null:e.valueCombining==="leaf"?h("leaf").every(F=>e.modelValue.includes(F)):null),d=V(()=>{const k=h("all");if(e.valueCombining==="all"||e.valueCombining==="branch")return k.some(F=>e.modelValue.includes(F))&&e.modelValue.includes(e.value)===!1;if(e.valueCombining==="indeterminate")return k.some(F=>e.modelValue.includes(F))&&k.every(F=>e.modelValue.includes(F))===!1;if(e.valueCombining==="leaf"){const F=h("leaf");return F.some(A=>e.modelValue.includes(A))&&F.every(A=>e.modelValue.includes(A))===!1}return e.valueCombining==="exclusive"?k.some(F=>e.modelValue.includes(F)):null}),p=V(()=>e.checked!==null?e.checked:e.valueCombining==="all"?null:e.valueCombining==="branch"&&e.modelValue.includes(e.value)?!0:null);return{groupCheckedStateOverride:i,childrenCheckedStateOverride:p,treeValue:o,groupIndeterminateState:d,visibleChildrenValues:l,groupShown:n,groupOpen:s};function f(k,{added:F,removed:A}){const P=h("all");if((F==null?void 0:F[0])===e.value){const O=[...k.filter(U=>U!==e.value&&u.value.includes(U)===!1),...P,e.value];return w(O)}if((A==null?void 0:A[0])===e.value){const O=k.filter(U=>U!==e.value&&P.includes(U)===!1);return w(O)}if(u.value.every(O=>k.includes(O))){const O=[...k.filter(U=>U!==e.value&&P.includes(U)===!1),...P,e.value];return w(O)}const L=k.filter(O=>O!==e.value);return w(L)}function v(k,{added:F,removed:A}){var L;const P=h("all");if((e.modelValue.includes(e.value)||e.checked===!0)&&F&&F.length===1&&u.value.includes(F[0])){const O=[...k.filter(U=>U!==e.value&&U!==F[0]),...u.value.filter(U=>U!==F[0])];return w(O)}if(e.modelValue.includes(e.value)&&P.some(O=>k.includes(O))){const O=e.children.find(T=>{const B=h("all",T[e.itemChildren]);return k.some(q=>B.includes(q))===!0}),U=[...k.filter(T=>T!==e.value),...(e.children||[]).filter(T=>T[e.itemChildren]?T[e.itemValue]!==(O==null?void 0:O[e.itemValue]):!0).map(T=>T[e.itemValue]),...((L=O==null?void 0:O[e.itemChildren])!=null?L:[]).filter(T=>{const B=h("all",T[e.itemChildren]);return k.some(q=>B.includes(q))===!1}).map(T=>T[e.itemValue])];return w(U)}if(F==null?void 0:F.includes(e.value)){const O=[...k.filter(U=>U!==e.value&&P.includes(U)===!1),e.value];return w(O)}if(A==null?void 0:A.includes(e.value)){const O=k.filter(U=>U!==e.value&&P.includes(U)===!1);return w(O)}if(u.value.every(O=>k.includes(O))){const O=[...k.filter(U=>U!==e.value&&P.includes(U)===!1),e.value];return w(O)}return w(k)}function y(k,{added:F}){const A=h("all"),P=h("leaf");if(F==null?void 0:F.includes(e.value))if(P.every(L=>k.includes(L))){const L=k.filter(O=>O!==e.value&&A.includes(O)===!1);return w(L)}else{const L=[...k.filter(O=>O!==e.value&&A.includes(O)===!1),...P];return w(L)}return w(k)}function _(k,{added:F,removed:A}){const P=h("all");if((F==null?void 0:F[0])===e.value){const L=[...k.filter(O=>O!==e.value&&u.value.includes(O)===!1),...P,e.value];return w(L)}if((A==null?void 0:A[0])===e.value){const L=k.filter(O=>O!==e.value&&P.includes(O)===!1);return w(L)}if(u.value.some(L=>k.includes(L))){const L=[...k.filter(O=>O!==e.value),e.value];return w(L)}return u.value.every(L=>k.includes(L)===!1)?w(k.filter(L=>L!==e.value)):w(k)}function g(k,{added:F}){const A=h("all");if((F==null?void 0:F[0])===e.value){const P=[...k.filter(L=>L!==e.value&&A.includes(L)===!1),e.value];return w(P)}if(A.some(P=>k.includes(P))){const P=[...k.filter(L=>L!==e.value)];return w(P)}return w(k)}function w(k){t("update:modelValue",k)}function h(k,F=e.children){const A=[];return P(F),A;function P(L){if(!!L)for(const O of L)k==="all"&&A.push(O[e.itemValue]),k==="branch"&&O[e.itemChildren]&&A.push(O[e.itemValue]),k==="leaf"&&!O[e.itemChildren]&&A.push(O[e.itemValue]),O[e.itemChildren]&&P(O[e.itemChildren])}}}});function BP(e,t,l,n,s,u){const o=c("v-highlight"),i=c("v-checkbox"),d=c("v-checkbox-tree-checkbox",!0),p=c("v-list-group"),f=c("v-list-item");return e.children?ne((m(),S(p,{key:0,value:e.value,open:e.groupOpen,"arrow-placement":"before"},{activator:r(()=>[a(i,{modelValue:e.treeValue,"onUpdate:modelValue":t[0]||(t[0]=v=>e.treeValue=v),indeterminate:e.groupIndeterminateState,checked:e.groupCheckedStateOverride,label:e.text,value:e.value,disabled:e.disabled},{default:r(()=>[a(o,{text:e.text,query:e.search},null,8,["text","query"])]),_:1},8,["modelValue","indeterminate","checked","label","value","disabled"])]),default:r(()=>[(m(!0),I(ae,null,be(e.children,v=>(m(),S(d,{key:v[e.itemValue],modelValue:e.treeValue,"onUpdate:modelValue":t[1]||(t[1]=y=>e.treeValue=y),"value-combining":e.valueCombining,checked:e.childrenCheckedStateOverride,hidden:e.visibleChildrenValues.includes(v[e.itemValue])===!1,search:e.search,"item-text":e.itemText,"item-value":e.itemValue,"item-children":e.itemChildren,text:v[e.itemText],value:v[e.itemValue],children:v[e.itemChildren],disabled:e.disabled,"show-selection-only":e.showSelectionOnly,"parent-value":e.value},null,8,["modelValue","value-combining","checked","hidden","search","item-text","item-value","item-children","text","value","children","disabled","show-selection-only","parent-value"]))),128))]),_:1},8,["value","open"])),[[Dt,e.groupShown]]):e.children?R("",!0):ne((m(),S(f,{key:1,class:"item"},{default:r(()=>[a(i,{modelValue:e.treeValue,"onUpdate:modelValue":t[2]||(t[2]=v=>e.treeValue=v),disabled:e.disabled,checked:e.checked,label:e.text,value:e.value},{default:r(()=>[a(o,{text:e.text,query:e.search},null,8,["text","query"])]),_:1},8,["modelValue","disabled","checked","label","value"])]),_:1},512)),[[Dt,!e.hidden]])}var qP=N(NP,[["render",BP],["__scopeId","data-v-113b2a91"]]);const zP=z({name:"VCheckboxTree",components:{VCheckboxTreeCheckbox:qP},props:{choices:{type:Array,default:()=>[]},modelValue:{type:Array,default:null},valueCombining:{type:String,default:"all"},search:{type:String,default:null},itemText:{type:String,default:"text"},itemValue:{type:String,default:"value"},itemChildren:{type:String,default:"children"},disabled:{type:Boolean,default:!1},showSelectionOnly:{type:Boolean,default:!1}},emits:["update:modelValue","group-toggle"],setup(e,{emit:t}){const l=V({get(){return e.modelValue||[]},set(s){t("update:modelValue",s)}}),n=E([]);return{value:l,openSelection:n}}});function KP(e,t,l,n,s,u){const o=c("v-checkbox-tree-checkbox"),i=c("v-list");return m(),S(i,{modelValue:e.openSelection,"onUpdate:modelValue":t[1]||(t[1]=d=>e.openSelection=d),mandatory:!1,onToggle:t[2]||(t[2]=d=>e.$emit("group-toggle",d))},{default:r(()=>[(m(!0),I(ae,null,be(e.choices,d=>(m(),S(o,{key:d[e.itemValue],modelValue:e.value,"onUpdate:modelValue":t[0]||(t[0]=p=>e.value=p),"value-combining":e.valueCombining,search:e.search,"item-text":e.itemText,"item-value":e.itemValue,"item-children":e.itemChildren,text:d[e.itemText],value:d[e.itemValue],children:d[e.itemChildren],disabled:e.disabled,"show-selection-only":e.showSelectionOnly},null,8,["modelValue","value-combining","search","item-text","item-value","item-children","text","value","children","disabled","show-selection-only"]))),128))]),_:1},8,["modelValue"])}var HP=N(zP,[["render",KP]]);const WP=z({props:oe({active:{type:Boolean,default:null},close:{type:Boolean,default:!1},closeIcon:{type:String,default:"close"},outlined:{type:Boolean,default:!1},label:{type:Boolean,default:!0},disabled:{type:Boolean,default:!1}},ol),emits:["update:active","click","close"],setup(e,{emit:t}){const l=E(!0),n=V({get:()=>e.active!==null?e.active:l.value,set:i=>{t("update:active",i),l.value=i}});return{sizeClass:al(e),internalActive:n,onClick:u,onCloseClick:o};function u(i){e.disabled||t("click",i)}function o(i){e.disabled||(n.value=!n.value,t("close",i))}}}),GP={class:"chip-content"};function JP(e,t,l,n,s,u){const o=c("v-icon");return e.internalActive?(m(),I("span",{key:0,class:ue(["v-chip",[e.sizeClass,{outlined:e.outlined,label:e.label,disabled:e.disabled,close:e.close}]]),onClick:t[1]||(t[1]=(...i)=>e.onClick&&e.onClick(...i))},[C("span",GP,[ge(e.$slots,"default",{},void 0,!0),e.close?(m(),I("span",{key:0,class:ue(["close-outline",{disabled:e.disabled}]),onClick:t[0]||(t[0]=Ae((...i)=>e.onCloseClick&&e.onCloseClick(...i),["stop"]))},[a(o,{class:"close",name:e.closeIcon,"x-small":""},null,8,["name"])],2)):R("",!0)])],2)):R("",!0)}var QP=N(WP,[["render",JP],["__scopeId","data-v-d55b27c0"]]);const XP=z({props:{modelValue:{type:Boolean,default:void 0},label:{type:String,default:qe.global.t("toggle")},startOpen:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1}},emits:["update:modelValue"],setup(e,{emit:t}){const l=E(e.startOpen),n=V({get(){return e.modelValue!==void 0?e.modelValue:l.value},set(i){l.value=i,t("update:modelValue",i)}});return{internalActive:n,enable:s,disable:u,toggle:o};function s(){n.value=!0}function u(){n.value=!1}function o(){n.value=!n.value}}}),ZP={key:0};function YP(e,t,l,n,s,u){const o=c("v-icon"),i=c("v-divider"),d=c("transition-expand");return m(),I("div",{class:ue(["v-detail",{disabled:e.disabled}])},[ge(e.$slots,"activator",He(Ze({active:e.internalActive,enable:e.enable,disable:e.disable,toggle:e.toggle})),()=>[a(i,{onClick:t[0]||(t[0]=p=>e.internalActive=!e.internalActive)},{default:r(()=>[e.disabled?R("",!0):(m(),S(o,{key:0,name:e.internalActive?"expand_more":"chevron_right",small:""},null,8,["name"])),ge(e.$slots,"title",{},()=>[D(b(e.label),1)],!0)]),_:3})],!0),a(d,null,{default:r(()=>[e.internalActive?(m(),I("div",ZP,[ge(e.$slots,"default",{},void 0,!0)])):R("",!0)]),_:3})],2)}var xP=N(XP,[["render",YP],["__scopeId","data-v-e0ddb8ec"]]);const eL=z({props:{modelValue:{type:Boolean,default:void 0},persistent:{type:Boolean,default:!1},placement:{type:String,default:"center",validator:e=>["center","right"].includes(e)}},emits:["esc","update:modelValue"],setup(e,{emit:t}){et("escape",(p,f)=>{u.value&&(t("esc"),f())});const l=E(!1),n=E(null),s=V(()=>bt()),u=V({get(){return e.modelValue!==void 0?e.modelValue:l.value},set(p){l.value=p,t("update:modelValue",p)}}),o=F2();return{emitToggle:i,className:n,nudge:d,leave:o,id:s,internalActive:u};function i(){e.persistent===!1?t("update:modelValue",!e.modelValue):d()}function d(){n.value="nudge",setTimeout(()=>{n.value=null},200)}}}),tL={class:"v-dialog"};function nL(e,t,l,n,s,u){const o=c("v-overlay"),i=c("transition-dialog");return m(),I("div",tL,[ge(e.$slots,"activator",He(Ze({on:()=>e.internalActive=!0}))),(m(),S(zl,{to:"#dialog-outlet"},[a(i,{onAfterLeave:e.leave},{default:r(()=>[e.internalActive?(m(),I("div",{key:0,class:ue(["container",[e.className,e.placement]])},[a(o,{active:"",absolute:"",onClick:e.emitToggle},null,8,["onClick"]),ge(e.$slots,"default")],2)):R("",!0)]),_:3},8,["onAfterLeave"])]))])}var lL=N(eL,[["render",nL],["__scopeId","data-v-370b296e"]]);const oL=z({props:{vertical:{type:Boolean,default:!1},inlineTitle:{type:Boolean,default:!0},large:{type:Boolean,default:!1}}}),aL={key:0,class:"wrapper"},iL={key:0,class:"type-text"},sL=["aria-orientation"];function rL(e,t,l,n,s,u){return m(),I("div",{class:ue(["v-divider",{vertical:e.vertical,inlineTitle:e.inlineTitle,large:e.large}])},[e.$slots.icon||e.$slots.default?(m(),I("span",aL,[ge(e.$slots,"icon",{class:"icon"}),!e.vertical&&e.$slots.default?(m(),I("span",iL,[ge(e.$slots,"default")])):R("",!0)])):R("",!0),C("hr",{role:"separator","aria-orientation":e.vertical?"vertical":"horizontal"},null,8,sL)],2)}var dL=N(oL,[["render",rL],["__scopeId","data-v-70aa2cf8"]]);const uL=z({props:{showSidebarToggle:{type:Boolean,default:!1}},emits:["toggle:sidebar"],setup(){return{active:E(!1)}}}),cL={class:"action-buttons"};function pL(e,t,l,n,s,u){const o=c("v-icon"),i=c("v-button");return m(),I("div",{class:ue(["actions",{active:e.active}])},[a(i,{class:"expand",icon:"",rounded:"",secondary:"",outlined:"",onClick:t[0]||(t[0]=d=>e.active=!e.active)},{default:r(()=>[a(o,{name:"arrow_left"})]),_:1}),C("div",cL,[e.showSidebarToggle?(m(),S(i,{key:0,class:"sidebar-toggle",icon:"",rounded:"",secondary:"",outlined:"",onClick:t[1]||(t[1]=d=>e.$emit("toggle:sidebar"))},{default:r(()=>[a(o,{name:"info",outline:""})]),_:1})):R("",!0),ge(e.$slots,"default",{},void 0,!0)])],2)}var mL=N(uL,[["render",pL],["__scopeId","data-v-352239c0"]]);const fL=z({components:{HeaderBarActions:mL},props:{title:{type:String,default:null},showSidebarToggle:{type:Boolean,default:!1},primaryActionIcon:{type:String,default:"menu"},small:{type:Boolean,default:!1}},emits:["primary","toggle:sidebar"],setup(){const e=E(),t=E(!1),l=new IntersectionObserver(([n])=>{t.value=n.boundingClientRect.y===-1},{threshold:[1]});return st(()=>{l.observe(e.value)}),Vt(()=>{l.disconnect()}),{headerEl:e,collapsed:t}}}),vL=e=>(We("data-v-2c450fee"),e=e(),Ge(),e),_L={key:0,class:"title-outer-prepend"},yL={class:"headline"},gL={class:"title"},hL={class:"type-title"},bL=vL(()=>C("div",{class:"spacer"},null,-1));function $L(e,t,l,n,s,u){const o=c("v-icon"),i=c("v-button"),d=c("header-bar-actions");return m(),I("header",{ref:"headerEl",class:ue(["header-bar",{collapsed:e.collapsed,small:e.small}])},[a(i,{secondary:"",class:"nav-toggle",icon:"",rounded:"",onClick:t[0]||(t[0]=p=>e.$emit("primary"))},{default:r(()=>[a(o,{name:e.primaryActionIcon},null,8,["name"])]),_:1}),e.$slots["title-outer:prepend"]?(m(),I("div",_L,[ge(e.$slots,"title-outer:prepend",{},void 0,!0)])):R("",!0),C("div",{class:ue(["title-container",{full:!e.$slots["title-outer:append"]}])},[C("div",yL,[ge(e.$slots,"headline",{},void 0,!0)]),C("div",gL,[ge(e.$slots,"title",{},()=>[ge(e.$slots,"title:prepend",{},void 0,!0),C("h1",hL,b(e.title),1),ge(e.$slots,"title:append",{},void 0,!0)],!0)]),ge(e.$slots,"title-outer:append",{},void 0,!0)],2),bL,ge(e.$slots,"actions:prepend",{},void 0,!0),a(d,{"show-sidebar-toggle":e.showSidebarToggle,"onToggle:sidebar":t[1]||(t[1]=p=>e.$emit("toggle:sidebar"))},{default:r(()=>[ge(e.$slots,"actions",{},void 0,!0)]),_:3},8,["show-sidebar-toggle"]),ge(e.$slots,"actions:append",{},void 0,!0)],2)}var wL=N(fL,[["render",$L],["__scopeId","data-v-2c450fee"]]);const kL=z({components:{HeaderBar:wL},props:{title:{type:String,required:!0},subtitle:{type:String,default:null},modelValue:{type:Boolean,default:void 0},persistent:{type:Boolean,default:!1},icon:{type:String,default:"box"},sidebarLabel:{type:String,default:qe.global.t("sidebar")},cancelable:{type:Boolean,default:!0}},emits:["cancel","update:modelValue"],setup(e,{emit:t}){const{t:l}=te(),n=E(!1),s=E();xt("main-element",s);const u=V({get(){return e.modelValue===void 0?n.value:e.modelValue},set(o){n.value=o,t("update:modelValue",o)}});return{t:l,internalActive:u,mainEl:s}}}),CL={class:"v-drawer"},SL={class:"content"},VL={key:1,class:"sidebar"},FL={ref:"mainEl",class:"main"},AL={key:0,class:"subtitle"};function IL(e,t,l,n,s,u){const o=c("v-icon"),i=c("v-button"),d=c("v-overlay"),p=c("header-bar"),f=c("v-detail"),v=c("v-dialog"),y=we("tooltip");return m(),S(v,{modelValue:e.internalActive,"onUpdate:modelValue":t[3]||(t[3]=_=>e.internalActive=_),persistent:e.persistent,placement:"right",onEsc:t[4]||(t[4]=_=>e.$emit("cancel"))},{activator:r(({on:_})=>[ge(e.$slots,"activator",He(Ze({on:_})),void 0,!0)]),default:r(()=>[C("article",CL,[e.cancelable?ne((m(),S(i,{key:0,class:"cancel",icon:"",rounded:"",secondary:"",onClick:t[0]||(t[0]=_=>e.$emit("cancel"))},{default:r(()=>[a(o,{name:"close"})]),_:1},512)),[[y,e.t("cancel"),void 0,{bottom:!0}]]):R("",!0),C("div",SL,[e.$slots.sidebar?(m(),S(d,{key:0,absolute:"",onClick:t[1]||(t[1]=_=>e.sidebarActive=!1)})):R("",!0),e.$slots.sidebar?(m(),I("nav",VL,[ge(e.$slots,"sidebar",{},void 0,!0)])):R("",!0),C("main",FL,[a(p,{title:e.title,"primary-action-icon":"close",onPrimary:t[2]||(t[2]=_=>e.$emit("cancel"))},{title:r(()=>[ge(e.$slots,"title",{},void 0,!0)]),headline:r(()=>[ge(e.$slots,"subtitle",{},()=>[e.subtitle?(m(),I("p",AL,b(e.subtitle),1)):R("",!0)],!0)]),"title-outer:prepend":r(()=>[ge(e.$slots,"title-outer:prepend",{},()=>[a(i,{class:"header-icon",rounded:"",icon:"",secondary:"",disabled:""},{default:r(()=>[a(o,{name:e.icon},null,8,["name"])]),_:1})],!0)]),"actions:prepend":r(()=>[ge(e.$slots,"actions:prepend",{},void 0,!0)]),actions:r(()=>[ge(e.$slots,"actions",{},void 0,!0)]),"title:append":r(()=>[ge(e.$slots,"header:append",{},void 0,!0)]),_:3},8,["title"]),e.$slots.sidebar?(m(),S(f,{key:0,class:"mobile-sidebar",label:e.sidebarLabel},{default:r(()=>[C("nav",null,[ge(e.$slots,"sidebar",{},void 0,!0)])]),_:3},8,["label"])):R("",!0),ge(e.$slots,"default",{},void 0,!0)],512)])])]),_:3},8,["modelValue","persistent"])}var EL=N(kL,[["render",IL],["__scopeId","data-v-5ce4176c"]]);const DL=z({props:{error:{type:[Object,Error],required:!0}},setup(e){const{t}=te(),l=V(()=>{var i,d,p,f,v,y,_,g;return((y=(v=(f=(p=(d=(i=e.error)==null?void 0:i.response)==null?void 0:d.data)==null?void 0:p.errors)==null?void 0:f[0])==null?void 0:v.extensions)==null?void 0:y.code)||((g=(_=e.error)==null?void 0:_.extensions)==null?void 0:g.code)||"UNKNOWN"}),n=V(()=>{var d,p,f,v,y,_;let i=((y=(v=(f=(p=(d=e.error)==null?void 0:d.response)==null?void 0:p.data)==null?void 0:f.errors)==null?void 0:v[0])==null?void 0:y.message)||((_=e.error)==null?void 0:_.message);return i.length>200&&(i=i.substring(0,197)+"..."),i}),s=E(!1),u=V(()=>{var i;return!!((i=navigator.clipboard)==null?void 0:i.writeText)});return{t,code:l,copyError:o,showCopy:u,copied:s,message:n};async function o(){var d,p;const i=((p=(d=e.error)==null?void 0:d.response)==null?void 0:p.data)||e.error;await navigator.clipboard.writeText(JSON.stringify(i,M.exports.isPlainObject(i)?null:Object.getOwnPropertyNames(i),2)),s.value=!0}}}),TL={class:"v-error selectable"};function PL(e,t,l,n,s,u){const o=c("v-icon"),i=we("tooltip");return m(),I("div",TL,[C("output",null,"["+b(e.code)+"] "+b(e.message),1),e.showCopy?ne((m(),S(o,{key:0,small:"",class:"copy-error",name:e.copied?"check":"content_copy",clickable:"",onClick:e.copyError},null,8,["name","onClick"])),[[i,e.t("copy_details")]]):R("",!0)])}var LL=N(DL,[["render",PL],["__scopeId","data-v-7ea421c6"]]);const OL=z({props:{items:{type:Array,required:!0},modelValue:{type:[String,Number],default:null},disabled:{type:Boolean,default:!1}},emits:["update:modelValue"],setup(e,{emit:t}){const l=V(()=>e.modelValue===null?e.items:e.items.filter(s=>s.value===e.modelValue));return{toggle:n,visibleItems:l};function n(s){e.disabled!==!0&&(e.modelValue===s.value?t("update:modelValue",null):t("update:modelValue",s.value))}}}),jL={class:"v-fancy-select"},RL=["onClick"],ML={class:"icon"},UL={class:"content"},NL={class:"text"},BL={class:"description"};function qL(e,t,l,n,s,u){const o=c("v-divider"),i=c("v-icon");return m(),I("div",jL,[a(Kl,{tag:"div",name:"option"},{default:r(()=>[(m(!0),I(ae,null,be(e.visibleItems,(d,p)=>(m(),I(ae,{key:p},[d.divider===!0?(m(),S(o,{key:0})):(m(),I("div",{key:1,class:ue(["v-fancy-select-option",{active:d.value===e.modelValue,disabled:e.disabled}]),style:ze({"--index":p}),onClick:f=>e.toggle(d)},[C("div",ML,[a(i,{name:d.icon},null,8,["name"])]),C("div",UL,[C("div",NL,b(d.text),1),C("div",BL,b(d.description),1)]),e.modelValue===d.value&&e.disabled===!1?(m(),S(i,{key:0,name:"cancel",onClick:Ae(f=>e.toggle(d),["stop"])},null,8,["onClick"])):d.iconRight?(m(),S(i,{key:1,class:"icon-right",name:d.iconRight},null,8,["name"])):R("",!0)],14,RL))],64))),128))]),_:1})])}var zL=N(OL,[["render",qL],["__scopeId","data-v-70a5597b"]]);const KL=z({name:"FieldListItem",props:{field:{type:Object,required:!0},depth:{type:Number,default:void 0}},emits:["add"],setup(){return{formatTitle:Et}}});function HL(e,t,l,n,s,u){const o=c("v-list-item-content"),i=c("v-list-item"),d=c("field-list-item",!0),p=c("v-list-group");return e.field.children===void 0||e.depth===0?(m(),S(i,{key:0,disabled:e.field.disabled,clickable:"",onClick:t[0]||(t[0]=f=>e.$emit("add",e.field.key))},{default:r(()=>[a(o,null,{default:r(()=>[D(b(e.field.name||e.formatTitle(e.field.field)),1)]),_:1})]),_:1},8,["disabled"])):(m(),S(p,{key:1,value:e.field.key,clickable:"",onClick:t[2]||(t[2]=f=>e.$emit("add",e.field.key))},{activator:r(()=>[D(b(e.field.name||e.formatTitle(e.field.field)),1)]),default:r(()=>[(m(!0),I(ae,null,be(e.field.children,f=>(m(),S(d,{key:f.key,field:f,depth:e.depth-1,onAdd:t[1]||(t[1]=v=>e.$emit("add",v))},null,8,["field","depth"]))),128))]),_:1},8,["value"]))}var yi=N(KL,[["render",HL]]);function il(e,t,l=()=>!0){const n=Te(),s=mt(),u=E({}),o=E([]);ye(e,()=>{e.value&&(u.value=p(e.value,"any"),o.value=[],Object.values(u.value).forEach(h=>{v(h.field)}))},{immediate:!0});const i=V(()=>d(u.value));return{tree:u,treeList:i,loadFieldRelations:v,getField:f,treeToList:d,visitedRelations:o};function d(h,k){return Object.values(h).map(F=>{const A=F.type==="m2a"?`${F.field}:${F.collection}`:F.field,P=k?`${k}.${A}`:A,L=d(F.children,P);return{name:F.name,key:P,field:A,children:L.length>0?L:void 0,selectable:!L||L.length===0}})}function p(h,k){var A;return[...n.getFieldsForCollection(h),...((A=t==null?void 0:t.value)==null?void 0:A.fields.filter(P=>P.collection===h))||[]].filter(P=>{var O,U,T,B;return((U=(O=P.meta)==null?void 0:O.special)==null?void 0:U.includes("alias"))!==!0&&((B=(T=P.meta)==null?void 0:T.special)==null?void 0:B.includes("no-data"))!==!0}).filter(l).reduce((P,L)=>{if(k==="m2a"){const O=`${L.field}:${h}`;P[O]={field:L.field,name:`${L.name} (${L.collection})`,collection:L.collection,type:k,children:{}}}else P[L.field]={field:L.field,name:L.name,collection:L.collection,type:k,children:{}};return P},{})}function f(h){const k=h.split(".");function F(A,P){const L=A.shift(),O=P.find(U=>U.field===L);if(!(O===void 0||O.children===void 0))return A.length===0?O:F(A,O.children)}return F(k,i.value)}function v(h,k=0){var A;if(y(h),k===0)return;const F=f(h);!F||(A=F.children)==null||A.forEach(P=>v(P.key,k-1))}function y(h){var U,T;const k=h.replaceAll(".",".children."),F=M.exports.get(u.value,k);if(F===void 0||Object.keys(F.children).length>0)return;const A=[...s.getRelationsForField(F.collection,F.field),...((U=t==null?void 0:t.value)==null?void 0:U.relations)||[]],P=g(A,F.collection,F.field);if(A.length===0||!P||!P.meta||_(P))return;const L=Ir({relation:P,collection:F.collection,field:F.field});if(P.meta===void 0)return;let O={};L==="o2m"?O=p(P.meta.many_collection,L):L==="m2o"?O=p(P.meta.one_collection,L):L==="m2a"&&(O=((T=P.meta.one_allowed_collections)==null?void 0:T.reduce((B,q)=>oe(oe({},B),p(q,L)),{}))||{}),Object.values(O).forEach(B=>{const q=[F.collection,F.field,B.collection,B.field];o.value.findIndex(H=>w(H,q))!==-1===!1&&o.value.push(q)}),M.exports.set(u.value,`${k}.children`,O)}function _(h){if(!h.meta)return;if(h.meta.one_collection_field!==null&&h.meta.one_allowed_collections!==null)return!1;const k=[h.meta.many_collection,h.meta.one_collection,h.meta.many_field,h.meta.one_field||""];return o.value.find(F=>w(k,F))!==void 0}function g(h,k,F){return h.find(A=>{var P;return A.collection===k&&A.field===F||A.related_collection===k&&((P=A.meta)==null?void 0:P.one_field)===F})}function w(h,k){for(const F of h)if(k.includes(F)===!1)return!1;return!0}}const WL=z({components:{FieldListItem:yi,Draggable:kt},props:{disabled:{type:Boolean,default:!1},modelValue:{type:Array,default:null},collection:{type:String,required:!0},depth:{type:Number,default:void 0},inject:{type:Object,default:()=>({fields:[],collections:[],relations:[]})}},emits:["update:modelValue"],setup(e,{emit:t}){const{t:l}=te(),n=E(!1),{collection:s,inject:u}=Ue(e),{info:o}=ot(s),{treeList:i,loadFieldRelations:d}=il(s,u),p=V({get(){return e.modelValue||[]},set(h){t("update:modelValue",h)}}),f=V({get(){return p.value.map(h=>{var k;return{field:h,name:(k=y(i.value,h.split(".")))==null?void 0:k.name}})},set(h){p.value=h.map(k=>k.field)}}),v=V(()=>_(i.value));return{t:l,menuActive:n,addField:w,removeField:g,availableFields:v,selectedFields:f,hideDragImage:Bt,treeList:i,loadFieldRelations:d,collectionInfo:o};function y(h,k){if(h===void 0)return;const F=h.find(A=>A.field===k[0]);if(F!==void 0)return k.length===1?F:y(F.children,k.slice(1))}function _(h,k=""){if(h===void 0)return;const F=h.map(A=>({name:A.name,field:A.field,key:A.key,disabled:p.value.includes(k+A.field),children:_(A.children,k+A.field+".")}));return F.length===0?void 0:F}function g(h){p.value=p.value.filter(k=>k!==h)}function w(h){const k=p.value;k.push(h),p.value=[...new Set(k)]}}});function GL(e,t,l,n,s,u){const o=c("v-notice"),i=c("v-chip"),d=c("v-icon"),p=c("v-button"),f=c("field-list-item"),v=c("v-list"),y=c("v-menu"),_=c("draggable"),g=we("tooltip");return!e.availableFields||e.availableFields.length===0?(m(),S(o,{key:0},{default:r(()=>[D(b(e.t("no_fields_in_collection",{collection:e.collectionInfo&&e.collectionInfo.name||e.collection})),1)]),_:1})):(m(),S(_,{key:1,modelValue:e.selectedFields,"onUpdate:modelValue":t[2]||(t[2]=w=>e.selectedFields=w),"force-fallback":!0,"item-key":"field",draggable:".draggable","set-data":e.hideDragImage,class:"v-field-select"},{item:r(({element:w})=>[ne(a(i,{clickable:"",class:"field draggable",onClick:h=>e.removeField(w.field)},{default:r(()=>[D(b(w.name),1)]),_:2},1032,["onClick"]),[[g,w.field]])]),footer:r(()=>[a(y,{modelValue:e.menuActive,"onUpdate:modelValue":t[1]||(t[1]=w=>e.menuActive=w),"show-arrow":"",class:"add",placement:"bottom"},{activator:r(({toggle:w})=>[a(p,{small:"",onClick:w},{default:r(()=>[D(b(e.t("add_field"))+" ",1),a(d,{small:"",name:"add"})]),_:2},1032,["onClick"])]),default:r(()=>[a(v,{mandatory:!1,onToggle:t[0]||(t[0]=w=>e.loadFieldRelations(w.value,1))},{default:r(()=>[(m(!0),I(ae,null,be(e.availableFields,w=>(m(),S(f,{key:w.key,field:w,depth:e.depth,onAdd:e.addField},null,8,["field","depth","onAdd"]))),128))]),_:1})]),_:1},8,["modelValue"])]),_:1},8,["modelValue","set-data"]))}var JL=N(WL,[["render",GL],["__scopeId","data-v-f93179d6"]]);const QL=z({components:{FieldListItem:yi},props:{disabled:{type:Boolean,default:!1},modelValue:{type:String,default:null},nullable:{type:Boolean,default:!0},collection:{type:String,default:null},depth:{type:Number,default:void 0},placeholder:{type:String,default:null},inject:{type:Object,default:null}},emits:["update:modelValue"],setup(e,{emit:t}){const l=E(null),n=E(!1),{collection:s,inject:u}=Ue(e),{treeList:o,loadFieldRelations:i}=il(s,u);return ye(()=>e.modelValue,k,{immediate:!0}),st(()=>{l.value&&(l.value.addEventListener("selectstart",v),k())}),Vt(()=>{l.value&&l.value.removeEventListener("selectstart",v)}),{menuActive:n,treeList:o,addField:y,onInput:d,contentEl:l,onClick:p,loadFieldRelations:i,onKeyDown:f};function d(){if(!l.value)return;const F=h();t("update:modelValue",F)}function p(F){var U;const A=F.target;if(A.tagName.toLowerCase()!=="button")return;const P=A.dataset.field;t("update:modelValue",e.modelValue.replace(`{{${P}}}`,""));const L=A.previousElementSibling,O=A.nextElementSibling;!L||!O||!(L instanceof HTMLElement)||!(O instanceof HTMLElement)||(A.remove(),g(L,O),(U=window.getSelection())==null||U.removeAllRanges(),d())}function f(F){var A;(F.key==="{"||F.key==="}")&&(F.preventDefault(),n.value=!0),((A=l.value)==null?void 0:A.innerHTML)===""&&(l.value.innerHTML='<span class="text"></span>')}function v(){var L;if(!l.value)return;const F=window.getSelection();if(!F||F.rangeCount<=0)return;const A=F.getRangeAt(0);if(!A)return;const P=A.startContainer;if(!(P instanceof HTMLElement&&P.classList.contains("text"))&&!((L=P.parentElement)==null?void 0:L.classList.contains("text"))){F.removeAllRanges();const O=new Range;let U=null;for(let T=0;T<l.value.childNodes.length||!U;T++){const B=l.value.children[T];B.classList.contains("text")&&(U=B)}U||(U=document.createElement("span"),U.classList.add("text"),l.value.appendChild(U)),O.setStart(U,0),F.addRange(O)}}function y(F){var U,T,B,q;if(!l.value)return;const A=_(o.value,F.split("."));if(!A)return;const P=document.createElement("button");if(P.dataset.field=F,P.setAttribute("contenteditable","false"),P.innerText=String(A.name),((U=window.getSelection())==null?void 0:U.rangeCount)==0){const K=document.createRange();K.selectNodeContents(l.value.children[0]),(T=window.getSelection())==null||T.addRange(K)}const L=(B=window.getSelection())==null?void 0:B.getRangeAt(0);if(!L)return;L.deleteContents();const O=w();if(O)l.value.insertBefore(P,O),(q=window.getSelection())==null||q.removeAllRanges();else{l.value.appendChild(P);const K=document.createElement("span");K.classList.add("text"),l.value.appendChild(K)}d()}function _(F,A){if(F===void 0)return;const P=F.find(L=>L.field===A[0]);if(P!==void 0)return A.length===1?P:_(P.children,A.slice(1))}function g(F,A){F.innerText+=A.innerText,A.remove()}function w(){var B,q,K,H;const F=(B=window.getSelection())==null?void 0:B.getRangeAt(0);if(!F)return;const A=F.startContainer;if(A.nodeType!==Node.TEXT_NODE)return;const P=A.parentElement;if(!P||!(P instanceof HTMLSpanElement)||!P.classList.contains("text"))return;const L=F.startOffset,O=((q=P.textContent)==null?void 0:q.substr(0,L))||"",U=((K=P.textContent)==null?void 0:K.substr(L))||"";P.innerText=O;const T=document.createElement("span");return T.classList.add("text"),T.innerText=U,(H=l.value)==null||H.insertBefore(T,P.nextSibling),T}function h(){if(!l.value)return null;const F=Array.from(l.value.childNodes).reduce((A,P)=>{const L=P,O=L.tagName;return O&&O.toLowerCase()==="button"?A+=`{{${L.dataset.field}}}`:"textContent"in L?A+=L.textContent:A+=""},"");return e.nullable===!0&&F===""?null:F}function k(){if(!!l.value){if(e.modelValue===null||e.modelValue===""){l.value.innerHTML='<span class="text"></span>';return}if(e.modelValue!==h()){const F=/({{.*?}})/g,A=e.modelValue.split(F).map(P=>{if(P.startsWith("{{")===!1)return`<span class="text">${P}</span>`;const L=P.replace(/({|})/g,"").trim(),O=L.split(".");for(let T=0;T<O.length;T++)i(O.slice(0,T).join("."));const U=_(o.value,O);return U?`<button contenteditable="false" data-field="${L}" disabled="${e.disabled}">${U.name}</button>`:""}).join("");l.value.innerHTML=A}}}}}),XL=e=>(We("data-v-e5d243d2"),e=e(),Ge(),e),ZL=["contenteditable"],YL=XL(()=>C("span",{class:"text"},null,-1)),xL=[YL],eO={key:0,class:"placeholder"};function tO(e,t,l,n,s,u){const o=c("v-icon"),i=c("v-input"),d=c("field-list-item"),p=c("v-list"),f=c("v-menu");return m(),S(f,{modelValue:e.menuActive,"onUpdate:modelValue":t[4]||(t[4]=v=>e.menuActive=v),attached:""},{activator:r(({toggle:v})=>[a(i,{disabled:e.disabled},{input:r(()=>[C("span",{ref:"contentEl",class:"content",contenteditable:!e.disabled,onKeydown:t[0]||(t[0]=(...y)=>e.onKeyDown&&e.onKeyDown(...y)),onInput:t[1]||(t[1]=(...y)=>e.onInput&&e.onInput(...y)),onClick:t[2]||(t[2]=(...y)=>e.onClick&&e.onClick(...y))},xL,40,ZL),e.placeholder&&!e.modelValue?(m(),I("span",eO,b(e.placeholder),1)):R("",!0)]),append:r(()=>[a(o,{name:"add_box",outline:"",clickable:"",disabled:e.disabled,onClick:v},null,8,["disabled","onClick"])]),_:2},1032,["disabled"])]),default:r(()=>[e.disabled?R("",!0):(m(),S(p,{key:0,mandatory:!1,onToggle:t[3]||(t[3]=v=>e.loadFieldRelations(v.value,1))},{default:r(()=>[(m(!0),I(ae,null,be(e.treeList,v=>(m(),S(d,{key:v.field,field:v,depth:e.depth,onAdd:e.addField},null,8,["field","depth","onAdd"]))),128))]),_:1}))]),_:1},8,["modelValue"])}var nO=N(QL,[["render",tO],["__scopeId","data-v-e5d243d2"]]);const lO=z({props:{batchMode:{type:Boolean,default:!1},batchActive:{type:Boolean,default:!1},field:{type:Object,required:!0},disabled:{type:Boolean,default:!1},toggle:{type:Function,required:!0},active:{type:Boolean,default:!1},edited:{type:Boolean,default:!1},hasError:{type:Boolean,default:!1},badge:{type:String,default:null},loading:{type:Boolean,default:!1}},emits:["toggle-batch"],setup(){const{t:e}=te();return{t:e}}});function oO(e,t,l,n,s,u){var f;const o=c("v-checkbox"),i=c("v-icon"),d=c("v-chip"),p=we("tooltip");return m(),I("div",{class:ue(["label type-label",{disabled:e.disabled,edited:e.edited&&!e.batchMode&&!e.hasError&&!e.loading}])},[e.batchMode?(m(),S(o,{key:0,"model-value":e.batchActive,value:e.field.field,"onUpdate:modelValue":t[0]||(t[0]=v=>e.$emit("toggle-batch",e.field))},null,8,["model-value","value"])):R("",!0),ne(C("span",{class:"field-name",onClick:t[1]||(t[1]=(...v)=>e.toggle&&e.toggle(...v))},[D(b(e.field.name)+" ",1),((f=e.field.meta)==null?void 0:f.required)===!0?(m(),S(i,{key:0,class:"required",sup:"",name:"star"})):R("",!0),e.disabled?R("",!0):(m(),S(i,{key:1,class:ue(["ctx-arrow",{active:e.active}]),name:"arrow_drop_down"},null,8,["class"]))],512),[[p,e.edited?e.t("edited"):null]]),e.badge?(m(),S(d,{key:1,"x-small":""},{default:r(()=>[D(b(e.badge),1)]),_:1})):R("",!0)],2)}var aO=N(lO,[["render",oO],["__scopeId","data-v-792c5ca7"]]);const iO=z({props:{field:{type:Object,required:!0},modelValue:{type:[String,Number,Object,Array,Boolean],default:null},initialValue:{type:[String,Number,Object,Array,Boolean],default:null}},emits:["update:modelValue","unset","edit-raw"],setup(e){const{t}=te(),l=V(()=>{var u,o;const s=(o=(u=e.field)==null?void 0:u.schema)==null?void 0:o.default_value;return s!==void 0?s:null}),n=V(()=>{var s,u;return((u=(s=e.field)==null?void 0:s.schema)==null?void 0:u.is_nullable)===!1});return{t,defaultValue:l,isRequired:n}}});function sO(e,t,l,n,s,u){const o=c("v-icon"),i=c("v-list-item-icon"),d=c("v-list-item-content"),p=c("v-list-item"),f=c("v-list");return m(),S(f,null,{default:r(()=>[e.defaultValue===null||!e.isRequired?(m(),S(p,{key:0,disabled:e.modelValue===null,clickable:"",onClick:t[0]||(t[0]=v=>e.$emit("update:modelValue",null))},{default:r(()=>[a(i,null,{default:r(()=>[a(o,{name:"delete_outline"})]),_:1}),a(d,null,{default:r(()=>[D(b(e.t("clear_value")),1)]),_:1})]),_:1},8,["disabled"])):R("",!0),e.defaultValue!==null?(m(),S(p,{key:1,disabled:e.modelValue===e.defaultValue,clickable:"",onClick:t[1]||(t[1]=v=>e.$emit("update:modelValue",e.defaultValue))},{default:r(()=>[a(i,null,{default:r(()=>[a(o,{name:"settings_backup_restore"})]),_:1}),a(d,null,{default:r(()=>[D(b(e.t("reset_to_default")),1)]),_:1})]),_:1},8,["disabled"])):R("",!0),e.initialValue?(m(),S(p,{key:2,disabled:e.initialValue===void 0||e.modelValue===e.initialValue,clickable:"",onClick:t[2]||(t[2]=v=>e.$emit("unset",e.field))},{default:r(()=>[a(i,null,{default:r(()=>[a(o,{name:"undo"})]),_:1}),a(d,null,{default:r(()=>[D(b(e.t("undo_changes")),1)]),_:1})]),_:1},8,["disabled"])):R("",!0),a(p,{clickable:"",onClick:t[3]||(t[3]=v=>e.$emit("edit-raw"))},{default:r(()=>[a(i,null,{default:r(()=>[a(o,{name:"code"})]),_:1}),a(d,null,{default:r(()=>[D(b(e.t("raw_value")),1)]),_:1})]),_:1})]),_:1})}var rO=N(iO,[["render",sO]]);const dO=z({props:{field:{type:Object,required:!0},batchMode:{type:Boolean,default:!1},batchActive:{type:Boolean,default:!1},primaryKey:{type:[Number,String],default:null},modelValue:{type:[String,Number,Object,Array,Boolean],default:void 0},loading:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},autofocus:{type:Boolean,default:!1}},emits:["update:modelValue"],setup(e){const{t}=te(),{interfaces:l}=Ct(),n=V(()=>!!l.value.find(s=>{var u,o;return s.id===((o=(u=e.field)==null?void 0:u.meta)==null?void 0:o.interface)||"input"}));return{t,interfaceExists:n,getDefaultInterfaceForType:ei}}});function uO(e,t,l,n,s,u){var d;const o=c("v-skeleton-loader"),i=c("v-notice");return m(),I("div",{class:ue(["interface",{subdued:e.batchMode&&e.batchActive===!1}])},[e.loading&&e.field.hideLoader!==!0?(m(),S(o,{key:0})):R("",!0),e.interfaceExists?(m(),S(Be(e.field.meta&&e.field.meta.interface?`interface-${e.field.meta.interface}`:`interface-${e.getDefaultInterfaceForType(e.field.type)}`),ut({key:1},e.field.meta&&e.field.meta.options||{},{autofocus:e.disabled!==!0&&e.autofocus,disabled:e.disabled,loading:e.loading,value:e.modelValue===void 0?(d=e.field.schema)==null?void 0:d.default_value:e.modelValue,width:e.field.meta&&e.field.meta.width||"full",type:e.field.type,collection:e.field.collection,field:e.field.field,"field-data":e.field,"primary-key":e.primaryKey,length:e.field.schema&&e.field.schema.max_length,onInput:t[0]||(t[0]=p=>e.$emit("update:modelValue",p))}),null,16,["autofocus","disabled","loading","value","width","type","collection","field","field-data","primary-key","length"])):(m(),S(i,{key:2,type:"warning"},{default:r(()=>[D(b(e.t("interface_not_found",{interface:e.field.meta&&e.field.meta.interface})),1)]),_:1}))],2)}var cO=N(dO,[["render",uO],["__scopeId","data-v-175a2f1a"]]);function pO(e){return["bigInteger","integer","float","decimal"].includes(e)?"number":["string","text","uuid","hash"].includes(e)?"string":["boolean"].includes(e)?"boolean":["time","timestamp","date","dateTime"].includes(e)?"string":["json","csv"].includes(e)?"object":"undefined"}const mO=z({components:{FormFieldLabel:aO,FormFieldMenu:rO,FormFieldInterface:cO},props:{field:{type:Object,required:!0},batchMode:{type:Boolean,default:!1},batchActive:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},modelValue:{type:[String,Number,Object,Array,Boolean],default:void 0},initialValue:{type:[String,Number,Object,Array,Boolean],default:void 0},primaryKey:{type:[String,Number],default:null},loading:{type:Boolean,default:!1},validationError:{type:Object,default:null},autofocus:{type:Boolean,default:!1},badge:{type:String,default:null}},emits:["toggle-batch","unset","update:modelValue"],setup(e,{emit:t}){const{t:l}=te(),n=V(()=>{var y,_;return!!(e.disabled||((_=(y=e.field)==null?void 0:y.meta)==null?void 0:_.readonly)===!0||e.batchMode&&e.batchActive===!1)}),s=V(()=>{var _,g;const y=(g=(_=e.field)==null?void 0:_.schema)==null?void 0:g.default_value;if(y!==void 0)return y}),u=V(()=>e.modelValue!==void 0?e.modelValue:e.initialValue!==void 0?e.initialValue:s.value),o=V(()=>e.modelValue!==void 0&&M.exports.isEqual(e.modelValue,e.initialValue)===!1),{showRaw:i,rawValue:d}=v(),p=V(()=>e.validationError?e.validationError.code==="RECORD_NOT_UNIQUE"?l("validationError.unique"):l(`validationError.${e.validationError.type}`,e.validationError):null);return{t:l,isDisabled:n,internalValue:u,emitValue:f,showRaw:i,rawValue:d,validationMessage:p,isEdited:o};function f(y){(M.exports.isEqual(y,e.initialValue)||e.initialValue===void 0&&M.exports.isEqual(y,s.value))&&e.batchMode===!1?t("unset",e.field):t("update:modelValue",y)}function v(){const y=E(!1),_=V(()=>pO(e.field.type)),g=V({get(){switch(_.value){case"object":return JSON.stringify(u.value,null,"	");case"string":case"number":case"boolean":default:return u.value}},set(w){switch(_.value){case"string":t("update:modelValue",w);break;case"number":t("update:modelValue",Number(w));break;case"boolean":t("update:modelValue",w==="true");break;case"object":t("update:modelValue",JSON.parse(w));break;default:t("update:modelValue",w);break}}});return{showRaw:y,rawValue:g}}}}),fO={key:1,class:"label-spacer"},vO={key:2,class:"type-note"},_O={key:3,class:"validation-error"};function yO(e,t,l,n,s,u){var F;const o=c("form-field-label"),i=c("form-field-menu"),d=c("v-menu"),p=c("form-field-interface"),f=c("v-card-title"),v=c("v-textarea"),y=c("v-card-text"),_=c("v-button"),g=c("v-card-actions"),w=c("v-card"),h=c("v-dialog"),k=we("md");return m(),I("div",{key:e.field.field,class:ue(["field",[((F=e.field.meta)==null?void 0:F.width)||"full",{invalid:e.validationError}]])},[e.field.hideLabel!==!0?(m(),S(d,{key:0,placement:"bottom-start","show-arrow":"",disabled:e.isDisabled},{activator:r(({toggle:A,active:P})=>[a(o,{field:e.field,toggle:A,active:P,disabled:e.isDisabled,"batch-mode":e.batchMode,"batch-active":e.batchActive,edited:e.isEdited,"has-error":!!e.validationError,badge:e.badge,loading:e.loading,onToggleBatch:t[0]||(t[0]=L=>e.$emit("toggle-batch",L))},null,8,["field","toggle","active","disabled","batch-mode","batch-active","edited","has-error","badge","loading"])]),default:r(()=>[a(i,{field:e.field,"model-value":e.internalValue,"initial-value":e.initialValue,"onUpdate:modelValue":t[1]||(t[1]=A=>e.emitValue(A)),onUnset:t[2]||(t[2]=A=>e.$emit("unset",A)),onEditRaw:t[3]||(t[3]=A=>e.showRaw=!0)},null,8,["field","model-value","initial-value"])]),_:1},8,["disabled"])):["full","fill"].includes(e.field.meta&&e.field.meta.width)===!1?(m(),I("div",fO)):R("",!0),a(p,{autofocus:e.autofocus,"model-value":e.internalValue,field:e.field,loading:e.loading,"batch-mode":e.batchMode,"batch-active":e.batchActive,disabled:e.isDisabled,"primary-key":e.primaryKey,"onUpdate:modelValue":t[4]||(t[4]=A=>e.emitValue(A))},null,8,["autofocus","model-value","field","loading","batch-mode","batch-active","disabled","primary-key"]),a(h,{modelValue:e.showRaw,"onUpdate:modelValue":t[7]||(t[7]=A=>e.showRaw=A),onEsc:t[8]||(t[8]=A=>e.showRaw=!1)},{default:r(()=>[a(w,null,{default:r(()=>[a(f,null,{default:r(()=>[D(b(e.t("edit_raw_value")),1)]),_:1}),a(y,null,{default:r(()=>[a(v,{modelValue:e.rawValue,"onUpdate:modelValue":t[5]||(t[5]=A=>e.rawValue=A),class:"raw-value",placeholder:e.t("enter_raw_value")},null,8,["modelValue","placeholder"])]),_:1}),a(g,null,{default:r(()=>[a(_,{onClick:t[6]||(t[6]=A=>e.showRaw=!1)},{default:r(()=>[D(b(e.t("done")),1)]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"]),e.field.meta&&e.field.meta.note?ne((m(),I("small",vO,null,512)),[[k,e.field.meta.note]]):R("",!0),e.validationError?(m(),I("small",_O,b(e.validationMessage),1)):R("",!0)],2)}var gO=N(mO,[["render",yO],["__scopeId","data-v-5157b788"]]);const hO=z({name:"VForm",components:{FormField:gO},props:{collection:{type:String,default:void 0},fields:{type:Array,default:void 0},initialValues:{type:Object,default:null},modelValue:{type:Object,default:null},loading:{type:Boolean,default:!1},batchMode:{type:Boolean,default:!1},primaryKey:{type:[String,Number],default:null},disabled:{type:Boolean,default:!1},validationErrors:{type:Array,default:()=>[]},autofocus:{type:Boolean,default:!1},group:{type:String,default:null},badge:{type:String,default:null}},emits:["update:modelValue"],setup(e,{emit:t}){const{t:l}=te(),n=Te(),s=V(()=>Object.assign({},e.initialValues,e.modelValue)),u=E(),{width:o}=xn(u),i=V(()=>u.value===null?null:o.value>792?"grid with-fill":"grid"),{formFields:d,getFieldsForGroup:p,fieldsForGroup:f,isDisabled:v}=h(),{toggleBatchField:y,batchActiveFields:_}=P(),g=V(()=>{var L;for(let O=0;O<d.value.length;O++)if(d.value[O].meta&&!((L=d.value[O].meta)==null?void 0:L.readonly))return O;return null}),w=V(()=>{const L=p(e.group),O=L.map(T=>T.field),U=d.value.map(T=>T.field);return e.validationErrors.filter(T=>{var q,K;let B=U.includes(T.field)===!1&&O.includes(T.field);return e.group===null&&(B=B&&((K=(q=L.find(H=>H.field===T.field))==null?void 0:q.meta)==null?void 0:K.group)===null),B})});return xt("values",s),{t:l,formFields:d,values:s,setValue:k,batchActiveFields:_,toggleBatchField:y,unsetValue:A,unknownValidationErrors:w,firstEditableFieldIndex:g,isNil:M.exports.isNil,apply:F,el:u,gridClass:i,omit:M.exports.omit,getFieldsForGroup:p,fieldsForGroup:f,isDisabled:v};function h(){const L=V(()=>{if(e.collection)return n.getFieldsForCollection(e.collection);if(e.fields)return e.fields;throw new Error("[v-form]: You need to pass either the collection or fields prop.")}),O=V(()=>{if(e.group!==null)return L.value;const H=J=>{var re,fe;if(((re=J.schema)==null?void 0:re.has_auto_increment)===!0||((fe=J.schema)==null?void 0:fe.is_primary_key)===!0&&e.primaryKey!=="+"){const X=M.exports.cloneDeep(J);return X.meta||(X.meta={}),X.meta.readonly=!0,X}return J},Y=J=>{var re;if(J.meta&&Array.isArray((re=J.meta)==null?void 0:re.conditions)){const X=[...J.meta.conditions].reverse().find(x=>{if(!x.rule||Object.keys(x.rule).length!==1)return;const ee=Hn(x.rule);return qn(ee,s.value,{requireAll:!0}).length===0});return X?ke(oe({},J),{meta:M.exports.merge({},J.meta||{},{readonly:X.readonly,options:X.options,hidden:X.hidden,required:X.required})}):J}else return J};return L.value.map(J=>Y(H(J)))}),U=V(()=>O.value.filter(H=>{var Y,J;return((Y=H.meta)==null?void 0:Y.group)===e.group||e.group===null&&M.exports.isNil((J=H.meta)==null?void 0:J.group)})),{formFields:T}=ti(U),B=V(()=>T.value.map(H=>K(H.meta.field)));return{formFields:T,isDisabled:q,getFieldsForGroup:K,fieldsForGroup:B};function q(H){var Y,J;return e.loading||e.disabled===!0||((Y=H.meta)==null?void 0:Y.readonly)===!0||((J=H.schema)==null?void 0:J.is_generated)===!0||e.batchMode&&_.value.includes(H.field)===!1}function K(H){var J,re;const Y=O.value.filter(fe=>{var X;return((X=fe.meta)==null?void 0:X.group)===H||H===null&&M.exports.isNil(fe.meta)});for(const fe of Y)((re=(J=fe.meta)==null?void 0:J.special)==null?void 0:re.includes("group"))&&Y.push(...K(fe.meta.field));return Y}}function k(L,O){const U=e.modelValue?M.exports.cloneDeep(e.modelValue):{};U[L.field]=O,t("update:modelValue",U)}function F(L){t("update:modelValue",M.exports.pick(M.exports.assign({},e.modelValue,L),Object.keys(L)))}function A(L){if(L.field in(e.modelValue||{})){const O=oe({},e.modelValue);delete O[L.field],t("update:modelValue",O)}}function P(){const L=E([]);return{batchActiveFields:L,toggleBatchField:O};function O(U){var T;L.value.includes(U.field)?(L.value=L.value.filter(B=>B!==U.field),A(U)):(L.value=[...L.value,U.field],k(U,(T=U.schema)==null?void 0:T.default_value))}}}}),bO={key:0};function $O(e,t,l,n,s,u){const o=c("v-notice"),i=c("form-field");return m(),I("div",{ref:"el",class:ue(["v-form",e.gridClass])},[e.unknownValidationErrors.length>0?(m(),S(o,{key:0,type:"danger",class:"full"},{default:r(()=>[C("div",null,[C("p",null,b(e.t("unknown_validation_errors")),1),C("ul",null,[(m(!0),I(ae,null,be(e.unknownValidationErrors,(d,p)=>(m(),I("li",{key:p},[d.field?(m(),I("strong",bO,b(d.field)+":",1)):R("",!0),d.code==="RECORD_NOT_UNIQUE"?(m(),I(ae,{key:1},[D(b(e.t("validationError.unique",d)),1)],64)):(m(),I(ae,{key:2},[D(b(e.t(`validationError.${d.code}`,d)),1)],64))]))),128))])])]),_:1})):R("",!0),(m(!0),I(ae,null,be(e.formFields,(d,p)=>{var f,v,y,_,g,w,h;return m(),I(ae,null,[((v=(f=d.meta)==null?void 0:f.special)==null?void 0:v.includes("group"))?ne((m(),S(Be(`interface-${((y=d.meta)==null?void 0:y.interface)||"group-standard"}`),ut({key:0,key:d.field,class:((_=d.meta)==null?void 0:_.width)||"full",field:d,fields:e.fieldsForGroup[p],values:e.modelValue||{},"initial-values":e.initialValues||{},disabled:e.disabled,"batch-mode":e.batchMode,"batch-active-fields":e.batchActiveFields,"primary-key":e.primaryKey,loading:e.loading,"validation-errors":e.validationErrors},((g=d.meta)==null?void 0:g.options)||{},{onApply:e.apply}),null,16,["class","field","fields","values","initial-values","disabled","batch-mode","batch-active-fields","primary-key","loading","validation-errors","onApply"])),[[Dt,!((w=d.meta)==null?void 0:w.hidden)]]):ne((m(),S(i,{key:d.field,field:d,autofocus:p===e.firstEditableFieldIndex&&e.autofocus,"model-value":(e.values||{})[d.field],"initial-value":(e.initialValues||{})[d.field],disabled:e.isDisabled(d),"batch-mode":e.batchMode,"batch-active":e.batchActiveFields.includes(d.field),"primary-key":e.primaryKey,loading:e.loading,"validation-error":e.validationErrors.find(k=>k.field===d.field),badge:e.badge,"onUpdate:modelValue":k=>e.setValue(d,k),onUnset:k=>e.unsetValue(d),onToggleBatch:k=>e.toggleBatchField(d)},null,8,["field","autofocus","model-value","initial-value","disabled","batch-mode","batch-active","primary-key","loading","validation-error","badge","onUpdate:modelValue","onUnset","onToggleBatch"])),[[Dt,!((h=d.meta)==null?void 0:h.hidden)]])],64)}),256))],2)}var wO=N(hO,[["render",$O],["__scopeId","data-v-a3fdf47e"]]);const kO=z({props:{closeDelay:{type:Number,default:0},openDelay:{type:Number,default:0},disabled:{type:Boolean,default:!1},tag:{type:String,default:"div"}},setup(e){const t=E(!1);return{hover:t,onMouseEnter:l,onMouseLeave:n};function l(){e.disabled!==!0&&setTimeout(()=>{t.value=!0},e.openDelay)}function n(){e.disabled!==!0&&setTimeout(()=>{t.value=!1},e.closeDelay)}}});function CO(e,t,l,n,s,u){return m(),S(Be(e.tag),{onMouseenter:e.onMouseEnter,onMouseleave:e.onMouseLeave},{default:r(()=>[ge(e.$slots,"default",He(Ze({hover:e.hover})))]),_:3},8,["onMouseenter","onMouseleave"])}var SO=N(kO,[["render",CO]]);const VO=z({name:"VHighlight",props:{query:{type:[String,Array],default:null},text:{type:String,default:""}},setup(e){return{parts:V(()=>{let l=la(e.text.toLowerCase());const n=hl(e.query);if(n.length===0)return[{highlighted:!1,text:e.text}];const s=M.exports.flatten(n.filter(f=>f).map(f=>{f=la(f.toLowerCase());const v=[];let y=0,_=l.indexOf(f,y);for(;_>-1;)y=_+f.length,v.push([_,y]),_=l.indexOf(f,_+1);return v}));if(s.sort((f,v)=>f[0]!==v[0]?f[0]-v[0]:f[1]-v[1]),s.length===0)return[{highlighted:!1,text:e.text}];const u=[];let o=s[0][0],i=s[0][1];s.shift();for(const[f,v]of s)f>=i?(u.push([o,i]),o=f,i=v):v>i&&(i=v);u.push([o,i]);let d=0;const p=[];for(const[f,v]of u)d!==f&&p.push({highlighted:!1,text:e.text.slice(d,f)}),p.push({highlighted:!0,text:e.text.slice(f,v)}),d=v;return d!==l.length&&p.push({highlighted:!1,text:e.text.slice(d)}),p})}}});function FO(e,t,l,n,s,u){return m(!0),I(ae,null,be(e.parts,({highlighted:o,text:i},d)=>(m(),I(ae,null,[o?(m(),I("mark",{key:d,class:"highlight"},b(i),1)):(m(),I(ae,{key:1},[D(b(i),1)],64))],64))),256)}var AO=N(VO,[["render",FO],["__scopeId","data-v-40e82be6"]]);const IO={},EO={viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg","fill-rule":"evenodd","clip-rule":"evenodd","stroke-linejoin":"round","stroke-miterlimit":"2"},DO=C("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M19.2 14.15a1.8 1.8 0 01-.35-.12c-.1-.05-.14-.18-.13-.3.02-.41-.01-.78.03-1.2.18-1.85 1.38-1.26 2.46-1.57.58-.16 1.17-.47 1.42-1.06.07-.16.02-.35-.1-.48a13.66 13.66 0 00-2.27-1.98 14.25 14.25 0 00-9.85-2.31.2.2 0 00-.15.32A5.17 5.17 0 0011.93 7c.1.06.06.2-.06.18-.3-.06-.68-.18-1.06-.4a.43.43 0 00-.38-.05l-.44.18a.2.2 0 00-.05.34 5.32 5.32 0 006.14.42c.1-.06.25.07.22.18-.07.21-.15.52-.23.95-.48 2.37-1.87 2.18-3.58 1.59-3.36-1.19-5.3-.22-7-2.1-.19-.21-.5-.29-.7-.09a1.55 1.55 0 00.1 2.29c.15.12.36.07.5-.06.07-.06.13-.1.21-.14.1-.04.16.11.07.18-.4.33-.51.7-.76 1.48-.38 1.16-.22 2.36-1.98 2.67-.93.04-.91.66-1.25 1.58A5.2 5.2 0 01.3 18.27c-.4.41-.44 1.18.14 1.23.18 0 .36-.03.55-.1.99-.4 1.75-1.65 2.47-2.46.8-.9 2.72-.51 4.17-1.4.82-.48 1.3-1.1 1.08-2.07-.02-.12.12-.2.18-.09.1.2.18.41.23.63.05.22.25.39.47.4 1.36.1 3.02 1.3 4.63 1.88.32.11.56-.26.43-.57-.1-.24-.18-.48-.23-.7-.02-.13.16-.16.22-.05a3.5 3.5 0 002.88 1.88c.46.03.97-.02 1.5-.18.63-.18 1.22-.42 1.91-.3.52.1 1 .36 1.3.79.36.5 1.04.7 1.54.38.28-.19.29-.58.13-.87-1.14-2.08-3.61-2.25-4.7-2.52z"},null,-1),TO=[DO];function PO(e,t,l,n,s,u){return m(),I("svg",EO,TO)}var LO=N(IO,[["render",PO]]);const OO={},jO={viewBox:"0 0 24 24",width:"24",height:"24",fill:"none","fill-rule":"evenodd","clip-rule":"evenodd","stroke-linejoin":"round","stroke-miterlimit":"2",xmlns:"http://www.w3.org/2000/svg"},RO=C("path",{d:"M18.38 3.6c-.38-.4-.83-.6-1.36-.6H6.98c-.53 0-1 .2-1.4.6-.38.42-.56.88-.56 1.42V21L12 18l6.98 3V5.02c0-.54-.2-1-.6-1.41zm-8.05 11.5l6.7-6.7-1.4-1.4-5.3 5.3-1.92-1.93L7 11.79l3.33 3.33z"},null,-1),MO=[RO];function UO(e,t,l,n,s,u){return m(),I("svg",jO,MO)}var NO=N(OO,[["render",UO]]);const BO={},qO={viewBox:"0 0 22 22",xmlns:"http://www.w3.org/2000/svg","fill-rule":"evenodd","clip-rule":"evenodd","stroke-linejoin":"round","stroke-miterlimit":"2"},zO=C("path",{d:"M2.036 16.961l8.578 3.944a.886.886 0 00.772 0l8.576-3.944c.357-.164.536-.443.536-.836V5.875a.924.924 0 00-.016-.166v-.048a.95.95 0 00-.037-.118l-.014-.039a.91.91 0 00-.073-.138l-.021-.03a1.067 1.067 0 00-.081-.097l-.043-.03a.901.901 0 00-.102-.083l-.025-.018a1.003 1.003 0 00-.124-.069l-8.578-3.944a.886.886 0 00-.772 0L2.036 5.039a.935.935 0 00-.124.069l-.025.018a.901.901 0 00-.102.083l-.03.032a.915.915 0 00-.08.097l-.021.03a.916.916 0 00-.074.138l-.025.037a1.006 1.006 0 00-.037.118v.048a.924.924 0 00-.016.166v10.25c0 .393.178.671.534.836zm1.306-9.646l6.735 3.102v8.223l-6.735-3.104V7.315zm8.578 11.323v-8.221l6.735-3.102v8.223l-6.735 3.1zm-.921-15.7l6.376 2.937-6.376 2.937-6.376-2.937 6.376-2.937z"},null,-1),KO=[zO];function HO(e,t,l,n,s,u){return m(),I("svg",qO,KO)}var WO=N(BO,[["render",HO]]);const GO={},JO={viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg","fill-rule":"evenodd","clip-rule":"evenodd","stroke-linejoin":"round","stroke-miterlimit":"2"},QO=C("path",{d:"M10.588 13.412c.408.408.879.611 1.412.611.533 0 1.004-.203 1.412-.611.408-.408.611-.879.611-1.412 0-.533-.203-1.004-.611-1.412-.408-.408-.879-.612-1.412-.612-.533 0-1.004.204-1.412.612-.408.408-.612.879-.612 1.412 0 .533.204 1.004.612 1.412zM9.176 9.176C9.961 8.392 10.902 8 12 8c1.098 0 2.04.392 2.823 1.176C15.608 9.961 16 10.902 16 12c0 1.098-.392 2.04-1.177 2.823C14.04 15.608 13.098 16 12 16c-1.098 0-2.04-.392-2.824-1.177C8.392 14.04 8 13.098 8 12c0-1.098.392-2.04 1.176-2.824z"},null,-1),XO=C("path",{d:"M13 3v6h-2V3h2zM13 15v6h-2v-6h2z"},null,-1),ZO=[QO,XO];function YO(e,t,l,n,s,u){return m(),I("svg",JO,ZO)}var xO=N(GO,[["render",YO]]);const ej={},tj={viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg","fill-rule":"evenodd","clip-rule":"evenodd","stroke-linejoin":"round","stroke-miterlimit":"2"},nj=C("path",{d:"M3 3h18v18H3z"},null,-1),lj=[nj];function oj(e,t,l,n,s,u){return m(),I("svg",tj,lj)}var aj=N(ej,[["render",oj]]);const ij={},sj={viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg","fill-rule":"evenodd","clip-rule":"evenodd","stroke-linejoin":"round","stroke-miterlimit":"2"},rj=C("path",{d:"M11 2H2v9h9V2zm0 11H2v9h9v-9zm2-11h9v9h-9V2zm9 11h-9v9h9v-9z"},null,-1),dj=[rj];function uj(e,t,l,n,s,u){return m(),I("svg",sj,dj)}var cj=N(ij,[["render",uj]]);const pj={},mj={viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg","fill-rule":"evenodd","clip-rule":"evenodd","stroke-linejoin":"round","stroke-miterlimit":"2"},fj=C("path",{d:"M1 1h6v6H1V1zm0 8h6v6H1V9zm6 8H1v6h6v-6zM9 1h6v6H9V1zm6 8H9v6h6V9zm-6 8h6v6H9v-6zM23 1h-6v6h6V1zm-6 8h6v6h-6V9zm6 8h-6v6h6v-6z"},null,-1),vj=[fj];function _j(e,t,l,n,s,u){return m(),I("svg",mj,vj)}var yj=N(pj,[["render",_j]]);const gj={},hj={viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg","fill-rule":"evenodd","clip-rule":"evenodd","stroke-linejoin":"round","stroke-miterlimit":"2"},bj=C("path",{d:"M6 3H3v3h3V3zm0 5H3v3h3V8zm-3 5h3v3H3v-3zm3 5H3v3h3v-3zM8 3h3v3H8V3zm3 5H8v3h3V8zm-3 5h3v3H8v-3zm3 5H8v3h3v-3zm2-15h3v3h-3V3zm3 5h-3v3h3V8zm-3 5h3v3h-3v-3zm3 5h-3v3h3v-3zm2-15h3v3h-3V3zm3 5h-3v3h3V8zm-3 5h3v3h-3v-3zm3 5h-3v3h3v-3z"},null,-1),$j=[bj];function wj(e,t,l,n,s,u){return m(),I("svg",hj,$j)}var kj=N(gj,[["render",wj]]);const Cj={},Sj={viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg","fill-rule":"evenodd","clip-rule":"evenodd","stroke-linejoin":"round","stroke-miterlimit":"2"},Vj=C("path",{d:"M3 3h2v2H3V3zm4 0h2v2H7V3zm0 4h2v2H7V7zm2 4H7v2h2v-2zm-2 4h2v2H7v-2zm2 4H7v2h2v-2zM5 7H3v2h2V7zm-2 4h2v2H3v-2zm2 4H3v2h2v-2zm-2 4h2v2H3v-2zM13 3h-2v2h2V3zm-2 4h2v2h-2V7zm2 4h-2v2h2v-2zm-2 4h2v2h-2v-2zm2 4h-2v2h2v-2zm2-16h2v2h-2V3zm2 4h-2v2h2V7zm-2 4h2v2h-2v-2zm2 4h-2v2h2v-2zm-2 4h2v2h-2v-2zm6-16h-2v2h2V3zm-2 4h2v2h-2V7zm2 4h-2v2h2v-2zm-2 4h2v2h-2v-2zm2 4h-2v2h2v-2z"},null,-1),Fj=[Vj];function Aj(e,t,l,n,s,u){return m(),I("svg",Sj,Fj)}var Ij=N(Cj,[["render",Aj]]);const Ej={},Dj={viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg","fill-rule":"evenodd","clip-rule":"evenodd","stroke-linejoin":"round","stroke-miterlimit":"2"},Tj=C("path",{d:"M5 4H4v1h1V4zm0 6H4v1h1v-1zm-1 6h1v1H4v-1zm1-9H4v1h1V7zm-1 6h1v1H4v-1zm1 6H4v1h1v-1zM7 4h1v1H7V4zm1 6H7v1h1v-1zm-1 6h1v1H7v-1zm1-9H7v1h1V7zm-1 6h1v1H7v-1zm1 6H7v1h1v-1zm2-15h1v1h-1V4zm1 6h-1v1h1v-1zm-1 6h1v1h-1v-1zm1-9h-1v1h1V7zm-1 6h1v1h-1v-1zm1 6h-1v1h1v-1zm2-15h1v1h-1V4zm1 6h-1v1h1v-1zm-1 6h1v1h-1v-1zm1-9h-1v1h1V7zm-1 6h1v1h-1v-1zm1 6h-1v1h1v-1zm2-15h1v1h-1V4zm1 6h-1v1h1v-1zm-1 6h1v1h-1v-1zm1-9h-1v1h1V7zm-1 6h1v1h-1v-1zm1 6h-1v1h1v-1zm2-15h1v1h-1V4zm1 6h-1v1h1v-1zm-1 6h1v1h-1v-1zm1-9h-1v1h1V7zm-1 6h1v1h-1v-1zm1 6h-1v1h1v-1z"},null,-1),Pj=[Tj];function Lj(e,t,l,n,s,u){return m(),I("svg",Dj,Pj)}var Oj=N(Ej,[["render",Lj]]);const jj={},Rj={viewBox:"0 0 48 48",xmlns:"http://www.w3.org/2000/svg","fill-rule":"evenodd","clip-rule":"evenodd","stroke-linejoin":"round","stroke-miterlimit":"2"},Mj=C("path",{"fill-opacity":".3",d:"M24.02 42.98L47.28 14c-.9-.68-9.85-8-23.28-8S1.62 13.32.72 14l23.26 28.98.02.02.02-.02z"},null,-1),Uj=C("path",{d:"M0 0h48v48H0z",fill:"none"},null,-1),Nj=C("path",{d:"M13.34 29.72l10.65 13.27.01.01.01-.01 10.65-13.27C34.13 29.31 30.06 26 24 26s-10.13 3.31-10.66 3.72z"},null,-1),Bj=[Mj,Uj,Nj];function qj(e,t,l,n,s,u){return m(),I("svg",Rj,Bj)}var zj=N(jj,[["render",qj]]);const Kj={},Hj={viewBox:"0 0 48 48",xmlns:"http://www.w3.org/2000/svg","fill-rule":"evenodd","clip-rule":"evenodd","stroke-linejoin":"round","stroke-miterlimit":"2"},Wj=C("path",{"fill-opacity":".3",d:"M24.02 42.98L47.28 14c-.9-.68-9.85-8-23.28-8S1.62 13.32.72 14l23.26 28.98.02.02.02-.02z"},null,-1),Gj=C("path",{d:"M0 0h48v48H0z",fill:"none"},null,-1),Jj=C("path",{d:"M7.07 21.91l16.92 21.07.01.02.02-.02 16.92-21.07C40.08 21.25 33.62 16 24 16c-9.63 0-16.08 5.25-16.93 5.91z"},null,-1),Qj=[Wj,Gj,Jj];function Xj(e,t,l,n,s,u){return m(),I("svg",Hj,Qj)}var Zj=N(Kj,[["render",Xj]]);const Yj={},xj={viewBox:"0 0 48 48",xmlns:"http://www.w3.org/2000/svg","fill-rule":"evenodd","clip-rule":"evenodd","stroke-linejoin":"round","stroke-miterlimit":"2"},eR=C("path",{"fill-opacity":".3",d:"M24.02 42.98L47.28 14c-.9-.68-9.85-8-23.28-8S1.62 13.32.72 14l23.26 28.98.02.02.02-.02z"},null,-1),tR=C("path",{d:"M0 0h48v48H0z",fill:"none"},null,-1),nR=C("path",{d:"M9.58 25.03l14.41 17.95.01.02.01-.02 14.41-17.95C37.7 24.47 32.2 20 24 20s-13.7 4.47-14.42 5.03z"},null,-1),lR=[eR,tR,nR];function oR(e,t,l,n,s,u){return m(),I("svg",xj,lR)}var aR=N(Yj,[["render",oR]]);const iR={},sR={viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg","fill-rule":"evenodd","clip-rule":"evenodd","stroke-linejoin":"round","stroke-miterlimit":"2"},rR=C("path",{d:"M 3 2 L 3 11 L 21 11 L 3 2 z M 5 5.2363281 L 12.527344 9 L 5 9 L 5 5.2363281 z M 3 13 L 3 22 L 21 13 L 3 13 z"},null,-1),dR=[rR];function uR(e,t,l,n,s,u){return m(),I("svg",sR,dR)}var cR=N(iR,[["render",uR]]);const pR={},mR={viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg","fill-rule":"evenodd","clip-rule":"evenodd","stroke-linejoin":"round","stroke-miterlimit":"2"},fR=C("path",{d:"M3,2 L3,11 L21,11 L3,2 Z M5,5.2363281 L12.527344,9 L5,9 L5,5.2363281 Z M3,13 L3,22 L21,13 L3,13 Z",transform:"translate(12.000000, 12.000000) rotate(-90.000000) translate(-12.000000, -12.000000) "},null,-1),vR=[fR];function _R(e,t,l,n,s,u){return m(),I("svg",mR,vR)}var yR=N(pR,[["render",_R]]);const gR={},hR={viewBox:"0 0 24 24",width:"24",height:"24",fill:"none","fill-rule":"evenodd","clip-rule":"evenodd","stroke-linejoin":"round","stroke-miterlimit":"2",xmlns:"http://www.w3.org/2000/svg"},bR=C("path",{d:"M11.17 8l-2-2H4v12h16V8h-8.83zM4 4h6l2 2h8a2 2 0 012 2v10a2 2 0 01-2 2H4a2 2 0 01-2-2l.01-12A2 2 0 014 4zm10.44 5l4 4-4 4v-3H11v-2h3.44V9z"},null,-1),$R=[bR];function wR(e,t,l,n,s,u){return m(),I("svg",hR,$R)}var kR=N(gR,[["render",wR]]);const CR={},SR={viewBox:"0 0 24 24",width:"24",height:"24",fill:"none","fill-rule":"evenodd","clip-rule":"evenodd","stroke-linejoin":"round","stroke-miterlimit":"2",xmlns:"http://www.w3.org/2000/svg"},VR=Ps('<path d="M9.1875 6L11.1562 8.01562H20.0156V18H3.98438V6H9.1875ZM9.98438 3.98438H3.98438C2.90625 3.98438 2.01562 4.92188 2.01562 6V18C2.01562 19.0781 2.90625 20.0156 3.98438 20.0156H20.0156C21.0938 20.0156 21.9844 19.0781 21.9844 18V8.01562C21.9844 6.89062 21.0938 6 20.0156 6H12L9.98438 3.98438Z"></path><rect x="13" y="12" width="6" height="5" rx="1"></rect><rect x="17" y="11" width="1" height="1"></rect><rect x="14" y="11" width="1" height="1"></rect><path d="M17 11H18C18 9.89543 17.1046 9 16 9C14.8954 9 14 9.89543 14 11H15C15 10.4477 15.4477 10 16 10C16.5523 10 17 10.4477 17 11Z"></path>',5),FR=[VR];function AR(e,t,l,n,s,u){return m(),I("svg",SR,FR)}var IR=N(CR,[["render",AR]]);const ER={},DR={viewBox:"0 0 24 24",width:"24",height:"24",fill:"none","fill-rule":"evenodd","clip-rule":"evenodd","stroke-linejoin":"round","stroke-miterlimit":"2",xmlns:"http://www.w3.org/2000/svg"},TR=C("path",{d:"M0 0h24v24H0z",fill:"none"},null,-1),PR=C("path",{d:"M17 7l-1.41 1.41L18.17 11H8v2h10.17l-2.58 2.58L17 17l5-5zM4 5h8V3H4a2 2 0 00-2 2v14c0 1.1.9 2 2 2h8v-2H4V5z"},null,-1),LR=[TR,PR];function OR(e,t,l,n,s,u){return m(),I("svg",DR,LR)}var jR=N(ER,[["render",OR]]);Ls.add(Os);const RR=["directus","bookmark_save","box","commit_node","grid_1","grid_2","grid_3","grid_4","grid_5","grid_6","signal_wifi_1_bar","signal_wifi_2_bar","signal_wifi_3_bar","flip_horizontal","flip_vertical","folder_move","folder_lock","logout"],MR=["500px","accessible_icon","accusoft","acquisitions_incorporated","adn","adversal","affiliatetheme","airbnb","algolia","alipay","amazon","amazon_pay","amilia","android","angellist","angrycreative","angular","app_store","app_store_ios","apper","apple","apple_pay","artstation","asymmetrik","atlassian","audible","autoprefixer","avianex","aviato","aws","bandcamp","battle_net","behance","behance_square","bimobject","bitbucket","bitcoin","bity","black_tie","blackberry","blogger","blogger_b","bluetooth","bluetooth_b","bootstrap","btc","buffer","buromobelexperte","buy_n_large","buysellads","canadian_maple_leaf","cc_amazon_pay","cc_amex","cc_apple_pay","cc_diners_club","cc_discover","cc_jcb","cc_mastercard","cc_paypal","cc_stripe","cc_visa","centercode","centos","chrome","chromecast","cloudflare","cloudscale","cloudsmith","cloudversify","codepen","codiepie","confluence","connectdevelop","contao","cotton_bureau","cpanel","creative_commons","creative_commons_by","creative_commons_nc","creative_commons_nc_eu","creative_commons_nc_jp","creative_commons_nd","creative_commons_pd","creative_commons_pd_alt","creative_commons_remix","creative_commons_sa","creative_commons_sampling","creative_commons_sampling_plus","creative_commons_share","creative_commons_zero","critical_role","css3","css3_alt","cuttlefish","d_and_d","d_and_d_beyond","dailymotion","dashcube","deezer","delicious","deploydog","deskpro","dev","deviantart","dhl","diaspora","digg","digital_ocean","discord","discourse","dochub","docker","draft2digital","dribbble","dribbble_square","dropbox","drupal","dyalog","earlybirds","ebay","edge","edge_legacy","elementor","ello","ember","empire","envira","erlang","ethereum","etsy","evernote","expeditedssl","facebook","facebook_f","facebook_messenger","facebook_square","fantasy_flight_games","fedex","fedora","figma","firefox","firefox_browser","first_order","first_order_alt","firstdraft","flickr","flipboard","fly","font_awesome","font_awesome_alt","font_awesome_flag","fonticons","fonticons_fi","fort_awesome","fort_awesome_alt","forumbee","foursquare","free_code_camp","freebsd","fulcrum","galactic_republic","galactic_senate","get_pocket","gg","gg_circle","git","git_alt","git_square","github","github_alt","github_square","gitkraken","gitlab","gitter","glide","glide_g","gofore","goodreads","goodreads_g","google","google_drive","google_pay","google_play","google_plus","google_plus_g","google_plus_square","google_wallet","gratipay","grav","gripfire","grunt","guilded","gulp","hacker_news","hacker_news_square","hackerrank","hips","hire_a_helper","hive","hooli","hornbill","hotjar","houzz","html5","hubspot","ideal","imdb","innosoft","instagram","instagram_square","instalod","intercom","internet_explorer","invision","ioxhost","itch_io","itunes","itunes_note","java","jedi_order","jenkins","jira","joget","joomla","js","js_square","jsfiddle","kaggle","keybase","keycdn","kickstarter","kickstarter_k","korvue","laravel","lastfm","lastfm_square","leanpub","less","line","linkedin","linkedin_in","linode","linux","lyft","magento","mailchimp","mandalorian","markdown","mastodon","maxcdn","mdb","medapps","medium","medium_m","medrt","meetup","megaport","mendeley","microblog","microsoft","mix","mixcloud","mixer","mizuni","modx","monero","napster","neos","nimblr","node","node_js","npm","ns8","nutritionix","octopus_deploy","odnoklassniki","odnoklassniki_square","old_republic","opencart","openid","opera","optin_monster","orcid","osi","page4","pagelines","palfed","patreon","paypal","penny_arcade","perbyte","periscope","phabricator","phoenix_framework","phoenix_squadron","php","pied_piper","pied_piper_alt","pied_piper_hat","pied_piper_pp","pied_piper_square","pinterest","pinterest_p","pinterest_square","playstation","product_hunt","pushed","python","qq","quinscape","quora","r_project","raspberry_pi","ravelry","react","reacteurope","readme","rebel","red_river","reddit","reddit_alien","reddit_square","redhat","renren","replyd","researchgate","resolving","rev","rocketchat","rockrms","rust","safari","salesforce","sass","schlix","scribd","searchengin","sellcast","sellsy","servicestack","shirtsinbulk","shopify","shopware","simplybuilt","sistrix","sith","sketch","skyatlas","skype","slack","slack_hash","slideshare","snapchat","snapchat_ghost","snapchat_square","soundcloud","sourcetree","speakap","speaker_deck","spotify","squarespace","stack_exchange","stack_overflow","stackpath","staylinked","steam","steam_square","steam_symbol","sticker_mule","strava","stripe","stripe_s","studiovinari","stumbleupon","stumbleupon_circle","superpowers","supple","suse","swift","symfony","teamspeak","telegram","telegram_plane","tencent_weibo","the_red_yeti","themeco","themeisle","think_peaks","tiktok","trade_federation","trello","tumblr","tumblr_square","twitch","twitter","twitter_square","typo3","uber","ubuntu","uikit","umbraco","uncharted","uniregistry","unity","unsplash","untappd","ups","usb","usps","ussunnah","vaadin","viacoin","viadeo","viadeo_square","viber","vimeo","vimeo_square","vimeo_v","vine","vk","vnv","vuejs","watchman_monitoring","waze","weebly","weibo","weixin","whatsapp","whatsapp_square","whmcs","wikipedia_w","windows","wix","wizards_of_the_coast","wodu","wolf_pack_battalion","wordpress","wordpress_simple","wpbeginner","wpexplorer","wpforms","wpressr","xbox","xing","xing_square","y_combinator","yahoo","yammer","yandex","yandex_international","yarn","yelp","yoast","youtube","youtube_square","zhihu"],UR=z({props:{name:{type:String,required:!0}},render(){const e=js(Rs({prefix:"fab",iconName:this.name}));return Wo({template:e==null?void 0:e.html[0]})}}),NR=z({components:{CustomIconDirectus:LO,CustomIconBookmarkSave:NO,CustomIconBox:WO,CustomIconCommitNode:xO,CustomIconGrid1:aj,CustomIconGrid2:cj,CustomIconGrid3:yj,CustomIconGrid4:kj,CustomIconGrid5:Ij,CustomIconGrid6:Oj,CustomIconSignalWifi1Bar:zj,CustomIconSignalWifi2Bar:Zj,CustomIconSignalWifi3Bar:aR,CustomIconFlipHorizontal:cR,CustomIconFlipVertical:yR,CustomIconFolderMove:kR,CustomIconFolderLock:IR,CustomIconLogout:jR,SocialIcon:UR},props:oe({name:{type:String,required:!0},filled:{type:Boolean,default:!1},sup:{type:Boolean,default:!1},left:{type:Boolean,default:!1},right:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},clickable:{type:Boolean,default:!1},color:{type:String,default:null}},ol),emits:["click"],setup(e,{emit:t}){const l=V(()=>e.sup?"sup":al(e).value),n=V(()=>RR.includes(e.name)?`custom-icon-${e.name}`.replace(/_/g,"-"):null),s=V(()=>MR.includes(e.name)?e.name.replace(/_/g,"-"):null);return{sizeClass:l,customIconName:n,socialIconName:s,emitClick:u};function u(o){e.disabled||t("click",o)}}}),BR=["role","tabindex"];function qR(e,t,l,n,s,u){const o=c("socialIcon");return m(),I("span",{class:ue(["v-icon",[e.sizeClass,{"has-click":!e.disabled&&e.clickable,left:e.left,right:e.right}]]),role:e.clickable?"button":null,tabindex:e.clickable?0:null,style:ze({"--v-icon-color":e.color}),onClick:t[0]||(t[0]=(...i)=>e.emitClick&&e.emitClick(...i))},[e.customIconName?(m(),S(Be(e.customIconName),{key:0})):e.socialIconName?(m(),S(o,{key:1,name:e.socialIconName},null,8,["name"])):(m(),I("i",{key:2,class:ue({filled:e.filled})},b(e.name),3))],14,BR)}var zR=N(NR,[["render",qR],["__scopeId","data-v-c0e816c0"]]);const KR=z({props:{icon:{type:String,default:"box"},title:{type:String,required:!0},type:{type:String,default:"info"},center:{type:Boolean,default:!1}}}),HR={class:"icon"},WR={class:"title type-title"},GR={class:"content"};function JR(e,t,l,n,s,u){const o=c("v-icon");return m(),I("div",{class:ue(["v-info",[e.type,{center:e.center}]])},[C("div",HR,[a(o,{large:"",name:e.icon,outline:""},null,8,["name"])]),C("h2",WR,b(e.title),1),C("p",GR,[ge(e.$slots,"default",{},void 0,!0)]),ge(e.$slots,"append",{},void 0,!0)],2)}var QR=N(KR,[["render",JR],["__scopeId","data-v-0b8e46a0"]]);const XR=z({inheritAttrs:!1,props:{autofocus:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},clickable:{type:Boolean,default:!1},prefix:{type:String,default:null},suffix:{type:String,default:null},fullWidth:{type:Boolean,default:!0},placeholder:{type:[String,Number],default:null},modelValue:{type:[String,Number],default:null},nullable:{type:Boolean,default:!0},slug:{type:Boolean,default:!1},slugSeparator:{type:String,default:"-"},type:{type:String,default:"text"},hideArrows:{type:Boolean,default:!1},max:{type:Number,default:null},min:{type:Number,default:null},step:{type:Number,default:1},active:{type:Boolean,default:!1},dbSafe:{type:Boolean,default:!1},trim:{type:Boolean,default:!1},autocomplete:{type:String,default:"off"}},emits:["click","keydown","update:modelValue","focus"],setup(e,{emit:t,attrs:l}){const n=E(null),s=V(()=>({input:v,keydown:p,blur:g=>{f(),typeof l.onBlur=="function"&&l.onBlur(g)},focus:g=>t("focus",g)})),u=V(()=>M.exports.omit(l,["class"])),o=V(()=>[{"full-width":e.fullWidth,"has-click":e.clickable,disabled:e.disabled},...(l.class||"").split(" ")]),i=V(()=>e.disabled===!1&&(e.max===null||parseInt(String(e.modelValue),10)<e.max)),d=V(()=>e.disabled===!1&&(e.min===null||parseInt(String(e.modelValue),10)>e.min));return{listeners:s,attributes:u,classes:o,stepUp:y,stepDown:_,isStepUpAllowed:i,isStepDownAllowed:d,input:n};function p(g){if(!g.key)return;const w=g.key.toLowerCase(),h=["meta","shift","alt","backspace","tab","arrowup","arrowdown","arrowleft","arrowright"],k=g.target.value;e.slug===!0&&(("abcdefghijklmnopqrstuvwxyz01234567890-_~ ".split("").includes(w)||h.includes(w))===!1&&g.preventDefault(),w===" "&&k.endsWith(e.slugSeparator)&&g.preventDefault()),e.dbSafe===!0&&(("abcdefghijklmnopqrstuvwxyz01234567890_ ".split("").includes(w)||h.includes(w)||w.startsWith("arrow"))===!1&&g.preventDefault(),k.length===0&&"0123456789".split("").includes(w)&&g.preventDefault()),t("keydown",g)}function f(){e.modelValue&&e.trim&&["string","text"].includes(e.type)&&t("update:modelValue",String(e.modelValue).trim())}function v(g){let w=g.target.value;if(e.nullable===!0&&w===""){t("update:modelValue",null);return}if(e.type==="number")t("update:modelValue",Number(w));else{if(e.slug===!0){const h=w.endsWith(" ");w=Ms(w,{separator:e.slugSeparator,preserveTrailingDash:!0}),h&&(w+=e.slugSeparator)}e.dbSafe===!0&&(w=w.replace(/\s/g,"_"),w=w.normalize("NFD").replace(/[\u0300-\u036f]/g,"")),t("update:modelValue",w)}}function y(){if(!!n.value&&i.value!==!1&&(n.value.stepUp(),n.value.value!=null))return t("update:modelValue",Number(n.value.value))}function _(){if(!!n.value&&d.value!==!1)return n.value.stepDown(),n.value.value?t("update:modelValue",Number(n.value.value)):t("update:modelValue",e.min||0)}}}),ZR={key:0,class:"prepend-outer"},YR={key:0,class:"prepend"},xR={key:1,class:"prefix"},e7=["placeholder","autocomplete","type","min","max","step","disabled","value"],t7={key:2,class:"suffix"},n7={key:3},l7={key:4,class:"append"},o7={key:1,class:"append-outer"};function a7(e,t,l,n,s,u){const o=c("v-icon"),i=we("focus");return m(),I("div",{class:ue(["v-input",e.classes]),onClick:t[0]||(t[0]=d=>e.$emit("click",d))},[e.$slots["prepend-outer"]?(m(),I("div",ZR,[ge(e.$slots,"prepend-outer",{value:e.modelValue,disabled:e.disabled},void 0,!0)])):R("",!0),C("div",{class:ue(["input",{disabled:e.disabled,active:e.active}])},[e.$slots.prepend?(m(),I("div",YR,[ge(e.$slots,"prepend",{value:e.modelValue,disabled:e.disabled},void 0,!0)])):R("",!0),e.prefix?(m(),I("span",xR,b(e.prefix),1)):R("",!0),ge(e.$slots,"input",{},()=>[ne(C("input",ut({ref:"input"},e.attributes,{placeholder:e.placeholder,autocomplete:e.autocomplete,type:e.type,min:e.min,max:e.max,step:e.step,disabled:e.disabled,value:e.modelValue===null?"":String(e.modelValue)},Hl(e.listeners)),null,16,e7),[[i,e.autofocus]])],!0),e.suffix?(m(),I("span",t7,b(e.suffix),1)):R("",!0),e.type==="number"&&!e.hideArrows?(m(),I("span",n7,[a(o,{class:ue([{disabled:!e.isStepUpAllowed},"step-up"]),name:"keyboard_arrow_up",clickable:"",disabled:!e.isStepUpAllowed,onClick:e.stepUp},null,8,["class","disabled","onClick"]),a(o,{class:ue([{disabled:!e.isStepDownAllowed},"step-down"]),name:"keyboard_arrow_down",clickable:"",disabled:!e.isStepDownAllowed,onClick:e.stepDown},null,8,["class","disabled","onClick"])])):R("",!0),e.$slots.append?(m(),I("div",l7,[ge(e.$slots,"append",{value:e.modelValue,disabled:e.disabled},void 0,!0)])):R("",!0)],2),e.$slots["append-outer"]?(m(),I("div",o7,[ge(e.$slots,"append-outer",{value:e.modelValue,disabled:e.disabled},void 0,!0)])):R("",!0)],2)}var i7=N(XR,[["render",a7],["__scopeId","data-v-498949c4"]]);const s7=z({props:{mandatory:{type:Boolean,default:!1},max:{type:Number,default:-1},multiple:{type:Boolean,default:!1},modelValue:{type:Array,default:void 0},scope:{type:String,default:"item-group"}},emits:["update:modelValue"],setup(e,{emit:t}){const{modelValue:l,multiple:n,max:s,mandatory:u}=Ue(e);return Po({selection:l,onSelectionChange:o=>t("update:modelValue",o)},{multiple:n,max:s,mandatory:u},e.scope),{}}}),r7={class:"v-item-group"};function d7(e,t,l,n,s,u){return m(),I("div",r7,[ge(e.$slots,"default")])}var u7=N(s7,[["render",d7]]);const c7=z({props:{value:{type:String,default:null},scope:{type:String,default:"item-group"},active:{type:Boolean,default:void 0},watch:{type:Boolean,default:!0}},setup(e){const{active:t}=Ue(e),{active:l,toggle:n}=hn({value:e.value,group:e.scope,watch:e.watch,active:t});return{isActive:l,toggle:n}}}),p7={class:"v-item"};function m7(e,t,l,n,s,u){return m(),I("div",p7,[ge(e.$slots,"default",He(Ze({active:e.isActive,toggle:e.toggle})))])}var f7=N(c7,[["render",m7]]);const v7=z({props:{multiple:{type:Boolean,default:!0},to:{type:String,default:""},active:{type:Boolean,default:void 0},exact:{type:Boolean,default:!1},query:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},clickable:{type:Boolean,default:!1},scope:{type:String,default:"v-list"},value:{type:[String,Number],default:void 0},dense:{type:Boolean,default:!1},open:{type:Boolean,default:!1},arrowPlacement:{type:[String,Boolean],default:"after",validator:e=>["before","after",!1].includes(e)}},emits:["click"],setup(e,{emit:t}){const{active:l,toggle:n}=hn({group:e.scope,value:e.value});return{groupActive:V(()=>l.value||e.open),toggle:n,onClick:u};function u(o){if(e.to)return null;if(e.clickable)return t("click",o);o.stopPropagation(),n()}}}),_7={class:"v-list-group"},y7={key:0,class:"items"};function g7(e,t,l,n,s,u){const o=c("v-icon"),i=c("v-list-item-icon"),d=c("v-list-item");return m(),I("li",_7,[a(d,{class:"activator",active:e.active,to:e.to,exact:e.exact,query:e.query,disabled:e.disabled,dense:e.dense,clickable:"",onClick:e.onClick},{default:r(()=>[e.$slots.default&&e.arrowPlacement&&e.arrowPlacement==="before"?(m(),S(i,{key:0,class:ue(["activator-icon",{active:e.groupActive}])},{default:r(()=>[a(o,{name:"chevron_right",disabled:e.disabled,onClick:Ae(e.toggle,["stop","prevent"])},null,8,["disabled","onClick"])]),_:1},8,["class"])):R("",!0),ge(e.$slots,"activator",{active:e.groupActive},void 0,!0),e.$slots.default&&e.arrowPlacement&&e.arrowPlacement==="after"?(m(),S(i,{key:1,class:ue(["activator-icon",{active:e.groupActive}])},{default:r(()=>[a(o,{name:"chevron_right",disabled:e.disabled,onClick:Ae(e.toggle,["stop","prevent"])},null,8,["disabled","onClick"])]),_:1},8,["class"])):R("",!0)]),_:3},8,["active","to","exact","query","disabled","dense","onClick"]),e.groupActive?(m(),I("ul",y7,[ge(e.$slots,"default",{},void 0,!0)])):R("",!0)])}var h7=N(v7,[["render",g7],["__scopeId","data-v-2419d436"]]);const b7={},$7={class:"v-list-item-content"};function w7(e,t){return m(),I("div",$7,[ge(e.$slots,"default")])}var k7=N(b7,[["render",w7],["__scopeId","data-v-275e8d1e"]]);const C7=z({props:{center:{type:Boolean,default:!1}}});function S7(e,t,l,n,s,u){return m(),I("div",{class:ue(["v-list-item-hint",{center:e.center}])},[ge(e.$slots,"default",{},void 0,!0)],2)}var V7=N(C7,[["render",S7],["__scopeId","data-v-13faae5b"]]);const F7=z({props:{center:{type:Boolean,default:!1}}});function A7(e,t,l,n,s,u){return m(),I("div",{class:ue(["v-list-item-icon",{center:e.center}])},[ge(e.$slots,"default")],2)}var I7=N(F7,[["render",A7],["__scopeId","data-v-3a2c81de"]]);const E7=z({props:{block:{type:Boolean,default:!1},dense:{type:Boolean,default:!1},to:{type:[String,Object],default:""},href:{type:String,default:void 0},disabled:{type:Boolean,default:!1},clickable:{type:Boolean,default:!1},active:{type:Boolean,default:void 0},dashed:{type:Boolean,default:!1},exact:{type:Boolean,default:!1},query:{type:Boolean,default:!1},download:{type:String,default:void 0},value:{type:[String,Number],default:void 0},nav:{type:Boolean,default:!1},scope:{type:String,default:"v-list"}},emits:["click"],setup(e,{emit:t}){const l=en(),{route:n,isActive:s,isExactActive:u}=na(e),o=V(()=>e.to?"router-link":e.href?"a":"li");hn({value:e.value,group:e.scope});const i=V(()=>Boolean(e.to||e.href||e.clickable)),d=V(()=>{if(e.active!==void 0)return e.active;if(e.to){const f=!e.query||M.exports.isEqual(l.query,n.value.query);return e.exact?u.value&&f:s.value&&f}return!1});return{component:o,isLink:i,isActiveRoute:d,onClick:p};function p(f){e.disabled!==!0&&t("click",f)}}});function D7(e,t,l,n,s,u){return m(),S(Be(e.component),{class:ue(["v-list-item",{active:e.isActiveRoute,dense:e.dense,link:e.isLink,disabled:e.disabled,dashed:e.dashed,block:e.block,nav:e.nav,clickable:e.clickable}]),to:e.to!==""?e.to:void 0,href:e.href,download:e.download,target:e.component==="a"?"_blank":void 0,onClick:e.onClick},{default:r(()=>[ge(e.$slots,"default")]),_:3},8,["to","class","href","download","target","onClick"])}var T7=N(E7,[["render",D7],["__scopeId","data-v-0c4fd7f4"]]);const P7=z({props:{modelValue:{type:Array,default:null},nav:{type:Boolean,default:!1},dense:{type:Boolean,default:!1},multiple:{type:Boolean,default:!0},mandatory:{type:Boolean,default:!0},scope:{type:String,default:"v-list"}},emits:["update:modelValue","toggle"],setup(e,{emit:t}){const{modelValue:l,multiple:n,mandatory:s}=Ue(e);return Po({selection:l,onSelectionChange:u=>{t("update:modelValue",u)},onToggle:u=>{t("toggle",u)}},{mandatory:s,multiple:n},e.scope),{}}});function L7(e,t,l,n,s,u){return m(),I("ul",{class:ue(["v-list",{nav:e.nav,dense:e.dense}])},[ge(e.$slots,"default")],2)}var O7=N(P7,[["render",L7],["__scopeId","data-v-b97aaa68"]]);function j7(e,t,l){const n=E(null),s=E({}),u=E({}),o=E(l.value.placement);Vt(()=>{p()}),ye(l,()=>{var v;(v=n.value)==null||v.setOptions({placement:l.value.attached?"bottom-start":l.value.placement,modifiers:f()})},{immediate:!0});const i=new MutationObserver(()=>{var v;(v=n.value)==null||v.forceUpdate()});return{popperInstance:n,placement:o,start:d,stop:p,styles:s,arrowStyles:u};function d(){return new Promise(v=>{n.value=Us(e.value,t.value,{placement:l.value.attached?"bottom-start":l.value.placement,modifiers:f(v),strategy:"fixed"}),n.value.forceUpdate(),i.observe(t.value,{attributes:!1,childList:!0,characterData:!0,subtree:!0})})}function p(){var v;(v=n.value)==null||v.destroy(),i.disconnect()}function f(v=()=>{}){var _,g;const y=[Ns,ke(oe({},Bs),{options:{offset:l.value.attached?[0,0]:[(_=l.value.offsetX)!=null?_:0,(g=l.value.offsetY)!=null?g:8]}}),ke(oe({},qs),{options:{padding:8}}),zs,Ks,Hs,{name:"placementUpdater",enabled:!0,phase:"afterWrite",fn({state:w}){o.value=w.placement}},{name:"applyStyles",enabled:!0,phase:"write",fn({state:w}){s.value=w.styles.popper,u.value=w.styles.arrow,v()}}];return l.value.arrow===!0&&y.push(ke(oe({},Ws),{options:{padding:6}})),l.value.attached===!0&&y.push({name:"sameWidth",enabled:!0,fn:({state:w})=>{w.styles.popper.width=`${w.rects.reference.width}px`},phase:"beforeWrite",requires:["computeStyles"]}),y}}const R7=z({props:{placement:{type:String,default:"bottom"},modelValue:{type:Boolean,default:void 0},closeOnClick:{type:Boolean,default:!0},closeOnContentClick:{type:Boolean,default:!0},attached:{type:Boolean,default:!1},showArrow:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},trigger:{type:String,default:null,validator:e=>["hover","click"].includes(e)},delay:{type:Number,default:0},offsetY:{type:Number,default:8},offsetX:{type:Number,default:0}},emits:["update:modelValue"],setup(e,{emit:t}){const l=E(null),n=E(null),s=E({getBoundingClientRect(){return{top:0,left:0,bottom:0,right:0,width:0,height:0}}}),u=V(()=>bt()),o=E(null),{start:i,stop:d,styles:p,arrowStyles:f,placement:v}=j7(n,o,V(()=>({placement:e.placement,attached:e.attached,arrow:e.showArrow,offsetY:e.offsetY,offsetX:e.offsetX}))),{isActive:y,activate:_,deactivate:g,toggle:w}=P();ye(y,T=>{var B;T===!0&&(n.value=((B=l.value)==null?void 0:B.children[0])||s.value,ml(()=>{o.value=document.getElementById(u.value)}))});const{onClick:h,onPointerEnter:k,onPointerLeave:F}=U(),A=E(!1);return{id:u,activator:l,popper:o,reference:n,isActive:y,toggle:w,deactivate:g,onContentClick:O,onClickOutsideMiddleware:L,styles:p,arrowStyles:f,popperPlacement:v,activate:_,onClick:h,onPointerLeave:F,onPointerEnter:k,hoveringOnPopperContent:A};function P(){const T=E(!1),B=V({get(){return e.modelValue!==void 0?e.modelValue:T.value},async set(Y){T.value=Y,t("update:modelValue",Y)}});return ye(o,async()=>{o.value!==null?await i():d()},{immediate:!0}),{isActive:B,activate:q,deactivate:K,toggle:H};function q(Y){Y&&(s.value={getBoundingClientRect(){return{top:Y.clientY,left:Y.clientX,bottom:0,right:0,width:0,height:0}}}),B.value=!0}function K(){B.value=!1}function H(){e.disabled!==!0&&(B.value=!B.value)}}function L(T){var B;return!((B=l.value)==null?void 0:B.contains(T.target))}function O(T){e.closeOnContentClick===!0&&T.target!==T.currentTarget&&g()}function U(){const T=E(!1);return ye(T,M.exports.debounce(H=>{H?y.value||_():g()},e.delay)),{onClick:B,onPointerLeave:K,onPointerEnter:q};function B(){e.trigger==="click"&&w()}function q(){e.trigger==="hover"&&(T.value=!0)}function K(){e.trigger==="hover"&&(T.value=!1)}}}}),M7=["id","data-placement"];function U7(e,t,l,n,s,u){const o=c("transition-bounce"),i=we("click-outside");return m(),I("div",{class:"v-menu",onClick:t[5]||(t[5]=(...d)=>e.onClick&&e.onClick(...d))},[C("div",{ref:"activator",class:ue(["v-menu-activator",{attached:e.attached}]),onPointerenter:t[0]||(t[0]=Ae((...d)=>e.onPointerEnter&&e.onPointerEnter(...d),["stop"])),onPointerleave:t[1]||(t[1]=Ae((...d)=>e.onPointerLeave&&e.onPointerLeave(...d),["stop"]))},[ge(e.$slots,"activator",He(Ze({toggle:e.toggle,active:e.isActive,activate:e.activate,deactivate:e.deactivate})),void 0,!0)],34),(m(),S(zl,{to:"#menu-outlet"},[a(o,null,{default:r(()=>[e.isActive?ne((m(),I("div",{id:e.id,key:e.id,class:ue(["v-menu-popper",{active:e.isActive,attached:e.attached}]),"data-placement":e.popperPlacement,style:ze(e.styles)},[C("div",{class:ue(["arrow",{active:e.showArrow&&e.isActive}]),style:ze(e.arrowStyles),"data-popper-arrow":""},null,6),C("div",{class:"v-menu-content",onClick:t[2]||(t[2]=Ae((...d)=>e.onContentClick&&e.onContentClick(...d),["stop"])),onPointerenter:t[3]||(t[3]=Ae((...d)=>e.onPointerEnter&&e.onPointerEnter(...d),["stop"])),onPointerleave:t[4]||(t[4]=Ae((...d)=>e.onPointerLeave&&e.onPointerLeave(...d),["stop"]))},[ge(e.$slots,"default",He(Ze({toggle:e.toggle,active:e.isActive,activate:e.activate,deactivate:e.deactivate})),void 0,!0)],32)],14,M7)),[[i,{handler:e.deactivate,middleware:e.onClickOutsideMiddleware,disabled:e.isActive===!1||e.closeOnClick===!1,events:["click"]}]]):R("",!0)]),_:3})]))])}var N7=N(R7,[["render",U7],["__scopeId","data-v-0ceef3fa"]]);const B7=z({props:{type:{type:String,default:"normal"},icon:{type:[String,Boolean],default:null},center:{type:Boolean,default:!1}},setup(e){return{iconName:V(()=>e.icon!==!1&&typeof e.icon=="string"?e.icon:e.type=="info"?"info":e.type=="success"?"check_circle":e.type=="warning"?"warning":e.type=="danger"?"error":"info")}}});function q7(e,t,l,n,s,u){const o=c("v-icon");return m(),I("div",{class:ue(["v-notice",[e.type,{center:e.center}]])},[e.icon!==!1?(m(),S(o,{key:0,name:e.iconName,left:""},null,8,["name"])):R("",!0),ge(e.$slots,"default")],2)}var z7=N(B7,[["render",q7],["__scopeId","data-v-2d5b0a1b"]]);const K7=z({props:{active:{type:Boolean,default:!1},absolute:{type:Boolean,default:!1},clickable:{type:Boolean,default:!0}},emits:["click"],setup(e,{emit:t}){return{onClick:l};function l(n){t("click",n)}}}),H7=e=>(We("data-v-3e74acbb"),e=e(),Ge(),e),W7=H7(()=>C("div",{class:"overlay"},null,-1)),G7={key:0,class:"content"};function J7(e,t,l,n,s,u){return m(),I("div",{class:ue(["v-overlay",{active:e.active,absolute:e.absolute,"has-click":e.clickable}]),onClick:t[0]||(t[0]=(...o)=>e.onClick&&e.onClick(...o))},[W7,e.active?(m(),I("div",G7,[ge(e.$slots,"default",{},void 0,!0)])):R("",!0)],2)}var Q7=N(K7,[["render",J7],["__scopeId","data-v-3e74acbb"]]);const X7=z({props:{disabled:{type:Boolean,default:!1},length:{type:Number,default:null,required:!0,validator:e=>e%1==0},totalVisible:{type:Number,default:void 0,validator:e=>e>=0},modelValue:{type:Number,default:null},showFirstLast:{type:Boolean,default:!1}},emits:["update:modelValue"],setup(e,{emit:t}){const l=V(()=>{if(e.totalVisible===void 0)return[];let o,i;if(Ta(e.totalVisible)||e.length<=e.totalVisible)o=1,i=e.length;else{const d=Math.floor(e.totalVisible/2),p=Math.ceil(e.totalVisible/2)-1;e.modelValue<=d?(o=1,i=e.totalVisible):e.modelValue+p>=e.length?(o=e.length-e.totalVisible+1,i=e.length):(o=e.modelValue-d,i=e.modelValue+p)}return Array.from(Array(i+1-o).keys()).map(d=>o+d)});return{toPage:u,toPrev:n,toNext:s,visiblePages:l};function n(){u(e.modelValue-1)}function s(){u(e.modelValue+1)}function u(o){t("update:modelValue",o)}}}),Z7={class:"v-pagination"},Y7=D(" 1 "),x7={key:1,class:"gap"},eM={key:2,class:"gap"};function tM(e,t,l,n,s,u){const o=c("v-icon"),i=c("v-button");return m(),I("div",Z7,[a(i,{class:"previous",disabled:e.disabled||e.modelValue===1,secondary:"",icon:"",small:"",onClick:e.toPrev},{default:r(()=>[a(o,{name:"chevron_left"})]),_:1},8,["disabled","onClick"]),e.showFirstLast&&e.modelValue>Math.ceil(e.totalVisible/2)+1&&e.length>e.totalVisible?(m(),S(i,{key:0,class:"page",secondary:"",small:"",disabled:e.disabled,onClick:t[0]||(t[0]=d=>e.toPage(1))},{default:r(()=>[Y7]),_:1},8,["disabled"])):R("",!0),e.showFirstLast&&e.modelValue>Math.ceil(e.totalVisible/2)+1&&e.length>e.totalVisible+1?(m(),I("span",x7," ... ")):R("",!0),(m(!0),I(ae,null,be(e.visiblePages,d=>(m(),S(i,{key:d,class:ue([{active:e.modelValue===d},"page"]),secondary:"",small:"",disabled:e.disabled,onClick:p=>e.toPage(d)},{default:r(()=>[D(b(d),1)]),_:2},1032,["class","disabled","onClick"]))),128)),e.showFirstLast&&e.modelValue<e.length-Math.ceil(e.totalVisible/2)&&e.length>e.totalVisible+1?(m(),I("span",eM," ... ")):R("",!0),e.showFirstLast&&e.modelValue<=e.length-Math.ceil(e.totalVisible/2)&&e.length>e.totalVisible?(m(),S(i,{key:3,class:ue([{active:e.modelValue===e.length},"page"]),secondary:"",small:"",disabled:e.disabled,onClick:t[1]||(t[1]=d=>e.toPage(e.length))},{default:r(()=>[D(b(e.length),1)]),_:1},8,["class","disabled"])):R("",!0),a(i,{class:"next",disabled:e.disabled||e.modelValue===e.length,secondary:"",icon:"",small:"",onClick:e.toNext},{default:r(()=>[a(o,{name:"chevron_right"})]),_:1},8,["disabled","onClick"])])}var nM=N(X7,[["render",tM],["__scopeId","data-v-7c59d706"]]);const lM=z({props:oe({indeterminate:{type:Boolean,default:!1},value:{type:Number,default:0}},ol),emits:["animationiteration"],setup(e){const t=al(e),l=V(()=>({"stroke-dasharray":e.value/100*78.5+", 78.5"}));return{sizeClass:t,circleStyle:l}}}),oM=e=>(We("data-v-a75ea6ac"),e=e(),Ge(),e),aM=oM(()=>C("path",{class:"circle-background",d:"M12.5,0A12.5,12.5,0,1,1,0,12.5,12.5,12.5,0,0,1,12.5,0Z",transform:"translate(2.5 2.5)"},null,-1));function iM(e,t,l,n,s,u){return m(),I("div",{class:ue(["v-progress-circular",e.sizeClass])},[(m(),I("svg",{class:ue(["circle",{indeterminate:e.indeterminate}]),viewBox:"0 0 30 30",onAnimationiteration:t[0]||(t[0]=o=>e.$emit("animationiteration"))},[aM,C("path",{class:"circle-path",style:ze(e.circleStyle),d:"M12.5,0A12.5,12.5,0,1,1,0,12.5,12.5,12.5,0,0,1,12.5,0Z",transform:"translate(2.5 2.5)"},null,4)],34)),ge(e.$slots,"default",{},void 0,!0)],2)}var sM=N(lM,[["render",iM],["__scopeId","data-v-a75ea6ac"]]);const rM=z({props:{absolute:{type:Boolean,default:!1},bottom:{type:Boolean,default:!1},fixed:{type:Boolean,default:!1},indeterminate:{type:Boolean,default:!1},rounded:{type:Boolean,default:!1},top:{type:Boolean,default:!1},value:{type:Number,default:0},colorful:{type:Boolean,default:!1}},emits:["animationiteration"],setup(e){return{color:V(()=>e.value<=33?"danger":e.value<=66?"warning":"success")}}});function dM(e,t,l,n,s,u){return m(),I("div",{class:ue(["v-progress-linear",[{absolute:e.absolute,bottom:e.bottom,fixed:e.fixed,indeterminate:e.indeterminate,rounded:e.rounded,top:e.top,colorful:e.colorful},e.color]]),onAnimationiteration:t[0]||(t[0]=o=>e.$emit("animationiteration"))},[C("div",{class:"inner",style:ze({width:e.value+"%"})},null,4),ge(e.$slots,"default",{value:e.value},void 0,!0)],34)}var uM=N(rM,[["render",dM],["__scopeId","data-v-4aeb976a"]]);const cM=z({props:{value:{type:String,required:!0},modelValue:{type:String,default:null},label:{type:String,default:null},disabled:{type:Boolean,default:!1},iconOn:{type:String,default:"radio_button_checked"},iconOff:{type:String,default:"radio_button_unchecked"},block:{type:Boolean,default:!1}},emits:["update:modelValue"],setup(e,{emit:t}){const l=V(()=>e.modelValue===e.value),n=V(()=>l.value?e.iconOn:e.iconOff);return{isChecked:l,emitValue:s,icon:n};function s(){t("update:modelValue",e.value)}}}),pM=["aria-pressed","disabled"],mM={class:"label type-text"};function fM(e,t,l,n,s,u){const o=c("v-icon");return m(),I("button",{class:ue(["v-radio",{checked:e.isChecked,block:e.block}]),type:"button","aria-pressed":e.isChecked?"true":"false",disabled:e.disabled,onClick:t[0]||(t[0]=(...i)=>e.emitValue&&e.emitValue(...i))},[a(o,{name:e.icon},null,8,["name"]),C("span",mM,[ge(e.$slots,"label",{},()=>[D(b(e.label),1)],!0)])],10,pM)}var vM=N(cM,[["render",fM],["__scopeId","data-v-36e4a678"]]);function gi(e,t,l){const n=E(""),s=V({get(){return n.value||(u.value?e.value:"")},set(o){o===null?(n.value="",l(null)):(n.value=o,l(o))}}),u=V(()=>{if(t.value===null)return!1;const o=t.value.map(i=>i.value);return e.value!==null&&e.value.length>0&&o.includes(e.value)===!1});return{otherValue:s,usesOtherValue:u}}function hi(e,t,l){const n=E([]);return ye(e,o=>{o!==null&&Array.isArray(o)!==!1&&t.value!==null&&o.forEach(i=>{if(t.value===null)return;t.value.map(f=>f.value).includes(i)===!0===!1&&n.value.map(y=>y.value).includes(i)===!0===!1&&s(i)})}),{otherValues:n,addOtherValue:s,setOtherValue:u};function s(o=""){n.value=[...n.value,{key:bt(),value:o}]}function u(o,i){const d=n.value.find(f=>f.key===o),p=(e.value||[]).filter(f=>f!==(d==null?void 0:d.value));if(i===null)n.value=n.value.filter(f=>f.key!==o),p.length===0?l(null):l(p);else{n.value=n.value.map(v=>(v.key===o&&(v.value=i),v));const f=[...p,i];l(f)}}}const _M=z({name:"SelectListItem",props:{item:{type:Object,required:!0},modelValue:{type:[String,Number,Array],default:null},multiple:{type:Boolean,required:!0},allowOther:{type:Boolean,required:!0}},emits:["update:modelValue"]}),yM={key:0,class:"item-text"};function gM(e,t,l,n,s,u){const o=c("v-divider"),i=c("v-icon"),d=c("v-list-item-icon"),p=c("v-checkbox"),f=c("v-list-item-content"),v=c("v-list-item");return e.item.divider===!0?(m(),S(o,{key:0})):(m(),S(v,{key:1,active:e.multiple?(e.modelValue||[]).includes(e.item.value):e.modelValue===e.item.value,disabled:e.item.disabled,clickable:"",value:e.item.value,onClick:t[1]||(t[1]=y=>e.multiple?null:e.$emit("update:modelValue",e.item.value))},{default:r(()=>[e.multiple===!1&&e.allowOther===!1&&e.item.icon?(m(),S(d,{key:0},{default:r(()=>[a(i,{name:e.item.icon},null,8,["name"])]),_:1})):R("",!0),a(f,null,{default:r(()=>[e.multiple===!1||e.item.selectable===!1?(m(),I("span",yM,b(e.item.text),1)):(m(),S(p,{key:1,"model-value":e.modelValue||[],label:e.item.text,value:e.item.value,disabled:e.item.disabled,"onUpdate:modelValue":t[0]||(t[0]=y=>e.$emit("update:modelValue",y.length>0?y:null))},null,8,["model-value","label","value","disabled"]))]),_:1})]),_:1},8,["active","disabled","value"]))}var bi=N(_M,[["render",gM]]);const hM=z({name:"SelectListItemGroup",components:{SelectListItem:bi},props:{item:{type:Object,required:!0},modelValue:{type:[String,Number,Array],default:null},multiple:{type:Boolean,required:!0},allowOther:{type:Boolean,required:!0}},emits:["update:modelValue"]}),bM={key:0,class:"item-text"};function $M(e,t,l,n,s,u){const o=c("v-icon"),i=c("v-list-item-icon"),d=c("v-checkbox"),p=c("v-list-item-content"),f=c("select-list-item-group",!0),v=c("select-list-item"),y=c("v-list-group");return m(),S(y,{clickable:e.item.selectable,value:e.item.value},{activator:r(()=>[e.multiple===!1&&e.allowOther===!1&&e.item.icon?(m(),S(i,{key:0},{default:r(()=>[a(o,{name:e.item.icon},null,8,["name"])]),_:1})):R("",!0),a(p,null,{default:r(()=>[e.multiple===!1||e.item.selectable===!1?(m(),I("span",bM,b(e.item.text),1)):(m(),S(d,{key:1,"model-value":e.modelValue||[],label:e.item.text,value:e.item.value,disabled:e.item.disabled,"onUpdate:modelValue":t[0]||(t[0]=_=>e.$emit("update:modelValue",_.length>0?_:null))},null,8,["model-value","label","value","disabled"]))]),_:1})]),default:r(()=>[(m(!0),I(ae,null,be(e.item.children,(_,g)=>(m(),I(ae,{key:g},[_.children?(m(),S(f,{key:0,item:_,"model-value":e.modelValue,multiple:e.multiple,"allow-other":e.allowOther,"onUpdate:modelValue":t[1]||(t[1]=w=>e.$emit("update:modelValue",w))},null,8,["item","model-value","multiple","allow-other"])):(m(),S(v,{key:1,"model-value":e.modelValue,item:_,multiple:e.multiple,"allow-other":e.allowOther,"onUpdate:modelValue":t[2]||(t[2]=w=>e.$emit("update:modelValue",w))},null,8,["model-value","item","multiple","allow-other"]))],64))),128))]),_:1},8,["clickable","value"])}var wM=N(hM,[["render",$M]]);const kM=z({components:{SelectListItemGroup:wM,SelectListItem:bi},props:{items:{type:Array,required:!0},itemText:{type:String,default:"text"},itemValue:{type:String,default:"value"},itemIcon:{type:String,default:null},itemDisabled:{type:String,default:"disabled"},itemSelectable:{type:String,default:"selectable"},itemChildren:{type:String,default:"children"},modelValue:{type:[Array,String,Number,Boolean],default:null},multiple:{type:Boolean,default:!1},mandatory:{type:Boolean,default:!0},placeholder:{type:String,default:null},fullWidth:{type:Boolean,default:!0},disabled:{type:Boolean,default:!1},showDeselect:{type:Boolean,default:!1},allowOther:{type:Boolean,default:!1},closeOnContentClick:{type:Boolean,default:!0},inline:{type:Boolean,default:!1},label:{type:Boolean,default:!1},multiplePreviewThreshold:{type:Number,default:3},placement:{type:String,default:"bottom"}},emits:["update:modelValue","group-toggle"],setup(e,{emit:t}){const{t:l}=te(),{internalItems:n}=v(),{displayValue:s}=y(),{modelValue:u}=Ue(e),{otherValue:o,usesOtherValue:i}=gi(u,n,_=>t("update:modelValue",_)),{otherValues:d,addOtherValue:p,setOtherValue:f}=hi(u,n,_=>t("update:modelValue",_));return{t:l,internalItems:n,displayValue:s,otherValue:o,usesOtherValue:i,otherValues:d,addOtherValue:p,setOtherValue:f};function v(){return{internalItems:V(()=>{const g=h=>{if(typeof h=="string")return{text:h,value:h};if(h.divider===!0)return{value:null,divider:!0};const k=M.exports.get(h,e.itemChildren)?M.exports.get(h,e.itemChildren).map(g):null;return{text:M.exports.get(h,e.itemText),value:M.exports.get(h,e.itemValue),icon:M.exports.get(h,e.itemIcon),disabled:M.exports.get(h,e.itemDisabled),selectable:M.exports.get(h,e.itemSelectable),children:k}};return e.items.map(g)})}}function y(){return{displayValue:V(()=>{if(Array.isArray(e.modelValue)){if(e.modelValue.length<e.multiplePreviewThreshold)return e.modelValue.map(w=>g(w)||w).join(", ");{const w=n.value.length+d.value.length,h=e.modelValue.length;return w===h?l("all_items"):l("item_count",h)}}return g(e.modelValue)||e.modelValue})};function g(w){return h(n.value);function h(k){var A;let F=(A=k.find(P=>P.value===w))==null?void 0:A.text;for(const P of k)F||P.children&&(F=h(P.children));return F}}}}}),CM=["onClick"],SM=["placeholder"],VM=["value","placeholder","onInput","onBlur"];function FM(e,t,l,n,s,u){const o=c("v-icon"),i=c("v-input"),d=c("v-list-item-icon"),p=c("v-list-item-content"),f=c("v-list-item"),v=c("v-divider"),y=c("select-list-item-group"),_=c("select-list-item"),g=c("v-checkbox"),w=c("v-list"),h=c("v-menu"),k=we("focus");return m(),S(h,{class:"v-select",disabled:e.disabled,attached:e.inline===!1,"show-arrow":e.inline===!0,"close-on-content-click":e.closeOnContentClick,placement:e.placement},{activator:r(({toggle:F,active:A})=>[e.inline?(m(),I("div",{key:0,class:ue(["inline-display",{placeholder:!e.displayValue,label:e.label,active:A}]),onClick:F},[ge(e.$slots,"preview",{},()=>[D(b(e.displayValue||e.placeholder),1)],!0),a(o,{name:"expand_more",class:ue({active:A})},null,8,["class"])],10,CM)):ge(e.$slots,"preview",{key:1},()=>[a(i,{"full-width":e.fullWidth,readonly:"","model-value":e.displayValue,clickable:"",placeholder:e.placeholder,disabled:e.disabled,active:A,onClick:F},xe({append:r(()=>[a(o,{name:"expand_more",class:ue({active:A})},null,8,["class"]),ge(e.$slots,"append",{},void 0,!0)]),_:2},[e.$slots.prepend?{name:"prepend",fn:r(()=>[ge(e.$slots,"prepend",{},void 0,!0)])}:void 0]),1032,["full-width","model-value","placeholder","disabled","active","onClick"])],!0)]),default:r(()=>[a(w,{class:"list",mandatory:e.mandatory,onToggle:t[9]||(t[9]=F=>e.$emit("group-toggle",F))},{default:r(()=>[e.showDeselect?(m(),I(ae,{key:0},[a(f,{clickable:"",disabled:e.modelValue===null,onClick:t[0]||(t[0]=F=>e.$emit("update:modelValue",null))},{default:r(()=>[e.multiple===!0?(m(),S(d,{key:0},{default:r(()=>[a(o,{name:"close"})]),_:1})):R("",!0),a(p,null,{default:r(()=>[D(b(e.multiple?e.t("deselect_all"):e.t("deselect")),1)]),_:1}),e.multiple===!1?(m(),S(d,{key:1},{default:r(()=>[a(o,{name:"close"})]),_:1})):R("",!0)]),_:1},8,["disabled"]),a(v)],64)):R("",!0),(m(!0),I(ae,null,be(e.internalItems,(F,A)=>(m(),I(ae,{key:A},[F.children?(m(),S(y,{key:0,item:F,"model-value":e.modelValue,multiple:e.multiple,"allow-other":e.allowOther,"onUpdate:modelValue":t[1]||(t[1]=P=>e.$emit("update:modelValue",P))},null,8,["item","model-value","multiple","allow-other"])):(m(),S(_,{key:1,"model-value":e.modelValue,item:F,multiple:e.multiple,"allow-other":e.allowOther,"onUpdate:modelValue":t[2]||(t[2]=P=>e.$emit("update:modelValue",P))},null,8,["model-value","item","multiple","allow-other"]))],64))),128)),e.allowOther&&e.multiple===!1?(m(),S(f,{key:1,active:e.usesOtherValue,onClick:t[5]||(t[5]=Ae(()=>{},["stop"]))},{default:r(()=>[a(p,null,{default:r(()=>[ne(C("input",{"onUpdate:modelValue":t[3]||(t[3]=F=>e.otherValue=F),class:"other-input",placeholder:e.t("other"),onFocus:t[4]||(t[4]=F=>e.otherValue?e.$emit("update:modelValue",e.otherValue):null)},null,40,SM),[[Wl,e.otherValue]])]),_:1})]),_:1},8,["active"])):R("",!0),e.allowOther&&e.multiple===!0?(m(),I(ae,{key:2},[(m(!0),I(ae,null,be(e.otherValues,F=>(m(),S(f,{key:F.key,active:(e.modelValue||[]).includes(F.value),onClick:t[7]||(t[7]=Ae(()=>{},["stop"]))},{default:r(()=>[a(d,null,{default:r(()=>[a(g,{"model-value":e.modelValue||[],value:F.value,"onUpdate:modelValue":t[6]||(t[6]=A=>e.$emit("update:modelValue",A.length>0?A:null))},null,8,["model-value","value"])]),_:2},1024),a(p,null,{default:r(()=>[ne(C("input",{class:"other-input",value:F.value,placeholder:e.t("other"),onInput:A=>e.setOtherValue(F.key,A.target.value),onBlur:A=>F.value.length===0&&e.setOtherValue(F.key,null)},null,40,VM),[[k]])]),_:2},1024),a(d,null,{default:r(()=>[a(o,{name:"close",clickable:"",onClick:A=>e.setOtherValue(F.key,null)},null,8,["onClick"])]),_:2},1024)]),_:2},1032,["active"]))),128)),a(f,{onClick:t[8]||(t[8]=Ae(F=>e.addOtherValue(),["stop"]))},{default:r(()=>[a(d,null,{default:r(()=>[a(o,{name:"add"})]),_:1}),a(p,null,{default:r(()=>[D(b(e.t("other")),1)]),_:1})]),_:1})],64)):R("",!0)]),_:1},8,["mandatory"])]),_:3},8,["disabled","attached","show-arrow","close-on-content-click","placement"])}var AM=N(kM,[["render",FM],["__scopeId","data-v-a0800880"]]);const IM=z({props:{},setup(){return{}}}),EM={class:"v-sheet"};function DM(e,t,l,n,s,u){return m(),I("div",EM,[ge(e.$slots,"default",{},void 0,!0)])}var TM=N(IM,[["render",DM],["__scopeId","data-v-714b5c50"]]);const PM=z({props:{type:{type:String,default:"input"}}}),$i=e=>(We("data-v-9bf1f4de"),e=e(),Ge(),e),LM=$i(()=>C("div",{class:"icon"},null,-1)),OM=$i(()=>C("div",{class:"text"},null,-1));function jM(e,t,l,n,s,u){return m(),I("div",{class:ue([e.type,"v-skeleton-loader"])},[e.type==="list-item-icon"?(m(),I(ae,{key:0},[LM,OM],64)):R("",!0)],2)}var RM=N(PM,[["render",jM],["__scopeId","data-v-9bf1f4de"]]);const MM=z({props:{disabled:{type:Boolean,default:!1},showThumbLabel:{type:Boolean,default:!1},max:{type:Number,default:100},min:{type:Number,default:0},step:{type:Number,default:1},showTicks:{type:Boolean,default:!1},alwaysShowValue:{type:Boolean,default:!1},modelValue:{type:Number,default:0}},emits:["change","update:modelValue"],setup(e,{emit:t}){return{styles:V(()=>{if(e.modelValue===null)return{"--_v-slider-percentage":50};let u=(e.modelValue-e.min)/(e.max-e.min)*100;return isNaN(u)&&(u=0),{"--_v-slider-percentage":u}}),onChange:n,onInput:s};function n(u){const o=u.target;t("change",Number(o.value))}function s(u){const o=u.target;t("update:modelValue",Number(o.value))}}}),UM=e=>(We("data-v-266ebe68"),e=e(),Ge(),e),NM={key:0,class:"prepend"},BM=["disabled","value","max","min","step"],qM=UM(()=>C("div",{class:"fill"},null,-1)),zM={key:0,class:"ticks"},KM={key:1,class:"thumb-label-wrapper"},HM={key:1,class:"append"};function WM(e,t,l,n,s,u){return m(),I("div",{class:"v-slider",style:ze(e.styles)},[e.$slots.prepend?(m(),I("div",NM,[ge(e.$slots,"prepend",{value:e.modelValue},void 0,!0)])):R("",!0),C("div",{class:ue(["slider",{disabled:e.disabled}])},[C("input",{disabled:e.disabled,type:"range",value:e.modelValue,max:e.max,min:e.min,step:e.step,onChange:t[0]||(t[0]=(...o)=>e.onChange&&e.onChange(...o)),onInput:t[1]||(t[1]=(...o)=>e.onInput&&e.onInput(...o))},null,40,BM),qM,e.showTicks?(m(),I("div",zM,[(m(!0),I(ae,null,be((e.max-e.min)/e.step+1,o=>(m(),I("span",{key:o,class:"tick"}))),128))])):R("",!0),e.showThumbLabel?(m(),I("div",KM,[C("div",{class:ue(["thumb-label",{visible:e.alwaysShowValue}])},[ge(e.$slots,"thumb-label type-text",{value:e.modelValue},()=>[D(b(e.modelValue),1)],!0)],2)])):R("",!0)],2),e.$slots.append?(m(),I("div",HM,[ge(e.$slots,"append",{value:e.modelValue},void 0,!0)])):R("",!0)],4)}var GM=N(MM,[["render",WM],["__scopeId","data-v-266ebe68"]]);const JM=z({props:{value:{type:String,default:null},modelValue:{type:[Boolean,Array],default:!1},label:{type:String,default:null},disabled:{type:Boolean,default:!1}},emits:["update:modelValue"],setup(e,{emit:t}){const l=V(()=>e.modelValue instanceof Array?e.modelValue.includes(e.value):e.modelValue===!0);return{isChecked:l,toggleInput:n};function n(){if(e.modelValue instanceof Array){const s=[...e.modelValue];l.value===!1?s.push(e.value):s.splice(s.indexOf(e.value),1),t("update:modelValue",s)}else t("update:modelValue",!l.value)}}}),QM=e=>(We("data-v-9eb85040"),e=e(),Ge(),e),XM=["aria-pressed","disabled"],ZM=QM(()=>C("span",{class:"switch"},null,-1)),YM={class:"label type-label"};function xM(e,t,l,n,s,u){return m(),I("button",{class:"v-switch",type:"button",role:"switch","aria-pressed":e.isChecked?"true":"false",disabled:e.disabled,onClick:t[0]||(t[0]=(...o)=>e.toggleInput&&e.toggleInput(...o))},[ZM,C("span",YM,[ge(e.$slots,"label",{},()=>[D(b(e.label),1)],!0)])],8,XM)}var e9=N(JM,[["render",xM],["__scopeId","data-v-9eb85040"]]);const t9=z({props:{headers:{type:Array,required:!0},sort:{type:Object,required:!0},showSelect:{type:Boolean,default:!1},showResize:{type:Boolean,default:!1},showManualSort:{type:Boolean,default:!1},someItemsSelected:{type:Boolean,default:!1},allItemsSelected:{type:Boolean,default:!1},fixed:{type:Boolean,default:!1},mustSort:{type:Boolean,default:!1},hasItemAppendSlot:{type:Boolean,default:!1},manualSortKey:{type:String,default:null}},emits:["update:sort","toggle-select-all","update:headers"],setup(e,{emit:t}){const{t:l}=te(),n=E(!1),s=E(0),u=E(0),o=E(null);return Fn(window,"pointermove",M.exports.throttle(y,40)),Fn(window,"pointerup",_),{t:l,changeSort:p,dragging:n,dragHeader:o,dragStartWidth:u,dragStartX:s,getClassesForHeader:i,onMouseMove:y,onResizeHandleMouseDown:v,toggleManualSort:g,toggleSelectAll:f,getTooltipForSortIcon:d};function i(w){const h=[];return w.align&&h.push(`align-${w.align}`),w.sortable&&h.push("sortable"),e.sort.by===w.value&&(e.sort.desc===!1?h.push("sort-asc"):h.push("sort-desc")),h}function d(w){return e.sort.by===w.value&&e.sort.desc===!1?"sort_desc":"sort_asc"}function p(w){if(w.sortable!==!1&&n.value!==!0)return w.value===e.sort.by?e.mustSort?t("update:sort",{by:e.sort.by,desc:!e.sort.desc}):e.sort.desc===!1?t("update:sort",{by:e.sort.by,desc:!0}):t("update:sort",{by:null,desc:!1}):t("update:sort",{by:w.value,desc:!1})}function f(){t("toggle-select-all",!e.allItemsSelected)}function v(w,h){const F=h.target.parentElement;n.value=!0,s.value=h.pageX,u.value=F.offsetWidth,o.value=w}function y(w){if(n.value===!0){const h=u.value+(w.pageX-s.value),F=M.exports.clone(e.headers).map(A=>{var P;return A.value===((P=o.value)==null?void 0:P.value)?ke(oe({},A),{width:Math.max(32,h)}):A});t("update:headers",F)}}function _(){n.value===!0&&(n.value=!1)}function g(){e.sort.by===e.manualSortKey?t("update:sort",{by:null,desc:!1}):t("update:sort",{by:e.manualSortKey,desc:!1})}}}),n9=e=>(We("data-v-35ccb000"),e=e(),Ge(),e),l9={key:1,class:"select cell",scope:"col"},o9=["onClick"],a9=["onPointerdown"],i9=n9(()=>C("th",{class:"spacer cell",scope:"col"},null,-1)),s9={key:2,class:"spacer cell",scope:"col"};function r9(e,t,l,n,s,u){const o=c("v-icon"),i=c("v-checkbox"),d=we("tooltip");return m(),I("thead",{class:ue(["table-header",{dragging:e.dragging}])},[C("tr",{class:ue({fixed:e.fixed})},[e.showManualSort?(m(),I("th",{key:0,class:ue(["manual cell",{"sorted-manually":e.sort.by===e.manualSortKey}]),scope:"col",onClick:t[0]||(t[0]=(...p)=>e.toggleManualSort&&e.toggleManualSort(...p))},[ne(a(o,{name:"sort",small:""},null,512),[[d,e.t("toggle_manual_sorting")]])],2)):R("",!0),e.showSelect?(m(),I("th",l9,[a(i,{"model-value":e.allItemsSelected,indeterminate:e.someItemsSelected,"onUpdate:modelValue":e.toggleSelectAll},null,8,["model-value","indeterminate","onUpdate:modelValue"])])):R("",!0),(m(!0),I(ae,null,be(e.headers,p=>(m(),I("th",{key:p.value,class:ue([e.getClassesForHeader(p),"cell"]),scope:"col"},[C("div",{class:"content",onClick:f=>e.changeSort(p)},[ne(C("span",null,[ge(e.$slots,`header.${p.value}`,{header:p},()=>[D(b(p.text),1)],!0)],512),[[Dt,p.width>90||p.width===null]]),p.sortable?ne((m(),S(o,{key:0,name:"sort",class:"sort-icon",small:""},null,512)),[[d,e.t(e.getTooltipForSortIcon(p)),void 0,{top:!0}]]):R("",!0)],8,o9),e.showResize?(m(),I("span",{key:0,class:"resize-handle",onClick:t[1]||(t[1]=Ae(()=>{},["stop"])),onPointerdown:f=>e.onResizeHandleMouseDown(p,f)},null,40,a9)):R("",!0)],2))),128)),i9,e.hasItemAppendSlot?(m(),I("th",s9)):R("",!0)],2)],2)}var d9=N(t9,[["render",r9],["__scopeId","data-v-35ccb000"]]);const u9=z({props:{headers:{type:Array,required:!0},item:{type:Object,required:!0},showSelect:{type:Boolean,default:!1},showManualSort:{type:Boolean,default:!1},isSelected:{type:Boolean,default:!1},subdued:{type:Boolean,default:!1},sortedManually:{type:Boolean,default:!1},hasClickListener:{type:Boolean,default:!1},height:{type:Number,default:48}},emits:["click","item-selected"]}),c9=e=>(We("data-v-2479fb68"),e=e(),Ge(),e),p9=c9(()=>C("td",{class:"spacer cell"},null,-1));function m9(e,t,l,n,s,u){const o=c("v-icon"),i=c("v-checkbox"),d=c("v-text-overflow"),p=c("value-null");return m(),I("tr",{class:ue(["table-row",{subdued:e.subdued,clickable:e.hasClickListener}]),style:ze({"--table-row-height":e.height+2+"px","--table-row-line-height":1}),onClick:t[4]||(t[4]=f=>e.$emit("click",f))},[e.showManualSort?(m(),I("td",{key:0,class:"manual cell",onClick:t[0]||(t[0]=Ae(()=>{},["stop"]))},[a(o,{name:"drag_handle",class:ue(["drag-handle",{"sorted-manually":e.sortedManually}])},null,8,["class"])])):R("",!0),e.showSelect?(m(),I("td",{key:1,class:"select cell",onClick:t[2]||(t[2]=Ae(()=>{},["stop"]))},[a(i,{"model-value":e.isSelected,"onUpdate:modelValue":t[1]||(t[1]=f=>e.$emit("item-selected",f))},null,8,["model-value"])])):R("",!0),(m(!0),I(ae,null,be(e.headers,f=>(m(),I("td",{key:f.value,class:ue(["cell",`align-${f.align}`])},[ge(e.$slots,`item.${f.value}`,{item:e.item},()=>[f.value.split(".").reduce((v,y)=>v[y],e.item)?(m(),S(d,{key:0,text:f.value.split(".").reduce((v,y)=>v[y],e.item)},null,8,["text"])):(m(),S(p,{key:1}))],!0)],2))),128)),p9,e.$slots["item-append"]?(m(),I("td",{key:2,class:"append cell",onClick:t[3]||(t[3]=Ae(()=>{},["stop"]))},[ge(e.$slots,"item-append",{},void 0,!0)])):R("",!0)],6)}var f9=N(u9,[["render",m9],["__scopeId","data-v-2479fb68"]]);const wi={text:"",value:"",align:"left",sortable:!0,width:null},v9=z({components:{TableHeader:d9,TableRow:f9,Draggable:kt},props:{headers:{type:Array,required:!0},items:{type:Array,required:!0},itemKey:{type:String,default:"id"},sort:{type:Object,default:null},mustSort:{type:Boolean,default:!1},showSelect:{type:Boolean,default:!1},showResize:{type:Boolean,default:!1},showManualSort:{type:Boolean,default:!1},manualSortKey:{type:String,default:null},modelValue:{type:Array,default:()=>[]},fixedHeader:{type:Boolean,default:!1},loading:{type:Boolean,default:!1},loadingText:{type:String,default:qe.global.t("loading")},noItemsText:{type:String,default:qe.global.t("no_items")},serverSort:{type:Boolean,default:!1},rowHeight:{type:Number,default:48},selectionUseKeys:{type:Boolean,default:!1},inline:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},clickable:{type:Boolean,default:!0}},emits:["click:row","update:sort","update:items","item-selected","update:modelValue","manual-sort","update:headers"],setup(e,{emit:t,slots:l}){const n=V({get:()=>e.headers.map(h=>oe(oe({},wi),h)).map(h=>(h.width&&h.width<24&&(h.width=24),h)),set:h=>{t("update:headers",h.map(k=>{const F=[];return M.exports.forEach(k,(A,P)=>{A!==wi[P]&&F.push(P)}),M.exports.pick(k,F)}))}}),s=E({by:null,desc:!1}),u=V({get:()=>e.sort||s.value,set:h=>{t("update:sort",h),s.value=h}}),o=V(()=>l["item-append"]!==void 0),i=V(()=>{let h=n.value.length+1;return e.showSelect&&h++,e.showManualSort&&h++,o.value&&h++,`1 / span ${h}`}),d=V({get:()=>{if(e.serverSort===!0||u.value.by===e.manualSortKey||u.value.by===null)return e.items;const h=M.exports.sortBy(e.items,[u.value.by]);return u.value.desc===!0?h.reverse():h},set:h=>{t("update:items",h)}}),p=V(()=>e.loading===!1&&e.modelValue.length===e.items.length),f=V(()=>e.modelValue.length>0&&p.value===!1),v=V(()=>{let h=n.value.map(k=>k.width?`${k.width}px`:"160px").reduce((k,F)=>k+=" "+F,"");return e.showSelect&&(h="36px "+h),e.showManualSort&&(h="36px "+h),h=h+" 1fr",o.value&&(h+=" auto"),h});return{internalHeaders:n,internalItems:d,internalSort:u,allItemsSelected:p,getSelectedState:_,onItemSelected:y,onToggleSelectAll:g,someItemsSelected:f,onSortChange:w,fullColSpan:i,columnStyle:v,hasItemAppendSlot:o,hideDragImage:Bt};function y(h){if(e.disabled)return;t("item-selected",h);let k=M.exports.clone(e.modelValue);h.value===!0?e.selectionUseKeys?k.push(h.item[e.itemKey]):k.push(h.item):k=k.filter(F=>e.selectionUseKeys?F!==h.item[e.itemKey]:F[e.itemKey]!==h.item[e.itemKey]),t("update:modelValue",k)}function _(h){return(e.selectionUseKeys?e.modelValue:e.modelValue.map(F=>F[e.itemKey])).includes(h[e.itemKey])}function g(h){e.disabled||(h===!0?e.selectionUseKeys?t("update:modelValue",M.exports.clone(e.items).map(k=>k[e.itemKey])):t("update:modelValue",M.exports.clone(e.items)):t("update:modelValue",[]))}function w(h){if(e.disabled)return;const k=d.value[h.oldIndex][e.itemKey],F=d.value[h.newIndex][e.itemKey];t("manual-sort",{item:k,to:F})}}}),_9=["summary"],y9={key:1},g9={class:"loading-text"},h9={key:2},b9={class:"no-items-text"};function $9(e,t,l,n,s,u){const o=c("table-header"),i=c("v-progress-linear"),d=c("table-row"),p=c("draggable");return m(),I("div",{class:ue(["v-table",{loading:e.loading,inline:e.inline,disabled:e.disabled}])},[C("table",{summary:e.internalHeaders.map(f=>f.text).join(", "),style:ze({"--grid-columns":e.columnStyle})},[a(o,{headers:e.internalHeaders,"onUpdate:headers":t[0]||(t[0]=f=>e.internalHeaders=f),sort:e.internalSort,"onUpdate:sort":t[1]||(t[1]=f=>e.internalSort=f),"show-select":e.showSelect,"show-resize":e.showResize,"some-items-selected":e.someItemsSelected,"all-items-selected":e.allItemsSelected,fixed:e.fixedHeader,"show-manual-sort":e.showManualSort,"must-sort":e.mustSort,"has-item-append-slot":e.hasItemAppendSlot,"manual-sort-key":e.manualSortKey,onToggleSelectAll:e.onToggleSelectAll},xe({_:2},[be(e.internalHeaders,f=>({name:`header.${f.value}`,fn:r(()=>[ge(e.$slots,`header.${f.value}`,{header:f},void 0,!0)])}))]),1032,["headers","sort","show-select","show-resize","some-items-selected","all-items-selected","fixed","show-manual-sort","must-sort","has-item-append-slot","manual-sort-key","onToggleSelectAll"]),e.loading?(m(),I("thead",{key:0,class:ue(["loading-indicator",{sticky:e.fixedHeader}])},[C("th",{scope:"colgroup",style:ze({gridColumn:e.fullColSpan})},[e.loading?(m(),S(i,{key:0,indeterminate:""})):R("",!0)],4)],2)):R("",!0),e.loading&&e.items.length===0?(m(),I("tbody",y9,[C("tr",g9,[C("td",{style:ze({gridColumn:e.fullColSpan})},b(e.loadingText),5)])])):R("",!0),!e.loading&&e.items.length===0?(m(),I("tbody",h9,[C("tr",b9,[C("td",{style:ze({gridColumn:e.fullColSpan})},b(e.noItemsText),5)])])):(m(),S(p,{key:3,modelValue:e.internalItems,"onUpdate:modelValue":t[2]||(t[2]=f=>e.internalItems=f),"force-fallback":!0,"item-key":e.itemKey,tag:"tbody",handle:".drag-handle",disabled:e.disabled||e.internalSort.by!==e.manualSortKey,"set-data":e.hideDragImage,onEnd:e.onSortChange},{item:r(({element:f})=>[a(d,{headers:e.internalHeaders,item:f,"show-select":!e.disabled&&e.showSelect,"show-manual-sort":!e.disabled&&e.showManualSort,"is-selected":e.getSelectedState(f),subdued:e.loading,"sorted-manually":e.internalSort.by===e.manualSortKey,"has-click-listener":!e.disabled&&e.clickable,height:e.rowHeight,onClick:v=>e.clickable?e.$emit("click:row",{item:f,event:v}):null,onItemSelected:v=>e.onItemSelected({item:f,value:!e.getSelectedState(f)})},xe({_:2},[be(e.internalHeaders,v=>({name:`item.${v.value}`,fn:r(()=>[ge(e.$slots,`item.${v.value}`,{item:f},void 0,!0)])})),e.hasItemAppendSlot?{name:"item-append",fn:r(()=>[ge(e.$slots,"item-append",{item:f},void 0,!0)])}:void 0]),1032,["headers","item","show-select","show-manual-sort","is-selected","subdued","sorted-manually","has-click-listener","height","onClick","onItemSelected"])]),_:3},8,["modelValue","item-key","disabled","set-data","onEnd"]))],12,_9),ge(e.$slots,"footer",{},void 0,!0)],2)}var w9=N(v9,[["render",$9],["__scopeId","data-v-707ca9dc"]]);const k9=z({props:{value:{type:String,default:null}},setup(e){const{active:t,toggle:l}=hn({value:e.value,group:"v-tabs-items"});return{active:t,toggle:l}}}),C9={key:0,class:"v-tab-item"};function S9(e,t,l,n,s,u){return e.active?(m(),I("div",C9,[ge(e.$slots,"default",He(Ze({active:e.active,toggle:e.toggle})))])):R("",!0)}var V9=N(k9,[["render",S9]]);const F9=z({props:{disabled:{type:Boolean,default:!1},value:{type:String,default:null}},setup(e){const{active:t,toggle:l}=hn({value:e.value,group:"v-tabs"}),n=ht("v-tabs-vertical",E(!1));return{active:t,toggle:l,onClick:s,vertical:n};function s(){e.disabled===!1&&l()}}});function A9(e,t,l,n,s,u){const o=c("v-list-item");return e.vertical?(m(),S(o,{key:0,class:"v-tab vertical",active:e.active,disabled:e.disabled,clickable:"",onClick:e.onClick},{default:r(()=>[ge(e.$slots,"default",He(Ze({active:e.active,toggle:e.toggle})),void 0,!0)]),_:3},8,["active","disabled","onClick"])):(m(),I("div",{key:1,class:ue(["v-tab horizontal",{active:e.active,disabled:e.disabled}]),onClick:t[0]||(t[0]=(...i)=>e.onClick&&e.onClick(...i))},[ge(e.$slots,"default",He(Ze({active:e.active,toggle:e.toggle})),void 0,!0)],2))}var I9=N(F9,[["render",A9],["__scopeId","data-v-2c97bb1b"]]);const E9=z({props:{modelValue:{type:Array,default:void 0}},emits:["update:modelValue"],setup(e,{emit:t}){function l(n){t("update:modelValue",n)}return{update:l}}});function D9(e,t,l,n,s,u){const o=c("v-item-group");return m(),S(o,{class:"v-tabs-items","model-value":e.modelValue,scope:"v-tabs-items","onUpdate:modelValue":e.update},{default:r(()=>[ge(e.$slots,"default")]),_:3},8,["model-value","onUpdate:modelValue"])}var T9=N(E9,[["render",D9]]);const P9=z({props:{vertical:{type:Boolean,default:!1},modelValue:{type:Array,default:void 0}},emits:["update:modelValue"],setup(e,{emit:t}){const{modelValue:l,vertical:n}=Ue(e);xt("v-tabs-vertical",n);const{items:s}=Po({selection:l,onSelectionChange:u},{multiple:E(!1),mandatory:E(!0)},"v-tabs");function u(o){t("update:modelValue",o)}return{update:u,items:s}}}),L9={key:1,class:"v-tabs horizontal"};function O9(e,t,l,n,s,u){const o=c("v-list");return e.vertical?(m(),S(o,{key:0,class:"v-tabs vertical alt-colors",nav:""},{default:r(()=>[ge(e.$slots,"default")]),_:3})):(m(),I("div",L9,[ge(e.$slots,"default")]))}var j9=N(P9,[["render",O9],["__scopeId","data-v-c201e160"]]);const R9=z({props:{text:{type:[String,Number,Array,Object,Boolean],required:!0},highlight:{type:String,default:null}},setup(){const e=E(),t=E(!1),{width:l}=xn(e);return ye(l,()=>{!e.value||(t.value=e.value.offsetWidth<e.value.scrollWidth)},{immediate:!0}),{el:e,hasEllipsis:t}}}),M9={ref:"el",class:"v-text-overflow"};function U9(e,t,l,n,s,u){const o=c("v-highlight"),i=we("tooltip");return ne((m(),I("div",M9,[e.highlight?(m(),S(o,{key:0,query:e.highlight,text:e.text},null,8,["query","text"])):(m(),I(ae,{key:1},[D(b(e.text),1)],64))],512)),[[i,e.hasEllipsis&&e.text]])}var N9=N(R9,[["render",U9],["__scopeId","data-v-2955c167"]]);const B9=z({props:{disabled:{type:Boolean,default:!1},autofocus:{type:Boolean,default:!1},fullWidth:{type:Boolean,default:!0},modelValue:{type:String,default:null},nullable:{type:Boolean,default:!0},expandOnFocus:{type:Boolean,default:!1},placeholder:{type:String,default:null},trim:{type:Boolean,default:!1}},emits:["update:modelValue"],setup(e,{emit:t}){const l=V(()=>({input:s,blur:u})),n=V(()=>e.modelValue&&e.modelValue.length>0);return{listeners:l,hasContent:n};function s(o){const i=o.target.value;e.nullable===!0&&i===""?t("update:modelValue",null):t("update:modelValue",i)}function u(){e.modelValue&&e.trim&&t("update:modelValue",e.modelValue.trim())}}}),q9={key:0,class:"prepend"},z9=["placeholder","disabled","value"],K9={key:1,class:"append"};function H9(e,t,l,n,s,u){const o=we("focus");return m(),I("div",{class:ue(["v-textarea",{disabled:e.disabled,"expand-on-focus":e.expandOnFocus,"full-width":e.fullWidth,"has-content":e.hasContent}])},[e.$slots.prepend?(m(),I("div",q9,[ge(e.$slots,"prepend",{},void 0,!0)])):R("",!0),ne(C("textarea",ut(e.$attrs,{placeholder:e.placeholder,disabled:e.disabled,value:e.modelValue},Hl(e.listeners)),null,16,z9),[[o,e.autofocus]]),e.$slots.append?(m(),I("div",K9,[ge(e.$slots,"append",{},void 0,!0)])):R("",!0)],2)}var W9=N(B9,[["render",H9],["__scopeId","data-v-12e4b7cd"]]);const G9=z({components:{SearchInput:kn},props:{active:{type:Boolean,default:!1},selection:{type:Array,default:()=>[]},collection:{type:String,required:!0},multiple:{type:Boolean,default:!1},filter:{type:Object,default:null}},emits:["update:active","input"],setup(e,{emit:t}){const{t:l}=te(),{save:n,cancel:s}=U(),{internalActive:u}=L(),{internalSelection:o,onSelect:i}=O(),{collection:d}=Ue(e),{info:p}=ot(d),{layout:f,layoutOptions:v,layoutQuery:y,search:_,filter:g}=wn(d,E(null),!0),w=E(f.value||"tabular"),h=E(v.value),k=E(y.value),F=V({get(){return o.value},set(T){i(T)}}),{layoutWrapper:A}=pn(f),P=V({get(){return e.filter?g.value?{_and:[e.filter,g.value]}:e.filter:g.value},set(T){g.value=T}});return{t:l,save:n,cancel:s,internalActive:u,layoutWrapper:A,layoutSelection:F,layoutFilter:P,localLayout:w,localOptions:h,localQuery:k,collectionInfo:p,search:_,presetFilter:g};function L(){const T=E(!1);return{internalActive:V({get(){return e.active===void 0?T.value:e.active},set(q){T.value=q,t("update:active",q)}})}}function O(){const T=E(null),B=V({get(){return T.value===null?e.selection:T.value},set(K){T.value=K}});return ye(()=>e.active,()=>{T.value=null}),{internalSelection:B,onSelect:q};function q(K){if(K.length===0){T.value=[];return}e.multiple===!0?T.value=K:T.value=[K[K.length-1]]}}function U(){return{save:T,cancel:B};function T(){t("input",o.value),u.value=!1}function B(){u.value=!1}}}});function J9(e,t,l,n,s,u){const o=c("v-breadcrumb"),i=c("v-icon"),d=c("v-button"),p=c("search-input"),f=c("v-info"),v=c("v-drawer"),y=we("tooltip");return m(),S(Be(e.layoutWrapper),{selection:e.layoutSelection,"onUpdate:selection":t[3]||(t[3]=_=>e.layoutSelection=_),"layout-options":e.localOptions,"onUpdate:layout-options":t[4]||(t[4]=_=>e.localOptions=_),"layout-query":e.localQuery,"onUpdate:layout-query":t[5]||(t[5]=_=>e.localQuery=_),filter:e.layoutFilter,search:e.search,collection:e.collection,"select-mode":""},{default:r(({layoutState:_})=>[a(v,{modelValue:e.internalActive,"onUpdate:modelValue":t[2]||(t[2]=g=>e.internalActive=g),title:e.t("select_item"),onCancel:e.cancel},{subtitle:r(()=>[a(o,{items:[{name:e.collectionInfo.name,disabled:!0}]},null,8,["items"])]),"title-outer:prepend":r(()=>[a(d,{class:"header-icon",rounded:"",icon:"",secondary:"",disabled:""},{default:r(()=>[a(i,{name:e.collectionInfo.icon,color:e.collectionInfo.color},null,8,["name","color"])]),_:1})]),"actions:prepend":r(()=>[(m(),S(Be(`layout-actions-${e.localLayout}`),He(Ze(_)),null,16))]),actions:r(()=>[a(p,{modelValue:e.search,"onUpdate:modelValue":t[0]||(t[0]=g=>e.search=g),filter:e.presetFilter,"onUpdate:filter":t[1]||(t[1]=g=>e.presetFilter=g),collection:e.collection},null,8,["modelValue","filter","collection"]),ne(a(d,{icon:"",rounded:"",onClick:e.save},{default:r(()=>[a(i,{name:"check"})]),_:1},8,["onClick"]),[[y,e.t("save"),void 0,{bottom:!0}]])]),default:r(()=>[(m(),S(Be(`layout-${e.localLayout}`),ut({class:"layout"},_),{"no-results":r(()=>[a(f,{title:e.t("item_count",0),icon:e.collectionInfo.icon,center:""},null,8,["title","icon"])]),"no-items":r(()=>[a(f,{title:e.t("item_count",0),icon:e.collectionInfo.icon,center:""},null,8,["title","icon"])]),_:2},1040))]),_:2},1032,["modelValue","title","onCancel"])]),_:1},8,["selection","layout-options","layout-query","filter","search","collection"])}var Xt=N(G9,[["render",J9],["__scopeId","data-v-1f94c5ba"]]);const Q9=z({components:{DrawerCollection:Xt},props:{multiple:{type:Boolean,default:!1},preset:{type:Object,default:()=>({})},fileId:{type:String,default:null},fromUrl:{type:Boolean,default:!1},fromLibrary:{type:Boolean,default:!1},folder:{type:String,default:void 0}},emits:["input"],setup(e,{emit:t}){const{t:l}=te(),{uploading:n,progress:s,upload:u,onBrowseSelect:o,done:i,numberOfFiles:d}=A(),{onDragEnter:p,onDragLeave:f,onDrop:v,dragging:y}=P(),{url:_,isValidURL:g,loading:w,importFromURL:h}=O(),{setSelection:k}=L(),F=E(null);return{t:l,uploading:n,progress:s,onDragEnter:p,onDragLeave:f,onDrop:v,dragging:y,onBrowseSelect:o,done:i,numberOfFiles:d,activeDialog:F,url:_,isValidURL:g,urlLoading:w,importFromURL:h,setSelection:k};function A(){const U=E(!1),T=E(0),B=E(0),q=E(0);return{uploading:U,progress:T,upload:K,onBrowseSelect:H,numberOfFiles:B,done:q};async function K(Y){U.value=!0,T.value=0;const J={};e.folder&&(J.folder=e.folder);try{if(B.value=Y.length,e.multiple===!0){const re=await Ia(Array.from(Y),{onProgressChange:fe=>{T.value=Math.round(fe.reduce((X,x)=>X+=x)/Y.length),q.value=fe.filter(X=>X===100).length},preset:oe(oe({},e.preset),J)});re&&t("input",re)}else{const re=await Aa(Array.from(Y)[0],{onProgressChange:fe=>{T.value=fe,q.value=fe===100?1:0},fileId:e.fileId,preset:oe(oe({},e.preset),J)});re&&t("input",re)}}catch(re){Se(re)}finally{U.value=!1,q.value=0,B.value=0}}function H(Y){var re;const J=(re=Y.target)==null?void 0:re.files;J&&K(J)}}function P(){const U=E(!1);let T=0;return{onDragEnter:B,onDragLeave:q,onDrop:K,dragging:U};function B(){T++,T===1&&(U.value=!0)}function q(){T--,T===0&&(U.value=!1)}function K(H){var J;T=0,U.value=!1;const Y=(J=H.dataTransfer)==null?void 0:J.files;Y&&u(Y)}}function L(){return{setSelection:U};async function U(T){if(T[0]){const B=T[0],q=await pe.get(`/files/${B}`);t("input",q.data.data)}else t("input",null)}}function O(){const U=E(""),T=E(!1),B=V(()=>{try{return new URL(U.value),!0}catch{return!1}});return{url:U,loading:T,isValidURL:B,importFromURL:q};async function q(){T.value=!0;try{const K=await pe.post("/files/import",{url:U.value,data:{folder:e.folder}});Xn.emit(yn.upload),e.multiple?t("input",[K.data.data]):t("input",K.data.data),F.value=null,U.value=""}catch(K){Se(K)}finally{T.value=!1}}}}}),X9={class:"type-label"},Z9={class:"type-text"},Y9={class:"type-label"},x9={class:"type-text"},eU={class:"type-label"},tU={class:"type-text"},nU=["multiple"];function lU(e,t,l,n,s,u){const o=c("v-progress-linear"),i=c("v-icon"),d=c("v-list-item-icon"),p=c("v-list-item-content"),f=c("v-list-item"),v=c("v-list"),y=c("v-menu"),_=c("drawer-collection"),g=c("v-card-title"),w=c("v-input"),h=c("v-card-text"),k=c("v-button"),F=c("v-card-actions"),A=c("v-card"),P=c("v-dialog");return m(),I("div",{"data-dropzone":"",class:ue(["v-upload",{dragging:e.dragging,uploading:e.uploading}]),onDragenter:t[8]||(t[8]=Ae((...L)=>e.onDragEnter&&e.onDragEnter(...L),["prevent"])),onDragover:t[9]||(t[9]=Ae(()=>{},["prevent"])),onDragleave:t[10]||(t[10]=Ae((...L)=>e.onDragLeave&&e.onDragLeave(...L),["prevent"])),onDrop:t[11]||(t[11]=Ae((...L)=>e.onDrop&&e.onDrop(...L),["stop","prevent"]))},[e.dragging?(m(),I(ae,{key:0},[C("p",X9,b(e.t("drop_to_upload")),1),C("p",Z9,b(e.t("upload_pending")),1)],64)):e.uploading?(m(),I(ae,{key:1},[C("p",Y9,b(e.progress)+"%",1),C("p",x9,b(e.multiple&&e.numberOfFiles>1?e.t("upload_files_indeterminate",{done:e.done,total:e.numberOfFiles}):e.t("upload_file_indeterminate")),1),a(o,{value:e.progress,rounded:""},null,8,["value"])],64)):(m(),I(ae,{key:2},[C("p",eU,b(e.t("drag_file_here")),1),C("p",tU,b(e.t("click_to_browse")),1),C("input",{class:"browse",type:"file",multiple:e.multiple,onInput:t[0]||(t[0]=(...L)=>e.onBrowseSelect&&e.onBrowseSelect(...L))},null,40,nU),e.fromUrl!==!1||e.fromLibrary!==!1?(m(),I(ae,{key:0},[a(y,{"show-arrow":"",placement:"bottom-end"},{activator:r(({toggle:L})=>[a(i,{clickable:"",class:"options",name:"more_vert",onClick:L},null,8,["onClick"])]),default:r(()=>[a(v,null,{default:r(()=>[e.fromLibrary?(m(),S(f,{key:0,clickable:"",onClick:t[1]||(t[1]=L=>e.activeDialog="choose")},{default:r(()=>[a(d,null,{default:r(()=>[a(i,{name:"folder_open"})]),_:1}),a(p,null,{default:r(()=>[D(b(e.t("choose_from_library")),1)]),_:1})]),_:1})):R("",!0),e.fromUrl?(m(),S(f,{key:1,clickable:"",onClick:t[2]||(t[2]=L=>e.activeDialog="url")},{default:r(()=>[a(d,null,{default:r(()=>[a(i,{name:"link"})]),_:1}),a(p,null,{default:r(()=>[D(b(e.t("import_from_url")),1)]),_:1})]),_:1})):R("",!0)]),_:1})]),_:1}),a(_,{collection:"directus_files",active:e.activeDialog==="choose","onUpdate:active":t[3]||(t[3]=L=>e.activeDialog=null),onInput:e.setSelection},null,8,["active","onInput"]),a(P,{"model-value":e.activeDialog==="url",persistent:e.urlLoading,onEsc:t[6]||(t[6]=L=>e.activeDialog=null),"onUpdate:modelValue":t[7]||(t[7]=L=>e.activeDialog=null)},{default:r(()=>[a(A,null,{default:r(()=>[a(g,null,{default:r(()=>[D(b(e.t("import_from_url")),1)]),_:1}),a(h,null,{default:r(()=>[a(w,{modelValue:e.url,"onUpdate:modelValue":t[4]||(t[4]=L=>e.url=L),autofocus:"",placeholder:e.t("url"),nullable:!1,disabled:e.urlLoading},null,8,["modelValue","placeholder","disabled"])]),_:1}),a(F,null,{default:r(()=>[a(k,{disabled:e.urlLoading,secondary:"",onClick:t[5]||(t[5]=L=>e.activeDialog=null)},{default:r(()=>[D(b(e.t("cancel")),1)]),_:1},8,["disabled"]),a(k,{loading:e.urlLoading,disabled:e.isValidURL===!1,onClick:e.importFromURL},{default:r(()=>[D(b(e.t("import_label")),1)]),_:1},8,["loading","disabled","onClick"])]),_:1})]),_:1})]),_:1},8,["model-value","persistent"])],64)):R("",!0)],64))],34)}var oU=N(Q9,[["render",lU],["__scopeId","data-v-89189be6"]]);function aU(e){e.component("VAvatar",tP),e.component("VBadge",aP),e.component("VBreadcrumb",uP),e.component("VButton",fP),e.component("VCardActions",gP),e.component("VCardSubtitle",wP),e.component("VCardText",VP),e.component("VCardTitle",EP),e.component("VCard",PP),e.component("VCheckbox",UP),e.component("VCheckboxTree",HP),e.component("VChip",QP),e.component("VDetail",xP),e.component("VDialog",lL),e.component("VDivider",dL),e.component("VError",LL),e.component("VFancySelect",zL),e.component("VFieldTemplate",nO),e.component("VFieldSelect",JL),e.component("VForm",wO),e.component("VHover",SO),e.component("VHighlight",AO),e.component("VIcon",zR),e.component("VInfo",QR),e.component("VInput",i7),e.component("VItemGroup",u7),e.component("VItem",f7),e.component("VListGroup",h7),e.component("VListItemContent",k7),e.component("VListItemHint",V7),e.component("VListItemIcon",I7),e.component("VListItem",T7),e.component("VList",O7),e.component("VMenu",N7),e.component("VDrawer",EL),e.component("VNotice",z7),e.component("VOverlay",Q7),e.component("VPagination",nM),e.component("VProgressCircular",sM),e.component("VProgressLinear",uM),e.component("VRadio",vM),e.component("VSelect",AM),e.component("VSheet",TM),e.component("VSkeletonLoader",RM),e.component("VSlider",GM),e.component("VSwitch",e9),e.component("VTabItem",V9),e.component("VTab",I9),e.component("VTable",w9),e.component("VTabsItems",T9),e.component("VTabs",j9),e.component("VTextarea",W9),e.component("VTextOverflow",N9),e.component("VUpload",oU),e.component("TransitionBounce",H6),e.component("TransitionDialog",J6),e.component("TransitionExpand",Y6),e.component("RenderDisplay",_6),e.component("RenderTemplate",C6),e.component("ExportSidebarDetail",m6),e.component("SidebarDetail",E6),e.component("UserPopover",U6),e.component("ValueNull",ln),e.component("DocsWrapper",q6)}const ki=(e,{value:t})=>{const{handler:l,middleware:n,events:s,disabled:u}=sU(t);ye(()=>t,o=>{JSON.stringify(o)!==JSON.stringify(t)&&Si(e,{value:o,oldValue:null})}),u!==!0&&(e.$clickOutsideHandlers=s.map(o=>({event:o,handler:i=>rU({event:i,el:e,handler:l,middleware:n})})),e.$clickOutsideHandlers.forEach(({event:o,handler:i})=>{setTimeout(()=>{!e.$clickOutsideHandlers||document.documentElement.addEventListener(o,i,!1)})}))},Ci=e=>{(e.$clickOutsideHandlers||[]).forEach(({event:l,handler:n})=>{document.documentElement.removeEventListener(l,n,!1)})},Si=(e,{value:t,oldValue:l})=>{JSON.stringify(t)!==JSON.stringify(l)&&(Ci(e),ki(e,{value:t}))},iU={beforeMount:ki,unmounted:Ci,updated:Si};function sU(e){const t=typeof e=="function";let l;if(t)l={handler:e,middleware:()=>!0,events:["pointerdown"],disabled:!1};else{const n=e;l={handler:n.handler||(()=>{}),middleware:n.middleware||(()=>!0),events:n.events||["pointerdown"],disabled:n.disabled!==void 0?!!n.disabled:!1}}return l}function rU({el:e,event:t,handler:l,middleware:n}){t.stopPropagation();const s=t.composedPath();(s?s.indexOf(e)<0:e.contains(t.target)===!1)!==!1&&n(t)&&l(t)}const dU={mounted(e,t){t.value?e.focus():e.blur()}},uU=300,Pl={};function Lo(e,t){t.value&&(e.dataset.tooltip=bt(),Pl[e.dataset.tooltip]=pU(e,t),e.addEventListener("mouseenter",Pl[e.dataset.tooltip]),e.addEventListener("mouseleave",Vi))}function Oo(e){e.removeEventListener("mouseenter",Pl[e.dataset.tooltip]),e.removeEventListener("mouseleave",Vi),clearTimeout(Ll),jo().classList.remove("visible"),delete Pl[e.dataset.tooltip]}const cU={beforeMount:Lo,unmounted:Oo,updated(e,t){t.value&&!t.oldValue?Lo(e,t):!t.value&&t.oldValue?Oo(e):(Oo(e),Lo(e,t))}};let Ll;function pU(e,t){return()=>{const l=jo();t.modifiers.instant?(Ai(l),Fi(e,t,l)):(clearTimeout(Ll),Ll=window.setTimeout(()=>{Ai(l),Fi(e,t,l)},uU))}}function Vi(){const e=jo();clearTimeout(Ll),mU(e)}function Fi(e,t,l){const n=10,s=20,u=e.getBoundingClientRect();let o=u.top+pageYOffset,i=u.left+pageXOffset,d;l.innerText=t.value,l.classList.remove("top","bottom","left","right","start","end"),t.modifiers.inverted?l.classList.add("inverted"):l.classList.remove("inverted"),t.modifiers.monospace&&l.classList.add("monospace"),t.modifiers.bottom?(t.modifiers.start?(i+=s,d=100,l.classList.add("start")):t.modifiers.end?(i+=u.width-s,d=0,l.classList.add("end")):(i+=u.width/2,d=50),o+=u.height+n,l.style.transform=`translate(calc(${i}px - ${d}%), ${o}px)`,l.classList.add("bottom")):t.modifiers.left?(t.modifiers.start?(o+=s,d=100,l.classList.add("start")):t.modifiers.end?(o+=u.height-s,d=0,l.classList.add("end")):(o+=u.height/2,d=50),i-=n,l.style.transform=`translate(calc(${i}px - 100%), calc(${o}px - ${d}%))`,l.classList.add("left")):t.modifiers.right?(t.modifiers.start?(o+=s,d=100,l.classList.add("start")):t.modifiers.end?(o+=u.height-s,d=0,l.classList.add("end")):(o+=u.height/2,d=50),i+=u.width+n,l.style.transform=`translate(${i}px, calc(${o}px - ${d}%))`,l.classList.add("right")):(t.modifiers.start?(i+=s,d=100,l.classList.add("start")):t.modifiers.end?(i+=u.width-s,d=0,l.classList.add("end")):(i+=u.width/2,d=50),o-=n,l.style.transform=`translate(calc(${i}px - ${d}%), calc(${o}px - 100%))`,l.classList.add("top"))}function Ai(e){e.classList.add("visible","enter"),e.classList.remove("leave","leave-active"),setTimeout(()=>{e.classList.contains("enter")!==!1&&(e.classList.add("enter-active"),e.classList.remove("enter"))},1),setTimeout(()=>{e.classList.remove("enter-active")},200)}function mU(e){e.classList.contains("visible")!==!1&&(e.classList.add("visible","leave"),e.classList.remove("enter","enter-active"),setTimeout(()=>{e.classList.contains("leave")!==!1&&(e.classList.add("leave-active"),e.classList.remove("leave"))},1),setTimeout(()=>{e.classList.contains("leave-active")!==!1&&(e.classList.remove("leave-active"),e.classList.remove("visible"))},200))}function jo(){let e=document.getElementById("tooltip");return e instanceof HTMLElement||(e=document.createElement("div"),e.id="tooltip",document.body.appendChild(e)),e}const fU={beforeMount(e,t){var l;e.innerHTML=Fl((l=t.value)!=null?l:"")},updated(e,t){var l;e.innerHTML=Fl((l=t.value)!=null?l:"")}};function vU(e){e.directive("focus",dU),e.directive("tooltip",cU),e.directive("click-outside",iU),e.directive("md",fU)}const _U=z({props:{showHeader:{type:Boolean,default:!1},text:{type:String,default:""},color:{type:String,default:void 0}}});function yU(e,t,l,n,s,u){return m(),I("div",{class:ue(["label type-title selectable",{"has-header":e.showHeader}]),style:ze({color:e.color})},b(e.text),7)}var gU=N(_U,[["render",yU],["__scopeId","data-v-b5689fe6"]]),hU=fl({id:"label",name:"$t:panels.label.name",description:"$t:panels.label.description",icon:"title",component:gU,options:[{field:"text",name:"$t:label",type:"string",meta:{interface:"input",width:"half"}},{field:"color",name:"$t:color",type:"string",meta:{interface:"select-color",width:"half",options:{placeholder:"$t:automatic"}}}],minWidth:12,minHeight:8}),bU=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:hU});const $U=z({components:{FilePreview:co},props:{active:{type:Boolean,default:!1},collection:{type:String,required:!0},primaryKey:{type:[String,Number],required:!0},edits:{type:Object,default:void 0},junctionField:{type:String,default:null},relatedPrimaryKey:{type:[String,Number],default:"+"},circularField:{type:String,default:null}},emits:["update:active","input"],setup(e,{emit:t}){const{t:l,te:n}=te(),s=Te(),u=mt(),{internalActive:o}=re(),{junctionFieldInfo:i,junctionRelatedCollection:d,junctionRelatedCollectionInfo:p,setJunctionEdits:f}=X(),{internalEdits:v,loading:y,item:_}=fe(),{save:g,cancel:w}=x(),{collection:h}=Ue(e),{info:k}=ot(h),F=V(()=>{const ee=(p==null?void 0:p.value)||k.value,se=e.primaryKey==="+";return n(`collection_names_singular.${ee.collection}`)?se?l("creating_unit",{unit:l(`collection_names_singular.${ee.collection}`)}):l("editing_unit",{unit:l(`collection_names_singular.${ee.collection}`)}):se?l("creating_in",{collection:ee.name}):l("editing_in",{collection:ee.name})}),A=V(()=>s.getFieldsForCollection(e.collection).filter(ee=>{var se;return((se=ee.meta)==null?void 0:se.hidden)!==!0}).length>0),{fields:P}=Wn(d,V(()=>_.value&&_.value[e.junctionField]),V(()=>e.primaryKey==="+")),{fields:L}=Wn(h,_,V(()=>e.primaryKey==="+")),O=V(()=>e.circularField?L.value.filter(ee=>ee.field!==e.circularField):L.value),U=V(()=>i.value?String(e.relatedPrimaryKey):String(e.primaryKey)),T=V(()=>p.value||k.value),{templateData:B,loading:q}=wa(T,U),K=V(()=>{var ee,se,W,G;return((se=(ee=p.value)==null?void 0:ee.meta)==null?void 0:se.display_template)||((G=(W=k.value)==null?void 0:W.meta)==null?void 0:G.display_template)||null}),{file:H,isDirectusFiles:Y}=J();return{t:l,internalActive:o,internalEdits:v,loading:y,item:_,save:g,cancel:w,title:F,junctionFieldInfo:i,junctionRelatedCollection:d,setJunctionEdits:f,showDivider:A,junctionRelatedCollectionFields:P,fields:O,template:K,templateCollection:T,templatePrimaryKey:U,templateData:B,templateDataLoading:q,collectionInfo:k,file:H,isDirectusFiles:Y};function J(){const ee=V(()=>d.value==="directus_files");return{file:V(()=>{var le;if(ee.value===!1||!_.value)return null;const W=(le=_.value)==null?void 0:le[e.junctionField];if(!W)return null;const G=dt(Je()+`assets/${W.id}?key=system-large-contain`);return ke(oe({},W),{src:G})}),isDirectusFiles:ee}}function re(){const ee=E(!1);return{internalActive:V({get(){return e.active===void 0?ee.value:e.active},set(W){ee.value=W,t("update:active",W)}})}}function fe(){const ee=E({}),se=V({get(){return e.edits!==void 0?oe(oe({},e.edits),ee.value):ee.value},set(ce){ee.value=ce}}),W=E(!1),G=E(null);return ye(()=>e.active,ce=>{ce===!0?(e.primaryKey!=="+"&&le(),e.relatedPrimaryKey!=="+"&&Z()):(W.value=!1,G.value=null,ee.value={})},{immediate:!0}),{internalEdits:se,loading:W,item:G,fetchItem:le};async function le(){W.value=!0;const ce=e.collection.startsWith("directus_")?`/${e.collection.substring(9)}/${e.primaryKey}`:`/items/${e.collection}/${encodeURIComponent(e.primaryKey)}`;let ve="*";e.junctionField&&(ve=`*,${e.junctionField}.*`);try{const Q=await pe.get(ce,{params:{fields:ve}});G.value=Q.data.data}catch(Q){Se(Q)}finally{W.value=!1}}async function Z(){W.value=!0;const ce=d.value,ve=ce.startsWith("directus_")?`/${ce.substring(9)}/${e.relatedPrimaryKey}`:`/items/${ce}/${encodeURIComponent(e.relatedPrimaryKey)}`;try{const Q=await pe.get(ve);G.value=ke(oe({},G.value||{}),{[i.value.field]:Q.data.data})}catch(Q){Se(Q)}finally{W.value=!1}}}function X(){const ee=V(()=>e.junctionField?s.getField(e.collection,e.junctionField):null),se=V(()=>{var ce,ve;if(!e.junctionField)return null;const Z=u.getRelationsForField(e.collection,e.junctionField).find(Q=>Q.collection===e.collection&&Q.field===e.junctionField);return Z.related_collection?Z.related_collection:((ce=Z.meta)==null?void 0:ce.one_collection_field)?e.edits[Z.meta.one_collection_field]||((ve=_.value)==null?void 0:ve[Z.meta.one_collection_field]):null}),{info:W}=ot(se);return{junctionFieldInfo:ee,junctionRelatedCollection:se,junctionRelatedCollectionInfo:W,setJunctionEdits:G};function G(le){!e.junctionField||(v.value=ke(oe({},v.value),{[e.junctionField]:le}))}}function x(){return{save:ee,cancel:se};function ee(){t("input",v.value),o.value=!1,v.value={}}function se(){o.value=!1,v.value={}}}}}),wU={key:1,class:"type-title"},kU={class:"drawer-item-content"};function CU(e,t,l,n,s,u){const o=c("v-skeleton-loader"),i=c("render-template"),d=c("v-breadcrumb"),p=c("v-icon"),f=c("v-button"),v=c("file-preview"),y=c("v-form"),_=c("v-divider"),g=c("v-drawer"),w=we("tooltip");return m(),S(g,{modelValue:e.internalActive,"onUpdate:modelValue":t[1]||(t[1]=h=>e.internalActive=h),title:e.title,persistent:"",onCancel:e.cancel},xe({subtitle:r(()=>[a(d,{items:[{name:e.collectionInfo.name,disabled:!0}]},null,8,["items"])]),actions:r(()=>[ge(e.$slots,"actions",{},void 0,!0),ne(a(f,{icon:"",rounded:"",onClick:e.save},{default:r(()=>[a(p,{name:"check"})]),_:1},8,["onClick"]),[[w,e.t("save"),void 0,{bottom:!0}]])]),default:r(()=>[C("div",kU,[e.junctionField?(m(),I(ae,{key:0},[e.file?(m(),S(v,{key:0,src:e.file.src,mime:e.file.type,width:e.file.width,height:e.file.height,title:e.file.title,"in-modal":!0},null,8,["src","mime","width","height","title"])):R("",!0),a(y,{loading:e.loading,"initial-values":e.item&&e.item[e.junctionField],"primary-key":e.relatedPrimaryKey,"model-value":e.internalEdits[e.junctionField],fields:e.junctionRelatedCollectionFields,autofocus:"","onUpdate:modelValue":e.setJunctionEdits},null,8,["loading","initial-values","primary-key","model-value","fields","onUpdate:modelValue"]),e.showDivider?(m(),S(_,{key:1})):R("",!0)],64)):R("",!0),a(y,{modelValue:e.internalEdits,"onUpdate:modelValue":t[0]||(t[0]=h=>e.internalEdits=h),loading:e.loading,"initial-values":e.item,"primary-key":e.primaryKey,fields:e.fields},null,8,["modelValue","loading","initial-values","primary-key","fields"])])]),_:2},[e.template!==null&&e.templateData&&e.primaryKey!=="+"?{name:"title",fn:r(()=>[e.loading||e.templateDataLoading?(m(),S(o,{key:0,class:"title-loader",type:"text"})):(m(),I("h1",wU,[a(i,{collection:e.templateCollection.collection,item:e.templateData,template:e.template},null,8,["collection","item","template"])]))])}:void 0]),1032,["modelValue","title","onCancel"])}var qt=N($U,[["render",CU],["__scopeId","data-v-13e1ca41"]]);function Zt(e,t){const l=Te(),{displays:n}=tn();return e.map(u=>{var p,f;const o=l.getField(t,u);if(!o||((p=o.meta)==null?void 0:p.display)===null)return u;const i=n.value.find(v=>{var y;return v.id===((y=o.meta)==null?void 0:y.display)});if(!i||!(i==null?void 0:i.fields))return u;let d=null;return Array.isArray(i.fields)&&(d=i.fields.map(v=>`${u}.${v}`)),typeof i.fields=="function"&&(d=i.fields((f=o.meta)==null?void 0:f.display_options,{collection:o.collection,field:o.field,type:o.type}).map(v=>`${u}.${v}`)),d?d.map(v=>v.includes("$thumbnail")&&o.collection==="directus_files"?v.split(".").filter(y=>y!=="$thumbnail").join("."):v):u}).flat()}const SU=z({components:{DrawerItem:qt},props:{showHeader:{type:Boolean,default:!1},displayTemplate:{type:String,default:""},sortField:{type:String,default:void 0},sortDirection:{type:String,default:"desc"},collection:{type:String,required:!0},limit:{type:Number,default:5},filter:{type:Object,default:()=>({})}},setup(e){const{t}=te(),l=E(),n=E(),s=Te(),u=E([]),o=E(!1),i=E(),d=V(()=>u.value&&u.value.length>0),p=V(()=>e.displayTemplate),f=V(()=>s.getPrimaryKeyFieldForCollection(e.collection));return v(),ye(()=>e,(w,h)=>{M.exports.isEqual(w,h)||v()},{deep:!0,immediate:!0}),{list:u,loading:o,renderTemplate:p,primaryKeyField:f,startEditing:y,saveEdits:_,cancelEdit:g,currentlyEditing:l,editsAtStart:n,hasData:d,t};async function v(){var w;if(!!e){o.value=!0;try{const h=e.sortField,k=await pe.get(Jt(e.collection),{params:{fields:[f.value.field,...Zt(yt(p.value),e.collection)],filter:e.filter,sort:e.sortDirection==="desc"?`-${h}`:h,limit:(w=e.limit)!=null?w:5}});u.value=k.data.data}catch(h){i.value=h,Se(h)}finally{o.value=!1}}}function y(w){l.value=w[f.value.field],n.value=w}async function _(w){try{await pe.patch(`/items/${e.collection}/${l.value}`,w)}catch(h){Se(h)}await v()}function g(){n.value=void 0,l.value=void 0}}}),VU=e=>(We("data-v-55018d78"),e=e(),Ge(),e),FU={key:1,class:"type-note"},AU={key:2},IU=VU(()=>C("div",{class:"spacer"},null,-1));function EU(e,t,l,n,s,u){var v;const o=c("v-progress-circular"),i=c("render-template"),d=c("v-list-item"),p=c("v-list"),f=c("drawer-item");return m(),I("div",{class:ue(["list",{"has-header":e.showHeader,loading:e.loading,"no-data":!e.hasData}])},[e.loading?(m(),S(o,{key:0,indeterminate:""})):e.hasData?(m(),I("div",AU,[a(p,null,{default:r(()=>[(m(!0),I(ae,null,be(e.list,y=>(m(),S(d,{key:y[e.primaryKeyField.field],class:"selectable",clickable:"",onClick:_=>e.startEditing(y)},{default:r(()=>[a(i,{item:y,collection:e.collection,template:e.renderTemplate},null,8,["item","collection","template"]),IU]),_:2},1032,["onClick"]))),128))]),_:1})])):(m(),I("span",FU,b(e.t("no_data")),1)),a(f,{active:!!e.currentlyEditing,collection:e.collection,"primary-key":(v=e.currentlyEditing)!=null?v:"+",edits:e.editsAtStart,onInput:e.saveEdits,"onUpdate:active":e.cancelEdit},null,8,["active","collection","primary-key","edits","onInput","onUpdate:active"])],2)}var DU=N(SU,[["render",EU],["__scopeId","data-v-55018d78"]]),TU=fl({id:"list",name:"$t:panels.list.name",description:"$t:panels.list.description",icon:"list",component:DU,options:[{field:"collection",type:"string",name:"$t:collection",meta:{interface:"system-collection",options:{includeSystem:!0},width:"half"}},{field:"limit",type:"integer",name:"$t:limit",schema:{default_value:5},meta:{interface:"input",width:"half"}},{field:"sortField",type:"string",name:"$t:sort_field",meta:{interface:"system-field",options:{collectionField:"collection",allowPrimaryKey:!0,placeholder:"$t:primary_key"},width:"half"}},{field:"sortDirection",type:"string",name:"$t:sort_direction",schema:{default_value:"desc"},meta:{interface:"select-dropdown",options:{choices:[{text:"$t:sort_asc",value:"asc"},{text:"$t:sort_desc",value:"desc"}]},width:"half"}},{field:"displayTemplate",name:"$t:display_template",type:"string",meta:{interface:"system-display-template",width:"full",options:{collectionField:"collection",placeholder:"{{ field }}"}}},{field:"filter",type:"json",name:"$t:filter",meta:{interface:"system-filter",options:{collectionField:"collection"}}}],minWidth:16,minHeight:12}),PU=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:TU});const LU=z({props:{showHeader:{type:Boolean,default:!1},abbreviate:{type:Boolean,default:!1},sortField:{type:String,default:void 0},collection:{type:String,required:!0},field:{type:String,required:!0},function:{type:String,required:!0},filter:{type:Object,default:()=>({})},decimals:{type:Number,default:0},conditionalFormatting:{type:Array,default:()=>[]},prefix:{type:String,default:null},suffix:{type:String,default:null}},setup(e){const{n:t}=te(),l=E(),n=E(!1);o(),ye(()=>e,(i,d)=>{M.exports.isEqual(i,d)||o()},{deep:!0});const s=V(()=>{var i,d,p;return M.exports.isNil(l.value)?null:e.abbreviate?no(l.value,(i=e.decimals)!=null?i:0):t(Number(l.value),"decimal",{minimumFractionDigits:(d=e.decimals)!=null?d:0,maximumFractionDigits:(p=e.decimals)!=null?p:0})}),u=V(()=>{if(M.exports.isNil(l.value))return null;let i=null;for(const p of e.conditionalFormatting||[])d(p)&&(i=p);return i?i.color||"#00C897":null;function d(p){var y;const f=Number(l.value),v=Number((y=p.value)!=null?y:0);switch(p.operator||">="){case"=":return f===v;case"!=":return f!==v;case">":return f>v;case">=":return f>=v;case"<":return f<v;case"<=":return f<v}}});return{metric:l,loading:n,displayValue:s,color:u};async function o(){if(!e)return;const i=["first","last"].includes(e.function);n.value=!0;try{const d=e.sortField&&`${e.function==="last"?"-":""}${e.sortField}`,p=i?void 0:{[e.function]:[e.field||"*"]},f=await pe.get(Jt(e.collection),{params:{aggregate:p,filter:e.filter,sort:d,limit:1,fields:[e.field]}});e.field?e.function==="first"||e.function==="last"?l.value=Number(f.data.data[0][e.field]):l.value=Number(f.data.data[0][e.function][e.field]):l.value=Number(f.data.data[0][e.function])}catch{}finally{n.value=!1}}}}),OU={class:"prefix"},jU={class:"value"},RU={class:"suffix"};function MU(e,t,l,n,s,u){const o=c("v-progress-circular");return m(),I("div",{class:ue(["metric type-title selectable",{"has-header":e.showHeader}])},[e.loading?(m(),S(o,{key:0,indeterminate:""})):(m(),I("div",{key:1,style:ze({color:e.color})},[C("span",OU,b(e.prefix),1),C("span",jU,b(e.displayValue),1),C("span",RU,b(e.suffix),1)],4))],2)}var UU=N(LU,[["render",MU],["__scopeId","data-v-f27ebf0c"]]),NU=fl({id:"metric",name:"$t:panels.metric.name",description:"$t:panels.metric.description",icon:"functions",component:UU,options:[{field:"collection",type:"string",name:"$t:collection",meta:{interface:"system-collection",options:{includeSystem:!0},width:"half"}},{field:"field",type:"string",name:"$t:panels.metric.field",meta:{interface:"system-field",options:{collectionField:"collection",typeAllowList:["integer","bigInteger","float","decimal"],allowPrimaryKey:!0,allowNone:!0},width:"half"}},{field:"function",type:"string",name:"$t:aggregate_function",meta:{width:"half",interface:"select-dropdown",options:{choices:[{text:"Count",value:"count"},{text:"Count (Distinct)",value:"count_distinct"},{text:"Average",value:"avg"},{text:"Average (Distinct)",value:"avg_distinct"},{text:"Sum",value:"sum"},{text:"Sum (Distinct)",value:"sum_distinct"},{text:"Minimum",value:"min"},{text:"Maximum",value:"max"},{text:"First",value:"first"},{text:"Last",value:"last"}]}}},{field:"sortField",type:"string",name:"$t:sort_field",meta:{interface:"system-field",options:{collectionField:"collection",allowPrimaryKey:!0,placeholder:"$t:primary_key"},width:"half"}},{field:"filter",type:"json",name:"$t:filter",meta:{interface:"system-filter",options:{collectionField:"collection"}}},{field:"styleDivider",type:"alias",meta:{interface:"presentation-divider",options:{icon:"style",title:"Style & Format"},special:["alias","no-data"]}},{field:"abbreviate",type:"boolean",name:"$t:abbreviate_value",schema:{default_value:!1},meta:{interface:"boolean",width:"half"}},{field:"decimals",type:"integer",name:"$t:decimals",meta:{interface:"input",width:"half",options:{placeholder:"$t:decimals_placeholder"}},schema:{default_value:0}},{field:"prefix",type:"string",name:"$t:prefix",meta:{interface:"input",width:"half",options:{placeholder:"$t:prefix_placeholder",trim:!1}}},{field:"suffix",type:"string",name:"$t:suffix",meta:{interface:"input",width:"half",options:{placeholder:"$t:suffix_placeholder",trim:!1}}},{field:"conditionalFormatting",type:"json",name:"$t:conditional_styles",meta:{interface:"list",width:"full",options:{template:"{{color}} {{operator}} {{value}}",fields:[{field:"operator",name:"$t:operator",type:"string",schema:{default_value:">="},meta:{interface:"select-dropdown",options:{choices:[{text:"$t:operators.eq",value:"="},{text:"$t:operators.neq",value:"!="},{text:"$t:operators.gt",value:">"},{text:"$t:operators.gte",value:">="},{text:"$t:operators.lt",value:"<"},{text:"$t:operators.lte",value:"<="}]},width:"half"}},{field:"value",name:"$t:value",type:"integer",schema:{default_value:0},meta:{interface:"input",width:"half"}},{field:"color",name:"$t:color",type:"string",schema:{default_value:"#00C897"},meta:{interface:"select-color",display:"color"}}]}}}],minWidth:8,minHeight:6}),BU=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:NU});function qU(e,t){e=M.exports.clone(e);const l=t.startsWith("-");(l||t.startsWith("+"))&&(t=t.substring(1));const n=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|months?|mth|mo|years?|yrs?|y)?$/i.exec(t);if(!n)return;const s=parseFloat(n[1]);switch((n[2]||"days").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return l?ir(e,s):sr(e,s);case"months":case"month":case"mth":case"mo":return l?or(e,s):ar(e,s);case"weeks":case"week":case"w":return l?nr(e,s):lr(e,s);case"days":case"day":case"d":return l?xo(e,s):tr(e,s);case"hours":case"hour":case"hrs":case"hr":case"h":return l?xs(e,s):er(e,s);case"minutes":case"minute":case"mins":case"min":case"m":return l?Zs(e,s):Ys(e,s);case"seconds":case"second":case"secs":case"sec":case"s":return l?Qs(e,s):Xs(e,s);case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return l?Gs(e,s):Js(e,s);default:return}}const zU=z({props:{height:{type:Number,required:!0},showHeader:{type:Boolean,default:!1},id:{type:String,required:!0},dashboard:{type:String,required:!0},now:{type:Date,required:!0},collection:{type:String,required:!0},dateField:{type:String,required:!0},valueField:{type:String,required:!0},function:{type:String,required:!0},precision:{type:String,default:"hour"},range:{type:String,default:"1 week"},color:{type:String,default:"#00C897"},decimals:{type:Number,default:0},min:{type:Number,default:void 0},max:{type:Number,default:void 0},filter:{type:Object,default:()=>({})},showXAxis:{type:Boolean,default:!0},showYAxis:{type:Boolean,default:!0}},setup(e){const{d:t,t:l,n}=te(),s=Te(),u=E([]),o=E(!1),i=E(),d=E(),p=E(),f=V(()=>{const _=s.getField(e.collection,e.valueField),g=l(e.function);return`${_.name} (${g})`});return ye([()=>e,()=>e.showHeader,()=>e.height],(_,g)=>{var w;M.exports.isEqual(_,g)===!1&&(v(),(w=p.value)==null||w.destroy(),y())},{deep:!0}),v(),st(y),Vt(()=>{var _;(_=p.value)==null||_.destroy()}),{chartEl:d,metrics:u,loading:o,error:i};async function v(){var w;o.value=!0;try{const h=await pe.get(Jt(e.collection),{params:{groupBy:g(),aggregate:{[e.function]:[e.valueField]},filter:{_and:[{[e.dateField]:{_gte:`$NOW(-${e.range||"1 week"})`}},{[e.dateField]:{_lte:"$NOW"}},e.filter||{}]},limit:-1}});u.value=h.data.data,(w=p.value)==null||w.updateSeries([{name:e.collection,data:u.value.map(k=>{var F;return{x:_(k),y:Number(Number(k[e.function][e.valueField]).toFixed((F=e.decimals)!=null?F:0))}})}])}catch(h){i.value=h}finally{o.value=!1}function _(h){var T,B,q,K,H;const k=h[`${e.dateField}_year`],F=U((T=h[`${e.dateField}_month`])!=null?T:1),A=U((B=h[`${e.dateField}_day`])!=null?B:1),P=U((q=h[`${e.dateField}_hour`])!=null?q:0),L=U((K=h[`${e.dateField}_minute`])!=null?K:0),O=U((H=h[`${e.dateField}_second`])!=null?H:0);return`${k}-${F}-${A}T${P}:${L}:${O}`;function U(Y){return String(Y).padStart(2,"0")}}function g(){let h=[];switch(e.precision||"hour"){case"year":h=["year"];break;case"month":h=["year","month"];break;case"day":h=["year","month","day"];break;case"hour":h=["year","month","day","hour"];break;case"minute":h=["year","month","day","hour","minute"];break;case"second":h=["year","month","day","hour","minute","second"];break;default:h=["year","month","day","hour"];break}return h.map(k=>`${k}(${e.dateField})`)}}function y(){var _,g;p.value=new rr(d.value,{colors:[e.color?e.color:"#00C897"],chart:{type:"area",height:"100%",toolbar:{show:!1},selection:{enabled:!1},zoom:{enabled:!1},fontFamily:"var(--family-sans-serif)",foreColor:"var(--foreground-subdued)"},series:[],stroke:{curve:"smooth",width:2,lineCap:"round"},markers:{hover:{size:void 0,sizeOffset:4}},fill:{type:"gradient",gradient:{colorStops:[[{offset:0,color:e.color?e.color:"#00C897",opacity:.25},{offset:100,color:e.color?e.color:"#00C897",opacity:0}]]}},grid:{borderColor:"var(--border-subdued)",padding:{top:e.showHeader?-20:-4,bottom:0,left:8}},dataLabels:{enabled:!1},tooltip:{marker:{show:!1},x:{show:!0,formatter(w){return t(new Date(w),"long")}},y:{title:{formatter:()=>f.value+": "},formatter(w){return n(w)}}},xaxis:{type:"datetime",tooltip:{enabled:!1},axisTicks:{show:!1},axisBorder:{show:!1},range:e.now.getTime()-qU(e.now,`-${e.range}`).getTime(),max:e.now.getTime(),labels:{show:(_=e.showXAxis)!=null?_:!0,offsetY:-4,style:{fontFamily:"var(--family-sans-serif)",foreColor:"var(--foreground-subdued)",fontWeight:600,fontSize:"10px"}},crosshairs:{stroke:{color:"var(--border-normal)"}}},yaxis:{show:(g=e.showYAxis)!=null?g:!0,forceNiceScale:!0,min:M.exports.isNil(e.min)?void 0:Number(e.min),max:M.exports.isNil(e.max)?void 0:Number(e.max),tickAmount:e.height-4,labels:{offsetY:1,offsetX:-4,formatter:w=>{var h,k;return w>1e4?no(w,1):n(w,"decimal",{minimumFractionDigits:(h=e.decimals)!=null?h:0,maximumFractionDigits:(k=e.decimals)!=null?k:0})},style:{fontFamily:"var(--family-sans-serif)",foreColor:"var(--foreground-subdued)",fontWeight:600,fontSize:"10px"}}}}),p.value.render()}}}),KU={ref:"chartEl",class:"time-series"};function HU(e,t,l,n,s,u){return m(),I("div",KU,null,512)}var WU=N(zU,[["render",HU],["__scopeId","data-v-69384392"]]),GU=fl({id:"time-series",name:"$t:panels.time_series.name",description:"$t:panels.time_series.description",icon:"show_chart",component:WU,options:[{field:"collection",type:"string",name:"$t:collection",meta:{interface:"system-collection",options:{includeSystem:!0},width:"half"}},{field:"color",name:"$t:color",type:"string",schema:{default_value:"#00C897"},meta:{interface:"select-color",width:"half"}},{field:"function",type:"string",name:"$t:group_aggregation",meta:{width:"half",interface:"select-dropdown",options:{choices:[{text:"Count",value:"count"},{text:"Count (Distinct)",value:"count_distinct"},{text:"Average",value:"avg"},{text:"Average (Distinct)",value:"avg_distinct"},{text:"Sum",value:"sum"},{text:"Sum (Distinct)",value:"sum_distinct"},{text:"Minimum",value:"min"},{text:"Maximum",value:"max"}]}}},{field:"precision",type:"string",name:"$t:group_precision",meta:{interface:"select-dropdown",width:"half",options:{choices:[{text:"Second",value:"second"},{text:"Minute",value:"minute"},{text:"Hour",value:"hour"},{text:"Day",value:"day"},{text:"Week",value:"week"},{text:"Month",value:"month"},{text:"Year",value:"year"}]}},schema:{default_value:"hour"}},{field:"dateField",type:"string",name:"$t:panels.time_series.date_field",meta:{interface:"system-field",options:{collectionField:"collection",typeAllowList:["date","dateTime","timestamp"]},width:"half"}},{field:"range",type:"dropdown",name:"$t:date_range",schema:{default_value:"1 week"},meta:{interface:"select-dropdown",width:"half",options:{choices:[{text:"Past 5 Minutes",value:"5 minutes"},{text:"Past 15 Minutes",value:"15 minutes"},{text:"Past 30 Minutes",value:"30 minutes"},{text:"Past 1 Hour",value:"1 hour"},{text:"Past 4 Hours",value:"4 hours"},{text:"Past 1 Day",value:"1 day"},{text:"Past 2 Days",value:"2 days"},{text:"Past 1 Week",value:"1 week"},{text:"Past 1 Month",value:"1 month"},{text:"Past 3 Months",value:"3 months"}],allowOther:!0}}},{field:"valueField",type:"string",name:"$t:panels.time_series.value_field",meta:{interface:"system-field",options:{collectionField:"collection",typeAllowList:["integer","bigInteger","float","decimal"]},width:"half"}},{field:"decimals",type:"integer",name:"$t:value_decimals",meta:{interface:"input",width:"half",options:{placeholder:"$t:decimals_placeholder"}},schema:{default_value:0}},{field:"min",type:"integer",name:"$t:min_value",meta:{interface:"input",width:"half",options:{placeholder:"$t:automatic"}}},{field:"max",type:"integer",name:"$t:max_value",meta:{interface:"input",width:"half",options:{placeholder:"$t:automatic"}}},{field:"filter",type:"json",name:"$t:filter",meta:{interface:"system-filter",options:{collectionField:"collection"}}},{field:"showXAxis",type:"boolean",name:"$t:show_x_axis",meta:{interface:"boolean",width:"half"},schema:{default_value:!0}},{field:"showYAxis",type:"boolean",name:"$t:show_y_axis",meta:{interface:"boolean",width:"half"},schema:{default_value:!0}}],minWidth:16,minHeight:8}),JU=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:GU});const{panelsRaw:Ii}=yl();async function QU(e){const l=Object.values({"./label/index.ts":bU,"./list/index.ts":PU,"./metric/index.ts":BU,"./time-series/index.ts":JU}).map(n=>n.default);try{const n=await j(()=>import(`${Je()}extensions/panels/index.js`),[]);l.push(...n.default)}catch(n){console.warn("Couldn't load custom panels"),console.warn(n)}Ii.value=l,Ii.value.forEach(n=>{e.component(`panel-${n.id}`,n.component),typeof n.options!="function"&&Array.isArray(n.options)===!1&&n.options!==null&&e.component(`panel-options-${n.id}`,n.options)})}const XU=z({props:{value:{type:Boolean,default:!1},labelOn:{type:String,default:null},labelOff:{type:String,default:null},iconOn:{type:String,default:"check"},iconOff:{type:String,default:"close"},colorOn:{type:String,default:"#00C897"},colorOff:{type:String,default:"#B0BEC5"}},setup(e){return{styles:V(()=>{const l={};return e.colorOn!==null&&e.colorOff!==null&&(l.color=e.value?e.colorOn:e.colorOff,l["--v-icon-color"]=e.value?e.colorOn:e.colorOff),l})}}}),ZU={key:1};function YU(e,t,l,n,s,u){const o=c("value-null"),i=c("v-icon");return m(),I("div",{class:"boolean",style:ze(e.styles)},[e.value===null?(m(),S(o,{key:0})):(m(),I(ae,{key:1},[e.iconOn!==null&&e.iconOff!==null?(m(),S(i,{key:0,name:e.value?e.iconOn:e.iconOff},null,8,["name"])):R("",!0),e.labelOn!==null&&e.labelOff!==null?(m(),I("span",ZU,b(e.value?e.labelOn:e.labelOff),1)):R("",!0)],64))],4)}var xU=N(XU,[["render",YU],["__scopeId","data-v-5a95796f"]]),eN=gt({id:"boolean",name:"$t:displays.boolean.boolean",description:"$t:displays.boolean.description",types:["boolean"],icon:"check_box",component:xU,options:[{field:"labelOn",name:"$t:displays.boolean.label_on",type:"string",meta:{interface:"input",width:"half",options:{placeholder:"$t:displays.boolean.label_on_placeholder"}}},{field:"labelOff",name:"$t:displays.boolean.label_off",type:"string",meta:{interface:"input",width:"half",options:{placeholder:"$t:displays.boolean.label_off_placeholder"}}},{field:"iconOn",name:"$t:displays.boolean.icon_on",type:"string",meta:{interface:"select-icon",width:"half"},schema:{default_value:"check"}},{field:"iconOff",name:"$t:displays.boolean.icon_off",type:"string",meta:{interface:"select-icon",width:"half"},schema:{default_value:"close"}},{field:"colorOn",name:"$t:displays.boolean.color_on",type:"string",meta:{interface:"select-color",width:"half"},schema:{default_value:"#00C897"}},{field:"colorOff",name:"$t:displays.boolean.color_off",type:"string",meta:{interface:"select-color",width:"half"},schema:{default_value:"#B0BEC5"}}]}),tN=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:eN});const nN=z({props:{value:{type:String,default:null},icon:{type:Boolean,default:!1}},setup(e){const t=Ue(e).value,{info:l}=ot(t);return{info:l}}}),lN={key:1};function oN(e,t,l,n,s,u){const o=c("value-null"),i=c("v-icon");return e.value===null||!e.info?(m(),S(o,{key:0})):(m(),I("div",lN,[e.icon?(m(),S(i,{key:0,name:e.info.icon,left:"",small:""},null,8,["name"])):R("",!0),D(" "+b(e.info.name),1)]))}var aN=N(nN,[["render",oN]]),iN=gt({id:"collection",name:"$t:displays.collection.collection",description:"$t:displays.collection.description",types:["string"],icon:"label",component:aN,options:[{field:"icon",name:"$t:icon",type:"boolean",meta:{interface:"boolean",options:{label:"$t:displays.collection.icon_label"}},schema:{default_value:!1}}]}),sN=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:iN});function Ol(e){return/^#(([a-f\d]{2}){3,4})$/i.test(e)}const rN=z({props:{value:{type:String,default:null},defaultColor:{type:String,default:"#B0BEC5",validator:e=>e===null||Ol(e)||e.startsWith("var(--")}},setup(e){const t=V(()=>e.value),l=V(()=>{var f,v;const s=((f=e.defaultColor)==null?void 0:f.startsWith("var("))?n(e.defaultColor):e.defaultColor,u=((v=e.value)==null?void 0:v.startsWith("var("))?n(e.value):e.value,o={"background-color":s};u!==null&&(o["background-color"]=u);const i=n("var(--background-page)"),d=Kt(i);return(u===null?Kt(s):Kt(u)).contrast(d)<1.1&&(o.border="1px solid var(--border-normal)"),o});return{displayValue:t,styles:l};function n(s){return getComputedStyle(document.body).getPropertyValue(s.slice(4,-1)).trim()}}}),dN={class:"color-dot"};function uN(e,t,l,n,s,u){const o=c("value-null");return m(),I("div",dN,[e.value===null&&e.defaultColor===null?(m(),S(o,{key:0})):R("",!0),C("div",{class:"dot",style:ze(e.styles)},null,4)])}var cN=N(rN,[["render",uN],["__scopeId","data-v-37c4bfe4"]]),pN=gt({id:"color",name:"$t:displays.color.color",description:"$t:displays.color.description",types:["string"],icon:"flag",component:cN,options:[{field:"defaultColor",name:"$t:displays.color.default_color",type:"string",meta:{interface:"select-color",width:"half"},schema:{default_value:"#B0BEC5"}}]}),mN=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:pN});const fN=async(e,t,l)=>dr(e,t,ke(oe({},l),{locale:await ga()}));const vN=z({props:{value:{type:String,required:!0},type:{type:String,required:!0,validator:e=>["dateTime","date","time","timestamp"].includes(e)},format:{type:String,default:"long"},relative:{type:Boolean,default:!1}},setup(e){const{t}=te(),l=V(()=>e.value?e.type==="timestamp"?oa(e.value):e.type==="dateTime"?dn(e.value,"yyyy-MM-dd'T'HH:mm:ss",new Date):e.type==="date"?dn(e.value,"yyyy-MM-dd",new Date):e.type==="time"?dn(e.value,"HH:mm:ss",new Date):null:null),n=E(null);return ye(l,async s=>{if(s===null){n.value=null;return}if(e.relative)n.value=await fN(s,new Date,{addSuffix:!0});else{let u;e.format==="long"?(u=`${t("date-fns_date")} ${t("date-fns_time")}`,e.type==="date"&&(u=String(t("date-fns_date"))),e.type==="time"&&(u=String(t("date-fns_time")))):e.format==="short"?(u=`${t("date-fns_date_short")} ${t("date-fns_time_short")}`,e.type==="date"&&(u=String(t("date-fns_date_short"))),e.type==="time"&&(u=String(t("date-fns_time_short")))):u=e.format,n.value=await jt(s,u)}},{immediate:!0}),{displayValue:n}}}),_N={class:"datetime"};function yN(e,t,l,n,s,u){return m(),I("span",_N,b(e.displayValue),1)}var gN=N(vN,[["render",yN],["__scopeId","data-v-7df33e0f"]]),hN=gt({id:"datetime",name:"$t:displays.datetime.datetime",description:"$t:displays.datetime.description",icon:"query_builder",component:gN,options:[{field:"format",name:"$t:displays.datetime.format",type:"string",meta:{interface:"select-dropdown",width:"half",options:{choices:[{text:"$t:displays.datetime.long",value:"long"},{text:"$t:displays.datetime.short",value:"short"}],allowOther:!0},note:"$t:displays.datetime.format_note"},schema:{default_value:"long"}},{field:"relative",name:"$t:displays.datetime.relative",type:"boolean",meta:{width:"half",interface:"boolean",options:{label:"$t:displays.datetime.relative_label"}},schema:{default_value:!1}}],types:["dateTime","date","time","timestamp"]}),bN=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:hN});const $N=z({props:{value:{type:Object,default:null}},setup(e){const t=E(),l=E(!1),n=V(()=>e.value?Yn(e.value.type,!0):null),s=V(()=>e.value?e.value.type.includes("svg")?dt(Je()+`assets/${e.value.id}`):e.value.type.includes("image")===!1?null:dt(Je()+`assets/${e.value.id}?key=system-small-cover`):null),{height:u}=xn(t);return{fileExtension:n,imageThumbnail:s,previewEl:t,height:u,imgError:l}}}),wN=["src","alt"],kN={key:1,ref:"previewEl",class:"preview"},CN={key:0,class:"extension"};function SN(e,t,l,n,s,u){const o=c("v-icon");return e.imageThumbnail&&!e.imgError?(m(),I("img",{key:0,src:e.imageThumbnail,class:ue({"is-svg":e.value&&e.value.type.includes("svg")}),alt:e.value.title,onError:t[0]||(t[0]=i=>e.imgError=!0)},null,42,wN)):(m(),I("div",kN,[e.fileExtension?(m(),I("span",CN,b(e.fileExtension),1)):(m(),S(o,{key:1,name:"folder_open"}))],512))}var VN=N($N,[["render",SN],["__scopeId","data-v-3d2d9adb"]]),FN=gt({id:"file",name:"$t:displays.file.file",description:"$t:displays.file.description",icon:"insert_drive_file",component:VN,types:["uuid"],localTypes:["file"],options:[],fields:["id","type","title"]}),AN=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:FN}),IN=gt({id:"filesize",name:"$t:displays.filesize.filesize",description:"$t:displays.filesize.description",icon:"description",component:({value:e})=>Vl(e),options:[],types:["integer","bigInteger"]}),EN=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:IN});const DN=z({props:{value:{type:[Object,Array],default:null},format:{type:String,default:null}},setup(e){const{t}=te();return{displayValue:V(()=>{if(!e.value)return null;try{return Array.isArray(e.value)?e.value.map(n=>Un(e.format||"",n)):[Un(e.format||"",e.value)]}catch{return null}}),t}}}),TN=["onClick"],PN={class:"label"},LN={key:2};function ON(e,t,l,n,s,u){const o=c("value-null"),i=c("v-list-item-content"),d=c("v-list-item"),p=c("v-list"),f=c("v-menu");return e.displayValue?e.displayValue.length>1?(m(),S(f,{key:1,"show-arrow":""},{activator:r(({toggle:v})=>[C("span",{class:"toggle",onClick:Ae(v,["stop"])},[C("span",PN,b(e.displayValue.length)+" "+b(e.t("items")),1)],8,TN)]),default:r(()=>[a(p,{class:"links"},{default:r(()=>[(m(!0),I(ae,null,be(e.displayValue,(v,y)=>(m(),S(d,{key:y},{default:r(()=>[a(i,null,{default:r(()=>[D(b(v),1)]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1})):(m(),I("span",LN,b(e.displayValue[0]),1)):(m(),S(o,{key:0}))}var jN=N(DN,[["render",ON]]),RN=gt({id:"formatted-json-value",name:"$t:displays.formatted-json-value.formatted-json-value",description:"$t:displays.formatted-json-value.description",types:["json","geometry"],icon:"settings_ethernet",component:jN,options:[{field:"format",name:"$t:display_template",type:"string",meta:{width:"full",interface:"input",options:{placeholder:"{{ field }}"}}}]}),MN=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:RN});const UN=z({props:{value:{type:[String,Number],default:null},formatTitle:{type:Boolean,default:!1},bold:{type:Boolean,default:!1},color:{type:String,default:null},font:{type:String,default:"sans-serif",validator:e=>["sans-serif","serif","monospace"].includes(e)}},setup(e){const{n:t}=te();return{displayValue:V(()=>{if(M.exports.isNil(e.value)||e.value==="")return null;if(typeof e.value=="number")return t(e.value);let n=String(e.value);return n=n.replace(/(<([^>]+)>)/gi,""),n=ur(n),e.formatTitle&&(n=Et(n)),n})}}});function NN(e,t,l,n,s,u){const o=c("value-null");return e.displayValue===null||e.displayValue===void 0?(m(),S(o,{key:0})):(m(),I("span",{key:1,class:ue(["display-formatted-text",[{bold:e.bold},e.font]]),style:ze({color:e.color})},b(e.displayValue),7))}var BN=N(UN,[["render",NN],["__scopeId","data-v-416d4750"]]),qN=gt({id:"formatted-value",name:"$t:displays.formatted-value.formatted-value",description:"$t:displays.formatted-value.description",types:["string","text","integer","float","decimal","bigInteger"],icon:"text_format",component:BN,options:[{field:"formatTitle",name:"$t:displays.formatted-value.format_title",type:"boolean",meta:{width:"half",interface:"boolean",options:{label:"$t:displays.formatted-value.format_title_label"}},schema:{default_value:!1}},{field:"bold",name:"$t:bold",type:"boolean",meta:{width:"half",interface:"boolean",options:{label:"$t:displays.formatted-value.bold_label"}},schema:{default_value:!1}},{field:"color",name:"$t:color",meta:{width:"half",interface:"select-color"}},{field:"font",name:"$t:font",meta:{width:"half",interface:"select-dropdown",options:{choices:[{text:"$t:sans_serif",value:"sans-serif"},{text:"$t:serif",value:"serif"},{text:"$t:monospace",value:"monospace"}]}},schema:{default_value:"sans-serif"}}]}),zN=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:qN});const KN=z({name:"DisplayIcon",props:{value:{type:String,default:null},color:{type:String,default:null},filled:{type:Boolean,default:!1}},setup(e){return{style:V(()=>Ol(e.color)?{"--v-icon-color":e.color}:{})}}});function HN(e,t,l,n,s,u){const o=c("v-icon");return m(),S(o,{small:"",name:e.value,style:ze(e.style),filled:e.filled},null,8,["name","style","filled"])}var WN=N(KN,[["render",HN]]),GN=gt({id:"icon",name:"$t:displays.icon.icon",description:"$t:displays.icon.description",icon:"insert_emoticon",component:WN,options:[{field:"filled",name:"$t:displays.icon.filled",type:"boolean",meta:{interface:"boolean",width:"half",options:{label:"$t:displays.icon.filled_label"}},schema:{default_value:!1}},{field:"color",name:"$t:color",type:"string",meta:{interface:"select-color",width:"half"}}],types:["string"]}),JN=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:GN});const QN=z({components:{ValueNull:ln},props:{value:{type:Object,default:null},circle:{type:Boolean,default:!1}},setup(e){const t=E(!1);return{src:V(()=>{if(e.value===null)return null;const n=Je()+`assets/${e.value.id}?key=system-small-cover`;return dt(n)}),imageError:t}}}),XN=["src","alt"];function ZN(e,t,l,n,s,u){const o=c("v-icon"),i=c("value-null");return e.imageError?(m(),S(o,{key:0,name:"image"})):e.src?(m(),I("img",{key:1,src:e.src,role:"presentation",alt:e.value&&e.value.title,class:ue({circle:e.circle}),onError:t[0]||(t[0]=d=>e.imageError=!0)},null,42,XN)):(m(),S(i,{key:2}))}var YN=N(QN,[["render",ZN],["__scopeId","data-v-e3df0200"]]),xN=gt({id:"image",name:"$t:displays.image.image",description:"$t:displays.image.description",types:["uuid"],localTypes:["file"],icon:"insert_photo",component:YN,options:[{field:"circle",name:"$t:displays.image.circle",type:"boolean",meta:{width:"half",interface:"boolean",options:{label:"$t:displays.image.circle_label"}},schema:{default_value:!1}}],fields:["id","type","title"]}),eB=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:xN});const tB=z({props:{value:{type:[String,Array],required:!0},format:{type:Boolean,default:!0},showAsDot:{type:Boolean,default:!1},choices:{type:Array,default:()=>[]},defaultBackground:{type:String,default:"#eceff1"},defaultForeground:{type:String,default:"#263238"},type:{type:String,required:!0,validator:e=>["text","string","json","csv"].includes(e)}},setup(e){return{items:V(()=>{let l;return M.exports.isEmpty(e.value)?l=[]:e.type==="string"?l=[e.value]:l=e.value,l.map(n=>{const s=(e.choices||[]).find(o=>o.value===n);let u;return typeof n=="object"?u=JSON.stringify(n):e.format?u=Et(n):u=n,s===void 0?{value:n,text:u,foreground:e.defaultForeground,background:e.defaultBackground}:Ft({value:n,text:s.text||u,foreground:s.foreground||e.defaultForeground,background:s.background||e.defaultBackground})})})}}}),nB={class:"display-labels"};function lB(e,t,l,n,s,u){const o=c("v-chip"),i=c("display-color"),d=we("tooltip");return m(),I("div",nB,[e.showAsDot?(m(!0),I(ae,{key:1},be(e.items,p=>ne((m(),S(i,{key:p.value,value:p.background,"default-color":e.defaultBackground},null,8,["value","default-color"])),[[d,p.text]])),128)):(m(!0),I(ae,{key:0},be(e.items,p=>(m(),S(o,{key:p.value,style:ze({"--v-chip-color":p.foreground,"--v-chip-background-color":p.background}),small:"",disabled:"",label:""},{default:r(()=>[D(b(p.text),1)]),_:2},1032,["style"]))),128))])}var oB=N(tB,[["render",lB],["__scopeId","data-v-19bd541a"]]),aB=gt({id:"labels",name:"$t:displays.labels.labels",description:"$t:displays.labels.description",types:["string","json","csv"],icon:"flag",component:oB,options:[{field:"defaultForeground",name:"$t:displays.labels.default_foreground",type:"string",meta:{interface:"select-color",width:"half"},schema:{default_value:"#263238"}},{field:"defaultBackground",name:"$t:displays.labels.default_background",type:"string",meta:{interface:"select-color",width:"half"},schema:{default_value:"#eceff1"}},{field:"format",name:"$t:format_text",type:"boolean",meta:{width:"half",interface:"boolean",options:{label:"$t:displays.labels.format_label"}},schema:{default_value:!0}},{field:"showAsDot",name:"$t:displays.labels.show_as_dot",type:"boolean",meta:{width:"half",interface:"boolean"},schema:{default_value:!1}},{field:"choices",name:"$t:choices",type:"json",meta:{interface:"list",options:{template:"{{text}}",fields:[{field:"text",name:"$t:text",type:"string",meta:{interface:"input",width:"half",options:{placeholder:"$t:displays.labels.choices_text_placeholder"}}},{field:"value",name:"$t:value",type:"string",meta:{interface:"input",options:{font:"monospace",placeholder:"$t:displays.labels.choices_value_placeholder"},width:"half"}},{field:"foreground",name:"$t:foreground_color",type:"string",meta:{interface:"select-color",width:"half"}},{field:"background",name:"$t:background_color",type:"string",meta:{interface:"select-color",width:"half"}}]}}}]}),iB=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:aB}),sB=gt({id:"mime-type",name:"$t:displays.mime-type.mime-type",description:"$t:displays.mime-type.description",icon:"picture_as_pdf",options:[{field:"showAsExtension",name:"$t:displays.mime-type.extension_only",type:"boolean",meta:{interface:"boolean",options:{label:"$t:displays.mime-type.extension_only_label"}},schema:{default_value:!1}}],types:["string"],component:({value:e,showAsExtension:t})=>t?cr.getExtension(e):Yn(e)}),rB=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:sB});const dB=z({props:{value:{type:[String,Number],default:null},simple:{type:Boolean,default:!1},interfaceOptions:{type:Object,default:null}},setup(e){const t=V(()=>e.interfaceOptions===null?5:Math.ceil(e.interfaceOptions.maxValue)),l=V(()=>({width:Number(e.value)/t.value*100+"%"}));return{starCount:t,ratingPercentage:l}}}),uB={key:0,class:"rating simple"},cB={key:1,class:"rating detailed"},pB={class:"inactive"};function mB(e,t,l,n,s,u){const o=c("v-icon"),i=we("tooltip");return e.simple?(m(),I("span",uB,[a(o,{small:"",name:"star"}),D(" "+b(e.value),1)])):ne((m(),I("div",cB,[C("div",{class:"active",style:ze(e.ratingPercentage)},[(m(!0),I(ae,null,be(e.starCount,d=>(m(),S(o,{key:d,small:"",name:"star"}))),128))],4),C("div",pB,[(m(!0),I(ae,null,be(e.starCount,d=>(m(),S(o,{key:d,small:"",name:"star"}))),128))])],512)),[[i,e.value,void 0,{bottom:!0,start:!0}]])}var fB=N(dB,[["render",mB],["__scopeId","data-v-7e2f8bb2"]]),vB=gt({id:"rating",name:"$t:displays.rating.rating",description:"$t:displays.rating.description",icon:"star",component:fB,options:[{field:"simple",name:"$t:displays.rating.simple",type:"boolean",meta:{interface:"boolean",width:"half",options:{label:"$t:displays.rating.simple_label"}},schema:{default_value:!1}}],types:["integer","decimal","float"]}),_B=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:vB}),yB=gt({id:"raw",name:"$t:displays.raw.raw",icon:"code",component:({value:e})=>String(e),options:[],types:i2,localTypes:["file","files","group","m2a","m2m","m2o","o2m","presentation","standard","translations"]}),gB=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:yB});function Ei(e,t){const l=mt(),n=Te(),s=l.getRelationsForField(e,t),o=n.getField(e,t).type.toLowerCase();return["o2m","m2m","m2a","alias","translations","files"].includes(o)?s[0].collection:s[0].related_collection}const hB=z({props:{value:{type:Object,default:null},fieldData:{type:Object,default:null},relations:{type:Array,default:()=>[]},collection:{type:String,default:null}},emits:["input"],setup(e,{emit:t}){const{t:l}=te(),n=V({get(){var u;return(u=e.value)==null?void 0:u.template},set(u){t("input",ke(oe({},e.value||{}),{template:u}))}}),s=V(()=>{if(!e.fieldData||!e.relations||e.relations.length===0)return null;const{field:u}=e.fieldData,o=e.relations.find(d=>d.collection===e.collection&&d.field===u),i=e.relations.find(d=>{var p;return d.related_collection===e.collection&&((p=d.meta)==null?void 0:p.one_field)===u});return o!==void 0?(o==null?void 0:o.related_collection)||null:i!==void 0&&(i==null?void 0:i.collection)||null});return{t:l,template:n,relatedCollection:s}}}),bB={key:1,class:"form-grid"},$B={class:"field full"},wB={class:"type-label"};function kB(e,t,l,n,s,u){const o=c("v-notice"),i=c("v-field-template");return e.collection===null?(m(),S(o,{key:0,type:"warning"},{default:r(()=>[D(b(e.t("interfaces.list-o2m.no_collection")),1)]),_:1})):(m(),I("div",bB,[C("div",$B,[C("p",wB,b(e.t("display_template")),1),a(i,{modelValue:e.template,"onUpdate:modelValue":t[0]||(t[0]=d=>e.template=d),collection:e.relatedCollection,depth:2},null,8,["modelValue","collection"])])]))}var CB=N(hB,[["render",kB]]);const SB=z({components:{ValueNull:ln},props:{collection:{type:String,required:!0},field:{type:String,required:!0},value:{type:[Array,Object],default:null},template:{type:String,default:null},type:{type:String,required:!0}},setup(e){const{t,te:l}=te(),n=V(()=>Ei(e.collection,e.field)),{primaryKeyField:s}=ot(n),u=V(()=>e.template||`{{ ${s.value.field} }}`),o=V(()=>Array.isArray(e.value)?e.value.length===1?l(`collection_names_singular.${n.value}`)?t(`collection_names_singular.${n.value}`):t("item"):l(`collection_names_plural.${n.value}`)?t(`collection_names_plural.${n.value}`):t("items"):null);return{relatedCollection:n,primaryKeyField:s,getLinkForItem:i,internalTemplate:u,unit:o};function i(d){if(!n.value||!s.value)return null;const p=d[s.value.field];return`/collections/${n.value}/${encodeURIComponent(p)}`}}}),VB=["onClick"],FB={class:"label"},AB=D("+");function IB(e,t,l,n,s,u){const o=c("value-null"),i=c("render-template"),d=c("v-list-item-content"),p=c("v-icon"),f=c("router-link"),v=c("v-list-item-icon"),y=c("v-list-item"),_=c("v-list"),g=c("v-menu");return e.relatedCollection?["o2m","m2m","m2a","translations","files"].includes(e.type.toLowerCase())?(m(),S(g,{key:1,"show-arrow":"",disabled:e.value.length===0},{activator:r(({toggle:w})=>[C("span",{class:ue(["toggle",{subdued:e.value.length===0}]),onClick:Ae(w,["stop"])},[C("span",FB,[D(b(e.value.length)+" ",1),e.value.length>=100?(m(),I(ae,{key:0},[AB],64)):R("",!0),D(" "+b(e.unit),1)])],10,VB)]),default:r(()=>[a(_,{class:"links"},{default:r(()=>[(m(!0),I(ae,null,be(e.value,w=>(m(),S(y,{key:w[e.primaryKeyField]},{default:r(()=>[a(d,null,{default:r(()=>[a(i,{template:e.internalTemplate,item:w,collection:e.relatedCollection},null,8,["template","item","collection"])]),_:2},1024),a(v,null,{default:r(()=>[a(f,{to:e.getLinkForItem(w)},{default:r(()=>[a(p,{name:"launch",small:""})]),_:2},1032,["to"])]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1},8,["disabled"])):(m(),S(i,{key:2,template:e.internalTemplate,item:e.value,collection:e.relatedCollection},null,8,["template","item","collection"])):(m(),S(o,{key:0}))}var EB=N(SB,[["render",IB],["__scopeId","data-v-55daff52"]]),DB=gt({id:"related-values",name:"$t:displays.related-values.related-values",description:"$t:displays.related-values.description",icon:"settings_ethernet",component:EB,options:CB,types:["alias","string","uuid","integer","bigInteger","json"],localTypes:["m2m","m2o","o2m","translations","m2a"],fields:(e,{field:t,collection:l})=>{const n=Ei(l,t),u=Te().getPrimaryKeyFieldForCollection(n);if(!n)return[];const o=(e==null?void 0:e.template)?Zt(yt(e.template),n):[];return u&&!o.includes(u.field)&&o.push(u.field),o}}),TB=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:DB});function sl(e,t){const l=mt(),n=Ke(),s=V(()=>l.getRelationsForField(e.value,t.value)),u=V(()=>s.value.find(g=>{var w;return g.related_collection===e.value&&((w=g.meta)==null?void 0:w.one_field)===t.value})),o=V(()=>s.value.find(g=>{var w;return g.collection===u.value.collection&&g.field!==u.value.field&&g.field===((w=u.value.meta)==null?void 0:w.junction_field)})),i=V(()=>n.getCollection(u.value.collection)),d=V(()=>n.getCollection(o.value.related_collection)),{primaryKeyField:p,fields:f}=ot(i.value.collection),{primaryKeyField:v,fields:y}=ot(d.value.collection),_=V(()=>{var g,w,h,k;return{junctionPkField:(g=p.value)==null?void 0:g.field,relationPkField:(w=v.value)==null?void 0:w.field,junctionField:(h=u.value.meta)==null?void 0:h.junction_field,sortField:(k=u.value.meta)==null?void 0:k.sort_field,junctionCollection:i.value.collection,relationCollection:d.value.collection}});return{junction:u,junctionCollection:i,relation:o,relationCollection:d,relationInfo:_,junctionPrimaryKeyField:p,relationPrimaryKeyField:v,junctionFields:f,relationFields:y}}const PB=z({props:{value:{type:Object,default:null},fieldData:{type:Object,default:null},relations:{type:Array,default:()=>[]},collection:{type:String,default:null}},emits:["input"],setup(e,{emit:t}){const{t:l}=te(),{collection:n}=Ue(e),s=V(()=>e.fieldData.field),u=V({get(){var g;return(g=e.value)==null?void 0:g.languageField},set(g){t("input",ke(oe({},e.value||{}),{languageField:g}))}}),o=V({get(){var g;return(g=e.value)==null?void 0:g.defaultLanguage},set(g){t("input",ke(oe({},e.value||{}),{defaultLanguage:g}))}}),i=V({get(){var g;return(g=e.value)==null?void 0:g.userLanguage},set(g){t("input",ke(oe({},e.value||{}),{userLanguage:g}))}}),d=V({get(){var g;return(g=e.value)==null?void 0:g.template},set(g){t("input",ke(oe({},e.value||{}),{template:g}))}}),{junctionCollection:p,relationCollection:f,relationPrimaryKeyField:v,relationFields:y}=sl(n,s),_=E([]);return ye(f,async g=>{const w=await pe.get(`items/${g.collection}`,{params:{limit:-1}});_.value=w.data.data},{immediate:!0}),{t:l,template:d,translationsCollection:p,languagesCollection:f,userLanguage:i,languages:_,defaultLanguage:o,langCode:v,languageField:u,languageFields:y}}}),LB={key:1,class:"form-grid"},OB={class:"field full"},jB={class:"type-label"},RB={class:"field full"},MB={class:"type-label"},UB={class:"field half"},NB={class:"type-label"},BB={class:"field half"},qB={class:"type-label"};function zB(e,t,l,n,s,u){var f;const o=c("v-notice"),i=c("v-field-template"),d=c("v-select"),p=c("v-checkbox");return e.collection===null?(m(),S(o,{key:0,type:"warning"},{default:r(()=>[D(b(e.t("interfaces.list-o2m.no_collection")),1)]),_:1})):(m(),I("div",LB,[C("div",OB,[C("p",jB,b(e.t("display_template")),1),a(i,{modelValue:e.template,"onUpdate:modelValue":t[0]||(t[0]=v=>e.template=v),collection:e.translationsCollection.collection,depth:2},null,8,["modelValue","collection"])]),C("div",RB,[C("p",MB,b(e.t("displays.translations.language_field")),1),a(d,{modelValue:e.languageField,"onUpdate:modelValue":t[1]||(t[1]=v=>e.languageField=v),items:e.languageFields,"item-text":"name","item-value":"field"},null,8,["modelValue","items"])]),C("div",UB,[C("p",NB,b(e.t("displays.translations.default_language")),1),a(d,{modelValue:e.defaultLanguage,"onUpdate:modelValue":t[2]||(t[2]=v=>e.defaultLanguage=v),"show-deselect":"",placeholder:e.t("select_an_item"),items:e.languages,"item-text":(f=e.languageField)!=null?f:e.langCode.field,"item-value":e.langCode.field},null,8,["modelValue","placeholder","items","item-text","item-value"])]),C("div",BB,[C("p",qB,b(e.t("displays.translations.user_language")),1),a(p,{modelValue:e.userLanguage,"onUpdate:modelValue":t[3]||(t[3]=v=>e.userLanguage=v),block:"",label:e.t("displays.translations.enable")},null,8,["modelValue","label"])])]))}var KB=N(PB,[["render",zB]]);const HB=z({components:{ValueNull:ln},props:{collection:{type:String,required:!0},field:{type:String,required:!0},value:{type:[Array],default:null},template:{type:String,default:null},userLanguage:{type:Boolean,default:!1},defaultLanguage:{type:String,default:null},languageField:{type:String,default:null},type:{type:String,required:!0}},setup(e){const{collection:t,field:l}=Ue(e),{junctionPrimaryKeyField:n,junctionCollection:s,relation:u,junctionFields:o,relationPrimaryKeyField:i}=sl(t,l),d=V(()=>{var y,_;return e.template||((_=(y=s.value)==null?void 0:y.meta)==null?void 0:_.display_template)||`{{ ${n.value.field} }}`}),p=V(()=>{var g,w,h;const y=(g=i.value)==null?void 0:g.field;if(!y)return{};let _=(w=e.value.find(k=>{var F;return((F=k==null?void 0:k[u.value.field])==null?void 0:F[y])===e.defaultLanguage}))!=null?w:e.value[0];if(e.userLanguage){const k=Xe();_=(h=e.value.find(F=>{var A,P;return((A=F==null?void 0:F[u.value.field])==null?void 0:A[y])===((P=k.currentUser)==null?void 0:P.language)}))!=null?h:_}return _!=null?_:{}}),f=V(()=>o.value.filter(y=>{var _;return y.type!=="alias"&&((_=y.meta)==null?void 0:_.hidden)===!1&&y.meta.readonly===!1})),v=V(()=>e.value.map(y=>{var g,w,h,k,F;const _=f.value.filter(A=>A.field in y&&Nt(y==null?void 0:y[A.field])).length;return{id:y==null?void 0:y[(w=(g=n.value)==null?void 0:g.field)!=null?w:"id"],lang:(F=y==null?void 0:y[u.value.field])==null?void 0:F[(k=e.languageField)!=null?k:(h=i.value)==null?void 0:h.field],progress:Math.round(_/f.value.length*100),item:y}}));return{primaryKeyField:n,internalTemplate:d,junctionCollection:s,displayItem:p,translations:v}}}),WB={class:"header"},GB={class:"lang"};function JB(e,t,l,n,s,u){const o=c("value-null"),i=c("render-template"),d=c("v-icon"),p=c("v-progress-linear"),f=c("v-list-item-content"),v=c("v-list-item"),y=c("v-list"),_=c("v-menu"),g=we("tooltip");return e.junctionCollection.collection?(m(),S(_,{key:1,"show-arrow":"",disabled:e.value.length===0},{activator:r(({toggle:w})=>[a(i,{template:e.internalTemplate,item:e.displayItem,collection:e.junctionCollection.collection,onClick:Ae(w,["stop"])},null,8,["template","item","collection","onClick"])]),default:r(()=>[a(y,{class:"links"},{default:r(()=>[(m(!0),I(ae,null,be(e.translations,w=>(m(),S(v,{key:w.id},{default:r(()=>[a(f,null,{default:r(()=>[C("div",WB,[C("div",GB,[a(d,{name:"translate",small:""}),D(" "+b(w.lang),1)]),ne(a(p,{value:w.progress,colorful:""},null,8,["value"]),[[g,`${w.progress}%`]])]),a(i,{template:e.internalTemplate,item:w.item,collection:e.junctionCollection.collection},null,8,["template","item","collection"])]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1},8,["disabled"])):(m(),S(o,{key:0}))}var QB=N(HB,[["render",JB],["__scopeId","data-v-6056eccc"]]),XB=gt({id:"translations",name:"$t:displays.translations.translations",description:"$t:displays.translations.description",icon:"translate",component:QB,options:KB,types:["alias"],localTypes:["translations"],fields:(e,{field:t,collection:l})=>{const n=Te(),u=mt().getRelationsForField(l,t),o=u.find(_=>{var g;return _.related_collection===l&&((g=_.meta)==null?void 0:g.one_field)===t}),i=u.find(_=>_!==o),d=o==null?void 0:o.related_collection,p=i==null?void 0:i.related_collection;if(!d||!p)return[];const f=n.getPrimaryKeyFieldForCollection(d),v=n.getPrimaryKeyFieldForCollection(p),y=(e==null?void 0:e.template)?Zt(yt(e.template),d):[];return f&&!y.includes(f.field)&&y.push(f.field),(i==null?void 0:i.field)&&!y.includes(i.field)&&(y.push(`${i.field}.${v.field}`),(e==null?void 0:e.languageField)&&y.push(`${i.field}.${e.languageField}`)),y}}),ZB=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:XB}),YB="assets/avatar-placeholder.446bf113.svg";const xB=z({props:{value:{type:Object,default:null},display:{type:String,default:"both"},circle:{type:Boolean,default:!1}},setup(e){return{src:V(()=>{var l;if(e.value===null)return null;if((l=e.value.avatar)==null?void 0:l.id){const n=`${Je()}assets/${e.value.avatar.id}?key=system-small-cover`;return dt(n)}return null}),userName:At}}}),eq=["src","alt"],tq=["alt"],nq={key:2};function lq(e,t,l,n,s,u){const o=c("user-popover");return e.value?(m(),S(o,{key:0,user:e.value.id},{default:r(()=>[C("div",{class:ue(["user",e.display])},[(e.display==="avatar"||e.display==="both")&&e.src?(m(),I("img",{key:0,src:e.src,role:"presentation",alt:e.value&&e.userName(e.value),class:ue({circle:e.circle})},null,10,eq)):(e.display==="avatar"||e.display==="both")&&e.src===null?(m(),I("img",{key:1,src:YB,role:"presentation",alt:e.value&&e.userName(e.value),class:ue({circle:e.circle})},null,10,tq)):R("",!0),e.display==="name"||e.display==="both"?(m(),I("span",nq,b(e.userName(e.value)),1)):R("",!0)],2)]),_:1},8,["user"])):R("",!0)}var oq=N(xB,[["render",lq],["__scopeId","data-v-1e6e7370"]]),aq=gt({id:"user",name:"$t:displays.user.user",description:"$t:displays.user.description",types:["uuid"],icon:"person",component:oq,options:[{field:"display",name:"$t:display",type:"string",meta:{width:"half",interface:"select-dropdown",options:{choices:[{text:"$t:displays.user.avatar",value:"avatar"},{text:"$t:displays.user.name",value:"name"},{text:"$t:displays.user.both",value:"both"}]}},schema:{default_value:"both"}},{field:"circle",name:"$t:circle",type:"boolean",meta:{width:"half",interface:"boolean",options:{label:"$t:displays.user.circle_label"}},schema:{default_value:!1}}],fields:["id","avatar.id","email","first_name","last_name"]}),iq=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:aq});const{displaysRaw:Di}=tn();async function sq(e){const l=Object.values({"./boolean/index.ts":tN,"./collection/index.ts":sN,"./color/index.ts":mN,"./datetime/index.ts":bN,"./file/index.ts":AN,"./filesize/index.ts":EN,"./formatted-json-value/index.ts":MN,"./formatted-value/index.ts":zN,"./icon/index.ts":JN,"./image/index.ts":eB,"./labels/index.ts":iB,"./mime-type/index.ts":rB,"./rating/index.ts":_B,"./raw/index.ts":gB,"./related-values/index.ts":TB,"./translations/index.ts":ZB,"./user/index.ts":iq}).map(n=>n.default);try{const n=await j(()=>import(`${Je()}extensions/displays/index.js`),[]);l.push(...n.default)}catch(n){console.warn("Couldn't load custom displays"),console.warn(n)}Di.value=l,Di.value.forEach(n=>{e.component(`display-${n.id}`,n.component),typeof n.options!="function"&&Array.isArray(n.options)===!1&&n.options!==null&&e.component(`display-options-${n.id}`,n.options)})}const rq=z({props:{value:{type:Boolean,default:null},disabled:{type:Boolean,default:!1},label:{type:String,default:()=>qe.global.t("enabled")},iconOn:{type:String,default:"check_box"},iconOff:{type:String,default:"check_box_outline_blank"},color:{type:String,default:"#00C897"}},emits:["input"]});function dq(e,t,l,n,s,u){const o=c("v-checkbox");return m(),S(o,{block:"","icon-on":e.iconOn,"icon-off":e.iconOff,label:e.label,"model-value":e.value,indeterminate:e.value===null,disabled:e.disabled,style:ze({"--v-checkbox-color":e.color}),"onUpdate:modelValue":t[0]||(t[0]=i=>e.$emit("input",i))},null,8,["icon-on","icon-off","label","model-value","indeterminate","disabled","style"])}var uq=N(rq,[["render",dq]]),cq=Ne({id:"boolean",name:"$t:interfaces.boolean.toggle",description:"$t:interfaces.boolean.description",icon:"check_box",component:uq,types:["boolean"],group:"selection",recommendedDisplays:["boolean"],options:[{field:"iconOn",name:"$t:icon_on",type:"string",meta:{width:"half",interface:"select-icon"},schema:{default_value:"check_box"}},{field:"iconOff",name:"$t:icon_off",type:"string",meta:{width:"half",interface:"select-icon"},schema:{default_value:"check_box_outline_blank"}},{field:"label",name:"$t:label",type:"string",meta:{width:"half",interface:"input",options:{placeholder:"$t:interfaces.boolean.label_placeholder"}},schema:{default_value:"$t:interfaces.boolean.label_default"}},{field:"color",name:"$t:color",type:"string",meta:{width:"half",interface:"select-color"},schema:{default_value:"#00C897"}}]}),pq=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:cq});const mq=z({props:{disabled:{type:Boolean,default:!1},value:{type:String,default:null},type:{type:String,required:!0,validator:e=>["dateTime","date","time","timestamp"].includes(e)},includeSeconds:{type:Boolean,default:!1},use24:{type:Boolean,default:!0}},emits:["input"],setup(e,{emit:t}){const{t:l}=te(),{internalValue:n,year:s,month:u,date:o,hours:i,minutes:d,seconds:p,period:f}=F(),{yearItems:v,monthItems:y,dateItems:_,hourItems:g,minutesSecondItems:w}=L(),{displayValue:h}=P();return{t:l,year:s,month:u,date:o,hours:i,minutes:d,seconds:p,period:f,setToNow:A,yearItems:v,monthItems:y,dateItems:_,hourItems:g,minutesSecondItems:w,displayValue:h,unsetValue:k};function k(){t("input",null)}function F(){const O=V({get(){return e.value?e.type==="timestamp"?oa(e.value):e.type==="dateTime"?dn(e.value,"yyyy-MM-dd'T'HH:mm:ss",new Date):e.type==="date"?dn(e.value,"yyyy-MM-dd",new Date):e.type==="time"?dn(e.value,"HH:mm:ss",new Date):null:null},set(J){if(J===null)return t("input",null);e.type==="timestamp"?t("input",Nn(J)):e.type==="dateTime"?t("input",rn(J,"yyyy-MM-dd'T'HH:mm:ss")):e.type==="date"?t("input",rn(J,"yyyy-MM-dd")):e.type==="time"&&t("input",rn(J,"HH:mm:ss"))}}),U=V({get(){return O.value?O.value.getFullYear():null},set(J){const re=O.value?new Date(O.value):new Date(0);re.setFullYear(J||0),O.value=re}}),T=V({get(){return O.value?O.value.getMonth():null},set(J){const re=O.value?new Date(O.value):new Date;re.setMonth(J||0),O.value=re}}),B=V({get(){return O.value?O.value.getDate():null},set(J){const re=O.value?new Date(O.value):new Date;re.setDate(J||1),O.value=re}}),q=V({get(){if(!O.value)return null;const J=O.value.getHours();return e.use24===!1?J%12:J},set(J){const re=O.value?new Date(O.value):new Date;re.setHours(J||0),O.value=re}}),K=V({get(){return O.value?O.value.getMinutes():null},set(J){const re=O.value?new Date(O.value):new Date;re.setMinutes(J||0),O.value=re}}),H=V({get(){return O.value?O.value.getSeconds():null},set(J){const re=O.value?new Date(O.value):new Date;re.setSeconds(J||0),O.value=re}}),Y=V({get(){return O.value?O.value.getHours()>=12?"pm":"am":null},set(J){const re=O.value?new Date(O.value):new Date;(re.getHours()>=12?"pm":"am")!==J&&(J==="am"?re.setHours(re.getHours()-12):re.setHours(re.getHours()+12)),O.value=re}});return{internalValue:O,year:U,month:T,date:B,hours:q,minutes:K,seconds:H,period:Y}}function A(){n.value=e.includeSeconds?new Date:pr(new Date,0)}function P(){const O=E(null);return ye(n,U,{immediate:!0}),{displayValue:O};async function U(){if(!e.value||!n.value){O.value=null;return}const T=e.includeSeconds?"date-fns_time":"date-fns_time_no_seconds";let B=`${l("date-fns_date")} ${l(T)}`;e.type==="date"&&(B=String(l("date-fns_date"))),e.type==="time"&&(B=String(l(T))),O.value=await jt(n.value,B)}}function L(){const O=V(()=>{var Y;const K=((Y=n.value)==null?void 0:Y.getFullYear())||new Date().getFullYear(),H=[];for(let J=K-5;J<=K+5;J++)H.push({text:String(J),value:J});return H}),U=V(()=>[l("months.january"),l("months.february"),l("months.march"),l("months.april"),l("months.may"),l("months.june"),l("months.july"),l("months.august"),l("months.september"),l("months.october"),l("months.november"),l("months.december")].map((K,H)=>({text:K,value:H}))),T=V(()=>{const K=[];for(let H=1;H<=31;H++)K.push(`${H}`);return K}),B=V(()=>{const K=[],H=e.use24?24:12;for(let Y=0;Y<H;Y++){let J=String(Y);J.length===1&&(J="0"+J),K.push({text:J,value:Y})}return K}),q=V(()=>{const K=[];for(let H=0;H<60;H++){let Y=String(H);Y.length===1&&(Y="0"+Y),K.push({text:Y,value:H})}return K});return{yearItems:O,monthItems:U,dateItems:T,hourItems:B,minutesSecondItems:q}}}}),fq={key:0,class:"date-selects"},vq={class:"month"},_q={class:"date"},yq={class:"year"},gq={class:"hour"},hq={class:"minutes"},bq={key:0,class:"seconds"},$q={key:1,class:"period"};function wq(e,t,l,n,s,u){const o=c("v-icon"),i=c("v-input"),d=c("v-select"),p=c("v-divider"),f=c("v-menu");return m(),S(f,{"close-on-content-click":!1,attached:"",disabled:e.disabled},{activator:r(({toggle:v,active:y})=>[a(i,{active:y,clickable:"",readonly:"","model-value":e.displayValue,disabled:e.disabled,placeholder:e.t("enter_a_value"),onClick:v},xe({_:2},[e.disabled?void 0:{name:"append",fn:r(()=>[a(o,{name:e.value?"close":"today",class:ue({active:y}),onClick:Ae(e.unsetValue,["stop"])},null,8,["name","class","onClick"])])}]),1032,["active","model-value","disabled","placeholder","onClick"])]),default:r(()=>[e.type==="timestamp"||e.type==="dateTime"||e.type==="date"?(m(),I("div",fq,[C("div",vq,[a(d,{modelValue:e.month,"onUpdate:modelValue":t[0]||(t[0]=v=>e.month=v),placeholder:e.t("month"),items:e.monthItems},null,8,["modelValue","placeholder","items"])]),C("div",_q,[a(d,{modelValue:e.date,"onUpdate:modelValue":t[1]||(t[1]=v=>e.date=v),placeholder:e.t("date"),items:e.dateItems},null,8,["modelValue","placeholder","items"])]),C("div",yq,[a(d,{modelValue:e.year,"onUpdate:modelValue":t[2]||(t[2]=v=>e.year=v),placeholder:e.t("year"),items:e.yearItems,"allow-other":""},null,8,["modelValue","placeholder","items"])])])):R("",!0),e.type==="timestamp"||e.type==="dateTime"?(m(),S(p,{key:1})):R("",!0),e.type==="timestamp"||e.type==="dateTime"||e.type==="time"?(m(),I("div",{key:2,class:ue(["time-selects",{seconds:e.includeSeconds,"use-24":e.use24}])},[C("div",gq,[a(d,{modelValue:e.hours,"onUpdate:modelValue":t[3]||(t[3]=v=>e.hours=v),placeholder:e.t("hours"),items:e.hourItems},null,8,["modelValue","placeholder","items"])]),C("div",hq,[a(d,{modelValue:e.minutes,"onUpdate:modelValue":t[4]||(t[4]=v=>e.minutes=v),placeholder:e.t("minutes"),items:e.minutesSecondItems},null,8,["modelValue","placeholder","items"])]),e.includeSeconds?(m(),I("div",bq,[a(d,{modelValue:e.seconds,"onUpdate:modelValue":t[5]||(t[5]=v=>e.seconds=v),items:e.minutesSecondItems},null,8,["modelValue","items"])])):R("",!0),e.use24===!1?(m(),I("div",$q,[a(d,{modelValue:e.period,"onUpdate:modelValue":t[6]||(t[6]=v=>e.period=v),items:["am","pm"]},null,8,["modelValue"])])):R("",!0)],2)):R("",!0),a(p),C("button",{class:"to-now",onClick:t[7]||(t[7]=(...v)=>e.setToNow&&e.setToNow(...v))},b(e.t("interfaces.datetime.set_to_now")),1)]),_:1},8,["disabled"])}var kq=N(mq,[["render",wq],["__scopeId","data-v-2fb57ac6"]]),Cq=`<svg width="156" height="96" viewBox="0 0 156 96" fill="none" xmlns="http://www.w3.org/2000/svg">
	<rect x="29" y="10" width="98" height="77" rx="6" fill="var(--background-page)" class="glow" />
	<rect x="30" y="11" width="96" height="75" rx="5" stroke="var(--primary)" stroke-width="2" />
	<rect x="39" y="20" width="30" height="5.03704" rx="2" fill="var(--primary)" />
	<rect x="39" y="41" width="6" height="6" rx="2" fill="var(--primary)" fill-opacity="0.25" />
	<rect x="39" y="51" width="6" height="6" rx="2" fill="var(--primary)" fill-opacity="0.25" />
	<rect x="39" y="61" width="6" height="6" rx="2" fill="var(--primary)" fill-opacity="0.25" />
	<rect x="39" y="71" width="6" height="6" rx="2" fill="var(--primary)" fill-opacity="0.25" />
	<rect x="51" y="41" width="6" height="6" rx="2" fill="var(--primary)" fill-opacity="0.25" />
	<rect x="51" y="61" width="6" height="6" rx="2" fill="var(--primary)" fill-opacity="0.25" />
	<rect x="51" y="71" width="6" height="6" rx="2" fill="var(--primary)" fill-opacity="0.25" />
	<rect x="87" y="71" width="6" height="6" rx="2" fill="var(--primary)" fill-opacity="0.1" />
	<rect x="63" y="31" width="6" height="6" rx="2" fill="var(--primary)" fill-opacity="0.25" />
	<rect x="39" y="31" width="6" height="6" rx="2" fill="var(--primary)" fill-opacity="0.1" />
	<rect x="63" y="41" width="6" height="6" rx="2" fill="var(--primary)" fill-opacity="0.25" />
	<rect x="63" y="51" width="6" height="6" rx="2" fill="var(--primary)" />
	<rect x="63" y="61" width="6" height="6" rx="2" fill="var(--primary)" fill-opacity="0.25" />
	<rect x="63" y="71" width="6" height="6" rx="2" fill="var(--primary)" fill-opacity="0.25" />
	<rect x="99" y="71" width="6" height="6" rx="2" fill="var(--primary)" fill-opacity="0.1" />
	<rect x="75" y="31" width="6" height="6" rx="2" fill="var(--primary)" fill-opacity="0.25" />
	<rect x="51" y="31" width="6" height="6" rx="2" fill="var(--primary)" fill-opacity="0.1" />
	<rect x="75" y="41" width="6" height="6" rx="2" fill="var(--primary)" fill-opacity="0.25" />
	<rect x="75" y="51" width="6" height="6" rx="2" fill="var(--primary)" fill-opacity="0.25" />
	<rect x="75" y="61" width="6" height="6" rx="2" fill="var(--primary)" fill-opacity="0.25" />
	<rect x="75" y="71" width="6" height="6" rx="2" fill="var(--primary)" fill-opacity="0.25" />
	<rect x="111" y="71" width="6" height="6" rx="2" fill="var(--primary)" fill-opacity="0.1" />
	<rect x="87" y="31" width="6" height="6" rx="2" fill="var(--primary)" fill-opacity="0.25" />
	<rect x="87" y="41" width="6" height="6" rx="2" fill="var(--primary)" fill-opacity="0.25" />
	<rect x="87" y="51" width="6" height="6" rx="2" fill="var(--primary)" fill-opacity="0.25" />
	<rect x="87" y="61" width="6" height="6" rx="2" fill="var(--primary)" fill-opacity="0.25" />
	<rect x="99" y="31" width="6" height="6" rx="2" fill="var(--primary)" fill-opacity="0.25" />
	<rect x="99" y="41" width="6" height="6" rx="2" fill="var(--primary)" fill-opacity="0.25" />
	<rect x="99" y="51" width="6" height="6" rx="2" fill="var(--primary)" fill-opacity="0.25" />
	<rect x="99" y="61" width="6" height="6" rx="2" fill="var(--primary)" fill-opacity="0.25" />
	<rect x="111" y="31" width="6" height="6" rx="2" fill="var(--primary)" fill-opacity="0.25" />
	<rect x="111" y="41" width="6" height="6" rx="2" fill="var(--primary)" fill-opacity="0.25" />
	<rect x="111" y="51" width="6" height="6" rx="2" fill="var(--primary)" fill-opacity="0.25" />
	<rect x="111" y="61" width="6" height="6" rx="2" fill="var(--primary)" fill-opacity="0.25" />
	<rect x="51" y="51" width="6" height="6" rx="2" fill="var(--primary)" fill-opacity="0.25" />
</svg>
`,Sq=Ne({id:"datetime",name:"$t:interfaces.datetime.datetime",description:"$t:interfaces.datetime.description",icon:"today",component:kq,types:["dateTime","date","time","timestamp"],group:"selection",options:[{field:"includeSeconds",name:"$t:interfaces.datetime.include_seconds",type:"boolean",meta:{width:"half",interface:"boolean"},schema:{default_value:!1}},{field:"use24",name:"$t:interfaces.datetime.use_24",type:"boolean",meta:{width:"half",interface:"boolean"},schema:{default_value:!0}}],recommendedDisplays:["datetime"],preview:Cq}),Vq=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:Sq});const Fq=z({components:{DrawerCollection:Xt,DrawerItem:qt},props:{value:{type:[String,Object],default:null},disabled:{type:Boolean,default:!1},folder:{type:String,default:void 0}},emits:["input"],setup(e,{emit:t}){const{t:l}=te(),n=E(null),{loading:s,file:u,fetchFile:o}=k();ye(()=>e.value,o,{immediate:!0});const i=V(()=>u.value===null?null:Yn(u.value.type,!0)),d=V(()=>{var U;const O=typeof e.value=="string"?e.value:(U=e.value)==null?void 0:U.id;return dt(Je()+`assets/${O}`)}),p=V(()=>u.value===null||e.value===null?null:u.value.type.includes("svg")?d.value:u.value.type.includes("image")===!1?null:Xl(d.value,{key:"system-small-cover"})),{edits:f,stageEdits:v}=L(),{url:y,isValidURL:_,loading:g,importFromURL:w}=P(),h=E(!1);return{t:l,activeDialog:n,setSelection:F,loading:s,file:u,fileExtension:i,imageThumbnail:p,onUpload:A,url:y,urlLoading:g,importFromURL:w,isValidURL:_,assetURL:d,editDrawerActive:h,edits:f,stageEdits:v};function k(){const O=E(!1),U=E(null);return{loading:O,file:U,fetchFile:T};async function T(){var B;if(e.value===null){U.value=null,O.value=!1;return}O.value=!0;try{const q=typeof e.value=="string"?e.value:(B=e.value)==null?void 0:B.id,K=await pe.get(`/files/${q}`,{params:{fields:["id","title","type","filename_download"]}});e.value!==null&&typeof e.value=="object"?U.value=oe(oe({},K.data.data),e.value):U.value=K.data.data}catch(q){Se(q)}finally{O.value=!1}}}function F(O){O[0]?t("input",O[0]):t("input",null)}function A(O){u.value=O,n.value=null,t("input",O.id)}function P(){const O=E(""),U=E(!1),T=V(()=>{try{return new URL(O.value),!0}catch{return!1}});return{url:O,loading:U,isValidURL:T,importFromURL:B};async function B(){var q;U.value=!0;try{const K=await pe.post("/files/import",{url:O.value,data:{folder:e.folder}});u.value=K.data.data,n.value=null,O.value="",t("input",(q=u.value)==null?void 0:q.id)}catch(K){Se(K)}finally{U.value=!1}}}function L(){return{edits:V(()=>e.value&&typeof e.value=="object"?e.value:{}),stageEdits:U};function U(T){!u.value||t("input",oe({id:u.value.id},T))}}}}),Aq={class:"file"},Iq=["src","alt"],Eq={key:1,class:"extension"};function Dq(e,t,l,n,s,u){const o=c("v-skeleton-loader"),i=c("v-icon"),d=c("v-input"),p=c("v-list-item-icon"),f=c("v-list-item-content"),v=c("v-list-item"),y=c("v-divider"),_=c("v-list"),g=c("v-menu"),w=c("drawer-item"),h=c("v-card-title"),k=c("v-upload"),F=c("v-card-text"),A=c("v-button"),P=c("v-card-actions"),L=c("v-card"),O=c("v-dialog"),U=c("drawer-collection"),T=we("tooltip");return m(),I("div",Aq,[a(g,{attached:"",disabled:e.loading},{activator:r(({toggle:B})=>[C("div",null,[e.loading?(m(),S(o,{key:0,type:"input"})):(m(),S(d,{key:1,clickable:"",readonly:"",placeholder:e.t("no_file_selected"),"model-value":e.file&&e.file.title,onClick:B},{prepend:r(()=>{var q,K;return[C("div",{class:ue(["preview",{"has-file":e.file,"is-svg":(K=(q=e.file)==null?void 0:q.type)==null?void 0:K.includes("svg")}])},[e.imageThumbnail?(m(),I("img",{key:0,src:e.imageThumbnail,alt:e.file.title},null,8,Iq)):e.fileExtension?(m(),I("span",Eq,b(e.fileExtension),1)):(m(),S(i,{key:2,name:"folder_open"}))],2)]}),append:r(()=>[e.file?(m(),I(ae,{key:0},[ne(a(i,{name:"open_in_new",class:"edit",onClick:t[0]||(t[0]=Ae(q=>e.editDrawerActive=!0,["stop"]))},null,512),[[T,e.t("edit")]]),e.disabled?R("",!0):ne((m(),S(i,{key:0,class:"deselect",name:"close",onClick:t[1]||(t[1]=Ae(q=>e.$emit("input",null),["stop"]))},null,512)),[[T,e.t("deselect")]])],64)):(m(),S(i,{key:1,name:"attach_file"}))]),_:2},1032,["placeholder","model-value","onClick"]))])]),default:r(()=>[a(_,null,{default:r(()=>[e.file?(m(),I(ae,{key:0},[a(v,{download:e.file.filename_download,href:e.assetURL},{default:r(()=>[a(p,null,{default:r(()=>[a(i,{name:"get_app"})]),_:1}),a(f,null,{default:r(()=>[D(b(e.t("download_file")),1)]),_:1})]),_:1},8,["download","href"]),e.disabled?R("",!0):(m(),S(y,{key:0}))],64)):R("",!0),e.disabled?R("",!0):(m(),I(ae,{key:1},[a(v,{clickable:"",onClick:t[2]||(t[2]=B=>e.activeDialog="upload")},{default:r(()=>[a(p,null,{default:r(()=>[a(i,{name:"phonelink"})]),_:1}),a(f,null,{default:r(()=>[D(b(e.t(e.file?"replace_from_device":"upload_from_device")),1)]),_:1})]),_:1}),a(v,{clickable:"",onClick:t[3]||(t[3]=B=>e.activeDialog="choose")},{default:r(()=>[a(p,null,{default:r(()=>[a(i,{name:"folder_open"})]),_:1}),a(f,null,{default:r(()=>[D(b(e.t(e.file?"replace_from_library":"choose_from_library")),1)]),_:1})]),_:1}),a(v,{clickable:"",onClick:t[4]||(t[4]=B=>e.activeDialog="url")},{default:r(()=>[a(p,null,{default:r(()=>[a(i,{name:"link"})]),_:1}),a(f,null,{default:r(()=>[D(b(e.t(e.file?"replace_from_url":"import_from_url")),1)]),_:1})]),_:1})],64))]),_:1})]),_:1},8,["disabled"]),e.file?(m(),S(w,{key:0,active:e.editDrawerActive,"onUpdate:active":t[5]||(t[5]=B=>e.editDrawerActive=B),collection:"directus_files","primary-key":e.file.id,edits:e.edits,onInput:e.stageEdits},null,8,["active","primary-key","edits","onInput"])):R("",!0),a(O,{"model-value":e.activeDialog==="upload",onEsc:t[7]||(t[7]=B=>e.activeDialog=null),"onUpdate:modelValue":t[8]||(t[8]=B=>e.activeDialog=null)},{default:r(()=>[a(L,null,{default:r(()=>[a(h,null,{default:r(()=>[D(b(e.t("upload_from_device")),1)]),_:1}),a(F,null,{default:r(()=>[a(k,{"from-url":"",folder:e.folder,onInput:e.onUpload},null,8,["folder","onInput"])]),_:1}),a(P,null,{default:r(()=>[a(A,{secondary:"",onClick:t[6]||(t[6]=B=>e.activeDialog=null)},{default:r(()=>[D(b(e.t("cancel")),1)]),_:1})]),_:1})]),_:1})]),_:1},8,["model-value"]),a(U,{collection:"directus_files",active:e.activeDialog==="choose","onUpdate:active":t[9]||(t[9]=B=>e.activeDialog=null),onInput:e.setSelection},null,8,["active","onInput"]),a(O,{"model-value":e.activeDialog==="url",persistent:e.urlLoading,"onUpdate:modelValue":t[12]||(t[12]=B=>e.activeDialog=null),onEsc:t[13]||(t[13]=B=>e.activeDialog=null)},{default:r(()=>[a(L,null,{default:r(()=>[a(h,null,{default:r(()=>[D(b(e.t("import_from_url")),1)]),_:1}),a(F,null,{default:r(()=>[a(d,{modelValue:e.url,"onUpdate:modelValue":t[10]||(t[10]=B=>e.url=B),autofocus:"",placeholder:e.t("url"),nullable:!1,disabled:e.urlLoading},null,8,["modelValue","placeholder","disabled"])]),_:1}),a(P,null,{default:r(()=>[a(A,{disabled:e.urlLoading,secondary:"",onClick:t[11]||(t[11]=B=>e.activeDialog=null)},{default:r(()=>[D(b(e.t("cancel")),1)]),_:1},8,["disabled"]),a(A,{loading:e.urlLoading,disabled:e.isValidURL===!1,onClick:e.importFromURL},{default:r(()=>[D(b(e.t("import_label")),1)]),_:1},8,["loading","disabled","onClick"])]),_:1})]),_:1})]),_:1},8,["model-value","persistent"])])}var Tq=N(Fq,[["render",Dq],["__scopeId","data-v-77621b15"]]),Pq=Ne({id:"file",name:"$t:interfaces.file.file",description:"$t:interfaces.file.description",icon:"note_add",component:Tq,types:["uuid"],localTypes:["file"],group:"relational",relational:!0,options:[{field:"folder",name:"$t:interfaces.system-folder.folder",type:"uuid",meta:{width:"full",interface:"system-folder",note:"$t:interfaces.system-folder.field_hint"},schema:{default_value:void 0}}],recommendedDisplays:["file"]}),Lq=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:Pq});const Oq=z({components:{FilePreview:co},props:{id:{type:String,required:!0},modelValue:{type:Boolean,default:void 0}},emits:["update:modelValue"],setup(e,{emit:t}){const l=E(!1),n=V({get(){return e.modelValue===void 0?l.value:e.modelValue},set(p){l.value=p,t("update:modelValue",p)}}),s=E(!1),u=E(null),o=E(bt()),i=V(()=>dt(Je()+`assets/${e.id}?cache-buster=${o.value}`));return ye(()=>e.id,(p,f)=>{p&&p!==f&&d()},{immediate:!0}),{internalActive:n,cacheBuster:o,loading:s,file:u,fileSrc:i};async function d(){o.value=bt(),s.value=!0;try{const p=await pe.get(`/files/${e.id}`,{params:{fields:["type","width","height","title"]}});u.value=p.data.data}catch(p){Se(p)}finally{s.value=!1}}}});function jq(e,t,l,n,s,u){const o=c("v-progress-circular"),i=c("file-preview"),d=c("v-icon"),p=c("v-button"),f=c("v-dialog");return m(),S(f,{modelValue:e.internalActive,"onUpdate:modelValue":t[2]||(t[2]=v=>e.internalActive=v),onEsc:t[3]||(t[3]=v=>e.internalActive=!1)},{activator:r(v=>[ge(e.$slots,"activator",He(Ze(v)),void 0,!0)]),default:r(()=>[e.loading?(m(),S(o,{key:0,indeterminate:""})):e.file?(m(),S(i,{key:1,src:e.fileSrc,mime:e.file.type,width:e.file.width,height:e.file.height,title:e.file.title,"in-modal":"",onClick:t[0]||(t[0]=v=>e.internalActive=!1)},null,8,["src","mime","width","height","title"])):R("",!0),a(p,{class:"close",icon:"",rounded:"",onClick:t[1]||(t[1]=v=>e.internalActive=!1)},{default:r(()=>[a(d,{name:"close"})]),_:1})]),_:3},8,["modelValue"])}var Rq=N(Oq,[["render",jq],["__scopeId","data-v-57968292"]]);const Mq=z({components:{FileLightbox:Rq,DrawerItem:qt},props:{value:{type:[String,Object],default:null},disabled:{type:Boolean,default:!1},folder:{type:String,default:void 0}},emits:["input"],setup(e,{emit:t}){const{t:l,n,te:s}=te(),u=E(!1),o=E(null),i=E(!1),d=E(!1),p=E(null),f=E(bt()),v=V(()=>{if(!o.value)return null;if(o.value.type.includes("svg"))return dt(Je()+`assets/${o.value.id}`);if(o.value.type.includes("image")){const O=Je()+`assets/${o.value.id}?key=system-large-cover&cache-buster=${f.value}`;return dt(O)}return null}),y=V(()=>o.value?dt(Je()+`assets/${o.value.id}`):null),_=V(()=>{if(!o.value)return null;const{filesize:O,width:U,height:T,type:B}=o.value;return U&&T?`${n(U)}x${n(T)} \u2022 ${Vl(O)} \u2022 ${B}`:`${Vl(O)} \u2022 ${B}`});ye(()=>e.value,(O,U)=>{O!==U&&(O&&h(),U&&O===null&&P())},{immediate:!0});const{edits:g,stageEdits:w}=L();return{t:l,loading:u,image:o,src:v,imageError:p,imageErrorHandler:k,meta:_,lightboxActive:i,editDrawerActive:d,changeCacheBuster:F,setImage:A,deselect:P,downloadSrc:y,edits:g,stageEdits:w};async function h(){var O;u.value=!0;try{const U=typeof e.value=="string"?e.value:(O=e.value)==null?void 0:O.id,T=await pe.get(`/files/${U}`,{params:{fields:["id","title","width","height","filesize","type","filename_download"]}});e.value!==null&&typeof e.value=="object"?o.value=oe(oe({},T.data.data),e.value):o.value=T.data.data}catch(U){Se(U)}finally{u.value=!1}}async function k(){var O,U,T,B;if(!!v.value)try{await pe.get(v.value)}catch(q){p.value=(B=(T=(U=(O=q.response)==null?void 0:O.data)==null?void 0:U.errors[0])==null?void 0:T.extensions)==null?void 0:B.code,(!p.value||!s("errors."+p.value))&&(p.value="UNKNOWN")}}function F(){f.value=bt()}function A(O){o.value=O,t("input",O.id)}function P(){t("input",null),u.value=!1,o.value=null,i.value=!1,d.value=!1}function L(){return{edits:V(()=>e.value&&typeof e.value=="object"?e.value:{}),stageEdits:U};function U(T){!o.value||t("input",oe({id:o.value.id},T))}}}}),Uq=e=>(We("data-v-4eff06c7"),e=e(),Ge(),e),Nq={class:"image"},Bq={key:0,class:"image-error"},qq={class:"message"},zq=["src"],Kq=Uq(()=>C("div",{class:"shadow"},null,-1)),Hq={key:2,class:"actions"},Wq={class:"info"},Gq={class:"title"},Jq={class:"meta"};function Qq(e,t,l,n,s,u){const o=c("v-skeleton-loader"),i=c("v-notice"),d=c("v-icon"),p=c("v-button"),f=c("drawer-item"),v=c("file-lightbox"),y=c("v-upload"),_=we("tooltip");return m(),I("div",Nq,[e.loading?(m(),S(o,{key:0,type:"input-tall"})):e.disabled&&!e.image?(m(),S(i,{key:1,class:"disabled-placeholder",center:"",icon:"block"},{default:r(()=>[D(b(e.t("disabled")),1)]),_:1})):e.image?(m(),I("div",{key:2,class:ue(["image-preview",{"is-svg":e.image.type&&e.image.type.includes("svg")}])},[e.imageError?(m(),I("div",Bq,[a(d,{large:"",name:e.imageError==="UNKNOWN"?"error_outline":"info_outline"},null,8,["name"]),C("span",qq,b(e.t(`errors.${e.imageError}`)),1)])):(m(),I("img",{key:1,src:e.src,alt:"",role:"presentation",onError:t[0]||(t[0]=(...g)=>e.imageErrorHandler&&e.imageErrorHandler(...g))},null,40,zq)),Kq,e.disabled?R("",!0):(m(),I("div",Hq,[ne(a(p,{icon:"",rounded:"",onClick:t[1]||(t[1]=g=>e.lightboxActive=!0)},{default:r(()=>[a(d,{name:"zoom_in"})]),_:1},512),[[_,e.t("zoom")]]),ne(a(p,{icon:"",rounded:"",href:e.downloadSrc,download:e.image.filename_download},{default:r(()=>[a(d,{name:"get_app"})]),_:1},8,["href","download"]),[[_,e.t("download")]]),ne(a(p,{icon:"",rounded:"",onClick:t[2]||(t[2]=g=>e.editDrawerActive=!0)},{default:r(()=>[a(d,{name:"open_in_new"})]),_:1},512),[[_,e.t("edit")]]),ne(a(p,{icon:"",rounded:"",onClick:e.deselect},{default:r(()=>[a(d,{name:"close"})]),_:1},8,["onClick"]),[[_,e.t("deselect")]])])),C("div",Wq,[C("div",Gq,b(e.image.title),1),C("div",Jq,b(e.meta),1)]),!e.disabled&&e.image?(m(),S(f,{key:3,active:e.editDrawerActive,"onUpdate:active":t[3]||(t[3]=g=>e.editDrawerActive=g),collection:"directus_files","primary-key":e.image.id,edits:e.edits,onInput:e.stageEdits},null,8,["active","primary-key","edits","onInput"])):R("",!0),a(v,{id:e.image.id,modelValue:e.lightboxActive,"onUpdate:modelValue":t[4]||(t[4]=g=>e.lightboxActive=g)},null,8,["id","modelValue"])],2)):(m(),S(y,{key:3,"from-library":"","from-url":"",folder:e.folder,onInput:e.setImage},null,8,["folder","onInput"]))])}var Xq=N(Mq,[["render",Qq],["__scopeId","data-v-4eff06c7"]]),Zq=Ne({id:"file-image",name:"$t:interfaces.file-image.image",description:"$t:interfaces.file-image.description",icon:"insert_photo",component:Xq,types:["uuid"],localTypes:["file"],group:"relational",relational:!0,options:[{field:"folder",name:"$t:interfaces.system-folder.folder",type:"uuid",meta:{width:"full",interface:"system-folder",note:"$t:interfaces.system-folder.field_hint"},schema:{default_value:void 0}}],recommendedDisplays:["image"]}),Yq=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:Zq});function Ti(e,t,l){function n(y){const{junctionPkField:_}=t.value;return e.value===null?null:e.value.find(g=>M.exports.get(g,_)===y||g===y)||null}function s(){const{junctionField:y}=t.value;return e.value===null||y===null?[]:e.value.filter(_=>typeof _=="object"&&y in _&&typeof _[y]!="object")}function u(){const{junctionField:y,relationPkField:_}=t.value;return e.value===null||y===null?[]:e.value.filter(g=>typeof M.exports.get(g,y)=="object"&&M.exports.has(g,[y,_])===!1)}function o(){const{junctionField:y,relationPkField:_}=t.value;return e.value===null||y===null?[]:e.value.filter(g=>M.exports.has(g,[y,_]))}function i(){return e.value===null?[]:e.value.filter(y=>["string","number"].includes(typeof y))}function d(){const{junctionPkField:y}=t.value;return e.value===null?[]:e.value.reduce((_,g)=>{const w=M.exports.get(g,[y]);return["string","number"].includes(typeof g)?_.push(g):w!==void 0&&_.push(w),_},[])}function p(){if(e.value===null)return[];const{junctionField:y,relationPkField:_}=t.value;return e.value.reduce((g,w)=>{const h=M.exports.get(w,y),k=M.exports.get(w,[y,_]);return h!==void 0?g.push(h):k!==void 0&&g.push(k),g},[])}function f(y,_){const{relationPkField:g,junctionField:w}=t.value;return _.find(h=>M.exports.get(h,[w,g])===y)||null}function v(y){if(e.value===null)return;const{junctionField:_,relationPkField:g,junctionPkField:w}=t.value,h=M.exports.get(y,w),k=M.exports.get(y,[_,g]),F=e.value.filter(A=>{if(h!==void 0)return typeof A=="object"?M.exports.get(A,[w])!==h:A!==h;if(k!==void 0){const P=M.exports.get(A,[_,g]);if(["string","number"].includes(typeof P))return P!==k;const L=M.exports.get(A,[_]);if(["string","number"].includes(typeof L))return L!==k}return M.exports.isEqual(A,y)===!1});l(F)}return{getJunctionItem:n,getNewSelectedItems:s,getNewItems:u,getUpdatedItems:o,getExistingItems:i,getPrimaryKeys:d,getRelatedPrimaryKeys:p,getJunctionFromRelatedId:f,deleteItem:v}}function Pi(e,t){var s;if(!(t==null?void 0:t.length))return[];const l=Te(),n=[];for(const u of t){if(n.push(u),!u.includes("."))continue;const o=u.split("."),i=l.getField(e,u),d=l.getPrimaryKeyFieldForCollection((s=i==null?void 0:i.collection)!=null?s:""),p=o.slice(0,-1).concat(d.field).join(".");n.includes(p)||n.push(p)}return n}function Li(e,t,l,n,s,u,o){const i=Te(),d=E([]),p=E(!1),f=E([]),v=E(null);return ye(()=>e.value,async k=>{if(k===null){f.value=[];return}p.value=!0;const{junctionField:F,relationPkField:A,junctionPkField:P,relationCollection:L}=l.value;if(F===null)return;const O=await g(),U=O.reduce((B,q)=>{const K=M.exports.get(q,F);return K!==null&&B.push(K),B},[]),T=[...t.value.length>0?y(t.value):h()];T.includes(A)===!1&&T.push(A);try{let B=[];U.length>0&&(B=await w(L,T,A,U)),B=B.map(H=>{const Y=M.exports.get(H,A),J=O.find(fe=>fe[F]===Y);if(J===void 0||Y===void 0)return;const re=M.exports.cloneDeep(J);return re[F]=H,re});const q=s(),K=u();B=B.map(H=>{const Y=q.find(J=>M.exports.get(J,[F,P])===M.exports.get(H,[F,P]));return Y!==void 0?M.exports.merge(H,Y):H}).concat(...K),f.value=B}catch(B){v.value=B}finally{p.value=!1}},{immediate:!0}),ye(()=>t.value,()=>{const{junctionField:k,junctionCollection:F}=l.value;d.value=(t.value.length>0?t.value:h().map(A=>`${k}.${A}`)).map(A=>{var O,U,T,B;const P=i.getField(F,A);return P?{text:P.name,value:A,align:"left",sortable:!0,width:null,field:{display:(O=P.meta)==null?void 0:O.display,displayOptions:(U=P.meta)==null?void 0:U.display_options,interface:(T=P.meta)==null?void 0:T.interface,interfaceOptions:(B=P.meta)==null?void 0:B.options,type:P.type,field:P.field}}:null}).filter(A=>A)},{immediate:!0}),{tableHeaders:d,items:f,loading:p,error:v};function y(k){const{junctionField:F}=l.value;return k.reduce((A,P)=>{const L=P.split(".");return F===L[0]&&L.length>=2&&A.push(L.slice(1).join(".")),A},[])}function _(){return(t.value||[]).filter(k=>k.includes(".")===!1)}async function g(){const{junctionPkField:k,junctionField:F,relationPkField:A,junctionCollection:P}=l.value;try{let L=[];const O=o();if(O.length>0){const T=_();T.includes(k)===!1&&T.push(k),T.includes(F)===!1&&T.push(F),l.value.sortField!==null&&T.includes(l.value.sortField)===!1&&T.push(l.value.sortField),L=await w(P,T,k,O)}const U=s().map(T=>({[F]:T[F][A]}));return L.concat(...n(),...U)}catch(L){v.value=L}return[]}async function w(k,F,A,P){if(F===null||F.length===0||P===null||P.length===0)return[];const L=Pi(k,F),O=await pe.get(Jt(k),{params:{fields:L,[`filter[${A}][_in]`]:P.join(",")}});return O==null?void 0:O.data.data}function h(){return i.getFieldsForCollection(l.value.relationCollection).slice(0,3).map(F=>F.field)}}function Oi(e,t,l){const n=E(!1),s=E(null),u=E(null),o=E({});function i(f){const{relationPkField:v,junctionField:y,junctionPkField:_}=t.value;n.value=!0,o.value=f,s.value=M.exports.get(f,[_],null),u.value=M.exports.get(f,[y,v],null)}function d(f){const{relationPkField:v,junctionField:y,junctionPkField:_}=t.value,g=(e.value||[]).map(w=>{if(s.value!==null){const h=s.value;if(typeof w=="object"&&_ in w){if(w[_]===h)return f}else if(["number","string"].includes(typeof w)&&w===h)return f}if(u.value!=null){const h=u.value;if(M.exports.get(w,[y],null)===h||M.exports.get(w,[y,v],null)===h)return f}return M.exports.isEqual(o.value,w)?f:w});u.value===null&&s.value===null&&g.includes(f)===!1&&g.push(f),g.length===0?l(null):l(g),p()}function p(){n.value=!1,o.value={},s.value=null,u.value=null}return{currentlyEditing:s,editItem:i,editsAtStart:o,stageEdits:d,cancelEdit:p,relatedPrimaryKey:u,editModalActive:n}}function ji(e,t,l){const n=E(!1),s=V(()=>{if(e.value===null)return[];const{relationPkField:o,junctionField:i}=t.value;return e.value.reduce((p,f)=>{const v=M.exports.get(f,[i,o]);return v!==void 0&&p.push(v),p},[])});function u(o){const{junctionField:i}=t.value,d=o.map(p=>({[i]:p}));d.length===0?l(null):l(d)}return{stageSelection:u,selectModalActive:n,selectedPrimaryKeys:s}}function Ri(e,t,l,n){const s=E({by:e.value.sortField||t.value[0],desc:!1}),u=V(()=>{const i=e.value.sortField;if(i===null||s.value.by!==i)return l.value;const d=s.value.desc,p=M.exports.sortBy(l.value,[i]);return d?p.reverse():p});return{sort:s,sortItems:o,sortedItems:u};function o(i){const d=e.value.sortField;if(d===null)return;const p=i.map((f,v)=>(f[d]=v,f));n(p)}}function Mi(e,t){const l=Tt(),n=Xe(),s=V(()=>{var p;if(((p=n.currentUser)==null?void 0:p.role.admin_access)===!0)return!0;const i=!!l.permissions.find(f=>f.action==="create"&&f.collection===e.value.collection),d=!!l.permissions.find(f=>f.action==="create"&&f.collection===t.value.collection);return i&&d}),u=V(()=>{var d;return((d=n.currentUser)==null?void 0:d.role.admin_access)===!0?!0:!!l.permissions.find(p=>p.action==="create"&&p.collection===e.value.collection)});return{createAllowed:s,selectAllowed:u}}const xq=z({components:{DrawerItem:qt,DrawerCollection:Xt,Draggable:kt},props:{value:{type:Array,default:null},primaryKey:{type:[Number,String],required:!0},collection:{type:String,required:!0},field:{type:String,required:!0},template:{type:String,default:null},disabled:{type:Boolean,default:!1},enableCreate:{type:Boolean,default:!0},enableSelect:{type:Boolean,default:!0},folder:{type:String,default:void 0}},emits:["input"],setup(e,{emit:t}){const{t:l}=te(),{value:n,collection:s,field:u}=Ue(e),{junction:o,junctionCollection:i,relation:d,relationCollection:p,relationInfo:f}=sl(s,u),v=V(()=>{var ce,ve;if(e.template)return e.template;if((ce=i.value.meta)==null?void 0:ce.display_template)return i.value.meta.display_template;let Z=(ve=p.value.meta)==null?void 0:ve.display_template;if(Z){const Q=/({{.*?}})/g,ie=Z.split(Q).filter(de=>de);for(const de of ie){if(de.startsWith("{{")===!1)continue;const me=de.replace(/{{/g,"").replace(/}}/g,"").trim(),he=`{{${d.value.field}.${me}}}`;Z=Z.replace(de,he)}return Z}return`{{${d.value.field}.${f.value.relationPkField}}}`}),y=V(()=>Zt(yt(v.value),i.value.collection)),{deleteItem:_,getUpdatedItems:g,getNewItems:w,getPrimaryKeys:h,getNewSelectedItems:k}=Ti(n,f,G),{tableHeaders:F,items:A,loading:P}=Li(n,y,f,k,g,w,h),{currentlyEditing:L,editItem:O,editsAtStart:U,stageEdits:T,cancelEdit:B,relatedPrimaryKey:q,editModalActive:K}=Oi(n,f,G),{stageSelection:H,selectModalActive:Y}=ji(A,f,G),{sort:J,sortItems:re,sortedItems:fe}=Ri(f,y,A,G),{createAllowed:X,selectAllowed:x}=Mi(i,p),{showUpload:ee,onUpload:se}=le(),W=V(()=>{if(!(q.value===null||p.value.collection!=="directus_files"))return dt(Je()+`assets/${q.value}`)});return{t:l,junction:o,relation:d,tableHeaders:F,loading:P,currentlyEditing:L,editItem:O,junctionCollection:i,relationCollection:p,editsAtStart:U,stageEdits:T,cancelEdit:B,stageSelection:H,selectModalActive:Y,deleteItem:_,items:A,relationInfo:f,relatedPrimaryKey:q,get:M.exports.get,editModalActive:K,sort:J,sortItems:re,sortedItems:fe,templateWithDefaults:v,createAllowed:X,selectAllowed:x,onUpload:se,showUpload:ee,downloadUrl:W};function G(Z){t("input",Z)}function le(){const Z=E(!1);return{showUpload:Z,onUpload:ce};function ce(ve){if(Z.value=!1,ve.length===0)return;const{junctionField:Q}=f.value,ie=ve.map(de=>({[Q]:de.id}));t("input",[...e.value||[],...ie])}}}}),ez=e=>(We("data-v-7bb3f202"),e=e(),Ge(),e),tz={key:1,class:"many-to-many"},nz=ez(()=>C("div",{class:"spacer"},null,-1)),lz={key:3,class:"actions"};function oz(e,t,l,n,s,u){const o=c("v-notice"),i=c("v-skeleton-loader"),d=c("v-icon"),p=c("render-template"),f=c("v-list-item"),v=c("draggable"),y=c("v-list"),_=c("v-button"),g=c("drawer-item"),w=c("drawer-collection"),h=c("v-card-title"),k=c("v-upload"),F=c("v-card-text"),A=c("v-card-actions"),P=c("v-card"),L=c("v-dialog");return!e.junction||!e.relation?(m(),S(o,{key:0,type:"warning"},{default:r(()=>[D(b(e.t("relationship_not_setup")),1)]),_:1})):(m(),I("div",tz,[e.loading?(m(!0),I(ae,{key:0},be((e.value||[]).length||3,O=>(m(),S(i,{key:O,type:(e.value||[]).length>4?"block-list-item-dense":"block-list-item"},null,8,["type"]))),128)):e.sortedItems.length===0?(m(),S(o,{key:1},{default:r(()=>[D(b(e.t("no_items")),1)]),_:1})):(m(),S(y,{key:2},{default:r(()=>[a(v,{"force-fallback":!0,"model-value":e.sortedItems,"item-key":"id",handle:".drag-handle",disabled:!e.junction.meta.sort_field,"onUpdate:modelValue":t[1]||(t[1]=O=>e.sortItems(O))},{item:r(({element:O})=>[a(f,{dense:e.sortedItems.length>4,block:"",clickable:"",onClick:U=>e.editItem(O)},{default:r(()=>[e.junction.meta.sort_field?(m(),S(d,{key:0,name:"drag_handle",class:"drag-handle",left:"",onClick:t[0]||(t[0]=Ae(()=>{},["stop"]))})):R("",!0),a(p,{collection:e.junctionCollection.collection,item:O,template:e.templateWithDefaults},null,8,["collection","item","template"]),nz,e.disabled?R("",!0):(m(),S(d,{key:1,name:"close",onClick:Ae(U=>e.deleteItem(O),["stop"])},null,8,["onClick"]))]),_:2},1032,["dense","onClick"])]),_:1},8,["model-value","disabled"])]),_:1})),e.disabled?R("",!0):(m(),I("div",lz,[e.enableCreate&&e.createAllowed?(m(),S(_,{key:0,onClick:t[2]||(t[2]=O=>e.showUpload=!0)},{default:r(()=>[D(b(e.t("upload_file")),1)]),_:1})):R("",!0),e.enableSelect&&e.selectAllowed?(m(),S(_,{key:1,onClick:t[3]||(t[3]=O=>e.selectModalActive=!0)},{default:r(()=>[D(b(e.t("add_existing")),1)]),_:1})):R("",!0)])),e.disabled?R("",!0):(m(),S(g,{key:4,active:e.editModalActive,collection:e.relationInfo.junctionCollection,"primary-key":e.currentlyEditing||"+","related-primary-key":e.relatedPrimaryKey||"+","junction-field":e.relationInfo.junctionField,edits:e.editsAtStart,"circular-field":e.junction.field,onInput:e.stageEdits,"onUpdate:active":e.cancelEdit},{actions:r(()=>[e.currentlyEditing!=="+"&&e.relationCollection.collection==="directus_files"?(m(),S(_,{key:0,secondary:"",rounded:"",icon:"",download:"",href:e.downloadUrl},{default:r(()=>[a(d,{name:"download"})]),_:1},8,["href"])):R("",!0)]),_:1},8,["active","collection","primary-key","related-primary-key","junction-field","edits","circular-field","onInput","onUpdate:active"])),e.disabled?R("",!0):(m(),S(w,{key:5,active:e.selectModalActive,"onUpdate:active":t[4]||(t[4]=O=>e.selectModalActive=O),collection:e.relationCollection.collection,selection:[],multiple:"",onInput:e.stageSelection},null,8,["active","collection","onInput"])),e.disabled?R("",!0):(m(),S(L,{key:6,modelValue:e.showUpload,"onUpdate:modelValue":t[6]||(t[6]=O=>e.showUpload=O)},{default:r(()=>[a(P,null,{default:r(()=>[a(h,null,{default:r(()=>[D(b(e.t("upload_file")),1)]),_:1}),a(F,null,{default:r(()=>[a(k,{multiple:"","from-url":"",folder:e.folder,onInput:e.onUpload},null,8,["folder","onInput"])]),_:1}),a(A,null,{default:r(()=>[a(_,{onClick:t[5]||(t[5]=O=>e.showUpload=!1)},{default:r(()=>[D(b(e.t("done")),1)]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"]))]))}var az=N(xq,[["render",oz],["__scopeId","data-v-7bb3f202"]]),iz=`<svg width="156" height="96" fill="none" xmlns="http://www.w3.org/2000/svg">
	<rect x="19" y="9" width="56" height="36" rx="6" fill="var(--background-page)" class="glow" />
	<rect x="20" y="10" width="54" height="34" rx="5" stroke="var(--primary)" stroke-width="2" />
	<rect x="25" y="15" width="44" height="24" rx="4" fill="var(--primary)" fill-opacity=".25" />
	<path d="M36.695 27.2L45.39 35H28l8.695-7.8z" fill="var(--primary)" />
	<path d="M52.153 23L66 35H38.305l13.848-12z" fill="var(--primary)" />
	<rect x="81" y="9" width="56" height="36" rx="6" fill="var(--background-page)" />
	<rect x="82" y="10" width="54" height="34" rx="5" stroke="var(--primary)" stroke-opacity=".25" stroke-width="2" />
	<rect x="87" y="15" width="44" height="24" rx="4" fill="var(--primary)" fill-opacity=".25" />
	<path d="M98.695 27.2l8.695 7.8H90l8.695-7.8z" fill="var(--primary)" />
	<path d="M114.153 23L128 35h-27.695l13.848-12z" fill="var(--primary)" />
	<rect x="19" y="51" width="56" height="36" rx="6" fill="var(--background-page)" />
	<rect x="20" y="52" width="54" height="34" rx="5" stroke="var(--primary)" stroke-opacity=".25" stroke-width="2" />
	<rect x="25" y="57" width="44" height="24" rx="4" fill="var(--primary)" fill-opacity=".25" />
	<path d="M36.695 69.2L45.39 77H28l8.695-7.8z" fill="var(--primary)" />
	<path d="M52.153 65L66 77H38.305l13.848-12z" fill="var(--primary)" />
	<rect x="81" y="51" width="56" height="36" rx="6" fill="var(--background-page)" />
	<rect x="82" y="52" width="54" height="34" rx="5" stroke="var(--primary)" stroke-opacity=".25" stroke-width="2" />
	<rect x="87" y="57" width="44" height="24" rx="4" fill="var(--primary)" fill-opacity=".25" />
	<path d="M98.695 69.2l8.695 7.8H90l8.695-7.8z" fill="var(--primary)" />
	<path d="M114.153 65L128 77h-27.695l13.848-12z" fill="var(--primary)" />
</svg>
`,sz=Ne({id:"files",name:"$t:interfaces.files.files",description:"$t:interfaces.files.description",icon:"note_add",component:az,relational:!0,types:["alias"],localTypes:["files"],group:"relational",options:({relations:e})=>{var t,l;return[{field:"folder",name:"$t:interfaces.system-folder.folder",type:"uuid",meta:{width:"full",interface:"system-folder",note:"$t:interfaces.system-folder.field_hint"},schema:{default_value:void 0}},{field:"template",name:"$t:display_template",meta:{interface:"system-display-template",options:{collectionName:(l=(t=e.m2o)==null?void 0:t.related_collection)!=null?l:null}}},{field:"enableCreate",name:"$t:creating_items",schema:{default_value:!0},meta:{interface:"boolean",options:{label:"$t:enable_create_button"},width:"half"}},{field:"enableSelect",name:"$t:selecting_items",schema:{default_value:!0},meta:{interface:"boolean",options:{label:"$t:enable_select_button"},width:"half"}}]},recommendedDisplays:["related-values"],preview:iz}),rz=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:sz});const dz=z({name:"AccordionSection",props:{field:{type:Object,required:!0},fields:{type:Array,required:!0},values:{type:Object,required:!0},initialValues:{type:Object,required:!0},disabled:{type:Boolean,default:!1},batchMode:{type:Boolean,default:!1},batchActiveFields:{type:Array,default:()=>[]},primaryKey:{type:[Number,String],required:!0},loading:{type:Boolean,default:!1},validationErrors:{type:Array,default:()=>[]},group:{type:String,required:!0},multiple:{type:Boolean,default:!1}},emits:["apply","toggleAll"],setup(e,{emit:t}){const{t:l}=te(),n=V(()=>e.fields.filter(o=>{var i,d,p;return!(((i=o.meta)==null?void 0:i.group)===e.group&&((d=o.meta)==null?void 0:d.id)!==((p=e.field.meta)==null?void 0:p.id))}).map(o=>{var i,d;return((i=o.meta)==null?void 0:i.id)===((d=e.field.meta)==null?void 0:d.id)?M.exports.merge({},o,{hideLabel:!0}):o})),s=V(()=>{const o=e.validationErrors.find(i=>i.field===e.field.field);if(o!==void 0)return o.code==="RECORD_NOT_UNIQUE"?l("validationError.unique"):l(`validationError.${o.type}`,o)});return{fieldsInSection:n,handleModifier:u,validationMessage:s};function u(o,i){if(e.multiple===!1){i();return}o.shiftKey?t("toggleAll"):i()}}}),uz=["onClick"],cz={key:0,class:"fields"};function pz(e,t,l,n,s,u){const o=c("v-icon"),i=c("v-form"),d=c("transition-expand"),p=c("v-item"),f=we("tooltip");return m(),S(p,{value:e.field.field,scope:"group-accordion",class:"accordion-section"},{default:r(({active:v,toggle:y})=>[C("div",{class:ue(["label type-title",{active:v}]),onClick:_=>e.handleModifier(_,y)},[a(o,{class:ue(["icon",{active:v}]),name:"expand_more"},null,8,["class"]),D(" "+b(e.field.name)+" ",1),!v&&e.validationMessage?ne((m(),S(o,{key:0,class:"warning",name:"error_outline",small:""},null,512)),[[f,e.validationMessage]]):R("",!0)],10,uz),a(d,null,{default:r(()=>[v?(m(),I("div",cz,[a(i,{"initial-values":e.initialValues,fields:e.fieldsInSection,"model-value":e.values,"primary-key":e.primaryKey,group:e.group,"validation-errors":e.validationErrors,loading:e.loading,"batch-mode":e.batchMode,"onUpdate:modelValue":t[0]||(t[0]=_=>e.$emit("apply",_))},null,8,["initial-values","fields","model-value","primary-key","group","validation-errors","loading","batch-mode"])])):R("",!0)]),_:2},1024)]),_:1},8,["value"])}var mz=N(dz,[["render",pz],["__scopeId","data-v-2ba1fbc5"]]);const fz=z({name:"InterfaceGroupAccordion",components:{AccordionSection:mz},props:{field:{type:Object,required:!0},fields:{type:Array,required:!0},values:{type:Object,required:!0},initialValues:{type:Object,required:!0},disabled:{type:Boolean,default:!1},batchMode:{type:Boolean,default:!1},batchActiveFields:{type:Array,default:()=>[]},primaryKey:{type:[Number,String],required:!0},loading:{type:Boolean,default:!1},validationErrors:{type:Array,default:()=>[]},accordionMode:{type:Boolean,default:!0},start:{type:String,enum:["opened","closed","first"],default:"closed"}},emits:["apply"],setup(e){const t=V(()=>e.fields.filter(s=>{var u,o;return((u=s.meta)==null?void 0:u.group)===((o=e.field.meta)==null?void 0:o.field)})),l=E([]);return ye(()=>e.start,s=>{s==="opened"&&(l.value=t.value.map(u=>u.field)),s==="first"&&(l.value=[t.value[0].field])},{immediate:!0}),{rootFields:t,selection:l,toggleAll:n};function n(){e.accordionMode!==!0&&(l.value.length===t.value.length?l.value=[]:l.value=t.value.map(s=>s.field))}}});function vz(e,t,l,n,s,u){const o=c("accordion-section"),i=c("v-item-group");return m(),S(i,{modelValue:e.selection,"onUpdate:modelValue":t[1]||(t[1]=d=>e.selection=d),scope:"group-accordion",class:"group-accordion",multiple:e.accordionMode===!1},{default:r(()=>[(m(!0),I(ae,null,be(e.rootFields,d=>(m(),S(o,{key:d.field,field:d,fields:e.fields,values:e.values,"initial-values":e.initialValues,disabled:e.disabled,"batch-mode":e.batchMode,"batch-active-fields":e.batchActiveFields,"primary-key":e.primaryKey,loading:e.loading,"validation-errors":e.validationErrors,group:e.field.meta.field,multiple:e.accordionMode===!1,onApply:t[0]||(t[0]=p=>e.$emit("apply",p)),onToggleAll:e.toggleAll},null,8,["field","fields","values","initial-values","disabled","batch-mode","batch-active-fields","primary-key","loading","validation-errors","group","multiple","onToggleAll"]))),128))]),_:1},8,["modelValue","multiple"])}var _z=N(fz,[["render",vz]]),yz=Ne({id:"group-accordion",name:"$t:interfaces.group-accordion.name",description:"$t:interfaces.group-accordion.description",icon:"horizontal_split",component:_z,hideLabel:!0,hideLoader:!0,types:["alias"],localTypes:["group"],group:"group",options:[{field:"accordionMode",type:"boolean",name:"$t:interfaces.group-accordion.accordion_mode",meta:{interface:"boolean",options:{label:"$t:interfaces.group-accordion.max_one_section_open"},width:"half"},schema:{default_value:!0}},{field:"start",type:"string",name:"$t:start",schema:{default_value:"closed"},meta:{width:"half",interface:"select-dropdown",options:{choices:[{text:"$t:interfaces.group-accordion.all_closed",value:"closed"},{text:"$t:interfaces.group-accordion.first_opened",value:"first"}]},conditions:[{rule:{accordionMode:{_eq:!1}},options:{choices:[{text:"$t:interfaces.group-accordion.all_closed",value:"closed"},{text:"$t:interfaces.group-accordion.first_opened",value:"first"},{text:"$t:interfaces.group-accordion.all_opened",value:"opened"}]}}]}}]}),gz=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:yz});const hz=z({name:"InterfaceGroupDetail",props:{field:{type:Object,required:!0},fields:{type:Array,required:!0},values:{type:Object,required:!0},initialValues:{type:Object,required:!0},disabled:{type:Boolean,default:!1},batchMode:{type:Boolean,default:!1},batchActiveFields:{type:Array,default:()=>[]},primaryKey:{type:[Number,String],required:!0},loading:{type:Boolean,default:!1},validationErrors:{type:Array,default:()=>[]},start:{type:String,enum:["open","closed"],default:"open"},headerIcon:{type:String,default:null},headerColor:{type:String,default:null}},emits:["apply"],setup(e){const{t}=te();return{validationMessages:V(()=>{if(!e.validationErrors)return;const n=e.fields.map(u=>u.field),s=e.validationErrors.reduce((u,o)=>(n.includes(o.field)===!1||(o.code==="RECORD_NOT_UNIQUE"?u.push(`${Et(o.field)} ${t("validationError.unique").toLowerCase()}`):u.push(`${Et(o.field)} ${t(`validationError.${o.type}`,o).toLowerCase()}`)),u),[]);if(s.length!==0)return s.join(`
`)})}}}),bz={key:0,class:"title"};function $z(e,t,l,n,s,u){const o=c("v-icon"),i=c("v-divider"),d=c("v-form"),p=c("v-detail"),f=we("tooltip");return m(),S(p,{"start-open":e.start==="open",class:"group-detail"},{activator:r(({toggle:v,active:y})=>[a(i,{style:ze({"--v-divider-label-color":e.headerColor}),class:ue({active:y}),"inline-title":!1,large:"",onClick:v},xe({default:r(()=>[e.field.name?(m(),I("span",bz,b(e.field.name),1)):R("",!0),!y&&e.validationMessages?ne((m(),S(o,{key:1,class:"warning",name:"error_outline",small:""},null,512)),[[f,e.validationMessages]]):R("",!0),a(o,{class:"expand-icon",name:"expand_more"})]),_:2},[e.headerIcon?{name:"icon",fn:r(()=>[a(o,{name:e.headerIcon,class:"header-icon"},null,8,["name"])])}:void 0]),1032,["style","class","onClick"])]),default:r(()=>[a(d,{"initial-values":e.initialValues,fields:e.fields,"model-value":e.values,"primary-key":e.primaryKey,group:e.field.meta.field,"validation-errors":e.validationErrors,loading:e.loading,"batch-mode":e.batchMode,"onUpdate:modelValue":t[0]||(t[0]=v=>e.$emit("apply",v))},null,8,["initial-values","fields","model-value","primary-key","group","validation-errors","loading","batch-mode"])]),_:1},8,["start-open"])}var wz=N(hz,[["render",$z],["__scopeId","data-v-2875ec12"]]),kz=Ne({id:"group-detail",name:"$t:interfaces.group-detail.name",description:"$t:interfaces.group-detail.description",icon:"menu_open",component:wz,localTypes:["group"],group:"group",types:["alias"],options:[{field:"start",name:"$t:start",type:"string",schema:{default_value:"open"},meta:{interface:"select-dropdown",width:"full",options:{choices:[{text:"$t:interfaces.group-detail.start_open",value:"open"},{text:"$t:interfaces.group-detail.start_closed",value:"closed"}]}}},{field:"headerIcon",name:"$t:interfaces.group-detail.header_icon",type:"string",meta:{interface:"select-icon",width:"half"}},{field:"headerColor",name:"$t:interfaces.group-detail.header_color",type:"string",meta:{interface:"select-color",width:"half"}}]}),Cz=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:kz});const Sz=z({name:"InterfaceGroupRaw",props:{field:{type:Object,required:!0},fields:{type:Array,required:!0},values:{type:Object,required:!0},initialValues:{type:Object,required:!0},disabled:{type:Boolean,default:!1},batchMode:{type:Boolean,default:!1},batchActiveFields:{type:Array,default:()=>[]},primaryKey:{type:[Number,String],required:!0},loading:{type:Boolean,default:!1},validationErrors:{type:Array,default:()=>[]}},emits:["apply"]}),Vz={class:"group-raw"};function Fz(e,t,l,n,s,u){const o=c("v-form");return m(),I("div",Vz,[a(o,{"initial-values":e.initialValues,fields:e.fields,"model-value":e.values,"primary-key":e.primaryKey,group:e.field.meta.field,"validation-errors":e.validationErrors,loading:e.loading,"onUpdate:modelValue":t[0]||(t[0]=i=>e.$emit("apply",i))},null,8,["initial-values","fields","model-value","primary-key","group","validation-errors","loading"])])}var Az=N(Sz,[["render",Fz]]),Iz=Ne({id:"group-raw",name:"$t:interfaces.group-raw.name",description:"$t:interfaces.group-raw.description",icon:"view_in_ar",component:Az,localTypes:["group"],group:"group",types:["alias"],options:[]}),Ez=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:Iz});const Dz=z({props:{value:{type:[String,Number],default:null},type:{type:String,default:null},clear:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},placeholder:{type:String,default:null},masked:{type:Boolean,default:!1},iconLeft:{type:String,default:null},iconRight:{type:String,default:null},trim:{type:Boolean,default:!0},font:{type:String,default:"sans-serif"},length:{type:Number,default:null},dbSafe:{type:Boolean,default:!1},autofocus:{type:Boolean,default:!1},slug:{type:Boolean,default:!1},min:{type:Number,default:null},max:{type:Number,default:null},step:{type:Number,default:1}},emits:["input"],setup(e){const t=V(()=>typeof e.value=="number"||!e.length||!e.value?null:+e.length-e.value.length),l=V(()=>typeof e.value=="number"||!e.length||!e.value?null:100-e.value.length/+e.length*100);return{inputType:V(()=>e.masked?"password":["bigInteger","integer","float","decimal"].includes(e.type)?"number":"text"),charsRemaining:t,percentageRemaining:l}}});function Tz(e,t,l,n,s,u){const o=c("v-icon"),i=c("v-input");return m(),S(i,{autofocus:e.autofocus,"model-value":e.value,nullable:!e.clear,placeholder:e.placeholder,disabled:e.disabled,trim:e.trim,type:e.inputType,class:ue(e.font),"db-safe":e.dbSafe,slug:e.slug,min:e.min,max:e.max,step:e.step,"onUpdate:modelValue":t[0]||(t[0]=d=>e.$emit("input",d))},xe({_:2},[e.iconLeft?{name:"prepend",fn:r(()=>[a(o,{name:e.iconLeft},null,8,["name"])])}:void 0,e.percentageRemaining&&e.percentageRemaining<=20||e.iconRight?{name:"append",fn:r(()=>[e.percentageRemaining&&e.percentageRemaining<=20?(m(),I("span",{key:0,class:ue(["remaining",{warning:e.percentageRemaining<10,danger:e.percentageRemaining<5}])},b(e.charsRemaining),3)):R("",!0),e.iconRight?(m(),S(o,{key:1,class:ue({hide:e.percentageRemaining&&e.percentageRemaining<=20}),name:e.iconRight},null,8,["class","name"])):R("",!0)])}:void 0]),1032,["autofocus","model-value","nullable","placeholder","disabled","trim","type","class","db-safe","slug","min","max","step"])}var Pz=N(Dz,[["render",Tz],["__scopeId","data-v-2d088068"]]),Lz=`<svg width="156" height="96" viewBox="0 0 156 96" fill="none" xmlns="http://www.w3.org/2000/svg">
	<rect x="18" y="35" width="120" height="26" rx="6" fill="var(--background-page)" class="glow" />
	<rect x="19" y="36" width="118" height="24" rx="5" stroke="var(--primary)" stroke-width="2" />
	<rect x="28" y="45" width="50" height="6" rx="2" fill="var(--primary)" fill-opacity="0.25" />
	<rect x="82" y="45" width="20" height="6" rx="2" fill="var(--primary)" fill-opacity="0.25" />
</svg>
`,Oz=Ne({id:"input",name:"$t:interfaces.input.input",description:"$t:interfaces.input.description",icon:"text_fields",component:Pz,types:["string","uuid","bigInteger","integer","float","decimal","text"],group:"standard",options:({field:e})=>{const t={standard:[{field:"placeholder",name:"$t:placeholder",meta:{width:"full",interface:"input",options:{placeholder:"$t:enter_a_placeholder"}}},{field:"iconLeft",name:"$t:icon_left",type:"string",meta:{width:"half",interface:"select-icon"}},{field:"iconRight",name:"$t:icon_right",type:"string",meta:{width:"half",interface:"select-icon"}}],advanced:[{field:"font",name:"$t:font",type:"string",meta:{width:"half",interface:"select-dropdown",options:{choices:[{text:"$t:sans_serif",value:"sans-serif"},{text:"$t:monospace",value:"monospace"},{text:"$t:serif",value:"serif"}]}},schema:{default_value:"sans-serif"}},{field:"trim",name:"$t:interfaces.input.trim",type:"boolean",meta:{width:"half",interface:"boolean",options:{label:"$t:interfaces.input.trim_label"}},schema:{default_value:!1}},{field:"masked",name:"$t:interfaces.input.mask",type:"boolean",meta:{width:"half",interface:"boolean",options:{label:"$t:interfaces.input.mask_label"}},schema:{default_value:!1}},{field:"clear",name:"$t:interfaces.input.clear",type:"boolean",meta:{width:"half",interface:"boolean",options:{label:"$t:interfaces.input.clear_label"}},schema:{default_value:!1}},{field:"slug",name:"$t:interfaces.input.slug",type:"boolean",meta:{width:"half",interface:"boolean",options:{label:"$t:interfaces.input.slug_label"}},schema:{default_value:!1}}]},l=[{field:"min",name:"$t:interfaces.input.minimum_value",type:"integer",meta:{width:"half",interface:"input"}},{field:"max",name:"$t:interfaces.input.maximum_value",type:"integer",meta:{width:"half",interface:"input"}},{field:"step",name:"$t:interfaces.input.step_interval",type:"integer",meta:{width:"half",interface:"input"},schema:{default_value:1}},{field:"placeholder",name:"$t:placeholder",type:"string",meta:{width:"half",interface:"input",options:{placeholder:"$t:enter_a_placeholder"}}},{field:"iconLeft",name:"$t:icon_left",type:"string",meta:{width:"half",interface:"select-icon"}},{field:"iconRight",name:"$t:icon_right",type:"string",meta:{width:"half",interface:"select-icon"}},{field:"font",name:"$t:font",type:"string",meta:{width:"half",interface:"select-dropdown",options:{choices:[{text:"$t:sans_serif",value:"sans-serif"},{text:"$t:monospace",value:"monospace"},{text:"$t:serif",value:"serif"}]}},schema:{default_value:"sans-serif"}}];return e.type&&["bigInteger","integer","float","decimal"].includes(e.type)?l:t},preview:Lz}),jz=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:Oz});const Rz=z({props:{value:{type:[String,Number],default:null},url:{type:String,default:null},resultsPath:{type:String,default:null},valuePath:{type:String,default:null},trigger:{type:String,default:"throttle"},rate:{type:[Number,String],default:500},placeholder:{type:String,default:null},iconLeft:{type:String,default:null},iconRight:{type:String,default:null},font:{type:String,default:"sans-serif"},disabled:{type:Boolean,default:!1}},emits:["input"],setup(e,{emit:t}){const{t:l}=te(),n=E([]),s=async d=>{if(!d){n.value=[];return}const p=Un(e.url,{value:d});try{const f=await ta.get(p),v=e.resultsPath?M.exports.get(f.data,e.resultsPath):f.data;if(Array.isArray(v)===!1){console.warn(`Expected results type of array, "${typeof v}" received`);return}else n.value=v.map(y=>e.valuePath?M.exports.get(y,e.valuePath):y).filter(y=>y)}catch(f){console.warn(f)}},u=e.trigger==="debounce"?M.exports.debounce(s,Number(e.rate)):M.exports.throttle(s,Number(e.rate));return{t:l,results:n,onInput:o,emitValue:i};function o(d){i(d),u(d)}function i(d){t("input",d)}}}),Mz={key:1};function Uz(e,t,l,n,s,u){const o=c("v-notice"),i=c("v-icon"),d=c("v-input"),p=c("v-list-item-content"),f=c("v-list-item"),v=c("v-list"),y=c("v-menu");return e.url?(m(),I("div",Mz,[a(y,{attached:"",disabled:e.disabled},{activator:r(({activate:_,deactivate:g})=>[a(d,{placeholder:e.placeholder,disabled:e.disabled,class:ue(e.font),"model-value":e.value,"onUpdate:modelValue":e.onInput,onFocus:_,onBlur:g},xe({_:2},[e.iconLeft?{name:"prepend",fn:r(()=>[a(i,{name:e.iconLeft},null,8,["name"])])}:void 0,e.iconRight?{name:"append",fn:r(()=>[a(i,{name:e.iconRight},null,8,["name"])])}:void 0]),1032,["placeholder","disabled","class","model-value","onUpdate:modelValue","onFocus","onBlur"])]),default:r(()=>[e.results.length>0?(m(),S(v,{key:0},{default:r(()=>[(m(!0),I(ae,null,be(e.results,_=>(m(),S(f,{key:_,onClick:()=>e.emitValue(_)},{default:r(()=>[a(p,null,{default:r(()=>[D(b(_),1)]),_:2},1024)]),_:2},1032,["onClick"]))),128))]),_:1})):R("",!0)]),_:1},8,["disabled"])])):(m(),S(o,{key:0,type:"warning"},{default:r(()=>[D(b(e.t("one_or_more_options_are_missing")),1)]),_:1}))}var Nz=N(Rz,[["render",Uz],["__scopeId","data-v-10e66f47"]]),Bz=`<svg width="156" height="96" fill="none" xmlns="http://www.w3.org/2000/svg">
	<rect x="18" y="35" width="120" height="26" rx="6" fill="var(--background-page)" class="glow" />
	<rect x="19" y="36" width="118" height="24" rx="5" stroke="var(--primary)" stroke-width="2" />
	<rect x="28" y="45" width="50" height="6" rx="2" fill="var(--primary)" fill-opacity=".25" />
	<rect x="82" y="45" width="20" height="6" rx="2" fill="var(--primary)" fill-opacity=".25" />
</svg>
`,qz=Ne({id:"input-autocomplete-api",name:"$t:interfaces.input-autocomplete-api.input-autocomplete-api",description:"$t:interfaces.input-autocomplete-api.description",icon:"find_in_page",component:Nz,types:["string","text"],localTypes:["standard"],group:"standard",recommendedDisplays:["formatted-value"],options:[{field:"url",name:"$t:url",type:"string",meta:{interface:"input",options:{placeholder:"https://example.com/search?q={{value}}",font:"monospace"},width:"full"}},{field:"resultsPath",name:"$t:interfaces.input-autocomplete-api.results_path",type:"string",meta:{interface:"input",options:{placeholder:"result.predictions",font:"monospace"},width:"half"}},{field:"valuePath",name:"$t:interfaces.input-autocomplete-api.value_path",type:"string",meta:{interface:"input",options:{placeholder:"structured_main_text",font:"monospace"},width:"half"}},{field:"trigger",name:"$t:interfaces.input-autocomplete-api.trigger",type:"string",schema:{default_value:"throttle"},meta:{width:"half",interface:"select-dropdown",options:{choices:[{text:"Throttle",value:"throttle"},{text:"Debounce",value:"debounce"}]}}},{field:"rate",name:"$t:interfaces.input-autocomplete-api.rate",type:"integer",schema:{default_value:500},meta:{width:"half",interface:"input"}},{field:"placeholder",name:"$t:placeholder",meta:{width:"half",interface:"input",options:{placeholder:"$t:enter_a_placeholder"}}},{field:"font",name:"$t:font",type:"string",meta:{width:"half",interface:"select-dropdown",options:{choices:[{text:"$t:sans_serif",value:"sans-serif"},{text:"$t:monospace",value:"monospace"},{text:"$t:serif",value:"serif"}]}},schema:{default_value:"sans-serif"}},{field:"iconLeft",name:"$t:icon_left",type:"string",meta:{width:"half",interface:"select-icon"}},{field:"iconRight",name:"$t:icon_right",type:"string",meta:{width:"half",interface:"select-icon"}}],preview:Bz}),zz=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:qz});function Ui(e){switch(e){case"apl":return j(()=>import("./assets/apl.7b0220f6.js").then(function(t){return t.a}),["assets/apl.7b0220f6.js","assets/vendor.6ad70522.js","assets/vendor.fe7856f0.css"]);case"asciiarmor":return j(()=>import("./assets/asciiarmor.49edbb99.js").then(function(t){return t.a}),["assets/asciiarmor.49edbb99.js","assets/vendor.6ad70522.js","assets/vendor.fe7856f0.css"]);case"asn.1":return j(()=>import("./assets/asn.1.c8f84984.js").then(function(t){return t.a}),["assets/asn.1.c8f84984.js","assets/vendor.6ad70522.js","assets/vendor.fe7856f0.css"]);case"asterisk":return j(()=>import("./assets/asterisk.3cd5b4ae.js").then(function(t){return t.a}),["assets/asterisk.3cd5b4ae.js","assets/vendor.6ad70522.js","assets/vendor.fe7856f0.css"]);case"brainfuck":return j(()=>import("./assets/brainfuck.821c35ff.js").then(function(t){return t.b}),["assets/brainfuck.821c35ff.js","assets/vendor.6ad70522.js","assets/vendor.fe7856f0.css"]);case"clike":return j(()=>import("./assets/clike.da13aced.js").then(function(t){return t.c}),["assets/clike.da13aced.js","assets/vendor.6ad70522.js","assets/vendor.fe7856f0.css"]);case"clojure":return j(()=>import("./assets/clojure.418da74e.js").then(function(t){return t.c}),["assets/clojure.418da74e.js","assets/vendor.6ad70522.js","assets/vendor.fe7856f0.css"]);case"cmake":return j(()=>import("./assets/cmake.19bf25d7.js").then(function(t){return t.c}),["assets/cmake.19bf25d7.js","assets/vendor.6ad70522.js","assets/vendor.fe7856f0.css"]);case"cobol":return j(()=>import("./assets/cobol.78e26693.js").then(function(t){return t.c}),["assets/cobol.78e26693.js","assets/vendor.6ad70522.js","assets/vendor.fe7856f0.css"]);case"coffeescript":return j(()=>import("./assets/coffeescript.b4959f24.js").then(function(t){return t.c}),["assets/coffeescript.b4959f24.js","assets/vendor.6ad70522.js","assets/vendor.fe7856f0.css"]);case"commonlisp":return j(()=>import("./assets/commonlisp.603b8e11.js").then(function(t){return t.c}),["assets/commonlisp.603b8e11.js","assets/vendor.6ad70522.js","assets/vendor.fe7856f0.css"]);case"crystal":return j(()=>import("./assets/crystal.2b6cf479.js").then(function(t){return t.c}),["assets/crystal.2b6cf479.js","assets/vendor.6ad70522.js","assets/vendor.fe7856f0.css"]);case"css":return j(()=>import("./assets/css.7db3fa79.js").then(function(t){return t.c}),["assets/css.7db3fa79.js","assets/vendor.6ad70522.js","assets/vendor.fe7856f0.css"]);case"cypher":return j(()=>import("./assets/cypher.8d1a8da8.js").then(function(t){return t.c}),["assets/cypher.8d1a8da8.js","assets/vendor.6ad70522.js","assets/vendor.fe7856f0.css"]);case"d":return j(()=>import("./assets/d.12e1f6f6.js").then(function(t){return t.d}),["assets/d.12e1f6f6.js","assets/vendor.6ad70522.js","assets/vendor.fe7856f0.css"]);case"dart":return j(()=>import("./assets/dart.2b573e36.js").then(function(t){return t.d}),["assets/dart.2b573e36.js","assets/vendor.6ad70522.js","assets/vendor.fe7856f0.css","assets/clike.da13aced.js"]);case"diff":return j(()=>import("./assets/diff.2844ed04.js").then(function(t){return t.d}),["assets/diff.2844ed04.js","assets/vendor.6ad70522.js","assets/vendor.fe7856f0.css"]);case"django":return j(()=>import("./assets/django.3838c55f.js").then(function(t){return t.d}),["assets/django.3838c55f.js","assets/vendor.6ad70522.js","assets/vendor.fe7856f0.css","assets/htmlmixed.5ede4bee.js","assets/javascript.604ba3ba.js","assets/css.7db3fa79.js","assets/overlay.0ecac296.js"]);case"dockerfile":return j(()=>import("./assets/dockerfile.b4049a2c.js").then(function(t){return t.d}),["assets/dockerfile.b4049a2c.js","assets/vendor.6ad70522.js","assets/vendor.fe7856f0.css","assets/simple.59cb2742.js"]);case"dtd":return j(()=>import("./assets/dtd.9357cddd.js").then(function(t){return t.d}),["assets/dtd.9357cddd.js","assets/vendor.6ad70522.js","assets/vendor.fe7856f0.css"]);case"dylan":return j(()=>import("./assets/dylan.0614ba2b.js").then(function(t){return t.d}),["assets/dylan.0614ba2b.js","assets/vendor.6ad70522.js","assets/vendor.fe7856f0.css"]);case"ebnf":return j(()=>import("./assets/ebnf.cfc59980.js").then(function(t){return t.e}),["assets/ebnf.cfc59980.js","assets/vendor.6ad70522.js","assets/vendor.fe7856f0.css"]);case"ecl":return j(()=>import("./assets/ecl.8637b1d9.js").then(function(t){return t.e}),["assets/ecl.8637b1d9.js","assets/vendor.6ad70522.js","assets/vendor.fe7856f0.css"]);case"eiffel":return j(()=>import("./assets/eiffel.795eb219.js").then(function(t){return t.e}),["assets/eiffel.795eb219.js","assets/vendor.6ad70522.js","assets/vendor.fe7856f0.css"]);case"elm":return j(()=>import("./assets/elm.add82df7.js").then(function(t){return t.e}),["assets/elm.add82df7.js","assets/vendor.6ad70522.js","assets/vendor.fe7856f0.css"]);case"erlang":return j(()=>import("./assets/erlang.66a92fdb.js").then(function(t){return t.e}),["assets/erlang.66a92fdb.js","assets/vendor.6ad70522.js","assets/vendor.fe7856f0.css"]);case"factor":return j(()=>import("./assets/factor.cb1d198d.js").then(function(t){return t.f}),["assets/factor.cb1d198d.js","assets/vendor.6ad70522.js","assets/vendor.fe7856f0.css","assets/simple.59cb2742.js"]);case"fcl":return j(()=>import("./assets/fcl.35e7cf6f.js").then(function(t){return t.f}),["assets/fcl.35e7cf6f.js","assets/vendor.6ad70522.js","assets/vendor.fe7856f0.css"]);case"forth":return j(()=>import("./assets/forth.3c311fbd.js").then(function(t){return t.f}),["assets/forth.3c311fbd.js","assets/vendor.6ad70522.js","assets/vendor.fe7856f0.css"]);case"fortran":return j(()=>import("./assets/fortran.ad9ca302.js").then(function(t){return t.f}),["assets/fortran.ad9ca302.js","assets/vendor.6ad70522.js","assets/vendor.fe7856f0.css"]);case"gas":return j(()=>import("./assets/gas.664c6bc3.js").then(function(t){return t.g}),["assets/gas.664c6bc3.js","assets/vendor.6ad70522.js","assets/vendor.fe7856f0.css"]);case"gfm":return j(()=>import("./assets/gfm.e1cc76de.js").then(function(t){return t.g}),["assets/gfm.e1cc76de.js","assets/vendor.6ad70522.js","assets/vendor.fe7856f0.css","assets/overlay.0ecac296.js"]);case"gherkin":return j(()=>import("./assets/gherkin.77c03057.js").then(function(t){return t.g}),["assets/gherkin.77c03057.js","assets/vendor.6ad70522.js","assets/vendor.fe7856f0.css"]);case"go":return j(()=>import("./assets/go.4fed1a69.js").then(function(t){return t.g}),["assets/go.4fed1a69.js","assets/vendor.6ad70522.js","assets/vendor.fe7856f0.css"]);case"groovy":return j(()=>import("./assets/groovy.df97063d.js").then(function(t){return t.g}),["assets/groovy.df97063d.js","assets/vendor.6ad70522.js","assets/vendor.fe7856f0.css"]);case"haml":return j(()=>import("./assets/haml.212d83b7.js").then(function(t){return t.h}),["assets/haml.212d83b7.js","assets/vendor.6ad70522.js","assets/vendor.fe7856f0.css","assets/htmlmixed.5ede4bee.js","assets/javascript.604ba3ba.js","assets/css.7db3fa79.js","assets/ruby.24dc7e00.js"]);case"handlebars":return j(()=>import("./assets/handlebars.0fa68a0f.js").then(function(t){return t.h}),["assets/handlebars.0fa68a0f.js","assets/vendor.6ad70522.js","assets/vendor.fe7856f0.css","assets/simple.59cb2742.js","assets/multiplex.b32be9ad.js"]);case"haskell":return j(()=>import("./assets/haskell.b8d46669.js").then(function(t){return t.h}),["assets/haskell.b8d46669.js","assets/vendor.6ad70522.js","assets/vendor.fe7856f0.css"]);case"haskell-literate":return j(()=>import("./assets/haskell-literate.1cffdcb1.js").then(function(t){return t.h}),["assets/haskell-literate.1cffdcb1.js","assets/vendor.6ad70522.js","assets/vendor.fe7856f0.css","assets/haskell.b8d46669.js"]);case"haxe":return j(()=>import("./assets/haxe.f9669745.js").then(function(t){return t.h}),["assets/haxe.f9669745.js","assets/vendor.6ad70522.js","assets/vendor.fe7856f0.css"]);case"htmlembedded":return j(()=>import("./assets/htmlembedded.bd778157.js").then(function(t){return t.h}),["assets/htmlembedded.bd778157.js","assets/vendor.6ad70522.js","assets/vendor.fe7856f0.css","assets/htmlmixed.5ede4bee.js","assets/javascript.604ba3ba.js","assets/css.7db3fa79.js","assets/multiplex.b32be9ad.js"]);case"htmlmixed":return j(()=>import("./assets/htmlmixed.5ede4bee.js").then(function(t){return t.h}),["assets/htmlmixed.5ede4bee.js","assets/vendor.6ad70522.js","assets/vendor.fe7856f0.css","assets/javascript.604ba3ba.js","assets/css.7db3fa79.js"]);case"http":return j(()=>import("./assets/http.57b16981.js").then(function(t){return t.h}),["assets/http.57b16981.js","assets/vendor.6ad70522.js","assets/vendor.fe7856f0.css"]);case"idl":return j(()=>import("./assets/idl.853b6de3.js").then(function(t){return t.i}),["assets/idl.853b6de3.js","assets/vendor.6ad70522.js","assets/vendor.fe7856f0.css"]);case"javascript":return j(()=>import("./assets/javascript.604ba3ba.js").then(function(t){return t.j}),["assets/javascript.604ba3ba.js","assets/vendor.6ad70522.js","assets/vendor.fe7856f0.css"]);case"jinja2":return j(()=>import("./assets/jinja2.742297e2.js").then(function(t){return t.j}),["assets/jinja2.742297e2.js","assets/vendor.6ad70522.js","assets/vendor.fe7856f0.css"]);case"jsx":return j(()=>import("./assets/jsx.cc362d2d.js").then(function(t){return t.j}),["assets/jsx.cc362d2d.js","assets/vendor.6ad70522.js","assets/vendor.fe7856f0.css","assets/javascript.604ba3ba.js"]);case"julia":return j(()=>import("./assets/julia.d089bc50.js").then(function(t){return t.j}),["assets/julia.d089bc50.js","assets/vendor.6ad70522.js","assets/vendor.fe7856f0.css"]);case"livescript":return j(()=>import("./assets/livescript.73d67fed.js").then(function(t){return t.l}),["assets/livescript.73d67fed.js","assets/vendor.6ad70522.js","assets/vendor.fe7856f0.css"]);case"lua":return j(()=>import("./assets/lua.145c8352.js").then(function(t){return t.l}),["assets/lua.145c8352.js","assets/vendor.6ad70522.js","assets/vendor.fe7856f0.css"]);case"markdown":return j(()=>import("./assets/vendor.6ad70522.js").then(function(t){return t.a}),["assets/vendor.6ad70522.js","assets/vendor.fe7856f0.css"]);case"mathematica":return j(()=>import("./assets/mathematica.8a1377ca.js").then(function(t){return t.m}),["assets/mathematica.8a1377ca.js","assets/vendor.6ad70522.js","assets/vendor.fe7856f0.css"]);case"mbox":return j(()=>import("./assets/mbox.eb8648e1.js").then(function(t){return t.m}),["assets/mbox.eb8648e1.js","assets/vendor.6ad70522.js","assets/vendor.fe7856f0.css"]);case"mirc":return j(()=>import("./assets/mirc.b1f2c88f.js").then(function(t){return t.m}),["assets/mirc.b1f2c88f.js","assets/vendor.6ad70522.js","assets/vendor.fe7856f0.css"]);case"mllike":return j(()=>import("./assets/mllike.070703f7.js").then(function(t){return t.m}),["assets/mllike.070703f7.js","assets/vendor.6ad70522.js","assets/vendor.fe7856f0.css"]);case"modelica":return j(()=>import("./assets/modelica.913543fa.js").then(function(t){return t.m}),["assets/modelica.913543fa.js","assets/vendor.6ad70522.js","assets/vendor.fe7856f0.css"]);case"mscgen":return j(()=>import("./assets/mscgen.17e999d9.js").then(function(t){return t.m}),["assets/mscgen.17e999d9.js","assets/vendor.6ad70522.js","assets/vendor.fe7856f0.css"]);case"mumps":return j(()=>import("./assets/mumps.332d1e04.js").then(function(t){return t.m}),["assets/mumps.332d1e04.js","assets/vendor.6ad70522.js","assets/vendor.fe7856f0.css"]);case"nginx":return j(()=>import("./assets/nginx.0035962c.js").then(function(t){return t.n}),["assets/nginx.0035962c.js","assets/vendor.6ad70522.js","assets/vendor.fe7856f0.css"]);case"nsis":return j(()=>import("./assets/nsis.b4fd8bfb.js").then(function(t){return t.n}),["assets/nsis.b4fd8bfb.js","assets/vendor.6ad70522.js","assets/vendor.fe7856f0.css","assets/simple.59cb2742.js"]);case"ntriples":return j(()=>import("./assets/ntriples.9719aaf3.js").then(function(t){return t.n}),["assets/ntriples.9719aaf3.js","assets/vendor.6ad70522.js","assets/vendor.fe7856f0.css"]);case"octave":return j(()=>import("./assets/octave.4a08ed12.js").then(function(t){return t.o}),["assets/octave.4a08ed12.js","assets/vendor.6ad70522.js","assets/vendor.fe7856f0.css"]);case"oz":return j(()=>import("./assets/oz.664ee1cd.js").then(function(t){return t.o}),["assets/oz.664ee1cd.js","assets/vendor.6ad70522.js","assets/vendor.fe7856f0.css"]);case"pascal":return j(()=>import("./assets/pascal.6d2656c0.js").then(function(t){return t.p}),["assets/pascal.6d2656c0.js","assets/vendor.6ad70522.js","assets/vendor.fe7856f0.css"]);case"pegjs":return j(()=>import("./assets/pegjs.1a7a2693.js").then(function(t){return t.p}),["assets/pegjs.1a7a2693.js","assets/vendor.6ad70522.js","assets/vendor.fe7856f0.css","assets/javascript.604ba3ba.js"]);case"perl":return j(()=>import("./assets/perl.288c27cb.js").then(function(t){return t.p}),["assets/perl.288c27cb.js","assets/vendor.6ad70522.js","assets/vendor.fe7856f0.css"]);case"php":return j(()=>import("./assets/php.0a6c7975.js").then(function(t){return t.p}),["assets/php.0a6c7975.js","assets/vendor.6ad70522.js","assets/vendor.fe7856f0.css","assets/htmlmixed.5ede4bee.js","assets/javascript.604ba3ba.js","assets/css.7db3fa79.js","assets/clike.da13aced.js"]);case"pig":return j(()=>import("./assets/pig.275068fc.js").then(function(t){return t.p}),["assets/pig.275068fc.js","assets/vendor.6ad70522.js","assets/vendor.fe7856f0.css"]);case"powershell":return j(()=>import("./assets/powershell.cc581ad0.js").then(function(t){return t.p}),["assets/powershell.cc581ad0.js","assets/vendor.6ad70522.js","assets/vendor.fe7856f0.css"]);case"properties":return j(()=>import("./assets/properties.90e3f8ae.js").then(function(t){return t.p}),["assets/properties.90e3f8ae.js","assets/vendor.6ad70522.js","assets/vendor.fe7856f0.css"]);case"protobuf":return j(()=>import("./assets/protobuf.22a6748e.js").then(function(t){return t.p}),["assets/protobuf.22a6748e.js","assets/vendor.6ad70522.js","assets/vendor.fe7856f0.css"]);case"pug":return j(()=>import("./assets/pug.d190458d.js").then(function(t){return t.p}),["assets/pug.d190458d.js","assets/vendor.6ad70522.js","assets/vendor.fe7856f0.css","assets/javascript.604ba3ba.js","assets/css.7db3fa79.js","assets/htmlmixed.5ede4bee.js"]);case"puppet":return j(()=>import("./assets/puppet.e32dcf07.js").then(function(t){return t.p}),["assets/puppet.e32dcf07.js","assets/vendor.6ad70522.js","assets/vendor.fe7856f0.css"]);case"python":return j(()=>import("./assets/python.fc50bb55.js").then(function(t){return t.p}),["assets/python.fc50bb55.js","assets/vendor.6ad70522.js","assets/vendor.fe7856f0.css"]);case"q":return j(()=>import("./assets/q.45e1dd6b.js").then(function(t){return t.q}),["assets/q.45e1dd6b.js","assets/vendor.6ad70522.js","assets/vendor.fe7856f0.css"]);case"r":return j(()=>import("./assets/r.3004d68a.js").then(function(t){return t.r}),["assets/r.3004d68a.js","assets/vendor.6ad70522.js","assets/vendor.fe7856f0.css"]);case"rpm":return j(()=>import("./assets/rpm.60cdf00c.js").then(function(t){return t.r}),["assets/rpm.60cdf00c.js","assets/vendor.6ad70522.js","assets/vendor.fe7856f0.css"]);case"rst":return j(()=>import("./assets/rst.883cfc81.js").then(function(t){return t.r}),["assets/rst.883cfc81.js","assets/vendor.6ad70522.js","assets/vendor.fe7856f0.css","assets/python.fc50bb55.js","assets/stex.d0851e6b.js","assets/overlay.0ecac296.js"]);case"ruby":return j(()=>import("./assets/ruby.24dc7e00.js").then(function(t){return t.r}),["assets/ruby.24dc7e00.js","assets/vendor.6ad70522.js","assets/vendor.fe7856f0.css"]);case"rust":return j(()=>import("./assets/rust.39cef768.js").then(function(t){return t.r}),["assets/rust.39cef768.js","assets/vendor.6ad70522.js","assets/vendor.fe7856f0.css","assets/simple.59cb2742.js"]);case"sas":return j(()=>import("./assets/sas.8391726b.js").then(function(t){return t.s}),["assets/sas.8391726b.js","assets/vendor.6ad70522.js","assets/vendor.fe7856f0.css"]);case"sass":return j(()=>import("./assets/sass.b225618e.js").then(function(t){return t.s}),["assets/sass.b225618e.js","assets/vendor.6ad70522.js","assets/vendor.fe7856f0.css","assets/css.7db3fa79.js"]);case"scheme":return j(()=>import("./assets/scheme.61a5071c.js").then(function(t){return t.s}),["assets/scheme.61a5071c.js","assets/vendor.6ad70522.js","assets/vendor.fe7856f0.css"]);case"shell":return j(()=>import("./assets/shell.6388c0d1.js").then(function(t){return t.s}),["assets/shell.6388c0d1.js","assets/vendor.6ad70522.js","assets/vendor.fe7856f0.css"]);case"sieve":return j(()=>import("./assets/sieve.ea97dcbc.js").then(function(t){return t.s}),["assets/sieve.ea97dcbc.js","assets/vendor.6ad70522.js","assets/vendor.fe7856f0.css"]);case"slim":return j(()=>import("./assets/slim.1f1a085f.js").then(function(t){return t.s}),["assets/slim.1f1a085f.js","assets/vendor.6ad70522.js","assets/vendor.fe7856f0.css","assets/htmlmixed.5ede4bee.js","assets/javascript.604ba3ba.js","assets/css.7db3fa79.js","assets/ruby.24dc7e00.js"]);case"smalltalk":return j(()=>import("./assets/smalltalk.a7e431f3.js").then(function(t){return t.s}),["assets/smalltalk.a7e431f3.js","assets/vendor.6ad70522.js","assets/vendor.fe7856f0.css"]);case"smarty":return j(()=>import("./assets/smarty.bc771c75.js").then(function(t){return t.s}),["assets/smarty.bc771c75.js","assets/vendor.6ad70522.js","assets/vendor.fe7856f0.css"]);case"solr":return j(()=>import("./assets/solr.a1a095ac.js").then(function(t){return t.s}),["assets/solr.a1a095ac.js","assets/vendor.6ad70522.js","assets/vendor.fe7856f0.css"]);case"soy":return j(()=>import("./assets/soy.5a072eb3.js").then(function(t){return t.s}),["assets/soy.5a072eb3.js","assets/vendor.6ad70522.js","assets/vendor.fe7856f0.css","assets/htmlmixed.5ede4bee.js","assets/javascript.604ba3ba.js","assets/css.7db3fa79.js"]);case"sparql":return j(()=>import("./assets/sparql.3b29dda3.js").then(function(t){return t.s}),["assets/sparql.3b29dda3.js","assets/vendor.6ad70522.js","assets/vendor.fe7856f0.css"]);case"spreadsheet":return j(()=>import("./assets/spreadsheet.6c53951e.js").then(function(t){return t.s}),["assets/spreadsheet.6c53951e.js","assets/vendor.6ad70522.js","assets/vendor.fe7856f0.css"]);case"sql":return j(()=>import("./assets/sql.0b29fbbe.js").then(function(t){return t.s}),["assets/sql.0b29fbbe.js","assets/vendor.6ad70522.js","assets/vendor.fe7856f0.css"]);case"stex":return j(()=>import("./assets/stex.d0851e6b.js").then(function(t){return t.s}),["assets/stex.d0851e6b.js","assets/vendor.6ad70522.js","assets/vendor.fe7856f0.css"]);case"stylus":return j(()=>import("./assets/stylus.5c2736e1.js").then(function(t){return t.s}),["assets/stylus.5c2736e1.js","assets/vendor.6ad70522.js","assets/vendor.fe7856f0.css"]);case"swift":return j(()=>import("./assets/swift.6dd39581.js").then(function(t){return t.s}),["assets/swift.6dd39581.js","assets/vendor.6ad70522.js","assets/vendor.fe7856f0.css"]);case"tcl":return j(()=>import("./assets/tcl.b03979f9.js").then(function(t){return t.t}),["assets/tcl.b03979f9.js","assets/vendor.6ad70522.js","assets/vendor.fe7856f0.css"]);case"textile":return j(()=>import("./assets/textile.0c67d086.js").then(function(t){return t.t}),["assets/textile.0c67d086.js","assets/vendor.6ad70522.js","assets/vendor.fe7856f0.css"]);case"tiddlywiki":return j(()=>import("./assets/tiddlywiki.f555b366.js").then(function(t){return t.t}),["assets/tiddlywiki.f555b366.js","assets/vendor.6ad70522.js","assets/vendor.fe7856f0.css"]);case"tiki":return j(()=>import("./assets/tiki.a956dc1a.js").then(function(t){return t.t}),["assets/tiki.a956dc1a.js","assets/vendor.6ad70522.js","assets/vendor.fe7856f0.css"]);case"toml":return j(()=>import("./assets/toml.8a0d3920.js").then(function(t){return t.t}),["assets/toml.8a0d3920.js","assets/vendor.6ad70522.js","assets/vendor.fe7856f0.css"]);case"tornado":return j(()=>import("./assets/tornado.8da2ca4c.js").then(function(t){return t.t}),["assets/tornado.8da2ca4c.js","assets/vendor.6ad70522.js","assets/vendor.fe7856f0.css","assets/htmlmixed.5ede4bee.js","assets/javascript.604ba3ba.js","assets/css.7db3fa79.js","assets/overlay.0ecac296.js"]);case"troff":return j(()=>import("./assets/troff.f53d5640.js").then(function(t){return t.t}),["assets/troff.f53d5640.js","assets/vendor.6ad70522.js","assets/vendor.fe7856f0.css"]);case"ttcn":return j(()=>import("./assets/ttcn.310decfd.js").then(function(t){return t.t}),["assets/ttcn.310decfd.js","assets/vendor.6ad70522.js","assets/vendor.fe7856f0.css"]);case"ttcn-cfg":return j(()=>import("./assets/ttcn-cfg.6fcc7763.js").then(function(t){return t.t}),["assets/ttcn-cfg.6fcc7763.js","assets/vendor.6ad70522.js","assets/vendor.fe7856f0.css"]);case"turtle":return j(()=>import("./assets/turtle.4d1d74df.js").then(function(t){return t.t}),["assets/turtle.4d1d74df.js","assets/vendor.6ad70522.js","assets/vendor.fe7856f0.css"]);case"twig":return j(()=>import("./assets/twig.9749b86e.js").then(function(t){return t.t}),["assets/twig.9749b86e.js","assets/vendor.6ad70522.js","assets/vendor.fe7856f0.css","assets/multiplex.b32be9ad.js"]);case"vb":return j(()=>import("./assets/vb.01ae664c.js").then(function(t){return t.v}),["assets/vb.01ae664c.js","assets/vendor.6ad70522.js","assets/vendor.fe7856f0.css"]);case"vbscript":return j(()=>import("./assets/vbscript.7297ed1d.js").then(function(t){return t.v}),["assets/vbscript.7297ed1d.js","assets/vendor.6ad70522.js","assets/vendor.fe7856f0.css"]);case"velocity":return j(()=>import("./assets/velocity.de817e33.js").then(function(t){return t.v}),["assets/velocity.de817e33.js","assets/vendor.6ad70522.js","assets/vendor.fe7856f0.css"]);case"verilog":return j(()=>import("./assets/verilog.16313953.js").then(function(t){return t.v}),["assets/verilog.16313953.js","assets/vendor.6ad70522.js","assets/vendor.fe7856f0.css"]);case"vhdl":return j(()=>import("./assets/vhdl.3f92f00b.js").then(function(t){return t.v}),["assets/vhdl.3f92f00b.js","assets/vendor.6ad70522.js","assets/vendor.fe7856f0.css"]);case"vue":return j(()=>import("./assets/vue.f47900e5.js").then(function(t){return t.v}),["assets/vue.f47900e5.js","assets/vendor.6ad70522.js","assets/vendor.fe7856f0.css","assets/overlay.0ecac296.js","assets/javascript.604ba3ba.js","assets/coffeescript.b4959f24.js","assets/css.7db3fa79.js","assets/sass.b225618e.js","assets/stylus.5c2736e1.js","assets/pug.d190458d.js","assets/htmlmixed.5ede4bee.js","assets/handlebars.0fa68a0f.js","assets/simple.59cb2742.js","assets/multiplex.b32be9ad.js"]);case"wast":return j(()=>import("./assets/wast.909dd757.js").then(function(t){return t.w}),["assets/wast.909dd757.js","assets/vendor.6ad70522.js","assets/vendor.fe7856f0.css","assets/simple.59cb2742.js"]);case"webidl":return j(()=>import("./assets/webidl.6be0ebee.js").then(function(t){return t.w}),["assets/webidl.6be0ebee.js","assets/vendor.6ad70522.js","assets/vendor.fe7856f0.css"]);case"xml":return j(()=>import("./assets/vendor.6ad70522.js").then(function(t){return t.x}),["assets/vendor.6ad70522.js","assets/vendor.fe7856f0.css"]);case"xquery":return j(()=>import("./assets/xquery.1c3bfe5e.js").then(function(t){return t.x}),["assets/xquery.1c3bfe5e.js","assets/vendor.6ad70522.js","assets/vendor.fe7856f0.css"]);case"yacas":return j(()=>import("./assets/yacas.bbeb9c41.js").then(function(t){return t.y}),["assets/yacas.bbeb9c41.js","assets/vendor.6ad70522.js","assets/vendor.fe7856f0.css"]);case"yaml":return j(()=>import("./assets/yaml.a1596c9f.js").then(function(t){return t.y}),["assets/yaml.a1596c9f.js","assets/vendor.6ad70522.js","assets/vendor.fe7856f0.css"]);case"yaml-frontmatter":return j(()=>import("./assets/yaml-frontmatter.38a5e8a1.js").then(function(t){return t.y}),["assets/yaml-frontmatter.38a5e8a1.js","assets/vendor.6ad70522.js","assets/vendor.fe7856f0.css","assets/yaml.a1596c9f.js"]);case"z80":return j(()=>import("./assets/z80.d5def58d.js").then(function(t){return t.z}),["assets/z80.d5def58d.js","assets/vendor.6ad70522.js","assets/vendor.fe7856f0.css"]);default:return Promise.resolve()}}const Kz=z({props:{disabled:{type:Boolean,default:!1},value:{type:[String,Object,Array],default:null},altOptions:{type:Object,default:null},template:{type:String,default:null},lineNumber:{type:Boolean,default:!0},placeholder:{type:String,default:null},language:{type:String,default:"plaintext"},type:{type:String,default:null}},emits:["input"],setup(e,{emit:t}){const{t:l}=te(),n=E(null);let s;st(async()=>{n.value&&(await i(f.value),await Ui(f.value.mode),s=$n(n.value,ke(oe({},f.value),{value:u.value})),s.setOption("mode",{name:"javascript "}),await o(),s.on("change",(y,{origin:_})=>{if(_==="setValue")return;const g=y.getValue();if(e.type==="json"){if(g.length===0)return t("input",null);try{t("input",JSON.parse(g))}catch{}}else t("input",g)}))});const u=V(()=>e.value===null?"":typeof e.value=="object"?JSON.stringify(e.value,null,4):e.value);ye(()=>e.language,()=>{o()}),ye(u,()=>{(s==null?void 0:s.getValue())!==u.value&&(s==null||s.setValue(u.value||""))});async function o(){if(s){const y=e.language.toLowerCase();if(y==="json"){await j(()=>import("./assets/javascript.604ba3ba.js").then(function(g){return g.j}),["assets/javascript.604ba3ba.js","assets/vendor.6ad70522.js","assets/vendor.fe7856f0.css"]);const _=await j(()=>import("./assets/jsonlint.09bf5bab.js").then(function(g){return g.j}),[]);s.setOption("mode",{name:"javascript",json:!0}),$n.registerHelper("lint","json",g=>{const w=[],h=_.parser;if(h.parseError=(k,F)=>{const A=F.loc;w.push({from:$n.Pos(A.first_line-1,A.first_column),to:$n.Pos(A.last_line-1,A.last_column),message:k})},g.length>0)try{_.parse(g)}catch{}return w})}else y==="plaintext"?s.setOption("mode",{name:"plaintext"}):(await Ui(y),s.setOption("mode",{name:y}))}}async function i(y){const _=[];y&&y.size>0&&(y.styleActiveLine&&_.push(j(()=>import("./assets/active-line.371dff1d.js").then(function(g){return g.a}),["assets/active-line.371dff1d.js","assets/vendor.6ad70522.js","assets/vendor.fe7856f0.css"])),y.markSelection&&_.push(j(()=>import("./assets/mark-selection.b84103c4.js").then(function(g){return g.m}),["assets/mark-selection.b84103c4.js","assets/vendor.6ad70522.js","assets/vendor.fe7856f0.css"])),y.highlightSelectionMatches&&_.push(j(()=>import("./assets/match-highlighter.d51d2e19.js").then(function(g){return g.m}),["assets/match-highlighter.d51d2e19.js","assets/vendor.6ad70522.js","assets/vendor.fe7856f0.css"])),y.autoRefresh&&_.push(j(()=>import("./assets/autorefresh.c0fd8d01.js").then(function(g){return g.a}),["assets/autorefresh.c0fd8d01.js","assets/vendor.6ad70522.js","assets/vendor.fe7856f0.css"])),y.matchBrackets&&_.push(j(()=>import("./assets/vendor.6ad70522.js").then(function(g){return g.m}),["assets/vendor.6ad70522.js","assets/vendor.fe7856f0.css"])),(y.hintOptions||y.showHint)&&(_.push(j(()=>import("./assets/show-hint.f2f04b52.js").then(function(g){return g.s}),["assets/show-hint.f2f04b52.js","assets/vendor.6ad70522.js","assets/vendor.fe7856f0.css"])),_.push(j(()=>Promise.resolve({}),["assets/show-hint.a1d6f238.css"])),_.push(j(()=>import("./assets/javascript-hint.59a3c90b.js").then(function(g){return g.j}),["assets/javascript-hint.59a3c90b.js","assets/vendor.6ad70522.js","assets/vendor.fe7856f0.css"]))),await Promise.all(_))}const d=V(()=>s?s.lineCount():0),p={tabSize:4,autoRefresh:!0,indentUnit:4,styleActiveLine:!0,highlightSelectionMatches:{showToken:/\w/,annotateScrollbar:!0,delay:100},hintOptions:{completeSingle:!0,hint:()=>{}},matchBrackets:!0,showCursorWhenSelecting:!0,theme:"default",extraKeys:{Ctrl:"autocomplete"},lint:!0,gutters:["CodeMirror-lint-markers"]},f=V(()=>Object.assign({},p,{lineNumbers:e.lineNumber,readOnly:e.disabled?"nocursor":!1,mode:e.language,placeholder:e.placeholder},e.altOptions?e.altOptions:{}));return ye(()=>e.disabled,y=>{s==null||s.setOption("readOnly",y?"nocursor":!1)},{immediate:!0}),ye(()=>e.altOptions,async y=>{if(!(!y||y.size===0)){await i(y);for(const _ in y)s==null||s.setOption(_,y[_])}}),ye(()=>e.lineNumber,y=>{s==null||s.setOption("lineNumbers",y)}),{t:l,cmOptions:f,lineCount:d,codemirrorEl:n,stringValue:u,fillTemplate:v,formatTitle:Et};function v(){if(e.type==="json")try{t("input",JSON.parse(e.template))}finally{}else t("input",e.template)}}}),Hz={ref:"codemirrorEl"};function Wz(e,t,l,n,s,u){const o=c("v-icon"),i=c("v-button"),d=we("tooltip");return m(),I("div",{class:ue(["input-code codemirror-custom-styles",{disabled:e.disabled}])},[C("div",Hz,null,512),e.template?ne((m(),S(i,{key:0,small:"",icon:"",secondary:"",onClick:e.fillTemplate},{default:r(()=>[a(o,{name:"playlist_add"})]),_:1},8,["onClick"])),[[d,e.t("fill_template"),void 0,{left:!0}]]):R("",!0)],2)}var Gz=N(Kz,[["render",Wz],["__scopeId","data-v-1fa40744"]]),Jz=`<svg width="156" height="96" fill="none" xmlns="http://www.w3.org/2000/svg">
	<rect x="18" y="15" width="120" height="66" rx="6" fill="var(--background-page)" class="glow" />
	<rect x="19" y="16" width="118" height="64" rx="5" stroke="var(--primary)" stroke-width="2" />
	<rect x="28" y="25" width="6" height="6" rx="2" fill="var(--primary)" fill-opacity=".25" />
	<rect x="28" y="45.148" width="6" height="6" rx="2" fill="var(--primary)" fill-opacity=".25" />
	<rect x="28" y="55.222" width="6" height="6" rx="2" fill="var(--primary)" fill-opacity=".25" />
	<rect x="28" y="65.296" width="6" height="6" rx="2" fill="var(--primary)" fill-opacity=".25" />
	<rect x="28" y="35.074" width="6" height="6" rx="2" fill="var(--primary)" fill-opacity=".25" />
	<rect x="42" y="25" width="10" height="6" rx="2" fill="var(--primary)" />
	<rect x="46" y="35" width="50" height="6" rx="2" fill="var(--primary)" fill-opacity=".25" />
	<rect x="46" y="45" width="60" height="6" rx="2" fill="var(--primary)" fill-opacity=".25" />
	<rect x="46" y="55" width="40" height="6" rx="2" fill="var(--primary)" fill-opacity=".25" />
	<rect x="42" y="65" width="10" height="6" rx="2" fill="var(--primary)" />
</svg>
`;const Qz=$n.modeInfo.reduce((e,t)=>["JSON","JSON-LD"].includes(t.name)?(e.JSON="JSON",e):((t.mode==null||t.mode=="null")&&(t.mode="plaintext"),t.mode in e?e[t.mode]+=" / "+t.name:e[t.mode]=t.name,e),{}),Xz=Object.entries(Qz).map(([e,t])=>({text:t,value:e}));var Zz=Ne({id:"input-code",name:"$t:interfaces.input-code.code",description:"$t:interfaces.input-code.description",icon:"code",component:Gz,types:["string","json","text","geometry"],group:"standard",preview:Jz,options:[{field:"language",name:"$t:language",type:"string",meta:{width:"half",interface:"select-dropdown",options:{choices:Xz}}},{field:"lineNumber",name:"$t:interfaces.input-code.line_number",type:"boolean",meta:{width:"half",interface:"boolean"},schema:{default_value:!1}},{field:"template",name:"$t:template",type:"text",meta:{width:"full",interface:"input-code",options:{placeholder:"$t:interfaces.input-code.placeholder"}},schema:{default_value:null}}]}),Yz=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:Zz});const xz=z({props:{value:{type:String,default:null},disabled:{type:Boolean,default:!1},placeholder:{type:String,default:null},masked:{type:Boolean,default:!1}},emits:["input"],setup(e,{emit:t}){const{t:l}=te(),n=E(!1),s=E(null),u=V(()=>n.value?l("value_hashed"):e.placeholder);return ye(()=>e.value,()=>{n.value=!!(e.value&&e.value.length>0)},{immediate:!0}),{internalPlaceholder:u,isHashed:n,localValue:s,emitValue:o};function o(i){t("input",i),s.value=i}}});function eK(e,t,l,n,s,u){const o=c("v-icon"),i=c("v-input");return m(),S(i,{placeholder:e.internalPlaceholder,disabled:e.disabled,type:e.masked?"password":"text","model-value":e.localValue,class:ue({hashed:e.isHashed&&!e.localValue}),"onUpdate:modelValue":e.emitValue},{append:r(()=>[a(o,{class:"lock",name:e.isHashed&&!e.localValue?"lock":"lock_open"},null,8,["name"])]),_:1},8,["placeholder","disabled","type","model-value","class","onUpdate:modelValue"])}var tK=N(xz,[["render",eK],["__scopeId","data-v-f5661292"]]),nK=`<svg width="156" height="96" fill="none" xmlns="http://www.w3.org/2000/svg">
	<rect x="18" y="35" width="120" height="26" rx="6" fill="var(--background-page)" class="glow" />
	<rect x="19" y="36" width="118" height="24" rx="5" stroke="var(--primary)" stroke-width="2" />
	<rect x="28" y="45" width="50" height="6" rx="2" fill="var(--primary)" fill-opacity=".25" />
	<rect x="82" y="45" width="20" height="6" rx="2" fill="var(--primary)" fill-opacity=".25" />
</svg>
`,lK=Ne({id:"input-hash",name:"$t:interfaces.input-hash.hash",description:"$t:interfaces.input-hash.description",icon:"fingerprint",component:tK,types:["hash"],group:"other",preview:nK,options:[{field:"placeholder",name:"$t:placeholder",type:"string",meta:{width:"half",interface:"input",options:{placeholder:"$t:enter_a_placeholder"}}},{field:"masked",name:"$t:interfaces.input-hash.masked",type:"boolean",meta:{width:"half",interface:"boolean",options:{label:"$t:interfaces.input-hash.masked_label"}},schema:{default_value:!1}}]}),oK=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:lK});const aK=z({props:{value:{type:String,default:null},clear:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},placeholder:{type:String,default:null},trim:{type:Boolean,default:!0},font:{type:String,default:"sans-serif"}},emits:["input"]});function iK(e,t,l,n,s,u){const o=c("v-textarea");return m(),S(o,ut({placeholder:e.placeholder,trim:e.trim},{"model-value":e.value,nullable:!e.clear,disabled:e.disabled,class:e.font,"onUpdate:modelValue":t[0]||(t[0]=i=>e.$emit("input",i))}),null,16,["model-value","nullable","disabled","class"])}var sK=N(aK,[["render",iK],["__scopeId","data-v-9aaedf94"]]),rK=`<svg width="156" height="96" fill="none" xmlns="http://www.w3.org/2000/svg">
	<rect x="18" y="18" width="120" height="60" rx="6" fill="var(--background-page)" class="glow" />
	<rect x="19" y="19" width="118" height="58" rx="5" stroke="var(--primary)" stroke-width="2" />
	<rect x="28" y="28" width="60" height="6" rx="2" fill="var(--primary)" fill-opacity=".25" />
	<rect x="28" y="48" width="60" height="6" rx="2" fill="var(--primary)" fill-opacity=".25" />
	<rect x="28" y="38" width="40" height="6" rx="2" fill="var(--primary)" fill-opacity=".25" />
	<rect x="92" y="28" width="30" height="6" rx="2" fill="var(--primary)" fill-opacity=".25" />
	<rect x="72" y="38" width="50" height="6" rx="2" fill="var(--primary)" fill-opacity=".25" />
</svg>
`,dK=Ne({id:"input-multiline",name:"$t:interfaces.input-multiline.textarea",description:"$t:interfaces.input-multiline.description",icon:"text_fields",component:sK,types:["text"],group:"standard",options:[{field:"placeholder",name:"$t:placeholder",type:"string",meta:{width:"full",interface:"input-multiline",options:{placeholder:"$t:enter_a_placeholder"}}},{field:"trim",name:"$t:interfaces.input.trim",type:"boolean",meta:{width:"half",interface:"boolean",options:{label:"$t:interfaces.input.trim_label"}},schema:{default_value:!1}},{field:"font",name:"$t:font",type:"string",meta:{width:"half",interface:"select-dropdown",options:{choices:[{text:"$t:sans_serif",value:"sans-serif"},{text:"$t:monospace",value:"monospace"},{text:"$t:serif",value:"serif"}]}},schema:{default_value:"sans-serif"}},{field:"clear",name:"$t:interfaces.input.clear",type:"boolean",meta:{width:"half",interface:"boolean",options:{label:"$t:interfaces.input.clear_label"}},schema:{default_value:!1}}],preview:rK}),uK=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:dK}),cK=`<svg width="156" height="96" fill="none" xmlns="http://www.w3.org/2000/svg">
	<rect x="18" y="15" width="120" height="66" rx="6" fill="var(--background-page)" class="glow" />
	<rect x="19" y="16" width="118" height="64" rx="5" stroke="var(--primary)" stroke-width="2" />
	<rect x="28" y="25" width="8" height="8" rx="2" fill="var(--primary)" fill-opacity=".25" />
	<rect x="42" y="25" width="8" height="8" rx="2" fill="var(--primary)" />
	<rect x="56" y="25" width="8" height="8" rx="2" fill="var(--primary)" fill-opacity=".25" />
	<rect x="70" y="25" width="8" height="8" rx="2" fill="var(--primary)" fill-opacity=".25" />
	<rect x="84" y="25" width="8" height="8" rx="2" fill="var(--primary)" fill-opacity=".25" />
	<rect x="98" y="25" width="8" height="8" rx="2" fill="var(--primary)" fill-opacity=".25" />
	<rect x="28" y="39" width="60" height="6" rx="2" fill="var(--primary)" fill-opacity=".25" />
	<rect x="28" y="59" width="60" height="6" rx="2" fill="var(--primary)" fill-opacity=".25" />
	<rect x="28" y="49" width="40" height="6" rx="2" fill="var(--primary)" fill-opacity=".25" />
	<rect x="92" y="39" width="30" height="6" rx="2" fill="var(--primary)" />
	<rect x="72" y="49" width="50" height="6" rx="2" fill="var(--primary)" fill-opacity=".25" />
</svg>
`;const pK=aa(()=>j(()=>import("./assets/input-rich-text-html.ebd9c8b1.js"),["assets/input-rich-text-html.ebd9c8b1.js","assets/input-rich-text-html.67ebfae2.css","assets/vendor.6ad70522.js","assets/vendor.fe7856f0.css","assets/use-sync.042e848f.js"]));var mK=Ne({id:"input-rich-text-html",name:"$t:interfaces.input-rich-text-html.wysiwyg",description:"$t:interfaces.input-rich-text-html.description",icon:"format_quote",component:pK,types:["text"],group:"standard",preview:cK,options:[{field:"toolbar",name:"$t:interfaces.input-rich-text-html.toolbar",type:"json",schema:{default_value:["bold","italic","underline","removeformat","customLink","bullist","numlist","blockquote","h1","h2","h3","customImage","customMedia","hr","code","fullscreen"]},meta:{width:"half",interface:"select-multiple-dropdown",options:{choices:[{value:"aligncenter",text:"$t:wysiwyg_options.aligncenter"},{value:"alignjustify",text:"$t:wysiwyg_options.alignjustify"},{value:"alignleft",text:"$t:wysiwyg_options.alignleft"},{value:"alignnone",text:"$t:wysiwyg_options.alignnone"},{value:"alignright",text:"$t:wysiwyg_options.alignright"},{value:"forecolor",text:"$t:wysiwyg_options.forecolor"},{value:"backcolor",text:"$t:wysiwyg_options.backcolor"},{value:"bold",text:"$t:wysiwyg_options.bold"},{value:"italic",text:"$t:wysiwyg_options.italic"},{value:"underline",text:"$t:wysiwyg_options.underline"},{value:"strikethrough",text:"$t:wysiwyg_options.strikethrough"},{value:"subscript",text:"$t:wysiwyg_options.subscript"},{value:"superscript",text:"$t:wysiwyg_options.superscript"},{value:"blockquote",text:"$t:wysiwyg_options.blockquote"},{value:"bullist",text:"$t:wysiwyg_options.bullist"},{value:"numlist",text:"$t:wysiwyg_options.numlist"},{value:"hr",text:"$t:wysiwyg_options.hr"},{value:"customLink",text:"$t:wysiwyg_options.link"},{value:"unlink",text:"$t:wysiwyg_options.unlink"},{value:"customMedia",text:"$t:wysiwyg_options.media"},{value:"customImage",text:"$t:wysiwyg_options.image"},{value:"copy",text:"$t:wysiwyg_options.copy"},{value:"cut",text:"$t:wysiwyg_options.cut"},{value:"paste",text:"$t:wysiwyg_options.paste"},{value:"h1",text:"$t:wysiwyg_options.h1"},{value:"h2",text:"$t:wysiwyg_options.h2"},{value:"h3",text:"$t:wysiwyg_options.h3"},{value:"h4",text:"$t:wysiwyg_options.h4"},{value:"h5",text:"$t:wysiwyg_options.h5"},{value:"h6",text:"$t:wysiwyg_options.h6"},{value:"fontselect",text:"$t:wysiwyg_options.fontselect"},{value:"fontsizeselect",text:"$t:wysiwyg_options.fontsizeselect"},{value:"indent",text:"$t:wysiwyg_options.indent"},{value:"outdent",text:"$t:wysiwyg_options.outdent"},{value:"undo",text:"$t:wysiwyg_options.undo"},{value:"redo",text:"$t:wysiwyg_options.redo"},{value:"remove",text:"$t:wysiwyg_options.remove"},{value:"removeformat",text:"$t:wysiwyg_options.removeformat"},{value:"selectall",text:"$t:wysiwyg_options.selectall"},{value:"table",text:"$t:wysiwyg_options.table"},{value:"visualaid",text:"$t:wysiwyg_options.visualaid"},{value:"code",text:"$t:wysiwyg_options.source_code"},{value:"fullscreen",text:"$t:wysiwyg_options.fullscreen"},{value:"ltr rtl",text:"$t:wysiwyg_options.directionality"}]}}},{field:"font",name:"$t:font",type:"string",meta:{width:"half",interface:"select-dropdown",options:{choices:[{text:"$t:sans_serif",value:"sans-serif"},{text:"$t:monospace",value:"monospace"},{text:"$t:serif",value:"serif"}]}},schema:{default_value:"sans-serif"}},{field:"customFormats",name:"$t:interfaces.input-rich-text-html.custom_formats",type:"json",meta:{interface:"code",options:{language:"json",template:JSON.stringify([{title:"My Custom Format",inline:"span",classes:"custom-wrapper",styles:{color:"#00ff00","font-size":"20px"},attributes:{title:"My Custom Wrapper"}}],null,4)}}},{field:"tinymceOverrides",name:"$t:interfaces.input-rich-text-html.options_override",type:"json",meta:{interface:"code",options:{language:"json"}}},{field:"imageToken",name:"$t:interfaces.input-rich-text-md.imageToken",type:"string",meta:{note:"$t:interfaces.input-rich-text-md.imageToken_label",width:"full",interface:"input"}}]}),fK=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:mK});const vK={heading(e,{cursorTo:t},l){const n=(l==null?void 0:l.level)||3;let s=e;const u=t,o="#".repeat(n)+" ";return e.startsWith(o)?s=e.substring(o.length):(s=`${o}${e}`,u.ch=u.ch+o.length),{newSelection:s,newCursor:u}},bold(e,{cursorTo:t}){let l=e;const n=t;return e.startsWith("**")&&e.endsWith("**")?l=e.substring(2,e.length-2):(l=`**${e}**`,n.ch=n.ch+2),{newSelection:l,newCursor:n}},italic(e,{cursorTo:t}){let l=e;const n=t;return e.startsWith("*")&&e.endsWith("*")?l=e.substring(1,e.length-1):(l=`*${e}*`,n.ch=n.ch+1),{newSelection:l,newCursor:n}},strikethrough(e,{cursorTo:t}){let l=e;const n=t;return e.startsWith("~~")&&e.endsWith("~~")?l=e.substring(2,e.length-2):(l=`~~${e}~~`,n.ch=n.ch+2),{newSelection:l,newCursor:n}},listBulleted(e,{cursorTo:t}){let l=e;const n=t,s=e.split(`
`);return s.every(o=>o.startsWith("- "))?l=s.map(o=>o.substring(2)).join(`
`):l=s.map(o=>`- ${o}`).join(`
`),e||(n.ch=n.ch+2),{newSelection:l,newCursor:n}},listNumbered(e,{cursorTo:t}){let l=e;const n=t,s=e.split(`
`);return s.every((o,i)=>o.startsWith(`${i+1}.`))?l=s.map(o=>o.substring(3)).join(`
`):l=s.map((o,i)=>`${i+1}. ${o}`).join(`
`),e||(n.ch=n.ch+2),{newSelection:l,newCursor:n}},blockquote(e,{cursorTo:t}){let l=e;const n=t,s=e.split(`
`);return s.every(o=>o.startsWith("> "))?l=s.map(o=>o.substring(2)).join(`
`):l=s.map(o=>`> ${o}`).join(`
`),e||(n.ch=n.ch+2),{newSelection:l,newCursor:n}},code(e,{cursorTo:t}){if(e.includes(`
`)){let l=e;const n=t;return e.startsWith("```")&&e.endsWith("```")?l=e.substring(3,e.length-3):(l="```\n"+l+"\n```",n.line=n.line+1),{newSelection:l,newCursor:n}}else{let l=e;const n=t;return e.startsWith("`")&&e.endsWith("`")?l=e.substring(1,e.length-1):(l=`\`${e}\``,n.ch=n.ch+1),{newSelection:l,newCursor:n}}},link(e,{cursorFrom:t,cursorTo:l}){let n=e;const s=l;let u;return e.endsWith("](url)")?n=e.substring(1,e.length-6):e.startsWith("http")?(n=`[](${e})`,s.ch=t.ch+1):(n=`[${e}](url)`,e?u={from:ke(oe({},M.exports.cloneDeep(s)),{ch:s.ch+3}),to:ke(oe({},M.exports.cloneDeep(s)),{ch:s.ch+6})}:s.ch=t.ch+1),{newSelection:n,newCursor:s,highlight:u}},table(e,t,l){if(!l)return{newSelection:e,newCursor:t.cursorFrom};let n="";const s=[];for(let u=0;u<l.columns;u++)s.push("Header");n+=`| ${s.join(" | ")} |`,n+=`
| ${s.map(()=>"------").join(" | ")} |`;for(let u=0;u<l.rows;u++)n+=`
| ${s.map(()=>"Cell").join("   | ")}   |`;return{newSelection:n,newCursor:t.cursorFrom}},custom(e,{cursorTo:t,cursorHead:l},n){if(!n)return{newSelection:e,newCursor:l};if(n.box==="block"){let s=e;const u=t;return e.startsWith(n.prefix)&&e.endsWith(n.suffix)?s=e.substring(n.prefix.length,e.length-n.suffix.length):(s=`${n.prefix}
${s}
${n.suffix}`,u.line=u.line+1),{newSelection:s,newCursor:u}}else{let s=e;const u=t;return e.startsWith(n.prefix)&&e.endsWith(n.suffix)?s=e.substring(1,e.length-1):(s=`${n.prefix}${e}${n.suffix}`,u.ch=u.ch+1),{newSelection:s,newCursor:u}}}};function _K(e,t,l){if(e){const n=e.getCursor("head"),s=e.getCursor("from"),u=e.getCursor("to"),o=e.findWordAt(n),i=e.getRange(o.anchor,o.head).trim(),d=e.getSelection(),{newSelection:p,newCursor:f,highlight:v}=vK[t](d||i,{cursorFrom:M.exports.cloneDeep(d?s:o.anchor),cursorTo:M.exports.cloneDeep(d?u:o.head),cursorHead:n},l);i&&!d?e.replaceRange(p,o.anchor,o.head):e.replaceSelection(p),e.setCursor(f),v&&e.setSelection(v.from,v.to),e.focus()}}const yK=z({props:{value:{type:String,default:null},disabled:{type:Boolean,default:!1},placeholder:{type:String,default:null},customSyntax:{type:Array,default:()=>[]},imageToken:{type:String,default:void 0}},emits:["input"],setup(e,{emit:t}){const{t:l}=te(),n=E(),s=E();let u=null;const o=E(["editor"]),i=E(!1);st(async()=>{s.value&&(u=$n(s.value,{mode:"markdown",configureMouse:()=>({addNew:!1}),lineWrapping:!0,placeholder:e.placeholder,value:e.value||""}),u.on("change",(y,{origin:_})=>{if(_==="setValue")return;const g=y.getValue();t("input",g)}))}),ye(()=>e.value,y=>{if(!u)return;u.getValue()!==y&&(u.setValue(""),u.clearHistory(),u.setValue(y!=null?y:""),u.refresh())});const d=V(()=>{let y=e.value||"";if(!e.imageToken){const _=ha()+"assets/",g=new RegExp(`\\]\\((${mr(_)}[^\\s\\)]*)`,"gm"),w=Array.from(y.matchAll(g));for(const h of w)y=y.replace(h[1],dt(h[1]))}return y}),p=Yt({rows:4,columns:4});return et("meta+b",()=>v("bold"),n),et("meta+i",()=>v("italic"),n),et("meta+k",()=>v("link"),n),et("meta+alt+d",()=>v("strikethrough"),n),et("meta+alt+q",()=>v("blockquote"),n),et("meta+alt+c",()=>v("code"),n),et("meta+alt+1",()=>v("heading",{level:1}),n),et("meta+alt+2",()=>v("heading",{level:2}),n),et("meta+alt+3",()=>v("heading",{level:3}),n),et("meta+alt+4",()=>v("heading",{level:4}),n),et("meta+alt+5",()=>v("heading",{level:5}),n),et("meta+alt+6",()=>v("heading",{level:6}),n),{t:l,codemirrorEl:s,edit:v,view:o,markdownString:d,table:p,onImageUpload:f,imageDialogOpen:i,useShortcut:et,translateShortcut:ba,markdownInterface:n};function f(y){if(!u)return;let _=ha()+"assets/"+y.id;e.imageToken&&(_+="?access_token="+e.imageToken),u.replaceSelection(`![](${_})`),i.value=!1}function v(y,_){u&&_K(u,y,_)}}}),gK=e=>(We("data-v-d0a4bd4a"),e=e(),Ge(),e),hK={class:"toolbar"},bK={class:"table-options"},$K={class:"field half"},wK={class:"type-label"},kK={class:"field half"},CK={class:"type-label"},SK={class:"field full"},VK=D(" Create "),FK=gK(()=>C("div",{class:"spacer"},null,-1)),AK=D("Editor"),IK=D("Preview"),EK={ref:"codemirrorEl"},DK={key:0,class:"preview-box"};function TK(e,t,l,n,s,u){const o=c("v-icon"),i=c("v-button"),d=c("v-text-overflow"),p=c("v-list-item-content"),f=c("v-list-item-hint"),v=c("v-list-item"),y=c("v-list"),_=c("v-menu"),g=c("v-input"),w=c("v-item-group"),h=c("v-card-title"),k=c("v-upload"),F=c("v-card-text"),A=c("v-card-actions"),P=c("v-card"),L=c("v-dialog"),O=we("tooltip"),U=we("md");return m(),I("div",{ref:"markdownInterface",class:ue(["interface-input-rich-text-md",e.view[0]])},[C("div",hK,[a(_,{"show-arrow":"",placement:"bottom-start"},{activator:r(({toggle:T})=>[ne(a(i,{small:"",icon:"",onClick:T},{default:r(()=>[a(o,{name:"title"})]),_:2},1032,["onClick"]),[[O,e.t("wysiwyg_options.heading")]])]),default:r(()=>[a(y,null,{default:r(()=>[(m(),I(ae,null,be(6,T=>a(v,{key:T,clickable:"",onClick:B=>e.edit("heading",{level:T})},{default:r(()=>[a(p,null,{default:r(()=>[a(d,{text:e.t(`wysiwyg_options.h${T}`)},null,8,["text"])]),_:2},1024),a(f,null,{default:r(()=>[D(b(e.translateShortcut(["meta","alt"]))+" "+b(T),1)]),_:2},1024)]),_:2},1032,["onClick"])),64))]),_:1})]),_:1}),ne(a(i,{small:"",icon:"",onClick:t[0]||(t[0]=T=>e.edit("bold"))},{default:r(()=>[a(o,{name:"format_bold"})]),_:1},512),[[O,e.t("wysiwyg_options.bold")+" - "+e.translateShortcut(["meta","b"])]]),ne(a(i,{small:"",icon:"",onClick:t[1]||(t[1]=T=>e.edit("italic"))},{default:r(()=>[a(o,{name:"format_italic"})]),_:1},512),[[O,e.t("wysiwyg_options.italic")+" - "+e.translateShortcut(["meta","i"])]]),ne(a(i,{small:"",icon:"",onClick:t[2]||(t[2]=T=>e.edit("strikethrough"))},{default:r(()=>[a(o,{name:"format_strikethrough"})]),_:1},512),[[O,e.t("wysiwyg_options.strikethrough")+" - "+e.translateShortcut(["meta","alt","d"])]]),ne(a(i,{small:"",icon:"",onClick:t[3]||(t[3]=T=>e.edit("listBulleted"))},{default:r(()=>[a(o,{name:"format_list_bulleted"})]),_:1},512),[[O,e.t("wysiwyg_options.bullist")]]),ne(a(i,{small:"",icon:"",onClick:t[4]||(t[4]=T=>e.edit("listNumbered"))},{default:r(()=>[a(o,{name:"format_list_numbered"})]),_:1},512),[[O,e.t("wysiwyg_options.numlist")]]),ne(a(i,{small:"",icon:"",onClick:t[5]||(t[5]=T=>e.edit("blockquote"))},{default:r(()=>[a(o,{name:"format_quote"})]),_:1},512),[[O,e.t("wysiwyg_options.blockquote")+" - "+e.translateShortcut(["meta","alt","q"])]]),ne(a(i,{small:"",icon:"",onClick:t[6]||(t[6]=T=>e.edit("code"))},{default:r(()=>[a(o,{name:"code"})]),_:1},512),[[O,e.t("wysiwyg_options.codeblock")+" - "+e.translateShortcut(["meta","alt","c"])]]),ne(a(i,{small:"",icon:"",onClick:t[7]||(t[7]=T=>e.edit("link"))},{default:r(()=>[a(o,{name:"insert_link"})]),_:1},512),[[O,e.t("wysiwyg_options.link")+" - "+e.translateShortcut(["meta","k"])]]),a(_,{"show-arrow":"","close-on-content-click":!1},{activator:r(({toggle:T})=>[ne(a(i,{small:"",icon:"",onClick:T},{default:r(()=>[a(o,{name:"table_chart"})]),_:2},1032,["onClick"]),[[O,e.t("wysiwyg_options.table")]])]),default:r(({deactivate:T})=>[C("div",bK,[C("div",$K,[C("p",wK,b(e.t("rows")),1),a(g,{modelValue:e.table.rows,"onUpdate:modelValue":t[8]||(t[8]=B=>e.table.rows=B),min:1,type:"number"},null,8,["modelValue"])]),C("div",kK,[C("p",CK,b(e.t("columns")),1),a(g,{modelValue:e.table.columns,"onUpdate:modelValue":t[9]||(t[9]=B=>e.table.columns=B),min:1,type:"number"},null,8,["modelValue"])]),C("div",SK,[a(i,{"full-width":"",onClick:()=>{e.edit("table",e.table),T()}},{default:r(()=>[VK]),_:2},1032,["onClick"])])])]),_:1}),ne(a(i,{small:"",icon:"",onClick:t[10]||(t[10]=T=>e.imageDialogOpen=!0)},{default:r(()=>[a(o,{name:"insert_photo"})]),_:1},512),[[O,e.t("wysiwyg_options.image")]]),(m(!0),I(ae,null,be(e.customSyntax,T=>ne((m(),S(i,{key:T.name,small:"",icon:"",onClick:B=>e.edit("custom",T)},{default:r(()=>[a(o,{name:T.icon},null,8,["name"])]),_:2},1032,["onClick"])),[[O,T.name]])),128)),FK,a(w,{modelValue:e.view,"onUpdate:modelValue":t[11]||(t[11]=T=>e.view=T),class:"view",mandatory:"",rounded:""},{default:r(()=>[a(i,{"x-small":"",value:"editor"},{default:r(()=>[AK]),_:1}),a(i,{"x-small":"",value:"preview"},{default:r(()=>[IK]),_:1})]),_:1},8,["modelValue"])]),C("div",EK,null,512),e.view[0]==="preview"?ne((m(),I("div",DK,null,512)),[[U,e.markdownString]]):R("",!0),a(L,{"model-value":e.imageDialogOpen,onEsc:t[13]||(t[13]=T=>e.imageDialogOpen=null),"onUpdate:modelValue":t[14]||(t[14]=T=>e.imageDialogOpen=null)},{default:r(()=>[a(P,null,{default:r(()=>[a(h,null,{default:r(()=>[D(b(e.t("upload_from_device")),1)]),_:1}),a(F,null,{default:r(()=>[a(k,{"from-url":"","from-library":"",onInput:e.onImageUpload},null,8,["onInput"])]),_:1}),a(A,null,{default:r(()=>[a(i,{secondary:"",onClick:t[12]||(t[12]=T=>e.imageDialogOpen=null)},{default:r(()=>[D(b(e.t("cancel")),1)]),_:1})]),_:1})]),_:1})]),_:1},8,["model-value"])],2)}var PK=N(yK,[["render",TK],["__scopeId","data-v-d0a4bd4a"]]),LK=`<svg width="156" height="96" fill="none" xmlns="http://www.w3.org/2000/svg">
	<rect x="18" y="15" width="120" height="66" rx="6" fill="var(--background-page)" class="glow" />
	<rect x="19" y="16" width="118" height="64" rx="5" stroke="var(--primary)" stroke-width="2" />
	<rect x="28" y="25" width="8" height="8" rx="2" fill="var(--primary)" fill-opacity=".25" />
	<rect x="42" y="25" width="8" height="8" rx="2" fill="var(--primary)" />
	<rect x="56" y="25" width="8" height="8" rx="2" fill="var(--primary)" fill-opacity=".25" />
	<rect x="70" y="25" width="8" height="8" rx="2" fill="var(--primary)" fill-opacity=".25" />
	<rect x="84" y="25" width="8" height="8" rx="2" fill="var(--primary)" fill-opacity=".25" />
	<rect x="98" y="25" width="8" height="8" rx="2" fill="var(--primary)" fill-opacity=".25" />
	<rect x="28" y="39" width="60" height="6" rx="2" fill="var(--primary)" fill-opacity=".25" />
	<rect x="28" y="59" width="60" height="6" rx="2" fill="var(--primary)" fill-opacity=".25" />
	<rect x="28" y="49" width="40" height="6" rx="2" fill="var(--primary)" fill-opacity=".25" />
	<rect x="92" y="39" width="30" height="6" rx="2" fill="var(--primary)" />
	<rect x="72" y="49" width="50" height="6" rx="2" fill="var(--primary)" fill-opacity=".25" />
</svg>
`,OK=Ne({id:"input-rich-text-md",name:"$t:interfaces.input-rich-text-md.markdown",description:"$t:interfaces.input-rich-text-md.description",icon:"functions",component:PK,types:["text"],group:"standard",preview:LK,options:[{field:"placeholder",name:"$t:placeholder",type:"string",meta:{width:"full",interface:"input-multiline",options:{placeholder:"$t:enter_a_placeholder"}}},{field:"customSyntax",name:"$t:interfaces.input-rich-text-md.customSyntax",type:"json",meta:{note:"$t:interfaces.input-rich-text-md.customSyntax_label",width:"full",interface:"list",options:{addLabel:"$t:interfaces.input-rich-text-md.customSyntax_add",template:"{{ name }}",fields:[{field:"name",type:"string",name:"$t:name",meta:{interface:"input",width:"half"}},{field:"icon",type:"string",name:"$t:icon",meta:{interface:"select-icon",width:"half"}},{field:"prefix",type:"string",name:"$t:prefix",meta:{interface:"input",width:"half"}},{field:"suffix",type:"string",name:"$t:suffix",meta:{interface:"input",width:"half"}},{field:"box",type:"string",name:"$t:interfaces.input-rich-text-md.box",meta:{interface:"select-radio",width:"half",options:{choices:[{text:"$t:inline",value:"inline"},{text:"$t:block",value:"block"}]}},schema:{default_value:"inline"}}]}}},{field:"imageToken",name:"$t:interfaces.input-rich-text-md.imageToken",type:"string",meta:{note:"$t:interfaces.input-rich-text-md.imageToken_label",width:"full",interface:"input"}}]}),jK=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:OK});const RK=z({components:{Draggable:kt},props:{value:{type:Array,default:null},fields:{type:Array,default:()=>[]},template:{type:String,default:null},addLabel:{type:String,default:()=>qe.global.t("create_new")},limit:{type:Number,default:null},disabled:{type:Boolean,default:!1},headerPlaceholder:{type:String,default:()=>qe.global.t("empty_item")},collection:{type:String,default:null},placeholder:{type:String,default:()=>qe.global.t("no_items")}},emits:["input"],setup(e,{emit:t}){const{t:l}=te(),n=E(null),s=V(()=>n.value!==null),{value:u}=Ue(e),o=V(()=>{var q,K;return e.template||((K=(q=e.fields)==null?void 0:q[0])==null?void 0:K.field)?`{{${e.fields[0].field}}}`:""}),i=V(()=>e.disabled?!1:!!(e.value===null||e.limit===null||Array.isArray(e.value)&&e.value.length<e.limit)),d=V(()=>n.value!==null?_.value:null),{displayValue:p}=$a(o,d),f=V(()=>{var K,H;const q={};for(const Y of e.fields)((K=Y.schema)==null?void 0:K.default_value)!==void 0&&((H=Y.schema)==null?void 0:H.default_value)!==null&&(q[Y.field]=Y.schema.default_value);return q}),v=V(()=>{var q;return(q=e.fields)==null?void 0:q.map(K=>{var H;return ke(oe({},K),{name:(H=K.name)!=null?H:Et(K.field)})})}),y=E(!1),_=E({}),g=E(!1);return{t:l,updateValues:P,removeItem:L,addNew:O,showAddNew:i,hideDragImage:Bt,active:n,drawerOpen:s,displayValue:p,activeItem:d,closeDrawer:B,onSort:T,templateWithDefaults:o,defaults:f,fieldsWithNames:v,isNewItem:y,edits:_,confirmDiscard:g,openItem:w,saveItem:h,trackEdits:k,checkDiscard:F,discardAndLeave:A};function w(q){y.value=!1,_.value=oe({},e.value[q]),n.value=q}function h(q){y.value=!1,P(q,_.value),B()}function k(q){Object.assign(_.value,q)}function F(){n.value!==null&&!M.exports.isEqual(_.value,e.value[n.value])?g.value=!0:B()}function A(){B(),g.value=!1}function P(q,K){U(e.value.map((H,Y)=>Y===q?K:H))}function L(q){u.value?U(e.value.filter(K=>K!==q)):U(null)}function O(){y.value=!0;const q={};e.fields.forEach(K=>{var H;q[K.field]=(H=K.schema)==null?void 0:H.default_value}),e.value!==null?U([...e.value,q]):U([q]),_.value=oe({},q),n.value=(e.value||[]).length}function U(q){return q===null||q.length===0?t("input",null):t("input",q)}function T(q){return q===null||q.length===0?t("input",null):t("input",q)}function B(){y.value&&U(e.value.slice(0,-1)),n.value=null}}}),MK=e=>(We("data-v-d63c2eda"),e=e(),Ge(),e),UK={class:"repeater"},NK=MK(()=>C("div",{class:"spacer"},null,-1)),BK={class:"type-title"},qK={class:"drawer-item-content"};function zK(e,t,l,n,s,u){const o=c("v-notice"),i=c("v-icon"),d=c("render-template"),p=c("v-list-item"),f=c("draggable"),v=c("v-list"),y=c("v-button"),_=c("v-form"),g=c("v-drawer"),w=c("v-card-title"),h=c("v-card-text"),k=c("v-card-actions"),F=c("v-card"),A=c("v-dialog"),P=we("tooltip");return m(),I("div",UK,[!e.value||e.value.length===0?(m(),S(o,{key:0},{default:r(()=>[D(b(e.placeholder),1)]),_:1})):R("",!0),e.value&&e.value.length>0?(m(),S(v,{key:1},{default:r(()=>[a(f,{disabled:e.disabled,"force-fallback":!0,"model-value":e.value,"item-key":"id",handle:".drag-handle","onUpdate:modelValue":t[1]||(t[1]=L=>e.$emit("input",L))},{item:r(({element:L,index:O})=>[a(p,{dense:e.value.length>4,block:"",onClick:U=>e.openItem(O)},{default:r(()=>[e.disabled?R("",!0):(m(),S(i,{key:0,name:"drag_handle",class:"drag-handle",left:"",onClick:t[0]||(t[0]=Ae(()=>{},["stop"]))})),a(d,{fields:e.fields,item:oe(oe({},e.defaults),L),template:e.templateWithDefaults},null,8,["fields","item","template"]),NK,e.disabled?R("",!0):(m(),S(i,{key:1,name:"close",onClick:Ae(U=>e.removeItem(L),["stop"])},null,8,["onClick"]))]),_:2},1032,["dense","onClick"])]),_:1},8,["disabled","model-value"])]),_:1})):R("",!0),e.showAddNew?(m(),S(y,{key:2,class:"add-new",onClick:e.addNew},{default:r(()=>[D(b(e.addLabel),1)]),_:1},8,["onClick"])):R("",!0),a(g,{"model-value":e.drawerOpen,title:e.displayValue||e.headerPlaceholder,persistent:"","onUpdate:modelValue":t[4]||(t[4]=L=>e.checkDiscard()),onCancel:t[5]||(t[5]=L=>e.checkDiscard())},{title:r(()=>[C("h1",BK,[a(d,{fields:e.fields,item:e.activeItem,template:e.templateWithDefaults},null,8,["fields","item","template"])])]),actions:r(()=>[ne(a(y,{icon:"",rounded:"",onClick:t[2]||(t[2]=L=>e.saveItem(e.active))},{default:r(()=>[a(i,{name:"check"})]),_:1},512),[[P,e.t("save"),void 0,{bottom:!0}]])]),default:r(()=>[C("div",qK,[a(_,{disabled:e.disabled,fields:e.fieldsWithNames,"model-value":e.activeItem,"primary-key":"+","onUpdate:modelValue":t[3]||(t[3]=L=>e.trackEdits(L))},null,8,["disabled","fields","model-value"])])]),_:1},8,["model-value","title"]),a(A,{modelValue:e.confirmDiscard,"onUpdate:modelValue":t[8]||(t[8]=L=>e.confirmDiscard=L),onEsc:t[9]||(t[9]=L=>e.confirmDiscard=!1)},{default:r(()=>[a(F,null,{default:r(()=>[a(w,null,{default:r(()=>[D(b(e.t("unsaved_changes")),1)]),_:1}),a(h,null,{default:r(()=>[D(b(e.t("unsaved_changes_copy")),1)]),_:1}),a(k,null,{default:r(()=>[a(y,{secondary:"",onClick:t[6]||(t[6]=L=>e.discardAndLeave())},{default:r(()=>[D(b(e.t("discard_changes")),1)]),_:1}),a(y,{onClick:t[7]||(t[7]=L=>e.confirmDiscard=!1)},{default:r(()=>[D(b(e.t("keep_editing")),1)]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])])}var Ni=N(RK,[["render",zK],["__scopeId","data-v-d63c2eda"]]);const KK=z({components:{Repeater:Ni},props:{value:{type:Object,default:null}},emits:["input"],setup(e,{emit:t}){const{t:l}=te(),n=V({get(){var i,d;return(d=(i=e.value)==null?void 0:i.fields)==null?void 0:d.map(p=>p.meta)},set(i){const d=(i||[]).map(p=>({field:p.field,name:p.name||p.field,type:p.type,meta:p}));t("input",ke(oe({},e.value||{}),{fields:d}))}}),s=[{name:l("field",1),field:"field",type:"string",meta:{interface:"input",width:"half",sort:2,options:{dbSafe:!0,font:"monospace",placeholder:l("interfaces.list.field_name_placeholder")}},schema:null},{name:l("field_width"),field:"width",type:"string",meta:{interface:"select-dropdown",width:"half",sort:3,options:{choices:[{value:"half",text:l("half_width")},{value:"full",text:l("full_width")}]}},schema:null},{name:l("type"),field:"type",type:"string",meta:{interface:"select-dropdown",width:"half",sort:4,options:{choices:Ft(g$)}},schema:null},{name:l("interface_label"),field:"interface",type:"string",meta:{interface:"system-interface",width:"half",sort:5,options:{typeField:"type"}},schema:null},{name:l("note"),field:"note",type:"string",meta:{interface:"input",width:"full",sort:6,options:{placeholder:l("interfaces.list.field_note_placeholder")}},schema:null},{name:l("options"),field:"options",type:"string",meta:{interface:"system-interface-options",width:"full",sort:7,options:{interfaceField:"interface"}}}],u=V({get(){var i;return(i=e.value)==null?void 0:i.template},set(i){t("input",ke(oe({},e.value||{}),{template:i}))}}),o=V({get(){var i;return(i=e.value)==null?void 0:i.addLabel},set(i){t("input",ke(oe({},e.value||{}),{addLabel:i}))}});return{t:l,repeaterValue:n,repeaterFields:s,template:u,addLabel:o}}}),HK={class:"grid"},WK={class:"grid-element half"},GK={class:"type-label"},JK={class:"grid-element half"},QK={class:"type-label"},XK={class:"grid-element full"},ZK={class:"type-label"};function YK(e,t,l,n,s,u){const o=c("v-input"),i=c("repeater");return m(),I("div",HK,[C("div",WK,[C("p",GK,b(e.t("template")),1),a(o,{modelValue:e.template,"onUpdate:modelValue":t[0]||(t[0]=d=>e.template=d),class:"input",placeholder:"{{ field }}"},null,8,["modelValue"])]),C("div",JK,[C("p",QK,b(e.t("interfaces.list.add_label")),1),a(o,{modelValue:e.addLabel,"onUpdate:modelValue":t[1]||(t[1]=d=>e.addLabel=d),class:"input",placeholder:e.t("create_new")},null,8,["modelValue","placeholder"])]),C("div",XK,[C("p",ZK,b(e.t("interfaces.list.edit_fields")),1),a(i,{value:e.repeaterValue,template:"{{ field }} \u2014 {{ interface }}",fields:e.repeaterFields,onInput:t[2]||(t[2]=d=>e.repeaterValue=d)},null,8,["value","fields"])])])}var xK=N(KK,[["render",YK],["__scopeId","data-v-5bedb58b"]]),eH=`<svg width="156" height="96" viewBox="0 0 156 96" fill="none" xmlns="http://www.w3.org/2000/svg">
	<rect x="18.4443" y="9" width="120" height="22" rx="6" fill="var(--background-page)" />
	<rect x="19.4443" y="10" width="118" height="20" rx="5" stroke="var(--primary)" stroke-opacity="0.25"
		stroke-width="2" />
	<rect x="46" y="17" width="10" height="6" rx="2" fill="var(--primary)" fill-opacity="0.25" />
	<rect x="60" y="17" width="40" height="6" rx="2" fill="var(--primary)" fill-opacity="0.25" />
	<path opacity="0.5" d="M38 18H28V19.2691H38V18ZM28 21.7778H38V20.5087H28V21.7778Z" fill="var(--primary)" />
	<rect x="18" y="65" width="120" height="22" rx="6" fill="var(--background-page)" />
	<rect x="19" y="66" width="118" height="20" rx="5" stroke="var(--primary)" stroke-opacity="0.25" stroke-width="2" />
	<rect x="46" y="73" width="60" height="6" rx="2" fill="var(--primary)" fill-opacity="0.25" />
	<path opacity="0.5" d="M38 74H28V75.2691H38V74ZM28 77.7778H38V76.5087H28V77.7778Z" fill="var(--primary)" />
	<rect x="18" y="37" width="120" height="22" rx="6" fill="var(--background-page)" class="glow" />
	<rect x="19" y="38" width="118" height="20" rx="5" stroke="var(--primary)" stroke-width="2" />
	<rect x="46" y="45" width="30" height="6" rx="2" fill="var(--primary)" />
	<rect x="80" y="45" width="10" height="6" rx="2" fill="var(--primary)" />
	<path d="M38 46H28V47.2691H38V46ZM28 49.7778H38V48.5087H28V49.7778Z" fill="var(--primary)" />
	<path
		d="M127.074 52.0742H118.926V43.9258H123V42.75H118.926C118.27 42.75 117.75 43.2695 117.75 43.9258V52.0742C117.75 52.7305 118.27 53.25 118.926 53.25H127.074C127.73 53.25 128.25 52.7305 128.25 52.0742V48H127.074V52.0742ZM124.176 42.75V43.9258H126.254L120.539 49.6406L121.359 50.4609L127.074 44.7461V46.8242H128.25V42.75H124.176Z"
		fill="var(--primary)" />
</svg>
`,tH=Ne({id:"list",name:"$t:interfaces.list.repeater",description:"$t:interfaces.list.description",icon:"replay",component:Ni,types:["json"],group:"selection",options:xK,preview:eH}),nH=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:tH});const lH=z({components:{DrawerCollection:Xt,DrawerItem:qt,Draggable:kt},props:{collection:{type:String,required:!0},field:{type:String,required:!0},value:{type:Array,default:null},disabled:{type:Boolean,default:!1},primaryKey:{type:[String,Number],required:!0},enableCreate:{type:Boolean,default:!0},enableSelect:{type:Boolean,default:!0}},emits:["input"],setup(e,{emit:t}){const{t:l}=te(),n=mt(),s=Te(),u=Ke(),{o2mRelation:o,anyRelation:i,allowedCollections:d,o2mRelationPrimaryKeyField:p}=Y(),{fetchValues:f,previewValues:v,loading:y,junctionRowMap:_,relatedItemValues:g}=re(),{collections:w,templates:h,primaryKeys:k}=J(),{selectingFrom:F,stageSelection:A,deselect:P}=fe(),{currentlyEditing:L,relatedPrimaryKey:O,editsAtStart:U,stageEdits:T,cancelEdit:B,editExisting:q,createNew:K}=X(),{onSort:H}=x();return ye(e,f,{immediate:!0,deep:!0}),{t:l,previewValues:v,collections:w,selectingFrom:F,stageSelection:A,templates:h,o2mRelation:o,anyRelation:i,currentlyEditing:L,relatedPrimaryKey:O,editsAtStart:U,stageEdits:T,cancelEdit:B,editExisting:q,createNew:K,previewLoading:y,deselect:P,relatedItemValues:g,hideDragImage:Bt,onSort:H,allowedCollections:d};function Y(){const ee=V(()=>n.getRelationsForField(e.collection,e.field)),se=V(()=>ee.value.find(Z=>Z.related_collection!==null)),W=V(()=>ee.value.find(Z=>Z.related_collection===null)),G=V(()=>s.getPrimaryKeyFieldForCollection(se.value.collection).field),le=V(()=>W.value.meta.one_allowed_collections);return{relationsForField:ee,o2mRelation:se,anyRelation:W,allowedCollections:le,o2mRelationPrimaryKeyField:G}}function J(){const ee=V(()=>{const G={},le=d.value.map(Z=>u.getCollection(Z)).filter(Z=>Z);for(const Z of le)G[Z.collection]=Z;return G}),se=V(()=>{const G={};for(const le of Object.values(ee.value))G[le.collection]=s.getPrimaryKeyFieldForCollection(le.collection).field;return G}),W=V(()=>{var le;const G={};for(const Z of Object.values(ee.value)){const ce=s.getPrimaryKeyFieldForCollection(Z.collection);G[Z.collection]=((le=Z.meta)==null?void 0:le.display_template)||`{{${ce.field}}}`}return G});return{collections:ee,primaryKeys:se,templates:W}}function re(){const ee=E(!1),se=E({}),W=E(),G=V(()=>{var ce,ve;if(W.value===void 0)return[];const Z=M.exports.cloneDeep(e.value||[]).map((Q,ie)=>{const de=M.exports.isPlainObject(Q)?Q[p.value]:Q,me=(W.value||[]).find(he=>he[p.value]===de);return M.exports.isPlainObject(Q)?ke(oe(oe({},me),Q),{$index:ie}):me===void 0?null:ke(oe({},me),{$index:ie})}).filter(Q=>Q).map(Q=>{var he;const ie=Q[i.value.meta.one_collection_field],de=M.exports.isPlainObject(Q[i.value.field])?Q[i.value.field][k.value[ie]]:Q[i.value.field],me=(he=se.value[ie])==null?void 0:he.find(_e=>_e[k.value[ie]]==de);return de&&me&&(M.exports.isPlainObject(Q[i.value.field])?Q[i.value.field]=oe(oe({},me),Q[i.value.field]):Q[i.value.field]=M.exports.cloneDeep(me)),Q});return((ve=(ce=o.value)==null?void 0:ce.meta)==null?void 0:ve.sort_field)?[...Z.filter(Q=>o.value.meta.sort_field in Q).sort((Q,ie)=>Q[o.value.meta.sort_field]-ie[o.value.meta.sort_field]),...Z.filter(Q=>!(o.value.meta.sort_field in Q)).sort((Q,ie)=>Q.$index-ie.$index)]:[...Z.sort((Q,ie)=>Q.$index-ie.$index)]});return{fetchValues:le,previewValues:G,loading:ee,junctionRowMap:W,relatedItemValues:se};async function le(){var Z;if(e.value!==null){ee.value=!0;try{const ce=[],ve={};for(const ie of Object.values(w.value))ve[ie.collection]=[];for(const ie of e.value||[])if(typeof ie=="string"||typeof ie=="number")ce.push(ie);else if(!(i.value.meta.one_collection_field in ie))ce.push(ie[p.value]);else{const de=ie[i.value.meta.one_collection_field],me=k.value[de],he=M.exports.isPlainObject(ie[i.value.field])?ie[i.value.field][me]:ie[i.value.field];he&&ve[de].push(he)}if(ce.length>0){const ie=await pe.get(`/items/${o.value.collection}`,{params:{filter:{[p.value]:{_in:ce}},fields:[p.value,i.value.field,i.value.meta.one_collection_field,(Z=o.value.meta)==null?void 0:Z.sort_field]}});for(const de of ie.data.data){const me=de[i.value.meta.one_collection_field];me in ve&&ve[me].push(de[i.value.field])}W.value=ie.data.data}else W.value=[];const Q=await Promise.all(Object.entries(ve).map(([ie,de])=>{if(de.length===0)return Promise.resolve({data:{data:[]}});const me=yt(h.value[ie]);return me.includes(k.value[ie])===!1&&me.push(k.value[ie]),pe.get(Jt(ie),{params:{filter:{[k.value[ie]]:{_in:de}},fields:me}})}));se.value||(se.value={});for(let ie=0;ie<Object.keys(ve).length;ie++){const de=Object.keys(ve)[ie];se.value=ke(oe({},se.value),{[de]:Q[ie].data.data})}}catch(ce){Se(ce)}finally{ee.value=!1}}}}function fe(){const ee=E(null);return{selectingFrom:ee,stageSelection:se,deselect:W};function se(G){const{field:le}=i.value,Z=i.value.meta.one_collection_field,ce=e.value||[],ve=G.map(Q=>({[Z]:ee.value,[le]:Q}));t("input",[...ce,...ve])}function W(G){t("input",(e.value||[]).filter(le=>le!==G))}}function X(){const ee=E(null),se=E(null),W=E({});return{currentlyEditing:ee,relatedPrimaryKey:se,editsAtStart:W,stageEdits:G,cancelEdit:le,editExisting:Z,createNew:ce};function G(ve){const Q=e.value||[],ie=Q.includes(W.value)||Q.includes(ee.value);ee.value==="+"&&se.value==="+"&&ie===!1?t("input",[...Q,ve]):t("input",Q.map(me=>me===W.value||me==ee.value?ve:me))}function le(){ee.value=null,se.value=null,W.value={}}function Z(ve){var me,he,_e;if(typeof ve=="string"||typeof ve=="number"){const Ce=(_.value||[]).find(je=>je[p.value]==ve),De=Ce[i.value.meta.one_collection_field],Ie=M.exports.isPlainObject(Ce[i.value.field])?Ce[i.value.field][k.value[De]]:Ce[i.value.field];W.value={[p.value]:ve,[i.value.meta.one_collection_field]:De,[i.value.field]:{[k.value[De]]:Ie}},((me=o.value.meta)==null?void 0:me.sort_field)&&(W.value[(he=o.value.meta)==null?void 0:he.sort_field]=Ce[(_e=o.value.meta)==null?void 0:_e.sort_field]),se.value=Ie||"+",ee.value=ve;return}const Q=ve[p.value],ie=ve[i.value.meta.one_collection_field];let de=ve[i.value.field];M.exports.isPlainObject(de)&&(de=ve[i.value.field][k.value[ie]]),W.value=ve,se.value=de||"+",ee.value=Q||"+"}function ce(ve){var ie,de;const Q={[i.value.meta.one_collection_field]:ve,[i.value.field]:{}};if(v.value&&((de=(ie=o.value)==null?void 0:ie.meta)==null?void 0:de.sort_field)){const me=Math.max(-1,...v.value.map(he=>he[o.value.meta.sort_field]));Q[o.value.meta.sort_field]=me+1}W.value=Q,se.value="+",ee.value="+"}}function x(){return{onSort:ee};function ee(se){t("input",e.value.map((W,G)=>{var Z,ce,ve;if(!((Z=o.value.meta)==null?void 0:Z.sort_field))return W;const le=se.findIndex(Q=>Q.$index===G);return M.exports.isPlainObject(W)?ke(oe({},W),{[(ce=o.value.meta)==null?void 0:ce.sort_field]:le+1}):ke(oe({},se[le]),{[p.value]:W,[(ve=o.value.meta)==null?void 0:ve.sort_field]:le+1})}))}}}}),Bi=e=>(We("data-v-d5c7690e"),e=e(),Ge(),e),oH={class:"m2a-builder"},aH={key:0,class:"loader"},iH={class:"collection"},sH={key:1},rH=Bi(()=>C("div",{class:"spacer"},null,-1)),dH=Bi(()=>C("div",{class:"spacer"},null,-1)),uH={class:"buttons"};function cH(e,t,l,n,s,u){const o=c("v-skeleton-loader"),i=c("v-notice"),d=c("v-icon"),p=c("render-template"),f=c("v-list-item"),v=c("draggable"),y=c("v-list"),_=c("v-button"),g=c("v-list-item-icon"),w=c("v-text-overflow"),h=c("v-menu"),k=c("drawer-collection"),F=c("drawer-item");return m(),I("div",oH,[e.previewLoading&&!e.previewValues?(m(),I("div",aH,[(m(!0),I(ae,null,be((e.value||[]).length,A=>(m(),S(o,{key:A}))),128))])):(m(),S(y,{key:1},{default:r(()=>[e.previewValues.length===0?(m(),S(i,{key:0},{default:r(()=>[D(b(e.t("no_items")),1)]),_:1})):R("",!0),a(v,{"force-fallback":!0,"model-value":e.previewValues,"item-key":"$index","set-data":e.hideDragImage,disabled:!e.o2mRelation.meta||!e.o2mRelation.meta.sort_field,"onUpdate:modelValue":e.onSort},{item:r(({element:A})=>[e.allowedCollections.includes(A[e.anyRelation.meta.one_collection_field])?(m(),S(f,{key:0,block:"",dense:e.previewValues.length>4,onClick:P=>e.editExisting((e.value||[])[A.$index])},{default:r(()=>[e.o2mRelation.meta&&e.o2mRelation.meta.sort_field?(m(),S(d,{key:0,class:"drag-handle",left:"",name:"drag_handle",onClick:t[0]||(t[0]=Ae(()=>{},["stop"]))})):R("",!0),C("span",iH,b(e.collections[A[e.anyRelation.meta.one_collection_field]].name)+":",1),typeof A[e.anyRelation.field]=="number"||typeof A[e.anyRelation.field]=="string"?(m(),I("span",sH,b(A[e.anyRelation.field]),1)):(m(),S(p,{key:2,collection:A[e.anyRelation.meta.one_collection_field],template:e.templates[A[e.anyRelation.meta.one_collection_field]],item:A[e.anyRelation.field]},null,8,["collection","template","item"])),rH,e.disabled?R("",!0):(m(),S(d,{key:3,class:"clear-icon",name:"clear",onClick:Ae(P=>e.deselect((e.value||[])[A.$index]),["stop"])},null,8,["onClick"]))]),_:2},1032,["dense","onClick"])):(m(),S(f,{key:1,block:""},{default:r(()=>[a(d,{class:"invalid-icon",name:"warning",left:""}),C("span",null,b(e.t("invalid_item")),1),dH,e.disabled?R("",!0):(m(),S(d,{key:0,class:"clear-icon",name:"clear",onClick:Ae(P=>e.deselect((e.value||[])[A.$index]),["stop"])},null,8,["onClick"]))]),_:2},1024))]),_:1},8,["model-value","set-data","disabled","onUpdate:modelValue"])]),_:1})),C("div",uH,[e.enableCreate?(m(),S(h,{key:0,"show-arrow":""},{activator:r(({toggle:A})=>[a(_,{onClick:A},{default:r(()=>[D(b(e.t("create_new"))+" ",1),a(d,{name:"arrow_drop_down",right:""})]),_:2},1032,["onClick"])]),default:r(()=>[a(y,null,{default:r(()=>[(m(!0),I(ae,null,be(e.collections,A=>(m(),S(f,{key:A.collection,clickable:"",onClick:P=>e.createNew(A.collection)},{default:r(()=>[a(g,null,{default:r(()=>[a(d,{name:A.icon},null,8,["name"])]),_:2},1024),a(w,{text:A.name},null,8,["text"])]),_:2},1032,["onClick"]))),128))]),_:1})]),_:1})):R("",!0),e.enableSelect?(m(),S(h,{key:1,"show-arrow":""},{activator:r(({toggle:A})=>[a(_,{class:"existing",onClick:A},{default:r(()=>[D(b(e.t("add_existing"))+" ",1),a(d,{name:"arrow_drop_down",right:""})]),_:2},1032,["onClick"])]),default:r(()=>[a(y,null,{default:r(()=>[(m(!0),I(ae,null,be(e.collections,A=>(m(),S(f,{key:A.collection,clickable:"",onClick:P=>e.selectingFrom=A.collection},{default:r(()=>[a(g,null,{default:r(()=>[a(d,{name:A.icon},null,8,["name"])]),_:2},1024),a(w,{text:A.name},null,8,["text"])]),_:2},1032,["onClick"]))),128))]),_:1})]),_:1})):R("",!0)]),!e.disabled&&!!e.selectingFrom?(m(),S(k,{key:2,multiple:"",active:!!e.selectingFrom,collection:e.selectingFrom,selection:[],onInput:e.stageSelection,"onUpdate:active":t[1]||(t[1]=A=>e.selectingFrom=null)},null,8,["active","collection","onInput"])):R("",!0),e.disabled?R("",!0):(m(),S(F,{key:3,active:!!e.currentlyEditing,collection:e.o2mRelation.collection,"primary-key":e.currentlyEditing||"+","related-primary-key":e.relatedPrimaryKey||"+","junction-field":e.o2mRelation.meta.junction_field,edits:e.editsAtStart,"circular-field":e.o2mRelation.field,onInput:e.stageEdits,"onUpdate:active":e.cancelEdit},null,8,["active","collection","primary-key","related-primary-key","junction-field","edits","circular-field","onInput","onUpdate:active"]))])}var pH=N(lH,[["render",cH],["__scopeId","data-v-d5c7690e"]]),mH=`<svg width="156" height="96" viewBox="0 0 156 96" fill="none" xmlns="http://www.w3.org/2000/svg">
	<rect x="18.4443" y="9" width="120" height="22" rx="6" fill="var(--background-page)" />
	<rect x="19.4443" y="10" width="118" height="20" rx="5" stroke="var(--primary)" stroke-opacity="0.25"
		stroke-width="2" />
	<rect x="46" y="17" width="10" height="6" rx="2" fill="var(--primary)" fill-opacity="0.25" />
	<rect x="60" y="17" width="40" height="6" rx="2" fill="var(--primary)" fill-opacity="0.25" />
	<path opacity="0.5" d="M38 18H28V19.2691H38V18ZM28 21.7778H38V20.5087H28V21.7778Z" fill="var(--primary)" />
	<rect x="18" y="65" width="120" height="22" rx="6" fill="var(--background-page)" />
	<rect x="19" y="66" width="118" height="20" rx="5" stroke="var(--primary)" stroke-opacity="0.25" stroke-width="2" />
	<rect x="46" y="73" width="60" height="6" rx="2" fill="var(--primary)" fill-opacity="0.25" />
	<path opacity="0.5" d="M38 74H28V75.2691H38V74ZM28 77.7778H38V76.5087H28V77.7778Z" fill="var(--primary)" />
	<rect x="18" y="37" width="120" height="22" rx="6" fill="var(--background-page)" class="glow" />
	<rect x="19" y="38" width="118" height="20" rx="5" stroke="var(--primary)" stroke-width="2" />
	<rect x="46" y="45" width="30" height="6" rx="2" fill="var(--primary)" />
	<rect x="80" y="45" width="10" height="6" rx="2" fill="var(--primary)" />
	<path d="M38 46H28V47.2691H38V46ZM28 49.7778H38V48.5087H28V49.7778Z" fill="var(--primary)" />
	<path
		d="M127.074 52.0742H118.926V43.9258H123V42.75H118.926C118.27 42.75 117.75 43.2695 117.75 43.9258V52.0742C117.75 52.7305 118.27 53.25 118.926 53.25H127.074C127.73 53.25 128.25 52.7305 128.25 52.0742V48H127.074V52.0742ZM124.176 42.75V43.9258H126.254L120.539 49.6406L121.359 50.4609L127.074 44.7461V46.8242H128.25V42.75H124.176Z"
		fill="var(--primary)" />
</svg>
`,fH=Ne({id:"list-m2a",name:"$t:list-m2a",icon:"note_add",component:pH,relational:!0,types:["alias"],localTypes:["m2a"],group:"relational",options:[{field:"enableSelect",name:"$t:selecting_items",schema:{default_value:!0},meta:{interface:"boolean",options:{label:"$t:enable_select_button"},width:"half"}},{field:"enableCreate",name:"$t:creating_items",schema:{default_value:!0},meta:{interface:"boolean",options:{label:"$t:enable_create_button"},width:"half"}}],preview:mH}),vH=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:fH});const _H=z({components:{DrawerItem:qt,DrawerCollection:Xt,Draggable:kt},props:{value:{type:Array,default:null},primaryKey:{type:[Number,String],required:!0},collection:{type:String,required:!0},field:{type:String,required:!0},template:{type:String,default:null},disabled:{type:Boolean,default:!1},enableCreate:{type:Boolean,default:!0},enableSelect:{type:Boolean,default:!0}},emits:["input"],setup(e,{emit:t}){const{t:l}=te(),{value:n,collection:s,field:u}=Ue(e),{junction:o,junctionCollection:i,relation:d,relationCollection:p,relationInfo:f}=sl(s,u),v=V(()=>{var G,le;if(e.template)return e.template;if((G=i.value.meta)==null?void 0:G.display_template)return i.value.meta.display_template;let W=(le=p.value.meta)==null?void 0:le.display_template;if(W){const Z=/({{.*?}})/g,ce=W.split(Z).filter(ve=>ve);for(const ve of ce){if(ve.startsWith("{{")===!1)continue;const Q=ve.replace(/{{/g,"").replace(/}}/g,"").trim(),ie=`{{${d.value.field}.${Q}}}`;W=W.replace(ve,ie)}return W}return`{{${d.value.field}.${f.value.relationPkField}}}`}),y=V(()=>Zt(yt(v.value),i.value.collection)),{deleteItem:_,getUpdatedItems:g,getNewItems:w,getPrimaryKeys:h,getNewSelectedItems:k}=Ti(n,f,se),{tableHeaders:F,items:A,loading:P}=Li(n,y,f,k,g,w,h),{currentlyEditing:L,editItem:O,editsAtStart:U,stageEdits:T,cancelEdit:B,relatedPrimaryKey:q,editModalActive:K}=Oi(n,f,se),{stageSelection:H,selectModalActive:Y,selectedPrimaryKeys:J}=ji(A,f,se),{sort:re,sortItems:fe,sortedItems:X}=Ri(f,y,A,se),{createAllowed:x,selectAllowed:ee}=Mi(i,p);return{t:l,junction:o,relation:d,tableHeaders:F,loading:P,currentlyEditing:L,editItem:O,junctionCollection:i,relationCollection:p,editsAtStart:U,stageEdits:T,cancelEdit:B,stageSelection:H,selectModalActive:Y,deleteItem:_,selectedPrimaryKeys:J,items:A,relationInfo:f,relatedPrimaryKey:q,get:M.exports.get,editModalActive:K,sort:re,sortItems:fe,sortedItems:X,templateWithDefaults:v,createAllowed:x,selectAllowed:ee};function se(W){t("input",W)}}}),yH=e=>(We("data-v-3eb0bf6a"),e=e(),Ge(),e),gH={key:1,class:"many-to-many"},hH=yH(()=>C("div",{class:"spacer"},null,-1)),bH={key:3,class:"actions"};function $H(e,t,l,n,s,u){const o=c("v-notice"),i=c("v-skeleton-loader"),d=c("v-icon"),p=c("render-template"),f=c("v-list-item"),v=c("draggable"),y=c("v-list"),_=c("v-button"),g=c("drawer-item"),w=c("drawer-collection");return!e.junction||!e.relation?(m(),S(o,{key:0,type:"warning"},{default:r(()=>[D(b(e.t("relationship_not_setup")),1)]),_:1})):(m(),I("div",gH,[e.loading?(m(!0),I(ae,{key:0},be((e.value||[]).length||3,h=>(m(),S(i,{key:h,type:(e.value||[]).length>4?"block-list-item-dense":"block-list-item"},null,8,["type"]))),128)):e.sortedItems.length===0?(m(),S(o,{key:1},{default:r(()=>[D(b(e.t("no_items")),1)]),_:1})):(m(),S(y,{key:2},{default:r(()=>[a(v,{"force-fallback":!0,"model-value":e.sortedItems,"item-key":"id",handle:".drag-handle",disabled:!e.junction.meta.sort_field,"onUpdate:modelValue":t[1]||(t[1]=h=>e.sortItems(h))},{item:r(({element:h})=>[a(f,{dense:e.sortedItems.length>4,block:"",clickable:"",onClick:k=>e.editItem(h)},{default:r(()=>[e.junction.meta.sort_field?(m(),S(d,{key:0,name:"drag_handle",class:"drag-handle",left:"",onClick:t[0]||(t[0]=Ae(()=>{},["stop"]))})):R("",!0),a(p,{collection:e.junctionCollection.collection,item:h,template:e.templateWithDefaults},null,8,["collection","item","template"]),hH,e.disabled?R("",!0):(m(),S(d,{key:1,name:"close",onClick:Ae(k=>e.deleteItem(h),["stop"])},null,8,["onClick"]))]),_:2},1032,["dense","onClick"])]),_:1},8,["model-value","disabled"])]),_:1})),e.disabled?R("",!0):(m(),I("div",bH,[e.enableCreate&&e.createAllowed?(m(),S(_,{key:0,onClick:t[2]||(t[2]=h=>e.editModalActive=!0)},{default:r(()=>[D(b(e.t("create_new")),1)]),_:1})):R("",!0),e.enableSelect&&e.selectAllowed?(m(),S(_,{key:1,onClick:t[3]||(t[3]=h=>e.selectModalActive=!0)},{default:r(()=>[D(b(e.t("add_existing")),1)]),_:1})):R("",!0)])),e.disabled?R("",!0):(m(),S(g,{key:4,active:e.editModalActive,collection:e.relationInfo.junctionCollection,"primary-key":e.currentlyEditing||"+","related-primary-key":e.relatedPrimaryKey||"+","junction-field":e.relationInfo.junctionField,edits:e.editsAtStart,"circular-field":e.junction.field,onInput:e.stageEdits,"onUpdate:active":e.cancelEdit},null,8,["active","collection","primary-key","related-primary-key","junction-field","edits","circular-field","onInput","onUpdate:active"])),e.disabled?R("",!0):(m(),S(w,{key:5,active:e.selectModalActive,"onUpdate:active":t[4]||(t[4]=h=>e.selectModalActive=h),collection:e.relationCollection.collection,selection:e.selectedPrimaryKeys,multiple:"",onInput:e.stageSelection},null,8,["active","collection","selection","onInput"]))]))}var wH=N(_H,[["render",$H],["__scopeId","data-v-3eb0bf6a"]]),kH=`<svg width="156" height="96" viewBox="0 0 156 96" fill="none" xmlns="http://www.w3.org/2000/svg">
	<rect x="18.4443" y="9" width="120" height="22" rx="6" fill="var(--background-page)" />
	<rect x="19.4443" y="10" width="118" height="20" rx="5" stroke="var(--primary)" stroke-opacity="0.25"
		stroke-width="2" />
	<rect x="46" y="17" width="10" height="6" rx="2" fill="var(--primary)" fill-opacity="0.25" />
	<rect x="60" y="17" width="40" height="6" rx="2" fill="var(--primary)" fill-opacity="0.25" />
	<path opacity="0.5" d="M38 18H28V19.2691H38V18ZM28 21.7778H38V20.5087H28V21.7778Z" fill="var(--primary)" />
	<rect x="18" y="65" width="120" height="22" rx="6" fill="var(--background-page)" />
	<rect x="19" y="66" width="118" height="20" rx="5" stroke="var(--primary)" stroke-opacity="0.25" stroke-width="2" />
	<rect x="46" y="73" width="60" height="6" rx="2" fill="var(--primary)" fill-opacity="0.25" />
	<path opacity="0.5" d="M38 74H28V75.2691H38V74ZM28 77.7778H38V76.5087H28V77.7778Z" fill="var(--primary)" />
	<rect x="18" y="37" width="120" height="22" rx="6" fill="var(--background-page)" class="glow" />
	<rect x="19" y="38" width="118" height="20" rx="5" stroke="var(--primary)" stroke-width="2" />
	<rect x="46" y="45" width="30" height="6" rx="2" fill="var(--primary)" />
	<rect x="80" y="45" width="10" height="6" rx="2" fill="var(--primary)" />
	<path d="M38 46H28V47.2691H38V46ZM28 49.7778H38V48.5087H28V49.7778Z" fill="var(--primary)" />
	<path
		d="M127.074 52.0742H118.926V43.9258H123V42.75H118.926C118.27 42.75 117.75 43.2695 117.75 43.9258V52.0742C117.75 52.7305 118.27 53.25 118.926 53.25H127.074C127.73 53.25 128.25 52.7305 128.25 52.0742V48H127.074V52.0742ZM124.176 42.75V43.9258H126.254L120.539 49.6406L121.359 50.4609L127.074 44.7461V46.8242H128.25V42.75H124.176Z"
		fill="var(--primary)" />
</svg>
`,CH=Ne({id:"list-m2m",name:"$t:interfaces.list-m2m.many-to-many",description:"$t:interfaces.list-m2m.description",icon:"note_add",component:wH,relational:!0,types:["alias"],localTypes:["m2m"],group:"relational",options:({relations:e})=>{var t,l;return[{field:"template",name:"$t:display_template",meta:{interface:"system-display-template",options:{collectionName:(l=(t=e.m2o)==null?void 0:t.related_collection)!=null?l:null}}},{field:"enableCreate",name:"$t:creating_items",schema:{default_value:!0},meta:{interface:"boolean",options:{label:"$t:enable_create_button"},width:"half"}},{field:"enableSelect",name:"$t:selecting_items",schema:{default_value:!0},meta:{interface:"boolean",options:{label:"$t:enable_select_button"},width:"half"}}]},recommendedDisplays:["related-values"],preview:kH}),SH=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:CH});const VH=z({components:{DrawerItem:qt,DrawerCollection:Xt,Draggable:kt},props:{value:{type:Array,default:null},primaryKey:{type:[Number,String],required:!0},collection:{type:String,required:!0},field:{type:String,required:!0},template:{type:String,default:null},disabled:{type:Boolean,default:!1},enableCreate:{type:Boolean,default:!0},enableSelect:{type:Boolean,default:!0}},emits:["input"],setup(e,{emit:t}){const{t:l}=te(),n=mt(),s=Ke(),u=Te(),o=Tt(),i=Xe(),{relation:d,relatedCollection:p,relatedPrimaryKeyField:f}=X(),v=V(()=>{var le;return e.template||((le=p.value.meta)==null?void 0:le.display_template)||`{{${u.getPrimaryKeyFieldForCollection(d.value.collection).field}}}`}),y=V(()=>Zt(yt(v.value),p.value.collection)),{items:_,loading:g}=x(),{currentlyEditing:w,editItem:h,editsAtStart:k,stageEdits:F,cancelEdit:A}=ee(),{selectModalActive:P,selectedPrimaryKeys:L}=se(),{sort:O,sortItems:U,sortedItems:T}=fe(),{createAllowed:B,updateAllowed:q}=G();return{t:l,relation:d,loading:g,currentlyEditing:w,editItem:h,relatedCollection:p,editsAtStart:k,stageEdits:F,cancelEdit:A,selectModalActive:P,deleteItem:re,items:_,sortItems:U,selectedPrimaryKeys:L,sort:O,sortedItems:T,get:M.exports.get,getItemFromIndex:K,templateWithDefaults:v,createAllowed:B,updateAllowed:q};function K(le){return(T.value||_.value)[le]}function H(){var Z;const le=(Z=f.value)==null?void 0:Z.field;return e.value===null||!le?[]:e.value.filter(ce=>typeof ce=="object"&&!(le in ce))}function Y(){var Z;const le=(Z=f.value)==null?void 0:Z.field;return e.value===null||!le?[]:e.value.filter(ce=>typeof ce=="object"&&le in ce)}function J(){var Z;const le=(Z=f.value)==null?void 0:Z.field;return e.value===null||!le?[]:e.value.map(ce=>{if(typeof ce=="object"){if(le in ce)return ce[le]}else return ce}).filter(ce=>ce)}function re(le){var ve;const Z=(ve=f.value)==null?void 0:ve.field;if(e.value===null||!Z)return;if(!(Z in le)){t("input",e.value.filter(Q=>M.exports.isEqual(le,Q)===!1));return}const ce=le[Z];t("input",e.value.filter(Q=>typeof Q=="number"||typeof Q=="string"?Q!==ce:typeof Q=="object"&&Z in Q?Q[Z]!==ce:!0))}function fe(){var ve;const le=E({by:((ve=d.value.meta)==null?void 0:ve.sort_field)||y.value[0],desc:!1});function Z(Q){var de;if(!((de=d.value.meta)==null?void 0:de.sort_field))return;const ie=Q.map((me,he)=>(me[d.value.meta.sort_field]=he,me));t("input",ie)}const ce=V(()=>{var de,me;if(!((de=d.value.meta)==null?void 0:de.sort_field)||le.value.by!==((me=d.value.meta)==null?void 0:me.sort_field))return _.value;const Q=le.value.desc,ie=M.exports.sortBy(_.value,[d.value.meta.sort_field]);return Q?ie.reverse():ie});return{sort:le,sortItems:Z,sortedItems:ce}}function X(){const le=V(()=>{var ve;return(ve=n.getRelationsForField(e.collection,e.field))==null?void 0:ve[0]}),Z=V(()=>s.getCollection(le.value.collection)),{primaryKeyField:ce}=ot(Z.value.collection);return{relation:le,relatedCollection:Z,relatedPrimaryKeyField:ce}}function x(){const le=E(!1),Z=E([]);return ye(()=>e.value,async(ce,ve)=>{var me,he;if(M.exports.isEqual(ce,ve))return;le.value=!0;const Q=(me=f.value)==null?void 0:me.field;if(!Q)return;const ie=[...y.value.length>0?y.value:W()];ie.includes(Q)===!1&&ie.push(Q),((he=d.value.meta)==null?void 0:he.sort_field)&&ie.includes(d.value.meta.sort_field)===!1&&ie.push(d.value.meta.sort_field);const de=Pi(p.value.collection,ie);try{const _e=p.value.collection.startsWith("directus_")?`/${p.value.collection.substring(9)}`:`/items/${p.value.collection}`,Ce=J();let De=[];Ce&&Ce.length>0&&(De=(await pe.get(_e,{params:{fields:de,[`filter[${Q}][_in]`]:Ce.join(",")}})).data.data);const Ie=Y(),je=H();Z.value=De.map(nt=>{const Pe=Ie.find(Re=>Re[Q]===nt[Q]);return Pe!==void 0?oe(oe({},nt),Pe):nt}).concat(...je)}catch(_e){Se(_e)}finally{le.value=!1}},{immediate:!0}),{items:Z,loading:le}}function ee(){const le=E(null),Z=E({});return{currentlyEditing:le,editItem:ce,editsAtStart:Z,stageEdits:ve,cancelEdit:Q};function ce(ie){var _e;const de=(_e=f.value)==null?void 0:_e.field;if(!de)return;const me=de in ie,he=(e.value||[]).find(Ce=>{var De,Ie,je;return typeof Ce=="object"&&((De=f.value)==null?void 0:De.field)&&Ce[(Ie=f.value)==null?void 0:Ie.field]===ie[(je=f.value)==null?void 0:je.field]});Z.value=he||{[de]:ie[de]||{}},le.value=me?ie[de]:"+"}function ve(ie){var he;const de=(he=f.value)==null?void 0:he.field;if(!de)return;const me=(e.value||[]).map(_e=>_e&&typeof _e=="object"&&de in _e&&de in ie&&_e[de]===ie[de]||_e===ie[de]||Z.value===_e?ie:_e);me.includes(ie)===!1&&me.push(ie),me.length===0?t("input",null):t("input",me)}function Q(){Z.value={},le.value=null}}function se(){const le=E(!1),Z=V(()=>{var ve;const ce=(ve=f.value)==null?void 0:ve.field;return _.value===null||!ce?[]:_.value.filter(Q=>ce in Q).map(Q=>Q[ce])});return{selectModalActive:le,selectedPrimaryKeys:Z}}function W(){return u.getFieldsForCollection(p.value.collection).slice(0,3).map(Z=>Z.field)}function G(){const le=V(()=>{var ve;return((ve=i.currentUser)==null?void 0:ve.role.admin_access)===!0?!0:!!o.permissions.find(Q=>Q.action==="create"&&Q.collection===p.value.collection)}),Z=V(()=>{var ve;return((ve=i.currentUser)==null?void 0:ve.role.admin_access)===!0?!0:!!o.permissions.find(Q=>Q.action==="update"&&Q.collection===p.value.collection)});return{createAllowed:le,updateAllowed:Z}}}}),FH=e=>(We("data-v-3072ea08"),e=e(),Ge(),e),AH={key:1,class:"one-to-many"},IH=FH(()=>C("div",{class:"spacer"},null,-1)),EH={key:3,class:"actions"};function DH(e,t,l,n,s,u){const o=c("v-notice"),i=c("v-skeleton-loader"),d=c("v-icon"),p=c("render-template"),f=c("v-list-item"),v=c("draggable"),y=c("v-list"),_=c("v-button"),g=c("drawer-item"),w=c("drawer-collection");return e.relation?(m(),I("div",AH,[e.loading?(m(!0),I(ae,{key:0},be((e.value||[]).length||3,h=>(m(),S(i,{key:h,type:(e.value||[]).length>4?"block-list-item-dense":"block-list-item"},null,8,["type"]))),128)):e.sortedItems.length===0?(m(),S(o,{key:1},{default:r(()=>[D(b(e.t("no_items")),1)]),_:1})):(m(),S(y,{key:2},{default:r(()=>[a(v,{"force-fallback":!0,"model-value":e.sortedItems,"item-key":"id",handle:".drag-handle",disabled:!e.relation.meta.sort_field,"onUpdate:modelValue":t[1]||(t[1]=h=>e.sortItems(h))},{item:r(({element:h})=>[a(f,{dense:e.sortedItems.length>4,block:"",disabled:e.disabled||e.updateAllowed===!1,onClick:k=>e.editItem(h)},{default:r(()=>[e.relation.meta.sort_field?(m(),S(d,{key:0,name:"drag_handle",class:"drag-handle",left:"",onClick:t[0]||(t[0]=Ae(()=>{},["stop"]))})):R("",!0),a(p,{collection:e.relation.collection,item:h,template:e.templateWithDefaults},null,8,["collection","item","template"]),IH,!e.disabled&&e.updateAllowed?(m(),S(d,{key:1,name:"close",onClick:Ae(k=>e.deleteItem(h),["stop"])},null,8,["onClick"])):R("",!0)]),_:2},1032,["dense","disabled","onClick"])]),_:1},8,["model-value","disabled"])]),_:1})),e.disabled?R("",!0):(m(),I("div",EH,[e.enableCreate&&e.createAllowed&&e.updateAllowed?(m(),S(_,{key:0,onClick:t[2]||(t[2]=h=>e.currentlyEditing="+")},{default:r(()=>[D(b(e.t("create_new")),1)]),_:1})):R("",!0),e.enableSelect&&e.updateAllowed?(m(),S(_,{key:1,onClick:t[3]||(t[3]=h=>e.selectModalActive=!0)},{default:r(()=>[D(b(e.t("add_existing")),1)]),_:1})):R("",!0)])),e.disabled?R("",!0):(m(),S(g,{key:4,active:e.currentlyEditing!==null,collection:e.relatedCollection.collection,"primary-key":e.currentlyEditing||"+",edits:e.editsAtStart,"circular-field":e.relation.field,onInput:e.stageEdits,"onUpdate:active":e.cancelEdit},null,8,["active","collection","primary-key","edits","circular-field","onInput","onUpdate:active"])),e.disabled?R("",!0):(m(),S(w,{key:5,active:e.selectModalActive,"onUpdate:active":t[4]||(t[4]=h=>e.selectModalActive=h),collection:e.relatedCollection.collection,selection:e.selectedPrimaryKeys,multiple:"",onInput:t[5]||(t[5]=h=>e.$emit("input",h.length>0?h:null))},null,8,["active","collection","selection"]))])):(m(),S(o,{key:0,type:"warning"},{default:r(()=>[D(b(e.t("relationship_not_setup")),1)]),_:1}))}var TH=N(VH,[["render",DH],["__scopeId","data-v-3072ea08"]]),PH=`<svg width="156" height="96" viewBox="0 0 156 96" fill="none" xmlns="http://www.w3.org/2000/svg">
	<rect x="18.4443" y="9" width="120" height="22" rx="6" fill="var(--background-page)" />
	<rect x="19.4443" y="10" width="118" height="20" rx="5" stroke="var(--primary)" stroke-opacity="0.25"
		stroke-width="2" />
	<rect x="46" y="17" width="10" height="6" rx="2" fill="var(--primary)" fill-opacity="0.25" />
	<rect x="60" y="17" width="40" height="6" rx="2" fill="var(--primary)" fill-opacity="0.25" />
	<path opacity="0.5" d="M38 18H28V19.2691H38V18ZM28 21.7778H38V20.5087H28V21.7778Z" fill="var(--primary)" />
	<rect x="18" y="65" width="120" height="22" rx="6" fill="var(--background-page)" />
	<rect x="19" y="66" width="118" height="20" rx="5" stroke="var(--primary)" stroke-opacity="0.25" stroke-width="2" />
	<rect x="46" y="73" width="60" height="6" rx="2" fill="var(--primary)" fill-opacity="0.25" />
	<path opacity="0.5" d="M38 74H28V75.2691H38V74ZM28 77.7778H38V76.5087H28V77.7778Z" fill="var(--primary)" />
	<rect x="18" y="37" width="120" height="22" rx="6" fill="var(--background-page)" class="glow" />
	<rect x="19" y="38" width="118" height="20" rx="5" stroke="var(--primary)" stroke-width="2" />
	<rect x="46" y="45" width="30" height="6" rx="2" fill="var(--primary)" />
	<rect x="80" y="45" width="10" height="6" rx="2" fill="var(--primary)" />
	<path d="M38 46H28V47.2691H38V46ZM28 49.7778H38V48.5087H28V49.7778Z" fill="var(--primary)" />
	<path
		d="M127.074 52.0742H118.926V43.9258H123V42.75H118.926C118.27 42.75 117.75 43.2695 117.75 43.9258V52.0742C117.75 52.7305 118.27 53.25 118.926 53.25H127.074C127.73 53.25 128.25 52.7305 128.25 52.0742V48H127.074V52.0742ZM124.176 42.75V43.9258H126.254L120.539 49.6406L121.359 50.4609L127.074 44.7461V46.8242H128.25V42.75H124.176Z"
		fill="var(--primary)" />
</svg>
`,LH=Ne({id:"list-o2m",name:"$t:interfaces.list-o2m.one-to-many",description:"$t:interfaces.list-o2m.description",icon:"arrow_right_alt",component:TH,types:["alias"],localTypes:["o2m"],group:"relational",relational:!0,options:({relations:e})=>{var l;const t=(l=e.o2m)==null?void 0:l.collection;return[{field:"template",name:"$t:display_template",meta:{interface:"system-display-template",options:{collectionName:t},width:"full"}},{field:"enableCreate",name:"$t:creating_items",schema:{default_value:!0},meta:{interface:"boolean",options:{label:"$t:enable_create_button"},width:"half"}},{field:"enableSelect",name:"$t:selecting_items",schema:{default_value:!0},meta:{interface:"boolean",options:{label:"$t:enable_select_button"},width:"half"}}]},recommendedDisplays:["related-values"],preview:PH}),OH=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:LH});const jH=z({components:{DrawerItem:qt},props:{collection:{type:String,required:!0},template:{type:String,required:!0},item:{type:Object,required:!0},primaryKeyField:{type:String,required:!0},disabled:{type:Boolean,default:!1},parentField:{type:String,required:!0}},emits:["deselect","input"],setup(){const{t:e}=te(),t=E(!1);return{t:e,editActive:t}}}),RH=e=>(We("data-v-569bebef"),e=e(),Ge(),e),MH={class:"preview"},UH=RH(()=>C("div",{class:"spacer"},null,-1)),NH={key:0,class:"actions"};function BH(e,t,l,n,s,u){const o=c("render-template"),i=c("v-icon"),d=c("drawer-item"),p=we("tooltip");return m(),I("div",MH,[a(o,{collection:e.collection,template:e.template,item:e.item},null,8,["collection","template","item"]),UH,e.disabled?R("",!0):(m(),I("div",NH,[ne(a(i,{name:"launch",clickable:"",onClick:t[0]||(t[0]=f=>e.editActive=!0)},null,512),[[p,e.t("edit")]]),ne(a(i,{name:"clear",clickable:"",onClick:t[1]||(t[1]=f=>e.$emit("deselect"))},null,512),[[p,e.t("deselect")]])])),a(d,{active:e.editActive,"onUpdate:active":t[2]||(t[2]=f=>e.editActive=f),collection:e.collection,"primary-key":e.item[e.primaryKeyField]||"+",edits:e.item,"circular-field":e.parentField,onInput:t[3]||(t[3]=f=>e.$emit("input",f))},null,8,["active","collection","primary-key","edits","circular-field"])])}var qH=N(jH,[["render",BH],["__scopeId","data-v-569bebef"]]);const zH=z({name:"NestedDraggable",components:{Draggable:kt,ItemPreview:qH},props:{tree:{required:!0,type:Array,default:()=>[]},root:{type:Boolean,default:!1},collection:{type:String,required:!0},template:{type:String,required:!0},primaryKeyField:{type:String,required:!0},parentField:{type:String,required:!0},childrenField:{type:String,required:!0},disabled:{type:Boolean,default:!1}},emits:["change","input"],setup(e,{emit:t}){const l=E(!1),n=E(!1);return{drag:l,hideDragImage:Bt,editActive:n,dragOptions:{animation:150,group:"description",disabled:!1,ghostClass:"ghost"},replaceItem:s,removeItem:u,replaceChildren:o};function s(i,d){t("input",e.tree.map((p,f)=>f===i?d:p))}function u(i){t("input",e.tree.filter((d,p)=>p!==i))}function o(i,d){t("input",e.tree.map((p,f)=>f===i?ke(oe({},p),{[e.childrenField]:d}):p))}}}),KH={class:"row"};function HH(e,t,l,n,s,u){const o=c("item-preview"),i=c("nested-draggable",!0),d=c("draggable");return m(),S(d,ut(e.dragOptions,{class:["drag-area",{root:e.root,drag:e.drag}],tag:"ul",list:e.tree,group:{name:"g1"},"item-key":"id",draggable:".row","set-data":e.hideDragImage,disabled:e.disabled,"force-fallback":!0,onStart:t[1]||(t[1]=p=>e.drag=!0),onEnd:t[2]||(t[2]=p=>e.drag=!1),onChange:t[3]||(t[3]=p=>e.$emit("change",p))}),{item:r(({element:p,index:f})=>[C("li",KH,[a(o,{item:p,template:e.template,collection:e.collection,"primary-key-field":e.primaryKeyField,disabled:e.disabled,"parent-field":e.parentField,onInput:v=>e.replaceItem(f,v),onDeselect:v=>e.removeItem(f)},null,8,["item","template","collection","primary-key-field","disabled","parent-field","onInput","onDeselect"]),a(i,{tree:p[e.childrenField]||[],template:e.template,collection:e.collection,"primary-key-field":e.primaryKeyField,"parent-field":e.parentField,"children-field":e.childrenField,disabled:e.disabled,onChange:t[0]||(t[0]=v=>e.$emit("change",v)),onInput:v=>e.replaceChildren(f,v)},null,8,["tree","template","collection","primary-key-field","parent-field","children-field","disabled","onInput"])])]),_:1},16,["class","list","set-data","disabled"])}var WH=N(zH,[["render",HH],["__scopeId","data-v-0de81f94"]]);const GH=z({components:{NestedDraggable:WH,DrawerCollection:Xt,DrawerItem:qt},props:{value:{type:Array,default:null},displayTemplate:{type:String,default:void 0},disabled:{type:Boolean,default:!1},collection:{type:String,required:!0},field:{type:String,required:!0},primaryKey:{type:[String,Number],default:void 0},enableCreate:{type:Boolean,default:!0},enableSelect:{type:Boolean,default:!0}},emits:["input"],setup(e,{emit:t}){const{t:l}=te(),n=mt(),s=E([]),{relation:u}=P(),{info:o,primaryKeyField:i}=ot(u.value.related_collection),{loading:d,error:p,stagedValues:f,fetchValues:v,emitValue:y}=A(),{stageSelection:_,selectDrawer:g}=O(),{addNewActive:w,addNew:h}=U(),k=V(()=>{var T,B,q;return e.displayTemplate||((B=(T=o.value)==null?void 0:T.meta)==null?void 0:B.display_template)||`{{${(q=i.value)==null?void 0:q.field}}}`});st(v),ye(()=>e.primaryKey,v,{immediate:!0});const F=E(!1);return{t:l,relation:u,openItems:s,template:k,loading:d,error:p,stagedValues:f,fetchValues:v,primaryKeyField:i,onDraggableChange:L,hideDragImage:Bt,dragging:F,emitValue:y,stageSelection:_,selectDrawer:g,addNewActive:w,addNew:h};function A(){const T=E(!1),B=E(null),q=E([]);return{loading:T,error:B,stagedValues:q,fetchValues:K,emitValue:Y,getFieldsToFetch:H};async function K(){var J,re,fe;if(!(!e.primaryKey||!u.value||e.primaryKey==="+")){if(((J=e.value)==null?void 0:J.length)>0&&e.value.every(X=>typeof X=="object")){q.value=e.value;return}T.value=!0;try{const X=await pe.get(`/items/${e.collection}/${encodeURIComponent(e.primaryKey)}`,{params:{fields:H()}});q.value=(fe=(re=X.data.data)==null?void 0:re[u.value.meta.one_field])!=null?fe:[]}catch(X){B.value=X}finally{T.value=!1}}}function H(){var X;const J=[...new Set([(X=i.value)==null?void 0:X.field,u.value.meta.one_field,...yt(k.value)])],re=[],fe=`${u.value.meta.one_field}.`;for(let x=1;x<=5;x++)for(const ee of J)re.push(`${fe.repeat(x)}${ee}`);return re}function Y(J){var fe;if(q.value=J,(fe=u.value.meta)==null?void 0:fe.sort_field)return t("input",re(J));t("input",J);function re(X){return(X||[]).map((x,ee)=>ke(oe({},x),{[u.value.meta.sort_field]:ee+1,[u.value.meta.one_field]:re(x[u.value.meta.one_field])}))}}}function P(){return{relation:V(()=>{var B;return(B=n.getRelationsForField(e.collection,e.field))==null?void 0:B[0]})}}function L(){y(f.value)}function O(){const T=E(!1),B=V(()=>{var Y;const K=(Y=i.value)==null?void 0:Y.field;if(f.value===null||!K||!e.primaryKey)return[];return[e.primaryKey,...H(f.value)];function H(J){const re=[];if(K)for(const fe of J){if(!fe[K])continue;re.push(fe[K]);const X=H(fe[u.value.meta.one_field]);re.push(...X)}return re}});return{stageSelection:q,selectDrawer:T};async function q(K){var x,ee,se;d.value=!0;const H=K.filter(W=>B.value.includes(W)===!1),Y=[...new Set([(x=i.value)==null?void 0:x.field,u.value.meta.one_field,...yt(k.value)])],J=[],re=`${u.value.meta.one_field}.`;for(let W=1;W<=5;W++)for(const G of Y)J.push(`${re.repeat(W)}${G}`);if(!((ee=i.value)==null?void 0:ee.field))return;const X=[...(await pe.get(`/items/${e.collection}`,{params:{fields:[...Y,...J],filter:{[(se=i.value)==null?void 0:se.field]:{_in:H}}}})).data.data,...f.value];X.length===0?y([]):y(X),d.value=!1}}function U(){return{addNewActive:E(!1),addNew:B};function B(q){y([...f.value,q])}}}}),JH={key:1,class:"tree-view"},QH={key:0,class:"actions"};function XH(e,t,l,n,s,u){const o=c("v-notice"),i=c("nested-draggable"),d=c("v-button"),p=c("drawer-item"),f=c("drawer-collection");return e.relation.collection!==e.relation.related_collection?(m(),S(o,{key:0,type:"warning"},{default:r(()=>[D(b(e.t("interfaces.list-o2m-tree-view.recursive_only")),1)]),_:1})):(m(),I("div",JH,[a(i,{template:e.template,collection:e.collection,tree:e.stagedValues||[],"primary-key-field":e.primaryKeyField.field,"children-field":e.relation.meta.one_field,"parent-field":e.relation.field,disabled:e.disabled,root:"",onChange:e.onDraggableChange,onInput:e.emitValue},null,8,["template","collection","tree","primary-key-field","children-field","parent-field","disabled","onChange","onInput"]),e.disabled?R("",!0):(m(),I("div",QH,[e.enableCreate?(m(),S(d,{key:0,onClick:t[0]||(t[0]=v=>e.addNewActive=!0)},{default:r(()=>[D(b(e.t("create_new")),1)]),_:1})):R("",!0),e.enableSelect?(m(),S(d,{key:1,onClick:t[1]||(t[1]=v=>e.selectDrawer=!0)},{default:r(()=>[D(b(e.t("add_existing")),1)]),_:1})):R("",!0)])),e.disabled?R("",!0):(m(),S(p,{key:1,active:e.addNewActive,collection:e.collection,"primary-key":"+",edits:{},"circular-field":e.relation.field,onInput:e.addNew,"onUpdate:active":t[2]||(t[2]=v=>e.addNewActive=!1)},null,8,["active","collection","circular-field","onInput"])),e.disabled?R("",!0):(m(),S(f,{key:2,active:e.selectDrawer,"onUpdate:active":t[3]||(t[3]=v=>e.selectDrawer=v),collection:e.collection,selection:[],multiple:"",onInput:e.stageSelection},null,8,["active","collection","onInput"]))]))}var ZH=N(GH,[["render",XH],["__scopeId","data-v-1d7230b5"]]),YH=Ne({id:"list-o2m-tree-view",name:"$t:tree_view",description:"$t:interfaces.list-o2m-tree-view.description",icon:"account_tree",types:["alias"],localTypes:["o2m"],group:"relational",relational:!0,component:ZH,options:({relations:e})=>{var l;const t=(l=e.o2m)==null?void 0:l.collection;return[{field:"template",name:"$t:display_template",meta:{interface:"system-display-template",options:{collectionName:t},width:"full"}},{field:"enableCreate",name:"$t:creating_items",schema:{default_value:!0},meta:{interface:"boolean",options:{label:"$t:enable_create_button"},width:"half"}},{field:"enableSelect",name:"$t:selecting_items",schema:{default_value:!0},meta:{interface:"boolean",options:{label:"$t:enable_select_button"},width:"half"}}]}}),xH=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:YH});class jl{constructor(t,l){ft(this,"active");ft(this,"element");ft(this,"groupElement");this.className=t,this.callback=l,this.element=document.createElement("button"),this.element.className=this.className,this.element.onclick=l,this.active=!1}click(...t){this.callback(...t)}activate(t){this.element.classList[t?"add":"remove"]("active"),this.active=t}show(t){this.element.classList[t?"remove":"add"]("hidden")}onAdd(){return this.groupElement=document.createElement("div"),this.groupElement.className="mapboxgl-ctrl mapboxgl-ctrl-group",this.groupElement.appendChild(this.element),this.groupElement}onRemove(){var t;this.element.remove(),(t=this.groupElement)==null||t.remove()}}class eW{constructor(t){ft(this,"groupElement");ft(this,"boxElement");ft(this,"selectButton");ft(this,"unselectButton");ft(this,"map");ft(this,"layers");ft(this,"selecting",!1);ft(this,"shiftPressed",!1);ft(this,"startPos");ft(this,"lastPos");ft(this,"onKeyDownHandler");ft(this,"onKeyUpHandler");ft(this,"onMouseDownHandler");ft(this,"onMouseMoveHandler");ft(this,"onMouseUpHandler");var l,n,s,u,o;this.layers=(l=t==null?void 0:t.layers)!=null?l:[],this.boxElement=document.createElement("div"),this.boxElement.className=(n=t==null?void 0:t.boxElementClass)!=null?n:"selection-box",this.groupElement=document.createElement("div"),this.groupElement.className=(s=t==null?void 0:t.groupElementClass)!=null?s:"mapboxgl-ctrl mapboxgl-ctrl-group",this.selectButton=new jl((u=t==null?void 0:t.selectButtonClass)!=null?u:"ctrl-select",()=>{this.activate(!this.shiftPressed)}),this.unselectButton=new jl((o=t==null?void 0:t.unselectButtonClass)!=null?o:"ctrl-unselect",()=>{this.reset(),this.activate(!1),this.map.fire("select.end",{features:[]})}),this.groupElement.appendChild(this.selectButton.element),this.groupElement.appendChild(this.unselectButton.element),this.onKeyDownHandler=this.onKeyDown.bind(this),this.onKeyUpHandler=this.onKeyUp.bind(this),this.onMouseDownHandler=this.onMouseDown.bind(this),this.onMouseMoveHandler=this.onMouseMove.bind(this),this.onMouseUpHandler=this.onMouseUp.bind(this)}onAdd(t){return this.map=t,this.map.boxZoom.disable(),this.map.getContainer().appendChild(this.boxElement),this.map.getContainer().addEventListener("pointerdown",this.onMouseDownHandler,!0),document.addEventListener("keydown",this.onKeyDownHandler),document.addEventListener("keyup",this.onKeyUpHandler),this.groupElement}onRemove(){this.map.boxZoom.enable(),this.boxElement.remove(),this.groupElement.remove(),this.map.getContainer().removeEventListener("pointerdown",this.onMouseDownHandler),document.removeEventListener("keydown",this.onKeyDownHandler),document.removeEventListener("keyup",this.onKeyUpHandler)}active(){return this.shiftPressed||this.selecting}getMousePosition(t){const l=this.map.getContainer(),n=l.getBoundingClientRect();return new Ht.exports.Point(t.clientX-n.left-l.clientLeft,t.clientY-n.top-l.clientTop)}onKeyDown(t){t.key=="Shift"&&this.activate(!0),t.key=="Escape"&&(this.reset(),this.activate(!1),this.map.fire("select.end",{features:[]}))}activate(t){this.shiftPressed=t,this.selectButton.activate(t),this.map.fire(`select.${t?"enable":"disable"}`)}showUnselect(t){this.unselectButton.show(t)}onKeyUp(t){t.key=="Shift"&&this.activate(!1)}onMouseDown(t){!this.shiftPressed||t.button===0&&(this.selecting=!0,this.map.dragPan.disable(),this.startPos=this.getMousePosition(t),this.lastPos=this.startPos,document.addEventListener("pointermove",this.onMouseMoveHandler),document.addEventListener("pointerup",this.onMouseUpHandler),this.map.fire("select.start"))}onMouseMove(t){this.lastPos=this.getMousePosition(t);const l=Math.min(this.startPos.x,this.lastPos.x),n=Math.max(this.startPos.x,this.lastPos.x),s=Math.min(this.startPos.y,this.lastPos.y),u=Math.max(this.startPos.y,this.lastPos.y),o=`translate(${l}px, ${s}px)`,i=n-l+"px",d=u-s+"px";this.updateBoxStyle({transform:o,width:i,height:d})}onMouseUp(t){this.reset();const l=this.map.queryRenderedFeatures([this.startPos,this.lastPos],{layers:this.layers});this.map.fire("select.end",{features:l,alt:t.altKey})}reset(){this.selecting=!1,this.updateBoxStyle({width:"0",height:"0",transform:""}),document.removeEventListener("pointermove",this.onMouseMoveHandler),document.removeEventListener("pointerup",this.onMouseUpHandler),this.map.dragPan.enable()}updateBoxStyle(t){this.boxElement.style.transform=t.transform,this.boxElement.style.width=t.width,this.boxElement.style.height=t.height}}function Ro(e,t){return[Math.min(e[0],t[0]),Math.min(e[1],t[1]),Math.max(e[2],t[0]),Math.max(e[3],t[1])]}function Rl(e){let t=[1/0,1/0,-1/0,-1/0];return fr(e,l=>{t=Ro(t,l)}),t}function qi(e){switch(e){case"geometry":return"native";case"json":return"geojson";case"text":case"string":return"wkt";case"csv":return"lnglat";default:return}}function tW(e){const{geometryFormat:t}=e;switch(t){case"native":case"geojson":return l=>l;case"wkt":return l=>vr(l);case"lnglat":return l=>l.coordinates;default:throw new Error(qe.global.t("interfaces.map.invalid_format",{format:t}))}}function nW(e){const{geometryFormat:t}=e;switch(t){case"native":case"geojson":return l=>l;case"wkt":return l=>_r(l);case"lnglat":return l=>({type:"Point",coordinates:[Number(l[0]),Number(l[1])]});default:throw new Error(qe.global.t("interfaces.map.invalid_format",{format:t}))}}function zi(e){const t=nW(e);return function(l){const n=l[e.geometryField],s=n&&t(n);if(!!s)return s.bbox=Rl(s),s}}function lW(e,t){const l=zi(t),n={type:"FeatureCollection",features:[],bbox:[1/0,1/0,-1/0,-1/0]};for(let s=0;s<e.length;s++){const u=l(e[s]);if(!u)continue;const[o,i,d,p]=u.bbox;n.bbox=Ro(n.bbox,[o,i]),n.bbox=Ro(n.bbox,[d,p]);const f=oe({},e[s]);delete f[t.geometryField];const v={type:"Feature",properties:f,geometry:u};n.features.push(v)}return n.features.length==0&&delete n.bbox,n}function Ki(e){if(!e)return[];if(e.type=="GeometryCollection")return e.geometries.flatMap(Ki);if(e.type.startsWith("Multi")){const t=e.type.replace("Multi","");return e.coordinates.map(l=>({type:t,coordinates:l}))}return[e]}const oW="#9e8de4",aW="#68b0f4",iW="#00c897",sW="#ffb300",rW="#ee9746",dW="#e35169",uW="#000000",cW="#ffffff";var Hi={purple:oW,blue:aW,green:iW,yellow:sW,orange:rW,red:dW,black:uW,white:cW};const{green:pW,orange:Ml,yellow:ax,black:Mo,white:Wi}=Hi,rl=["case",["==",["get","mode"],"static"],Mo,["==",["get","active"],"true"],Ml,pW];var mW=[{id:"directus-polygon-fill",type:"fill",filter:["all",["==","$type","Polygon"]],paint:{"fill-color":rl,"fill-outline-color":rl,"fill-opacity":.15}},{id:"directus-polygon-stroke",type:"line",filter:["all",["==","$type","Polygon"]],layout:{"line-cap":"round","line-join":"round"},paint:{"line-color":rl,"line-width":2}},{id:"directus-polygon-midpoint",type:"circle",filter:["all",["==","$type","Point"],["==","meta","midpoint"]],paint:{"circle-radius":3,"circle-color":Ml}},{id:"directus-line",type:"line",filter:["all",["==","$type","LineString"]],layout:{"line-cap":"round","line-join":"round"},paint:{"line-color":rl,"line-width":2}},{id:"directus-polygon-and-line-vertex",type:"circle",filter:["all",["==","meta","vertex"],["==","$type","Point"]],paint:{"circle-radius":3,"circle-color":Ml,"circle-opacity":["case",["==",["get","active"],"true"],1,.2],"circle-stroke-color":["case",["==",["get","active"],"true"],Wi,Ml],"circle-stroke-width":2}},{id:"directus-point-shadow",filter:["all",["==","$type","Point"],["==","meta","feature"],["!=","meta","midpoint"],["!=","mode","static"]],type:"circle",layout:{},paint:{"circle-radius":10,"circle-blur":1,"circle-opacity":.9,"circle-color":Mo}},{id:"directus-point",filter:["all",["==","$type","Point"],["==","meta","feature"],["!=","meta","midpoint"]],type:"circle",layout:{},paint:{"circle-radius":6,"circle-color":rl,"circle-stroke-color":["case",["==",["get","mode"],"static"],Mo,Wi],"circle-opacity":["case",["==",["get","mode"],"static"],.2,1],"circle-stroke-width":2,"circle-stroke-opacity":1}}];const fW=["directus-point","directus-line","directus-polygon-fill","directus-polygon-stroke","directus-polygon-midpoint","directus-polygon-and-line-vertex"].flatMap(e=>[e+".hot",e+".cold"]),vW=z({props:{type:{type:String,default:null},fieldData:{type:Object,default:void 0},value:{type:[Object,Array,String],default:null},loading:{type:Boolean,default:!0},disabled:{type:Boolean,default:!1},geometryFormat:{type:String,default:void 0},geometryType:{type:String,default:void 0},defaultView:{type:Object,default:()=>({})}},emits:["input"],setup(e,{emit:t}){var Z,ce,ve;const{t:l}=te(),n=E(null);let s,u=E(!0),o;const i=E(),d=E(),p=(ve=(ce=(Z=e.fieldData)==null?void 0:Z.schema)==null?void 0:ce.geometry_type)!=null?ve:e.geometryType,f=e.geometryFormat||qi(e.type),v=tl(),y=wt(),{basemap:_}=Ue(y),g=V(()=>{var ie;const Q=(ie=v.find(de=>de.name==_.value))!=null?ie:v[0];return _.value,So(Q)});let w,h;try{w=zi({geometryFormat:f,geometryField:"value"}),h=tW({geometryFormat:f,geometryField:"value"})}catch(Q){i.value=Q}const k=E(),F=E();function A(){F.value=k.value?s.project(k.value):null}ye(k,A);const P=En("mapbox_key"),L={draw:new Gl(X(p)),fitData:new jl("mapboxgl-ctrl-fitdata",fe),navigation:new Ht.exports.NavigationControl({showCompass:!1}),geolocate:new Ht.exports.GeolocateControl({showUserLocation:!1}),geocoder:P?new ia({accessToken:P,collapsed:!0,flyTo:{speed:1.4},marker:!1}):null},O=E(!1),U=E(""),T=E({x:0,y:0});function B(){O.value=!1}const q=M.exports.debounce(Q=>{var de;const ie=(de=Q.features)==null?void 0:de[0];ie&&ie.properties.active==="false"&&(U.value=l("interfaces.map.click_to_select",{geometry:ie.geometry.type}),O.value=!0,T.value=Q.point)},200);function K(Q){O.value=!1,q({point:Q.point,features:Q.features})}return st(()=>{const Q=H();Vt(Q)}),{t:l,tooltipPosition:T,tooltipVisible:O,tooltipMessage:U,container:n,mapLoading:u,resetValue:re,geometryParsingError:d,geometryOptionsError:i,basemaps:v,basemap:_,location:k,projection:F};function H(){return s=new Ht.exports.Map(oe(oe({container:n.value,style:g.value,attributionControl:!1,dragRotate:!1,logoPosition:"bottom-right"},e.defaultView),P?{accessToken:P}:{})),L.geocoder&&(s.addControl(L.geocoder,"top-right"),L.geocoder.on("result",Q=>{k.value=Q.result.center}),L.geocoder.on("clear",()=>{k.value=null})),L.geolocate.on("geolocate",Q=>{const{longitude:ie,latitude:de}=Q.coords;k.value=[ie,de]}),s.addControl(L.navigation,"top-left"),s.addControl(L.geolocate,"top-left"),s.addControl(L.fitData,"top-left"),s.addControl(L.draw,"top-left"),s.on("load",async()=>{s.resize(),u.value=!1,s.on("draw.create",G),s.on("draw.delete",G),s.on("draw.update",G),s.on("draw.modechange",W),s.on("move",A);for(const Q of fW)s.on("mousedown",Q,B),s.on("mousemove",Q,K),s.on("mouseleave",Q,K);window.addEventListener("keydown",le)}),ye(()=>e.value,Y,{immediate:!0}),ye(()=>g.value,J),ye(()=>e.disabled,J),()=>{window.removeEventListener("keydown",le),s.remove()}}function Y(Q){if(Q)M.exports.isEqual(Q,o&&h(o))||(ee(),L.draw.changeMode("simple_select"));else if(L.draw.deleteAll(),o=null,p){const de=`draw_${M.exports.snakeCase(p.replace("Multi",""))}`;L.draw.changeMode(de)}e.disabled&&L.draw.changeMode("static")}function J(){s.removeControl(L.draw),s.setStyle(g.value,{diff:!1}),L.draw=new Gl(X(p)),s.addControl(L.draw,"top-left"),ee()}function re(Q){d.value=void 0,Q&&t("input",null)}function fe(Q){s&&o&&s.fitBounds(o.bbox,oe({padding:80,maxZoom:8},Q))}function X(Q){const ie={styles:mW,controls:{},userProperties:!0,displayControlsDefault:!1,modes:Object.assign(Gl.modes,{static:yr})};if(e.disabled)return ie;if(Q){const de=M.exports.snakeCase(Q.replace("Multi",""));return ie.controls[de]=!0,ie.controls.trash=!0,ie}else return ie.controls.line_string=!0,ie.controls.polygon=!0,ie.controls.point=!0,ie.controls.trash=!0,ie}function x(Q,ie){return!Q||!ie?!0:Q.startsWith("Multi")?Q.replace("Multi","")==ie.replace("Multi",""):Q==ie}function ee(){try{L.draw.deleteAll();const Q=w(e);if(!Q)return;!e.disabled&&!x(p,Q.type)&&(d.value=l("interfaces.map.unexpected_geometry",{expected:p,got:Q.type}));const ie=Ki(Q);for(const de of ie)L.draw.add(de);if(o=se(),o.bbox=Rl(o),d.value){const de=Rl(Q);s.fitBounds(de,{padding:0,maxZoom:8,duration:0})}else fe({duration:0})}catch(Q){d.value=Q}}function se(){const ie=L.draw.getAll().features.map(me=>me.geometry);let de;if(ie.length==0)return null;if(!p)ie.length>1?de={type:"GeometryCollection",geometries:ie}:de=ie[0];else if(p.startsWith("Multi")){const me=ie.filter(({type:he})=>`Multi${he}`==p).map(({coordinates:he})=>he);de={type:p,coordinates:me}}else de=ie[ie.length-1];return de.bbox=Rl(de),de}function W(Q){if(!e.disabled&&Q.mode.startsWith("draw")&&p&&!p.startsWith("Multi"))for(const ie of L.draw.getAll().features.slice(0,-1))L.draw.delete(ie.id)}function G(){o=se(),o?t("input",h(o)):(L.draw.deleteAll(),t("input",null))}function le(Q){[8,46].includes(Q.keyCode)&&L.draw.trash()}}}),_W={class:"interface-map"},yW={ref:"container"},gW={class:"mapboxgl-ctrl-group mapboxgl-ctrl mapboxgl-ctrl-dropdown basemap-select"};function hW(e,t,l,n,s,u){const o=c("v-icon"),i=c("v-select"),d=c("v-notice"),p=c("v-info"),f=c("v-button"),v=c("v-card-actions");return m(),I("div",_W,[C("div",{class:ue(["map",{loading:e.mapLoading,error:e.geometryParsingError||e.geometryOptionsError}])},[C("div",yW,null,512)],2),e.location?(m(),I("div",{key:0,class:"mapboxgl-user-location-dot mapboxgl-search-location-dot",style:ze(`transform: translate(${e.projection.x}px, ${e.projection.y}px) translate(-50%, -50%) rotateX(0deg) rotateZ(0deg)`)},null,4)):R("",!0),a(Ut,{name:"fade"},{default:r(()=>[e.tooltipVisible?(m(),I("div",{key:0,class:"tooltip top",style:ze(`display: block; transform: translate(${e.tooltipPosition.x}px, ${e.tooltipPosition.y}px) translate(-50%, -150%) rotateX(0deg) rotateZ(0deg)`)},b(e.tooltipMessage),5)):R("",!0)]),_:1}),C("div",gW,[a(o,{name:"map"}),a(i,{modelValue:e.basemap,"onUpdate:modelValue":t[0]||(t[0]=y=>e.basemap=y),inline:"",items:e.basemaps.map(y=>({text:y.name,value:y.name}))},null,8,["modelValue","items"])]),a(Ut,{name:"fade"},{default:r(()=>[e.geometryOptionsError?(m(),S(p,{key:0,icon:"error",center:"",type:"danger",title:e.t("interfaces.map.invalid_options")},{default:r(()=>[a(d,{type:"danger",icon:!1},{default:r(()=>[D(b(e.geometryOptionsError),1)]),_:1})]),_:1},8,["title"])):e.geometryParsingError?(m(),S(p,{key:1,icon:"error",center:"",type:"warning",title:e.t("layouts.map.invalid_geometry")},{append:r(()=>[a(v,null,{default:r(()=>[a(f,{small:"",secondary:"",onClick:t[1]||(t[1]=y=>e.resetValue(!1))},{default:r(()=>[D(b(e.t("continue")),1)]),_:1}),a(f,{small:"",kind:"danger",onClick:t[2]||(t[2]=y=>e.resetValue(!0))},{default:r(()=>[D(b(e.t("reset")),1)]),_:1})]),_:1})]),default:r(()=>[a(d,{type:"warning",icon:!1},{default:r(()=>[D(b(e.geometryParsingError),1)]),_:1})]),_:1},8,["title"])):R("",!0)]),_:1})])}var bW=N(vW,[["render",hW],["__scopeId","data-v-1a5aa01b"]]);const $W=z({props:{collection:{type:String,required:!0},field:{type:Object,default:null},value:{type:Object,default:null}},emits:["input"],setup(e,{emit:t}){var w,h;const{t:l}=te(),n=e.field.type=="geometry",s=n?e.field.schema.geometry_type:void 0,u=n?"native":qi(e.field.type),o=E(u==="lnglat"?"Point":s!=null?s:(w=e.value)==null?void 0:w.geometryType),i=E((h=e.value)==null?void 0:h.defaultView);ye([o,i],()=>{const k=u=="lnglat"?"Point":o;t("input",{defaultView:i,geometryFormat:u,geometryType:k})},{immediate:!0});const d=E(null);let p;const f=En("mapbox_key"),v=tl(),y=wt(),{basemap:_}=Ue(y),g=V(()=>{var F;const k=(F=v.find(A=>A.name==_.value))!=null?F:v[0];return So(k)});return st(()=>{p=new Ht.exports.Map(oe(oe({container:d.value,style:g.value,attributionControl:!1},i.value||{}),f?{accessToken:f}:{})),p.on("moveend",()=>{i.value={center:p.getCenter(),zoom:p.getZoom(),bearing:p.getBearing(),pitch:p.getPitch()}})}),Vt(()=>{p.remove()}),{t:l,isGeometry:n,nativeGeometryType:s,geometryFormat:u,GEOMETRY_TYPES:ma,geometryType:o,mapContainer:d}}}),wW={class:"form-grid"},kW={key:0,class:"field half-left"},CW={class:"type-label"},SW={class:"field"},VW={class:"type-label"},FW={ref:"mapContainer",class:"map"};function AW(e,t,l,n,s,u){const o=c("v-select");return m(),I("div",wW,[!e.nativeGeometryType&&e.geometryFormat!=="lnglat"?(m(),I("div",kW,[C("div",CW,b(e.t("interfaces.map.geometry_type")),1),a(o,{modelValue:e.geometryType,"onUpdate:modelValue":t[0]||(t[0]=i=>e.geometryType=i),placeholder:e.t("any"),"show-deselect":!0,items:e.GEOMETRY_TYPES.map(i=>({value:i,text:i}))},null,8,["modelValue","placeholder","items"])])):R("",!0),C("div",SW,[C("div",VW,b(e.t("interfaces.map.default_view")),1),C("div",FW,null,512)])])}var IW=N($W,[["render",AW],["__scopeId","data-v-1084e1b4"]]),EW=Ne({id:"map",name:"$t:interfaces.map.map",description:"$t:interfaces.map.description",icon:"map",component:bW,types:["geometry","json","string","text","binary","csv"],group:"selection",options:IW,recommendedDisplays:[]}),DW=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:EW});const TW=z({props:{color:{type:String,default:null},icon:{type:String,default:null},title:{type:String,default:null},inlineTitle:{type:Boolean,default:!1},marginTop:{type:Boolean,default:!0}}});function PW(e,t,l,n,s,u){const o=c("v-icon"),i=c("v-divider");return m(),S(i,{class:ue({"add-margin-top":e.marginTop}),style:ze({"--v-divider-label-color":e.color,"--v-divider-color":"var(--border-subdued)"}),large:"","inline-title":e.inlineTitle},xe({_:2},[e.icon?{name:"icon",fn:r(()=>[a(o,{name:e.icon},null,8,["name"])])}:void 0,e.title?{name:"default",fn:r(()=>[D(b(e.title),1)])}:void 0]),1032,["class","style","inline-title"])}var LW=N(TW,[["render",PW],["__scopeId","data-v-63cedea8"]]),OW=Ne({id:"presentation-divider",name:"$t:interfaces.presentation-divider.divider",description:"$t:interfaces.presentation-divider.description",icon:"remove",component:LW,hideLabel:!0,hideLoader:!0,types:["alias"],localTypes:["presentation"],group:"presentation",options:[{field:"color",name:"$t:color",type:"string",meta:{width:"half",interface:"select-color"}},{field:"icon",name:"$t:icon",type:"string",meta:{width:"half",interface:"select-icon"}},{field:"title",name:"$t:title",type:"string",meta:{width:"full",interface:"input",options:{placeholder:"$t:interfaces.presentation-divider.title_placeholder"}}},{field:"marginTop",name:"$t:interfaces.presentation-divider.margin_top",type:"boolean",meta:{width:"half",interface:"boolean",options:{label:"$t:interfaces.presentation-divider.margin_top_label"}},schema:{default_value:!0}},{field:"inlineTitle",name:"$t:interfaces.presentation-divider.inline_title",type:"boolean",meta:{width:"half",interface:"boolean",options:{label:"$t:interfaces.presentation-divider.inline_title_label"}},schema:{default_value:!1}}]}),jW=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:OW});const RW=z({props:{disabled:{type:Boolean,default:!1},links:{type:Array,default:null}},setup(e){const t=ht("values",E({}));return{linksParsed:V(()=>e.links.map(n=>{var o;const s=M.exports.omit(n,["url"]),u=Un((o=n.url)!=null?o:"",t.value);return u.startsWith("/")?s.to=u:s.href=u,s}))}}}),MW={class:"presentation-links"},UW={key:1};function NW(e,t,l,n,s,u){const o=c("v-icon"),i=c("v-button");return m(),I("div",MW,[(m(!0),I(ae,null,be(e.linksParsed,(d,p)=>(m(),S(i,{key:p,class:ue(["action",[d.type]]),secondary:d.type!=="primary",disabled:e.disabled,icon:!d.label,href:d.href,to:d.to},{default:r(()=>[d.icon?(m(),S(o,{key:0,left:"",name:d.icon},null,8,["name"])):R("",!0),d.label?(m(),I("span",UW,b(d.label),1)):R("",!0)]),_:2},1032,["class","secondary","disabled","icon","href","to"]))),128))])}var BW=N(RW,[["render",NW],["__scopeId","data-v-406a838a"]]),qW=Ne({id:"presentation-links",name:"$t:interfaces.presentation-links.presentation-links",description:"$t:interfaces.presentation-links.description",icon:"smart_button",component:BW,hideLabel:!0,hideLoader:!0,types:["alias"],localTypes:["presentation"],group:"presentation",options:({collection:e})=>[{field:"label",type:"string",name:"$t:label",meta:{width:"full",interface:"input",options:{placeholder:"$t:label"}}},{field:"icon",name:"$t:icon",type:"string",meta:{width:"half",interface:"select-icon"}},{field:"type",name:"$t:type",type:"string",meta:{width:"half",interface:"select-dropdown",default_value:"normal",options:{choices:[{text:"$t:primary",value:"primary"},{text:"$t:normal",value:"normal"},{text:"$t:info",value:"info"},{text:"$t:success",value:"success"},{text:"$t:warning",value:"warning"},{text:"$t:danger",value:"danger"}]}},schema:{default_value:"normal"}},{field:"url",type:"string",name:"$t:url",meta:{width:"full",interface:"system-display-template",options:{collectionName:e,font:"monospace",placeholder:"https://example.com/articles/{{ id }}/{{ slug }}"}}}]}),zW=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:qW});const KW=z({props:{color:{type:String,default:"normal"},icon:{type:String,default:"info"},text:{type:String,default:"No text configured..."}}}),HW={class:"presentation-notice"};function WW(e,t,l,n,s,u){const o=c("v-notice"),i=we("md");return m(),I("div",HW,[a(o,{icon:e.icon,type:e.color},{default:r(()=>[ne(C("div",null,null,512),[[i,e.text]])]),_:1},8,["icon","type"])])}var GW=N(KW,[["render",WW]]),JW=`<svg width="156" height="96" fill="none" xmlns="http://www.w3.org/2000/svg">
	<rect x="18" y="25" width="120" height="46" rx="6" fill="var(--background-page)" class="glow" />
	<rect x="46" y="35" width="50" height="6" rx="2" fill="var(--primary)" fill-opacity=".25" />
	<rect x="46" y="45" width="74" height="6" rx="2" fill="var(--primary)" fill-opacity=".25" />
	<rect x="46" y="55" width="30" height="6" rx="2" fill="var(--primary)" fill-opacity=".25" />
	<rect x="100" y="35" width="20" height="6" rx="2" fill="var(--primary)" fill-opacity=".25" />
	<path
		d="M31.426 45.074h1.148v1.176h-1.148v-1.176zm0 2.352h1.148v3.5h-1.148v-3.5zm.574-5.25A5.811 5.811 0 0026.176 48 5.811 5.811 0 0032 53.824 5.811 5.811 0 0037.824 48 5.811 5.811 0 0032 42.176zm0 10.5A4.691 4.691 0 0127.324 48 4.691 4.691 0 0132 43.324 4.691 4.691 0 0136.676 48 4.691 4.691 0 0132 52.676z"
		fill="var(--primary)" />
</svg>
`,QW=Ne({id:"presentation-notice",name:"$t:interfaces.presentation-notice.notice",description:"$t:interfaces.presentation-notice.description",icon:"info",component:GW,hideLabel:!0,hideLoader:!0,types:["alias"],localTypes:["presentation"],group:"presentation",options:[{field:"color",name:"$t:color",type:"string",meta:{width:"half",interface:"select-dropdown",options:{choices:[{text:"$t:normal",value:"normal"},{text:"$t:info",value:"info"},{text:"$t:success",value:"success"},{text:"$t:warning",value:"warning"},{text:"$t:danger",value:"danger"}]}},schema:{default_value:"normal"}},{field:"icon",name:"$t:icon",type:"string",meta:{width:"half",interface:"select-icon"}},{field:"text",name:"$t:text",type:"string",meta:{width:"full",interface:"input-multiline",options:{placeholder:"$t:interfaces.presentation-notice.text"}}}],preview:JW}),XW=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:QW});const ZW=z({props:{disabled:{type:Boolean,default:!1},value:{type:String,default:null,validator:e=>e===null||e===""||Ol(e)},placeholder:{type:String,default:null},presets:{type:Array,default:()=>[{name:"Red",color:"#E35169"},{name:"Orange",color:"#F7971C"},{name:"Yellow",color:"#F2C94C"},{name:"Green",color:"#00C897"},{name:"Blue",color:"#68B0F4"},{name:"Purple",color:"#9E8DE4"},{name:"Gray",color:"#607D8B"},{name:"Light Gray",color:"#ECEFF1"},{name:"White",color:"#FFFFFF"}]},width:{type:String,required:!0}},emits:["input"],setup(e,{emit:t}){const{t:l}=te(),n=E(null),s=["RGB","HSL"],u=E("RGB");function o(){t("input",null)}function i(){var h;((h=n.value)==null?void 0:h.$el).getElementsByTagName("input")[0].click()}const d=V(()=>v.value!==null&&e.value!==null),p=V(()=>{if(_.value===null)return!0;const h=getComputedStyle(document.body).getPropertyValue("--background-page").trim(),k=Kt(h);return _.value.contrast(k)<1.1}),{hsl:f,rgb:v,hex:y,color:_}=w();return{t:l,colorTypes:s,colorType:u,rgb:v,hsl:f,hex:y,htmlColorInput:n,activateColorPicker:i,isValidColor:d,Color:Kt,setValue:g,lowContrast:p,unsetColor:o};function g(h,k,F){if(h==="rgb"){const A=[...v.value];A[k]=F,v.value=A}else{const A=[...f.value];A[k]=F,f.value=A}}function w(){const h=E(null);ye(()=>e.value,L=>{h.value=L!==null?Kt(L):null},{immediate:!0});const k=V({get(){return h.value!==null?h.value.rgb().array().map(Math.round):[0,0,0]},set(L){P(Kt.rgb(L))}}),F=V({get(){return h.value!==null?h.value.hsl().array().map(Math.round):[0,0,0]},set(L){P(Kt.hsl(L))}}),A=V({get(){return h.value!==null?h.value.hex():null},set(L){if(L===null||L==="")o();else{if(Ol(L)===!1)return;P(Kt(L))}}});return{rgb:k,hsl:F,hex:A,color:h};function P(L){h.value=L,L===null?o():t("input",L.hex())}}}}),YW={class:"color-data-input color-type"},xW={key:0,class:"presets"};function eG(e,t,l,n,s,u){const o=c("v-input"),i=c("v-icon"),d=c("v-button"),p=c("v-select"),f=c("v-menu"),v=we("tooltip");return m(),S(f,{attached:"",disabled:e.disabled,"close-on-content-click":!1},{activator:r(({activate:y})=>[a(o,{modelValue:e.hex,"onUpdate:modelValue":t[1]||(t[1]=_=>e.hex=_),disabled:e.disabled,placeholder:e.placeholder||e.t("interfaces.select-color.placeholder"),pattern:/#([a-f\d]{2}){3}/i,class:"color-input",maxlength:"7",onFocus:y},{prepend:r(()=>[a(o,{ref:"htmlColorInput",modelValue:e.hex,"onUpdate:modelValue":t[0]||(t[0]=_=>e.hex=_),type:"color",class:"html-color-select"},null,8,["modelValue"]),a(d,{class:"swatch",icon:!0,style:ze({"--v-button-background-color":e.isValidColor?e.hex:"transparent",border:e.lowContrast===!1?"none":"var(--border-width) solid var(--border-normal)"}),onClick:e.activateColorPicker},{default:r(()=>[e.isValidColor?R("",!0):(m(),S(i,{key:0,name:"colorize"}))]),_:1},8,["style","onClick"])]),append:r(()=>[a(i,{name:e.isValidColor?"close":"palette",clickable:"",onClick:e.unsetColor},null,8,["name","onClick"])]),_:2},1032,["modelValue","disabled","placeholder","pattern","onFocus"])]),default:r(()=>[C("div",{class:ue(["color-data-inputs",{stacked:e.width==="half"}])},[C("div",YW,[a(p,{modelValue:e.colorType,"onUpdate:modelValue":t[2]||(t[2]=y=>e.colorType=y),items:e.colorTypes},null,8,["modelValue","items"])]),e.colorType==="RGB"?(m(!0),I(ae,{key:0},be(e.rgb,(y,_)=>(m(),S(o,{key:_,type:"number","model-value":y,class:"color-data-input",pattern:"\\d*",min:0,max:255,step:1,maxlength:"3","onUpdate:modelValue":g=>e.setValue("rgb",_,g)},null,8,["model-value","onUpdate:modelValue"]))),128)):R("",!0),e.colorType==="HSL"?(m(!0),I(ae,{key:1},be(e.hsl,(y,_)=>(m(),S(o,{key:_,type:"number","model-value":y,class:"color-data-input",pattern:"\\d*",min:0,max:_===0?360:100,step:1,maxlength:"3","onUpdate:modelValue":g=>e.setValue("hsl",_,g)},null,8,["model-value","max","onUpdate:modelValue"]))),128)):R("",!0)],2),e.presets?(m(),I("div",xW,[(m(!0),I(ae,null,be(e.presets,y=>ne((m(),S(d,{key:y.color,class:"preset",rounded:"",icon:"",style:ze({"--v-button-background-color":y.color}),onClick:()=>e.hex=y.color},null,8,["style","onClick"])),[[v,y.name]])),128))])):R("",!0)]),_:1},8,["disabled"])}var tG=N(ZW,[["render",eG],["__scopeId","data-v-01e0a23e"]]),nG=Ne({id:"select-color",name:"$t:interfaces.select-color.color",description:"$t:interfaces.select-color.description",icon:"palette",component:tG,types:["string"],recommendedDisplays:["color"],group:"selection",options:[{field:"presets",name:"$t:interfaces.select-color.preset_colors",type:"string",meta:{width:"full",interface:"list",options:{addLabel:"$t:interfaces.select-color.preset_colors_add_label",template:"{{ name }} - {{ color }}",fields:[{field:"name",type:"string",name:"$t:name",meta:{interface:"input",width:"half",options:{placeholder:"$t:interfaces.select-color.name_placeholder"}}},{field:"color",type:"string",name:"$t:color",meta:{interface:"select-color",width:"half"}}]}}}]}),lG=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:nG});const oG=z({props:{disabled:{type:Boolean,default:!1},value:{type:String,default:null},choices:{type:Array,default:null},icon:{type:String,default:null},allowNone:{type:Boolean,default:!1},placeholder:{type:String,default:()=>qe.global.t("select_an_item")},allowOther:{type:Boolean,default:!1}},emits:["input"],setup(){const{t:e}=te();return{t:e}}});function aG(e,t,l,n,s,u){const o=c("v-notice"),i=c("v-icon"),d=c("v-select");return e.choices?(m(),S(d,{key:1,"model-value":e.value,items:e.choices,disabled:e.disabled,"show-deselect":e.allowNone,placeholder:e.placeholder,"allow-other":e.allowOther,"onUpdate:modelValue":t[0]||(t[0]=p=>e.$emit("input",p))},xe({_:2},[e.icon?{name:"prepend",fn:r(()=>[a(i,{name:e.icon},null,8,["name"])])}:void 0]),1032,["model-value","items","disabled","show-deselect","placeholder","allow-other"])):(m(),S(o,{key:0,type:"warning"},{default:r(()=>[D(b(e.t("choices_option_configured_incorrectly")),1)]),_:1}))}var iG=N(oG,[["render",aG]]),sG=`<svg width="156" height="96" fill="none" xmlns="http://www.w3.org/2000/svg">
	<rect x="18" y="17.037" width="120" height="62" rx="6" fill="var(--background-page)" />
	<rect x="19" y="18.037" width="118" height="60" rx="5" stroke="var(--primary)" stroke-opacity=".25"
		stroke-width="2" />
	<rect x="28" y="51" width="40" height="6" rx="2" fill="var(--primary)" fill-opacity=".25" />
	<rect x="28" y="63" width="60" height="6" rx="2" fill="var(--primary)" fill-opacity=".25" />
	<rect x="18" y="17" width="120" height="26" rx="6" fill="var(--background-page)" class="glow" />
	<rect x="19" y="18" width="118" height="24" rx="5" stroke="var(--primary)" stroke-width="2" />
	<rect x="28" y="27" width="70" height="6" rx="2" fill="var(--primary)" fill-opacity=".25" />
	<path d="M120.966 28a.4.4 0 00-.283.683l3.034 3.034a.4.4 0 00.566 0l3.034-3.034a.4.4 0 00-.283-.683h-6.068z"
		fill="var(--primary)" />
</svg>
`,rG=Ne({id:"select-dropdown",name:"$t:dropdown",description:"$t:interfaces.select-dropdown.description",icon:"arrow_drop_down_circle",component:iG,types:["string"],group:"selection",preview:sG,options:[{field:"choices",type:"json",name:"$t:choices",meta:{width:"full",interface:"list",options:{placeholder:"$t:interfaces.select-dropdown.choices_placeholder",template:"{{ text }}",fields:[{field:"text",type:"string",name:"$t:text",meta:{interface:"input",width:"half",options:{placeholder:"$t:interfaces.select-dropdown.choices_name_placeholder"}}},{field:"value",type:"string",name:"$t:value",meta:{interface:"input",options:{font:"monospace",placeholder:"$t:interfaces.select-dropdown.choices_value_placeholder"},width:"half"}}]}}},{field:"allowOther",name:"$t:interfaces.select-dropdown.allow_other",type:"boolean",meta:{width:"half",interface:"boolean",options:{label:"$t:interfaces.select-dropdown.allow_other_label"}},schema:{default_value:!1}},{field:"allowNone",name:"$t:interfaces.select-dropdown.allow_none",type:"boolean",meta:{width:"half",interface:"boolean",options:{label:"$t:interfaces.select-dropdown.allow_none_label"}},schema:{default_value:!1}},{field:"icon",name:"$t:icon",type:"string",meta:{width:"half",interface:"select-icon"}},{field:"placeholder",name:"$t:placeholder",type:"string",meta:{width:"half",interface:"input",options:{placeholder:"$t:enter_a_placeholder"}}}],recommendedDisplays:["labels"]}),dG=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:rG});const uG=z({components:{DrawerItem:qt,DrawerCollection:Xt},props:{value:{type:[Number,String,Object],default:null},collection:{type:String,required:!0},field:{type:String,required:!0},template:{type:String,default:null},selectMode:{type:String,default:"auto"},disabled:{type:Boolean,default:!1}},emits:["input"],setup(e,{emit:t}){const{t:l}=te(),{collection:n}=Ue(e),s=mt(),u=Ke(),{relation:o,relatedCollection:i,relatedPrimaryKeyField:d}=re(),{usesMenu:p,menuActive:f}=fe(),{info:v}=ot(n),{selection:y,stageSelection:_,selectModalActive:g}=x(),{displayTemplate:w,onPreviewClick:h,requiredFields:k}=X(),{totalCount:F,loading:A,fetchItems:P,items:L}=J(),{setCurrent:O,currentItem:U,loading:T,currentPrimaryKey:B}=Y(),{edits:q,stageEdits:K}=ee(),H=E(!1);return{t:l,collectionInfo:v,currentItem:U,displayTemplate:w,items:L,itemsLoading:A,loadingCurrent:T,menuActive:f,onPreviewClick:h,relatedCollection:i,relation:o,selection:y,selectModalActive:g,setCurrent:O,totalCount:F,stageSelection:_,useMenu:fe,currentPrimaryKey:B,edits:q,stageEdits:K,editModalActive:H,relatedPrimaryKeyField:d};function Y(){const se=E(null),W=E(!1);ye(()=>e.value,ce=>{var ve;ce!==null&&ce!==((ve=se.value)==null?void 0:ve[d.value.field])&&(typeof ce=="string"||typeof ce=="number")&&Z(),ce===null&&(se.value=null)},{immediate:!0});const G=V(()=>{var ce,ve,Q;return!se.value||!e.value||!d.value?"+":typeof e.value=="number"||typeof e.value=="string"?e.value:typeof e.value=="object"&&d.value.field in((ce=e.value)!=null?ce:{})&&(Q=(ve=e.value)==null?void 0:ve[d.value.field])!=null?Q:"+"});return{setCurrent:le,currentItem:se,loading:W,currentPrimaryKey:G};function le(ce){!d.value||(se.value=ce,t("input",ce[d.value.field]))}async function Z(){if(!d.value||!i.value)return;W.value=!0;const ce=k.value||[];ce.includes(d.value.field)===!1&&ce.push(d.value.field);try{const ve=i.value.collection.startsWith("directus_")?`/${i.value.collection.substring(9)}/${e.value}`:`/items/${i.value.collection}/${encodeURIComponent(e.value)}`,Q=await pe.get(ve,{params:{fields:ce}});se.value=Q.data.data}catch(ve){Se(ve)}finally{W.value=!1}}}function J(){const se=E(null),W=E(null),G=E(!1);return ye(i,()=>{Z(),W.value=null}),{totalCount:se,fetchItems:le,items:W,loading:G};async function le(){if(W.value!==null||!i.value||!d.value)return;G.value=!0;const ce=k.value||[];ce.includes(d.value.field)===!1&&ce.push(d.value.field);try{const ve=i.value.collection.startsWith("directus_")?`/${i.value.collection.substring(9)}`:`/items/${i.value.collection}`,Q=await pe.get(ve,{params:{fields:ce,limit:-1}});W.value=Q.data.data}catch(ve){Se(ve)}finally{G.value=!1}}async function Z(){if(!i.value)return;const ce=i.value.collection.startsWith("directus_")?`/${i.value.collection.substring(9)}`:`/items/${i.value.collection}`,ve=await pe.get(ce,{params:{limit:0,meta:"total_count"}});se.value=ve.data.meta.total_count}}function re(){const se=V(()=>{var Z;return(Z=s.getRelationsForField(e.collection,e.field))==null?void 0:Z[0]}),W=V(()=>{var Z;return((Z=se.value)==null?void 0:Z.related_collection)?u.getCollection(se.value.related_collection):null}),G=V(()=>{var Z,ce;return(ce=(Z=W.value)==null?void 0:Z.collection)!=null?ce:null}),{primaryKeyField:le}=ot(G);return{relation:se,relatedCollection:W,relatedPrimaryKeyField:le}}function fe(){const se=E(!1),W=V(()=>e.selectMode==="modal"?!1:e.selectMode==="dropdown"||F.value!==null&&F.value<=100);return{menuActive:se,usesMenu:W}}function X(){const se=V(()=>{var le,Z,ce;return e.template!==null?e.template:((Z=(le=v.value)==null?void 0:le.meta)==null?void 0:Z.display_template)||`{{ ${((ce=d==null?void 0:d.value)==null?void 0:ce.field)||""} }}`}),W=V(()=>!se.value||!i.value?null:Zt(yt(se.value),i.value.collection));return{onPreviewClick:G,displayTemplate:se,requiredFields:W};function G(){if(!e.disabled)if(p.value===!0){const le=!f.value;f.value=le,le===!0&&P()}else g.value=!0}}function x(){const se=E(!1);return{selection:V(()=>{var le;return e.value?d.value?typeof e.value=="object"&&d.value.field in((le=e.value)!=null?le:{})?[e.value[d.value.field]]:typeof e.value=="string"||typeof e.value=="number"?[e.value]:[]:[]:[]}),stageSelection:G,selectModalActive:se};function G(le){le.length===0?t("input",null):t("input",le[0])}}function ee(){return{edits:V(()=>e.value&&typeof e.value=="object"?e.value:{}),stageEdits:W};function W(G){!d.value||(B.value&&B.value!=="+"?t("input",oe({[d.value.field]:B.value},G)):(d.value.field in G&&G[d.value.field]==="+"&&delete G[d.value.field],t("input",G)),U.value=oe(oe({},U.value),G))}}}}),cG={key:2,class:"many-to-one"},pG={class:"preview"};function mG(e,t,l,n,s,u){var F;const o=c("v-notice"),i=c("v-skeleton-loader"),d=c("render-template"),p=c("v-icon"),f=c("v-input"),v=c("v-list-item-content"),y=c("v-list-item"),_=c("v-list"),g=c("v-menu"),w=c("drawer-item"),h=c("drawer-collection"),k=we("tooltip");return e.relation?e.displayTemplate?(m(),I("div",cG,[a(g,{modelValue:e.menuActive,"onUpdate:modelValue":t[3]||(t[3]=A=>e.menuActive=A),attached:"",disabled:e.disabled},{activator:r(({active:A})=>[e.loadingCurrent?(m(),S(i,{key:0,type:"input"})):(m(),S(f,{key:1,active:A,clickable:"",placeholder:e.t("select_an_item"),disabled:e.disabled,onClick:e.onPreviewClick},xe({_:2},[e.currentItem?{name:"input",fn:r(()=>[C("div",pG,[a(d,{collection:e.relatedCollection.collection,item:e.currentItem,template:e.displayTemplate},null,8,["collection","item","template"])])])}:void 0,e.disabled?void 0:{name:"append",fn:r(()=>[e.currentItem?(m(),I(ae,{key:0},[ne(a(p,{name:"open_in_new",class:"edit",onClick:t[0]||(t[0]=Ae(P=>e.editModalActive=!0,["stop"]))},null,512),[[k,e.t("edit")]]),ne(a(p,{name:"close",class:"deselect",onClick:t[1]||(t[1]=Ae(P=>e.$emit("input",null),["stop"]))},null,512),[[k,e.t("deselect")]])],64)):(m(),I(ae,{key:1},[ne(a(p,{class:"add",name:"add",onClick:t[2]||(t[2]=Ae(P=>e.editModalActive=!0,["stop"]))},null,512),[[k,e.t("create_item")]]),a(p,{class:ue(["expand",{active:A}]),name:"expand_more"},null,8,["class"])],64))])}]),1032,["active","placeholder","disabled","onClick"]))]),default:r(()=>[a(_,null,{default:r(()=>[e.itemsLoading?(m(),I(ae,{key:0},be(10,A=>a(y,{key:`loader-${A}`},{default:r(()=>[a(v,null,{default:r(()=>[a(i,{type:"text"})]),_:1})]),_:2},1024)),64)):(m(!0),I(ae,{key:1},be(e.items,A=>(m(),S(y,{key:A[e.relatedPrimaryKeyField.field],active:e.value===A[e.relatedPrimaryKeyField.field],clickable:"",onClick:P=>e.setCurrent(A)},{default:r(()=>[a(v,null,{default:r(()=>[a(d,{collection:e.relatedCollection.collection,template:e.displayTemplate,item:A},null,8,["collection","template","item"])]),_:2},1024)]),_:2},1032,["active","onClick"]))),128))]),_:1})]),_:1},8,["modelValue","disabled"]),e.disabled?R("",!0):(m(),S(w,{key:0,active:e.editModalActive,"onUpdate:active":t[4]||(t[4]=A=>e.editModalActive=A),collection:e.relatedCollection.collection,"primary-key":e.currentPrimaryKey,edits:e.edits,"circular-field":(F=e.relation.meta)==null?void 0:F.one_field,onInput:e.stageEdits},null,8,["active","collection","primary-key","edits","circular-field","onInput"])),e.disabled?R("",!0):(m(),S(h,{key:1,active:e.selectModalActive,"onUpdate:active":t[5]||(t[5]=A=>e.selectModalActive=A),collection:e.relatedCollection.collection,selection:e.selection,onInput:e.stageSelection},null,8,["active","collection","selection","onInput"]))])):(m(),S(o,{key:1,type:"warning"},{default:r(()=>[D(b(e.t("display_template_not_setup")),1)]),_:1})):(m(),S(o,{key:0,type:"warning"},{default:r(()=>[D(b(e.t("relationship_not_setup")),1)]),_:1}))}var fG=N(uG,[["render",mG],["__scopeId","data-v-73dbefca"]]),vG=`<svg width="156" height="96" fill="none" xmlns="http://www.w3.org/2000/svg">
	<rect x="18" y="17.037" width="120" height="62" rx="6" fill="var(--background-page)" />
	<rect x="19" y="18.037" width="118" height="60" rx="5" stroke="var(--primary)" stroke-opacity=".25"
		stroke-width="2" />
	<rect x="28" y="51" width="40" height="6" rx="2" fill="var(--primary)" fill-opacity=".25" />
	<rect x="28" y="63" width="60" height="6" rx="2" fill="var(--primary)" fill-opacity=".25" />
	<rect x="18" y="17" width="120" height="26" rx="6" fill="var(--background-page)" class="glow" />
	<rect x="19" y="18" width="118" height="24" rx="5" stroke="var(--primary)" stroke-width="2" />
	<rect x="28" y="27" width="70" height="6" rx="2" fill="var(--primary)" fill-opacity=".25" />
	<path d="M120.966 28a.4.4 0 00-.283.683l3.034 3.034a.4.4 0 00.566 0l3.034-3.034a.4.4 0 00-.283-.683h-6.068z"
		fill="var(--primary)" />
</svg>
`,_G=Ne({id:"select-dropdown-m2o",name:"$t:interfaces.select-dropdown-m2o.many-to-one",description:"$t:interfaces.select-dropdown-m2o.description",icon:"arrow_right_alt",component:fG,types:["uuid","string","text","integer","bigInteger"],relational:!0,localTypes:["m2o"],group:"relational",options:({relations:e})=>{var l;const t=(l=e.m2o)==null?void 0:l.related_collection;return[{field:"template",name:"$t:interfaces.select-dropdown-m2o.display_template",meta:{interface:"system-display-template",options:{collectionName:t}}}]},recommendedDisplays:["related-values"],preview:vG}),yG=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:_G}),Gi=[{name:"action",icons:["3d_rotation","accessibility","accessibility_new","accessible","accessible_forward","account_balance","account_balance_wallet","account_box","account_circle","add_shopping_cart","addchart","admin_panel_settings","alarm","alarm_add","alarm_off","alarm_on","all_inbox","all_out","analytics","anchor","android","announcement","api","app_blocking","arrow_circle_down","arrow_circle_up","arrow_right_alt","article","aspect_ratio","assessment","assignment","assignment_ind","assignment_late","assignment_return","assignment_returned","assignment_turned_in","autorenew","backup","backup_table","batch_prediction","book","book_online","bookmark","bookmark_border","bookmarks","bug_report","build","build_circle","cached","calendar_today","calendar_view_day","camera_enhance","cancel_schedule_send","card_giftcard","card_membership","card_travel","change_history","check_circle","check_circle_outline","chrome_reader_mode","class","close_fullscreen","code","comment_bank","commute","compare_arrows","contact_support","contactless","copyright","credit_card","dashboard","date_range","delete","delete_forever","delete_outline","description","dns","done","done_all","done_outline","donut_large","donut_small","drag_indicator","dynamic_form","eco","eject","euro_symbol","event","event_seat","exit_to_app","explore","explore_off","extension","face","fact_check","favorite","favorite_border","feedback","filter_alt","find_in_page","find_replace","fingerprint","flaky","flight_land","flight_takeoff","flip_to_back","flip_to_front","g_translate","gavel","get_app","gif","grade","grading","group_work","help","help_center","help_outline","highlight_alt","highlight_off","history","history_toggle_off","home","horizontal_split","hourglass_disabled","hourglass_empty","hourglass_full","http","https","important_devices","info","input","integration_instructions","invert_colors","label","label_important","label_off","language","launch","line_style","line_weight","list","lock","lock_open","login","loyalty","markunread_mailbox","maximize","mediation","minimize","motorcycle","note_add","offline_bolt","offline_pin","online_prediction","opacity","open_in_browser","open_in_full","open_in_new","open_with","outlet","pageview","pan_tool","payment","pending","pending_actions","perm_camera_mic","perm_contact_calendar","perm_data_setting","perm_device_information","perm_identity","perm_media","perm_phone_msg","perm_scan_wifi","pets","picture_in_picture","picture_in_picture_alt","plagiarism","play_for_work","polymer","power_settings_new","pregnant_woman","preview","print","privacy_tip","query_builder","question_answer","quickreply","receipt","record_voice_over","redeem","remove_shopping_cart","reorder","report_problem","request_page","restore","restore_from_trash","restore_page","room","rounded_corner","rowing","rule","schedule","search","search_off","settings","settings_applications","settings_backup_restore","settings_bluetooth","settings_brightness","settings_cell","settings_ethernet","settings_input_antenna","settings_input_component","settings_input_composite","settings_input_hdmi","settings_input_svideo","settings_overscan","settings_phone","settings_power","settings_remote","settings_voice","shop","shop_two","shopping_bag","shopping_basket","shopping_cart","smart_button","source","speaker_notes","speaker_notes_off","spellcheck","star_rate","stars","store","subject","subtitles_off","supervised_user_circle","supervisor_account","support","swap_horiz","swap_horizontal_circle","swap_vert","swap_vertical_circle","sync_alt","system_update_alt","tab","tab_unselected","table_view","text_rotate_up","text_rotate_vertical","text_rotation_angledown","text_rotation_angleup","text_rotation_down","text_rotation_none","theaters","thumb_down","thumb_up","thumbs_up_down","timeline","toc","today","toll","touch_app","tour","track_changes","translate","trending_down","trending_flat","trending_up","turned_in","turned_in_not","update","upgrade","verified","verified_user","vertical_split","view_agenda","view_array","view_carousel","view_column","view_day","view_headline","view_list","view_module","view_quilt","view_sidebar","view_stream","view_week","visibility","visibility_off","voice_over_off","watch_later","wifi_protected_setup","work","work_off","work_outline","wysiwyg","youtube_searched_for","zoom_in","zoom_out"]},{name:"alert",icons:["add_alert","auto_delete","error","error_outline","notification_important","warning"]},{name:"av",icons:["4k","5g","add_to_queue","airplay","album","art_track","av_timer","branding_watermark","call_to_action","closed_caption","closed_caption_disabled","control_camera","equalizer","explicit","fast_forward","fast_rewind","featured_play_list","featured_video","fiber_dvr","fiber_manual_record","fiber_new","fiber_pin","fiber_smart_record","forward_10","forward_30","forward_5","games","hd","hearing","hearing_disabled","high_quality","library_add","library_add_check","library_books","library_music","loop","mic","mic_none","mic_off","missed_video_call","movie","music_video","new_releases","not_interested","note","pause","pause_circle_filled","pause_circle_outline","play_arrow","play_circle_filled","play_circle_filled_white","play_circle_outline","playlist_add","playlist_add_check","playlist_play","queue","queue_music","queue_play_next","radio","recent_actors","remove_from_queue","repeat","repeat_one","replay","replay_10","replay_30","replay_5","shuffle","skip_next","skip_previous","slow_motion_video","snooze","sort_by_alpha","speed","stop","stop_circle","subscriptions","subtitles","surround_sound","video_call","video_label","video_library","video_settings","videocam","videocam_off","volume_down","volume_mute","volume_off","volume_up","web","web_asset"]},{name:"communication",icons:["add_ic_call","alternate_email","business","call","call_end","call_made","call_merge","call_missed","call_missed_outgoing","call_received","call_split","cancel_presentation","wifi","chat","chat_bubble","chat_bubble_outline","clear_all","comment","contact_mail","contact_phone","contacts","desktop_access_disabled","dialer_sip","dialpad","domain_disabled","domain_verification","duo","email","forum","forward_to_inbox","hourglass_bottom","hourglass_top","import_contacts","import_export","invert_colors_off","list_alt","live_help","location_off","location_on","mail_outline","mark_chat_read","mark_chat_unread","mark_email_read","mark_email_unread","message","mobile_screen_share","more_time","nat","no_sim","pause_presentation","person_add_disabled","person_search","phone","phone_disabled","phone_enabled","phonelink_erase","phonelink_lock","phonelink_ring","phonelink_setup","portable_wifi_off","present_to_all","print_disabled","qr_code","qr_code_scanner","read_more","ring_volume","rss_feed","screen_share","sentiment_satisfied_alt","speaker_phone","stay_current_landscape","stay_current_portrait","stay_primary_landscape","stay_primary_portrait","stop_screen_share","swap_calls","textsms","unsubscribe","voicemail","vpn_key","wifi_calling"]},{name:"content",icons:["add","add_box","add_circle","add_circle_outline","amp_stories","archive","backspace","ballot","biotech","block","calculate","clear","content_copy","content_cut","content_paste","create","delete_sweep","drafts","dynamic_feed","file_copy","filter_list","flag","font_download","forward","gesture","how_to_reg","how_to_vote","inbox","insights","link","link_off","low_priority","mail","markunread","move_to_inbox","next_week","outlined_flag","policy","push_pin","redo","remove","remove_circle","remove_circle_outline","reply","reply_all","report","report_off","save","save_alt","select_all","send","sort","square_foot","text_format","unarchive","undo","waves","weekend","where_to_vote"]},{name:"device",icons:["access_alarm","access_alarms","access_time","ad_units","add_alarm","add_to_home_screen","airplanemode_active","airplanemode_inactive","battery_alert","battery_charging_full","battery_full","battery_unknown","bluetooth","bluetooth_connected","bluetooth_disabled","bluetooth_searching","brightness_auto","brightness_high","brightness_low","brightness_medium","data_usage","developer_mode","devices","dvr","gps_fixed","graphic_eq","location_disabled","location_searching","mobile_friendly","mobile_off","nfc","screen_lock_landscape","screen_lock_portrait","screen_lock_rotation","screen_rotation","sd_storage","settings_system_daydream","signal_cellular_alt","signal_cellular_no_sim","signal_cellular_null","signal_cellular_off","signal_wifi_off","storage","usb","wallpaper","widgets","wifi_lock","wifi_tethering"]},{name:"editor",icons:["add_comment","attach_file","attach_money","bar_chart","border_all","border_bottom","border_clear","border_horizontal","border_inner","border_left","border_outer","border_right","border_style","border_top","border_vertical","bubble_chart","drag_handle","format_align_center","format_align_justify","format_align_left","format_align_right","format_bold","format_clear","format_color_reset","format_indent_decrease","format_indent_increase","format_italic","format_line_spacing","format_list_bulleted","format_list_numbered","format_list_numbered_rtl","format_paint","format_quote","format_shapes","format_size","format_strikethrough","format_textdirection_l_to_r","format_textdirection_r_to_l","format_underlined","functions","height","highlight","horizontal_rule","insert_chart","insert_comment","insert_drive_file","insert_emoticon","insert_invitation","insert_link","insert_photo","linear_scale","merge_type","mode_comment","monetization_on","money_off","multiline_chart","notes","pie_chart","post_add","publish","scatter_plot","score","short_text","show_chart","space_bar","strikethrough_s","subscript","superscript","table_chart","table_rows","text_fields","title","vertical_align_bottom","vertical_align_center","vertical_align_top","wrap_text"]},{name:"file",icons:["attach_email","attachment","cloud","cloud_circle","cloud_done","cloud_download","cloud_off","cloud_queue","cloud_upload","create_new_folder","folder","folder_open","folder_shared","request_quote","rule_folder","snippet_folder","text_snippet","topic"]},{name:"hardware",icons:["browser_not_supported","cast","cast_connected","cast_for_education","computer","desktop_mac","desktop_windows","developer_board","device_hub","device_unknown","devices_other","dock","gamepad","headset","headset_mic","keyboard","keyboard_arrow_down","keyboard_arrow_left","keyboard_arrow_right","keyboard_arrow_up","keyboard_backspace","keyboard_capslock","keyboard_hide","keyboard_return","keyboard_tab","keyboard_voice","laptop","laptop_chromebook","laptop_mac","laptop_windows","memory","mouse","phone_android","phone_iphone","phonelink","phonelink_off","point_of_sale","power_input","router","scanner","security","sim_card","smartphone","speaker","speaker_group","tablet","tablet_android","tablet_mac","toys","tv","videogame_asset","watch"]},{name:"home",icons:["sensor_door","sensor_window"]},{name:"image",icons:["add_a_photo","add_photo_alternate","add_to_photos","adjust","assistant","assistant_photo","audiotrack","bedtime","blur_circular","blur_linear","blur_off","blur_on","brightness_1","brightness_2","brightness_3","brightness_4","brightness_5","brightness_6","brightness_7","broken_image","brush","burst_mode","camera","camera_alt","camera_front","camera_rear","camera_roll","center_focus_strong","center_focus_weak","collections","collections_bookmark","color_lens","colorize","compare","control_point","control_point_duplicate","crop","crop_16_9","crop_3_2","crop_5_4","crop_7_5","crop_din","crop_free","crop_landscape","crop_original","crop_portrait","crop_rotate","crop_square","dehaze","details","edit","euro","exposure","exposure_neg_1","exposure_neg_2","exposure_plus_1","exposure_plus_2","exposure_zero","filter","filter_1","filter_2","filter_3","filter_4","filter_5","filter_6","filter_7","filter_8","filter_9","filter_9_plus","filter_b_and_w","filter_center_focus","filter_drama","filter_frames","filter_hdr","filter_none","filter_tilt_shift","filter_vintage","flare","flash_auto","flash_off","flash_on","flip","flip_camera_android","flip_camera_ios","gradient","grain","grid_off","grid_on","hdr_off","hdr_on","hdr_strong","hdr_weak","healing","image","image_aspect_ratio","image_not_supported","image_search","iso","landscape","leak_add","leak_remove","lens","linked_camera","looks","looks_3","looks_4","looks_5","looks_6","looks_one","looks_two","loupe","monochrome_photos","motion_photos_on","motion_photos_paused","movie_creation","movie_filter","music_note","music_off","nature","nature_people","navigate_before","navigate_next","palette","panorama","panorama_fish_eye","panorama_horizontal","panorama_vertical","panorama_wide_angle","photo","photo_album","photo_camera","photo_filter","photo_library","photo_size_select_actual","photo_size_select_large","photo_size_select_small","picture_as_pdf","portrait","receipt_long","remove_red_eye","rotate_90_degrees_ccw","rotate_left","rotate_right","shutter_speed","slideshow","straighten","style","switch_camera","switch_video","tag_faces","texture","timelapse","timer","timer_10","timer_3","timer_off","tonality","transform","tune","view_comfy","view_compact","vignette","wb_auto","wb_cloudy","wb_incandescent","wb_iridescent","wb_sunny"]},{name:"maps",icons:["360","add_business","add_location","add_location_alt","add_road","agriculture","alt_route","atm","beenhere","bike_scooter","category","cleaning_services","compass_calibration","departure_board","design_services","directions","directions_bike","directions_boat","directions_bus","directions_car","directions_railway","directions_run","directions_subway","directions_transit","directions_walk","edit_attributes","edit_location","edit_road","electric_bike","electric_car","electric_moped","electric_scooter","electrical_services","ev_station","fastfood","flight","handyman","home_repair_service","hotel","hvac","layers","layers_clear","local_activity","local_airport","local_atm","local_bar","local_cafe","local_car_wash","local_convenience_store","local_dining","local_drink","local_fire_department","local_florist","local_gas_station","local_grocery_store","local_hospital","local_hotel","local_laundry_service","local_library","local_mall","local_movies","local_offer","local_parking","local_pharmacy","local_phone","local_pizza","local_play","local_police","local_post_office","local_printshop","local_see","local_shipping","local_taxi","map","maps_ugc","medical_services","menu_book","miscellaneous_services","money","moped","multiple_stop","museum","my_location","navigation","near_me","no_meals","no_transfer","not_listed_location","pedal_bike","person_pin","person_pin_circle","pest_control","pest_control_rodent","pin_drop","place","plumbing","rate_review","restaurant","restaurant_menu","run_circle","satellite","store_mall_directory","streetview","subway","terrain","traffic","train","tram","transfer_within_a_station","transit_enterexit","trip_origin","two_wheeler","wrong_location","zoom_out_map"]},{name:"navigation",icons:["app_settings_alt","apps","arrow_back","arrow_back_ios","arrow_downward","arrow_drop_down","arrow_drop_down_circle","arrow_drop_up","arrow_forward","arrow_forward_ios","arrow_left","arrow_right","arrow_upward","campaign","cancel","check","chevron_left","chevron_right","close","double_arrow","east","expand_less","expand_more","first_page","fullscreen","fullscreen_exit","home_work","last_page","legend_toggle","menu","menu_open","more_horiz","more_vert","north","north_east","north_west","payments","refresh","south","south_east","south_west","subdirectory_arrow_left","subdirectory_arrow_right","switch_left","switch_right","unfold_less","unfold_more","west"]},{name:"notification",icons:["account_tree","adb","airline_seat_flat","airline_seat_flat_angled","airline_seat_individual_suite","airline_seat_legroom_extra","airline_seat_legroom_normal","airline_seat_legroom_reduced","airline_seat_recline_extra","airline_seat_recline_normal","bluetooth_audio","confirmation_number","directions_off","disc_full","drive_eta","enhanced_encryption","event_available","event_busy","event_note","folder_special","live_tv","mms","more","network_check","network_locked","no_encryption","ondemand_video","personal_video","phone_bluetooth_speaker","phone_callback","phone_forwarded","phone_in_talk","phone_locked","phone_missed","phone_paused","power","power_off","priority_high","sd_card","sms","sms_failed","support_agent","sync","sync_disabled","sync_problem","system_update","tap_and_play","time_to_leave","tv_off","vibration","voice_chat","vpn_lock","wc","wifi","wifi_off"]},{name:"places",icons:["ac_unit","airport_shuttle","all_inclusive","apartment","baby_changing_station","backpack","bathtub","beach_access","business_center","casino","charging_station","checkroom","child_care","child_friendly","corporate_fare","do_not_step","do_not_touch","dry","elevator","escalator","escalator_warning","family_restroom","fire_extinguisher","fitness_center","free_breakfast","golf_course","grass","hot_tub","house","kitchen","meeting_room","no_cell","no_drinks","no_flash","no_food","no_meeting_room","no_photography","no_stroller","pool","room_preferences","room_service","rv_hookup","smoke_free","smoking_rooms","soap","spa","stairs","storefront","stroller","tty","umbrella","wash","wheelchair_pickup"]},{name:"social",icons:["6_ft_apart","architecture","cake","clean_hands","construction","deck","domain","emoji_emotions","emoji_events","emoji_flags","emoji_food_beverage","emoji_nature","emoji_objects","emoji_people","emoji_symbols","emoji_transportation","engineering","fireplace","group","group_add","history_edu","king_bed","location_city","luggage","military_tech","mood","mood_bad","nights_stay","no_luggage","notifications","notifications_active","notifications_none","notifications_off","notifications_paused","outdoor_grill","pages","party_mode","people","people_alt","person","person_add","person_add_alt_1","person_outline","person_remove","plus_one","poll","psychology","public","public_off","school","science","self_improvement","sentiment_dissatisfied","sentiment_satisfied","sentiment_very_dissatisfied","sentiment_very_satisfied","share","single_bed","sports","sports_baseball","sports_basketball","sports_cricket","sports_esports","sports_football","sports_golf","sports_handball","sports_hockey","sports_kabaddi","sports_mma","sports_motorsports","sports_rugby","sports_soccer","sports_tennis","sports_volleyball","thumb_down_alt","thumb_up_alt","whatshot"]},{name:"toggle",icons:["check_box","check_box_outline_blank","indeterminate_check_box","radio_button_checked","radio_button_unchecked","star","star_border","star_half","toggle_off","toggle_on"]}];const gG=z({props:{value:{type:String,default:null},disabled:{type:Boolean,default:!1},width:{type:String,default:"half"}},emits:["input"],setup(e,{emit:t}){const{t:l}=te(),n=E(""),s=V(()=>Gi.map(o=>{if(n.value.length===0)return o;const i=o.icons.filter(d=>d.includes(n.value.toLowerCase()));return ke(oe({},o),{icons:i,length:i.length})}));return{t:l,icons:Gi,setIcon:u,searchQuery:n,filteredIcons:s,formatTitle:Et};function u(o){n.value="",t("input",o)}}}),hG={key:0,class:"icons"};function bG(e,t,l,n,s,u){const o=c("v-icon"),i=c("v-input"),d=c("v-divider"),p=c("v-menu");return m(),S(p,{attached:"",disabled:e.disabled},{activator:r(({active:f,activate:v})=>[a(i,{modelValue:e.searchQuery,"onUpdate:modelValue":t[1]||(t[1]=y=>e.searchQuery=y),disabled:e.disabled,placeholder:e.value?e.formatTitle(e.value):e.t("interfaces.select-icon.search_for_icon"),class:ue({"has-value":e.value}),nullable:!1,onFocus:v},xe({append:r(()=>[e.value!==null?(m(),S(o,{key:0,clickable:"",name:"close",onClick:t[0]||(t[0]=y=>e.setIcon(null))})):(m(),S(o,{key:1,clickable:"",name:"expand_more",class:ue(["open-indicator",{open:f}]),onClick:v},null,8,["class","onClick"]))]),_:2},[e.value?{name:"prepend",fn:r(()=>[a(o,{clickable:"",name:e.value,class:ue({active:e.value}),onClick:v},null,8,["name","class","onClick"])])}:void 0]),1032,["modelValue","disabled","placeholder","class","onFocus"])]),default:r(()=>[C("div",{class:ue(["content",e.width])},[(m(!0),I(ae,null,be(e.filteredIcons,(f,v)=>(m(),I(ae,{key:f.name},[f.icons.length>0?(m(),I("div",hG,[(m(!0),I(ae,null,be(f.icons,y=>(m(),S(o,{key:y,name:y,class:ue({active:y===e.value}),clickable:"",onClick:_=>e.setIcon(y)},null,8,["name","class","onClick"]))),128))])):R("",!0),f.icons.length>0&&v!==e.filteredIcons.length-1?(m(),S(d,{key:1})):R("",!0)],64))),128))],2)]),_:1},8,["disabled"])}var $G=N(gG,[["render",bG],["__scopeId","data-v-80080b9a"]]),wG=Ne({id:"select-icon",name:"$t:interfaces.select-icon.icon",description:"$t:interfaces.select-icon.description",icon:"insert_emoticon",component:$G,types:["string"],group:"selection",options:[],recommendedDisplays:["icon"]}),kG=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:wG});const CG=z({props:{disabled:{type:Boolean,default:!1},value:{type:Array,default:null},choices:{type:Array,default:null},allowOther:{type:Boolean,default:!1},width:{type:String,default:null},iconOn:{type:String,default:"check_box"},iconOff:{type:String,default:"check_box_outline_blank"},color:{type:String,default:"var(--primary)"},itemsShown:{type:Number,default:8}},emits:["input"],setup(e,{emit:t}){const{t:l}=te(),{choices:n,value:s}=Ue(e),u=E(!1),o=V(()=>e.choices.length>e.itemsShown),i=V(()=>u.value||o.value===!1?e.choices:e.choices.slice(0,e.itemsShown)),d=V(()=>e.choices.length-e.itemsShown),p=V(()=>{var g;if(n.value===null)return null;const _=n.value.reduce((w,h)=>(h.text.length>w.length&&(w=h.text),w),"").length;return((g=e.width)==null?void 0:g.startsWith("half"))?_<=10?"grid-2":"grid-1":_<=10?"grid-4":_>10&&_<=15?"grid-3":_>15&&_<=25?"grid-2":"grid-1"}),{otherValues:f,addOtherValue:v,setOtherValue:y}=hi(s,n,_=>t("input",_));return{t:l,gridClass:p,otherValues:f,addOtherValue:v,setOtherValue:y,choicesDisplayed:i,hideChoices:o,showAll:u,hiddenCount:d}}}),SG=["disabled"];function VG(e,t,l,n,s,u){const o=c("v-notice"),i=c("v-checkbox"),d=c("v-detail"),p=c("v-icon");return e.choices?(m(),I("div",{key:1,class:ue(["checkboxes",e.gridClass]),style:ze({"--v-checkbox-color":e.color})},[(m(!0),I(ae,null,be(e.choicesDisplayed,f=>(m(),S(i,{key:f.value,block:"",value:f.value,label:f.text,disabled:e.disabled,"icon-on":e.iconOn,"icon-off":e.iconOff,"model-value":e.value||[],"onUpdate:modelValue":t[0]||(t[0]=v=>e.$emit("input",v))},null,8,["value","label","disabled","icon-on","icon-off","model-value"]))),128)),e.hideChoices&&e.showAll===!1?(m(),S(d,{key:0,class:ue(e.gridClass),label:e.t("interfaces.select-multiple-checkbox.show_more",{count:e.hiddenCount}),"onUpdate:modelValue":t[1]||(t[1]=f=>e.showAll=!0)},null,8,["class","label"])):R("",!0),e.allowOther?(m(),I(ae,{key:1},[(m(!0),I(ae,null,be(e.otherValues,f=>(m(),S(i,{key:f.key,block:"","custom-value":"",value:f.value,disabled:e.disabled,"icon-on":e.iconOn,"icon-off":e.iconOff,"model-value":e.value||[],"onUpdate:value":v=>e.setOtherValue(f.key,v),"onUpdate:modelValue":t[2]||(t[2]=v=>e.$emit("input",v))},null,8,["value","disabled","icon-on","icon-off","model-value","onUpdate:value"]))),128)),e.allowOther?(m(),I("button",{key:0,disabled:e.disabled,class:"add-new custom",align:"left",outlined:"",dashed:"",secondary:"",onClick:t[3]||(t[3]=f=>e.addOtherValue())},[a(p,{name:"add"}),D(" "+b(e.t("other")),1)],8,SG)):R("",!0)],64)):R("",!0)],6)):(m(),S(o,{key:0,type:"warning"},{default:r(()=>[D(b(e.t("choices_option_configured_incorrectly")),1)]),_:1}))}var FG=N(CG,[["render",VG],["__scopeId","data-v-eb2534aa"]]),AG=`<svg width="156" height="96" viewBox="0 0 156 96" fill="none" xmlns="http://www.w3.org/2000/svg">
	<rect x="54" y="36" width="70" height="6" rx="2" fill="var(--primary)" />
	<path
		d="M43.0742 33.75H34.9258C34.2695 33.75 33.75 34.2695 33.75 34.9258V43.0742C33.75 43.7305 34.2695 44.25 34.9258 44.25H43.0742C43.7305 44.25 44.25 43.7305 44.25 43.0742V34.9258C44.25 34.2695 43.7305 33.75 43.0742 33.75ZM43.0742 43.0742H34.9258V34.9258H43.0742V43.0742ZM42.5 37.25L41.6797 36.4297L37.8242 40.2578L36.3203 38.7539L35.5 39.6016L37.8242 41.9258L42.5 37.25Z"
		fill="var(--primary)" />
	<rect x="54" y="72" width="50" height="6" rx="2" fill="var(--primary)" />
	<path
		d="M43.0742 69.75H34.9258C34.2695 69.75 33.75 70.2695 33.75 70.9258V79.0742C33.75 79.7305 34.2695 80.25 34.9258 80.25H43.0742C43.7305 80.25 44.25 79.7305 44.25 79.0742V70.9258C44.25 70.2695 43.7305 69.75 43.0742 69.75ZM43.0742 79.0742H34.9258V70.9258H43.0742V79.0742ZM42.5 73.25L41.6797 72.4297L37.8242 76.2578L36.3203 74.7539L35.5 75.6016L37.8242 77.9258L42.5 73.25Z"
		fill="var(--primary)" />
	<rect x="54" y="18" width="50" height="6" rx="2" fill="var(--primary)" fill-opacity="0.25" />
	<path
		d="M43.0742 16.9258V25.0742H34.9258V16.9258H43.0742ZM43.0742 15.75H34.9258C34.2695 15.75 33.75 16.2695 33.75 16.9258V25.0742C33.75 25.7305 34.2695 26.25 34.9258 26.25H43.0742C43.7305 26.25 44.25 25.7305 44.25 25.0742V16.9258C44.25 16.2695 43.7305 15.75 43.0742 15.75Z"
		fill="var(--primary)" fill-opacity="0.25" />
	<rect x="54" y="54" width="60" height="6" rx="2" fill="var(--primary)" fill-opacity="0.25" />
	<path
		d="M43.0742 52.9258V61.0742H34.9258V52.9258H43.0742ZM43.0742 51.75H34.9258C34.2695 51.75 33.75 52.2695 33.75 52.9258V61.0742C33.75 61.7305 34.2695 62.25 34.9258 62.25H43.0742C43.7305 62.25 44.25 61.7305 44.25 61.0742V52.9258C44.25 52.2695 43.7305 51.75 43.0742 51.75Z"
		fill="var(--primary)" fill-opacity="0.25" />
</svg>
`,IG=Ne({id:"select-multiple-checkbox",name:"$t:interfaces.select-multiple-checkbox.checkboxes",icon:"check_box",component:FG,description:"$t:interfaces.select-multiple-checkbox.description",types:["json","csv"],group:"selection",preview:AG,options:[{field:"choices",type:"json",name:"$t:choices",meta:{width:"full",interface:"list",options:{template:"{{ text }}",fields:[{field:"text",type:"string",name:"$t:text",meta:{width:"half",interface:"input",options:{placeholder:"$t:interfaces.select-dropdown.choices_name_placeholder"}}},{field:"value",type:"string",name:"$t:value",meta:{width:"half",interface:"input",options:{font:"monospace",placeholder:"$t:interfaces.select-dropdown.choices_name_placeholder"}}}]}}},{field:"allowOther",name:"$t:interfaces.select-multiple-checkbox.allow_other",type:"boolean",meta:{width:"half",interface:"boolean",options:{label:"$t:enable_custom_values"}},schema:{default_value:!1}},{field:"color",name:"$t:color",type:"string",meta:{width:"half",interface:"select-color"},schema:{default_value:"#00C897"}},{field:"iconOn",name:"$t:icon_on",type:"string",meta:{width:"half",interface:"select-icon"},schema:{default_value:"check_box"}},{field:"iconOff",name:"$t:icon_off",type:"string",meta:{width:"half",interface:"select-icon"},schema:{default_value:"check_box_outline_blank"}},{field:"itemsShown",name:"$t:interfaces.select-multiple-checkbox.items_shown",type:"integer",meta:{width:"half",interface:"input"},schema:{default_value:8}}],recommendedDisplays:["labels"]}),EG=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:IG});const DG=z({props:{value:{type:Array,default:()=>[]},disabled:{type:Boolean,default:!1},choices:{type:Array,default:()=>[]},valueCombining:{type:String,default:"all"}},emits:["input"],setup(){const{t:e}=te(),t=E(""),l=E(!1),n=M.exports.debounce(u=>{s.value=u},250);ye(t,n);const s=E("");return{search:t,t:e,searchDebounced:s,showSelectionOnly:l}}}),TG={class:"select-multiple-checkbox-tree"},PG={class:"search"},LG={class:"footer"},OG=D(" / ");function jG(e,t,l,n,s,u){const o=c("v-icon"),i=c("v-input"),d=c("v-checkbox-tree");return m(),I("div",TG,[C("div",PG,[a(i,{modelValue:e.search,"onUpdate:modelValue":t[1]||(t[1]=p=>e.search=p),class:"input",type:"text",placeholder:e.t("search")},xe({prepend:r(()=>[a(o,{name:"search"})]),_:2},[e.search?{name:"append",fn:r(()=>[a(o,{name:"clear",clickable:"",onClick:t[0]||(t[0]=p=>e.search="")})])}:void 0]),1032,["modelValue","placeholder"])]),a(d,{"model-value":e.value,search:e.searchDebounced,disabled:e.disabled,choices:e.choices,"value-combining":e.valueCombining,"show-selection-only":e.showSelectionOnly,"onUpdate:modelValue":t[2]||(t[2]=p=>e.$emit("input",p))},null,8,["model-value","search","disabled","choices","value-combining","show-selection-only"]),C("div",LG,[C("span",{class:ue({active:e.showSelectionOnly===!1}),onClick:t[3]||(t[3]=p=>e.showSelectionOnly=!1)},b(e.t("interfaces.select-multiple-checkbox-tree.show_all")),3),OG,C("span",{class:ue({active:e.showSelectionOnly===!0}),onClick:t[4]||(t[4]=p=>e.showSelectionOnly=!0)},b(e.t("interfaces.select-multiple-checkbox-tree.show_selected")),3)])])}var RG=N(DG,[["render",jG],["__scopeId","data-v-4588d42a"]]);const Uo=[{field:"text",type:"string",name:"$t:text",meta:{width:"half",interface:"input",options:{placeholder:"$t:interfaces.select-dropdown.choices_name_placeholder"}}},{field:"value",type:"string",name:"$t:value",meta:{width:"half",interface:"input",options:{font:"monospace",placeholder:"$t:interfaces.select-dropdown.choices_name_placeholder"}}}],Ji={field:"children",type:"json",name:"$t:children",meta:{width:"full",interface:"list",options:{fields:Uo}}};function Qi(e=0,t=3){return e<t?[...Uo,ke(oe({},Ji),{meta:ke(oe({},Ji.meta),{options:{fields:Qi(e+1)}})})]:Uo}var MG=Ne({id:"select-multiple-checkbox-tree",name:"$t:interfaces.select-multiple-checkbox-tree.name",icon:"account_tree",component:RG,description:"$t:interfaces.select-multiple-checkbox-tree.description",types:["json","csv"],group:"selection",options:[{field:"choices",type:"json",name:"$t:choices",meta:{width:"full",interface:"list",options:{template:"{{ text }}",fields:Qi()}}},{field:"valueCombining",type:"string",name:"$t:interfaces.select-multiple-checkbox-tree.value_combining",schema:{default_value:"all"},meta:{note:"$t:interfaces.select-multiple-checkbox-tree.value_combining_note",interface:"select-dropdown",options:{choices:[{text:"$t:all",value:"all"},{text:"$t:branch",value:"branch"},{text:"$t:leaf",value:"leaf"},{text:"$t:indeterminate",value:"indeterminate"},{text:"$t:exclusive",value:"exclusive"}]}}}],recommendedDisplays:["labels"]}),UG=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:MG});const NG=z({props:{disabled:{type:Boolean,default:!1},value:{type:Array,default:null},choices:{type:Array,default:null},icon:{type:String,default:null},allowNone:{type:Boolean,default:!1},placeholder:{type:String,default:null},allowOther:{type:Boolean,default:!1}},emits:["input"],setup(){const{t:e}=te();return{t:e}}});function BG(e,t,l,n,s,u){const o=c("v-notice"),i=c("v-icon"),d=c("v-select");return e.choices?(m(),S(d,{key:1,multiple:"","model-value":e.value,items:e.choices,disabled:e.disabled,"show-deselect":e.allowNone,placeholder:e.placeholder,"allow-other":e.allowOther,"close-on-content-click":!1,"onUpdate:modelValue":t[0]||(t[0]=p=>e.$emit("input",p))},xe({_:2},[e.icon?{name:"prepend",fn:r(()=>[a(i,{name:e.icon},null,8,["name"])])}:void 0]),1032,["model-value","items","disabled","show-deselect","placeholder","allow-other"])):(m(),S(o,{key:0,type:"warning"},{default:r(()=>[D(b(e.t("choices_option_configured_incorrectly")),1)]),_:1}))}var qG=N(NG,[["render",BG]]),zG=`<svg width="156" height="96" viewBox="0 0 156 96" fill="none" xmlns="http://www.w3.org/2000/svg">
	<rect x="18" y="15" width="120" height="66" rx="6" fill="var(--background-page)" class="glow" />
	<rect x="19" y="16" width="118" height="64" rx="5" stroke="var(--primary)" stroke-width="2" />
	<rect x="28" y="25" width="80" height="6" rx="2" fill="var(--primary)" />
	<rect x="28" y="45.1479" width="70" height="6" rx="2" fill="var(--primary)" />
	<rect x="28" y="55.2222" width="80" height="6" rx="2" fill="var(--primary)" fill-opacity="0.25" />
	<rect x="28" y="65.2959" width="90" height="6" rx="2" fill="var(--primary)" fill-opacity="0.25" />
	<rect x="28" y="35.0737" width="90" height="6" rx="2" fill="var(--primary)" fill-opacity="0.25" />
</svg>
`,KG=Ne({id:"select-multiple-dropdown",name:"$t:interfaces.select-multiple-dropdown.select-multiple-dropdown",description:"$t:interfaces.select-multiple-dropdown.description",icon:"arrow_drop_down_circle",component:qG,types:["json","csv"],group:"selection",preview:zG,options:[{field:"choices",type:"json",name:"$t:choices",meta:{width:"full",interface:"list",options:{placeholder:"$t:interfaces.select-dropdown.choices_placeholder",template:"{{ text }}",fields:[{field:"text",type:"string",name:"$t:text",meta:{width:"half",interface:"input",options:{placeholder:"$t:interfaces.select-dropdown.choices_name_placeholder"}}},{field:"value",type:"string",name:"$t:value",meta:{width:"half",interface:"input",options:{font:"monospace",placeholder:"$t:interfaces.select-dropdown.choices_value_placeholder"}}}]}}},{field:"allowOther",name:"$t:interfaces.select-dropdown.allow_other",type:"boolean",meta:{width:"half",interface:"boolean",options:{label:"$t:interfaces.select-dropdown.allow_other_label"}},schema:{default_value:!1}},{field:"allowNone",name:"$t:interfaces.select-dropdown.allow_none",type:"boolean",meta:{width:"half",interface:"boolean",options:{label:"$t:interfaces.select-dropdown.allow_none_label"}},schema:{default_value:!1}},{field:"placeholder",name:"$t:placeholder",type:"string",meta:{width:"half",interface:"input",options:{placeholder:"$t:enter_a_placeholder"}}},{field:"icon",name:"$t:icon",type:"string",meta:{width:"half",interface:"select-icon"}}],recommendedDisplays:["labels"]}),HG=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:KG});const WG=z({props:{disabled:{type:Boolean,default:!1},value:{type:String,default:null},choices:{type:Array,default:null},allowOther:{type:Boolean,default:!1},width:{type:String,default:null},iconOn:{type:String,default:"radio_button_checked"},iconOff:{type:String,default:"radio_button_unchecked"},color:{type:String,default:"var(--primary)"}},emits:["input"],setup(e,{emit:t}){const{t:l}=te(),{choices:n,value:s}=Ue(e),u=V(()=>{var f;if(n.value===null)return null;const p=n.value.reduce((v,y)=>(y.text.length>v.length&&(v=y.text),v),"").length;return((f=e.width)==null?void 0:f.startsWith("half"))?p<=10?"grid-2":"grid-1":p<=10?"grid-4":p>10&&p<=15?"grid-3":p>15&&p<=25?"grid-2":"grid-1"}),{otherValue:o,usesOtherValue:i}=gi(s,n,p=>t("input",p)),d=V(()=>o.value?o.value&&i.value===!0?e.iconOn:e.iconOff:"add");return{t:l,gridClass:u,otherValue:o,usesOtherValue:i,customIcon:d}}}),GG=["placeholder","disabled"];function JG(e,t,l,n,s,u){const o=c("v-notice"),i=c("v-radio"),d=c("v-icon");return e.choices?(m(),I("div",{key:1,class:ue(["radio-buttons",e.gridClass]),style:ze({"--v-radio-color":e.color})},[(m(!0),I(ae,null,be(e.choices,p=>(m(),S(i,{key:p.value,block:"",value:p.value,label:p.text,disabled:e.disabled,"icon-on":e.iconOn,"icon-off":e.iconOff,"model-value":e.value,"onUpdate:modelValue":t[0]||(t[0]=f=>e.$emit("input",f))},null,8,["value","label","disabled","icon-on","icon-off","model-value"]))),128)),e.allowOther?(m(),I("div",{key:0,class:ue(["custom",{active:!e.disabled&&e.usesOtherValue,"has-value":!e.disabled&&e.otherValue,disabled:e.disabled}])},[a(d,{disabled:e.disabled,name:e.customIcon,clickable:"",onClick:t[1]||(t[1]=p=>e.$emit("input",e.otherValue))},null,8,["disabled","name"]),ne(C("input",{"onUpdate:modelValue":t[2]||(t[2]=p=>e.otherValue=p),placeholder:e.t("other"),disabled:e.disabled,onFocus:t[3]||(t[3]=p=>e.$emit("input",e.otherValue))},null,40,GG),[[Wl,e.otherValue]])],2)):R("",!0)],6)):(m(),S(o,{key:0,type:"warning"},{default:r(()=>[D(b(e.t("choices_option_configured_incorrectly")),1)]),_:1}))}var QG=N(WG,[["render",JG],["__scopeId","data-v-3c9fc610"]]),XG=`<svg width="156" height="96" viewBox="0 0 156 96" fill="none" xmlns="http://www.w3.org/2000/svg">
	<rect x="54" y="36" width="70" height="6" rx="2" fill="var(--primary)" />
	<path
		d="M39 33.1758C35.7734 33.1758 33.1758 35.7734 33.1758 39C33.1758 42.2266 35.7734 44.8242 39 44.8242C42.2266 44.8242 44.8242 42.2266 44.8242 39C44.8242 35.7734 42.2266 33.1758 39 33.1758ZM39 43.6758C36.4297 43.6758 34.3242 41.5703 34.3242 39C34.3242 36.4297 36.4297 34.3242 39 34.3242C41.5703 34.3242 43.6758 36.4297 43.6758 39C43.6758 41.5703 41.5703 43.6758 39 43.6758ZM36.0742 39C36.0742 37.3867 37.3867 36.0742 39 36.0742C40.6133 36.0742 41.9258 37.3867 41.9258 39C41.9258 40.6133 40.6133 41.9258 39 41.9258C37.3867 41.9258 36.0742 40.6133 36.0742 39Z"
		fill="var(--primary)" />
	<rect x="54" y="72" width="50" height="6" rx="2" fill="var(--primary)" fill-opacity="0.25" />
	<path
		d="M39 69.1758C35.7734 69.1758 33.1758 71.7734 33.1758 75C33.1758 78.2266 35.7734 80.8242 39 80.8242C42.2266 80.8242 44.8242 78.2266 44.8242 75C44.8242 71.7734 42.2266 69.1758 39 69.1758ZM39 79.6758C36.4297 79.6758 34.3242 77.5703 34.3242 75C34.3242 72.4297 36.4297 70.3242 39 70.3242C41.5703 70.3242 43.6758 72.4297 43.6758 75C43.6758 77.5703 41.5703 79.6758 39 79.6758Z"
		fill="var(--primary)" fill-opacity="0.25" />
	<rect x="54" y="18" width="50" height="6" rx="2" fill="var(--primary)" fill-opacity="0.25" />
	<path
		d="M39 15.1758C35.7734 15.1758 33.1758 17.7734 33.1758 21C33.1758 24.2266 35.7734 26.8242 39 26.8242C42.2266 26.8242 44.8242 24.2266 44.8242 21C44.8242 17.7734 42.2266 15.1758 39 15.1758ZM39 25.6758C36.4297 25.6758 34.3242 23.5703 34.3242 21C34.3242 18.4297 36.4297 16.3242 39 16.3242C41.5703 16.3242 43.6758 18.4297 43.6758 21C43.6758 23.5703 41.5703 25.6758 39 25.6758Z"
		fill="var(--primary)" fill-opacity="0.25" />
	<rect x="54" y="54" width="60" height="6" rx="2" fill="var(--primary)" fill-opacity="0.25" />
	<path
		d="M39 51.1758C35.7734 51.1758 33.1758 53.7734 33.1758 57C33.1758 60.2266 35.7734 62.8242 39 62.8242C42.2266 62.8242 44.8242 60.2266 44.8242 57C44.8242 53.7734 42.2266 51.1758 39 51.1758ZM39 61.6758C36.4297 61.6758 34.3242 59.5703 34.3242 57C34.3242 54.4297 36.4297 52.3242 39 52.3242C41.5703 52.3242 43.6758 54.4297 43.6758 57C43.6758 59.5703 41.5703 61.6758 39 61.6758Z"
		fill="var(--primary)" fill-opacity="0.25" />
</svg>
`,ZG=Ne({id:"select-radio",name:"$t:interfaces.select-radio.radio-buttons",description:"$t:interfaces.select-radio.description",icon:"radio_button_checked",component:QG,types:["string"],recommendedDisplays:["badge"],group:"selection",preview:XG,options:[{field:"choices",type:"json",name:"$t:choices",meta:{width:"full",interface:"list",options:{template:"{{ text }}",fields:[{field:"text",type:"string",name:"$t:text",meta:{width:"half",interface:"input"}},{field:"value",type:"string",name:"$t:value",meta:{width:"half",interface:"input",options:{font:"monospace"}}}]}}},{field:"iconOn",name:"$t:icon_on",type:"string",meta:{width:"half",interface:"select-icon"},schema:{default_value:"radio_button_checked"}},{field:"iconOff",name:"$t:icon_off",type:"string",meta:{width:"half",interface:"select-icon"},schema:{default_value:"radio_button_unchecked"}},{field:"color",name:"$t:color",type:"string",meta:{width:"half",interface:"select-color"}},{field:"allowOther",name:"$t:interfaces.select-dropdown.allow_other",type:"string",meta:{width:"half",interface:"boolean",options:{label:"$t:interfaces.select-dropdown.allow_other_label"}},schema:{default_value:!1}}]}),YG=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:ZG});const xG=z({props:{value:{type:Number,default:null},disabled:{type:Boolean,default:!1},minValue:{type:Number,default:0},maxValue:{type:Number,default:100},stepInterval:{type:Number,default:1},alwaysShowValue:{type:Boolean,default:!1}},emits:["input"]});function eJ(e,t,l,n,s,u){const o=c("v-slider");return m(),S(o,{"model-value":e.value,disabled:e.disabled,min:e.minValue,max:e.maxValue,step:e.stepInterval,"always-show-value":e.alwaysShowValue,"show-thumb-label":"","show-ticks":"","onUpdate:modelValue":t[0]||(t[0]=i=>e.$emit("input",i))},null,8,["model-value","disabled","min","max","step","always-show-value"])}var tJ=N(xG,[["render",eJ],["__scopeId","data-v-26b36e86"]]),nJ=Ne({id:"slider",name:"$t:interfaces.slider.slider",description:"$t:interfaces.slider.description",icon:"linear_scale",component:tJ,types:["integer","decimal","float","bigInteger"],group:"other",options:[{field:"minValue",name:"$t:interfaces.input.minimum_value",type:"integer",meta:{width:"half",interface:"input"}},{field:"maxValue",name:"$t:interfaces.input.maximum_value",type:"integer",meta:{width:"half",interface:"input"}},{field:"stepInterval",name:"$t:interfaces.input.step_interval",type:"integer",meta:{width:"half",interface:"input"}},{field:"alwaysShowValue",name:"$t:interfaces.slider.always_show_value",type:"boolean",meta:{width:"half",interface:"boolean"}}]}),lJ=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:nJ});const oJ=z({props:{disabled:{type:Boolean,default:!1},value:{type:Array,default:null},placeholder:{type:String,default:null},whitespace:{type:String,default:null},capitalization:{type:String,default:null},alphabetize:{type:Boolean,default:!1},iconLeft:{type:String,default:null},iconRight:{type:String,default:"local_offer"},presets:{type:Array,default:null},allowCustom:{type:Boolean,default:!0}},emits:["input"],setup(e,{emit:t}){const{t:l}=te(),n=V(()=>e.presets!==null?i(e.presets):[]),s=E(i(e.value||[]));ye(()=>e.value,_=>{Array.isArray(_)&&(s.value=i(_)),_===null&&(s.value=[])});const u=V(()=>{let _=i(s.value);return e.allowCustom||(_=_.filter(g=>n.value.includes(g))),_}),o=V(()=>u.value.filter(_=>!n.value.includes(_)));function i(_){return _=_.map(g=>{g=g.trim(),e.capitalization==="uppercase"&&(g=g.toUpperCase()),e.capitalization==="lowercase"&&(g=g.toLowerCase());const w=e.whitespace===null?" ":e.whitespace;return e.capitalization==="auto-format"&&(g=Et(g,new RegExp(w))),g=g.replace(/ +/g,w),g}),e.alphabetize&&(_=_.concat().sort()),_=[...new Set(_)],_}return{t:l,onInput:d,addTag:f,removeTag:v,toggleTag:p,presetVals:n,customVals:o,selectedVals:u};function d(_){_.target&&(_.key==="Enter"||_.key===",")&&(_.preventDefault(),f(_.target.value),_.target.value="")}function p(_){u.value.includes(_)?v(_):f(_)}function f(_){!_||_===""||(_=_.trim(),s.value.push(_),y())}function v(_){s.value=s.value.filter(g=>g!==_),y()}function y(){t("input",u.value)}}}),aJ={class:"interface-tags"},iJ={key:1,class:"tags"},sJ={key:0,class:"presets tag-container"},rJ={key:1,class:"custom tag-container"};function dJ(e,t,l,n,s,u){const o=c("v-icon"),i=c("v-input"),d=c("v-chip");return m(),I("div",aJ,[e.allowCustom?(m(),S(i,{key:0,placeholder:e.placeholder||e.t("interfaces.tags.add_tags"),disabled:e.disabled,onKeydown:e.onInput},xe({append:r(()=>[a(o,{name:e.iconRight},null,8,["name"])]),_:2},[e.iconLeft?{name:"prepend",fn:r(()=>[a(o,{name:e.iconLeft},null,8,["name"])])}:void 0]),1032,["placeholder","disabled","onKeydown"])):R("",!0),e.presetVals.length>0||e.customVals.length>0?(m(),I("div",iJ,[e.presetVals.length>0?(m(),I("span",sJ,[(m(!0),I(ae,null,be(e.presetVals,p=>(m(),S(d,{key:p,class:ue(["tag",{inactive:!e.selectedVals.includes(p)}]),disabled:e.disabled,small:"",label:"",clickable:"",onClick:f=>e.toggleTag(p)},{default:r(()=>[D(b(p),1)]),_:2},1032,["class","disabled","onClick"]))),128))])):R("",!0),e.customVals.length>0&&e.allowCustom?(m(),I("span",rJ,[e.presetVals.length>0?(m(),S(o,{key:0,class:"custom-tags-delimeter",name:"chevron_right"})):R("",!0),(m(!0),I(ae,null,be(e.customVals,p=>(m(),S(d,{key:p,disabled:e.disabled,class:"tag",small:"",label:"",clickable:"",onClick:f=>e.removeTag(p)},{default:r(()=>[D(b(p),1)]),_:2},1032,["disabled","onClick"]))),128))])):R("",!0)])):R("",!0)])}var uJ=N(oJ,[["render",dJ],["__scopeId","data-v-5f85ff84"]]),cJ=Ne({id:"tags",name:"$t:interfaces.tags.tags",description:"$t:interfaces.tags.description",icon:"local_offer",component:uJ,types:["json","csv"],group:"standard",options:[{field:"presets",name:"$t:presets",type:"string",meta:{width:"full",interface:"tags"}},{field:"placeholder",name:"$t:placeholder",type:"string",meta:{width:"full",interface:"input",options:{placeholder:"$t:enter_a_placeholder"}}},{field:"alphabetize",name:"$t:interfaces.tags.alphabetize",type:"boolean",meta:{width:"half",interface:"boolean",options:{label:"$t:interfaces.tags.alphabetize_label"}},schema:{default_value:!1}},{field:"allowCustom",name:"$t:interfaces.select-dropdown.allow_other",type:"boolean",meta:{width:"half",interface:"boolean",options:{label:"$t:interfaces.select-dropdown.allow_other_label"}},schema:{default_value:!1}},{field:"whitespace",name:"$t:interfaces.tags.whitespace",type:"string",meta:{width:"half",interface:"select-dropdown",options:{allowNone:!0,choices:[{text:"$t:interfaces.tags.hyphen",value:"-"},{text:"$t:interfaces.tags.underscore",value:"_"},{text:"$t:interfaces.tags.remove",value:""}]}}},{field:"capitalization",name:"$t:interfaces.tags.capitalization",type:"string",meta:{width:"half",interface:"select-dropdown",options:{allowNone:!0,choices:[{text:"$t:interfaces.tags.uppercase",value:"uppercase"},{text:"$t:interfaces.tags.lowercase",value:"lowercase"},{text:"$t:interfaces.tags.auto_formatter",value:"auto-format"}]}}},{field:"iconLeft",name:"$t:icon_left",type:"string",meta:{width:"half",interface:"select-icon"}},{field:"iconRight",name:"$t:icon_right",type:"string",meta:{width:"half",interface:"select-icon"}}],recommendedDisplays:["labels"]}),pJ=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:cJ});const mJ=z({components:{},props:{modelValue:{type:String,default:null},items:{type:Array,default:()=>[]},secondary:{type:Boolean,default:!1}},emits:["update:modelValue"],setup(e){return{displayValue:V(()=>{var n;const l=e.items.find(s=>s.value===e.modelValue);return(n=l==null?void 0:l.text)!=null?n:e.modelValue})}}}),fJ=["onClick"],vJ={class:"display-value"},_J={class:"append-slot"},yJ={class:"start"},gJ={class:"end"};function hJ(e,t,l,n,s,u){const o=c("v-icon"),i=c("v-progress-linear"),d=c("v-list-item"),p=c("v-list"),f=c("v-menu"),v=we("tooltip");return m(),S(f,{attached:"",class:ue(["language-select",{secondary:e.secondary}])},{activator:r(({toggle:y,active:_})=>[C("button",{class:"toggle",onClick:y},[a(o,{class:"translate",name:"translate"}),C("span",vJ,b(e.displayValue),1),a(o,{name:"expand_more",class:ue({active:_})},null,8,["class"]),C("span",_J,[ge(e.$slots,"append",{},void 0,!0)])],8,fJ)]),default:r(()=>[a(p,null,{default:r(()=>[(m(!0),I(ae,null,be(e.items,(y,_)=>(m(),S(d,{key:_,onClick:g=>e.$emit("update:modelValue",y.value)},{default:r(()=>[C("div",yJ,[C("div",{class:ue(["dot",{show:y.edited}])},null,2),D(" "+b(y.text),1)]),C("div",gJ,[ne(a(i,{value:y.progress,rounded:"",colorful:""},null,8,["value"]),[[v,`${Math.round(y.current/y.max*100)}%`]])])]),_:2},1032,["onClick"]))),128))]),_:1})]),_:3},8,["class"])}var bJ=N(mJ,[["render",hJ],["__scopeId","data-v-0ebb08d8"]]);function $J(e={throttle:100}){const t=E(0),l=E(0);function n(){t.value=window.innerWidth,l.value=window.innerHeight}const s=M.exports.throttle(n,e.throttle);return Zo(n),st(()=>{window.addEventListener("resize",s,{passive:!0})}),Vt(()=>{window.removeEventListener("resize",s)}),{width:t,height:l}}const wJ=z({components:{LanguageSelect:bJ},props:{collection:{type:String,required:!0},field:{type:String,required:!0},primaryKey:{type:[Number,String],required:!0},languageField:{type:String,default:null},value:{type:Array,default:null}},emits:["input"],setup(e,{emit:t}){const{collection:l,field:n}=Ue(e),s=Te(),u=mt(),{t:o}=te(),i=Xe(),{width:d}=$J(),p=E(!1),f=E(),v=E(),{info:y}=ot(l);ye(p,x=>{const ee=P.value;x&&v.value===f.value&&(v.value=ee[0].value===f.value?ee[1].value:ee[0].value)});const{junction:_,junctionCollection:g,junctionPrimaryKeyField:w,relation:h,relationCollection:k,relationPrimaryKeyField:F}=sl(l,n),A=V(()=>h.value?h.value.field:null),{languageOptions:P,loading:L}=fe(),{items:O,firstItem:U,loading:T,updateValue:B,secondItem:q,firstItemInitial:K,secondItemInitial:H}=X(),Y=V(()=>g.value===null?[]:s.getFieldsForCollection(g.value.collection)),J=V(()=>d.value>960&&P.value.length>1),re=V(()=>J.value&&p.value);return{collectionInfo:y,splitView:p,firstLang:f,secondLang:v,t:o,languageOptions:P,fields:Y,translationsRelation:_,translationsCollection:g,translationsPrimaryKeyField:w,languagesRelation:h,languagesCollection:k,languagesPrimaryKeyField:F,translationsLanguageField:A,items:O,firstItem:U,secondItem:q,updateValue:B,relationsStore:u,firstItemInitial:K,secondItemInitial:H,splitViewAvailable:J,splitViewEnabled:re,languagesLoading:L,valuesLoading:T};function fe(){const x=E([]),ee=E(!1),se=E(null);return ye(k,G,{immediate:!0}),{languageOptions:V(()=>{const le=A.value;if(le===null)return[];const Z=Y.value.filter(ve=>{var Q;return ve.type!=="alias"&&((Q=ve.meta)==null?void 0:Q.hidden)===!1&&ve.meta.readonly===!1}),ce=Z.length;return x.value.map(ve=>{var _e,Ce,De;if(F.value===null)return ve;const Q=ve[F.value.field],ie=(_e=O.value.find(Ie=>Ie[le]===Q))!=null?_e:{},de=(Ce=e.value)==null?void 0:Ce.find(Ie=>typeof Ie=="object"&&Ie[le]===Q),me=oe(oe({},ie),de!=null?de:{}),he=Z.filter(Ie=>Ie.field in me&&Nt(me[Ie.field])).length;return{text:ve[(De=e.languageField)!=null?De:F.value.field],value:Q,edited:de!==void 0,progress:Math.round(he/ce*100),max:ce,current:he}})}),loading:ee,error:se};async function G(){var Z,ce,ve,Q,ie,de,me;if(!k.value||!F.value)return;const le=new Set;e.languageField!==null&&le.add(e.languageField),le.add(F.value.field),ee.value=!0;try{const he=await pe.get(`/items/${k.value.collection}`,{params:{fields:Array.from(le),limit:-1,sort:(Z=e.languageField)!=null?Z:F.value.field}});if(x.value=he.data.data,!f.value){const _e=(ve=(ce=he.data.data)==null?void 0:ce.find(Ce=>Ce[F.value.field]===i.currentUser.language))==null?void 0:ve[F.value.field];f.value=_e||((ie=(Q=he.data.data)==null?void 0:Q[0])==null?void 0:ie[F.value.field])}v.value||(v.value=(me=(de=he.data.data)==null?void 0:de[1])==null?void 0:me[F.value.field])}catch(he){Se(he)}finally{ee.value=!1}}}function X(){const x=E([]),ee=E(!1),se=E(null),W=V(()=>Q(f)),G=V(()=>Q(v)),le=V(()=>ve(f)),Z=V(()=>ve(v));ye(()=>e.value,(me,he)=>{me&&me!==he&&(me==null?void 0:me.every(_e=>typeof _e=="string"||typeof _e=="number"))&&ie(),(me===null||me.length===0)&&(x.value=[])},{immediate:!0});const ce=V(()=>{var _e,Ce;const me=(_e=w.value)==null?void 0:_e.field;if(!me)return[];const he=[...x.value.map(De=>De[me])];return(Ce=e.value)==null||Ce.forEach(De=>{if(typeof De=="object")if(me in De){const Ie=he.findIndex(je=>je===De[me]);he[Ie]=De}else he.push(De)}),he});return{items:x,firstItem:W,updateValue:de,secondItem:G,firstItemInitial:le,secondItemInitial:Z,loading:ee,error:se};function ve(me){var Ce;const he=pl(me),_e=A.value;return _e===null?{}:(Ce=x.value.find(De=>De[_e]===he))!=null?Ce:{}}function Q(me){var Ce,De;const he=pl(me),_e=A.value;return _e===null?{}:(De=(Ce=e.value)==null?void 0:Ce.find(Ie=>typeof Ie=="object"&&Ie[_e]===he))!=null?De:{}}async function ie(){var me;if(!(!((me=_.value)==null?void 0:me.field)||e.primaryKey==="+")){ee.value=!0;try{const he=await pe.get(`/items/${g.value.collection}`,{params:{fields:"*",limit:-1,filter:{[_.value.field]:{_eq:e.primaryKey}}}});x.value=he.data.data}catch(he){se.value=he,Se(he)}finally{ee.value=!1}}}function de(me,he){var nt,Pe;const _e=(nt=w.value)==null?void 0:nt.field,Ce=A.value,De=ve(he),Ie=M.exports.assign({},De,me);if(!_e||!Ce)return;let je=M.exports.cloneDeep((Pe=ce.value)!=null?Pe:[]);if(_e in Ie){const Re=x.value.find(Le=>Le[Ce]===he);je=je.map(Le=>typeof Le=="number"||typeof Le=="string"?Ie[_e]===Le?Ie:Le:Ie[_e]===Le[_e]?M.exports.isEqual(Re,oe(oe({},Re),Ie))?Ie[_e]:Ie:Le)}else{const Re=je.findIndex(Le=>typeof Le=="object"&&Le[Ce]===he);Re!==-1?Object.keys(Ie).length===1&&Ce in Ie?je.splice(Re,1):je[Re]=Ie:je.push(ke(oe({},Ie),{[Ce]:he}))}t("input",je)}}}});function kJ(e,t,l,n,s,u){var v,y;const o=c("v-icon"),i=c("language-select"),d=c("v-form"),p=c("v-divider"),f=we("tooltip");return m(),I("div",{class:ue(["translations",{split:e.splitViewEnabled}])},[C("div",{class:ue(["primary",e.splitViewEnabled?"half":"full"])},[a(i,{modelValue:e.firstLang,"onUpdate:modelValue":t[1]||(t[1]=_=>e.firstLang=_),items:e.languageOptions},{append:r(()=>[e.splitViewAvailable&&!e.splitViewEnabled?ne((m(),S(o,{key:0,name:"flip",clickable:"",onClick:t[0]||(t[0]=Ae(_=>e.splitView=!0,["stop"]))},null,512)),[[f,e.t("interfaces.translations.toggle_split_view")]]):R("",!0)]),_:1},8,["modelValue","items"]),a(d,{loading:e.valuesLoading,fields:e.fields,"model-value":e.firstItem,"initial-values":e.firstItemInitial,badge:(v=e.languageOptions.find(_=>_.value===e.firstLang))==null?void 0:v.text,"onUpdate:modelValue":t[2]||(t[2]=_=>e.updateValue(_,e.firstLang))},null,8,["loading","fields","model-value","initial-values","badge"]),a(p)],2),e.splitViewEnabled?(m(),I("div",{key:0,class:ue(["secondary",e.splitViewEnabled?"half":"full"])},[a(i,{modelValue:e.secondLang,"onUpdate:modelValue":t[4]||(t[4]=_=>e.secondLang=_),items:e.languageOptions,secondary:""},{append:r(()=>[ne(a(o,{name:"close",clickable:"",onClick:t[3]||(t[3]=Ae(_=>e.splitView=!e.splitView,["stop"]))},null,512),[[f,e.t("interfaces.translations.toggle_split_view")]])]),_:1},8,["modelValue","items"]),a(d,{loading:e.valuesLoading,"initial-values":e.secondItemInitial,fields:e.fields,badge:(y=e.languageOptions.find(_=>_.value===e.secondLang))==null?void 0:y.text,"model-value":e.secondItem,"onUpdate:modelValue":t[5]||(t[5]=_=>e.updateValue(_,e.secondLang))},null,8,["loading","initial-values","fields","badge","model-value"]),a(p)],2)):R("",!0)],2)}var CJ=N(wJ,[["render",kJ],["__scopeId","data-v-89c31c92"]]),SJ=Ne({id:"translations",name:"$t:translations",icon:"replay",types:["alias"],localTypes:["translations"],group:"relational",relational:!0,component:CJ,options:({relations:e})=>{var s;const t=Te(),l=(s=e.m2o)==null?void 0:s.related_collection;let n=[];return l&&(n=t.getFieldsForCollection(l).map(u=>({text:u.name,value:u.field}))),[{field:"languageField",type:"string",name:"$t:interfaces.translations.language_field",meta:{interface:"select-dropdown",options:{choices:n}}}]}}),VJ=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:SJ});const FJ=z({props:{value:{type:String,default:null},disabled:{type:Boolean,default:!1},includeSystem:{type:Boolean,default:!1}},emits:["input"],setup(e){const{t}=te(),l=Ke(),n=V(()=>[...l.collections.filter(u=>u.collection.startsWith("directus_")===!1),...e.includeSystem?l.crudSafeSystemCollections:[]]);return{items:V(()=>n.value.map(u=>({text:u.name,value:u.collection}))),t}}});function AJ(e,t,l,n,s,u){const o=c("v-select");return m(),S(o,{"model-value":e.value,disabled:e.disabled,items:e.items,placeholder:e.t("select_a_collection"),"onUpdate:modelValue":t[0]||(t[0]=i=>e.$emit("input",i))},null,8,["model-value","disabled","items","placeholder"])}var IJ=N(FJ,[["render",AJ]]),EJ=Ne({id:"system-collection",name:"$t:interfaces.system-collection.collection",description:"$t:interfaces.system-collection.description",icon:"featured_play_list",component:IJ,types:["string"],options:[{field:"includeSystem",name:"$t:system",type:"boolean",meta:{width:"half",interface:"boolean",options:{label:"$t:interfaces.system-collection.include_system_collections"}},schema:{default_value:!1}}],system:!0,recommendedDisplays:["collection"]}),DJ=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:EJ});const TJ=z({props:{value:{type:Array,default:null},disabled:{type:Boolean,default:!1},includeSystem:{type:Boolean,default:!1}},emits:["input"],setup(e){const{t}=te(),l=Ke(),n=V(()=>e.includeSystem?l.collections:l.collections.filter(u=>u.collection.startsWith("directus_")===!1)),s=V(()=>n.value.map(u=>({text:u.name,value:u.collection})));return{t,items:s}}});function PJ(e,t,l,n,s,u){const o=c("v-notice"),i=c("interface-select-multiple-checkbox");return e.items.length===0?(m(),S(o,{key:0},{default:r(()=>[D(b(e.t("no_collections")),1)]),_:1})):(m(),S(i,{key:1,choices:e.items,value:e.value,disabled:e.disabled,onInput:t[0]||(t[0]=d=>e.$emit("input",d))},null,8,["choices","value","disabled"]))}var LJ=N(TJ,[["render",PJ]]),OJ=Ne({id:"system-collections",name:"$t:interfaces.system-collections.collections",description:"$t:interfaces.system-collections.description",icon:"featured_play_list",component:LJ,types:["json","csv"],options:[{field:"includeSystem",name:"$t:system",type:"boolean",meta:{width:"half",interface:"boolean",options:{label:"$t:interfaces.system-collections.include_system_collections"}},schema:{default_value:!1}}],system:!0,recommendedDisplays:["labels"]}),jJ=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:OJ});const RJ=z({props:{disabled:{type:Boolean,default:!1},value:{type:String,default:null},collectionField:{type:String,default:null},collectionName:{type:String,default:null}},emits:["input"],setup(e){const{t}=te(),l=Ke(),n=ht("values",E({})),s=V(()=>{if(!e.collectionField)return e.collectionName?e.collectionName:null;const u=n.value[e.collectionField];return!!l.collections.find(i=>i.collection===u)===!1?null:u});return{t,collection:s}}}),MJ={class:"system-display-template"};function UJ(e,t,l,n,s,u){const o=c("v-notice"),i=c("v-field-template");return m(),I("div",MJ,[e.collection===null?(m(),S(o,{key:0,type:"info"},{default:r(()=>[D(b(e.t("interfaces.system-display-template.select_a_collection")),1)]),_:1})):(m(),S(i,{key:1,collection:e.collection,"model-value":e.value,disabled:e.disabled,"onUpdate:modelValue":t[0]||(t[0]=d=>e.$emit("input",d))},null,8,["collection","model-value","disabled"]))])}var NJ=N(RJ,[["render",UJ]]),BJ=Ne({id:"system-display-template",name:"$t:interfaces.system-display-template.display-template",description:"$t:interfaces.system-display-template.description",icon:"arrow_drop_down_circle",component:NJ,types:["string"],system:!0,options:[{field:"collectionField",name:"$t:interfaces.system-display-template.collection_field",type:"string",meta:{width:"full",interface:"input"},schema:{default_value:null}}]}),qJ=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:BJ});const zJ=z({props:{collectionField:{type:String,default:null},collection:{type:String,default:null},typeAllowList:{type:Array,default:()=>[]},value:{type:String,default:null},disabled:{type:Boolean,default:!1},placeholder:{type:String,default:null},allowNone:{type:Boolean,default:!1},allowPrimaryKey:{type:Boolean,default:!1}},emits:["input"],setup(e,{emit:t}){const{t:l}=te(),n=Te(),s=ht("values",E({})),u=V(()=>s.value[e.collectionField]||e.collection),o=V(()=>!e.collectionField&&!e.collection?[]:n.getFieldsForCollection(u.value));ye(u,(d,p)=>{p!==null&&d!==p&&t("input",null)});const i=V(()=>o.value.map(d=>{var f;let p=!1;return e.allowPrimaryKey===!1&&((f=d==null?void 0:d.schema)==null?void 0:f.is_primary_key)===!0&&(p=!0),e.typeAllowList.length>0&&e.typeAllowList.includes(d.type)===!1&&(p=!0),{text:d.name,value:d.field,disabled:p}}));return{t:l,selectItems:i,values:s,fields:o}}});function KJ(e,t,l,n,s,u){const o=c("v-notice"),i=c("v-select");return!e.collectionField&&!e.collection?(m(),S(o,{key:0,type:"warning"},{default:r(()=>[D(b(e.t("collection_field_not_setup")),1)]),_:1})):e.selectItems.length===0?(m(),S(o,{key:1,type:"warning"},{default:r(()=>[D(b(e.t("select_a_collection")),1)]),_:1})):(m(),S(i,{key:2,"show-deselect":e.allowNone,"model-value":e.value,disabled:e.disabled,items:e.selectItems,placeholder:e.placeholder||e.t("select_a_field"),"onUpdate:modelValue":t[0]||(t[0]=d=>e.$emit("input",d))},null,8,["show-deselect","model-value","disabled","items","placeholder"]))}var HJ=N(zJ,[["render",KJ]]),WJ=Ne({id:"system-field",name:"$t:field",icon:"box",component:HJ,types:["string"],options:[],system:!0}),GJ=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:WJ});const JJ=z({props:{collectionField:{type:String,default:null},collection:{type:String,default:null},value:{type:Array,default:null},disabled:{type:Boolean,default:!1},placeholder:{type:String,default:null},allowNone:{type:Boolean,default:!1}},emits:["input"],setup(e){const{t}=te(),l=ht("values",E({})),n=V(()=>l.value[e.collectionField]||e.collection),{treeList:s,loadFieldRelations:u}=il(n);return{t,values:l,treeList:s,chosenCollection:n,loadFieldRelations:u}}}),QJ={key:2,class:"system-field-tree"};function XJ(e,t,l,n,s,u){const o=c("v-notice"),i=c("v-checkbox-tree");return!e.collectionField&&!e.collection?(m(),S(o,{key:0,type:"warning"},{default:r(()=>[D(b(e.t("collection_field_not_setup")),1)]),_:1})):e.chosenCollection?(m(),I("div",QJ,[a(i,{"model-value":e.value,disabled:e.disabled,choices:e.treeList,"item-text":"name","item-value":"key","value-combining":"exclusive","onUpdate:modelValue":t[0]||(t[0]=d=>e.$emit("input",d)),onGroupToggle:t[1]||(t[1]=d=>e.loadFieldRelations(d.value,1))},null,8,["model-value","disabled","choices"])])):(m(),S(o,{key:1,type:"warning"},{default:r(()=>[D(b(e.t("select_a_collection")),1)]),_:1}))}var ZJ=N(JJ,[["render",XJ],["__scopeId","data-v-e9fff2d6"]]),YJ=Ne({id:"system-field-tree",name:"$t:field",icon:"box",component:ZJ,types:["string"],options:[],system:!0}),xJ=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:YJ});const eQ=z({props:{is:{type:String,required:!0},type:{type:String,required:!0},value:{type:[String,Number,Object,Boolean,Array],default:null},focus:{type:Boolean,default:!0},choices:{type:Array,default:()=>[]}},emits:["input"],setup(e,{emit:t}){const l=E(),{t:n}=te(),s=V(()=>e.value===null||e.value===void 0?null:typeof e.value=="string"&&e.value.length>25?e.value.substring(0,22)+"...":e.value),u=V(()=>{var p;return(((p=e.value)==null?void 0:p.toString().length)||2)+1+"ch"}),o=V(()=>{switch(e.type){case"integer":case"bigInteger":return"[+-]?[0-9]+";case"decimal":case"float":return"[+-]?[0-9]+\\.?[0-9]*";case"uuid":return"\\$CURRENT_USER|\\$CURRENT_ROLE|[a-fA-F0-9]{8}-[a-fA-F0-9]{4}-[a-fA-F0-9]{4}-[a-fA-F0-9]{4}-[a-fA-F0-9]{12}";default:return""}});st(()=>{var p;e.focus&&((p=l.value)==null||p.focus())});const i=M.exports.debounce(p=>d(p),250);return{displayValue:s,width:u,t:n,emitValueDebounced:i,inputEl:l,inputPattern:o};function d(p){p===""?t("input",null):(typeof p!="string"||new RegExp(o.value).test(p))&&t("input",p)}}}),tQ=["pattern","value"],nQ=["onClick"];function lQ(e,t,l,n,s,u){const o=c("v-icon"),i=c("v-select"),d=c("v-menu");return e.type==="boolean"?(m(),S(o,{key:0,name:e.value===null?"indeterminate_check_box":e.value?"check_box":"check_box_outline_blank",clickable:"",class:"preview",small:"",onClick:t[0]||(t[0]=p=>e.$emit("input",!e.value))},null,8,["name"])):e.is==="interface-input"?(m(),I("input",{key:1,ref:"inputEl",type:"text",pattern:e.inputPattern,value:e.value,style:ze({width:e.width}),placeholder:"--",onInput:t[1]||(t[1]=p=>e.emitValueDebounced(p.target.value))},null,44,tQ)):e.is==="select"?(m(),S(i,{key:2,inline:"",items:e.choices,"model-value":e.value,"allow-other":"",placeholder:e.t("select"),"onUpdate:modelValue":t[2]||(t[2]=p=>e.emitValueDebounced(p))},null,8,["items","model-value","placeholder"])):(m(),S(d,{key:3,"close-on-content-click":!1,"show-arrow":!0,placement:"bottom-start"},{activator:r(({toggle:p})=>[e.type==="geometry"||e.type==="json"?(m(),S(o,{key:0,class:"preview",name:e.type==="json"?"integration_instructions":"map",onClick:p},null,8,["name","onClick"])):(m(),I("div",{key:1,class:"preview",onClick:p},b(e.displayValue),9,nQ))]),default:r(()=>[C("div",{class:ue(["input",e.type])},[(m(),S(Be(e.is),{class:"input-component",small:"",type:e.type,value:e.value,onInput:t[3]||(t[3]=p=>e.emitValueDebounced(p))},null,8,["type","value"]))],2)]),_:1}))}var oQ=N(eQ,[["render",lQ],["__scopeId","data-v-c23b6dde"]]);function dl(e){return Object.keys(e)[0]}function sn(e){const t=dl(e);if(t.startsWith("_"))return"";const l=sn(e[t]);return l!==""?`${t}.${l}`:t}function jn(e){return dl(M.exports.get(e,sn(e)))}function No(e,t,l){return n(e.split("."));function n(s){const u=s.shift();return u!==void 0?{[u]:n(s)}:{[t]:l}}}const aQ=z({components:{InputComponent:oQ},props:{field:{type:Object,required:!0},collection:{type:String,required:!0}},emits:["update:field"],setup(e,{emit:t}){const l=Te(),{t:n}=te(),s=V(()=>l.getField(e.collection,sn(e.field))),u=V(()=>{var p,f,v,y;return((v=(f=(p=s.value)==null?void 0:p.meta)==null?void 0:f.options)==null?void 0:v.choices)?"select":"interface-"+{bigInteger:"input",binary:"input",boolean:"boolean",date:"datetime",dateTime:"datetime",decimal:"input",float:"input",integer:"input",json:"input-code",string:"input",text:"input-multiline",time:"datetime",timestamp:"datetime",uuid:"input",csv:"input",hash:"input-hash",geometry:"map"}[((y=s.value)==null?void 0:y.type)||"string"]}),o=V({get(){const d=sn(e.field),p=jn(e.field),f=M.exports.get(e.field,`${d}.${p}`);return["_in","_nin"].includes(jn(e.field))?[...f.filter(v=>v!==null&&v!==""),null]:f},set(d){const p=sn(e.field),f=jn(e.field);let v;["_in","_nin"].includes(f)?v=d.filter(y=>y!==null&&y!==""):v=d,t("update:field",No(p,f,v))}});function i(d,p){let f=Array.isArray(o.value)?M.exports.clone(o.value):new Array(d+1);f[d]=p,o.value=f}return{t:n,fieldInfo:s,interfaceType:u,value:o,setValueAt:i,getComparator:jn}}}),iQ={class:"and"};function sQ(e,t,l,n,s,u){var i,d,p,f,v,y;const o=c("input-component");return["_eq","_neq","_lt","_gt","_lte","_gte","_contains","_ncontains","_starts_with","_nstarts_with","_ends_with","_nends_with"].includes(e.getComparator(e.field))?(m(),S(o,{key:0,is:e.interfaceType,choices:(d=(i=e.fieldInfo.meta)==null?void 0:i.options)==null?void 0:d.choices,type:e.fieldInfo.type,value:e.value,onInput:t[0]||(t[0]=_=>e.value=_)},null,8,["is","choices","type","value"])):["_in","_nin"].includes(e.getComparator(e.field))?(m(),I("div",{key:1,class:ue(["list",{moveComma:e.interfaceType==="interface-input"}])},[(m(!0),I(ae,null,be(e.value,(_,g)=>{var w,h;return m(),I("div",{key:g,class:"value"},[a(o,{is:e.interfaceType,type:e.fieldInfo.type,value:_,focus:!1,choices:(h=(w=e.fieldInfo.meta)==null?void 0:w.options)==null?void 0:h.choices,onInput:k=>e.setValueAt(g,k)},null,8,["is","type","value","choices","onInput"])])}),128))],2)):["_between","_nbetween"].includes(e.getComparator(e.field))?(m(),I(ae,{key:2},[a(o,{is:e.interfaceType,choices:(f=(p=e.fieldInfo.meta)==null?void 0:p.options)==null?void 0:f.choices,type:e.fieldInfo.type,value:e.value[0],onInput:t[1]||(t[1]=_=>e.setValueAt(0,_))},null,8,["is","choices","type","value"]),C("div",iQ,b(e.t("interfaces.filter.and")),1),a(o,{is:e.interfaceType,choices:(y=(v=e.fieldInfo.meta)==null?void 0:v.options)==null?void 0:y.choices,type:e.fieldInfo.type,value:e.value[1],onInput:t[2]||(t[2]=_=>e.setValueAt(1,_))},null,8,["is","choices","type","value"])],64)):R("",!0)}var rQ=N(aQ,[["render",sQ],["__scopeId","data-v-e8973d2e"]]);const dQ=z({name:"Nodes",components:{Draggable:kt,InputGroup:rQ},props:{filter:{type:Object,required:!0},collection:{type:String,required:!0},depth:{type:Number,default:1},inline:{type:Boolean,default:!1}},emits:["remove-node","update:filter","change"],setup(e,{emit:t}){const{collection:l}=Ue(e),n=Oe(e,"filter",t),{treeList:s,loadFieldRelations:u}=il(l),o=Te(),{t:i}=te(),d=V({get(){return e.filter.map((h,k)=>{const F=dl(h),A=F.startsWith("_")===!1;return A?{id:k,isField:A,name:F,field:sn(h),comparator:jn(h),node:h}:{id:k,name:F,isField:A,node:h}})},set(h){t("update:filter",h.map(k=>k.node))}});return{fieldOptions:s,getCompareOptions:w,updateField:_,updateComparator:y,t:i,replaceNode:g,toggleLogic:v,loadFieldRelations:u,getNodeName:dl,getField:sn,getComparator:jn,filterInfo:d,getIndex:f,getFieldPreview:p,filterSync:n};function p(h){const F=sn(h).split(".");return F.map((P,L)=>{var T;const O=F.slice(0,L),U=o.getField(e.collection,[...O,P].join("."));return(T=U==null?void 0:U.name)!=null?T:P}).join(" -> ")}function f(h){return e.filter.findIndex(k=>k===h)}function v(h){const k=d.value[h];d.value[h].isField||("_and"in k.node?n.value=n.value.map((F,A)=>A===h?{_or:k.node._and}:F):n.value=n.value.map((F,A)=>A===h?{_and:k.node._or}:F))}function y(h,k){const F=d.value[h];if(F.isField===!1)return;const A=F.field+"."+F.comparator;let P=M.exports.get(F.node,A);switch(k){case"_in":case"_nin":L(hl(P)||[]);break;case"_between":case"_nbetween":L((hl(P)||[]).slice(0,2));break;case"_null":case"_nnull":case"_empty":case"_nempty":L(!0);break;case"_intersects":case"_nintersects":case"_intersects_bbox":case"_nintersects_bbox":["_intersects","_nintersects","_intersects_bbox","_nintersects_bbox"].includes(F.comparator)?L(P):L(null);break;default:L(Array.isArray(P)?P[0]:P);break}function L(O){F.isField!==!1&&(n.value=n.value.map((U,T)=>T===h?No(F.field,k,O):U))}}function _(h,k){const F=d.value[h],A=o.getField(e.collection,F.name),P=o.getField(e.collection,k);if(F.isField===!1)return;const L=F.field+"."+F.comparator;let O=M.exports.get(F.node,L),U=F.comparator;(A==null?void 0:A.type)!==(P==null?void 0:P.type)&&(O=null,U=w(k)[0].value),n.value=n.value.map((T,B)=>B===h?No(k,U,O):T)}function g(h,k){n.value=n.value.map((F,A)=>A===h?k:F)}function w(h){const k=o.getField(e.collection,h);return k===null?[]:pa(k.type).map(F=>({text:i(`operators.${F}`),value:`_${F}`}))}}}),uQ={class:"row"},cQ={key:0,block:"",class:"node field"},pQ={class:"delete"},mQ={key:1,class:"node logic"},fQ=["onClick"],vQ={class:"text"},_Q={class:"delete"};function yQ(e,t,l,n,s,u){const o=c("v-icon"),i=c("v-select"),d=c("input-group"),p=c("nodes",!0),f=c("draggable"),v=we("tooltip");return m(),S(f,{tag:"ul",draggable:".row",handle:".drag-handle",class:"group",list:e.filterSync,group:{name:"g1"},"item-key":e.getIndex,"swap-threshold":.3,"force-fallback":!0,onChange:t[2]||(t[2]=y=>e.$emit("change"))},{item:r(({element:y,index:_})=>[C("li",uQ,[e.filterInfo[_].isField?(m(),I("div",cQ,[C("div",{class:ue(["header",{inline:e.inline}])},[a(o,{name:"drag_indicator",class:"drag-handle",small:""}),a(i,{inline:"",class:"name","item-text":"name","item-value":"key",placement:"bottom-start","full-width":!1,"model-value":e.filterInfo[_].field,items:e.fieldOptions,mandatory:!1,"groups-clickable":!0,onGroupToggle:t[0]||(t[0]=g=>e.loadFieldRelations(g.value,1)),"onUpdate:modelValue":g=>e.updateField(_,g)},{preview:r(()=>[D(b(e.getFieldPreview(y)),1)]),_:2},1032,["model-value","items","onUpdate:modelValue"]),a(i,{inline:"",class:"comparator",placement:"bottom-start","model-value":e.filterInfo[_].comparator,items:e.getCompareOptions(e.filterInfo[_].field),"onUpdate:modelValue":g=>e.updateComparator(_,g)},null,8,["model-value","items","onUpdate:modelValue"]),a(d,{field:y,collection:e.collection,"onUpdate:field":g=>e.replaceNode(_,g)},null,8,["field","collection","onUpdate:field"]),C("span",pQ,[ne(a(o,{name:"close",small:"",clickable:"",onClick:g=>e.$emit("remove-node",[_])},null,8,["onClick"]),[[v,e.t("delete_label")]])])],2)])):(m(),I("div",mQ,[C("div",{class:ue(["header",{inline:e.inline}])},[a(o,{name:"drag_indicator",class:"drag-handle",small:""}),C("div",{class:ue(["logic-type",{or:e.filterInfo[_].name==="_or"}])},[C("span",{class:"key",onClick:g=>e.toggleLogic(_)},b(e.filterInfo[_].name==="_and"?e.t("interfaces.filter.all"):e.t("interfaces.filter.any")),9,fQ),C("span",vQ,b(e.t("interfaces.filter.of_the_following")),1)],2),C("span",_Q,[ne(a(o,{name:"close",small:"",clickable:"",onClick:g=>e.$emit("remove-node",[_])},null,8,["onClick"]),[[v,e.t("delete_label")]])])],2),a(p,{filter:y[e.filterInfo[_].name],collection:e.collection,depth:e.depth+1,inline:e.inline,onChange:t[1]||(t[1]=g=>e.$emit("change")),onRemoveNode:g=>e.$emit("remove-node",[`${_}.${e.filterInfo[_].name}`,...g]),"onUpdate:filter":g=>e.replaceNode(_,{[e.filterInfo[_].name]:g})},null,8,["filter","collection","depth","inline","onRemoveNode","onUpdate:filter"])]))])]),_:1},8,["list","item-key","swap-threshold"])}var gQ=N(dQ,[["render",yQ],["__scopeId","data-v-1dce46be"]]);const hQ=z({components:{Nodes:gQ},props:{value:{type:Object,default:null},disabled:{type:Boolean,default:!1},collectionName:{type:String,default:null},collectionField:{type:String,default:null},inline:{type:Boolean,default:!1}},emits:["input"],setup(e,{emit:t}){const{t:l}=te(),n=ht("values",E({})),s=V(()=>{var _;return e.collectionName?e.collectionName:(_=n.value[e.collectionField])!=null?_:null}),u=Te(),{treeList:o,loadFieldRelations:i}=il(s),d=V({get(){return!e.value||M.exports.isEmpty(e.value)?[]:dl(e.value)==="_and"?M.exports.cloneDeep(e.value._and):M.exports.cloneDeep([e.value])},set(_){switch(_.length){case 0:t("input",null);break;case 1:t("input",_[0]);break;default:t("input",{_and:_});break}}}),p=V(()=>[{key:"$group",name:l("interfaces.filter.add_group")},{divider:!0},...o.value]);return{t:l,addNode:v,removeNode:y,innerValue:d,fieldOptions:p,loadFieldRelations:i,emitValue:f,collection:s};function f(){d.value.length===0?t("input",null):t("input",{_and:d.value})}function v(_){if(_==="$group")d.value=[...d.value,{_and:[]}];else{const g={},w=u.getField(s.value,_),h=pa(w.type)[0];M.exports.set(g,_,{["_"+h]:null}),d.value=[...d.value,g]}}function y(_){const g=_.pop();if(_.length===0){d.value=d.value.filter((h,k)=>k!==Number(g));return}let w=M.exports.get(d.value,_.join("."));w=w.filter((h,k)=>k!==Number(g)),d.value=M.exports.set(d.value,_.join("."),w)}}}),bQ={key:0,class:"no-rules"},$Q={class:"buttons"};function wQ(e,t,l,n,s,u){const o=c("v-notice"),i=c("nodes"),d=c("v-list"),p=c("v-icon"),f=c("v-select");return!e.collectionField&&!e.collection?(m(),S(o,{key:0,type:"warning"},{default:r(()=>[D(b(e.t("collection_field_not_setup")),1)]),_:1})):e.collection?(m(),I("div",{key:2,class:ue(["system-filter",{inline:e.inline,empty:e.innerValue.length===0}])},[a(d,{mandatory:!0},{default:r(()=>[e.innerValue.length===0?(m(),I("div",bQ,b(e.t("interfaces.filter.no_rules")),1)):(m(),S(i,{key:1,filter:e.innerValue,"onUpdate:filter":t[0]||(t[0]=v=>e.innerValue=v),collection:e.collection,depth:1,onRemoveNode:t[1]||(t[1]=v=>e.removeNode(v)),onChange:e.emitValue},null,8,["filter","collection","onChange"]))]),_:1}),C("div",$Q,[a(f,{inline:!e.inline,"item-text":"name","item-value":"key",placement:"bottom-start",class:"add-filter",placeholder:e.t("interfaces.filter.add_filter"),"full-width":e.inline,"model-value":null,items:e.fieldOptions,mandatory:!1,"groups-clickable":!0,onGroupToggle:t[2]||(t[2]=v=>e.loadFieldRelations(v.value,1)),"onUpdate:modelValue":t[3]||(t[3]=v=>e.addNode(v))},xe({_:2},[e.inline?{name:"prepend",fn:r(()=>[a(p,{name:"add",small:""})])}:void 0]),1032,["inline","placeholder","full-width","items"])])],2)):(m(),S(o,{key:1,type:"warning"},{default:r(()=>[D(b(e.t("select_a_collection")),1)]),_:1}))}var kQ=N(hQ,[["render",wQ],["__scopeId","data-v-56539db4"]]),CQ=Ne({id:"system-filter",name:"$t:interfaces.filter.name",icon:"search",component:kQ,types:["json"],options:[],system:!0}),SQ=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:CQ});const VQ=z({name:"FolderListItem",props:{folder:{type:Object,required:!0},currentFolder:{type:String,default:null},disabled:{type:Boolean,default:!1},disabledFolders:{type:Array,default:()=>[]}},emits:["click"]});function FQ(e,t,l,n,s,u){const o=c("v-icon"),i=c("v-list-item-icon"),d=c("v-list-item-content"),p=c("v-list-item"),f=c("folder-list-item",!0),v=c("v-list-group");return!e.folder.children||e.folder.children.length===0?(m(),S(p,{key:0,active:e.currentFolder===e.folder.id,disabled:e.disabled,clickable:"",onClick:t[0]||(t[0]=y=>e.$emit("click",e.folder.id))},{default:r(()=>[a(i,null,{default:r(()=>[a(o,{name:e.currentFolder===e.folder.id?"folder_open":"folder"},null,8,["name"])]),_:1}),a(d,null,{default:r(()=>[D(b(e.folder.name),1)]),_:1})]),_:1},8,["active","disabled"])):(m(),S(v,{key:1,clickable:"",active:e.currentFolder===e.folder.id,disabled:e.disabled,onClick:t[2]||(t[2]=y=>e.$emit("click",e.folder.id))},{activator:r(()=>[a(i,null,{default:r(()=>[a(o,{name:e.currentFolder===e.folder.id?"folder_open":"folder"},null,8,["name"])]),_:1}),a(d,null,{default:r(()=>[D(b(e.folder.name),1)]),_:1})]),default:r(()=>[(m(!0),I(ae,null,be(e.folder.children,y=>(m(),S(f,{key:y.id,folder:y,"current-folder":e.currentFolder,disabled:e.disabledFolders.includes(y.id),"disabled-folders":e.disabledFolders,onClick:t[1]||(t[1]=_=>e.$emit("click",_))},null,8,["folder","current-folder","disabled","disabled-folders"]))),128))]),_:1},8,["active","disabled"]))}var AQ=N(VQ,[["render",FQ]]);const IQ=z({components:{FolderListItem:AQ},props:{value:{type:String,default:void 0},disabledFolders:{type:Array,default:()=>[]},disabled:{type:Boolean,default:!1},placeholder:{type:String,default:""}},emits:["input"],setup(e,{emit:t}){const{t:l}=te(),{nestedFolders:n,folders:s,loading:u}=Qn(),o=V(()=>{if(!e.value||!s.value)return l("interfaces.system-folder.root_name");const f=s.value.find(v=>v.id===e.value);return f?d(f,s.value).map(v=>v.name).join(" / "):e.value});return{emitValue:i,loading:u,folderPath:o,nestedFolders:n,onFolderSelect:p,t:l};function i(f){return t("input",f)}function d(f,v){const y=new Map(v.map(g=>[g.id,g])),_=g=>(y.has(g.parent)?_(y.get(g.parent)):[]).concat(g);return _(f)}function p(f){e.disabled||t("input",f)}}});function EQ(e,t,l,n,s,u){const o=c("v-skeleton-loader"),i=c("v-icon"),d=c("v-input"),p=c("v-list-item-icon"),f=c("v-list-item-content"),v=c("v-list-item"),y=c("v-divider"),_=c("folder-list-item"),g=c("v-list"),w=c("v-menu");return e.loading?(m(),S(o,{key:0})):(m(),S(w,{key:1,class:"v-select",attached:!0,"show-arrow":!1,disabled:e.disabled,"close-on-content-click":!0},{activator:r(({toggle:h,active:k})=>[a(d,{readonly:"",active:k,"model-value":e.folderPath,placeholder:e.placeholder,disabled:e.disabled,onClick:h},{prepend:r(()=>[a(i,{name:e.value?"folder_open":"folder_special"},null,8,["name"])]),append:r(()=>[a(i,{name:"expand_more",class:ue({active:k})},null,8,["class"])]),_:2},1032,["active","model-value","placeholder","disabled","onClick"])]),default:r(()=>[a(g,null,{default:r(()=>[a(v,{clickable:"",active:!e.value,onClick:t[0]||(t[0]=h=>e.emitValue(null))},{default:r(()=>[a(p,null,{default:r(()=>[a(i,{name:"folder_special"})]),_:1}),a(f,null,{default:r(()=>[D(b(e.t("interfaces.system-folder.root_name")),1)]),_:1})]),_:1},8,["active"]),e.nestedFolders&&e.nestedFolders.length>0?(m(),S(y,{key:0})):R("",!0),(m(!0),I(ae,null,be(e.nestedFolders,h=>(m(),S(_,{key:h.id,clickbable:"",folder:h,"current-folder":e.value,disabled:e.disabledFolders.includes(h.id),"disabled-folders":e.disabledFolders,onClick:e.emitValue},null,8,["folder","current-folder","disabled","disabled-folders","onClick"]))),128))]),_:1})]),_:1},8,["disabled"]))}var DQ=N(IQ,[["render",EQ],["__scopeId","data-v-243bccaf"]]),TQ=Ne({id:"system-folder",name:"$t:interfaces.system-folder.folder",description:"$t:interfaces.system-folder.description",icon:"folder",component:DQ,types:["uuid"],options:[],system:!0,recommendedDisplays:["raw"]}),PQ=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:TQ});const LQ=z({props:{value:{type:String,default:null},typeField:{type:String,default:null}},emits:["input"],setup(e,{emit:t}){const{t:l}=te(),{interfaces:n}=Ct(),s=ht("values",E({})),u=V(()=>{if(!(e.typeField===null||!s.value[e.typeField]))return s.value[e.typeField]});ye(()=>s.value[e.typeField],()=>{t("input",null)});const o=V(()=>n.value.filter(i=>i.relational!==!0&&i.system!==!0).filter(i=>u.value===void 0||i.types.includes(u.value)).map(i=>({text:i.name,value:i.id})));return{t:l,items:o,selectedType:u,values:s}}});function OQ(e,t,l,n,s,u){const o=c("v-notice"),i=c("v-select");return e.selectedType===void 0?(m(),S(o,{key:0},{default:r(()=>[D(b(e.t("select_field_type")),1)]),_:1})):(m(),S(i,{key:1,items:e.items,"model-value":e.value,placeholder:e.t("interfaces.system-interface.placeholder"),"onUpdate:modelValue":t[0]||(t[0]=d=>e.$emit("input",d))},null,8,["items","model-value","placeholder"]))}var jQ=N(LQ,[["render",OQ]]),RQ=Ne({id:"system-interface",name:"$t:interfaces.system-interface.interface",description:"$t:interfaces.system-interface.description",icon:"box",component:jQ,types:["string"],system:!0,options:[]}),MQ=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:RQ});const UQ=z({props:{value:{type:Object,default:null},interfaceField:{type:String,default:null},interface:{type:String,default:null},collection:{type:String,default:null}},emits:["input"],setup(e){const{t}=te(),{interfaces:l}=Ct(),n=ht("values",E({})),s=V(()=>{if(e.interface)return l.value.find(i=>i.id===e.interface);if(!!n.value[e.interfaceField])return l.value.find(i=>i.id===n.value[e.interfaceField])}),u=V(()=>s.value?s.value.options&&"render"in s.value.options:!1),o=V(()=>{if(!s.value)return[];if(!s.value.options)return[];if(u.value===!0)return[];let i;return typeof s.value.options=="function"?i=s.value.options({field:{type:"unknown"},editing:"+",collection:e.collection,relations:{o2m:void 0,m2o:void 0,m2a:void 0},collections:{related:void 0,junction:void 0},fields:{corresponding:void 0,junctionCurrent:void 0,junctionRelated:void 0,sort:void 0},items:{},localType:"standard",autoGenerateJunctionRelation:!1,saving:!1}):i=s.value.options,Array.isArray(i)?i:[...i.standard,...i.advanced]});return{t,selectedInterface:s,values:n,usesCustomComponent:u,optionsFields:o}}}),NQ={key:2,class:"inset"};function BQ(e,t,l,n,s,u){const o=c("v-notice"),i=c("v-form");return e.selectedInterface?e.usesCustomComponent===!1&&e.optionsFields.length===0?(m(),S(o,{key:1},{default:r(()=>[D(b(e.t("no_options_available")),1)]),_:1})):(m(),I("div",NQ,[e.usesCustomComponent===!1?(m(),S(i,{key:0,modelValue:e.options,"onUpdate:modelValue":t[0]||(t[0]=d=>e.options=d),class:"extension-options",fields:e.optionsFields,"primary-key":"+"},null,8,["modelValue","fields"])):(m(),S(Be(`interface-options-${e.selectedInterface.id}`),{key:1,value:e.value,collection:e.collection,onInput:t[1]||(t[1]=d=>e.$emit("input",d))},null,8,["value","collection"]))])):(m(),S(o,{key:0},{default:r(()=>[D(b(e.t("select_interface")),1)]),_:1}))}var qQ=N(UQ,[["render",BQ],["__scopeId","data-v-31e0d362"]]),zQ=Ne({id:"system-interface-options",name:"$t:interfaces.system-interface-options.interface-options",description:"$t:interfaces.system-interface-options.description",icon:"box",component:qQ,types:["string"],options:[],system:!0}),KQ=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:zQ});const HQ=z({props:{disabled:{type:Boolean,default:!1},value:{type:String,default:null}},emits:["input"],setup(){return{languages:Object.entries(ua).map(([t,l])=>({text:l,value:t}))}}});function WQ(e,t,l,n,s,u){const o=c("v-select");return m(),S(o,{"model-value":e.value,items:e.languages,disabled:e.disabled,"onUpdate:modelValue":t[0]||(t[0]=i=>e.$emit("input",i))},null,8,["model-value","items","disabled"])}var GQ=N(HQ,[["render",WQ]]),JQ=Ne({id:"system-language",name:"$t:language",icon:"translate",component:GQ,system:!0,types:["string"],options:[]}),QQ=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:JQ});const XQ=z({props:{value:{type:String,default:null},primaryKey:{type:String,default:null}},setup(e){const{t}=te(),l=Xe(),n=E(!!e.value),s=E(!1),u=E(!1),o=E(!1),i=E(!1),d=bt(),p=E(),f=E(""),v=E(),y=E("");st(()=>{y.value=""}),ye(()=>e.value,()=>{n.value=!!e.value},{immediate:!0});const _=V(()=>{var A;return((A=l.currentUser)==null?void 0:A.id)===e.primaryKey});return{t,tfaEnabled:n,tfaGenerated:s,generateTFA:w,cancelAndClose:h,enableTFA:k,toggle:g,password:y,enableActive:u,disableActive:o,loading:i,canvasID:d,secret:p,disableTFA:F,otp:f,error:v,isCurrentUser:_};function g(){n.value===!1?u.value=!0:o.value=!0}async function w(){if(i.value!==!0){i.value=!0;try{const A=await pe.post("/users/me/tfa/generate",{password:y.value}),P=A.data.data.otpauth_url;p.value=A.data.data.secret,await gr.toCanvas(document.getElementById(d),P),s.value=!0,v.value=null}catch(A){v.value=A}finally{i.value=!1}}}function h(){s.value=!1,u.value=!1,y.value="",f.value="",p.value=""}async function k(){if(i.value!==!0){i.value=!0;try{await pe.post("/users/me/tfa/enable",{otp:f.value,secret:p.value}),n.value=!0,s.value=!1,u.value=!1,y.value="",f.value="",p.value="",v.value=null}catch(A){v.value=A}finally{i.value=!1}}}async function F(){i.value=!0;try{await pe.post("/users/me/tfa/disable",{otp:f.value}),n.value=!1,o.value=!1,f.value=""}catch(A){v.value=A}finally{i.value=!1}}}}),ZQ=e=>(We("data-v-855b3ebc"),e=e(),Ge(),e),YQ=ZQ(()=>C("div",{class:"spacer"},null,-1)),xQ=["id"],eX={class:"secret selectable"};function tX(e,t,l,n,s,u){const o=c("v-icon"),i=c("v-checkbox"),d=c("v-card-title"),p=c("v-input"),f=c("v-error"),v=c("v-card-text"),y=c("v-button"),_=c("v-card-actions"),g=c("v-progress-circular"),w=c("v-card"),h=c("v-dialog");return m(),I("div",null,[a(i,{block:"","model-value":e.tfaEnabled,disabled:!e.isCurrentUser,onClick:e.toggle},{append:r(()=>[a(o,{name:"launch",class:ue(["checkbox-icon",{enabled:e.tfaEnabled}])},null,8,["class"])]),default:r(()=>[D(b(e.tfaEnabled?e.t("enabled"):e.t("disabled"))+" ",1),YQ]),_:1},8,["model-value","disabled","onClick"]),a(h,{modelValue:e.enableActive,"onUpdate:modelValue":t[4]||(t[4]=k=>e.enableActive=k),persistent:"",onEsc:e.cancelAndClose},{default:r(()=>[a(w,null,{default:r(()=>[e.tfaEnabled===!1&&e.tfaGenerated===!1&&e.loading===!1?(m(),I("form",{key:0,onSubmit:t[1]||(t[1]=Ae((...k)=>e.generateTFA&&e.generateTFA(...k),["prevent"]))},[a(d,null,{default:r(()=>[D(b(e.t("enter_password_to_enable_tfa")),1)]),_:1}),a(v,null,{default:r(()=>[a(p,{modelValue:e.password,"onUpdate:modelValue":t[0]||(t[0]=k=>e.password=k),nullable:!1,type:"password",placeholder:e.t("password")},null,8,["modelValue","placeholder"]),e.error?(m(),S(f,{key:0,error:e.error},null,8,["error"])):R("",!0)]),_:1}),a(_,null,{default:r(()=>[a(y,{type:"button",secondary:"",onClick:e.cancelAndClose},{default:r(()=>[D(b(e.t("cancel")),1)]),_:1},8,["onClick"]),a(y,{type:"submit",loading:e.loading},{default:r(()=>[D(b(e.t("next")),1)]),_:1},8,["loading"])]),_:1})],32)):e.loading===!0?(m(),S(g,{key:1,class:"loader",indeterminate:""})):R("",!0),ne(C("div",null,[C("form",{onSubmit:t[3]||(t[3]=Ae((...k)=>e.enableTFA&&e.enableTFA(...k),["prevent"]))},[a(d,null,{default:r(()=>[D(b(e.t("tfa_scan_code")),1)]),_:1}),a(v,null,{default:r(()=>[C("canvas",{id:e.canvasID,class:"qr"},null,8,xQ),C("output",eX,b(e.secret),1),a(p,{modelValue:e.otp,"onUpdate:modelValue":t[2]||(t[2]=k=>e.otp=k),type:"text",placeholder:e.t("otp"),nullable:!1},null,8,["modelValue","placeholder"]),e.error?(m(),S(f,{key:0,error:e.error},null,8,["error"])):R("",!0)]),_:1}),a(_,null,{default:r(()=>[a(y,{type:"button",secondary:"",onClick:e.cancelAndClose},{default:r(()=>[D(b(e.t("cancel")),1)]),_:1},8,["onClick"]),a(y,{type:"submit",disabled:e.otp.length!==6,onClick:e.enableTFA},{default:r(()=>[D(b(e.t("done")),1)]),_:1},8,["disabled","onClick"])]),_:1})],32)],512),[[Dt,e.tfaEnabled===!1&&e.tfaGenerated===!0&&e.loading===!1]])]),_:1})]),_:1},8,["modelValue","onEsc"]),a(h,{modelValue:e.disableActive,"onUpdate:modelValue":t[7]||(t[7]=k=>e.disableActive=k),onEsc:t[8]||(t[8]=k=>e.disableActive=!1)},{default:r(()=>[a(w,null,{default:r(()=>[C("form",{onSubmit:t[6]||(t[6]=Ae((...k)=>e.disableTFA&&e.disableTFA(...k),["prevent"]))},[a(d,null,{default:r(()=>[D(b(e.t("enter_otp_to_disable_tfa")),1)]),_:1}),a(v,null,{default:r(()=>[a(p,{modelValue:e.otp,"onUpdate:modelValue":t[5]||(t[5]=k=>e.otp=k),type:"text",placeholder:e.t("otp"),nullable:!1},null,8,["modelValue","placeholder"]),e.error?(m(),S(f,{key:0,error:e.error},null,8,["error"])):R("",!0)]),_:1}),a(_,null,{default:r(()=>[a(y,{type:"submit",kind:"warning",loading:e.loading,disabled:e.otp.length!==6},{default:r(()=>[D(b(e.t("disable_tfa")),1)]),_:1},8,["loading","disabled"])]),_:1})],32)]),_:1})]),_:1},8,["modelValue"])])}var nX=N(XQ,[["render",tX],["__scopeId","data-v-855b3ebc"]]),lX=Ne({id:"system-mfa-setup",name:"mfa-setup",icon:"box",component:nX,types:["text"],options:[],system:!0}),oX=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:lX});const aX=[{field:"name",name:"$t:name",meta:{required:!0,interface:"input",width:"half-left",options:{placeholder:"$t:enter_a_name"}}},{field:"icon",name:"$t:icon",meta:{required:!0,interface:"select-icon",width:"half-right"}},{field:"url",name:"$t:url",meta:{required:!0,interface:"input",options:{placeholder:"https://example.com"}}}],iX=z({name:"SystemModules",components:{Draggable:kt},props:{value:{type:Array,default:()=>vn}},emits:["input"],setup(e,{emit:t}){const{t:l}=te(),n=E(),s=E(),u=E(),{modules:o}=Jl(),i=V(()=>o.value.filter(w=>w.hidden!==!0).map(w=>({type:"module",id:w.id,enabled:!1}))),d=V({get(){var h,k;const w=((h=e.value)!=null?h:vn).filter(F=>F.type==="module").map(F=>F.id);return p([...(k=e.value)!=null?k:vn,...i.value.filter(F=>w.includes(F.id)===!1)])},set(w){t("input",f(w))}});return{t:l,editing:n,valuesWithData:d,hideDragImage:Bt,updateItem:v,edit:y,linkFields:aX,save:_,values:s,remove:g,initialValues:u};function p(w){return w.filter(h=>h.type==="link"?!0:!!o.value.find(k=>k.id===h.id)).map(h=>{if(h.type==="link")return ke(oe({},h),{to:h.url,icon:h.icon,name:h.name});const k=o.value.find(F=>F.id===h.id);return ke(oe({},h),{to:`/${k.id}`,name:k.name,icon:k.icon})})}function f(w){return w.map(h=>{if(h.type==="link"){const{type:L,id:O,name:U,url:T,icon:B,enabled:q,locked:K}=h;return{type:L,id:O,name:U,url:T,icon:B,enabled:q,locked:K}}const{type:k,id:F,enabled:A,locked:P}=h;return{type:k,id:F,enabled:A,locked:P}})}function v(w,h){d.value=d.value.map(k=>k===w?M.exports.assign({},w,h):k)}function y(w){var k;n.value=w;let h;w!=="+"?h=((k=e.value)!=null?k:vn).find(F=>F.id===w):h={id:bt(),type:"link",enabled:!0,url:"",name:"",icon:""},s.value=h,u.value=h}function _(){var w,h;n.value==="+"?t("input",[...(w=e.value)!=null?w:vn,s.value]):t("input",((h=e.value)!=null?h:vn).map(k=>k.id===n.value?s.value:k)),s.value=null,n.value=null}function g(w){var h;t("input",((h=e.value)!=null?h:vn).filter(k=>k.id!==w))}}}),sX=e=>(We("data-v-006bc8b7"),e=e(),Ge(),e),rX={class:"system-modules"},dX={class:"info"},uX={class:"name"},cX={class:"to"},pX=sX(()=>C("div",{class:"spacer"},null,-1)),mX={class:"drawer-content"};function fX(e,t,l,n,s,u){const o=c("v-icon"),i=c("v-list-item"),d=c("draggable"),p=c("v-list"),f=c("v-button"),v=c("v-form"),y=c("v-drawer"),_=we("tooltip");return m(),I("div",rX,[a(p,{class:"list"},{default:r(()=>[a(d,{modelValue:e.valuesWithData,"onUpdate:modelValue":t[0]||(t[0]=g=>e.valuesWithData=g),"force-fallback":!0,"set-data":e.hideDragImage,"item-key":"id",handle:".drag-handle",animation:150},{item:r(({element:g})=>[a(i,{block:"",class:ue({enabled:g.enabled}),clickable:g.type==="link",onClick:w=>g.type==="link"?e.edit(g.id):void 0},{default:r(()=>[a(o,{class:"drag-handle",name:"drag_handle"}),a(o,{class:"icon",name:g.icon},null,8,["name"]),C("div",dX,[C("div",uX,b(g.name),1),C("div",cX,b(g.to),1)]),pX,g.locked===!0?(m(),S(o,{key:0,name:"lock"})):g.type==="link"?(m(),S(o,{key:1,name:"clear",onClick:Ae(w=>e.remove(g.id),["stop"])},null,8,["onClick"])):(m(),S(o,{key:2,name:g.enabled?"check_box":"check_box_outline_blank",clickable:"",onClick:Ae(w=>e.updateItem(g,{enabled:!g.enabled}),["stop"])},null,8,["name","onClick"]))]),_:2},1032,["class","clickable","onClick"])]),_:1},8,["modelValue","set-data"])]),_:1}),a(f,{onClick:t[1]||(t[1]=g=>e.edit("+"))},{default:r(()=>[D(b(e.t("add_link")),1)]),_:1}),a(y,{title:e.t("custom_link"),"model-value":!!e.editing,icon:"link","onUpdate:modelValue":t[3]||(t[3]=g=>e.editing=null),onCancel:t[4]||(t[4]=g=>e.editing=null)},{actions:r(()=>[ne(a(f,{icon:"",rounded:"",onClick:e.save},{default:r(()=>[a(o,{name:"check"})]),_:1},8,["onClick"]),[[_,e.t("save"),void 0,{bottom:!0}]])]),default:r(()=>[C("div",mX,[a(v,{modelValue:e.values,"onUpdate:modelValue":t[2]||(t[2]=g=>e.values=g),"initial-values":e.initialValues,fields:e.linkFields},null,8,["modelValue","initial-values","fields"])])]),_:1},8,["title","model-value"])])}var vX=N(iX,[["render",fX],["__scopeId","data-v-006bc8b7"]]),_X=Ne({id:"system-modules",name:"$t:module_bar",icon:"arrow_drop_down_circle",component:vX,types:["json"],options:[],system:!0}),yX=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:_X});const gX=z({components:{DrawerCollection:Xt},props:{value:{type:String,default:null}},emits:["input"],setup(e,{emit:t}){const{t:l}=te(),n=E(null),s=E(null),u=E(!1),o=V(()=>e.value!==null&&(e.value.startsWith("role_")||e.value.startsWith("user_")));return ye(()=>e.value,f),f(),{options:V(()=>{let v=[{text:l("global")+": "+l("all_users"),value:"all"},{text:l("user")+": "+l("select"),value:"directus_users"},{text:l("role")+": "+l("select"),value:"directus_roles"}];if(o.value){const[y,_]=e.value.split("_");v=[{text:l(y)+": "+(s.value||_),value:e.value},{divider:!0},...v]}return v}),collection:n,onSelect:d,onSelectItem:p,loading:u};function d(v){if(v==="all")return n.value=null,t("input","all");n.value=v}function p(v){if(n.value==="directus_users")return t("input","user_"+v[0]);if(n.value==="directus_roles")return t("input","role_"+v[0])}async function f(){if(!o.value){s.value=null;return}u.value=!0;const[v,y]=e.value.split("_");if(v==="role"){const _=await pe.get("/roles/"+y,{params:{fields:["id","name"]}});s.value=_.data.data.name}else if(v==="user"){const _=await pe.get("/users/"+y,{params:{fields:["id","first_name","last_name","email"]}});s.value=At(_.data.data)}u.value=!1}}});function hX(e,t,l,n,s,u){const o=c("v-skeleton-loader"),i=c("v-select"),d=c("drawer-collection");return m(),I("div",null,[e.loading?(m(),S(o,{key:0})):(m(),S(i,{key:1,"model-value":e.value,items:e.options,"onUpdate:modelValue":e.onSelect},null,8,["model-value","items","onUpdate:modelValue"])),e.collection!==null?(m(),S(d,{key:2,active:e.collection!==null,collection:e.collection,"onUpdate:active":t[0]||(t[0]=p=>e.collection=null),onInput:e.onSelectItem},null,8,["active","collection","onInput"])):R("",!0)])}var bX=N(gX,[["render",hX]]),$X=Ne({id:"system-scope",name:"$t:scope",icon:"arrow_drop_down_circle",component:bX,types:["string"],options:[],system:!0}),wX=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:$X});const{interfacesRaw:Xi}=Ct();async function kX(e){const l=Object.values({"./boolean/index.ts":pq,"./datetime/index.ts":Vq,"./file/index.ts":Lq,"./file-image/index.ts":Yq,"./files/index.ts":rz,"./group-accordion/index.ts":gz,"./group-detail/index.ts":Cz,"./group-raw/index.ts":Ez,"./input/index.ts":jz,"./input-autocomplete-api/index.ts":zz,"./input-code/index.ts":Yz,"./input-hash/index.ts":oK,"./input-multiline/index.ts":uK,"./input-rich-text-html/index.ts":fK,"./input-rich-text-md/index.ts":jK,"./list/index.ts":nH,"./list-m2a/index.ts":vH,"./list-m2m/index.ts":SH,"./list-o2m/index.ts":OH,"./list-o2m-tree-view/index.ts":xH,"./map/index.ts":DW,"./presentation-divider/index.ts":jW,"./presentation-links/index.ts":zW,"./presentation-notice/index.ts":XW,"./select-color/index.ts":lG,"./select-dropdown/index.ts":dG,"./select-dropdown-m2o/index.ts":yG,"./select-icon/index.ts":kG,"./select-multiple-checkbox/index.ts":EG,"./select-multiple-checkbox-tree/index.ts":UG,"./select-multiple-dropdown/index.ts":HG,"./select-radio/index.ts":YG,"./slider/index.ts":lJ,"./tags/index.ts":pJ,"./translations/index.ts":VJ,"./_system/system-collection/index.ts":DJ,"./_system/system-collections/index.ts":jJ,"./_system/system-display-template/index.ts":qJ,"./_system/system-field/index.ts":GJ,"./_system/system-field-tree/index.ts":xJ,"./_system/system-filter/index.ts":SQ,"./_system/system-folder/index.ts":PQ,"./_system/system-interface/index.ts":MQ,"./_system/system-interface-options/index.ts":KQ,"./_system/system-language/index.ts":QQ,"./_system/system-mfa-setup/index.ts":oX,"./_system/system-modules/index.ts":yX,"./_system/system-scope/index.ts":wX}).map(n=>n.default);try{const n=await j(()=>import(`${Je()}extensions/interfaces/index.js`),[]);l.push(...n.default)}catch(n){console.warn("Couldn't load custom interfaces"),console.warn(n)}Xi.value=l,Xi.value.forEach(n=>{e.component(`interface-${n.id}`,n.component),typeof n.options!="function"&&Array.isArray(n.options)===!1&&n.options!==null&&e.component(`interface-options-${n.id}`,n.options)})}function CX(e){switch(e){case"af":return j(()=>import("./assets/af.0ae12dd5.js").then(function(t){return t.a}),[]);case"ar-dz":return j(()=>import("./assets/ar-dz.4def840c.js").then(function(t){return t.a}),[]);case"ar-kw":return j(()=>import("./assets/ar-kw.8e19bfac.js").then(function(t){return t.a}),[]);case"ar-ly":return j(()=>import("./assets/ar-ly.1c517370.js").then(function(t){return t.a}),[]);case"ar-ma":return j(()=>import("./assets/ar-ma.f01598f3.js").then(function(t){return t.a}),[]);case"ar-sa":return j(()=>import("./assets/ar-sa.c5fe14e9.js").then(function(t){return t.a}),[]);case"ar-tn":return j(()=>import("./assets/ar-tn.121f69b2.js").then(function(t){return t.a}),[]);case"ar":return j(()=>import("./assets/ar.bed29460.js").then(function(t){return t.a}),[]);case"az":return j(()=>import("./assets/az.706ff558.js").then(function(t){return t.a}),[]);case"bg":return j(()=>import("./assets/bg.1c68ab52.js").then(function(t){return t.b}),[]);case"bn":return j(()=>import("./assets/bn.52d26e23.js").then(function(t){return t.b}),[]);case"bs":return j(()=>import("./assets/bs.4d20add5.js").then(function(t){return t.b}),[]);case"ca":return j(()=>import("./assets/ca.a79eb6d2.js").then(function(t){return t.c}),[]);case"cs":return j(()=>import("./assets/cs.b1e8bc14.js").then(function(t){return t.c}),[]);case"cy":return j(()=>import("./assets/cy.ac181a59.js").then(function(t){return t.c}),[]);case"da":return j(()=>import("./assets/da.4016bc22.js").then(function(t){return t.d}),[]);case"de-at":return j(()=>import("./assets/de-at.c5829c18.js").then(function(t){return t.d}),[]);case"de":return j(()=>import("./assets/de.a55d079e.js").then(function(t){return t.d}),[]);case"el":return j(()=>import("./assets/el.59a913c2.js").then(function(t){return t.e}),[]);case"en-au":return j(()=>import("./assets/en-au.169355d7.js").then(function(t){return t.e}),[]);case"en-gb":return j(()=>import("./assets/en-gb.0b977da8.js").then(function(t){return t.e}),[]);case"en-nz":return j(()=>import("./assets/en-nz.6296f2b6.js").then(function(t){return t.e}),[]);case"eo":return j(()=>import("./assets/eo.d92d8fbf.js").then(function(t){return t.e}),[]);case"es-us":return j(()=>import("./assets/es-us.35915abe.js").then(function(t){return t.e}),[]);case"es":return j(()=>import("./assets/es.c516dd05.js").then(function(t){return t.e}),[]);case"et":return j(()=>import("./assets/et.420b5f6d.js").then(function(t){return t.e}),[]);case"eu":return j(()=>import("./assets/eu.edaff4b0.js").then(function(t){return t.e}),[]);case"fa":return j(()=>import("./assets/fa.f3993a60.js").then(function(t){return t.f}),[]);case"fi":return j(()=>import("./assets/fi.3ee32d07.js").then(function(t){return t.f}),[]);case"fr-ca":return j(()=>import("./assets/fr-ca.e2e64899.js").then(function(t){return t.f}),[]);case"fr-ch":return j(()=>import("./assets/fr-ch.e9042a4c.js").then(function(t){return t.f}),[]);case"fr":return j(()=>import("./assets/fr.9d599b24.js").then(function(t){return t.f}),[]);case"gl":return j(()=>import("./assets/gl.b8341ed4.js").then(function(t){return t.g}),[]);case"he":return j(()=>import("./assets/he.18403882.js").then(function(t){return t.h}),[]);case"hi":return j(()=>import("./assets/hi.e2a17765.js").then(function(t){return t.h}),[]);case"hr":return j(()=>import("./assets/hr.57f77dc3.js").then(function(t){return t.h}),[]);case"hu":return j(()=>import("./assets/hu.adb9ccdc.js").then(function(t){return t.h}),[]);case"hy-am":return j(()=>import("./assets/hy-am.59b7a75e.js").then(function(t){return t.h}),[]);case"id":return j(()=>import("./assets/id.bc299c4a.js").then(function(t){return t.i}),[]);case"is":return j(()=>import("./assets/is.2eb43668.js").then(function(t){return t.i}),[]);case"it":return j(()=>import("./assets/it.e663f69e.js").then(function(t){return t.i}),[]);case"ja":return j(()=>import("./assets/ja.21755c02.js").then(function(t){return t.j}),[]);case"ka":return j(()=>import("./assets/ka.09267484.js").then(function(t){return t.k}),[]);case"kk":return j(()=>import("./assets/kk.c27d7d0f.js").then(function(t){return t.k}),[]);case"ko":return j(()=>import("./assets/ko.86462d08.js").then(function(t){return t.k}),[]);case"lb":return j(()=>import("./assets/lb.b4fb4102.js").then(function(t){return t.l}),[]);case"lt":return j(()=>import("./assets/lt.bec1e735.js").then(function(t){return t.l}),[]);case"lv":return j(()=>import("./assets/lv.1d9eac62.js").then(function(t){return t.l}),[]);case"mk":return j(()=>import("./assets/mk.ac873732.js").then(function(t){return t.m}),[]);case"ms":return j(()=>import("./assets/ms.a8caaf33.js").then(function(t){return t.m}),[]);case"nb":return j(()=>import("./assets/nb.02bf1f1e.js").then(function(t){return t.n}),[]);case"ne":return j(()=>import("./assets/ne.8c2e7d13.js").then(function(t){return t.n}),[]);case"nl":return j(()=>import("./assets/nl.15edef36.js").then(function(t){return t.n}),[]);case"nn":return j(()=>import("./assets/nn.33ea37c6.js").then(function(t){return t.n}),[]);case"pl":return j(()=>import("./assets/pl.8a0826b3.js").then(function(t){return t.p}),[]);case"pt-br":return j(()=>import("./assets/pt-br.e87cb008.js").then(function(t){return t.p}),[]);case"pt":return j(()=>import("./assets/pt.de450764.js").then(function(t){return t.p}),[]);case"ro":return j(()=>import("./assets/ro.1786958f.js").then(function(t){return t.r}),[]);case"ru":return j(()=>import("./assets/ru.2c0e4894.js").then(function(t){return t.r}),[]);case"sk":return j(()=>import("./assets/sk.e174a41b.js").then(function(t){return t.s}),[]);case"sl":return j(()=>import("./assets/sl.34422efd.js").then(function(t){return t.s}),[]);case"sq":return j(()=>import("./assets/sq.ee367a13.js").then(function(t){return t.s}),[]);case"sr-cyrl":return j(()=>import("./assets/sr-cyrl.0abb2793.js").then(function(t){return t.s}),[]);case"sr":return j(()=>import("./assets/sr.efb7e3ec.js").then(function(t){return t.s}),[]);case"sv":return j(()=>import("./assets/sv.f13855af.js").then(function(t){return t.s}),[]);case"ta-in":return j(()=>import("./assets/ta-in.8c88aa82.js").then(function(t){return t.t}),[]);case"th":return j(()=>import("./assets/th.d0e24ade.js").then(function(t){return t.t}),[]);case"tr":return j(()=>import("./assets/tr.d887c301.js").then(function(t){return t.t}),[]);case"ug":return j(()=>import("./assets/ug.2ae6849b.js").then(function(t){return t.u}),[]);case"uk":return j(()=>import("./assets/uk.69d22b7d.js").then(function(t){return t.u}),[]);case"uz":return j(()=>import("./assets/uz.a2abf7be.js").then(function(t){return t.u}),[]);case"vi":return j(()=>import("./assets/vi.cc30f87c.js").then(function(t){return t.v}),[]);case"zh-cn":return j(()=>import("./assets/zh-cn.f12689f7.js").then(function(t){return t.z}),[]);case"zh-tw":return j(()=>import("./assets/zh-tw.c5aeda5a.js").then(function(t){return t.z}),[]);default:return Promise.resolve()}}async function SX(e){const t=[e,e.split("-")[0],"en-US"];let l;for(const n of t)try{const s=await CX(n);l=s.default.default||s.default;break}catch{continue}return l}const VX=z({inheritAttrs:!1,props:{itemCount:{type:Number,default:null},showingCount:{type:String,default:null}}}),FX={key:0,class:"item-count"};function AX(e,t,l,n,s,u){return m(),S(Ut,{name:"fade"},{default:r(()=>[e.itemCount?(m(),I("span",FX,b(e.showingCount),1)):R("",!0)]),_:1})}var IX=N(VX,[["render",AX],["__scopeId","data-v-ceefb89c"]]);const EX=z({inheritAttrs:!1,props:{createCalendar:{type:Function,required:!0},destroyCalendar:{type:Function,required:!0}},setup(e){const t=E();return st(()=>{e.createCalendar(t.value)}),Vt(()=>{e.destroyCalendar()}),{calendarElement:t}}}),DX={class:"calendar-layout"},TX={ref:"calendarElement"};function PX(e,t,l,n,s,u){return m(),I("div",DX,[C("div",TX,null,512)])}var LX=N(EX,[["render",PX],["__scopeId","data-v-1b062ccb"]]);const OX=z({inheritAttrs:!1,props:{collection:{type:String,required:!0},template:{type:String,default:null},dateFields:{type:Array,required:!0},startDateField:{type:String,default:null},endDateField:{type:String,default:null}},emits:["update:template","update:startDateField","update:endDateField"],setup(e,{emit:t}){const{t:l}=te(),n=Oe(e,"template",t),s=Oe(e,"startDateField",t),u=Oe(e,"endDateField",t);return{t:l,templateWritable:n,startDateFieldWritable:s,endDateFieldWritable:u}}}),jX={class:"field"},RX={class:"type-label"},MX={class:"field"},UX={class:"type-label"},NX={class:"field"},BX={class:"type-label"};function qX(e,t,l,n,s,u){const o=c("v-field-template"),i=c("v-select");return m(),I(ae,null,[C("div",jX,[C("div",RX,b(e.t("display_template")),1),a(o,{modelValue:e.templateWritable,"onUpdate:modelValue":t[0]||(t[0]=d=>e.templateWritable=d),collection:e.collection},null,8,["modelValue","collection"])]),C("div",MX,[C("div",UX,b(e.t("layouts.calendar.start_date_field")),1),a(i,{modelValue:e.startDateFieldWritable,"onUpdate:modelValue":t[1]||(t[1]=d=>e.startDateFieldWritable=d),"show-deselect":"",items:e.dateFields,"item-text":"name","item-value":"field"},null,8,["modelValue","items"])]),C("div",NX,[C("div",BX,b(e.t("layouts.calendar.end_date_field")),1),a(i,{modelValue:e.endDateFieldWritable,"onUpdate:modelValue":t[2]||(t[2]=d=>e.endDateFieldWritable=d),"show-deselect":"",items:e.dateFields,"item-text":"name","item-value":"field"},null,8,["modelValue","items"])])],64)}var zX=N(OX,[["render",qX]]),KX=vl({id:"calendar",name:"$t:layouts.calendar.calendar",icon:"event",component:LX,slots:{options:zX,sidebar:()=>{},actions:IX},setup(e,{emit:t}){const{t:l,locale:n}=te(),s=E(),u=wt(),o=Oe(e,"layoutOptions",t),i=Oe(e,"filter",t),d=Oe(e,"search",t),{selection:p,collection:f}=Ue(e),{primaryKeyField:v,fields:y}=ot(f),_=V(()=>y.value.filter(W=>["timestamp","dateTime","date"].includes(W.type))),g=V(()=>{if(!s.value||!k.value)return i.value;const W={_and:[{[k.value]:{_between:[Nn(s.value.view.currentStart),Nn(s.value.view.currentEnd)]}}]};return i.value&&W._and.push(i.value),W}),w=V({get(){var W,G;return(G=(W=o.value)==null?void 0:W.template)!=null?G:null},set(W){o.value=ke(oe({},o.value||{}),{template:W!=null?W:void 0})}}),h=V({get(){var W;return(W=o.value)==null?void 0:W.viewInfo},set(W){o.value=ke(oe({},o.value||{}),{viewInfo:W})}}),k=V({get(){var W,G;return(G=(W=o.value)==null?void 0:W.startDateField)!=null?G:null},set(W){o.value=ke(oe({},o.value||{}),{startDateField:W!=null?W:void 0})}}),F=V(()=>y.value.find(W=>W.field===k.value)),A=V({get(){var W,G;return(G=(W=o.value)==null?void 0:W.endDateField)!=null?G:null},set(W){o.value=ke(oe({},o.value||{}),{endDateField:W!=null?W:void 0})}}),P=V(()=>y.value.find(W=>W.field===A.value)),{items:L,loading:O,error:U,totalPages:T,itemCount:B,totalCount:q,changeManualSort:K,getItems:H}=_l(f,{sort:V(()=>{var W;return[((W=v.value)==null?void 0:W.field)||""]}),page:E(1),limit:E(-1),fields:V(()=>{if(!v.value)return[];const W=[v.value.field];return w.value&&W.push(...yt(w.value)),k.value&&W.push(k.value),A.value&&W.push(A.value),W}),filter:g,search:d},!1),Y=V(()=>L.value.map(W=>ee(W)).filter(W=>W)||[]),J=V(()=>{var G,le,Z,ce,ve,Q;const W={editable:!0,eventStartEditable:!0,eventResizableFromStart:!0,eventDurationEditable:!0,dayMaxEventRows:!0,contentHeight:800,nextDayThreshold:"01:00:00",plugins:[hr,br,$r,wr],initialView:(le=(G=h.value)==null?void 0:G.type)!=null?le:"dayGridMonth",headerToolbar:{left:"prevYear,prev,next,nextYear today",center:"title",right:"dayGridMonth,dayGridWeek,dayGridDay,listWeek"},events:Y.value,initialDate:(ce=(Z=h.value)==null?void 0:Z.startDateStr)!=null?ce:Nn(new Date),eventClick(ie){var de;if(!!f.value)if(e.selectMode||((de=p.value)==null?void 0:de.length)>0){const me=L.value.find(he=>he[v.value.field]==ie.event.id);me&&(p.value.includes(me)?p.value=p.value.filter(he=>he!==me):p.value=[...p.value,me],fe())}else{const me=ie.event.id,he=f.value.startsWith("directus")?f.value.substring(9):`collections/${f.value}`;Rt.push(`/${he}/${me}`)}},async eventChange(ie){if(!f.value||!k.value||!F.value)return;const de={[k.value]:se(ie.event.startStr,F.value.type)};A.value&&P.value&&ie.event.endStr&&(de[A.value]=se(ie.event.endStr,P.value.type));const me=f.value.startsWith("directus")?f.value.substring(9):`/items/${f.value}`;try{await pe.patch(`${me}/${ie.event.id}`,de)}catch(he){Se(he)}}};return(((ve=F.value)==null?void 0:ve.type)==="dateTime"||((Q=F.value)==null?void 0:Q.type)==="timestamp")&&(W.headerToolbar=ke(oe({},W.headerToolbar),{right:"dayGridMonth,timeGridWeek,timeGridDay,listWeek"})),W});ye(()=>u.sidebarOpen,()=>setTimeout(()=>{var W;return(W=s.value)==null?void 0:W.updateSize()},300)),ye(J,()=>fe(),{deep:!0,immediate:!0}),ye([s,n],async()=>{if(s.value){const W=await SX(n.value);s.value.setOption("locale",W)}},{immediate:!0});const re=V(()=>B.value?l("item_count",B.value):null);return{items:L,loading:O,error:U,totalPages:T,itemCount:B,totalCount:q,changeManualSort:K,getItems:H,filterWithCalendarView:g,template:w,dateFields:_,startDateField:k,endDateField:A,showingCount:re,createCalendar:X,destroyCalendar:x};function fe(){s.value&&(s.value.pauseRendering(),s.value.resetOptions(J.value),s.value.resumeRendering(),s.value.render())}function X(W){s.value=new kr(W,J.value),s.value.on("datesSet",G=>{h.value={type:G.view.type,startDateStr:Nn(G.view.currentStart)}}),s.value.render()}function x(){var W;(W=s.value)==null||W.destroy()}function ee(W){if(!k.value||!v.value)return null;let G;const le=P.value&&P.value.type==="date";if(A.value)if(le){const Z=dn(W[A.value],"yyyy-MM-dd",new Date);Z.setDate(Z.getDate()+1),G=rn(Z,"yyyy-MM-dd")}else G=W[A.value];return{id:W[v.value.field],title:Ww(w.value||`{{ ${v.value.field} }}`,W)||void 0,start:W[k.value],end:G,allDay:le,className:p.value.includes(W)?"selected":void 0}}function se(W,G){return G==="dateTime"?W.substring(0,19):W}}}),HX=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:KX});const WX=z({props:{icon:{type:String,default:"box"},file:{type:Object,default:null},crop:{type:Boolean,default:!1},loading:{type:Boolean,default:!1},item:{type:Object,default:null},modelValue:{type:Array,default:()=>[]},selectMode:{type:Boolean,default:!1},to:{type:String,default:""},readonly:{type:Boolean,default:!1},itemKey:{type:String,required:!0}},emits:["update:modelValue"],setup(e,{emit:t}){const l=Ye(),n=E(!1),s=V(()=>!e.file||!e.file.type||!n.value&&e.file.type.startsWith("image")?null:Yn(e.file.type,!0)),u=V(()=>{if(!e.file||!e.file.type||e.file.type.startsWith("image")===!1||e.file.type.includes("svg"))return null;let f="system-medium-cover";e.crop===!1&&(f="system-medium-contain");const v=Je()+`assets/${e.file.id}?key=${f}&modified=${e.file.modified_on}`;return dt(v)}),o=V(()=>{if(!e.file||!e.file.type||e.file.type.startsWith("image")===!1||e.file.type.includes("svg")===!1)return null;const f=Je()+`assets/${e.file.id}?modified=${e.file.modified_on}`;return dt(f)}),i=V(()=>e.item&&e.modelValue.includes(e.item[e.itemKey])?"check_circle":"radio_button_unchecked");return{imageSource:u,svgSource:o,type:s,selectionIcon:i,toggleSelection:d,handleClick:p,imgError:n};function d(){if(!e.item)return null;e.modelValue.includes(e.item[e.itemKey])?t("update:modelValue",e.modelValue.filter(f=>f!==e.item[e.itemKey])):t("update:modelValue",[...e.modelValue,e.item[e.itemKey]])}function p(){e.selectMode===!0?d():l.push(e.to)}}}),GX=e=>(We("data-v-2f2457e2"),e=e(),Ge(),e),JX={class:"header"},QX=GX(()=>C("div",{class:"selection-fade"},null,-1)),XX={key:0,class:"type type-title"},ZX=["src"],YX=["src"],xX={key:0,class:"title"},eZ={key:1,class:"subtitle"};function tZ(e,t,l,n,s,u){const o=c("v-icon"),i=c("v-skeleton-loader");return m(),I("div",{class:ue(["card",{loading:e.loading,readonly:e.readonly,selected:e.item&&e.modelValue.includes(e.item[e.itemKey]),"select-mode":e.selectMode}]),onClick:t[2]||(t[2]=(...d)=>e.handleClick&&e.handleClick(...d))},[a(o,{class:"selector",name:e.selectionIcon,onClick:Ae(e.toggleSelection,["stop"])},null,8,["name","onClick"]),C("div",JX,[QX,e.loading?(m(),S(i,{key:0})):(m(),I(ae,{key:1},[e.type||e.imgError?(m(),I("p",XX,b(e.type),1)):(m(),I(ae,{key:1},[e.imageSource?(m(),I("img",{key:0,class:"image",loading:"lazy",src:e.imageSource,alt:"",role:"presentation",onError:t[0]||(t[0]=d=>e.imgError=!0)},null,40,ZX)):e.svgSource?(m(),I("img",{key:1,class:"svg",src:e.svgSource,alt:"",role:"presentation",onError:t[1]||(t[1]=d=>e.imgError=!0)},null,40,YX)):(m(),S(o,{key:2,large:"",name:e.icon},null,8,["name"]))],64))],64))]),e.loading?(m(),S(i,{key:0,type:"text"})):(m(),I(ae,{key:1},[e.$slots.title?(m(),I("div",xX,[ge(e.$slots,"title",{},void 0,!0)])):R("",!0),e.$slots.subtitle?(m(),I("div",eZ,[ge(e.$slots,"subtitle",{},void 0,!0)])):R("",!0)],64))],2)}var nZ=N(WX,[["render",tZ],["__scopeId","data-v-2f2457e2"]]);const lZ=z({props:{fields:{type:Array,required:!0},size:{type:Number,required:!0},sort:{type:Array,required:!0},selection:{type:Array,default:()=>[]}},emits:["select-all","update:size","update:sort","update:selection"],setup(e,{emit:t}){const{t:l}=te(),n=Oe(e,"size",t),s=Oe(e,"sort",t),u=Oe(e,"selection",t),o=V(()=>e.sort[0].startsWith("-")),i=V(()=>e.sort[0].startsWith("-")?e.sort[0].substring(1):e.sort[0]),d=V(()=>e.fields.find(y=>y.field===i.value)),p=V(()=>e.fields.filter(y=>y.field.startsWith("$")===!1).map(y=>({field:y.field,name:y.name,disabled:["json","o2m","m2o","m2a","file","files","alias","presentation"].includes(y.type)})));return{t:l,toggleSize:f,descending:o,toggleDescending:v,sortField:d,sizeSync:n,sortSync:s,selectionSync:u,sortKey:i,fieldsWithoutFake:p};function f(){e.size>=2&&e.size<5?n.value++:n.value=2}function v(){o.value===!0?s.value=[s.value[0].substring(1)]:s.value=["-"+s.value]}}}),oZ={class:"cards-header"},aZ={class:"start"},iZ={class:"label"},sZ={class:"label"},rZ={class:"end"},dZ=["onClick"];function uZ(e,t,l,n,s,u){const o=c("v-icon"),i=c("v-list-item-content"),d=c("v-list-item"),p=c("v-list"),f=c("v-menu"),v=we("tooltip");return m(),I("div",oZ,[C("div",aZ,[e.selectionSync.length>0?(m(),I("div",{key:0,class:"selected",onClick:t[0]||(t[0]=y=>e.selectionSync=[])},[a(o,{name:"cancel",outline:""}),C("span",iZ,b(e.t("n_items_selected",e.selectionSync.length)),1)])):(m(),I("button",{key:1,class:"select-all",onClick:t[1]||(t[1]=y=>e.$emit("select-all"))},[a(o,{name:"check_circle",outline:""}),C("span",sZ,b(e.t("select_all")),1)]))]),C("div",rZ,[ne(a(o,{class:"size-selector",name:`grid_${7-e.size}`,clickable:"",onClick:e.toggleSize},null,8,["name","onClick"]),[[v,e.t("card_size"),void 0,{top:!0}]]),a(f,{"show-arrow":"",placement:"bottom"},{activator:r(({toggle:y})=>[ne(C("div",{class:"sort-selector",onClick:y},[D(b(e.sortField&&e.sortField.name),1)],8,dZ),[[v,e.t("sort_field"),void 0,{top:!0}]])]),default:r(()=>[a(p,null,{default:r(()=>[(m(!0),I(ae,null,be(e.fieldsWithoutFake,y=>(m(),S(d,{key:y.field,disabled:y.disabled,active:y.field===e.sortKey,clickable:"",onClick:_=>e.sortSync=[y.field]},{default:r(()=>[a(i,null,{default:r(()=>[D(b(y.name),1)]),_:2},1024)]),_:2},1032,["disabled","active","onClick"]))),128))]),_:1})]),_:1}),ne(a(o,{class:ue(["sort-direction",{descending:e.descending}]),name:"sort",clickable:"",onClick:e.toggleDescending},null,8,["class","onClick"]),[[v,e.t("sort_direction"),void 0,{top:!0}]])])])}var cZ=N(lZ,[["render",uZ],["__scopeId","data-v-333e0228"]]);const pZ=z({components:{Card:nZ,CardsHeader:cZ},inheritAttrs:!1,props:{collection:{type:String,required:!0},selection:{type:Array,required:!0},selectMode:{type:Boolean,required:!0},readonly:{type:Boolean,required:!0},items:{type:Array,required:!0},loading:{type:Boolean,required:!0},error:{type:Object,default:null},totalPages:{type:Number,required:!0},page:{type:Number,required:!0},toPage:{type:Function,required:!0},itemCount:{type:Number,default:null},fieldsInCollection:{type:Array,required:!0},limit:{type:Number,required:!0},size:{type:Number,required:!0},primaryKeyField:{type:Object,default:null},icon:{type:String,required:!0},imageSource:{type:String,default:null},title:{type:String,default:null},subtitle:{type:String,default:null},getLinkForItem:{type:Function,required:!0},imageFit:{type:String,required:!0},sort:{type:Array,required:!0},info:{type:Object,default:null},isSingleRow:{type:Boolean,required:!0},width:{type:Number,required:!0},selectAll:{type:Function,required:!0},resetPresetAndRefresh:{type:Function,required:!0},filter:{type:Object,default:null},search:{type:String,default:null}},emits:["update:selection","update:limit","update:size","update:sort","update:width"],setup(e,{emit:t}){const{t:l}=te(),n=Oe(e,"selection",t),s=Oe(e,"limit",t),u=Oe(e,"size",t),o=Oe(e,"sort",t),i=ht("main-element"),d=E(),{width:p}=xn(d);return ye(()=>e.page,()=>{var f;return(f=i.value)==null?void 0:f.scrollTo({top:0,behavior:"smooth"})}),ye(p,()=>{t("update:width",p.value)}),{t:l,selectionWritable:n,limitWritable:s,sizeWritable:u,sortWritable:o,layoutElement:d}}}),mZ={class:"footer"},fZ={class:"pagination"},vZ={key:0,class:"per-page"};function _Z(e,t,l,n,s,u){const o=c("cards-header"),i=c("render-template"),d=c("card"),p=c("v-pagination"),f=c("v-select"),v=c("v-error"),y=c("v-button"),_=c("v-info");return m(),I("div",{ref:"layoutElement",class:"layout-cards",style:ze({"--size":e.size*40+"px"})},[e.loading||e.itemCount>0?(m(),I(ae,{key:0},[a(o,{size:e.sizeWritable,"onUpdate:size":t[0]||(t[0]=g=>e.sizeWritable=g),selection:e.selectionWritable,"onUpdate:selection":t[1]||(t[1]=g=>e.selectionWritable=g),sort:e.sortWritable,"onUpdate:sort":t[2]||(t[2]=g=>e.sortWritable=g),fields:e.fieldsInCollection,onSelectAll:e.selectAll},null,8,["size","selection","sort","fields","onSelectAll"]),C("div",{class:ue(["grid",{"single-row":e.isSingleRow}])},[(m(!0),I(ae,null,be(e.items,g=>(m(),S(d,{key:g[e.primaryKeyField.field],modelValue:e.selectionWritable,"onUpdate:modelValue":t[3]||(t[3]=w=>e.selectionWritable=w),"item-key":e.primaryKeyField.field,crop:e.imageFit==="crop",icon:e.icon,file:e.imageSource?g[e.imageSource]:null,item:g,"select-mode":e.selectMode||e.selection&&e.selection.length>0,to:e.getLinkForItem(g),readonly:e.readonly},xe({_:2},[e.title?{name:"title",fn:r(()=>[a(i,{collection:e.collection,item:g,template:e.title},null,8,["collection","item","template"])])}:void 0,e.subtitle?{name:"subtitle",fn:r(()=>[a(i,{collection:e.collection,item:g,template:e.subtitle},null,8,["collection","item","template"])])}:void 0]),1032,["modelValue","item-key","crop","icon","file","item","select-mode","to","readonly"]))),128))],2),C("div",mZ,[C("div",fZ,[e.totalPages>1?(m(),S(p,{key:0,length:e.totalPages,"total-visible":7,"show-first-last":"","model-value":e.page,"onUpdate:modelValue":e.toPage},null,8,["length","model-value","onUpdate:modelValue"])):R("",!0)]),e.loading===!1&&e.items.length>=25?(m(),I("div",vZ,[C("span",null,b(e.t("per_page")),1),a(f,{"model-value":`${e.limit}`,items:["25","50","100","250","500","1000"],inline:"","onUpdate:modelValue":t[4]||(t[4]=g=>e.limitWritable=+g)},null,8,["model-value"])])):R("",!0)])],64)):e.error?(m(),S(_,{key:1,type:"danger",title:e.t("unexpected_error"),icon:"error",center:""},{append:r(()=>[a(v,{error:e.error},null,8,["error"]),a(y,{small:"",class:"reset-preset",onClick:e.resetPresetAndRefresh},{default:r(()=>[D(b(e.t("reset_page_preferences")),1)]),_:1},8,["onClick"])]),default:r(()=>[D(b(e.t("unexpected_error_copy"))+" ",1)]),_:1},8,["title"])):e.itemCount===0&&(e.filter||e.search)?ge(e.$slots,"no-results",{key:2},void 0,!0):e.itemCount===0?ge(e.$slots,"no-items",{key:3},void 0,!0):R("",!0)],4)}var yZ=N(pZ,[["render",_Z],["__scopeId","data-v-d275a1b8"]]);const gZ=z({inheritAttrs:!1,props:{collection:{type:String,required:!0},icon:{type:String,required:!0},fileFields:{type:Array,required:!0},imageSource:{type:String,default:null},title:{type:String,default:null},subtitle:{type:String,default:null},imageFit:{type:String,required:!0}},emits:["update:icon","update:imageSource","update:title","update:subtitle","update:imageFit"],setup(e,{emit:t}){const{t:l}=te(),n=Oe(e,"icon",t),s=Oe(e,"imageSource",t),u=Oe(e,"title",t),o=Oe(e,"subtitle",t),i=Oe(e,"imageFit",t);return{t:l,iconWritable:n,imageSourceWritable:s,titleWritable:u,subtitleWritable:o,imageFitWritable:i}}}),hZ={class:"field"},bZ={class:"type-label"},$Z={class:"field"},wZ={class:"type-label"},kZ={class:"field"},CZ={class:"type-label"},SZ={class:"nested-options"},VZ={class:"field"},FZ={class:"type-label"},AZ={class:"field"},IZ={class:"type-label"};function EZ(e,t,l,n,s,u){const o=c("v-select"),i=c("v-field-template"),d=c("interface-select-icon"),p=c("v-detail");return m(),I(ae,null,[C("div",hZ,[C("div",bZ,b(e.t("layouts.cards.image_source")),1),a(o,{modelValue:e.imageSourceWritable,"onUpdate:modelValue":t[0]||(t[0]=f=>e.imageSourceWritable=f),"show-deselect":"","item-value":"field","item-text":"name",items:e.fileFields},null,8,["modelValue","items"])]),C("div",$Z,[C("div",wZ,b(e.t("layouts.cards.title")),1),a(i,{modelValue:e.titleWritable,"onUpdate:modelValue":t[1]||(t[1]=f=>e.titleWritable=f),collection:e.collection},null,8,["modelValue","collection"])]),C("div",kZ,[C("div",CZ,b(e.t("layouts.cards.subtitle")),1),a(i,{modelValue:e.subtitleWritable,"onUpdate:modelValue":t[2]||(t[2]=f=>e.subtitleWritable=f),collection:e.collection},null,8,["modelValue","collection"])]),a(p,{class:"field"},{title:r(()=>[D(b(e.t("layout_setup")),1)]),default:r(()=>[C("div",SZ,[C("div",VZ,[C("div",FZ,b(e.t("layouts.cards.image_fit")),1),a(o,{modelValue:e.imageFitWritable,"onUpdate:modelValue":t[3]||(t[3]=f=>e.imageFitWritable=f),disabled:e.imageSource===null,items:[{text:e.t("layouts.cards.crop"),value:"crop"},{text:e.t("layouts.cards.contain"),value:"contain"}]},null,8,["modelValue","disabled","items"])]),C("div",AZ,[C("div",IZ,b(e.t("fallback_icon")),1),a(d,{value:e.icon,onInput:t[4]||(t[4]=f=>e.iconWritable=f)},null,8,["value"])])])]),_:1})],64)}var DZ=N(gZ,[["render",EZ],["__scopeId","data-v-1167aeea"]]);const TZ=z({inheritAttrs:!1,props:{itemCount:{type:Number,default:null},showingCount:{type:String,required:!0}}}),PZ={key:0,class:"item-count"};function LZ(e,t,l,n,s,u){return m(),S(Ut,{name:"fade"},{default:r(()=>[e.itemCount?(m(),I("span",PZ,b(e.showingCount),1)):R("",!0)]),_:1})}var OZ=N(TZ,[["render",LZ],["__scopeId","data-v-4039d1ee"]]),jZ=vl({id:"cards",name:"$t:layouts.cards.cards",icon:"grid_4",component:yZ,slots:{options:DZ,sidebar:()=>{},actions:OZ},setup(e,{emit:t}){const{t:l,n}=te(),s=mt(),u=Oe(e,"selection",t),o=Oe(e,"layoutOptions",t),i=Oe(e,"layoutQuery",t),{collection:d,filter:p,search:f,filterUser:v}=Ue(e),{info:y,primaryKeyField:_,fields:g}=ot(d),w=V(()=>g.value.filter(Q=>Q.field==="$thumbnail"?!0:!!s.relations.find(de=>de.collection===e.collection&&de.field===Q.field&&de.related_collection==="directus_files"))),{size:h,icon:k,imageSource:F,title:A,subtitle:P,imageFit:L}=le(),{sort:O,limit:U,page:T,fields:B}=Z(),{items:q,loading:K,error:H,totalPages:Y,itemCount:J,totalCount:re,getItems:fe}=_l(d,{sort:O,limit:U,page:T,fields:B,filter:p,search:f}),X=V(()=>(J.value||0)<(re.value||0)&&v.value?J.value===1?l("one_filtered_item"):l("start_end_of_count_filtered_items",{start:n((+T.value-1)*U.value+1),end:n(Math.min(T.value*U.value,J.value||0)),count:n(J.value||0)}):J.value===1?l("one_item"):l("start_end_of_count_items",{start:n((+T.value-1)*U.value+1),end:n(Math.min(T.value*U.value,J.value||0)),count:n(J.value||0)})),x=E(0),ee=V(()=>q.value.length*(h.value*40)+(q.value.length-1)*24<=x.value);return{items:q,loading:K,error:H,totalPages:Y,page:T,toPage:G,itemCount:J,totalCount:re,fieldsInCollection:g,limit:U,size:h,primaryKeyField:_,icon:k,fileFields:w,imageSource:F,title:A,subtitle:P,getLinkForItem:ce,imageFit:L,sort:O,info:y,showingCount:X,isSingleRow:ee,width:x,refresh:W,selectAll:ve,resetPresetAndRefresh:se,filter:p,search:f};async function se(){var Q;await((Q=e==null?void 0:e.resetPreset)==null?void 0:Q.call(e)),W()}function W(){fe()}function G(Q){T.value=Q}function le(){var De,Ie;const Q=Ce("size",4),ie=Ce("icon","box"),de=Ce("title",null),me=Ce("subtitle",null),he=Ce("imageSource",(Ie=(De=w.value[0])==null?void 0:De.field)!=null?Ie:null),_e=Ce("imageFit","crop");return{size:Q,icon:ie,imageSource:he,title:de,subtitle:me,imageFit:_e};function Ce(je,nt){return V({get(){var Pe,Re;return((Pe=o.value)==null?void 0:Pe[je])!==void 0?(Re=o.value)==null?void 0:Re[je]:nt},set(Pe){o.value=ke(oe({},o.value),{[je]:Pe})}})}}function Z(){const Q=_t(i,"page",1),ie=_t(i,"limit",25),de=V(()=>{var _e;return _.value?[(_e=_.value)==null?void 0:_e.field]:[]}),me=_t(i,"sort",de.value),he=V(()=>{if(!_.value||!e.collection)return[];const _e=[_.value.field];F.value&&(_e.push(`${F.value}.modified_on`),_e.push(`${F.value}.type`),_e.push(`${F.value}.filename_disk`),_e.push(`${F.value}.storage`),_e.push(`${F.value}.id`)),e.collection==="directus_files"&&F.value==="$thumbnail"&&(_e.push("modified_on"),_e.push("type"));const Ce=[];return A.value&&Ce.push(...yt(A.value)),P.value&&Ce.push(...yt(P.value)),[..._e,...Zt(Ce,e.collection)]});return{sort:me,limit:ie,page:Q,fields:he}}function ce(Q){if(!!_.value)return`/collections/${e.collection}/${encodeURIComponent(Q[_.value.field])}`}function ve(){if(!_.value)return;const Q=_.value;u.value=M.exports.clone(q.value).map(ie=>ie[Q.field])}}}),RZ=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:jZ});const MZ=z({components:{},props:{data:{type:Object,required:!0},source:{type:Object,required:!0},layers:{type:Array,default:()=>[]},camera:{type:Object,default:()=>({})},bounds:{type:Array,default:void 0},featureId:{type:String,default:void 0},selection:{type:Array,default:()=>[]}},emits:["moveend","featureclick","featureselect","fitdata","updateitempopup"],setup(e,{emit:t}){const l=wt();let n;const s=E(),u=E(),o=E(),i=E(),d=[],{sidebarOpen:p,basemap:f}=Ue(l),v=En("mapbox_key"),y=tl(),_=V(()=>{var x;const X=(x=y.find(ee=>ee.name===f.value))!=null?x:y[0];return So(X)}),g=new Ht.exports.AttributionControl({compact:!0}),w=new Ht.exports.NavigationControl({showCompass:!1}),h=new Ht.exports.GeolocateControl,k=new jl("mapboxgl-ctrl-fitdata",()=>{t("fitdata")}),F=new eW({boxElementClass:"map-selection-box",selectButtonClass:"mapboxgl-ctrl-select",unselectButtonClass:"mapboxgl-ctrl-unselect",layers:["__directus_polygons","__directus_points","__directus_lines"]});let A;if(v){const X=document.createElement("div");X.className="mapboxgl-user-location-dot mapboxgl-search-location-dot",A=new ia({accessToken:v,collapsed:!0,marker:{element:X},flyTo:{speed:1.4}})}return st(()=>{P()}),Vt(()=>{n.remove()}),{container:i,hoveredFeature:s,hoveredCluster:u,selectMode:o};function P(){n=new Ht.exports.Map(oe(oe({container:"map-container",style:_.value,attributionControl:!1,dragRotate:!1},e.camera),v?{accessToken:v}:{})),A&&n.addControl(A,"top-right"),n.addControl(g,"top-right"),n.addControl(w,"top-left"),n.addControl(h,"top-left"),n.addControl(k,"top-left"),n.addControl(F,"top-left"),n.on("load",()=>{ye(()=>_.value,O),ye(()=>e.bounds,L);const X=["__directus_polygons","__directus_points","__directus_lines"];for(const x of X)n.on("click",x,H),n.on("mousemove",x,Y),n.on("mouseleave",x,Y);n.on("move",J),n.on("click","__directus_clusters",re),n.on("mousemove","__directus_clusters",fe),n.on("mouseleave","__directus_clusters",fe),n.on("select.enable",()=>o.value=!0),n.on("select.disable",()=>o.value=!1),n.on("select.end",x=>{var se;const ee=(se=x.features)==null?void 0:se.map(W=>W.id);t("featureselect",{ids:ee,replace:!x.alt})}),n.on("moveend",x=>{!x.originalEvent||t("moveend",{center:n.getCenter(),zoom:n.getZoom(),bearing:n.getBearing(),pitch:n.getPitch(),bbox:n.getBounds().toArray().flat()})}),U()}),ye(()=>p.value,X=>{X||setTimeout(()=>n.resize(),300)}),setTimeout(()=>n.resize(),300)}function L(){var x;const X=(x=e.data.bbox)==null?void 0:x.map(ee=>ee%90);n&&X&&n.fitBounds(X,{padding:100,speed:1.3,maxZoom:14})}function O(X){d.forEach(x=>x()),d.length=0,n.setStyle(X,{diff:!1}),n.once("styledata",U)}function U(){d.push(ye(()=>e.source,B,{immediate:!0}),ye(()=>e.selection,K,{immediate:!0}),ye(()=>e.layers,q),ye(()=>e.data,T))}function T(X){n.getSource("__directus").setData(X),K(e.selection,void 0)}function B(X){var ee,se;const x=new Set((ee=n.getStyle().layers)==null?void 0:ee.map(({id:W})=>W));for(const W of e.layers)x.has(W.id)&&n.removeLayer(W.id);e.featureId?X.promoteId=e.featureId:X.generateId=!0,((se=n.getStyle().sources)==null?void 0:se.__directus)&&n.removeSource("__directus"),n.addSource("__directus",ke(oe({},X),{data:e.data})),n.once("sourcedata",()=>{setTimeout(()=>e.layers.forEach(W=>n.addLayer(W)))})}function q(X,x){var se;const ee=new Set((se=n.getStyle().layers)==null?void 0:se.map(({id:W})=>W));x==null||x.forEach(W=>{ee.has(W.id)&&n.removeLayer(W.id)}),X==null||X.forEach(W=>{n.addLayer(W)})}function K(X,x){x==null||x.forEach(ee=>{n.setFeatureState({id:ee,source:"__directus"},{selected:!1}),n.removeFeatureState({id:ee,source:"__directus"})}),X==null||X.forEach(ee=>{n.setFeatureState({id:ee,source:"__directus"},{selected:!0})}),F.showUnselect(X==null?void 0:X.length)}function H(X){var se;const x=(se=X.features)==null?void 0:se[0],ee=!X.originalEvent.altKey;x&&e.featureId&&(F.active()?t("featureselect",{ids:[x.id],replace:ee}):t("featureclick",{id:x.id,replace:ee}))}function Y(X){var W;const x=n.queryRenderedFeatures(X.point,{layers:["__directus_polygons","__directus_points","__directus_lines"]})[0],ee=(W=s.value)==null?void 0:W.id,se=ee!==(x==null?void 0:x.id);if(ee&&se&&n.setFeatureState({id:ee,source:"__directus"},{hovered:!1}),x&&x.properties){if(x.geometry.type==="Point"){const{x:G,y:le}=n.project(x.geometry.coordinates),Z=n.getContainer().getBoundingClientRect();t("updateitempopup",{position:{x:Z.x+G,y:Z.y+le}})}else{const{clientX:G,clientY:le}=X.originalEvent;t("updateitempopup",{position:{x:G,y:le}})}se&&(n.setFeatureState({id:x.id,source:"__directus"},{hovered:!0}),s.value=x,t("updateitempopup",{item:x.id}))}else se&&(s.value=x,t("updateitempopup",{item:null}))}function J(X){if(s.value&&X.originalEvent){const{x,y:ee}=X.originalEvent;t("updateitempopup",{position:{x,y:ee}})}}function re(X){var W,G;const x=n.queryRenderedFeatures(X.point,{layers:["__directus_clusters"]}),ee=(G=(W=x[0])==null?void 0:W.properties)==null?void 0:G.cluster_id;n.getSource("__directus").getClusterExpansionZoom(ee,(le,Z)=>{le||n.flyTo({center:x[0].geometry.coordinates,zoom:Z,speed:1.3})})}function fe(X){X.type=="mousemove"?u.value=!0:u.value=!1}}});function UZ(e,t,l,n,s,u){return m(),I("div",{id:"map-container",ref:"container",class:ue({select:e.selectMode,hover:e.hoveredFeature||e.hoveredCluster})},null,2)}var NZ=N(MZ,[["render",UZ],["__scopeId","data-v-bfa7a8cc"]]);const BZ=z({components:{MapComponent:NZ},inheritAttrs:!1,props:{collection:{type:String,required:!0},selection:{type:Array,default:()=>[]},search:{type:String,default:null},loading:{type:Boolean,required:!0},error:{type:Object,default:null},geojsonError:{type:String,default:null},geometryOptions:{type:Object,default:void 0},geojson:{type:Object,required:!0},featureId:{type:String,default:null},geojsonBounds:{type:Object,default:void 0},directusSource:{type:Object,required:!0},directusLayers:{type:Array,required:!0},handleClick:{type:Function,required:!0},handleSelect:{type:Function,required:!0},cameraOptions:{type:Object,default:void 0},resetPresetAndRefresh:{type:Function,required:!0},geojsonLoading:{type:Boolean,required:!0},itemCount:{type:Number,default:null},totalPages:{type:Number,required:!0},page:{type:Number,required:!0},toPage:{type:Function,required:!0},limit:{type:Number,required:!0},autoLocationFilter:{type:Boolean,default:void 0},locationFilterOutdated:{type:Boolean,required:!0},fitGeoJSONBounds:{type:Function,required:!0},updateLocationFilter:{type:Function,required:!0},clearDataFilters:{type:Function,required:!0},clearLocationFilter:{type:Function,required:!0},isGeometryFieldNative:{type:Boolean,required:!0},filter:{type:Object,default:null},locationFilter:{type:Object,default:null},template:{type:String,default:()=>{}},itemPopup:{type:[String,Number],default:()=>{}},updateItemPopup:{type:Function,required:!0}},emits:["update:cameraOptions","update:limit","update:locationFilterOutdated"],setup(e,{emit:t}){const{t:l,n}=te(),s=Oe(e,"cameraOptions",t),u=Oe(e,"limit",t),o=Oe(e,"locationFilterOutdated",t);return{t:l,n,cameraOptionsWritable:s,limitWritable:u,locationFilterOutdatedWritable:o}}}),qZ={class:"layout-map"},zZ={key:2,class:"footer"},KZ={class:"pagination"},HZ={class:"mapboxgl-ctrl-dropdown"};function WZ(e,t,l,n,s,u){const o=c("map-component"),i=c("render-template"),d=c("v-button"),p=c("v-error"),f=c("v-info"),v=c("v-progress-circular"),y=c("v-card-actions"),_=c("v-pagination"),g=c("v-select");return m(),I("div",qZ,[a(o,{ref:"map",class:ue(["mapboxgl-map",{loading:e.loading,error:e.error||e.geojsonError||!e.geometryOptions}]),data:e.geojson,"feature-id":e.featureId,selection:e.selection,camera:e.cameraOptions,bounds:e.geojsonBounds,source:e.directusSource,layers:e.directusLayers,onFeatureclick:e.handleClick,onFeatureselect:e.handleSelect,onMoveend:t[0]||(t[0]=w=>e.cameraOptionsWritable=w),onFitdata:e.fitGeoJSONBounds,onUpdateitempopup:e.updateItemPopup},null,8,["class","data","feature-id","selection","camera","bounds","source","layers","onFeatureclick","onFeatureselect","onFitdata","onUpdateitempopup"]),e.itemPopup.item?(m(),I("div",{key:0,class:"popup",style:ze({top:e.itemPopup.position.y+"px",left:e.itemPopup.position.x+"px"})},[a(i,{template:e.template,item:e.itemPopup.item,collection:e.collection},null,8,["template","item","collection"])],4)):R("",!0),e.isGeometryFieldNative&&!e.autoLocationFilter&&e.locationFilterOutdatedWritable?(m(),S(d,{key:1,small:"",class:"location-filter",onClick:e.updateLocationFilter},{default:r(()=>[D(b(e.t("layouts.map.search_this_area")),1)]),_:1},8,["onClick"])):R("",!0),a(Ut,{name:"fade"},{default:r(()=>[e.error?(m(),S(f,{key:0,type:"danger",title:e.t("unexpected_error"),icon:"error",center:""},{append:r(()=>[a(p,{error:e.error},null,8,["error"]),a(d,{small:"",class:"reset-preset",onClick:e.resetPresetAndRefresh},{default:r(()=>[D(b(e.t("reset_page_preferences")),1)]),_:1},8,["onClick"])]),default:r(()=>[D(b(e.t("unexpected_error_copy"))+" ",1)]),_:1},8,["title"])):e.geojsonError?(m(),S(f,{key:1,type:"warning",icon:"wrong_location",center:"",title:e.t("layouts.map.invalid_geometry")},{default:r(()=>[D(b(e.geojsonError),1)]),_:1},8,["title"])):e.loading||e.geojsonLoading?(m(),S(v,{key:2,indeterminate:"","x-large":"",class:"center"})):!e.loading&&!e.itemCount&&!e.locationFilterOutdated&&(e.search||e.filter||e.locationFilter)?(m(),S(f,{key:3,icon:"search",center:"",title:e.t("layouts.map.no_results_here")},{append:r(()=>[a(y,null,{default:r(()=>[a(d,{disabled:!e.search&&!e.filter,onClick:e.clearDataFilters},{default:r(()=>[D(b(e.t("layouts.map.clear_data_filter")),1)]),_:1},8,["disabled","onClick"]),a(d,{disabled:!e.locationFilter,onClick:e.clearLocationFilter},{default:r(()=>[D(b(e.t("layouts.map.clear_location_filter")),1)]),_:1},8,["disabled","onClick"])]),_:1})]),_:1},8,["title"])):R("",!0)]),_:1}),e.loading||e.itemCount>0?(m(),I("div",zZ,[C("div",KZ,[e.totalPages>1?(m(),S(_,{key:0,length:e.totalPages,"total-visible":7,"show-first-last":"","model-value":e.page,"onUpdate:modelValue":e.toPage},null,8,["length","model-value","onUpdate:modelValue"])):R("",!0)]),C("div",HZ,[C("span",null,b(e.t("limit")),1),a(g,{"model-value":e.limit,items:[{text:e.n(100),value:100},{text:e.n(1e3),value:1e3},{text:e.n(1e4),value:1e4},{text:e.n(1e5),value:1e5}],inline:"","onUpdate:modelValue":t[1]||(t[1]=w=>e.limitWritable=+w)},null,8,["model-value","items"])])])):R("",!0)])}var GZ=N(BZ,[["render",WZ],["__scopeId","data-v-08113c75"]]);const JZ=z({inheritAttrs:!1,props:{collection:{type:String,required:!0},geometryFields:{type:Array,required:!0},geometryField:{type:String,default:void 0},autoLocationFilter:{type:Boolean,default:void 0},geometryOptions:{type:Object,default:void 0},clusterData:{type:Boolean,default:void 0},customLayerDrawerOpen:{type:Boolean,required:!0},resetLayers:{type:Function,required:!0},updateLayers:{type:Function,required:!0},customLayers:{type:Array,default:void 0},displayTemplate:{type:String,default:void 0}},emits:["update:geometryField","update:autoLocationFilter","update:clusterData","update:customLayerDrawerOpen","update:customLayers"],setup(e,{emit:t}){const{t:l}=te(),n=wt(),s=Oe(e,"geometryField",t),u=Oe(e,"autoLocationFilter",t),o=Oe(e,"clusterData",t),i=Oe(e,"customLayerDrawerOpen",t),d=Oe(e,"customLayers",t),p=Oe(e,"displayTemplate",t),f=tl(),{basemap:v}=Ue(n);return{t:l,geometryFieldWritable:s,autoLocationFilterWritable:u,clusterDataWritable:o,customLayerDrawerOpenWritable:i,customLayersWritable:d,displayTemplateWritable:p,basemaps:f,basemap:v}}}),QZ={class:"field"},XZ={class:"type-label"},ZZ={key:0,class:"field"},YZ={key:1,class:"field"},xZ={class:"type-label"},eY={class:"field"},tY={class:"type-label"},nY={class:"field"},lY={class:"field"};function oY(e,t,l,n,s,u){const o=c("v-select"),i=c("v-input"),d=c("v-field-template"),p=c("v-checkbox");return m(),I(ae,null,[C("div",QZ,[C("div",XZ,b(e.t("layouts.map.basemap")),1),a(o,{modelValue:e.basemap,"onUpdate:modelValue":t[0]||(t[0]=f=>e.basemap=f),items:e.basemaps.map(f=>({text:f.name,value:f.name}))},null,8,["modelValue","items"])]),e.geometryFields.length==0?(m(),I("div",ZZ,[a(i,{type:"text",disabled:"",prefix:"No compatible fields"})])):(m(),I("div",YZ,[C("div",xZ,b(e.t("layouts.map.field")),1),a(o,{modelValue:e.geometryFieldWritable,"onUpdate:modelValue":t[1]||(t[1]=f=>e.geometryFieldWritable=f),items:e.geometryFields.map(({name:f,field:v})=>({text:f,value:v}))},null,8,["modelValue","items"])])),C("div",eY,[C("div",tY,b(e.t("display_template")),1),a(d,{modelValue:e.displayTemplateWritable,"onUpdate:modelValue":t[2]||(t[2]=f=>e.displayTemplateWritable=f),collection:e.collection},null,8,["modelValue","collection"])]),C("div",nY,[a(p,{modelValue:e.autoLocationFilterWritable,"onUpdate:modelValue":t[3]||(t[3]=f=>e.autoLocationFilterWritable=f),label:e.t("layouts.map.auto_location_filter"),disabled:e.geometryOptions&&e.geometryOptions.geometryFormat!=="native"},null,8,["modelValue","label","disabled"])]),C("div",lY,[a(p,{modelValue:e.clusterDataWritable,"onUpdate:modelValue":t[4]||(t[4]=f=>e.clusterDataWritable=f),label:e.t("layouts.map.cluster"),disabled:e.geometryOptions&&e.geometryOptions.geometryType!=="Point"},null,8,["modelValue","label","disabled"])])],64)}var aY=N(JZ,[["render",oY]]);const iY=z({inheritAttrs:!1,props:{itemCount:{type:Number,default:null},showingCount:{type:String,required:!0}}}),sY={key:0,class:"item-count"};function rY(e,t,l,n,s,u){return m(),S(Ut,{name:"fade"},{default:r(()=>[e.itemCount?(m(),I("span",sY,b(e.showingCount),1)):R("",!0)]),_:1})}var dY=N(iY,[["render",rY],["__scopeId","data-v-08898882"]]);const{green:Ul,orange:Rn,yellow:Zi,black:uY,white:cY}=Hi,Bo=[{id:"__directus_polygons_outline",type:"line",source:"__directus",filter:["all",["!has","point_count"],["==","$type","Polygon"]],paint:{"line-color":["case",["boolean",["feature-state","selected"],!1],Rn,["boolean",["feature-state","hovered"],!1],Rn,Ul],"line-width":2},layout:{"line-join":"round"}},{id:"__directus_polygons",type:"fill",source:"__directus",filter:["all",["!has","point_count"],["==","$type","Polygon"]],paint:{"fill-color":["case",["boolean",["feature-state","selected"],!1],Zi,["boolean",["feature-state","hovered"],!1],Zi,Ul],"fill-opacity":.15}},{id:"__directus_lines",type:"line",source:"__directus",filter:["all",["!has","point_count"],["==","$type","LineString"]],paint:{"line-color":["case",["boolean",["feature-state","selected"],!1],Rn,["boolean",["feature-state","hovered"],!1],Rn,Ul],"line-width":2}},{id:"__directus_points_shadow",type:"circle",source:"__directus",filter:["all",["!has","point_count"],["==","$type","Point"]],layout:{},paint:{"circle-radius":10,"circle-blur":1,"circle-opacity":.9,"circle-color":uY}},{id:"__directus_points",type:"circle",source:"__directus",filter:["all",["!has","point_count"],["==","$type","Point"]],layout:{},paint:{"circle-radius":6,"circle-color":["case",["boolean",["feature-state","selected"],!1],Rn,["boolean",["feature-state","hovered"],!1],Rn,Ul],"circle-stroke-color":cY,"circle-stroke-width":2}},{id:"__directus_clusters",type:"circle",source:"__directus",filter:["has","point_count"],paint:{"circle-radius":["step",["get","point_count"],20,100,30,750,40],"circle-color":["step",["get","point_count"],"#7fe3ca",100,"#fde2a7",750,"#f0a7b3"],"circle-opacity":.7}},{id:"__directus_cluster_count",type:"symbol",source:"__directus",filter:["has","point_count"],layout:{"text-field":"{point_count_abbreviated}","text-font":["Open Sans Semibold"],"text-size":["step",["get","point_count"],15,100,17,750,19]},paint:{"text-opacity":.85}}];var pY=vl({id:"map",name:"$t:layouts.map.map",icon:"map",smallHeader:!0,component:GZ,slots:{options:aY,sidebar:()=>{},actions:dY},setup(e,{emit:t}){var qo,zo;const{t:l,n}=te(),s=Ye(),u=Oe(e,"selection",t),o=Oe(e,"layoutOptions",t),i=Oe(e,"layoutQuery",t),{collection:d,filter:p,filterUser:f,search:v}=Ue(e),{info:y,primaryKeyField:_,fields:g}=ot(d),w=_t(i,"page",1),h=_t(i,"limit",1e3),k=_t(i,"sort",[(zo=(qo=g.value)==null?void 0:qo[0])==null?void 0:zo.field]),F=E(),A=V(()=>F.value?p.value?{_and:[p.value,F.value]}:F.value:p.value),P=E(!1),L=_t(o,"displayTemplate",void 0),O=_t(o,"cameraOptions",void 0),U=_t(o,"customLayers",Bo),T=_t(o,"autoLocationFilter",!1),B=_t(o,"clusterData",!1),q=_t(o,"geometryField",void 0),K=V({get:()=>{var Ve;return(Ve=o.value)==null?void 0:Ve.geometryFormat},set(Ve){o.value=ke(oe({},o.value||{}),{geometryFormat:Ve,geometryField:void 0})}}),H=V(()=>g.value.find(Ve=>Ve.field==q.value)),Y=V(()=>{var Ve;return((Ve=H.value)==null?void 0:Ve.type)=="geometry"}),J=V(()=>g.value.filter(({type:Ve,meta:it})=>Ve=="geometry"||(it==null?void 0:it.interface)=="map"));ye(()=>J.value,Ve=>{!q.value&&Ve.length>0&&(q.value=Ve[0].field)},{immediate:!0});const re=V(()=>{var it;const Ve=H.value;if(!!Ve){if(Y.value)return{geometryField:Ve.field,geometryFormat:"native",geometryType:(it=Ve.schema)==null?void 0:it.geometry_type};if(Ve.meta&&Ve.meta.interface=="map"&&Ve.meta.options)return{geometryField:Ve.field,geometryFormat:Ve.meta.options.geometryFormat,geometryType:Ve.meta.options.geometryType}}}),fe=V(()=>{var Ve,it,Mn;return L.value||((it=(Ve=y.value)==null?void 0:Ve.meta)==null?void 0:it.display_template)||`{{ ${(Mn=_.value)==null?void 0:Mn.field} }}`}),X=V(()=>{var Ve;return[q.value,...yt(fe.value)].concat((Ve=_.value)==null?void 0:Ve.field).filter(it=>!!it)}),x=E(!1);function ee(){if(!Y.value||!O.value||!q.value)return;const Ve=O.value.bbox,it=[[Ve[0],Ve[1]],[Ve[2],Ve[1]],[Ve[2],Ve[3]],[Ve[0],Ve[3]],[Ve[0],Ve[1]]];return{[q.value]:{_intersects_bbox:{type:"Polygon",coordinates:[it]}}}}function se(){x.value=!1,F.value=ee()}function W(){Z.value=!0,x.value=!1,F.value=void 0}function G(){var Ve;!((Ve=_e.value)==null?void 0:Ve.features.length)||(Z.value=!0,x.value=!1,_e.value&&(Ce.value=M.exports.cloneDeep(_e.value.bbox)))}function le(){var Ve;(Ve=e==null?void 0:e.clearFilters)==null||Ve.call(e)}const Z=E(!1);ye(()=>O.value,()=>{Z.value=!1,x.value=!0,T.value&&se()}),ye(()=>T.value,Ve=>{Ve&&se()});const{items:ce,loading:ve,error:Q,totalPages:ie,itemCount:de,totalCount:me,getItems:he}=_l(d,{sort:k,limit:h,page:w,search:v,filter:A,fields:X}),_e=E({type:"FeatureCollection",features:[]}),Ce=E(),De=E(null),Ie=E(!1);ye([v,d,h,k],je),ye(ce,nt),ye(()=>q.value,()=>Z.value=!0);function je(){Z.value=!0,Ie.value=!1}function nt(){if(re.value)try{_e.value={type:"FeatureCollection",features:[]},Ie.value=!0,De.value=null,_e.value=lW(ce.value,re.value),Ie.value=!1,(!O.value||Z.value)&&(Ce.value=_e.value.bbox)}catch(Ve){Ie.value=!1,De.value=Ve,_e.value={type:"FeatureCollection",features:[]}}else _e.value={type:"FeatureCollection",features:[]}}const Pe=E(Bo),Re=E({type:"geojson",data:{type:"FeatureCollection",features:[]}});ye(()=>B.value,$e,{immediate:!0}),Le();function Le(){var Ve;P.value=!1,Pe.value=(Ve=U.value)!=null?Ve:[]}function Fe(){Pe.value=M.exports.cloneDeep(Bo),U.value=Pe.value}function $e(){Re.value=M.exports.merge({},Re.value,{cluster:B.value})}function Me(Ve){u.value=Ve}function Qe(Ve){u.value=Array.from(new Set(u.value.concat(Ve)))}function at({ids:Ve,replace:it}){it?Me(Ve):Qe(Ve)}function lt({id:Ve,replace:it}){e.selectMode?at({ids:[Ve],replace:it}):s.push(`/collections/${d.value}/${Ve}`)}const tt=V(()=>{var Ve,it;return e.readonly?null:(it=(Ve=_.value)==null?void 0:Ve.field)!=null?it:null}),ct=V(()=>(de.value||0)<(me.value||0)&&f.value?de.value===1?l("one_filtered_item"):l("start_end_of_count_filtered_items",{start:n((+w.value-1)*h.value+1),end:n(Math.min(w.value*h.value,de.value||0)),count:n(de.value||0)}):de.value===1?l("one_item"):l("start_end_of_count_items",{start:n((+w.value-1)*h.value+1),end:n(Math.min(w.value*h.value,de.value||0)),count:n(de.value||0)})),pt=E({item:null});function zt(Ve){var it,Mn;if("item"in Ve){const Ko=(it=_.value)==null?void 0:it.field;Ve.item=Ko&&(Mn=ce.value.find(ts=>ts[Ko]===Ve.item))!=null?Mn:null}pt.value=M.exports.merge({},pt.value,Ve)}return{collection:d,geojson:_e,directusSource:Re,directusLayers:Pe,customLayers:U,updateLayers:Le,resetLayers:Fe,featureId:tt,geojsonBounds:Ce,geojsonLoading:Ie,geojsonError:De,geometryOptions:re,handleClick:lt,handleSelect:at,geometryFormat:K,geometryField:q,displayTemplate:L,isGeometryFieldNative:Y,cameraOptions:O,autoLocationFilter:T,clusterData:B,items:ce,loading:ve,error:Q,totalPages:ie,page:w,toPage:es,itemCount:de,fieldsInCollection:g,limit:h,filter:p,primaryKeyField:_,sort:k,info:y,showingCount:ct,refresh:cl,resetPresetAndRefresh:ul,geometryFields:J,customLayerDrawerOpen:P,locationFilterOutdated:x,updateLocationFilter:se,clearLocationFilter:W,clearDataFilters:le,locationFilter:F,fitGeoJSONBounds:G,template:fe,itemPopup:pt,updateItemPopup:zt};async function ul(){var Ve;await((Ve=e==null?void 0:e.resetPreset)==null?void 0:Ve.call(e)),cl()}function cl(){he()}function es(Ve){w.value=Ve}}}),mY=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:pY});const fY=z({inheritAttrs:!1,props:{collection:{type:String,required:!0},selection:{type:Array,default:()=>[]},readonly:{type:Boolean,required:!0},tableHeaders:{type:Array,required:!0},items:{type:Array,required:!0},loading:{type:Boolean,required:!0},error:{type:Object,default:null},totalPages:{type:Number,required:!0},tableSort:{type:Object,required:!0},onRowClick:{type:Function,required:!0},onSortChange:{type:Function,required:!0},tableRowHeight:{type:Number,required:!0},page:{type:Number,required:!0},toPage:{type:Function,required:!0},itemCount:{type:Number,default:null},fields:{type:Array,required:!0},limit:{type:Number,required:!0},primaryKeyField:{type:Object,default:null},info:{type:Object,default:null},sortField:{type:String,default:null},changeManualSort:{type:Function,required:!0},resetPresetAndRefresh:{type:Function,required:!0},selectAll:{type:Function,required:!0},filterUser:{type:Object,default:null},search:{type:String,default:null}},emits:["update:selection","update:tableHeaders","update:limit"],setup(e,{emit:t}){const{t:l}=te(),n=Oe(e,"selection",t),s=Oe(e,"tableHeaders",t),u=Oe(e,"limit",t),o=ht("main-element"),i=E();return ye(()=>e.page,()=>{var d;return(d=o.value)==null?void 0:d.scrollTo({top:0,behavior:"smooth"})}),et("meta+a",()=>{e.selectAll()},i),{t:l,selectionWritable:n,tableHeadersWritable:s,limitWritable:u,table:i}}}),vY={class:"layout-tabular"},_Y={class:"footer"},yY={class:"pagination"},gY={key:0,class:"per-page"};function hY(e,t,l,n,s,u){const o=c("render-display"),i=c("v-pagination"),d=c("v-select"),p=c("v-table"),f=c("v-error"),v=c("v-button"),y=c("v-info");return m(),I("div",vY,[e.loading||e.itemCount>0?(m(),S(p,{key:0,ref:"table",modelValue:e.selectionWritable,"onUpdate:modelValue":t[1]||(t[1]=_=>e.selectionWritable=_),headers:e.tableHeadersWritable,"onUpdate:headers":t[2]||(t[2]=_=>e.tableHeadersWritable=_),class:"table","fixed-header":"","show-select":e.readonly?!1:e.selection!==void 0,"show-resize":"","must-sort":"",sort:e.tableSort,items:e.items,loading:e.loading,"row-height":e.tableRowHeight,"server-sort":e.itemCount===e.limit||e.totalPages>1,"item-key":e.primaryKeyField.field,"show-manual-sort":e.sortField!==null,"manual-sort-key":e.sortField,"selection-use-keys":"","onClick:row":e.onRowClick,"onUpdate:sort":e.onSortChange,onManualSort:e.changeManualSort},xe({footer:r(()=>[C("div",_Y,[C("div",yY,[e.totalPages>1?(m(),S(i,{key:0,length:e.totalPages,"total-visible":7,"show-first-last":"","model-value":e.page,"onUpdate:modelValue":e.toPage},null,8,["length","model-value","onUpdate:modelValue"])):R("",!0)]),e.loading===!1&&e.items.length>=25?(m(),I("div",gY,[C("span",null,b(e.t("per_page")),1),a(d,{"model-value":`${e.limit}`,items:["25","50","100","250","500"," 1000"],inline:"","onUpdate:modelValue":t[0]||(t[0]=_=>e.limitWritable=+_)},null,8,["model-value"])])):R("",!0)])]),_:2},[be(e.tableHeaders,_=>({name:`item.${_.value}`,fn:r(({item:g})=>[a(o,{value:g[_.value],display:_.field.display,options:_.field.displayOptions,interface:_.field.interface,"interface-options":_.field.interfaceOptions,type:_.field.type,collection:e.collection,field:_.field.field},null,8,["value","display","options","interface","interface-options","type","collection","field"])])}))]),1032,["modelValue","headers","show-select","sort","items","loading","row-height","server-sort","item-key","show-manual-sort","manual-sort-key","onClick:row","onUpdate:sort","onManualSort"])):e.error?(m(),S(y,{key:1,type:"danger",title:e.t("unexpected_error"),icon:"error",center:""},{append:r(()=>[a(f,{error:e.error},null,8,["error"]),a(v,{small:"",class:"reset-preset",onClick:e.resetPresetAndRefresh},{default:r(()=>[D(b(e.t("reset_page_preferences")),1)]),_:1},8,["onClick"])]),default:r(()=>[D(b(e.t("unexpected_error_copy"))+" ",1)]),_:1},8,["title"])):e.itemCount===0&&(e.filterUser||e.search)?ge(e.$slots,"no-results",{key:2},void 0,!0):e.itemCount===0?ge(e.$slots,"no-items",{key:3},void 0,!0):R("",!0)])}var bY=N(fY,[["render",hY],["__scopeId","data-v-2edb585c"]]);const $Y=z({components:{Draggable:kt},inheritAttrs:!1,props:{fields:{type:Array,required:!0},activeFields:{type:Array,required:!0},tableSpacing:{type:String,required:!0},hideDragImage:{type:Function,required:!0},availableFields:{type:Array,required:!0}},emits:["update:tableSpacing","update:activeFields","update:fields"],setup(e,{emit:t}){const{t:l}=te(),n=Oe(e,"fields",t),s=Oe(e,"activeFields",t),u=Oe(e,"tableSpacing",t);return{t:l,fieldsWritable:n,activeFieldsWritable:s,tableSpacingWritable:u}}}),wY=e=>(We("data-v-4a9cb74e"),e=e(),Ge(),e),kY={class:"field"},CY={class:"type-label"},SY={class:"field"},VY={class:"type-label"},FY=wY(()=>C("div",{class:"spacer"},null,-1));function AY(e,t,l,n,s,u){const o=c("v-select"),i=c("v-icon"),d=c("v-checkbox"),p=c("draggable");return m(),I(ae,null,[C("div",kY,[C("div",CY,b(e.t("layouts.tabular.spacing")),1),a(o,{modelValue:e.tableSpacingWritable,"onUpdate:modelValue":t[0]||(t[0]=f=>e.tableSpacingWritable=f),items:[{text:e.t("layouts.tabular.compact"),value:"compact"},{text:e.t("layouts.tabular.cozy"),value:"cozy"},{text:e.t("layouts.tabular.comfortable"),value:"comfortable"}]},null,8,["modelValue","items"])]),C("div",SY,[C("div",VY,b(e.t("layouts.tabular.fields")),1),a(p,{modelValue:e.activeFieldsWritable,"onUpdate:modelValue":t[3]||(t[3]=f=>e.activeFieldsWritable=f),"item-key":"field",handle:".drag-handle","set-data":e.hideDragImage,"force-fallback":!0},{item:r(({element:f})=>[a(d,{modelValue:e.fieldsWritable,"onUpdate:modelValue":t[2]||(t[2]=v=>e.fieldsWritable=v),value:f.field,label:f.name},{append:r(()=>[FY,a(i,{name:"drag_handle",class:"drag-handle",onClick:t[1]||(t[1]=Ae(()=>{},["stop"]))})]),_:2},1032,["modelValue","value","label"])]),_:1},8,["modelValue","set-data"]),(m(!0),I(ae,null,be(e.availableFields.filter(f=>e.fields.includes(f.field)===!1),f=>(m(),S(d,{key:f.field,modelValue:e.fieldsWritable,"onUpdate:modelValue":t[4]||(t[4]=v=>e.fieldsWritable=v),value:f.field,label:f.name},null,8,["modelValue","value","label"]))),128))])],64)}var IY=N($Y,[["render",AY],["__scopeId","data-v-4a9cb74e"]]);const EY=z({inheritAttrs:!1,props:{itemCount:{type:Number,default:null},showingCount:{type:String,required:!0}}}),DY={key:0,class:"item-count"};function TY(e,t,l,n,s,u){return m(),S(Ut,{name:"fade"},{default:r(()=>[e.itemCount?(m(),I("span",DY,b(e.showingCount),1)):R("",!0)]),_:1})}var PY=N(EY,[["render",TY],["__scopeId","data-v-34941803"]]),LY=vl({id:"tabular",name:"$t:layouts.tabular.tabular",icon:"reorder",component:bY,slots:{options:IY,sidebar:()=>{},actions:PY},setup(e,{emit:t}){const{t:l,n}=te(),s=Ye(),u=Oe(e,"selection",t),o=Oe(e,"layoutOptions",t),i=Oe(e,"layoutQuery",t),{collection:d,filter:p,filterUser:f,search:v}=Ue(e),{info:y,primaryKeyField:_,fields:g,sortField:w}=ot(d),{sort:h,limit:k,page:F,fields:A,fieldsWithRelational:P}=ve(),{items:L,loading:O,error:U,totalPages:T,itemCount:B,totalCount:q,changeManualSort:K,getItems:H}=_l(d,{sort:h,limit:k,page:F,fields:P,filter:p,search:v}),{tableSort:Y,tableHeaders:J,tableRowHeight:re,onRowClick:fe,onSortChange:X,activeFields:x,tableSpacing:ee}=Q(),se=V(()=>(B.value||0)<(q.value||0)&&f.value?B.value===1?l("one_filtered_item"):l("start_end_of_count_filtered_items",{start:n((+F.value-1)*k.value+1),end:n(Math.min(F.value*k.value,B.value||0)),count:n(B.value||0)}):B.value===1?l("one_item"):l("start_end_of_count_items",{start:n((+F.value-1)*k.value+1),end:n(Math.min(F.value*k.value,B.value||0)),count:n(B.value||0)})),W=V(()=>g.value.filter(ie=>{var de,me;return((me=(de=ie.meta)==null?void 0:de.special)==null?void 0:me.includes("no-data"))!==!0}));return{tableHeaders:J,items:L,loading:O,error:U,totalPages:T,tableSort:Y,onRowClick:fe,onSortChange:X,tableRowHeight:re,page:F,toPage:Z,itemCount:B,totalCount:q,fieldsInCollection:g,fields:A,limit:k,activeFields:x,tableSpacing:ee,primaryKeyField:_,info:y,showingCount:se,sortField:w,changeManualSort:K,hideDragImage:Bt,refresh:le,resetPresetAndRefresh:G,selectAll:ce,availableFields:W,filter:p,search:v};async function G(){var ie;await((ie=e==null?void 0:e.resetPreset)==null?void 0:ie.call(e)),le()}function le(){H()}function Z(ie){F.value=ie}function ce(){if(!_.value)return;const ie=_.value;u.value=M.exports.clone(L.value).map(de=>de[ie.field])}function ve(){const ie=_t(i,"page",1),de=_t(i,"limit",25),me=_t(i,"sort",()=>{var Ce;return _.value?[(Ce=_.value)==null?void 0:Ce.field]:[]}),he=_t(i,"fields",()=>g.value.filter(Ce=>{var De;return!((De=Ce.meta)==null?void 0:De.hidden)}).slice(0,4).map(({field:Ce})=>Ce).sort()),_e=V(()=>e.collection?Zt(he.value,e.collection):[]);return{sort:me,limit:de,page:ie,fields:he,fieldsWithRelational:_e}}function Q(){const ie=V(()=>{var Pe,Re;return((Pe=h.value)==null?void 0:Pe[0])?((Re=h.value)==null?void 0:Re[0].startsWith("-"))?{by:h.value[0].substring(1),desc:!0}:{by:h.value[0],desc:!1}:null}),de=E({});ye(()=>o.value,()=>{de.value={}});const me=M.exports.debounce(()=>{o.value=Object.assign({},o.value,{widths:de.value})},350),he=V({get(){return A.value.map(Pe=>g.value.find(Re=>Re.field===Pe)).filter(Pe=>Pe)},set(Pe){A.value=Pe.map(Re=>Re.field)}}),_e=V({get(){return he.value.map(Pe=>{var Re,Le,Fe,$e,Me,Qe;return{text:Pe.name,value:Pe.field,width:de.value[Pe.field]||((Le=(Re=o.value)==null?void 0:Re.widths)==null?void 0:Le[Pe.field])||null,field:{display:((Fe=Pe.meta)==null?void 0:Fe.display)||_i(Pe.type),displayOptions:($e=Pe.meta)==null?void 0:$e.display_options,interface:(Me=Pe.meta)==null?void 0:Me.interface,interfaceOptions:(Qe=Pe.meta)==null?void 0:Qe.options,type:Pe.type,field:Pe.field},sortable:["json","o2m","m2o","m2m","m2a","file","files","alias","presentation","translations"].includes(Pe.type)===!1}})},set(Pe){const Re={};Pe.forEach(Le=>{Le.width&&(Re[Le.value]=Le.width)}),de.value=Re,me()}}),Ce=_t(o,"spacing","cozy"),De=V(()=>{switch(Ce.value){case"compact":return 32;case"cozy":default:return 48;case"comfortable":return 64}});return{tableSort:ie,tableHeaders:_e,tableSpacing:Ce,tableRowHeight:De,onRowClick:Ie,onSortChange:je,activeFields:he,getFieldDisplay:nt};function Ie({item:Pe,event:Re}){var Fe,$e;if(e.readonly===!0||!_.value)return;const Le=Pe[_.value.field];if(e.selectMode||((Fe=u.value)==null?void 0:Fe.length)>0)(($e=u.value)==null?void 0:$e.includes(Le))===!1?u.value.push(Le):u.value=u.value.filter(Me=>Me!==Le);else{const Me=s.resolve(`/collections/${d.value}/${encodeURIComponent(Le)}`);Re.ctrlKey||Re.metaKey?window.open(Me.href,"_blank"):s.push(Me)}}function je(Pe){let Re=Pe.by;if(!Pe.by){h.value=[];return}Pe.desc===!0&&(Re="-"+Re),h.value=[Re]}function nt(Pe){var Le;const Re=g.value.find(Fe=>Fe.field===Pe);return((Le=Re==null?void 0:Re.meta)==null?void 0:Le.display)?{display:Re.meta.display,options:Re.meta.display_options}:null}}}}),OY=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:LY});const{layoutsRaw:Yi}=cn();async function jY(e){const l=Object.values({"./calendar/index.ts":HX,"./cards/index.ts":RZ,"./map/index.ts":mY,"./tabular/index.ts":OY}).map(n=>n.default);try{const n=await j(()=>import(`${Je()}extensions/layouts/index.js`),[]);l.push(...n.default)}catch(n){console.warn("Couldn't load custom layouts"),console.warn(n)}Yi.value=l,Yi.value.forEach(n=>{e.component(`layout-${n.id}`,n.component),e.component(`layout-options-${n.id}`,n.slots.options),e.component(`layout-sidebar-${n.id}`,n.slots.sidebar),e.component(`layout-actions-${n.id}`,n.slots.actions)})}var RY="assets/logo-light.1a93a59d.svg";const MY=z({props:{wide:{type:Boolean,default:!1}},setup(){var o;const e=On(),t=V(()=>{var i,d;return!!((d=(i=e.info)==null?void 0:i.project)==null?void 0:d.project_color)}),l=V(()=>{var d,p,f,v,y;const i="#263238";return((p=(d=e.info)==null?void 0:d.project)==null?void 0:p.public_background)?`url(${Je()+`assets/${(f=e.info.project)==null?void 0:f.public_background}`})`:((y=(v=e.info)==null?void 0:v.project)==null?void 0:y.project_color)||i}),n=V(()=>({background:l.value,backgroundSize:"cover",backgroundPosition:"center center"})),s=V(()=>{var i,d,p;return((d=(i=e.info)==null?void 0:i.project)==null?void 0:d.public_foreground)?Je()+`assets/${(p=e.info.project)==null?void 0:p.public_foreground}`:null}),u=V(()=>{var i,d,p;return((d=(i=e.info)==null?void 0:i.project)==null?void 0:d.project_logo)?Je()+`assets/${(p=e.info.project)==null?void 0:p.project_logo}`:null});return{version:sa,artStyles:n,branding:(o=e.info)==null?void 0:o.project,foregroundURL:s,logoURL:u,isBranded:t}}}),xi=e=>(We("data-v-441fc56e"),e=e(),Ge(),e),UY={class:"title-box"},NY=["src","alt"],BY=xi(()=>C("img",{src:RY,alt:"Directus",class:"directus-logo"},null,-1)),qY=[BY],zY={class:"title"},KY={class:"type-title"},HY=xi(()=>C("p",{class:"subtitle"},"Admin App",-1)),WY={class:"content"},GY={class:"notice"},JY=["src","alt"],QY={class:"note-container"},XY={key:0,class:"note"};function ZY(e,t,l,n,s,u){const o=we("md");return m(),I("div",{class:ue(["public-view",{branded:e.isBranded}])},[C("div",{class:ue(["container",{wide:e.wide}])},[C("div",UY,[e.branding&&e.branding.project_logo?(m(),I("div",{key:0,class:"logo",style:ze({backgroundColor:e.branding.project_color})},[C("img",{src:e.logoURL,alt:e.branding.project_name||"Logo"},null,8,NY)],4)):(m(),I("div",{key:1,class:"logo",style:ze({backgroundColor:e.branding.project_color})},qY,4)),C("div",zY,[C("h1",KY,b(e.branding&&e.branding.project_name),1),HY])]),C("div",WY,[ge(e.$slots,"default")]),C("div",GY,[ge(e.$slots,"notice")])],2),C("div",{class:"art",style:ze(e.artStyles)},[a(Ut,{name:"scale"},{default:r(()=>[e.foregroundURL?(m(),I("img",{key:0,class:"foreground",src:e.foregroundURL,alt:e.branding&&e.branding.project_name},null,8,JY)):R("",!0)]),_:1}),C("div",QY,[e.branding&&e.branding.public_note?ne((m(),I("div",XY,null,512)),[[o,e.branding.public_note]]):R("",!0)])],4)],2)}var YY=N(MY,[["render",ZY],["__scopeId","data-v-441fc56e"]]);const xY=aa(()=>j(()=>import("./assets/index.9afc73f5.js"),["assets/index.9afc73f5.js","assets/index.86888948.css","assets/vendor.6ad70522.js","assets/vendor.fe7856f0.css","assets/use-sync.042e848f.js"]));function ex(e){e.component("PublicView",YY),e.component("PrivateView",xY)}tx();async function tx(){console.log(_$),console.info(`Hey! Interested in helping build this open-source data management platform?
If so, join our growing team of contributors at: https://directus.chat`),console.info("%c\u{1F430} Starting Directus...","color:Green"),console.time("\u{1F553} Application Loaded");const e=Cr(i6);e.use(Rt),e.use(qe),e.use(Sr()),vU(e),aU(e),ex(e),await Promise.all([kX(e),QU(e),sq(e),jY(e),jT()]),e.mount("#app"),console.timeEnd("\u{1F553} Application Loaded"),console.group("%c\u2728 Project Information","color:DodgerBlue"),console.info("%cEnvironment: production","color:DodgerBlue"),console.groupEnd(),window.addEventListener("dragover",t=>t.preventDefault(),!1),window.addEventListener("drop",t=>t.preventDefault(),!1)}export{wL as H,vn as M,N as _,Tl as a,dt as b,Xe as c,Jl as d,To as e,On as f,Je as g,Dl as h,wt as i,Pa as j,Kw as k,qe as l,ha as m,ZT as n,Ft as t,ll as u};
