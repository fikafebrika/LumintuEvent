var e=Object.defineProperty,t=Object.defineProperties,l=Object.getOwnPropertyDescriptors,a=Object.getOwnPropertySymbols,i=Object.prototype.hasOwnProperty,n=Object.prototype.propertyIsEnumerable,o=(t,l,a)=>l in t?e(t,l,{enumerable:!0,configurable:!0,writable:!0,value:a}):t[l]=a,s=(e,t)=>{for(var l in t||(t={}))i.call(t,l)&&o(e,l,t[l]);if(a)for(var l of a(t))n.call(t,l)&&o(e,l,t[l]);return e},r=(e,a)=>t(e,l(a)),d=("undefined"!=typeof require&&require,(e,t,l)=>(o(e,"symbol"!=typeof t?t+"":t,l),l));import{d as c,s as u,c as p,l as m,b as f,e as v,f as _,g as y,h,i as g,j as b,k,n as w,u as x,o as V,p as C,r as S,q as E,t as A,w as D,v as I,y as F,z as O,A as $,B as T,C as P,D as j,E as L,F as R,G as M,H as U,I as N,J as B,K as q,L as z,M as K,N as W,O as H,P as G,Q,R as X,S as J,T as Y,U as Z,V as ee,W as te,X as le,Y as ae,Z as ie,_ as ne,$ as oe,a0 as se,a1 as re,a2 as de,a3 as ce,a4 as ue,a5 as pe,a6 as me,a7 as fe,a8 as ve,a9 as _e,aa as ye,ab as he,ac as ge,ad as be,ae as ke,af as we,ag as xe,ah as Ve,ai as Ce,aj as Se,ak as Ee,al as Ae,am as De,an as Ie,ao as Fe,ap as Oe,aq as $e,ar as Te,as as Pe,at as je,au as Le,av as Re,aw as Me,ax as Ue,ay as Ne,az as Be,aA as qe,aB as ze,aC as Ke,aD as We,aE as He,aF as Ge,aG as Qe,aH as Xe,aI as Je,aJ as Ye,aK as Ze,aL as et,aM as tt,aN as lt,aO as at,aP as it,aQ as nt,aR as ot,aS as st,aT as rt,aU as dt,aV as ct,aW as ut,aX as pt,aY as mt,aZ as ft,a_ as vt,a$ as _t,b0 as yt,b1 as ht,b2 as gt,b3 as bt,b4 as kt,b5 as wt,b6 as xt,b7 as Vt,b8 as Ct,b9 as St,ba as Et,bb as At,bc as Dt,bd as It,be as Ft,bf as Ot,bg as $t,bh as Tt,bi as Pt,bj as jt,bk as Lt,bl as Rt,bm as Mt,bn as Ut,bo as Nt,bp as Bt,bq as qt,br as zt,bs as Kt,bt as Wt,bu as Ht,bv as Gt}from"./assets/vendor.162b55e9.js";import{g as Qt,u as Xt,a as Jt,b as Yt,d as Zt,c as el,S as tl,A as ll,f as al,e as il,h as nl,i as ol,j as sl,k as rl}from"./assets/use-sync.6d51d5e5.js";!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))t(e);new MutationObserver((e=>{for(const l of e)if("childList"===l.type)for(const e of l.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&t(e)})).observe(document,{childList:!0,subtree:!0})}function t(e){if(e.ep)return;e.ep=!0;const t=function(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerpolicy&&(t.referrerPolicy=e.referrerpolicy),"use-credentials"===e.crossorigin?t.credentials="include":"anonymous"===e.crossorigin?t.credentials="omit":t.credentials="same-origin",t}(e);fetch(e.href,t)}}();const dl=c({id:"appStore",state:()=>({sidebarOpen:!1,fullScreen:!1,hydrated:!1,hydrating:!1,error:null,authenticated:!1,basemap:"OpenStreetMap"})}),cl={},ul=function(e,t){return t&&0!==t.length?Promise.all(t.map((e=>{if((e=`${e}`)in cl)return;cl[e]=!0;const t=e.endsWith(".css"),l=t?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${e}"]${l}`))return;const a=document.createElement("link");return a.rel=t?"stylesheet":"modulepreload",t||(a.as="script",a.crossOrigin=""),a.href=e,document.head.appendChild(a),t?new Promise(((e,t)=>{a.addEventListener("load",e),a.addEventListener("error",t)})):void 0}))).then((()=>e())):e()},pl=u([]),ml=u([]);function fl(){return{displays:ml,displaysRaw:pl}}const vl=u([]),_l=u([]);function yl(){return{interfaces:_l,interfacesRaw:vl}}const hl=u([]),gl=u([]);function bl(){return{panels:gl,panelsRaw:hl}}const kl=u([]),wl=u([]);function xl(){return{layouts:wl,layoutsRaw:kl}}const Vl=u([]),Cl=u([]);function Sl(){return{modules:Cl,modulesRaw:Vl}}var El={avatar:"Avatar",default_provider:"Default",published:"Published",draft:"Draft",archived:"Archived",modules:"Modules",module_bar:"Module Bar",tile_size:"Tile Size",edit_field:"Edit Field",conditions:"Conditions",maps:"Maps",item_creation:"Item Creation",item_revision:"Item Revision",enter_a_name:"Enter a Name...",duplicate_field:"Duplicate Field",half_width:"Half Width",full_width:"Full Width",group:"Group",and:"And",or:"Or",fill_width:"Fill Width",field_name_translations:"Field Name Translations",enter_password_to_enable_tfa:"Enter your password to enable Two-Factor Authentication",add_field:"Add Field",role_name:"Role Name",branch:"Branch",leaf:"Leaf",indeterminate:"Indeterminate",edit_collection:"Edit Collection",exclusive:"Exclusive",children:"Children",db_only_click_to_configure:"Database Only: Click to Configure ",show_archived_items:"Show Archived Items",edited:"Value Edited",required:"Required",required_for_app_access:"Required for App Access",requires_value:"Requires value",create_preset:"Create Preset",create_panel:"Create Panel",create_role:"Create Role",create_user:"Create User",delete_panel:"Delete Panel",create_webhook:"Create Webhook",invite_users:"Invite Users",invite:"Invite",email_already_invited:'Email "{email}" has already been invited',emails:"Emails",connection_excellent:"Excellent Connection",connection_good:"Good Connection",connection_fair:"Fair Connection",connection_poor:"Poor Connection",primary:"Primary",rename_folder:"Rename Folder",delete_folder:"Delete Folder",prefix:"Prefix",suffix:"Suffix",reset_bookmark:"Reset Bookmark",rename_bookmark:"Rename Bookmark",update_bookmark:"Update Bookmark",delete_bookmark:"Delete Bookmark",delete_bookmark_copy:'Are you sure you want to delete the "{bookmark}" bookmark? This action cannot be undone.',logoutReason:{SIGN_OUT:"Signed out",SESSION_EXPIRED:"Session expired"},public_label:"Public",public_description:"Controls what API data is available without authenticating.",not_allowed:"Not Allowed",directus_version:"Directus Version",node_version:"Node Version",node_uptime:"Node Uptime",os_type:"OS Type",os_version:"OS Version",os_uptime:"OS Uptime",os_totalmem:"OS Memory",archive:"Archive",archive_confirm:"Are you sure you want to archive this item?",archive_confirm_count:"No Items Selected | Are you sure you want to archive this item? | Are you sure you want to archive these {count} items?",reset_system_permissions_to:"Reset System Permissions to:",reset_system_permissions_copy:"This action will overwrite any custom permissions you may have applied to the system collections. Are you sure?",the_following_are_minimum_permissions:'The following are minimum permissions required when "App Access" is enabled. You can extend permissions beyond this, but not below.',app_access_minimum:"App Access Minimum",recommended_defaults:"Recommended Defaults",unarchive:"Unarchive",unarchive_confirm:"Are you sure you want to unarchive this item?",nested_files_folders_will_be_moved:"Nested files and folders will be moved one level up.",unknown_validation_errors:"There were validation errors for the following hidden fields:",validationError:{eq:"Value has to be {valid}",neq:"Value can't be {invalid}",in:"Value has to be one of {valid}",nin:"Value can't be one of {invalid}",contains:"Value has to contain {substring}",ncontains:"Value can't contain {substring}",gt:"Value has to be greater than {valid}",gte:"Value has to be greater than or equal to {valid}",lt:"Value has to be less than {valid}",lte:"Value has to be less than or equal to {valid}",empty:"Value has to be empty",nempty:"Value can't be empty",null:"Value has to be null",nnull:"Value can't be null",required:"Value is required",unique:"Value has to be unique",regex:"Value doesn't have the correct format"},all_access:"All Access",no_access:"No Access",use_custom:"Use Custom",nullable:"Nullable",allow_null_value:"Allow NULL value",allow_multiple:"Allow Multiple",allow_multiple_to_be_open:"Allow Multiple to be Opened",enter_value_to_replace_nulls:"Please enter a new value to replace any NULLs currently within this field.",field_standard:"Standard",field_presentation:"Presentation & Aliases",field_file:"Single File",field_files:"Multiple Files",field_m2o:"M2O Relationship",field_m2a:"M2A Relationship",field_o2m:"O2M Relationship",field_m2m:"M2M Relationship",field_translations:"Translations",field_group:"Field Group",item_permissions:"Item Permissions",field_permissions:"Field Permissions",field_validation:"Field Validation",field_presets:"Field Presets",permissions_for_role:"Items the {role} Role can {action}.",fields_for_role:"Fields the {role} Role can {action}.",validation_for_role:"Field {action} rules the {role} Role must obey.",presets_for_role:"Field value defaults for the {role} Role.",presentation_and_aliases:"Presentation & Aliases",revision_post_create:"Here is what this item looked like when it was created.",revision_post_update:"Here is what this item looked like after the update.",changes_made:"Below are the specific changes made in this revision.",no_relational_data:"Keep in mind that relational data is not included here.",hide_field_on_detail:"Hide Field on Detail",show_field_on_detail:"Show Field on Detail",delete_field:"Delete Field",fields_and_layout:"Fields & Layout",field_create_success:'Created Field: "{field}"',field_update_success:'Updated Field: "{field}"',duplicate_where_to:"Where would you like to duplicate this field to?",language:"Language",aggregate_function:"Aggregate Function",aggregate_precision:"Aggregate Precision",group_aggregation:"Group Aggregation",group_precision:"Group Precision",global:"Global",admins_have_all_permissions:"Admins have all permissions",camera:"Camera",show_zero:"Show Zero",sum:"Sum",sum_distinct:"Sum Distinct",avg:"Average",avg_distinct:"Average Distinct",count:"Count",count_distinct:"Count Distinct",min:"Min",max:"Max",exposure:"Exposure",shutter:"Shutter",iso:"ISO",focal_length:"Focal Length",schema_setup_key:"This field's database column name and API key",create_field:"Create Field",creating_new_field:"New Field ({collection})",field_in_collection:"{field} ({collection})",reset_page_preferences:"Reset Page Preferences",hidden_field:"Hidden Field",hidden_on_detail:"Hidden on Detail",disabled_editing_value:"Disable editing value",key:"Key",alias:"Alias",bigInteger:"Big Integer",boolean:"Boolean",date:"Date",date_range:"Date Range",datetime:"DateTime",precision:"Precision",decimal:"Decimal",float:"Float",integer:"Integer",json:"JSON",xml:"XML",string:"String",text:"Text",time:"Time",timestamp:"Timestamp",uuid:"UUID",hash:"Hash",geometry:"Geometry",not_available_for_type:"Not Available for this Type",create_translations:"Create Translations",auto_refresh:"Auto Refresh",refresh_interval:"Refresh Interval",no_refresh:"Do not refresh",refresh_interval_seconds:"Refresh Instantly | Every Second | Every {seconds} Seconds",refresh_interval_minutes:"Every Minute | Every {minutes} Minutes",auto_generate:"Auto-Generate",this_will_auto_setup_fields_relations:"This will automatically setup all required fields and relations.",click_here:"Click here",to_manually_setup_translations:"to manually setup translations.",click_to_manage_translated_fields:"There are no translated fields yet. Click here to create them. | There is one translated field. Click here to manage it. | There are {count} translated fields. Click here to manage them.",fields_group:"Fields Group",no_collections_found:"No collections found.",new_data_alert:"The following will be created within your Data Model:",search_collection:"Search Collection...",new_field:"New Field",new_collection:"New Collection",add_m2o_to_collection:'Add Many-to-One to "{collection}"',add_o2m_to_collection:'Add One-to-Many to "{collection}"',add_m2m_to_collection:'Add Many-to-Many to "{collection}"',choose_a_type:"Choose a Type...",determined_by_relationship:"Determined by Relationship",add_note:"Add a helpful note for users...",add_link:"Add Link",custom_link:"Custom Link",default_value:"Default Value",standard_field:"Standard Field",single_file:"Single File",multiple_files:"Multiple Files",m2o_relationship:"Many to One Relationship",o2m_relationship:"One to Many Relationship",m2m_relationship:"Many to Many Relationship",m2a_relationship:"Many to Any Relationship",invalid_item:"Invalid Item",next:"Next",field_name:"Field Name",translations:"Translations",note:"Note",enter_a_value:"Enter a value...",enter_a_placeholder:"Enter a placeholder...",length:"Length",precision_scale:"Precision & Scale",readonly:"Readonly",unique:"Unique",updated_on:"Updated On",updated_by:"Updated By",primary_key:"Primary Key",foreign_key:"Foreign Key",finish_setup:"Finish Setup",dismiss:"Dismiss",raw_value:"Raw value",edit_raw_value:"Edit Raw Value",enter_raw_value:"Enter raw value...",clear_value:"Clear value",clear_changes:"Clear Changes",reset_to_default:"Reset to default",undo_changes:"Undo changes",notifications:"Notifications",show_all_activity:"Show All Activity",page_not_found:"Page Not Found",page_not_found_body:"The page you are looking for doesn't seem to exist.",confirm_revert:"Confirm Revert",confirm_revert_body:"This will revert the item to the selected state.",display:"Display",settings_update_success:"Settings updated",title:"Title",revision_delta_created:"Created",revision_delta_created_externally:"Created Externally",revision_delta_updated:"Updated 1 Field | Updated {count} Fields",revision_delta_deleted:"Deleted",revision_delta_reverted:"Reverted",revision_delta_other:"Revision",revision_delta_by:"{date} by {user}",private_user:"Private User",creation_preview:"Creation Preview",revision_preview:"Revision Preview",updates_made:"Updates Made",leave_comment:"Leave a comment...",post_comment_success:"Comment posted",item_create_success:"Item Created | Items Created",item_update_success:"Item Updated | Items Updated",item_delete_success:"Item Deleted | Items Deleted",this_collection:"This Collection",related_collection:"Related Collection",related_collections:"Related Collections",translations_collection:"Translation Collection",languages_collection:"Languages Collection",export_data:"Export Data",format:"Format",use_current_filters_settings:"Use Current Filters & Settings",export_collection:"Export {collection}",last_page:"Last Page",last_access:"Last Access",fill_template:"Fill with Template Value",a_unique_table_name:"A unique table name...",a_unique_column_name:"A unique column name...",enable_custom_values:"Enable custom values",submit:"Submit",move_to_folder:"Move to Folder",move:"Move",system:"System",add_field_related:"Add Field to Related Collection",interface_label:"Interface",today:"Today",yesterday:"Yesterday",delete_comment:"Delete Comment","date-fns_date":"PPP","date-fns_time":"h:mm:ss a","date-fns_time_no_seconds":"h:mm a","date-fns_date_short":"MMM d, u","date-fns_time_short":"h:mma","date-fns_date_short_no_year":"MMM d",month:"Month",year:"Year",select_all:"Select All",months:{january:"January",february:"February",march:"March",april:"April",may:"May",june:"June",july:"July",august:"August",september:"September",october:"October",november:"November",december:"December"},drag_mode:"Drag Mode",cancel_crop:"Cancel Crop",original:"Original",url:"URL",import_label:"Import",file_details:"File Details",dimensions:"Dimensions",size:"Size",created:"Created",modified:"Modified",checksum:"Checksum",owner:"Owner",edited_by:"Edited by",folder:"Folder",zoom:"Zoom",download:"Download",open:"Open",open_in_new_window:"Open in New Window",foreground_color:"Foreground Color",background_color:"Background Color",upload_from_device:"Upload File from Device",choose_from_library:"Choose File from Library",import_from_url:"Import File from URL",replace_from_device:"Replace File from Device",replace_from_library:"Replace File from Library",replace_from_url:"Replace File from URL",no_file_selected:"No File Selected",download_file:"Download File",collection_key:"Collection Key",name:"Name",primary_key_field:"Primary Key Field",type:"Type",creating_new_collection:"Creating New Collection",created_by:"Created By",created_on:"Created On",creating_collection_info:"Name the collection and setup its unique “key” field...",creating_collection_system:"Enable and rename any of these optional fields.",auto_increment_integer:"Auto-incremented integer",generated_uuid:"Generated UUID",manual_string:"Manually entered string",save_and_create_new:"Save and Create New",save_and_stay:"Save and Stay",save_as_copy:"Save as Copy",add_existing:"Add Existing",creating_items:"Creating Items",enable_create_button:"Enable Create Button",selecting_items:"Selecting Items",enable_select_button:"Enable Select Button",comments:"Comments",no_comments:"No Comments Yet",click_to_expand:"Click to Expand",select_item:"Select Item",no_items:"No items",search_items:"Search items...",disabled:"Disabled",information:"Information",report_bug:"Report Bug",request_feature:"Request Feature",interface_not_found:'Interface "{interface}" not found.',reset_interface:"Reset Interface",display_not_found:'Display "{display}" not found.',reset_display:"Reset Display","list-m2a":"Builder (M2A)",item_count:"No Items | One Item | {count} Items",no_items_copy:"There are no items in this collection yet.",file_count:"No Files | One File | {count} Files",no_files_copy:"There are no files here.",user_count:"No Users | One User | {count} Users",no_users_copy:"There are no users in this role yet.",webhooks_count:"No Webhooks | One Webhook | {count} Webhooks",no_webhooks_copy:"No webhooks have been configured yet. Get started by creating one below.",all_items:"All Items",any:"Any",csv:"CSV",no_collections:"No Collections",create_collection:"Create Collection",no_collections_copy_admin:"You don’t have any Collections yet. Click the button below to get started.",no_collections_copy:"You don’t have any Collections yet. Please contact your system administrator.",relationship_not_setup:"The relationship hasn't been configured correctly",display_template_not_setup:"The display template option is misconfigured",collection_field_not_setup:"The collection field option is misconfigured",select_a_collection:"Select a Collection",select_a_field:"Select a Field",active:"Active",move_to:"Move To...",copy:"Copy",copy_to:"Copy To...",no_other_dashboards_copy:"You don't have any other Dashboards yet.",inactive:"Inactive",users:"Users",activity:"Activity",webhooks:"Webhooks",decimals:"Decimals",value_decimals:"Value Decimals",min_value:"Min Value",max_value:"Max Value",automatic:"Automatic",field_width:"Field Width",add_filter:"Add Filter",upper_limit:"Upper limit...",lower_limit:"Lower limit...",user_directory:"User Directory",documentation:"Documentation",sidebar:"Sidebar",duration:"Duration",charset:"Charset",second:"second",file_moved:"File Moved",collection_created:"Collection Created",modified_on:"Modified On",card_size:"Card Size",sort_field:"Sort Field",add_sort_field:"Add Sort Field",sort:"Sort",status:"Status",remove:"Remove",toggle_manual_sorting:"Toggle Manual Sorting",bookmark_doesnt_exist:"Bookmark Doesn't Exist",bookmark_doesnt_exist_copy:"The bookmark you're trying to open couldn't be found.",bookmark_doesnt_exist_cta:"Return to collection",select_an_item:"Select an item...",edit:"Edit",enabled:"Enabled",disable_tfa:"Disable 2FA",tfa_scan_code:"Scan the code in your authenticator app to finish setting up 2FA",enter_otp_to_disable_tfa:"Enter the OTP to disable 2FA",create_account:"Create Account",account_created_successfully:"Account Created Successfully",auto_fill:"Auto Fill",corresponding_field:"Corresponding Field",errors:{COLLECTION_NOT_FOUND:"Collection doesn't exist",FIELD_NOT_FOUND:"Field not found",FORBIDDEN:"Forbidden",INVALID_CREDENTIALS:"Wrong username or password",INVALID_OTP:"Wrong one-time password",INVALID_PAYLOAD:"Invalid payload",INVALID_QUERY:"Invalid query",ITEM_LIMIT_REACHED:"Item limit reached",ITEM_NOT_FOUND:"Item not found",ROUTE_NOT_FOUND:"Not found",RECORD_NOT_UNIQUE:"Duplicate value detected",USER_SUSPENDED:"User Suspended",CONTAINS_NULL_VALUES:"Field contains null values",UNPROCESSABLE_ENTITY:"Unprocessable entity",INTERNAL_SERVER_ERROR:"Unexpected Error",NOT_NULL_VIOLATION:"Value can't be null",ILLEGAL_ASSET_TRANSFORMATION:"Image source too large to preview",UNKNOWN:"Unexpected Error"},security:"Security",value_hashed:"Value Securely Hashed",bookmark_name:"Bookmark name...",create_bookmark:"Create Bookmark",edit_bookmark:"Edit Bookmark",bookmarks:"Bookmarks",presets:"Presets",unexpected_error:"Unexpected Error",unexpected_error_copy:"An unexpected error has occurred. Please try again later.",copy_details:"Copy Details",no_app_access:"No App Access",no_app_access_copy:"This user isn't allowed to use the admin app.",password_reset_sent:"We've sent you a secure link to reset your password",password_reset_successful:"Password successfully reset",back:"Back",filter:"Filter",editing_image:"Editing Image",square:"Square",free:"Free",flip_horizontal:"Flip Horizontal",flip_vertical:"Flip Vertical",aspect_ratio:"Aspect Ratio",rotate:"Rotate",all_users:"All Users",delete_collection:"Delete Collection",update_collection_success:"Updated Collection",delete_collection_success:"Deleted Collection",start_end_of_count_items:"{start}-{end} of {count} items",start_end_of_count_filtered_items:"{start}-{end} of {count} filtered items",one_item:"1 item",one_filtered_item:"1 filtered item",delete_collection_are_you_sure:"Are you sure you want to delete this collection? This will delete the collection and all items in it. This action is permanent.",collections_shown:"Collections Shown",visible_collections:"Visible Collections",hidden_collections:"Hidden Collections",show_hidden_collections:"Show Hidden Collections",hide_hidden_collections:"Hide Hidden Collections",show_header:"Show Header",unmanaged_collections:"Unconfigured Collections",system_collections:"System Collections",placeholder:"Placeholder",icon_left:"Icon Left",icon_right:"Icon Right",count_other_revisions:"{count} Other Revisions",font:"Font",sans_serif:"Sans Serif",serif:"Serif",monospace:"Monospace",divider:"Divider",color:"Color",circle:"Circle",empty_item:"Empty Item",log_in_with:"Log In with {provider}",conditional_styles:"Conditional Styles",advanced_settings:"Advanced Settings",advanced_filter:"Advanced Filter",delete_advanced_filter:"Delete Filter",change_advanced_filter_operator:"Change Operator",operators:{eq:"Equals",neq:"Doesn't equal",lt:"Less than",gt:"Greater than",lte:"Less than or equal to",gte:"Greater than or equal to",in:"Is one of",nin:"Is not one of",null:"Is null",nnull:"Isn't null",contains:"Contains",ncontains:"Doesn't contain",starts_with:"Starts with",nstarts_with:"Doesn't start with",ends_with:"Ends with",nends_with:"Doesn't end with",between:"Is between",nbetween:"Isn't between",empty:"Is empty",nempty:"Isn't empty",all:"Contains these keys",has:"Contains some of these keys",intersects:"Intersects",nintersects:"Doesn't intersect",intersects_bbox:"Intersects bounding box",nintersects_bbox:"Doesn't intersect bounding box"},loading:"Loading...",drop_to_upload:"Drop to Upload",item:"Item",items:"Items",upload_file:"Upload File",upload_file_indeterminate:"Uploading File...",upload_file_success:"File Uploaded",upload_files_indeterminate:"Uploading files {done}/{total}",upload_files_success:"{count} Files Uploaded",upload_pending:"Upload Pending",drag_file_here:"Drag & Drop a File Here",click_to_browse:"Click to Browse",interface_options:"Interface Options",layout_options:"Layout Options",rows:"Rows",columns:"Columns",collection_setup:"Collection Setup",optional_system_fields:"Optional System Fields",value_unique:"Value has to be unique",all_activity:"All Activity",create_item:"Create Item",display_template:"Display Template",language_display_template:"Language Display Template",translations_display_template:"Translations Display Template",n_items_selected:"No Items Selected | 1 Item Selected | {n} Items Selected",per_page:"Per Page",all_files:"All Files",my_files:"My Files",recent_files:"Recent Files",create_folder:"Create Folder",folder_name:"Folder Name...",add_file:"Add File",replace_file:"Replace File",no_results:"No Results",no_results_copy:"Adjust or clear search filters to see results.",clear_filters:"Clear Filters",saves_automatically:"Saves Automatically",role:"Role",rule:"Rule",user:"User",no_presets:"No Presets",no_presets_copy:"No presets or bookmarks have been saved yet.",no_presets_cta:"Add Preset",presets_only:"Presets Only",create:"Create",on_create:"On Create",on_update:"On Update",read:"Read",update:"Update",select_fields:"Select Fields",format_text:"Format Text",format_value:"Format Value",abbreviate_value:"Abbreviate Value",operator:"Operator",bold:"Bold",toggle:"Toggle",icon_on:"Icon On",icon_off:"Icon Off",label:"Label",insights:"Insights (Beta)",dashboard:"Dashboard",panel:"Panel",panel_options:"Panel Options",panel_header:"Panel Header",panel_name_placeholder:"Name this panel...",panel_note_placeholder:"Optional details about this panel...",panel_delete_confirm:"Are you sure you want to delete this panel? This action can not be undone.",dashboard_delete_confirm:"Are you sure you want to delete this dashboard? This action can not be undone.",edit_dashboard:"Edit Dashboard",delete_dashboard:"Delete Dashboard",visible:"Visible",prefix_placeholder:"Text before value...",suffix_placeholder:"Text after value...",decimals_placeholder:"Number of decimal places...",no_dashboards:"No Dashboards",no_dashboards_copy:"You don’t have any Dashboards yet.",no_data:"No Data",create_dashboard:"Create Dashboard",dashboard_name:"Dashboard Name",full_screen:"Full Screen",edit_panels:"Edit Panels",fit_to_screen:"Fit to Screen",image_url:"Image Url",alt_text:"Alternative Text",media:"Media",quality:"Quality",width:"Width",height:"Height",source:"Source",url_placeholder:"Enter an url...",display_text:"Display Text",display_text_placeholder:"Enter a display text...",tooltip:"Tooltip",tooltip_placeholder:"Enter a tooltip...",unlimited:"Unlimited",open_link_in:"Open link in",new_tab:"New tab",current_tab:"Current tab",wysiwyg_options:{aligncenter:"Align Center",alignjustify:"Align Justify",alignleft:"Align Left",alignnone:"Align None",alignright:"Align Right",forecolor:"Foreground Color",backcolor:"Background Color",bold:"Bold",italic:"Italic",underline:"Underline",strikethrough:"Strikethrough",subscript:"Subscript",superscript:"Superscript",codeblock:"Code",blockquote:"Blockquote",bullist:"Bullet List",numlist:"Numbered List",hr:"Horizontal Rule",link:"Add/Edit Link",unlink:"Remove Link",media:"Add/Edit Media",image:"Add/Edit Image",copy:"Copy",cut:"Cut",paste:"Paste",heading:"Heading",h1:"Heading 1",h2:"Heading 2",h3:"Heading 3",h4:"Heading 4",h5:"Heading 5",h6:"Heading 6",fontselect:"Select Font",fontsizeselect:"Select Font Size",indent:"Indent",outdent:"Outdent",undo:"Undo",redo:"Redo",remove:"Remove",removeformat:"Remove Format",selectall:"Select All",table:"Table",visualaid:"View invisible elements",source_code:"Edit Source Code",fullscreen:"Full Screen",directionality:"Directionality"},dropdown:"Dropdown",choices:"Choices",choices_option_configured_incorrectly:"Choices configured incorrectly",deselect:"Deselect",deselect_all:"Deselect All",other:"Other...",adding_user:"Adding User",unknown_user:"Unknown User",creating_in:"Creating Item in {collection}",editing_in:"Editing Item in {collection}",creating_unit:"Creating {unit}",editing_unit:"Editing {unit}",editing_in_batch:"Batch Editing {count} Items",no_options_available:"No options available",settings_data_model:"Data Model",settings_permissions:"Roles & Permissions",settings_project:"Project Settings",settings_webhooks:"Webhooks",settings_presets:"Presets & Bookmarks",one_or_more_options_are_missing:"One or more options are missing",scope:"Scope",select:"Select...",layout:"Layout",tree_view:"Tree View",changes_are_permanent:"Changes are permanent",preset_name_placeholder:"Serves as default when empty...",preset_search_placeholder:"Search query...",editing_preset:"Editing Preset",layout_preview:"Layout Preview",layout_setup:"Layout Setup",unsaved_changes:"Unsaved Changes",unsaved_changes_copy:"Are you sure you want to leave this page?",discard_changes:"Discard Changes",discard_changes_copy:"Are you sure you want to discard all the changes made?",show_x_axis:"Show X Axis",show_y_axis:"Show Y Axis",keep_editing:"Keep Editing",page_help_collections_overview:"**Collections Overview** — List of all collections you have access to.",page_help_collections_collection:"**Browse Items** — Lists all {collection} items you have access to. Customize layout, filters, and sorting to tailor your view, and even save bookmarks of these different configurations for quick access.",page_help_collections_item:"**Item Detail** — A form for viewing and managing this item. This sidebar also contains a full history of revisions, and embedded comments.",page_help_activity_collection:"**Browse Activity** — A comprehensive listing of all your user's system and content activity.",page_help_docs_global:"**Documentation Overview** — Docs tailored specifically to this project's version and schema.",page_help_files_collection:"**File Library** — Lists all file assets uploaded to this project. Customize layout, filters, and sorting to tailor your view, and even save bookmarks of these different configurations for quick access.",page_help_files_item:"**File Detail** — A form for managing file metadata, editing the original asset, and updating access settings.",page_help_settings_project:"**Project Settings** — Your project's global configuration options.",page_help_settings_datamodel_collections:"**Data Model: Collections** — Lists all collections available. This includes visible, hidden, and system collections, as well as unmanaged database tables that can be added.",page_help_settings_datamodel_fields:"**Data Model: Collection** — A form for managing this collection and its fields.",page_help_settings_roles_collection:"**Browse Roles** — Lists the Admin, Public and custom User Roles.",page_help_settings_roles_item:"**Role Detail** — Manage a role's permissions and other settings.",page_help_settings_presets_collection:"**Browse Presets** — Lists all presets in the project, including: user, role, and global bookmarks, as well as default views.",page_help_settings_presets_item:"**Preset Detail** — A form for managing bookmarks and default collection presets.",page_help_settings_webhooks_collection:"**Browse Webhooks** — Lists all webhooks within the project.",page_help_settings_webhooks_item:"**Webhook Detail** — A form for creating and managing project webhooks.",page_help_users_collection:"**User Directory** — Lists all system users within this project.",page_help_users_item:"**User Detail** — Manage your account information, or view the details of other users.",page_help_insights_overview:"**Insights** — List of dashboards you have access to.",page_help_insights_dashboard:"**Dashboard** — Workspace for managing one or more panels",activity_feed:"Activity Feed",add_new:"Add New",create_new:"Create New",all:"All",none:"None",no_layout_collection_selected_yet:"No layout/collection selected yet",batch_delete_confirm:"No items have been selected | Are you sure you want to delete this item? This action can not be undone. | Are you sure you want to delete these {count} items? This action can not be undone.",cancel:"Cancel",no_upscale:"Don't upscale images",collection:"Collection",collections:"Collections",singleton:"Singleton",singleton_label:"Treat as single object",system_fields_locked:"System fields are locked and can't be edited",directus_collection:{directus_activity:"Accountability logs for all events",directus_collections:"Additional collection configuration and metadata",directus_fields:"Additional field configuration and metadata",directus_files:"Metadata for all managed file assets",directus_folders:"Provides virtual directories for files",directus_migrations:"What version of the database you're using",directus_permissions:"Access permissions for each role",directus_presets:"Presets for collection defaults and bookmarks",directus_relations:"Relationship configuration and metadata",directus_revisions:"Data snapshots for all activity",directus_roles:"Permission groups for system users",directus_sessions:"User session information",directus_settings:"Project configuration options",directus_users:"System users for the platform",directus_webhooks:"Configuration for event-based HTTP requests"},fields:{directus_activity:{item:"Item Primary Key",action:"Action",collection:"Collection",timestamp:"Action On",user:"Action By",comment:"Comment",user_agent:"User Agent",ip:"IP Address",revisions:"Revisions"},directus_collections:{collection:"Collection",icon:"Icon",note:"Note",color:"Color",display_template:"Display Template",hidden:"Hidden",singleton:"Singleton",translations:"Collection Naming Translations",archive_app_filter:"Archive App Filter",archive_value:"Archive Value",unarchive_value:"Unarchive Value",sort_field:"Sort Field",accountability:"Activity & Revision Tracking"},directus_files:{$thumbnail:"Thumbnail",title:"Title",description:"Description",tags:"Tags",location:"Location",storage:"Storage",filename_disk:"Filename (Disk)",filename_download:"Filename (Download)",metadata:"Metadata",type:"Mime Type",filesize:"Filesize",modified_by:"Modified By",modified_on:"Modified On",created_on:"Created On",created_by:"Created By",embed:"Embed",uploaded_by:"Uploaded By",folder:"Folder",width:"Width",uploaded_on:"Uploaded On",height:"Height",charset:"Charset",duration:"Duration"},directus_users:{first_name:"First Name",last_name:"Last Name",email:"Email",password:"Password",avatar:"Avatar",location:"Location",title:"Title",description:"Description",tags:"Tags",user_preferences:"User Preferences",language:"Language",theme:"Theme",theme_auto:"Automatic (Based on System)",theme_light:"Light Mode",theme_dark:"Dark Mode",tfa_secret:"Two-Factor Authentication",admin_options:"Admin Options",status:"Status",status_draft:"Draft",status_invited:"Invited",status_active:"Active",status_suspended:"Suspended",status_archived:"Archived",role:"Role",token:"Token",token_placeholder:"Enter a secure access token...",last_page:"Last Page",last_access:"Last Access"},directus_settings:{jpg:"JPEG",png:"PNG",webP:"WebP",tiff:"Tiff",basemaps_raster:"Raster",basemaps_tile:"Raster TileJSON",basemaps_style:"Mapbox Style",mapbox_key:"Mapbox Access Token",mapbox_placeholder:"pk.eyJ1Ijo.....",transforms_note:"The Sharp method name and its arguments. See https://sharp.pixelplumbing.com/api-constructor for more information.",additional_transforms:"Additional Transformations",project_name:"Project Name",project_url:"Project URL",project_color:"Project Color",project_logo:"Project Logo",public_pages:"Public Pages",public_foreground:"Public Foreground",public_background:"Public Background",public_note:"Public Note",auth_password_policy:"Auth Password Policy",auth_login_attempts:"Auth Login Attempts",files_and_thumbnails:"Files & Thumbnails",storage_default_folder:"Storage Default Folder",storage_asset_presets:"Storage Asset Presets",storage_asset_transform:"Storage Asset Transform",overrides:"App Overrides",custom_css:"Custom CSS"},directus_fields:{collection:"Collection Name",icon:"Collection Icon",note:"Note",hidden:"Hidden",singleton:"Singleton",translation:"Field Name Translations",display_template:"Template"},directus_roles:{name:"Role Name",icon:"Role Icon",description:"Description",app_access:"App Access",admin_access:"Admin Access",ip_access:"IP Access",enforce_tfa:"Require 2FA",users:"Users in Role",module_list:"Module Navigation",collection_list:"Collection Navigation"},directus_webhooks:{name:"Name",method:"Method",status:"Status",data:"Data",data_label:"Send Event Data",triggers:"Triggers",actions:"Actions"}},field_options:{directus_settings:{project_name_placeholder:"My project...",project_logo_note:"Login & Logo Background",public_note_placeholder:"A short, public message that supports markdown formatting...",security_divider_title:"Security",auth_password_policy:{none_text:"None – Not Recommended",weak_text:"Weak – Minimum 8 Characters",strong_text:"Strong – Upper / Lowercase / Numbers / Special"},storage_asset_presets:{fit:{contain_text:"Contain (preserve aspect ratio)",cover_text:"Cover (forces exact size)",fit_text:"Fit inside",outside_text:"Fit outside"}},additional_transforms:"Additional Transformations",transforms_note:"The Sharp method name and its arguments. See https://sharp.pixelplumbing.com/api-constructor for more information.",mapbox_key:"Mapbox Access Token",mapbox_placeholder:"pk.eyJ1Ijo.....",basemaps_raster:"Raster",basemaps_tile:"Raster TileJSON",basemaps_style:"Mapbox Style",files_divider_title:"Files & Thumbnails",overrides_divider_title:"App Overrides"},directus_activity:{login:"Login",create:"Create",update:"Update",delete:"Delete"},directus_collections:{track_activity_revisions:"Track Activity & Revisions",only_track_activity:"Only Track Activity",do_not_track_anything:"Do Not Track Anything",collection_setup:"Collection Setup",note_placeholder:"A description of this collection...",hidden_label:"Hide within the App",singleton:"Treat as single object",language:"Language",translation:"Enter a translation...",archive_divider:"Archive",archive_field:"Choose a field...",archive_app_filter:"Enable App Archive Filter",archive_value:"Value set when archiving...",unarchive_value:"Value set when unarchiving...",divider:"Sort",sort_field:"Choose a field...",accountability_divider:"Accountability"},directus_files:{title:"A unique title...",description:"An optional description...",location:"An optional location...",storage_divider:"File Naming",filename_disk:"Name on disk storage...",filename_download:"Name when downloading..."},directus_roles:{name:"The unique name for this role...",description:"A description of this role...",ip_access:"Add allowed IP addresses, leave empty to allow all...",fields:{icon_name:"Icon",name_name:"Name",name_placeholder:"Enter a title...",link_name:"Link",link_placeholder:"Relative or absolute URL..."},collection_list:{group_name_addLabel:"Add New Group...",fields:{group_name:"Group Name",group_placeholder:"Label this group...",type_name:"Type",choices_always:"Always Open",choices_start_open:"Start Open",choices_start_collapsed:"Start Collapsed"}},collections_name:"Collections",collections_addLabel:"Add Collection..."},directus_users:{preferences_divider:"User Preferences",dropdown_auto:"Automatic (Based on System)",dropdown_light:"Light Mode",dropdown_dark:"Dark Mode",admin_divider:"Admin Options",status_dropdown_draft:"Draft",status_dropdown_invited:"Invited",status_dropdown_active:"Active",status_dropdown_suspended:"Suspended",status_dropdown_archived:"Archived",token:"Enter a secure access token..."},directus_webhooks:{status_options_active:"Active",status_options_inactive:"Inactive",data_label:"Send Event Data",triggers_divider:"Triggers",actions_create:"Create",actions_update:"Update",actions_delete:"Delete",actions_login:"Login"}},no_fields_in_collection:'There are no fields in "{collection}" yet',no_value:"No value",do_nothing:"Do Nothing",generate_and_save_uuid:"Generate and Save UUID",save_current_user_id:"Save Current User ID",save_current_user_role:"Save Current User Role",save_current_datetime:"Save Current Date/Time",block:"Block",inline:"Inline",comment:"Comment",relational_triggers:"Relational Triggers",referential_action_field_label_m2o:"On Delete of {collection}...",referential_action_field_label_o2m:"On Deselect of {collection}...",referential_action_no_action:"Prevent the deletion",referential_action_cascade:"Delete the {collection} item (cascade)",referential_action_set_null:"Nullify the {field} field",referential_action_set_default:"Set {field} to its default value",choose_action:"Choose Action",continue_label:"Continue",continue_as:"{name} is currently authenticated. If you recognize this account, press continue.",editing_role:"{role} Role",creating_webhook:"Creating Webhook",default_label:"Default",delete_label:"Delete",delete_are_you_sure:"This action is permanent and can not be undone. Are you sure you would like to proceed?",delete_field_are_you_sure:'Are you sure you want to delete the field "{field}"? This action can not be undone.',description:"Description",done:"Done",duplicate:"Duplicate",limit:"Limit",email:"Email",embed:"Embed",fallback_icon:"Fallback Icon",field:"Field | Fields",file:"File",file_library:"File Library",forgot_password:"Forgot Password",hidden:"Hidden",icon:"Icon",info:"Info",normal:"Normal",success:"Success",warning:"Warning",danger:"Danger",junction_collection:"Junction Collection",latency:"Latency",login:"Log in",my_activity:"My Activity",not_authenticated:"Not Authenticated",authenticated:"Authenticated",options:"Options",otp:"One-Time Password",password:"Password",permissions:"Permissions",relationship:"Relationship",reset:"Reset",reset_password:"Reset Password",revisions:"Revisions",revert:"Revert",save:"Save",schema:"Schema",search:"Search",select_existing:"Select Existing",select_field_type:"Select a field type",select_interface:"Select an interface",settings:"Settings",sign_in:"Sign In",sign_out:"Sign Out",sign_out_confirm:"Are you sure you want to sign out?",something_went_wrong:"Something went wrong.",sort_direction:"Sort Direction",sort_asc:"Sort Ascending",sort_desc:"Sort Descending",template:"Template",require_value_to_be_set:"Require value to be set",translation:"Translation",value:"Value",view_project:"View Project",weeks:{},report_error:"Report Error",start:"Start",interfaces:{"group-accordion":{name:"Accordion",description:"Display fields or groups as accordion sections",start:"Start",all_closed:"All Closed",first_opened:"First Opened",all_opened:"All Opened",accordion_mode:"Accordion Mode",max_one_section_open:"Max 1 Section Open"},"presentation-links":{"presentation-links":"Button Links",links:"Links",description:"Configurable link buttons for launching dynamic URLs",style:"Style",primary:"Primary",link:"Links",button:"Buttons",error:"Cannot perform action"},"select-multiple-checkbox":{checkboxes:"Checkboxes",description:"Choose between multiple options via checkboxes",allow_other:"Allow Other",show_more:"Show {count} more",items_shown:"Items Shown"},"select-multiple-checkbox-tree":{name:"Checkboxes (Tree)",description:"Choose between multiple options via nested checkboxes",value_combining:"Value Combining",value_combining_note:"Controls what value is stored when nested selections are made.",show_all:"Show All",show_selected:"Show Selected"},"input-code":{code:"Code",description:"Write or share code snippets",line_number:"Line Number",placeholder:"Enter code here..."},"system-collection":{collection:"Collection",description:"Select between existing collections",include_system_collections:"Include System Collections"},"system-collections":{collections:"Collections",description:"Select between existing collections",include_system_collections:"Include System Collections"},"select-color":{color:"Color",description:"Enter or select a color value",placeholder:"Choose a color...",preset_colors:"Preset Colors",preset_colors_add_label:"Add new color...",name_placeholder:"Enter color name..."},datetime:{datetime:"Datetime",description:"Enter dates and times",include_seconds:"Include Seconds",set_to_now:"Set to Now",use_24:"Use 24-Hour Format"},"system-display-template":{"display-template":"Display Template",description:"Mix static text and dynamic field values",collection_field:"Collection field",collection_field_not_setup:"The collection field option is misconfigured",select_a_collection:"Select a Collection"},"presentation-divider":{divider:"Divider",description:"Label and divide fields into sections",title_placeholder:"Enter a title...",inline_title:"Inline Title",inline_title_label:"Show title inside line",margin_top:"Margin Top",margin_top_label:"Increase Top Margin"},"select-dropdown":{description:"Select a value from a dropdown",choices_placeholder:"Add a new choice",allow_other:"Allow Other",allow_other_label:"Allow Other Values",allow_none:"Allow None",allow_none_label:"Allow No Selection",choices_name_placeholder:"Enter a name...",choices_value_placeholder:"Enter a value..."},"select-multiple-dropdown":{"select-multiple-dropdown":"Dropdown (Multiple)",description:"Select multiple values from a dropdown"},file:{file:"File",description:"Select or upload a file"},files:{files:"Files",description:"Select or upload multiple files"},"input-hash":{hash:"Hash",description:"Enter a value to be hashed",masked:"Masked",masked_label:"Hide the true values"},"select-icon":{icon:"Icon",description:"Select an icon from a dropdown",search_for_icon:"Search for icon..."},"file-image":{image:"Image",description:"Select or upload an image"},"system-interface":{interface:"Interface",description:"Select an existing interface",placeholder:"Select an interface..."},"system-interface-options":{"interface-options":"Interface Options",description:"A modal for selecting options of an interface"},"list-m2m":{"many-to-many":"Many to Many",description:"Select multiple related junction items"},"select-dropdown-m2o":{"many-to-one":"Many to One",description:"Select a single related item",display_template:"Display Template"},"input-rich-text-md":{markdown:"Markdown",description:"Enter and preview markdown",customSyntax:"Custom Blocks",customSyntax_label:"Add custom syntax types",customSyntax_add:"Add custom syntax",box:"Block / Inline",imageToken:"Image Token",imageToken_label:"What (static) token to append to image sources"},map:{map:"Map",description:"Select a location on a map",zoom:"Zoom",geometry_type:"Geometry type",geometry_format:"Geometry format",default_view:"Default view",invalid_options:"Invalid options",invalid_format:"Invalid format ({format})",unexpected_geometry:"Expected {expected}, got {got}.",fit_bounds:"Fit view to data",native:"Native",geojson:"GeoJSON",lnglat:"Longitude, Latitude",wkt:"WKT",wkb:"WKB"},"presentation-notice":{notice:"Notice",description:"Display a short notice",text:"Enter notice content here..."},"list-o2m":{"one-to-many":"One to Many",description:"Select multiple related items",no_collection:"The collection could not be found"},"system-folder":{folder:"Folder",description:"Select a folder",field_hint:"Puts newly uploaded files in selected folder. Does not affect existing files that are selected.",root_name:"File Library Root",system_default:"System Defaults"},"select-radio":{"radio-buttons":"Radio Buttons",description:"Select one of multiple choices"},list:{repeater:"Repeater",description:"Create multiple entries of the same structure",edit_fields:"Edit Fields",add_label:'"Create New" Label',field_name_placeholder:"Enter field name...",field_note_placeholder:"Enter field note..."},slider:{slider:"Slider",description:"Select a number using a slider",always_show_value:"Always show value"},tags:{tags:"Tags",description:"Select or add tags",whitespace:"Whitespace",hyphen:"Replace with hyphen",underscore:"Replace with underscore",remove:"Remove whitespace",capitalization:"Capitalization",uppercase:"Convert Uppercase",lowercase:"Convert Lowercase",auto_formatter:"Use Title Auto-Formatter",alphabetize:"Alphabetize",alphabetize_label:"Force Alphabetical Order",add_tags:"Add tags..."},input:{input:"Input",description:"Manually enter a value",trim:"Trim",trim_label:"Trim the start and end",mask:"Masked",mask_label:"Hide the real value",clear:"Cleared Value",clear_label:"Save as empty string",minimum_value:"Minimum Value",maximum_value:"Maximum Value",step_interval:"Step Interval",slug:"Slugify",slug_label:"Make entered value URL safe"},"input-multiline":{textarea:"Textarea",description:"Enter multiline plain-text"},boolean:{toggle:"Toggle",description:"Switch between on and off",label_placeholder:"Enter a label...",label_default:"Enabled"},translations:{display_template:"Display Template",no_collection:"No Collection",toggle_split_view:"Toggle Split View",language_field:"Language Field"},"list-o2m-tree-view":{description:"Tree view for nested recursive one-to-many items",recursive_only:"The tree view interface only works for recursive relationships."},user:{user:"User",description:"Select an existing directus user",select_mode:"Select Mode",modes:{auto:"Auto",dropdown:"Dropdown",modal:"Modal"}},"input-rich-text-html":{wysiwyg:"WYSIWYG",description:"A rich-text editor writing HTML content",toolbar:"Toolbar",custom_formats:"Custom Formats",options_override:"Options Override"},"input-autocomplete-api":{"input-autocomplete-api":"Autocomplete Input (API)",description:"A search typeahead for external API values.",results_path:"Results Path",value_path:"Value Path",trigger:"Trigger",rate:"Rate"},"group-raw":{name:"Raw Group",description:"Render the fields as-is"},"group-detail":{name:"Detail Group",description:"Render the fields as a collapsable section",show_header:"Show Group Header",header_icon:"Header Icon",header_color:"Header Color",start_open:"Start Open",start_closed:"Start Closed"}},displays:{boolean:{boolean:"Boolean",description:"Display on and off states",label_on:"Label On",label_on_placeholder:"Enter an on label...",label_off:"Label Off",label_off_placeholder:"Enter an off label...",icon_on:"Icon On",icon_off:"Icon Off",color_on:"Color On",color_off:"Color Off"},collection:{collection:"Collection",description:"Display a collection",icon_label:"Show the collection's icon"},color:{color:"Color",description:"Display a colored dot",default_color:"Default Color"},datetime:{datetime:"Datetime",description:"Display values related to time",format:"Format",format_note:"The custom format accepts the __[Date Field Symbol Table](https://www.unicode.org/reports/tr35/tr35-dates.html#Date_Field_Symbol_Table)__",long:"Long",short:"Short",relative:"Relative",relative_label:"Show relative time, eg: 5 minutes ago"},file:{file:"File",description:"Display files"},filesize:{filesize:"File Size",description:"Display the size of a file"},"formatted-value":{"formatted-value":"Formatted Value",description:"Display a formatted version of the text",format_title:"Format Title",format_title_label:"Auto-format casing",bold_label:"Use bold style"},"formatted-json-value":{"formatted-json-value":"Formatted JSON value",description:"Display a formatted version of the object"},icon:{icon:"Icon",description:"Display an icon",filled:"Filled",filled_label:"Use the filled variant"},image:{image:"Image",description:"Display a tiny image preview",circle:"Circle",circle_label:"Display as a circle"},labels:{labels:"Labels",description:"Display either a single or a list of labels",default_foreground:"Default Foreground",default_background:"Default Background",format_label:"Format each label",show_as_dot:"Show As Dot",choices_value_placeholder:"Enter a value...",choices_text_placeholder:"Enter a text..."},"mime-type":{"mime-type":"MIME Type",description:"Show the MIME-Type of a file",extension_only:"Extension Only",extension_only_label:"Only show the file extension"},rating:{rating:"Rating",description:"Visualize a number as stars relative to the max-value",simple:"Simple",simple_label:"Show stars in a simple format"},raw:{raw:"Raw Value"},"related-values":{"related-values":"Related Values",description:"Display relative values"},user:{user:"User",description:"Display a directus user",avatar:"Avatar",name:"Name",both:"Both",circle_label:"Show user in a circle"}},layouts:{cards:{cards:"Cards",image_source:"Image Source",image_fit:"Image Fit",crop:"Crop",contain:"Contain",title:"Title",subtitle:"Subtitle"},tabular:{tabular:"Table",fields:"Fields",spacing:"Spacing",comfortable:"Comfortable",compact:"Compact",cozy:"Cozy"},calendar:{calendar:"Calendar",start_date_field:"Start Date Field",end_date_field:"End Date Field"},map:{map:"Map",basemap:"Basemap",layers:"Layers",edit_custom_layers:"Edit Layers",cluster_options:"Clustering options",cluster:"Activate clustering",cluster_radius:"Cluster radius",cluster_minpoints:"Cluster minimum size",cluster_maxzoom:"Maximum zoom for clustering",field:"Geometry",invalid_geometry:"Invalid geometry",auto_location_filter:"Always filter data to view bounds",search_this_area:"Search this area",clear_data_filter:"Clear Data Filter",clear_location_filter:"Clear Location Filter"}},panels:{metric:{name:"Metric",description:"Show a single value based on a query",field:"Field"},time_series:{name:"Time Series",description:"Render a line chart based on values over time",date_field:"Date Field",value_field:"Value Field"},label:{name:"Label",description:"Show some text"},list:{name:"List",description:"Filter and list fields from a collection"}}},Al=El.avatar,Dl=El.default_provider,Il=El.published,Fl=El.draft,Ol=El.archived,$l=El.modules,Tl=El.module_bar,Pl=El.tile_size,jl=El.edit_field,Ll=El.conditions,Rl=El.maps,Ml=El.item_creation,Ul=El.item_revision,Nl=El.enter_a_name,Bl=El.duplicate_field,ql=El.half_width,zl=El.full_width,Kl=El.group,Wl=El.and,Hl=El.or,Gl=El.fill_width,Ql=El.field_name_translations,Xl=El.enter_password_to_enable_tfa,Jl=El.add_field,Yl=El.role_name,Zl=El.branch,ea=El.leaf,ta=El.indeterminate,la=El.edit_collection,aa=El.exclusive,ia=El.children,na=El.db_only_click_to_configure,oa=El.show_archived_items,sa=El.edited,ra=El.required,da=El.required_for_app_access,ca=El.requires_value,ua=El.create_preset,pa=El.create_panel,ma=El.create_role,fa=El.create_user,va=El.delete_panel,_a=El.create_webhook,ya=El.invite_users,ha=El.invite,ga=El.email_already_invited,ba=El.emails,ka=El.connection_excellent,wa=El.connection_good,xa=El.connection_fair,Va=El.connection_poor,Ca=El.primary,Sa=El.rename_folder,Ea=El.delete_folder,Aa=El.prefix,Da=El.suffix,Ia=El.reset_bookmark,Fa=El.rename_bookmark,Oa=El.update_bookmark,$a=El.delete_bookmark,Ta=El.delete_bookmark_copy,Pa=El.logoutReason,ja=El.public_label,La=El.public_description,Ra=El.not_allowed,Ma=El.directus_version,Ua=El.node_version,Na=El.node_uptime,Ba=El.os_type,qa=El.os_version,za=El.os_uptime,Ka=El.os_totalmem,Wa=El.archive,Ha=El.archive_confirm,Ga=El.archive_confirm_count,Qa=El.reset_system_permissions_to,Xa=El.reset_system_permissions_copy,Ja=El.the_following_are_minimum_permissions,Ya=El.app_access_minimum,Za=El.recommended_defaults,ei=El.unarchive,ti=El.unarchive_confirm,li=El.nested_files_folders_will_be_moved,ai=El.unknown_validation_errors,ii=El.validationError,ni=El.all_access,oi=El.no_access,si=El.use_custom,ri=El.nullable,di=El.allow_null_value,ci=El.allow_multiple,ui=El.allow_multiple_to_be_open,pi=El.enter_value_to_replace_nulls,mi=El.field_standard,fi=El.field_presentation,vi=El.field_file,_i=El.field_files,yi=El.field_m2o,hi=El.field_m2a,gi=El.field_o2m,bi=El.field_m2m,ki=El.field_translations,wi=El.field_group,xi=El.item_permissions,Vi=El.field_permissions,Ci=El.field_validation,Si=El.field_presets,Ei=El.permissions_for_role,Ai=El.fields_for_role,Di=El.validation_for_role,Ii=El.presets_for_role,Fi=El.presentation_and_aliases,Oi=El.revision_post_create,$i=El.revision_post_update,Ti=El.changes_made,Pi=El.no_relational_data,ji=El.hide_field_on_detail,Li=El.show_field_on_detail,Ri=El.delete_field,Mi=El.fields_and_layout,Ui=El.field_create_success,Ni=El.field_update_success,Bi=El.duplicate_where_to,qi=El.language,zi=El.aggregate_function,Ki=El.aggregate_precision,Wi=El.group_aggregation,Hi=El.group_precision,Gi=El.global,Qi=El.admins_have_all_permissions,Xi=El.camera,Ji=El.show_zero,Yi=El.sum,Zi=El.sum_distinct,en=El.avg,tn=El.avg_distinct,ln=El.count,an=El.count_distinct,nn=El.min,on=El.max,sn=El.exposure,rn=El.shutter,dn=El.iso,cn=El.focal_length,un=El.schema_setup_key,pn=El.create_field,mn=El.creating_new_field,fn=El.field_in_collection,vn=El.reset_page_preferences,_n=El.hidden_field,yn=El.hidden_on_detail,hn=El.disabled_editing_value,gn=El.key,bn=El.alias,kn=El.bigInteger,wn=El.boolean,xn=El.date,Vn=El.date_range,Cn=El.datetime,Sn=El.precision,En=El.decimal,An=El.float,Dn=El.integer,In=El.json,Fn=El.xml,On=El.string,$n=El.text,Tn=El.time,Pn=El.timestamp,jn=El.uuid,Ln=El.hash,Rn=El.geometry,Mn=El.not_available_for_type,Un=El.create_translations,Nn=El.auto_refresh,Bn=El.refresh_interval,qn=El.no_refresh,zn=El.refresh_interval_seconds,Kn=El.refresh_interval_minutes,Wn=El.auto_generate,Hn=El.this_will_auto_setup_fields_relations,Gn=El.click_here,Qn=El.to_manually_setup_translations,Xn=El.click_to_manage_translated_fields,Jn=El.fields_group,Yn=El.no_collections_found,Zn=El.new_data_alert,eo=El.search_collection,to=El.new_field,lo=El.new_collection,ao=El.add_m2o_to_collection,io=El.add_o2m_to_collection,no=El.add_m2m_to_collection,oo=El.choose_a_type,so=El.determined_by_relationship,ro=El.add_note,co=El.add_link,uo=El.custom_link,po=El.default_value,mo=El.standard_field,fo=El.single_file,vo=El.multiple_files,_o=El.m2o_relationship,yo=El.o2m_relationship,ho=El.m2m_relationship,go=El.m2a_relationship,bo=El.invalid_item,ko=El.next,wo=El.field_name,xo=El.translations,Vo=El.note,Co=El.enter_a_value,So=El.enter_a_placeholder,Eo=El.length,Ao=El.precision_scale,Do=El.readonly,Io=El.unique,Fo=El.updated_on,Oo=El.updated_by,$o=El.primary_key,To=El.foreign_key,Po=El.finish_setup,jo=El.dismiss,Lo=El.raw_value,Ro=El.edit_raw_value,Mo=El.enter_raw_value,Uo=El.clear_value,No=El.clear_changes,Bo=El.reset_to_default,qo=El.undo_changes,zo=El.notifications,Ko=El.show_all_activity,Wo=El.page_not_found,Ho=El.page_not_found_body,Go=El.confirm_revert,Qo=El.confirm_revert_body,Xo=El.display,Jo=El.settings_update_success,Yo=El.title,Zo=El.revision_delta_created,es=El.revision_delta_created_externally,ts=El.revision_delta_updated,ls=El.revision_delta_deleted,as=El.revision_delta_reverted,is=El.revision_delta_other,ns=El.revision_delta_by,os=El.private_user,ss=El.creation_preview,rs=El.revision_preview,ds=El.updates_made,cs=El.leave_comment,us=El.post_comment_success,ps=El.item_create_success,ms=El.item_update_success,fs=El.item_delete_success,vs=El.this_collection,_s=El.related_collection,ys=El.related_collections,hs=El.translations_collection,gs=El.languages_collection,bs=El.export_data,ks=El.format,ws=El.use_current_filters_settings,xs=El.export_collection,Vs=El.last_page,Cs=El.last_access,Ss=El.fill_template,Es=El.a_unique_table_name,As=El.a_unique_column_name,Ds=El.enable_custom_values,Is=El.submit,Fs=El.move_to_folder,Os=El.move,$s=El.system,Ts=El.add_field_related,Ps=El.interface_label,js=El.today,Ls=El.yesterday,Rs=El.delete_comment,Ms=El.month,Us=El.year,Ns=El.select_all,Bs=El.months,qs=El.drag_mode,zs=El.cancel_crop,Ks=El.original,Ws=El.url,Hs=El.import_label,Gs=El.file_details,Qs=El.dimensions,Xs=El.size,Js=El.created,Ys=El.modified,Zs=El.checksum,er=El.owner,tr=El.edited_by,lr=El.folder,ar=El.zoom,ir=El.download,nr=El.open,or=El.open_in_new_window,sr=El.foreground_color,rr=El.background_color,dr=El.upload_from_device,cr=El.choose_from_library,ur=El.import_from_url,pr=El.replace_from_device,mr=El.replace_from_library,fr=El.replace_from_url,vr=El.no_file_selected,_r=El.download_file,yr=El.collection_key,hr=El.name,gr=El.primary_key_field,br=El.type,kr=El.creating_new_collection,wr=El.created_by,xr=El.created_on,Vr=El.creating_collection_info,Cr=El.creating_collection_system,Sr=El.auto_increment_integer,Er=El.generated_uuid,Ar=El.manual_string,Dr=El.save_and_create_new,Ir=El.save_and_stay,Fr=El.save_as_copy,Or=El.add_existing,$r=El.creating_items,Tr=El.enable_create_button,Pr=El.selecting_items,jr=El.enable_select_button,Lr=El.comments,Rr=El.no_comments,Mr=El.click_to_expand,Ur=El.select_item,Nr=El.no_items,Br=El.search_items,qr=El.disabled,zr=El.information,Kr=El.report_bug,Wr=El.request_feature,Hr=El.interface_not_found,Gr=El.reset_interface,Qr=El.display_not_found,Xr=El.reset_display,Jr=El.item_count,Yr=El.no_items_copy,Zr=El.file_count,ed=El.no_files_copy,td=El.user_count,ld=El.no_users_copy,ad=El.webhooks_count,id=El.no_webhooks_copy,nd=El.all_items,od=El.any,sd=El.csv,rd=El.no_collections,dd=El.create_collection,cd=El.no_collections_copy_admin,ud=El.no_collections_copy,pd=El.relationship_not_setup,md=El.display_template_not_setup,fd=El.collection_field_not_setup,vd=El.select_a_collection,_d=El.select_a_field,yd=El.active,hd=El.move_to,gd=El.copy,bd=El.copy_to,kd=El.no_other_dashboards_copy,wd=El.inactive,xd=El.users,Vd=El.activity,Cd=El.webhooks,Sd=El.decimals,Ed=El.value_decimals,Ad=El.min_value,Dd=El.max_value,Id=El.automatic,Fd=El.field_width,Od=El.add_filter,$d=El.upper_limit,Td=El.lower_limit,Pd=El.user_directory,jd=El.documentation,Ld=El.sidebar,Rd=El.duration,Md=El.charset,Ud=El.second,Nd=El.file_moved,Bd=El.collection_created,qd=El.modified_on,zd=El.card_size,Kd=El.sort_field,Wd=El.add_sort_field,Hd=El.sort,Gd=El.status,Qd=El.remove,Xd=El.toggle_manual_sorting,Jd=El.bookmark_doesnt_exist,Yd=El.bookmark_doesnt_exist_copy,Zd=El.bookmark_doesnt_exist_cta,ec=El.select_an_item,tc=El.edit,lc=El.enabled,ac=El.disable_tfa,ic=El.tfa_scan_code,nc=El.enter_otp_to_disable_tfa,oc=El.create_account,sc=El.account_created_successfully,rc=El.auto_fill,dc=El.corresponding_field,cc=El.errors,uc=El.security,pc=El.value_hashed,mc=El.bookmark_name,fc=El.create_bookmark,vc=El.edit_bookmark,_c=El.bookmarks,yc=El.presets,hc=El.unexpected_error,gc=El.unexpected_error_copy,bc=El.copy_details,kc=El.no_app_access,wc=El.no_app_access_copy,xc=El.password_reset_sent,Vc=El.password_reset_successful,Cc=El.back,Sc=El.filter,Ec=El.editing_image,Ac=El.square,Dc=El.free,Ic=El.flip_horizontal,Fc=El.flip_vertical,Oc=El.aspect_ratio,$c=El.rotate,Tc=El.all_users,Pc=El.delete_collection,jc=El.update_collection_success,Lc=El.delete_collection_success,Rc=El.start_end_of_count_items,Mc=El.start_end_of_count_filtered_items,Uc=El.one_item,Nc=El.one_filtered_item,Bc=El.delete_collection_are_you_sure,qc=El.collections_shown,zc=El.visible_collections,Kc=El.hidden_collections,Wc=El.show_hidden_collections,Hc=El.hide_hidden_collections,Gc=El.show_header,Qc=El.unmanaged_collections,Xc=El.system_collections,Jc=El.placeholder,Yc=El.icon_left,Zc=El.icon_right,eu=El.count_other_revisions,tu=El.font,lu=El.sans_serif,au=El.serif,iu=El.monospace,nu=El.divider,ou=El.color,su=El.circle,ru=El.empty_item,du=El.log_in_with,cu=El.conditional_styles,uu=El.advanced_settings,pu=El.advanced_filter,mu=El.delete_advanced_filter,fu=El.change_advanced_filter_operator,vu=El.operators,_u=El.loading,yu=El.drop_to_upload,hu=El.item,gu=El.items,bu=El.upload_file,ku=El.upload_file_indeterminate,wu=El.upload_file_success,xu=El.upload_files_indeterminate,Vu=El.upload_files_success,Cu=El.upload_pending,Su=El.drag_file_here,Eu=El.click_to_browse,Au=El.interface_options,Du=El.layout_options,Iu=El.rows,Fu=El.columns,Ou=El.collection_setup,$u=El.optional_system_fields,Tu=El.value_unique,Pu=El.all_activity,ju=El.create_item,Lu=El.display_template,Ru=El.language_display_template,Mu=El.translations_display_template,Uu=El.n_items_selected,Nu=El.per_page,Bu=El.all_files,qu=El.my_files,zu=El.recent_files,Ku=El.create_folder,Wu=El.folder_name,Hu=El.add_file,Gu=El.replace_file,Qu=El.no_results,Xu=El.no_results_copy,Ju=El.clear_filters,Yu=El.saves_automatically,Zu=El.role,ep=El.rule,tp=El.user,lp=El.no_presets,ap=El.no_presets_copy,ip=El.no_presets_cta,np=El.presets_only,op=El.create,sp=El.on_create,rp=El.on_update,dp=El.read,cp=El.update,up=El.select_fields,pp=El.format_text,mp=El.format_value,fp=El.abbreviate_value,vp=El.operator,_p=El.bold,yp=El.toggle,hp=El.icon_on,gp=El.icon_off,bp=El.label,kp=El.insights,wp=El.dashboard,xp=El.panel,Vp=El.panel_options,Cp=El.panel_header,Sp=El.panel_name_placeholder,Ep=El.panel_note_placeholder,Ap=El.panel_delete_confirm,Dp=El.dashboard_delete_confirm,Ip=El.edit_dashboard,Fp=El.delete_dashboard,Op=El.visible,$p=El.prefix_placeholder,Tp=El.suffix_placeholder,Pp=El.decimals_placeholder,jp=El.no_dashboards,Lp=El.no_dashboards_copy,Rp=El.no_data,Mp=El.create_dashboard,Up=El.dashboard_name,Np=El.full_screen,Bp=El.edit_panels,qp=El.fit_to_screen,zp=El.image_url,Kp=El.alt_text,Wp=El.media,Hp=El.quality,Gp=El.width,Qp=El.height,Xp=El.source,Jp=El.url_placeholder,Yp=El.display_text,Zp=El.display_text_placeholder,em=El.tooltip,tm=El.tooltip_placeholder,lm=El.unlimited,am=El.open_link_in,im=El.new_tab,nm=El.current_tab,om=El.wysiwyg_options,sm=El.dropdown,rm=El.choices,dm=El.choices_option_configured_incorrectly,cm=El.deselect,um=El.deselect_all,pm=El.other,mm=El.adding_user,fm=El.unknown_user,vm=El.creating_in,_m=El.editing_in,ym=El.creating_unit,hm=El.editing_unit,gm=El.editing_in_batch,bm=El.no_options_available,km=El.settings_data_model,wm=El.settings_permissions,xm=El.settings_project,Vm=El.settings_webhooks,Cm=El.settings_presets,Sm=El.one_or_more_options_are_missing,Em=El.scope,Am=El.select,Dm=El.layout,Im=El.tree_view,Fm=El.changes_are_permanent,Om=El.preset_name_placeholder,$m=El.preset_search_placeholder,Tm=El.editing_preset,Pm=El.layout_preview,jm=El.layout_setup,Lm=El.unsaved_changes,Rm=El.unsaved_changes_copy,Mm=El.discard_changes,Um=El.discard_changes_copy,Nm=El.show_x_axis,Bm=El.show_y_axis,qm=El.keep_editing,zm=El.page_help_collections_overview,Km=El.page_help_collections_collection,Wm=El.page_help_collections_item,Hm=El.page_help_activity_collection,Gm=El.page_help_docs_global,Qm=El.page_help_files_collection,Xm=El.page_help_files_item,Jm=El.page_help_settings_project,Ym=El.page_help_settings_datamodel_collections,Zm=El.page_help_settings_datamodel_fields,ef=El.page_help_settings_roles_collection,tf=El.page_help_settings_roles_item,lf=El.page_help_settings_presets_collection,af=El.page_help_settings_presets_item,nf=El.page_help_settings_webhooks_collection,of=El.page_help_settings_webhooks_item,sf=El.page_help_users_collection,rf=El.page_help_users_item,df=El.page_help_insights_overview,cf=El.page_help_insights_dashboard,uf=El.activity_feed,pf=El.add_new,mf=El.create_new,ff=El.all,vf=El.none,_f=El.no_layout_collection_selected_yet,yf=El.batch_delete_confirm,hf=El.cancel,gf=El.no_upscale,bf=El.collection,kf=El.collections,wf=El.singleton,xf=El.singleton_label,Vf=El.system_fields_locked,Cf=El.directus_collection,Sf=El.fields,Ef=El.field_options,Af=El.no_fields_in_collection,Df=El.no_value,If=El.do_nothing,Ff=El.generate_and_save_uuid,Of=El.save_current_user_id,$f=El.save_current_user_role,Tf=El.save_current_datetime,Pf=El.block,jf=El.inline,Lf=El.comment,Rf=El.relational_triggers,Mf=El.referential_action_field_label_m2o,Uf=El.referential_action_field_label_o2m,Nf=El.referential_action_no_action,Bf=El.referential_action_cascade,qf=El.referential_action_set_null,zf=El.referential_action_set_default,Kf=El.choose_action,Wf=El.continue_label,Hf=El.continue_as,Gf=El.editing_role,Qf=El.creating_webhook,Xf=El.default_label,Jf=El.delete_label,Yf=El.delete_are_you_sure,Zf=El.delete_field_are_you_sure,ev=El.description,tv=El.done,lv=El.duplicate,av=El.limit,iv=El.email,nv=El.embed,ov=El.fallback_icon,sv=El.field,rv=El.file,dv=El.file_library,cv=El.forgot_password,uv=El.hidden,pv=El.icon,mv=El.info,fv=El.normal,vv=El.success,_v=El.warning,yv=El.danger,hv=El.junction_collection,gv=El.latency,bv=El.login,kv=El.my_activity,wv=El.not_authenticated,xv=El.authenticated,Vv=El.options,Cv=El.otp,Sv=El.password,Ev=El.permissions,Av=El.relationship,Dv=El.reset,Iv=El.reset_password,Fv=El.revisions,Ov=El.revert,$v=El.save,Tv=El.schema,Pv=El.search,jv=El.select_existing,Lv=El.select_field_type,Rv=El.select_interface,Mv=El.settings,Uv=El.sign_in,Nv=El.sign_out,Bv=El.sign_out_confirm,qv=El.something_went_wrong,zv=El.sort_direction,Kv=El.sort_asc,Wv=El.sort_desc,Hv=El.template,Gv=El.require_value_to_be_set,Qv=El.translation,Xv=El.value,Jv=El.view_project,Yv=El.weeks,Zv=El.report_error,e_=El.start,t_=El.interfaces,l_=El.displays,a_=El.layouts,i_=El.panels,n_=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:El,avatar:Al,default_provider:Dl,published:Il,draft:Fl,archived:Ol,modules:$l,module_bar:Tl,tile_size:Pl,edit_field:jl,conditions:Ll,maps:Rl,item_creation:Ml,item_revision:Ul,enter_a_name:Nl,duplicate_field:Bl,half_width:ql,full_width:zl,group:Kl,and:Wl,or:Hl,fill_width:Gl,field_name_translations:Ql,enter_password_to_enable_tfa:Xl,add_field:Jl,role_name:Yl,branch:Zl,leaf:ea,indeterminate:ta,edit_collection:la,exclusive:aa,children:ia,db_only_click_to_configure:na,show_archived_items:oa,edited:sa,required:ra,required_for_app_access:da,requires_value:ca,create_preset:ua,create_panel:pa,create_role:ma,create_user:fa,delete_panel:va,create_webhook:_a,invite_users:ya,invite:ha,email_already_invited:ga,emails:ba,connection_excellent:ka,connection_good:wa,connection_fair:xa,connection_poor:Va,primary:Ca,rename_folder:Sa,delete_folder:Ea,prefix:Aa,suffix:Da,reset_bookmark:Ia,rename_bookmark:Fa,update_bookmark:Oa,delete_bookmark:$a,delete_bookmark_copy:Ta,logoutReason:Pa,public_label:ja,public_description:La,not_allowed:Ra,directus_version:Ma,node_version:Ua,node_uptime:Na,os_type:Ba,os_version:qa,os_uptime:za,os_totalmem:Ka,archive:Wa,archive_confirm:Ha,archive_confirm_count:Ga,reset_system_permissions_to:Qa,reset_system_permissions_copy:Xa,the_following_are_minimum_permissions:Ja,app_access_minimum:Ya,recommended_defaults:Za,unarchive:ei,unarchive_confirm:ti,nested_files_folders_will_be_moved:li,unknown_validation_errors:ai,validationError:ii,all_access:ni,no_access:oi,use_custom:si,nullable:ri,allow_null_value:di,allow_multiple:ci,allow_multiple_to_be_open:ui,enter_value_to_replace_nulls:pi,field_standard:mi,field_presentation:fi,field_file:vi,field_files:_i,field_m2o:yi,field_m2a:hi,field_o2m:gi,field_m2m:bi,field_translations:ki,field_group:wi,item_permissions:xi,field_permissions:Vi,field_validation:Ci,field_presets:Si,permissions_for_role:Ei,fields_for_role:Ai,validation_for_role:Di,presets_for_role:Ii,presentation_and_aliases:Fi,revision_post_create:Oi,revision_post_update:$i,changes_made:Ti,no_relational_data:Pi,hide_field_on_detail:ji,show_field_on_detail:Li,delete_field:Ri,fields_and_layout:Mi,field_create_success:Ui,field_update_success:Ni,duplicate_where_to:Bi,language:qi,aggregate_function:zi,aggregate_precision:Ki,group_aggregation:Wi,group_precision:Hi,global:Gi,admins_have_all_permissions:Qi,camera:Xi,show_zero:Ji,sum:Yi,sum_distinct:Zi,avg:en,avg_distinct:tn,count:ln,count_distinct:an,min:nn,max:on,exposure:sn,shutter:rn,iso:dn,focal_length:cn,schema_setup_key:un,create_field:pn,creating_new_field:mn,field_in_collection:fn,reset_page_preferences:vn,hidden_field:_n,hidden_on_detail:yn,disabled_editing_value:hn,key:gn,alias:bn,bigInteger:kn,boolean:wn,date:xn,date_range:Vn,datetime:Cn,precision:Sn,decimal:En,float:An,integer:Dn,json:In,xml:Fn,string:On,text:$n,time:Tn,timestamp:Pn,uuid:jn,hash:Ln,geometry:Rn,not_available_for_type:Mn,create_translations:Un,auto_refresh:Nn,refresh_interval:Bn,no_refresh:qn,refresh_interval_seconds:zn,refresh_interval_minutes:Kn,auto_generate:Wn,this_will_auto_setup_fields_relations:Hn,click_here:Gn,to_manually_setup_translations:Qn,click_to_manage_translated_fields:Xn,fields_group:Jn,no_collections_found:Yn,new_data_alert:Zn,search_collection:eo,new_field:to,new_collection:lo,add_m2o_to_collection:ao,add_o2m_to_collection:io,add_m2m_to_collection:no,choose_a_type:oo,determined_by_relationship:so,add_note:ro,add_link:co,custom_link:uo,default_value:po,standard_field:mo,single_file:fo,multiple_files:vo,m2o_relationship:_o,o2m_relationship:yo,m2m_relationship:ho,m2a_relationship:go,invalid_item:bo,next:ko,field_name:wo,translations:xo,note:Vo,enter_a_value:Co,enter_a_placeholder:So,length:Eo,precision_scale:Ao,readonly:Do,unique:Io,updated_on:Fo,updated_by:Oo,primary_key:$o,foreign_key:To,finish_setup:Po,dismiss:jo,raw_value:Lo,edit_raw_value:Ro,enter_raw_value:Mo,clear_value:Uo,clear_changes:No,reset_to_default:Bo,undo_changes:qo,notifications:zo,show_all_activity:Ko,page_not_found:Wo,page_not_found_body:Ho,confirm_revert:Go,confirm_revert_body:Qo,display:Xo,settings_update_success:Jo,title:Yo,revision_delta_created:Zo,revision_delta_created_externally:es,revision_delta_updated:ts,revision_delta_deleted:ls,revision_delta_reverted:as,revision_delta_other:is,revision_delta_by:ns,private_user:os,creation_preview:ss,revision_preview:rs,updates_made:ds,leave_comment:cs,post_comment_success:us,item_create_success:ps,item_update_success:ms,item_delete_success:fs,this_collection:vs,related_collection:_s,related_collections:ys,translations_collection:hs,languages_collection:gs,export_data:bs,format:ks,use_current_filters_settings:ws,export_collection:xs,last_page:Vs,last_access:Cs,fill_template:Ss,a_unique_table_name:Es,a_unique_column_name:As,enable_custom_values:Ds,submit:Is,move_to_folder:Fs,move:Os,system:$s,add_field_related:Ts,interface_label:Ps,today:js,yesterday:Ls,delete_comment:Rs,month:Ms,year:Us,select_all:Ns,months:Bs,drag_mode:qs,cancel_crop:zs,original:Ks,url:Ws,import_label:Hs,file_details:Gs,dimensions:Qs,size:Xs,created:Js,modified:Ys,checksum:Zs,owner:er,edited_by:tr,folder:lr,zoom:ar,download:ir,open:nr,open_in_new_window:or,foreground_color:sr,background_color:rr,upload_from_device:dr,choose_from_library:cr,import_from_url:ur,replace_from_device:pr,replace_from_library:mr,replace_from_url:fr,no_file_selected:vr,download_file:_r,collection_key:yr,name:hr,primary_key_field:gr,type:br,creating_new_collection:kr,created_by:wr,created_on:xr,creating_collection_info:Vr,creating_collection_system:Cr,auto_increment_integer:Sr,generated_uuid:Er,manual_string:Ar,save_and_create_new:Dr,save_and_stay:Ir,save_as_copy:Fr,add_existing:Or,creating_items:$r,enable_create_button:Tr,selecting_items:Pr,enable_select_button:jr,comments:Lr,no_comments:Rr,click_to_expand:Mr,select_item:Ur,no_items:Nr,search_items:Br,disabled:qr,information:zr,report_bug:Kr,request_feature:Wr,interface_not_found:Hr,reset_interface:Gr,display_not_found:Qr,reset_display:Xr,item_count:Jr,no_items_copy:Yr,file_count:Zr,no_files_copy:ed,user_count:td,no_users_copy:ld,webhooks_count:ad,no_webhooks_copy:id,all_items:nd,any:od,csv:sd,no_collections:rd,create_collection:dd,no_collections_copy_admin:cd,no_collections_copy:ud,relationship_not_setup:pd,display_template_not_setup:md,collection_field_not_setup:fd,select_a_collection:vd,select_a_field:_d,active:yd,move_to:hd,copy:gd,copy_to:bd,no_other_dashboards_copy:kd,inactive:wd,users:xd,activity:Vd,webhooks:Cd,decimals:Sd,value_decimals:Ed,min_value:Ad,max_value:Dd,automatic:Id,field_width:Fd,add_filter:Od,upper_limit:$d,lower_limit:Td,user_directory:Pd,documentation:jd,sidebar:Ld,duration:Rd,charset:Md,second:Ud,file_moved:Nd,collection_created:Bd,modified_on:qd,card_size:zd,sort_field:Kd,add_sort_field:Wd,sort:Hd,status:Gd,remove:Qd,toggle_manual_sorting:Xd,bookmark_doesnt_exist:Jd,bookmark_doesnt_exist_copy:Yd,bookmark_doesnt_exist_cta:Zd,select_an_item:ec,edit:tc,enabled:lc,disable_tfa:ac,tfa_scan_code:ic,enter_otp_to_disable_tfa:nc,create_account:oc,account_created_successfully:sc,auto_fill:rc,corresponding_field:dc,errors:cc,security:uc,value_hashed:pc,bookmark_name:mc,create_bookmark:fc,edit_bookmark:vc,bookmarks:_c,presets:yc,unexpected_error:hc,unexpected_error_copy:gc,copy_details:bc,no_app_access:kc,no_app_access_copy:wc,password_reset_sent:xc,password_reset_successful:Vc,back:Cc,filter:Sc,editing_image:Ec,square:Ac,free:Dc,flip_horizontal:Ic,flip_vertical:Fc,aspect_ratio:Oc,rotate:$c,all_users:Tc,delete_collection:Pc,update_collection_success:jc,delete_collection_success:Lc,start_end_of_count_items:Rc,start_end_of_count_filtered_items:Mc,one_item:Uc,one_filtered_item:Nc,delete_collection_are_you_sure:Bc,collections_shown:qc,visible_collections:zc,hidden_collections:Kc,show_hidden_collections:Wc,hide_hidden_collections:Hc,show_header:Gc,unmanaged_collections:Qc,system_collections:Xc,placeholder:Jc,icon_left:Yc,icon_right:Zc,count_other_revisions:eu,font:tu,sans_serif:lu,serif:au,monospace:iu,divider:nu,color:ou,circle:su,empty_item:ru,log_in_with:du,conditional_styles:cu,advanced_settings:uu,advanced_filter:pu,delete_advanced_filter:mu,change_advanced_filter_operator:fu,operators:vu,loading:_u,drop_to_upload:yu,item:hu,items:gu,upload_file:bu,upload_file_indeterminate:ku,upload_file_success:wu,upload_files_indeterminate:xu,upload_files_success:Vu,upload_pending:Cu,drag_file_here:Su,click_to_browse:Eu,interface_options:Au,layout_options:Du,rows:Iu,columns:Fu,collection_setup:Ou,optional_system_fields:$u,value_unique:Tu,all_activity:Pu,create_item:ju,display_template:Lu,language_display_template:Ru,translations_display_template:Mu,n_items_selected:Uu,per_page:Nu,all_files:Bu,my_files:qu,recent_files:zu,create_folder:Ku,folder_name:Wu,add_file:Hu,replace_file:Gu,no_results:Qu,no_results_copy:Xu,clear_filters:Ju,saves_automatically:Yu,role:Zu,rule:ep,user:tp,no_presets:lp,no_presets_copy:ap,no_presets_cta:ip,presets_only:np,create:op,on_create:sp,on_update:rp,read:dp,update:cp,select_fields:up,format_text:pp,format_value:mp,abbreviate_value:fp,operator:vp,bold:_p,toggle:yp,icon_on:hp,icon_off:gp,label:bp,insights:kp,dashboard:wp,panel:xp,panel_options:Vp,panel_header:Cp,panel_name_placeholder:Sp,panel_note_placeholder:Ep,panel_delete_confirm:Ap,dashboard_delete_confirm:Dp,edit_dashboard:Ip,delete_dashboard:Fp,visible:Op,prefix_placeholder:$p,suffix_placeholder:Tp,decimals_placeholder:Pp,no_dashboards:jp,no_dashboards_copy:Lp,no_data:Rp,create_dashboard:Mp,dashboard_name:Up,full_screen:Np,edit_panels:Bp,fit_to_screen:qp,image_url:zp,alt_text:Kp,media:Wp,quality:Hp,width:Gp,height:Qp,source:Xp,url_placeholder:Jp,display_text:Yp,display_text_placeholder:Zp,tooltip:em,tooltip_placeholder:tm,unlimited:lm,open_link_in:am,new_tab:im,current_tab:nm,wysiwyg_options:om,dropdown:sm,choices:rm,choices_option_configured_incorrectly:dm,deselect:cm,deselect_all:um,other:pm,adding_user:mm,unknown_user:fm,creating_in:vm,editing_in:_m,creating_unit:ym,editing_unit:hm,editing_in_batch:gm,no_options_available:bm,settings_data_model:km,settings_permissions:wm,settings_project:xm,settings_webhooks:Vm,settings_presets:Cm,one_or_more_options_are_missing:Sm,scope:Em,select:Am,layout:Dm,tree_view:Im,changes_are_permanent:Fm,preset_name_placeholder:Om,preset_search_placeholder:$m,editing_preset:Tm,layout_preview:Pm,layout_setup:jm,unsaved_changes:Lm,unsaved_changes_copy:Rm,discard_changes:Mm,discard_changes_copy:Um,show_x_axis:Nm,show_y_axis:Bm,keep_editing:qm,page_help_collections_overview:zm,page_help_collections_collection:Km,page_help_collections_item:Wm,page_help_activity_collection:Hm,page_help_docs_global:Gm,page_help_files_collection:Qm,page_help_files_item:Xm,page_help_settings_project:Jm,page_help_settings_datamodel_collections:Ym,page_help_settings_datamodel_fields:Zm,page_help_settings_roles_collection:ef,page_help_settings_roles_item:tf,page_help_settings_presets_collection:lf,page_help_settings_presets_item:af,page_help_settings_webhooks_collection:nf,page_help_settings_webhooks_item:of,page_help_users_collection:sf,page_help_users_item:rf,page_help_insights_overview:df,page_help_insights_dashboard:cf,activity_feed:uf,add_new:pf,create_new:mf,all:ff,none:vf,no_layout_collection_selected_yet:_f,batch_delete_confirm:yf,cancel:hf,no_upscale:gf,collection:bf,collections:kf,singleton:wf,singleton_label:xf,system_fields_locked:Vf,directus_collection:Cf,fields:Sf,field_options:Ef,no_fields_in_collection:Af,no_value:Df,do_nothing:If,generate_and_save_uuid:Ff,save_current_user_id:Of,save_current_user_role:$f,save_current_datetime:Tf,block:Pf,inline:jf,comment:Lf,relational_triggers:Rf,referential_action_field_label_m2o:Mf,referential_action_field_label_o2m:Uf,referential_action_no_action:Nf,referential_action_cascade:Bf,referential_action_set_null:qf,referential_action_set_default:zf,choose_action:Kf,continue_label:Wf,continue_as:Hf,editing_role:Gf,creating_webhook:Qf,default_label:Xf,delete_label:Jf,delete_are_you_sure:Yf,delete_field_are_you_sure:Zf,description:ev,done:tv,duplicate:lv,limit:av,email:iv,embed:nv,fallback_icon:ov,field:sv,file:rv,file_library:dv,forgot_password:cv,hidden:uv,icon:pv,info:mv,normal:fv,success:vv,warning:_v,danger:yv,junction_collection:hv,latency:gv,login:bv,my_activity:kv,not_authenticated:wv,authenticated:xv,options:Vv,otp:Cv,password:Sv,permissions:Ev,relationship:Av,reset:Dv,reset_password:Iv,revisions:Fv,revert:Ov,save:$v,schema:Tv,search:Pv,select_existing:jv,select_field_type:Lv,select_interface:Rv,settings:Mv,sign_in:Uv,sign_out:Nv,sign_out_confirm:Bv,something_went_wrong:qv,sort_direction:zv,sort_asc:Kv,sort_desc:Wv,template:Hv,require_value_to_be_set:Gv,translation:Qv,value:Xv,view_project:Jv,weeks:Yv,report_error:Zv,start:e_,interfaces:t_,displays:l_,layouts:a_,panels:i_});const o_=p({legacy:!1,locale:"en-US",fallbackLocale:"en-US",messages:{"en-US":El},silentTranslationWarn:!0,datetimeFormats:{"en-US":{short:{year:"numeric",month:"short",day:"numeric"},long:{year:"numeric",month:"short",day:"numeric",weekday:"short",hour:"numeric",minute:"numeric",hour12:!0}},"bg-BG":{short:{year:"numeric",month:"numeric",day:"numeric"},long:{year:"numeric",month:"short",day:"numeric",weekday:"short",hour:"numeric",minute:"numeric",hour12:!1}},"cs-CZ":{short:{year:"numeric",month:"short",day:"numeric"},long:{year:"numeric",month:"short",day:"numeric",weekday:"short",hour:"numeric",minute:"numeric",hour12:!1}},"de-DE":{short:{year:"numeric",month:"short",day:"numeric"},long:{year:"numeric",month:"short",day:"numeric",weekday:"short",hour:"numeric",minute:"numeric",hour12:!1}},"fr-FR":{short:{year:"numeric",month:"short",day:"numeric"},long:{year:"numeric",month:"short",day:"numeric",weekday:"short",hour:"numeric",minute:"numeric",hour12:!1}},"it-IT":{short:{year:"numeric",month:"short",day:"numeric"},long:{year:"numeric",month:"short",day:"numeric",weekday:"short",hour:"numeric",minute:"numeric",hour12:!1}},"ms-MY":{short:{year:"numeric",month:"short",day:"numeric"},long:{year:"numeric",month:"short",day:"numeric",weekday:"short",hour:"numeric",minute:"numeric",hour12:!1}},"nl-NL":{short:{year:"numeric",month:"short",day:"numeric"},long:{year:"numeric",month:"short",day:"numeric",weekday:"short",hour:"numeric",minute:"numeric",hour12:!1}},"pl-PL":{short:{year:"numeric",month:"short",day:"numeric"},long:{year:"numeric",month:"short",day:"numeric",weekday:"short",hour:"numeric",minute:"numeric",hour12:!1}},"pt-BR":{short:{year:"numeric",month:"short",day:"numeric"},long:{year:"numeric",month:"short",day:"numeric",weekday:"short",hour:"numeric",minute:"numeric",hour12:!1}},"ru-RU":{short:{year:"numeric",month:"short",day:"numeric"},long:{year:"numeric",month:"short",day:"numeric",weekday:"short",hour:"numeric",minute:"numeric",hour12:!1}},"zh-CN":{short:{year:"numeric",month:"short",day:"numeric"},long:{year:"numeric",month:"short",day:"numeric",weekday:"short",hour:"numeric",minute:"numeric",hour12:!0}}},numberFormats:{"en-US":{currency:{style:"currency",currency:"USD",notation:"standard"},decimal:{style:"decimal",minimumFractionDigits:2,maximumFractionDigits:2},percent:{style:"percent",useGrouping:!1}}}}),s_=["en-US"];function r_(e){var t,l,a,i,n;const o=o_.global.t("unexpected_error");let s=e;if("object"==typeof e&&(s=null==(n=null==(i=null==(a=null==(l=null==(t=null==e?void 0:e.response)?void 0:t.data)?void 0:l.errors)?void 0:a[0])?void 0:i.extensions)?void 0:n.code),!e)return o;if(void 0===!s)return o;const r=`errors.${s}`;return!1===o_.global.te(r)?o:o_.global.t(r)}function d_(e){const t=m.exports.cloneDeep(e);return Object.entries(t).forEach((([e,l])=>{l&&"object"==typeof l&&(t[e]=d_(l)),l&&"string"==typeof l&&l.startsWith("$t:")&&(t[e]=o_.global.t(l.replace("$t:","")))})),t}var c_={"af-ZA":"Afrikaans (South Africa)","ar-SA":"Arabic (Saudi Arabia)","bn-IN":"Bengali (India)","bg-BG":"Bulgarian (Bulgaria)","ca-ES":"Catalan (Spain)","zh-CN":"Chinese (Simplified)","cs-CZ":"Czech (Czech Republic)","da-DK":"Danish (Denmark)","nl-NL":"Dutch (Netherlands)","en-US":"English (United States)","et-EE":"Estonian (Estonia)","fi-FI":"Finnish (Finland)","fr-FR":"French (France)","ka-GE":"Georgian (Georgia)","de-DE":"German (Germany)","el-GR":"Greek (Greece)","he-IL":"Hebrew (Israel)","hi-IN":"Hindi (India)","hu-HU":"Hungarian (Hungary)","is-IS":"Icelandic (Iceland)","id-ID":"Indonesian (Indonesia)","it-IT":"Italian (Italy)","ja-JP":"Japanese (Japan)","ko-KR":"Korean (Korea)","lt-LT":"Lithuanian (Lithuania)","ms-MY":"Malay (Malaysia)","no-NO":"Norwegian (Norway)","fa-IR":"Farci (Iran)","pl-PL":"Polish (Poland)","pt-BR":"Portuguese (Brazil)","pt-PT":"Portuguese (Portugal)","ro-RO":"Romanian (Romania)","ru-RU":"Russian (Russian Federation)","sr-SP":"Serbian (Cyrillic) (Serbia and Montenegro)","sr-CS":"Serbian (Latin) (Serbia and Montenegro)","si-LK":"Sinhala (Sri Lanka)","sk-SK":"Slovak (Slovakia)","sl-SI":"Slovenian (Slovenia)","es-ES":"Spanish (Spain)","es-419":"Spanish (Latin America)","es-cl":"Spanish (Chile)","sv-SE":"Swedish (Sweden)","zh-TW":"Taiwanese Mandarin (Taiwan)","th-TH":"Thai (Thailand)","tr-TR":"Turkish (Turkey)","uk-UA":"Ukrainian (Ukraine)","vi-VN":"Vietnamese (Vietnam)"};const{modules:u_,modulesRaw:p_}=Sl(),{layouts:m_,layoutsRaw:f_}=xl(),{interfaces:v_,interfacesRaw:__}=yl(),{panels:y_,panelsRaw:h_}=bl(),{displays:g_,displaysRaw:b_}=fl();async function k_(e){const t=pI(),l=vI();if(!1===Object.keys(c_).includes(e))console.warn(`"${e}" is not an available language in the Directus app.`);else{if(!1===s_.includes(e))try{const t=await function(e){switch(e){case"./translations/af-ZA.yaml":return ul((()=>import("./assets/af-ZA.d7860330.js")),[]);case"./translations/ar-SA.yaml":return ul((()=>import("./assets/ar-SA.598ec667.js")),[]);case"./translations/bg-BG.yaml":return ul((()=>import("./assets/bg-BG.e4ecceda.js")),[]);case"./translations/bn-IN.yaml":return ul((()=>import("./assets/bn-IN.c2f4d0db.js")),[]);case"./translations/br-FR.yaml":return ul((()=>import("./assets/br-FR.4052e8cf.js")),[]);case"./translations/ca-ES.yaml":return ul((()=>import("./assets/ca-ES.b3257cb3.js")),[]);case"./translations/cs-CZ.yaml":return ul((()=>import("./assets/cs-CZ.aa5ecfed.js")),[]);case"./translations/da-DK.yaml":return ul((()=>import("./assets/da-DK.1ff95604.js")),[]);case"./translations/de-DE.yaml":return ul((()=>import("./assets/de-DE.9653904a.js")),[]);case"./translations/el-GR.yaml":return ul((()=>import("./assets/el-GR.134a2249.js")),[]);case"./translations/en-US.yaml":return ul((()=>Promise.resolve().then((function(){return n_}))),void 0);case"./translations/es-419.yaml":return ul((()=>import("./assets/es-419.74ec6800.js")),[]);case"./translations/es-CL.yaml":return ul((()=>import("./assets/es-CL.8ccbfd69.js")),[]);case"./translations/es-ES.yaml":return ul((()=>import("./assets/es-ES.43f5075d.js")),[]);case"./translations/et-EE.yaml":return ul((()=>import("./assets/et-EE.32c2b3c3.js")),[]);case"./translations/fa-IR.yaml":return ul((()=>import("./assets/fa-IR.aac8423d.js")),[]);case"./translations/fi-FI.yaml":return ul((()=>import("./assets/fi-FI.0f83a108.js")),[]);case"./translations/fr-FR.yaml":return ul((()=>import("./assets/fr-FR.4784e2ae.js")),[]);case"./translations/he-IL.yaml":return ul((()=>import("./assets/he-IL.fc2f5301.js")),[]);case"./translations/hi-IN.yaml":return ul((()=>import("./assets/hi-IN.b35e8d7f.js")),[]);case"./translations/hu-HU.yaml":return ul((()=>import("./assets/hu-HU.e026b165.js")),[]);case"./translations/id-ID.yaml":return ul((()=>import("./assets/id-ID.d8a46ab6.js")),[]);case"./translations/is-IS.yaml":return ul((()=>import("./assets/is-IS.35706417.js")),[]);case"./translations/it-IT.yaml":return ul((()=>import("./assets/it-IT.5a978186.js")),[]);case"./translations/ja-JP.yaml":return ul((()=>import("./assets/ja-JP.b5fe8dbc.js")),[]);case"./translations/ka-GE.yaml":return ul((()=>import("./assets/ka-GE.f256ce27.js")),[]);case"./translations/ko-KR.yaml":return ul((()=>import("./assets/ko-KR.b51fe8f7.js")),[]);case"./translations/lt-LT.yaml":return ul((()=>import("./assets/lt-LT.0a4e78a5.js")),[]);case"./translations/mn-MN.yaml":return ul((()=>import("./assets/mn-MN.0d0b4f58.js")),[]);case"./translations/ms-MY.yaml":return ul((()=>import("./assets/ms-MY.d55ec36d.js")),[]);case"./translations/nl-NL.yaml":return ul((()=>import("./assets/nl-NL.355cd42d.js")),[]);case"./translations/no-NO.yaml":return ul((()=>import("./assets/no-NO.0d2d39e4.js")),[]);case"./translations/pl-PL.yaml":return ul((()=>import("./assets/pl-PL.c59c20fc.js")),[]);case"./translations/pt-BR.yaml":return ul((()=>import("./assets/pt-BR.f1d61dfa.js")),[]);case"./translations/pt-PT.yaml":return ul((()=>import("./assets/pt-PT.074e6ef9.js")),[]);case"./translations/ro-RO.yaml":return ul((()=>import("./assets/ro-RO.1334a16b.js")),[]);case"./translations/ru-RU.yaml":return ul((()=>import("./assets/ru-RU.3447e0fb.js")),[]);case"./translations/si-LK.yaml":return ul((()=>import("./assets/si-LK.818c6cc5.js")),[]);case"./translations/sk-SK.yaml":return ul((()=>import("./assets/sk-SK.bfa6fb82.js")),[]);case"./translations/sl-SI.yaml":return ul((()=>import("./assets/sl-SI.d2ed83bf.js")),[]);case"./translations/sr-CS.yaml":return ul((()=>import("./assets/sr-CS.0cb052d1.js")),[]);case"./translations/sr-SP.yaml":return ul((()=>import("./assets/sr-SP.33768278.js")),[]);case"./translations/sv-SE.yaml":return ul((()=>import("./assets/sv-SE.95f31fdb.js")),[]);case"./translations/th-TH.yaml":return ul((()=>import("./assets/th-TH.34ae3255.js")),[]);case"./translations/tr-TR.yaml":return ul((()=>import("./assets/tr-TR.30cff1d9.js")),[]);case"./translations/uk-UA.yaml":return ul((()=>import("./assets/uk-UA.c6d79bee.js")),[]);case"./translations/vi-VN.yaml":return ul((()=>import("./assets/vi-VN.03431770.js")),[]);case"./translations/zh-CN.yaml":return ul((()=>import("./assets/zh-CN.6ab0abfb.js")),[]);case"./translations/zh-TW.yaml":return ul((()=>import("./assets/zh-TW.defd0355.js")),[]);default:return new Promise((function(t,l){("function"==typeof queueMicrotask?queueMicrotask:setTimeout)(l.bind(null,new Error("Unknown variable dynamic import: "+e)))}))}}(`./translations/${e}.yaml`);o_.global.mergeLocaleMessage(e,t),s_.push(e)}catch(a){console.warn(a)}o_.global.locale.value=e,document.querySelector("html").setAttribute("lang",e)}return u_.value=d_(p_.value),m_.value=d_(f_.value),v_.value=d_(__.value),y_.value=d_(h_.value),g_.value=d_(b_.value),t.translateCollections(),l.translateFields(),!0}function w_(e,t,l){if(Array.isArray(e))return e.map((function(e,a){return m.exports.isObjectLike(e)?w_(e,t,l):t.call(l,e,a)}));if(m.exports.isObjectLike(e)){const a={};for(const i in e){const n=e[i];m.exports.isObjectLike(n)?a[i]=w_(n,t,l):a[i]=t.call(l,n,i)}return a}return e}function x_(e){switch(e){case"binary":case"hash":case"string":case"csv":return["contains","ncontains","starts_with","nstarts_with","ends_with","nends_with","eq","neq","empty","nempty","null","nnull","in","nin"];case"uuid":case"json":return["eq","neq","null","nnull","in","nin"];case"boolean":return["eq","neq","null","nnull"];case"integer":case"decimal":return["eq","neq","lt","lte","gt","gte","between","nbetween","null","nnull","in","nin"];case"dateTime":case"date":case"time":return["eq","neq","null","nnull","lt","lte","gt","gte","between","nbetween","null","nnull","in","nin"];case"geometry":return["eq","neq","null","nnull","intersects","nintersects","intersects_bbox","nintersects_bbox"];default:return["eq","neq","lt","lte","gt","gte","contains","ncontains","between","nbetween","empty","nempty","null","nnull","in","nin"]}}const V_=["Point","LineString","Polygon","MultiPoint","MultiLineString","MultiPolygon"],C_=/\(([^)]+)\)/;function S_(e){return"string"==typeof e?e.split(","):Array.isArray(e)?e:[e]}function E_(e,t){return w_(e,(function e(l,a){var i;if("true"===l)return!0;if("false"===l)return!1;if("null"===l||"NULL"===l)return null;if(["_in","_nin","_between","_nbetween"].includes(String(a)))return"string"==typeof l&&l.includes(",")?w_(l.split(","),e):w_(S_(l),e);if(l&&"string"==typeof l&&l.startsWith("$NOW")){if(l.includes("(")&&l.includes(")")){const e=null===(i=l.match(C_))||void 0===i?void 0:i[1];return e?function(e,t){var l;e=m.exports.clone(e);const a=/^((?:-|\+)?\d*?\.?\d+?) *?(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|months?|mth|mo|years?|yrs?|y)?$/i.exec(t.trim());if(!a||!a[1])return;const i=parseFloat(a[1]);switch((null!==(l=a[2])&&void 0!==l?l:"days").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return k(e,i);case"months":case"month":case"mth":case"mo":return b(e,i);case"weeks":case"week":case"w":return g(e,i);case"days":case"day":case"d":return h(e,i);case"hours":case"hour":case"hrs":case"hr":case"h":return y(e,i);case"minutes":case"minute":case"mins":case"min":case"m":return _(e,i);case"seconds":case"second":case"secs":case"sec":case"s":return v(e,i);case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return f(e,i);default:return}}(new Date,e):new Date}return new Date}return"$CURRENT_USER"===l?(null==t?void 0:t.user)||null:"$CURRENT_ROLE"===l?(null==t?void 0:t.role)||null:l}))}function A_(e,t,l){const a=[];if("_and"===Object.keys(e)[0]){const i=Object.values(e)[0],n=m.exports.flatten(i.map((e=>A_(e,t,l)))).filter((e=>e));a.push(...n)}else if("_or"===Object.keys(e)[0]){const i=Object.values(e)[0],n=m.exports.flatten(i.map((e=>A_(e,t,l))));i.length===n.length&&a.push(...n)}else{const i=Qt(e,l),{error:n}=i.validate(t,{abortEarly:!1});n&&a.push(n)}return a}function D_(e){return e.first_name&&e.last_name?`${e.first_name} ${e.last_name}`:e.first_name?e.first_name:e.email?e.email:o_.global.t("unknown_user")}const I_=c({id:"userStore",state:()=>({currentUser:null,loading:!1,error:null}),getters:{fullName(){return null===this.currentUser?null:D_(this.currentUser)},isAdmin(){var e;return!0===(null==(e=this.currentUser)?void 0:e.role.admin_access)||!1}},actions:{async hydrate(){this.loading=!0;try{const{data:e}=await dI.get("/users/me",{params:{fields:"*,avatar.id,role.*"}});this.currentUser=e.data}catch(e){this.error=e}finally{this.loading=!1}},async dehydrate(){this.$reset()},async trackPage(e){const t=yI(),l=performance.now();await dI.patch("/users/me/track/page",{last_page:e});const a=performance.now();t.save({timestamp:new Date,latency:a-l}),this.currentUser&&(this.currentUser.last_page=e)}}});var F_=(e,t)=>{for(const[l,a]of t)e[l]=a;return e};var O_=F_(w({props:{filters:{type:Array,required:!0}},emits:["update:filters"],setup(e,{emit:t}){const{t:l}=x(),a=I_();return{t:l,currentUserID:V((()=>{var e;return null==(e=a.currentUser)?void 0:e.id})),setNavFilter:function(l,a){t("update:filters",[...e.filters.filter((e=>!1===e.locked)),{key:C(),locked:!0,field:l,operator:"eq",value:a}])},clearNavFilter:function(){t("update:filters",e.filters.filter((e=>!1===e.locked)))},activeFilter:V((()=>e.filters.find((e=>!0===e.locked))))}}}),[["render",function(e,t,l,a,i,n){const o=S("v-icon"),s=S("v-list-item-icon"),r=S("v-text-overflow"),d=S("v-list-item-content"),c=S("v-list-item"),u=S("v-divider"),p=S("v-list");return E(),A(p,{large:""},{default:D((()=>[I(c,{clickable:"",active:!e.activeFilter,onClick:e.clearNavFilter},{default:D((()=>[I(s,null,{default:D((()=>[I(o,{name:"access_time"})])),_:1}),I(d,null,{default:D((()=>[I(r,{text:e.t("all_activity")},null,8,["text"])])),_:1})])),_:1},8,["active","onClick"]),I(c,{clickable:"",active:e.activeFilter&&"user"===e.activeFilter.field&&e.activeFilter.value===e.currentUserID,onClick:t[0]||(t[0]=t=>e.setNavFilter("user",e.currentUserID))},{default:D((()=>[I(s,null,{default:D((()=>[I(o,{name:"face"})])),_:1}),I(d,null,{default:D((()=>[I(r,{text:e.t("my_activity")},null,8,["text"])])),_:1})])),_:1},8,["active"]),I(u),I(c,{clickable:"",active:e.activeFilter&&"action"===e.activeFilter.field&&"create"===e.activeFilter.value,onClick:t[1]||(t[1]=t=>e.setNavFilter("action","create"))},{default:D((()=>[I(s,null,{default:D((()=>[I(o,{name:"add"})])),_:1}),I(d,null,{default:D((()=>[I(r,{text:e.t("create")},null,8,["text"])])),_:1})])),_:1},8,["active"]),I(c,{clickable:"",active:e.activeFilter&&"action"===e.activeFilter.field&&"update"===e.activeFilter.value,onClick:t[2]||(t[2]=t=>e.setNavFilter("action","update"))},{default:D((()=>[I(s,null,{default:D((()=>[I(o,{name:"check"})])),_:1}),I(d,null,{default:D((()=>[I(r,{text:e.t("update")},null,8,["text"])])),_:1})])),_:1},8,["active"]),I(c,{clickable:"",active:e.activeFilter&&"action"===e.activeFilter.field&&"delete"===e.activeFilter.value,onClick:t[3]||(t[3]=t=>e.setNavFilter("action","delete"))},{default:D((()=>[I(s,null,{default:D((()=>[I(o,{name:"clear"})])),_:1}),I(d,null,{default:D((()=>[I(r,{text:e.t("delete_label")},null,8,["text"])])),_:1})])),_:1},8,["active"]),I(c,{clickable:"",active:e.activeFilter&&"action"===e.activeFilter.field&&"comment"===e.activeFilter.value,onClick:t[4]||(t[4]=t=>e.setNavFilter("action","comment"))},{default:D((()=>[I(s,null,{default:D((()=>[I(o,{name:"chat_bubble_outline"})])),_:1}),I(d,null,{default:D((()=>[I(r,{text:e.t("comment")},null,8,["text"])])),_:1})])),_:1},8,["active"]),I(c,{clickable:"",active:e.activeFilter&&"action"===e.activeFilter.field&&"authenticate"===e.activeFilter.value,onClick:t[5]||(t[5]=t=>e.setNavFilter("action","authenticate"))},{default:D((()=>[I(s,null,{default:D((()=>[I(o,{name:"login"})])),_:1}),I(d,null,{default:D((()=>[I(r,{text:e.t("login")},null,8,["text"])])),_:1})])),_:1},8,["active"])])),_:1})}]]);function $_(e,t=F(null),l=!1){const a=xI(),i=I_(),n=F(!1),{info:o}=Xt(e),d=V((()=>!!t.value&&!!a.getBookmark(t.value))),c=F({});C();const u=F(!0),p=V((()=>c.value.user===i.currentUser.id)),f=async e=>{if(l)return;n.value=!0;const t=await a.savePreset(e||c.value);return c.value=r(s({},c.value),{id:t.id,user:t.user}),u.value=!0,n.value=!1,t},v=m.exports.debounce((async()=>{f()}),450);function _(){if(d.value){const e=a.getBookmark(Number(t.value));u.value=m.exports.isEqual(c.value,e)}else v()}O([e,t],(()=>{C()}));const y=V({get(){var e;return c.value.layout&&(null==(e=c.value.layout_options)?void 0:e[c.value.layout])||null},set(e){if(!c.value.layout)return null;c.value=r(s({},c.value),{layout_options:r(s({},c.value.layout_options),{[c.value.layout]:e})}),_()}}),h=V({get(){var e;return c.value.layout&&(null==(e=c.value.layout_query)?void 0:e[c.value.layout])||null},set(e){if(!c.value.layout)return null;c.value=r(s({},c.value),{layout_query:r(s({},c.value.layout_query),{[c.value.layout]:e})}),_()}}),g=V({get:()=>c.value.layout||"tabular",set(e){c.value=r(s({},c.value),{layout:e}),_()}}),b=V({get:()=>c.value.filters||[],set(e){c.value=r(s({},c.value),{filters:e}),_()}}),k=V({get:()=>c.value.refresh_interval||null,set(e){c.value=r(s({},c.value),{refresh_interval:e}),_()}}),w=V({get:()=>c.value.search||null,set(e){c.value=r(s({},c.value),{search:e}),_()}}),x=V({get(){var e;return(null==(e=c.value)?void 0:e.bookmark)||null},set(e){c.value=r(s({},c.value),{bookmark:e}),f()}});return{bookmarkExists:d,layout:g,layoutOptions:y,layoutQuery:h,filters:b,searchQuery:w,refreshInterval:k,savePreset:f,saveCurrentAsBookmark:async function(e){const t=s(s({},c.value),e);t.id&&delete t.id;return t.user=i.currentUser.id,await f(t)},bookmarkTitle:x,resetPreset:async function(){c.value=r(s({},c.value),{layout_query:null,layout_options:null,layout:"tabular",filters:null,search:null,refresh_interval:null}),await f()},bookmarkSaved:u,bookmarkIsMine:p,busy:n,clearLocalSave:function(){const e=a.getBookmark(Number(t.value));e&&(c.value=s({},e));u.value=!0},localPreset:c};function C(){var l,i,n,u;if(null===t.value)c.value=s({},a.getPresetForCollection(e.value));else{if(!1===d.value)return;c.value=s({},a.getBookmark(Number(t.value)))}c.value.layout||(c.value=r(s({},c.value),{layout:"tabular"})),(null==(i=null==(l=o.value)?void 0:l.meta)?void 0:i.archive_field)&&!0===(null==(u=null==(n=o.value)?void 0:n.meta)?void 0:u.archive_app_filter)&&(c.value=r(s({},c.value),{filters:c.value.filters||[{key:"hide-archived",field:o.value.meta.archive_field,operator:"neq",value:o.value.meta.archive_value,locked:!0}]}))}}const T_=["selection","layoutOptions","layoutQuery","filters","searchQuery"];function P_(e){const{layouts:t}=xl(),l=V((()=>t.value.map((e=>function(e){return w({name:`${e.id}-wrapper`,props:{collection:{type:String,required:!0},selection:{type:Array,default:()=>[]},layoutOptions:{type:Object,default:()=>({})},layoutQuery:{type:Object,default:()=>({})},filters:{type:Array,default:()=>[]},searchQuery:{type:String,default:null},selectMode:{type:Boolean,default:!1},readonly:{type:Boolean,default:!1},resetPreset:{type:Function,default:null}},emits:T_.map((e=>`update:${e}`)),setup(t,{emit:l}){const a=$(s(s({},e.setup(t,{emit:l})),T(t)));for(const e in a)a[`onUpdate:${e}`]=i=>{var n;n=e,T_.includes(n)?l(`update:${e}`,i):Object.keys(t).includes(e)||(a[e]=i)};return{state:a}},render:e=>void 0!==e.$slots.default?e.$slots.default({layoutState:e.state}):null})}(e)))));return{layoutWrapper:V((()=>{const t=l.value.find((t=>t.name===`${e.value}-wrapper`));return void 0===t?l.value.find((e=>"tabular-wrapper"===e.name)):t}))}}const j_={alias:"input",bigInteger:"input",binary:"input",boolean:"boolean",date:"datetime",dateTime:"datetime",decimal:"input",float:"input",integer:"input",json:"input-code",string:"input",text:"input-multiline",time:"datetime",timestamp:"datetime",uuid:"input",unknown:"input",csv:"tags",hash:"input-hash",geometry:"map"};function L_(e){return j_[e]||"input"}const R_=w({props:{modelValue:{type:[String,Number,Boolean],required:!0},type:{type:String,required:!0},operator:{type:String,required:!0},disabled:{type:Boolean,default:!1},field:{type:Object,default:null}},emits:["update:modelValue"],setup(e,{emit:t}){const{t:l}=x(),a=V({get:()=>e.modelValue,set(e){t("update:modelValue",e)}}),i=V({get:()=>"string"==typeof e.modelValue?e.modelValue.split(","):[],set(e){a.value=e.join(",")}}),n=V((()=>{var t,l,a;return e.field&&(null==(a=null==(l=null==(t=e.field)?void 0:t.meta)?void 0:l.options)?void 0:a.choices)||null})),o=V((()=>n.value?"interface-select-dropdown":"csv"===e.field.type?"interface-input":`interface-${L_(e.type)}`));return{t:l,internalValue:a,csvValue:i,setCSV:function(e,t){const l=Object.assign([],i.value,{[e]:t});i.value=l},removeCSV:function(e){i.value=i.value.filter((t=>t!==e))},addCSV:function(){i.value=[...i.value,""]},interfaceComponent:o,choices:n}}}),M_={class:"filter-input"},U_={key:0,class:"between"},N_={class:"field"},B_={class:"field"},q_={key:1,class:"list"},z_=["onClick"];const K_=w({components:{FilterInput:F_(R_,[["render",function(e,t,l,a,i,n){const o=S("v-icon"),s=S("v-button");return E(),P("div",M_,[["between","nbetween"].includes(e.operator)?(E(),P("div",U_,[j("div",N_,[(E(),A(L(e.interfaceComponent),{type:e.type,value:e.csvValue[0],placeholder:e.t("lower_limit"),"allow-other":!0,choices:e.choices,autofocus:"",onInput:t[0]||(t[0]=t=>e.setCSV(0,t))},null,8,["type","value","placeholder","choices"]))]),j("div",B_,[(E(),A(L(e.interfaceComponent),{type:e.type,value:e.csvValue[1],placeholder:e.t("upper_limit"),"allow-other":!0,choices:e.choices,autofocus:"",onInput:t[1]||(t[1]=t=>e.setCSV(1,t))},null,8,["type","value","placeholder","choices"]))])])):["in","nin"].includes(e.operator)?(E(),P("div",q_,[(E(!0),P(R,null,M(e.csvValue,((t,l)=>(E(),P("div",{key:l,class:"field"},[(E(),A(L(e.interfaceComponent),{type:e.type,value:t,placeholder:e.t("enter_a_value"),disabled:e.disabled,"allow-other":!0,choices:e.choices,autofocus:"",onInput:t=>e.setCSV(l,t)},null,8,["type","value","placeholder","disabled","choices","onInput"])),j("small",{class:"remove",onClick:l=>e.removeCSV(t)},U(e.t("remove")),9,z_)])))),128)),I(s,{outlined:"","full-width":"",dashed:"",disabled:e.disabled,onClick:e.addCSV},{default:D((()=>[I(o,{name:"add"}),N(" "+U(e.t("add_new")),1)])),_:1},8,["disabled","onClick"])])):!1===["empty","nempty","null","nnull"].includes(e.operator)?(E(),A(L(e.interfaceComponent),{key:2,type:e.type,value:e.internalValue,placeholder:e.t("enter_a_value"),disabled:e.disabled,choices:e.choices,"allow-other":!0,autofocus:"",onInput:t[2]||(t[2]=t=>e.internalValue=t)},null,8,["type","value","placeholder","disabled","choices"])):B("",!0)])}],["__scopeId","data-v-6f41353c"]])},props:{filter:{type:Object,required:!0},collection:{type:String,required:!0},disabled:{type:Boolean,default:!1}},emits:["remove","update"],setup(e,{emit:t}){const{t:l}=x(),a=vI(),i=V({get:()=>e.filter.operator,set(e){t("update",{operator:e})}}),n=V({get:()=>e.filter.value,set(e){t("update",{value:e})}}),o=V((()=>{return t=e.filter.field,null==(l=d(t))?void 0:l.name;var t,l})),s=V((()=>d(e.filter.field))),r=V((()=>x_(s.value.type)));return{t:l,activeOperator:i,value:n,name:o,field:s,filterOperators:r};function d(t){return a.getField(e.collection,t)}}}),W_={class:"field-filter"},H_={class:"header"},G_={class:"name"},Q_={key:0,class:"relational-indicator"},X_=["onClick"],J_=(e=>(K("data-v-65cd2b32"),e=e(),W(),e))((()=>j("div",{class:"spacer"},null,-1))),Y_={class:"field"};var Z_=F_(K_,[["render",function(e,t,l,a,i,n){const o=S("v-icon"),s=S("v-list-item-content"),r=S("v-list-item"),d=S("v-list"),c=S("v-menu"),u=S("filter-input"),p=q("tooltip");return E(),P("div",W_,[j("div",H_,[z(j("div",G_,[e.filter.field.includes(".")?(E(),P("span",Q_,"•")):B("",!0),N(" "+U(e.name),1)],512),[[p,e.filter.field.split(".").join(" → ")]]),I(c,{"show-arrow":"",disabled:e.disabled},{activator:D((({toggle:t})=>[z(j("div",{class:"operator",onClick:t},[j("span",null,U(e.t(`operators.${e.activeOperator}`)),1),I(o,{name:"expand_more"})],8,X_),[[p,e.t("change_advanced_filter_operator"),void 0,{top:!0}]])])),default:D((()=>[I(d,null,{default:D((()=>[(E(!0),P(R,null,M(e.filterOperators,(t=>(E(),A(r,{key:t,active:t===e.activeOperator,clickable:"",onClick:l=>e.activeOperator=t},{default:D((()=>[I(s,null,{default:D((()=>[N(U(e.t(`operators.${t}`)),1)])),_:2},1024)])),_:2},1032,["active","onClick"])))),128))])),_:1})])),_:1},8,["disabled"]),J_,z(I(o,{class:"remove",name:"close",clickable:"",onClick:t[0]||(t[0]=t=>e.$emit("remove"))},null,512),[[p,e.t("delete_advanced_filter"),void 0,{left:!0}]])]),j("div",Y_,[I(u,{modelValue:e.value,"onUpdate:modelValue":t[1]||(t[1]=t=>e.value=t),field:e.field,type:e.field.type,operator:e.activeOperator,disabled:e.disabled},null,8,["modelValue","field","type","operator","disabled"])])])}],["__scopeId","data-v-65cd2b32"]]);const ey=w({name:"FieldListItem",props:{field:{type:Object,required:!0},parent:{type:String,default:null}},emits:["add"]});function ty(e,t=!1,l,a=(()=>!0),i=3){const n=vI(),o=pI(),d=VI(),c=F([]);return O(e,(e=>{c.value=e?u(e,null):[]}),{immediate:!0}),{tree:c};function u(e,c,p=0){var f,v,_;const y=m.exports.orderBy([...m.exports.cloneDeep(n.getFieldsForCollection(e)),...(null==(f=null==l?void 0:l.value)?void 0:f.fields.filter((t=>t.collection===e)))||[]].filter((e=>{var t,l,a,i;return!0!==(null==(l=null==(t=e.meta)?void 0:t.special)?void 0:l.includes("alias"))&&!0!==(null==(i=null==(a=e.meta)?void 0:a.special)?void 0:i.includes("no-data"))})).filter(a).map((e=>{var t;return{name:e.name,field:e.field,key:c?`${c}.${e.field}`:e.field,sort:null==(t=e.meta)?void 0:t.sort}})),"sort");if(p>=i)return y;for(const a of y){const i=[...d.getRelationsForField(e,a.field),...(null==(v=null==l?void 0:l.value)?void 0:v.relations.filter((t=>{var l;return t.collection===e&&t.field===a.field||t.related_collection===e&&(null==(l=t.meta)?void 0:l.one_field)===a.field})))||[]].find((t=>{var l;return t.collection===e&&t.field===a.field||t.related_collection===e&&(null==(l=t.meta)?void 0:l.one_field)===a.field}));if(!i)continue;const n=Jt({relation:i,collection:e,field:a.field});if("m2o"===n)a.children=u(i.related_collection,c?`${c}.${a.field}`:a.field,p+1);else if("m2a"===n){a.children=[];for(const e of i.meta.one_allowed_collections){const t=(null==(_=o.collections.find((t=>t.collection===e)))?void 0:_.name)||e;a.children.push(...u(e,c?`${c}.${a.field}:${e}`:`${a.field}:${e}`,p+1).map((e=>r(s({},e),{name:`${e.name} (${t})`}))))}}else!1===t&&(a.children=u(i.collection,c?`${c}.${a.field}`:a.field,p+1))}return y}}var ly=F_(w({components:{FieldFilter:Z_,FieldListItem:F_(ey,[["render",function(e,t,l,a,i,n){const o=S("v-list-item-content"),s=S("v-list-item"),r=S("field-list-item",!0),d=S("v-list-group");return void 0===e.field.children?(E(),A(s,{key:0,clickable:"",onClick:t[0]||(t[0]=t=>e.$emit("add",`${e.parent?e.parent+".":""}${e.field.field}`))},{default:D((()=>[I(o,null,{default:D((()=>[N(U(e.field.name),1)])),_:1})])),_:1})):(E(),A(d,{key:1},{activator:D((()=>[N(U(e.field.name),1)])),default:D((()=>[(E(!0),P(R,null,M(e.field.children,(l=>(E(),A(r,{key:l.field,parent:`${e.parent?e.parent+".":""}${e.field.field}`,field:l,onAdd:t[1]||(t[1]=t=>e.$emit("add",t))},null,8,["parent","field"])))),128))])),_:1}))}]])},props:{modelValue:{type:Array,required:!0},collection:{type:String,required:!0},loading:{type:Boolean,default:!1}},emits:["update:modelValue"],setup(e,{emit:t}){const{t:l}=x(),a=vI(),{collection:i}=T(e),{info:n}=Xt(i),{tree:o}=ty(i),r=F([]);O((()=>e.modelValue),(()=>{r.value=e.modelValue}),{immediate:!0});const d=m.exports.debounce((()=>{t("update:modelValue",r.value)}),850),c=V({get:()=>r.value.filter((e=>!0!==e.locked)),set(e){r.value=e,d()}}),u=V((()=>{var e,t,l,a;return!!(null==(t=null==(e=n.value)?void 0:e.meta)?void 0:t.archive_field)&&!!(null==(a=null==(l=n.value)?void 0:l.meta)?void 0:a.archive_app_filter)})),p=V({get:()=>void 0===e.modelValue.find((e=>!0===e.locked&&"hide-archived"===e.key)),set(e){var l,a;(null==(a=null==(l=n.value)?void 0:l.meta)?void 0:a.archive_field)&&t("update:modelValue",!1===e?[...c.value,{key:"hide-archived",field:n.value.meta.archive_field,operator:"neq",value:n.value.meta.archive_value,locked:!0}]:c.value.filter((e=>"hide-archived"!==e.key)))}});return{t:l,fieldTree:o,addFilterForField:function(l){const i=a.getField(e.collection,l),n=x_(i.type)[0];t("update:modelValue",[...e.modelValue,{key:C(),field:l,operator:n||"contains",value:"boolean"===i.type||""}])},filters:c,removeFilter:function(e){c.value=c.value.filter((t=>t.key!==e))},updateFilter:function(e,t){c.value=c.value.map((l=>l.key===e?s(s({},l),t):l))},showArchiveToggle:u,archived:p}}}),[["render",function(e,t,l,a,i,n){const o=S("field-filter"),s=S("v-divider"),r=S("v-icon"),d=S("v-input"),c=S("field-list-item"),u=S("v-list"),p=S("v-menu"),m=S("v-checkbox"),f=S("sidebar-detail");return E(),A(f,{badge:e.filters.length>0?e.filters.length:null,icon:"filter_list",title:e.t("advanced_filter")},{default:D((()=>[(E(!0),P(R,null,M(e.filters,(t=>(E(),A(o,{key:t.key,filter:t,collection:e.collection,disabled:e.loading,onUpdate:l=>e.updateFilter(t.key,l),onRemove:l=>e.removeFilter(t.key)},null,8,["filter","collection","disabled","onUpdate","onRemove"])))),128)),e.filters.length?(E(),A(s,{key:0})):B("",!0),I(p,{attached:"",disabled:e.loading},{activator:D((({toggle:t,active:l})=>[I(d,{clickable:"",class:H({active:l}),readonly:"","model-value":e.t("add_filter"),disabled:e.loading,onClick:t},{prepend:D((()=>[I(r,{name:"add"})])),append:D((()=>[I(r,{name:"expand_more"})])),_:2},1032,["class","model-value","disabled","onClick"])])),default:D((()=>[I(u,null,{default:D((()=>[(E(!0),P(R,null,M(e.fieldTree,(t=>(E(),A(c,{key:t.field,field:t,onAdd:e.addFilterForField},null,8,["field","onAdd"])))),128))])),_:1})])),_:1},8,["disabled"]),e.showArchiveToggle?(E(),P(R,{key:1},[I(s),I(m,{modelValue:e.archived,"onUpdate:modelValue":t[0]||(t[0]=t=>e.archived=t),label:e.t("show_archived_items")},null,8,["modelValue","label"])],64)):B("",!0)])),_:1},8,["badge","title"])}],["__scopeId","data-v-e7a337fe"]]);const ay=w({props:{modelValue:{type:String,default:"tabular"}},emits:["update:modelValue"],setup(e,{emit:t}){const{t:l}=x(),{layouts:a}=xl(),i=V((()=>{const t=a.value.find((t=>t.id===e.modelValue));return void 0===t?a.value.find((e=>"tabular"===e.id)):t})),n=Yt(e,"modelValue",t);return{t:l,currentLayout:i,layouts:a,layout:n}}}),iy={class:"layout-options"},ny={class:"field"},oy={class:"type-label"};var sy=F_(ay,[["render",function(e,t,l,a,i,n){const o=S("v-icon"),s=S("v-select"),r=S("sidebar-detail");return E(),A(r,{icon:"layers",title:e.t("layout_options")},{default:D((()=>[j("div",iy,[j("div",ny,[j("div",oy,U(e.t("layout")),1),I(s,{modelValue:e.layout,"onUpdate:modelValue":t[0]||(t[0]=t=>e.layout=t),items:e.layouts,"item-text":"name","item-value":"id","item-icon":"icon"},G({_:2},[e.currentLayout.icon?{name:"prepend",fn:D((()=>[I(o,{name:e.currentLayout.icon},null,8,["name"])]))}:void 0]),1032,["modelValue","items"])]),Q(e.$slots,"default",{},void 0,!0)])])),_:3},8,["title"])}],["__scopeId","data-v-1eae1f03"]]);const ry=w({props:{modelValue:{type:String,default:null}},emits:["update:modelValue"],setup(e,{emit:t}){const{t:l}=x(),a=F(null),i=F(null!==e.modelValue);return O(i,(e=>{!0===e&&null!==a.value&&a.value.focus()})),{t:l,active:i,disable:function(){i.value=!1},input:a,emptyAndClose:function(){t("update:modelValue",null),i.value=!1},emitValue:function(){var e;if(!a.value)return;const l=null==(e=a.value)?void 0:e.value;t("update:modelValue",l)}}}}),dy=["value","placeholder"];var cy=F_(ry,[["render",function(e,t,l,a,i,n){const o=S("v-icon"),s=q("click-outside"),r=q("tooltip");return z((E(),P("div",{class:H(["search-input",{active:e.active,"has-content":!!e.modelValue}]),onClick:t[2]||(t[2]=t=>e.active=!0)},[I(o,{name:"search"}),j("input",{ref:"input",value:e.modelValue,placeholder:e.t("search_items"),onInput:t[0]||(t[0]=(...t)=>e.emitValue&&e.emitValue(...t)),onPaste:t[1]||(t[1]=(...t)=>e.emitValue&&e.emitValue(...t))},null,40,dy),e.modelValue?(E(),A(o,{key:0,class:"empty",name:"close",onClick:X(e.emptyAndClose,["stop"])},null,8,["onClick"])):B("",!0)],2)),[[s,e.disable],[r,e.active?null:e.t("search"),void 0,{bottom:!0}]])}],["__scopeId","data-v-ad45b698"]]);const uy=w({name:"ActivityCollection",components:{ActivityNavigation:O_,FilterSidebarDetail:ly,LayoutSidebarDetail:sy,SearchInput:cy},props:{primaryKey:{type:String,default:null}},setup(){const{t:e}=x(),{layout:t,layoutOptions:l,layoutQuery:a,filters:i,searchQuery:n}=$_(F("directus_activity")),{breadcrumb:o}={breadcrumb:V((()=>[{name:e("collection",2),to:"/collections"}]))},{layoutWrapper:s}=P_(t);return{t:e,breadcrumb:o,layout:t,layoutWrapper:s,layoutOptions:l,layoutQuery:a,searchQuery:n,filters:i}}}),py={class:"page-description"};var my=F_(uy,[["render",function(e,t,l,a,i,n){const o=S("v-icon"),s=S("v-button"),r=S("search-input"),d=S("activity-navigation"),c=S("router-view"),u=S("sidebar-detail"),p=S("layout-sidebar-detail"),m=S("private-view"),f=q("md");return E(),A(L(e.layoutWrapper),{"layout-options":e.layoutOptions,"onUpdate:layout-options":t[3]||(t[3]=t=>e.layoutOptions=t),"layout-query":e.layoutQuery,"onUpdate:layout-query":t[4]||(t[4]=t=>e.layoutQuery=t),filters:e.filters,"onUpdate:filters":t[5]||(t[5]=t=>e.filters=t),"search-query":e.searchQuery,"onUpdate:search-query":t[6]||(t[6]=t=>e.searchQuery=t),collection:"directus_activity"},{default:D((({layoutState:l})=>[I(m,{title:e.t("activity_feed")},{"title-outer:prepend":D((()=>[I(s,{class:"header-icon",rounded:"",disabled:"",icon:"",secondary:""},{default:D((()=>[I(o,{name:"access_time"})])),_:1})])),"actions:prepend":D((()=>[(E(),A(L(`layout-actions-${e.layout}`),J(Y(l)),null,16))])),actions:D((()=>[I(r,{modelValue:e.searchQuery,"onUpdate:modelValue":t[0]||(t[0]=t=>e.searchQuery=t)},null,8,["modelValue"])])),navigation:D((()=>[I(d,{filters:e.filters,"onUpdate:filters":t[1]||(t[1]=t=>e.filters=t)},null,8,["filters"])])),sidebar:D((()=>[I(u,{icon:"info_outline",title:e.t("information"),close:""},{default:D((()=>[z(j("div",py,null,512),[[f,e.t("page_help_activity_collection")]])])),_:1},8,["title"]),I(p,{modelValue:e.layout,"onUpdate:modelValue":t[2]||(t[2]=t=>e.layout=t)},{default:D((()=>[(E(),A(L(`layout-options-${e.layout}`),J(Y(l)),null,16))])),_:2},1032,["modelValue"]),(E(),A(L(`layout-sidebar-${e.layout}`),J(Y(l)),null,16))])),default:D((()=>[(E(),A(L(`layout-${e.layout}`),Z(l,{class:"layout"}),null,16)),I(c,{name:"detail","primary-key":e.primaryKey},null,8,["primary-key"])])),_:2},1032,["title"])])),_:1},8,["layout-options","layout-query","filters","search-query"])}],["__scopeId","data-v-ed75e7fc"]]);const fy=Symbol();function vy(){const e=F(!1);let t;const l=new Promise((e=>{t=e}));return ee((()=>{e.value=!0})),te((()=>(e.value=!1,l))),le(fy,(function(){t()})),e}const _y=w({name:"ActivityDetail",props:{primaryKey:{type:String,required:!0}},setup(e){const{t:t}=x(),l=ie(),a=vy(),i=F(),n=F(!1),o=F(null),s=V((()=>{if(i.value)return`/collections/${i.value.collection}/${encodeURIComponent(i.value.item)}`}));return O((()=>e.primaryKey),(async function(){n.value=!0;try{const t=await dI.get(`/activity/${e.primaryKey}`,{params:{fields:["user.id","user.email","user.first_name","user.last_name","action","timestamp","ip","user_agent","collection","item"]}});i.value=t.data.data}catch(t){o.value=t}finally{n.value=!1}}),{immediate:!0}),{t:t,isOpen:a,item:i,loading:n,error:o,close:function(){l.push("/activity")},openItemLink:s,userName:D_}}}),yy=e=>(K("data-v-f3bb4fb8"),e=e(),W(),e),hy={key:1,class:"content"},gy={key:2,class:"content"},by=yy((()=>j("p",{class:"type-label"},"User:",-1))),ky=yy((()=>j("p",{class:"type-label"},"Action:",-1))),wy=yy((()=>j("p",{class:"type-label"},"Date:",-1))),xy=yy((()=>j("p",{class:"type-label"},"IP Address:",-1))),Vy=yy((()=>j("p",{class:"type-label"},"User Agent:",-1))),Cy=yy((()=>j("p",{class:"type-label"},"Collection:",-1))),Sy=yy((()=>j("p",{class:"type-label"},"Item:",-1)));var Ey=Zt({id:"activity",hidden:!0,name:"$t:activity",icon:"notifications",routes:[{name:"activity-collection",path:"",component:my,props:!0,children:[{name:"activity-item",path:":primaryKey",components:{detail:F_(_y,[["render",function(e,t,l,a,i,n){const o=S("v-progress-circular"),s=S("v-notice"),r=S("user-popover"),d=S("v-icon"),c=S("v-button"),u=S("v-drawer"),p=q("tooltip");return E(),A(u,{"model-value":e.isOpen,title:"Activity Item","onUpdate:modelValue":e.close,onCancel:e.close},{actions:D((()=>[e.openItemLink?z((E(),A(c,{key:0,to:e.openItemLink,icon:"",rounded:""},{default:D((()=>[I(d,{name:"launch"})])),_:1},8,["to"])),[[p,e.t("open"),void 0,{bottom:!0}]]):B("",!0),z(I(c,{to:"/activity",icon:"",rounded:""},{default:D((()=>[I(d,{name:"check"})])),_:1},512),[[p,e.t("done"),void 0,{bottom:!0}]])])),default:D((()=>[e.loading?(E(),A(o,{key:0,indeterminate:""})):e.error?(E(),P("div",hy,[I(s,{type:"danger"},{default:D((()=>[N(U(e.error),1)])),_:1})])):(E(),P("div",gy,[by,e.item.user?(E(),A(r,{key:0,user:e.item.user.id},{default:D((()=>[N(U(e.userName(e.item.user)),1)])),_:1},8,["user"])):B("",!0),ky,j("p",null,U(e.item.action),1),wy,j("p",null,U(e.item.timestamp),1),xy,j("p",null,U(e.item.ip),1),Vy,j("p",null,U(e.item.user_agent),1),Cy,j("p",null,U(e.item.collection),1),Sy,j("p",null,U(e.item.item),1)]))])),_:1},8,["model-value","onUpdate:modelValue","onCancel"])}],["__scopeId","data-v-f3bb4fb8"]])}}]}]}),Ay=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:Ey});function Dy(e,t){const l=[];for(const[a,i]of Object.entries(t))l.push(`${a}=${i}`);return e.includes("?")?`${e}&${l.join("&")}`:`${e}?${l.join("&")}`}const Iy=()=>ne(oe);let Fy,Oy,$y;function Ty(e){var t,l,a;return{collection:e.collection,name:e.name,icon:(null==(t=e.meta)?void 0:t.icon)||"label",color:null==(l=e.meta)?void 0:l.color,note:(null==(a=e.meta)?void 0:a.note)||null,to:`/collections/${e.collection}`}}function Py(e){var t,l;const a=pI(),i=I_(),n=V((()=>{var e;return i.currentUser&&i.currentUser.role.collection_list?null==(e=i.currentUser)?void 0:e.role.collection_list.map((e=>{var t,l;return{name:e.group_name,accordion:e.accordion,items:null!=(l=null==(t=e.collections)?void 0:t.map((({collection:e})=>a.getCollection(e))).filter((e=>!!e)).map(Ty).filter(r))?l:[]}})):null})),o=V((()=>a.visibleCollections.map(Ty).sort(((e,t)=>e.name>t.name?1:-1)).filter(r))),s=V((()=>a.hiddenCollections.map(Ty).sort(((e,t)=>e.name>t.name?1:-1)).filter(r)));return Fy||(Fy=F(null!=(l=null==(t=n.value)?void 0:t.filter((({accordion:e})=>"start_open"===e)).map((({name:e})=>e)))?l:[])),void 0===Oy&&(Oy=F(!1)),{customNavItems:n,navItems:o,activeGroups:Fy,hiddenNavItems:s,hiddenShown:Oy,search:r};function r(t){return!(null==e?void 0:e.value)||("string"!=typeof t.name||t.name.toLocaleLowerCase().includes(e.value.toLocaleLowerCase()))}}function jy(e){var t,l,a,i,n,o,s,r,d,c;$y||($y=hI());const u=(null==(n=null==(i=null==(a=null==(l=null==(t=e.response)?void 0:t.data)?void 0:l.errors)?void 0:a[0])?void 0:i.extensions)?void 0:n.code)||(null==(o=null==e?void 0:e.extensions)?void 0:o.code)||"UNKNOWN",p=(null==(c=null==(d=null==(r=null==(s=e.response)?void 0:s.data)?void 0:r.errors)?void 0:d[0])?void 0:c.message)||e.message||void 0;console.warn(e),$y.add({title:o_.global.t(`errors.${u}`),text:p,type:"error",dialog:!0,error:e})}Iy.displayName="router-passthrough";var Ly=F_(w({props:{bookmark:{type:Object,required:!0}},setup(e){const{t:t}=x(),l=ie(),a=se(),i=F(),n=I_(),o=xI(),d=V((()=>e.bookmark.user===n.currentUser.id)),{renameActive:c,renameValue:u,renameSave:p,renameSaving:m}=function(){const t=F(!1),l=F(e.bookmark.bookmark),a=F(!1);return{renameActive:t,renameValue:l,renameSave:async function(){a.value=!0;try{await o.savePreset(r(s({},e.bookmark),{bookmark:l.value})),t.value=!1}catch(i){jy(i)}finally{a.value=!1}},renameSaving:a}}(),{deleteActive:f,deleteValue:v,deleteSave:_,deleteSaving:y}=function(){const t=F(!1),i=F(e.bookmark.bookmark),n=F(!1);return{deleteActive:t,deleteValue:i,deleteSave:async function(){var i;n.value=!0;try{let s=null;+(null==(i=a.query)?void 0:i.bookmark)===e.bookmark.id&&(s=`/collections/${e.bookmark.collection}`),await o.delete(e.bookmark.id),t.value=!1,s&&l.push(s)}catch(s){jy(s)}finally{n.value=!1}},deleteSaving:n}}();return{t:t,contextMenu:i,isMine:d,renameActive:c,renameValue:u,renameSave:p,renameSaving:m,deleteActive:f,deleteValue:v,deleteSave:_,deleteSaving:y,activateContextMenu:function(e){i.value.activate(e)}}}}),[["render",function(e,t,l,a,i,n){const o=S("v-icon"),s=S("v-list-item-icon"),r=S("v-text-overflow"),d=S("v-list-item-content"),c=S("v-list-item"),u=S("v-list"),p=S("v-menu"),m=S("v-card-title"),f=S("v-input"),v=S("v-card-text"),_=S("v-button"),y=S("v-card-actions"),h=S("v-card"),g=S("v-dialog");return E(),A(c,{to:e.bookmark.to,query:"",class:"bookmark",onContextmenu:X(e.activateContextMenu,["prevent","stop"])},{default:D((()=>[I(s,null,{default:D((()=>[I(o,{name:"bookmark_outline"})])),_:1}),I(d,null,{default:D((()=>[I(r,{text:e.bookmark.bookmark},null,8,["text"])])),_:1}),"user"!==e.bookmark.scope?(E(),A(s,{key:0,class:"bookmark-scope"},{default:D((()=>[I(o,{name:"role"===e.bookmark.scope?"people":"public"},null,8,["name"])])),_:1})):B("",!0),I(p,{ref:"contextMenu","show-arrow":"",placement:"bottom-start"},{default:D((()=>[I(u,null,{default:D((()=>[I(c,{clickable:"",disabled:!1===e.isMine,onClick:t[0]||(t[0]=t=>e.renameActive=!0)},{default:D((()=>[I(s,null,{default:D((()=>[I(o,{name:"edit",outline:""})])),_:1}),I(d,null,{default:D((()=>[I(r,{text:e.t("rename_bookmark")},null,8,["text"])])),_:1})])),_:1},8,["disabled"]),I(c,{clickable:"",class:"danger",disabled:!1===e.isMine,onClick:t[1]||(t[1]=t=>e.deleteActive=!0)},{default:D((()=>[I(s,null,{default:D((()=>[I(o,{name:"delete",outline:""})])),_:1}),I(d,null,{default:D((()=>[I(r,{text:e.t("delete_bookmark")},null,8,["text"])])),_:1})])),_:1},8,["disabled"])])),_:1})])),_:1},512),I(g,{modelValue:e.renameActive,"onUpdate:modelValue":t[4]||(t[4]=t=>e.renameActive=t),persistent:"",onEsc:t[5]||(t[5]=t=>e.renameActive=!1)},{default:D((()=>[I(h,null,{default:D((()=>[I(m,null,{default:D((()=>[N(U(e.t("rename_bookmark")),1)])),_:1}),I(v,null,{default:D((()=>[I(f,{modelValue:e.renameValue,"onUpdate:modelValue":t[2]||(t[2]=t=>e.renameValue=t),autofocus:"",onKeyup:re(e.renameSave,["enter"])},null,8,["modelValue","onKeyup"])])),_:1}),I(y,null,{default:D((()=>[I(_,{secondary:"",onClick:t[3]||(t[3]=t=>e.renameActive=!1)},{default:D((()=>[N(U(e.t("cancel")),1)])),_:1}),I(_,{disabled:null===e.renameValue,loading:e.renameSaving,onClick:e.renameSave},{default:D((()=>[N(U(e.t("save")),1)])),_:1},8,["disabled","loading","onClick"])])),_:1})])),_:1})])),_:1},8,["modelValue"]),I(g,{modelValue:e.deleteActive,"onUpdate:modelValue":t[7]||(t[7]=t=>e.deleteActive=t),persistent:"",onEsc:t[8]||(t[8]=t=>e.deleteActive=!1)},{default:D((()=>[I(h,null,{default:D((()=>[I(m,null,{default:D((()=>[N(U(e.t("delete_bookmark_copy",{bookmark:e.bookmark.bookmark})),1)])),_:1}),I(y,null,{default:D((()=>[I(_,{secondary:"",onClick:t[6]||(t[6]=t=>e.deleteActive=!1)},{default:D((()=>[N(U(e.t("cancel")),1)])),_:1}),I(_,{loading:e.deleteSaving,kind:"danger",onClick:e.deleteSave},{default:D((()=>[N(U(e.t("delete_label")),1)])),_:1},8,["loading","onClick"])])),_:1})])),_:1})])),_:1},8,["modelValue"])])),_:1},8,["to","onContextmenu"])}],["__scopeId","data-v-b69b6cee"]]);const Ry=F(null),My=F(null);function Uy(){return{visible:My,searchQuery:Ry}}const Ny=w({components:{NavigationBookmark:Ly},setup(){const{t:e}=x(),{searchQuery:t,visible:l}=Uy(),a=F(),i=F(),n=F(),o=xI(),d=I_(),c=V((()=>{var e;return!0===(null==(e=d.currentUser)?void 0:e.role.admin_access)})),{hiddenShown:u,customNavItems:p,navItems:f,activeGroups:v,hiddenNavItems:_}=Py(t),y=V((()=>m.exports.orderBy(o.collectionPresets.filter((e=>null!==e.bookmark&&!1===e.collection.startsWith("directus_"))).filter((e=>{var l;return"string"!=typeof e.bookmark||e.bookmark.toLocaleLowerCase().includes((null==(l=null==t?void 0:t.value)?void 0:l.toLocaleLowerCase())||"")})).map((e=>{let t="global";return e.role&&(t="role"),e.user&&(t="user"),r(s({},e),{to:`/collections/${e.collection}?bookmark=${e.id}`,scope:t})})),["bookmark"],["asc"])));return de((()=>{l.value=y.value.length+f.value.length})),ee((()=>{var e;const t=null==(e=a.value)?void 0:e.$el.querySelector(".v-list-item.active.link");null==t||t.scrollIntoView({block:"center"})})),{t:e,navItems:f,bookmarks:y,customNavItems:p,isAdmin:c,activeGroups:v,isActive:function(e){return v.value.includes(e)},toggleActive:function(e){v.value.includes(e)?v.value=v.value.filter((t=>t!==e)):v.value.push(e)},contextMenu:i,hiddenShown:u,hiddenNavItems:_,searchQuery:t,listComponent:a,activateContextMenu:function(e,t){n.value=t,i.value.activate(e)},contextMenuTarget:n}}}),By={key:3,class:"empty"},qy={key:0};var zy=F_(Ny,[["render",function(e,t,l,a,i,n){const o=S("v-icon"),s=S("v-list-item-icon"),r=S("v-text-overflow"),d=S("v-list-item-content"),c=S("v-list-item"),u=S("v-detail"),p=S("v-divider"),m=S("navigation-bookmark"),f=S("v-button"),v=S("v-list"),_=S("v-menu");return E(),A(v,{ref:"listComponent",large:"",class:"collections-navigation",mandatory:!1,onContextmenu:X(e.activateContextMenu,["prevent","stop"])},{default:D((()=>[e.customNavItems&&e.customNavItems.length>0?(E(!0),P(R,{key:0},M(e.customNavItems,((t,l)=>(E(),P(R,{key:t.name},[void 0!==t.name&&null!==t.name||"always_open"!==t.accordion||0!==l?(E(),A(u,{key:1,"model-value":"always_open"===t.accordion||e.isActive(t.name),disabled:"always_open"===t.accordion,"start-open":"start_open"===t.accordion,label:t.name||null,class:H({empty:null===t.name||void 0===t.name}),"onUpdate:modelValue":l=>e.toggleActive(t.name)},{default:D((()=>[(E(!0),P(R,null,M(t.items,(e=>(E(),A(c,{key:e.to,to:e.to,query:""},{default:D((()=>[I(s,null,{default:D((()=>[I(o,{name:e.icon,color:e.color},null,8,["name","color"])])),_:2},1024),I(d,null,{default:D((()=>[I(r,{text:e.name},null,8,["text"])])),_:2},1024)])),_:2},1032,["to"])))),128))])),_:2},1032,["model-value","disabled","start-open","label","class","onUpdate:modelValue"])):(E(!0),P(R,{key:0},M(t.items,(e=>(E(),A(c,{key:e.to,to:e.to,query:""},{default:D((()=>[I(s,null,{default:D((()=>[I(o,{name:e.icon,color:e.color},null,8,["name","color"])])),_:2},1024),I(d,null,{default:D((()=>[I(r,{text:e.name},null,8,["text"])])),_:2},1024)])),_:2},1032,["to"])))),128))],64)))),128)):(E(!0),P(R,{key:1},M(e.navItems,(t=>(E(),A(c,{key:t.to,to:t.to,query:"",onContextmenu:X((l=>e.activateContextMenu(l,t.to)),["prevent","stop"])},{default:D((()=>[I(s,null,{default:D((()=>[I(o,{name:t.icon,color:t.color},null,8,["name","color"])])),_:2},1024),I(d,null,{default:D((()=>[I(r,{text:t.name},null,8,["text"])])),_:2},1024)])),_:2},1032,["to","onContextmenu"])))),128)),e.bookmarks.length>0?(E(),P(R,{key:2},[I(p),(E(!0),P(R,null,M(e.bookmarks,(e=>(E(),A(m,{key:e.id,bookmark:e},null,8,["bookmark"])))),128))],64)):B("",!0),e.customNavItems||e.navItems.length||e.bookmarks.length?B("",!0):(E(),P("div",By,[null!==e.searchQuery?(E(),P("em",qy,U(e.t("no_collections_found")),1)):e.isAdmin?(E(),A(f,{key:1,"full-width":"",outlined:"",dashed:"",to:"/settings/data-model/+"},{default:D((()=>[N(U(e.t("create_collection")),1)])),_:1})):(E(),P(R,{key:2},[N(U(e.t("no_collections_copy")),1)],64))])),e.hiddenShown?(E(),P(R,{key:4},[I(p),(E(!0),P(R,null,M(e.hiddenNavItems,(t=>(E(),A(c,{key:t.to,class:"hidden-collection",to:t.to,query:"",onContextmenu:X((l=>e.activateContextMenu(l,t.to)),["prevent","stop"])},{default:D((()=>[I(s,null,{default:D((()=>[I(o,{name:t.icon,color:t.color},null,8,["name","color"])])),_:2},1024),I(d,null,{default:D((()=>[I(r,{text:t.name},null,8,["text"])])),_:2},1024)])),_:2},1032,["to","onContextmenu"])))),128))],64)):B("",!0),I(_,{ref:"contextMenu","show-arrow":"",placement:"bottom-start"},{default:D((()=>[I(v,null,{default:D((()=>[I(c,{clickable:"",onClick:t[0]||(t[0]=t=>e.hiddenShown=!e.hiddenShown)},{default:D((()=>[I(s,null,{default:D((()=>[I(o,{name:e.hiddenShown?"visibility_off":"visibility"},null,8,["name"])])),_:1}),I(d,null,{default:D((()=>[I(r,{text:e.hiddenShown?e.t("hide_hidden_collections"):e.t("show_hidden_collections")},null,8,["text"])])),_:1})])),_:1}),e.isAdmin&&e.contextMenuTarget&&e.contextMenuTarget.includes("/collections")?(E(),A(c,{key:0,clickable:"",to:"/settings/data-model"+e.contextMenuTarget.replace("/collections","")},{default:D((()=>[I(s,null,{default:D((()=>[I(o,{name:"list_alt"})])),_:1}),I(d,null,{default:D((()=>[I(r,{text:e.t("edit_collection")},null,8,["text"])])),_:1})])),_:1},8,["to"])):B("",!0)])),_:1})])),_:1},512)])),_:1},8,["onContextmenu"])}],["__scopeId","data-v-8e17865c"]]);const Ky=w({setup(){const{t:e}=x(),{visible:t,searchQuery:l}=Uy();return{t:e,visible:t,searchQuery:l}}}),Wy={class:"container"};var Hy=F_(Ky,[["render",function(e,t,l,a,i,n){const o=S("v-icon"),s=S("v-input");return z((E(),P("div",Wy,[I(s,{modelValue:e.searchQuery,"onUpdate:modelValue":t[0]||(t[0]=t=>e.searchQuery=t),small:"",class:"search",placeholder:e.t("search_collection")},{prepend:D((()=>[I(o,{small:"",name:"search"})])),_:1},8,["modelValue","placeholder"])],512)),[[ce,null!==e.searchQuery||e.visible>20]])}],["__scopeId","data-v-4bf9068a"]]);const Gy=w({components:{CollectionsNavigation:zy},setup(){const{t:e}=x();return{t:e}}}),Qy={class:"not-found"};var Xy=F_(Gy,[["render",function(e,t,l,a,i,n){const o=S("collections-navigation"),s=S("v-info"),r=S("private-view");return E(),A(r,{title:e.t("page_not_found")},{navigation:D((()=>[I(o)])),default:D((()=>[j("div",Qy,[I(s,{title:e.t("page_not_found"),icon:"not_interested"},{default:D((()=>[N(U(e.t("page_not_found_body")),1)])),_:1},8,["title"])])])),_:1},8,["title"])}],["__scopeId","data-v-08c08cfa"]]);const Jy=w({props:{modelValue:{type:Number,default:null}},emits:["update:modelValue","refresh"],setup(e,{emit:t}){const{t:l}=x(),a=V({get:()=>e.modelValue,set(e){t("update:modelValue",e)}}),i=F(null);O(a,(e=>{null!==i.value&&clearInterval(i.value),null!==e&&e>0&&(i.value=setInterval((()=>{t("refresh")}),1e3*e))}),{immediate:!0});const n=V((()=>[null,10,30,60,300].map((e=>null===e?{text:l("no_refresh"),value:null}:e>=60&&e%60==0?{text:l("refresh_interval_minutes",{minutes:e/60},e/60),value:e}:{text:l("refresh_interval_seconds",{seconds:e},e),value:e})))),o=V((()=>null!==a.value));return{t:l,active:o,interval:a,items:n}}}),Yy={class:"fields"},Zy={class:"field full"},eh={class:"type-label"};var th=F_(Jy,[["render",function(e,t,l,a,i,n){const o=S("v-select"),s=S("sidebar-detail");return E(),A(s,{icon:e.active?"sync":"sync_disabled",title:e.t("auto_refresh"),badge:e.active},{default:D((()=>[j("div",Yy,[j("div",Zy,[j("p",eh,U(e.t("refresh_interval")),1),I(o,{modelValue:e.interval,"onUpdate:modelValue":t[0]||(t[0]=t=>e.interval=t),items:e.items},null,8,["modelValue","items"])])])])),_:1},8,["icon","title","badge"])}],["__scopeId","data-v-3c22b9bc"]]);var lh=F_(w({props:{modelValue:{type:Boolean,default:!1},saving:{type:Boolean,default:!1}},emits:["save","update:modelValue"],setup(e,{emit:t}){const{t:l}=x(),a=F(null);return{t:l,bookmarkName:a,cancel:function(){a.value=null,t("update:modelValue",!1)}}}}),[["render",function(e,t,l,a,i,n){const o=S("v-card-title"),s=S("v-input"),r=S("v-card-text"),d=S("v-button"),c=S("v-card-actions"),u=S("v-card"),p=S("v-dialog");return E(),A(p,{"model-value":e.modelValue,persistent:"","onUpdate:modelValue":t[3]||(t[3]=t=>e.$emit("update:modelValue",t)),onEsc:e.cancel},{activator:D((t=>[Q(e.$slots,"activator",J(Y(t)))])),default:D((()=>[I(u,null,{default:D((()=>[I(o,null,{default:D((()=>[N(U(e.t("create_bookmark")),1)])),_:1}),I(r,null,{default:D((()=>[I(s,{modelValue:e.bookmarkName,"onUpdate:modelValue":t[0]||(t[0]=t=>e.bookmarkName=t),autofocus:"",placeholder:e.t("bookmark_name"),onKeyup:t[1]||(t[1]=re((t=>e.$emit("save",e.bookmarkName)),["enter"]))},null,8,["modelValue","placeholder"])])),_:1}),I(c,null,{default:D((()=>[I(d,{secondary:"",onClick:e.cancel},{default:D((()=>[N(U(e.t("cancel")),1)])),_:1},8,["onClick"]),I(d,{disabled:null===e.bookmarkName||0===e.bookmarkName.length,loading:e.saving,onClick:t[2]||(t[2]=t=>e.$emit("save",e.bookmarkName))},{default:D((()=>[N(U(e.t("save")),1)])),_:1},8,["disabled","loading"])])),_:1})])),_:1})])),_:3},8,["model-value","onEsc"])}]]);var ah=F_(w({props:{modelValue:{type:Boolean,default:!1},saving:{type:Boolean,default:!1},name:{type:String,required:!0}},emits:["save","update:modelValue"],setup(e,{emit:t}){const{t:l}=x(),a=F(e.name);return O((()=>e.name),(e=>a.value=e)),{t:l,bookmarkName:a,cancel:function(){t("update:modelValue",!1)}}}}),[["render",function(e,t,l,a,i,n){const o=S("v-card-title"),s=S("v-input"),r=S("v-card-text"),d=S("v-button"),c=S("v-card-actions"),u=S("v-card"),p=S("v-dialog");return E(),A(p,{"model-value":e.modelValue,persistent:"","onUpdate:modelValue":t[3]||(t[3]=t=>e.$emit("update:modelValue",t)),onEsc:e.cancel},{activator:D((t=>[Q(e.$slots,"activator",J(Y(t)))])),default:D((()=>[I(u,null,{default:D((()=>[I(o,null,{default:D((()=>[N(U(e.t("edit_bookmark")),1)])),_:1}),I(r,null,{default:D((()=>[I(s,{modelValue:e.bookmarkName,"onUpdate:modelValue":t[0]||(t[0]=t=>e.bookmarkName=t),autofocus:"",placeholder:e.t("bookmark_name"),onKeyup:t[1]||(t[1]=re((t=>e.$emit("save",e.bookmarkName)),["enter"]))},null,8,["modelValue","placeholder"])])),_:1}),I(c,null,{default:D((()=>[I(d,{secondary:"",onClick:e.cancel},{default:D((()=>[N(U(e.t("cancel")),1)])),_:1},8,["onClick"]),I(d,{disabled:null===e.bookmarkName||0===e.bookmarkName.length,loading:e.saving,onClick:t[2]||(t[2]=t=>e.$emit("save",e.bookmarkName))},{default:D((()=>[N(U(e.t("save")),1)])),_:1},8,["disabled","loading"])])),_:1})])),_:1})])),_:3},8,["model-value","onEsc"])}]]);const ih=["FAILED_VALIDATION","RECORD_NOT_UNIQUE"],nh=["directus_activity","directus_collections","directus_fields","directus_migrations","directus_relations","directus_revisions","directus_sessions","directus_settings"],oh=[{type:"module",id:"collections",enabled:!0},{type:"module",id:"users",enabled:!0},{type:"module",id:"files",enabled:!0},{type:"module",id:"insights",enabled:!1},{type:"module",id:"docs",enabled:!0},{type:"module",id:"settings",enabled:!0,locked:!0}];const sh=w({props:{active:{type:Boolean,default:!1},collection:{type:String,required:!0},edits:{type:Object,default:void 0},primaryKeys:{type:Array,required:!0}},emits:["update:active","refresh"],setup(e,{emit:t}){const{t:l}=x(),{internalEdits:a}=function(){const t=F({});return{internalEdits:V({get:()=>void 0!==e.edits?s(s({},e.edits),t.value):t.value,set(e){t.value=e}})}}(),{internalActive:i}=function(){const l=F(!1);return{internalActive:V({get:()=>void 0===e.active?l.value:e.active,set(e){l.value=e,t("update:active",e)}})}}(),{save:n,cancel:o,saving:r,validationErrors:d}=function(){const l=F(!1),n=F([]),o=V((()=>c.value.startsWith("directus_")?`/${c.value.substring(9)}`:`/items/${c.value}`));return{save:async function(){l.value=!0;try{await dI.patch(o.value,{keys:e.primaryKeys,data:a.value}),t("refresh"),i.value=!1,a.value={}}catch(s){n.value=s.response.data.errors.filter((e=>{var t;return ih.includes(null==(t=null==e?void 0:e.extensions)?void 0:t.code)})).map((e=>e.extensions));const e=s.response.data.errors.filter((e=>{var t;return!1===ih.includes(null==(t=null==e?void 0:e.extensions)?void 0:t.code)}));e.length>0&&e.forEach(jy)}finally{l.value=!1}},cancel:function(){i.value=!1,a.value={}},saving:l,validationErrors:n}}(),{collection:c}=T(e);return{t:l,internalActive:i,internalEdits:a,save:n,saving:r,cancel:o,validationErrors:d}}}),rh={class:"drawer-batch-content"};var dh=F_(sh,[["render",function(e,t,l,a,i,n){const o=S("v-icon"),s=S("v-button"),r=S("v-form"),d=S("v-drawer"),c=q("tooltip");return E(),A(d,{modelValue:e.internalActive,"onUpdate:modelValue":t[1]||(t[1]=t=>e.internalActive=t),title:e.t("editing_in_batch",{count:e.primaryKeys.length}),persistent:"",onCancel:e.cancel},{actions:D((()=>[z(I(s,{icon:"",rounded:"",loading:e.saving,onClick:e.save},{default:D((()=>[I(o,{name:"check"})])),_:1},8,["loading","onClick"]),[[c,e.t("save"),void 0,{bottom:!0}]])])),default:D((()=>[j("div",rh,[I(r,{modelValue:e.internalEdits,"onUpdate:modelValue":t[0]||(t[0]=t=>e.internalEdits=t),collection:e.collection,"batch-mode":"","primary-key":"+","validation-errors":e.validationErrors},null,8,["modelValue","collection","validation-errors"])])])),_:1},8,["modelValue","title","onCancel"])}],["__scopeId","data-v-5d0693b1"]]);const ch=w({name:"CollectionsCollection",components:{CollectionsNavigation:zy,CollectionsNavigationSearch:Hy,CollectionsNotFound:Xy,LayoutSidebarDetail:sy,SearchInput:cy,BookmarkAdd:lh,BookmarkEdit:ah,DrawerBatch:dh,RefreshSidebarDetail:th},props:{collection:{type:String,required:!0},bookmark:{type:String,default:null}},setup(e){const{t:t}=x(),l=ie(),{layouts:a}=xl(),i=I_(),n=gI(),o=F(),{collection:s}=T(e),r=V((()=>e.bookmark?+e.bookmark:null)),{selection:d}=function(){const t=F([]);return O((()=>e.collection),(()=>t.value=[])),{selection:t}}(),{info:c}=Xt(s),{addNewLink:u,currentCollectionLink:p}=function(){const t=V((()=>`/collections/${e.collection}/+`)),l=V((()=>`/collections/${e.collection}`));return{addNewLink:t,currentCollectionLink:l}}(),{breadcrumb:m}={breadcrumb:V((()=>{var t;return[{name:null==(t=c.value)?void 0:t.name,to:`/collections/${e.collection}`}]}))},{layout:f,layoutOptions:v,layoutQuery:_,filters:y,searchQuery:h,savePreset:g,bookmarkExists:b,saveCurrentAsBookmark:k,bookmarkTitle:w,resetPreset:C,bookmarkSaved:S,bookmarkIsMine:E,refreshInterval:A,busy:D,clearLocalSave:I}=$_(s,r),{layoutWrapper:$}=P_(f),{confirmDelete:P,deleting:j,batchDelete:L,confirmArchive:R,archive:M,archiving:U,error:N,batchEditActive:B}=function(){const t=F(!1),l=F(!1),a=F(!1),i=F(!1),n=F(!1),o=F(null);return{batchEditActive:a,confirmDelete:t,deleting:l,batchDelete:async function(){l.value=!0;const a=d.value;try{await dI.delete(`/items/${e.collection}`,{data:a}),await Z(),d.value=[],t.value=!1}catch(i){o.value=i}finally{l.value=!1}},confirmArchive:i,archiving:n,archive:async function(){var t,l;if(!(null==(l=null==(t=c.value)?void 0:t.meta)?void 0:l.archive_field))return;n.value=!0;try{await dI.patch(`/items/${e.collection}`,{keys:d.value,data:{[c.value.meta.archive_field]:c.value.meta.archive_value}}),i.value=!1,d.value=[],await Z()}catch(a){o.value=a}finally{n.value=!1}},error:o}}(),{bookmarkDialogActive:q,creatingBookmark:z,createBookmark:K,editingBookmark:W,editBookmark:H}=function(){const e=F(!1),t=F(!1),a=F(!1);return{bookmarkDialogActive:e,creatingBookmark:t,createBookmark:async function(a){t.value=!0;try{const i=await k({bookmark:a});l.push(`/collections/${i.collection}?bookmark=${i.id}`),e.value=!1}catch(i){jy(i)}finally{t.value=!1}},editingBookmark:a,editBookmark:async function(t){w.value=t,e.value=!1}}}(),G=V((()=>a.value.find((e=>e.id===f.value))));O(s,(()=>{null===f.value&&(f.value="tabular")}),{immediate:!0});const{batchEditAllowed:Q,batchArchiveAllowed:X,batchDeleteAllowed:J,createAllowed:Y}=function(){const e=V((()=>{var e;if(!0===(null==(e=null==i?void 0:i.currentUser)?void 0:e.role.admin_access))return!0;return!!n.permissions.find((e=>"update"===e.action&&e.collection===s.value))})),t=V((()=>{var e,t,l;if(!(null==(t=null==(e=c.value)?void 0:e.meta)?void 0:t.archive_field))return!1;if(!0===(null==(l=null==i?void 0:i.currentUser)?void 0:l.role.admin_access))return!0;const a=n.permissions.find((e=>"update"===e.action&&e.collection===s.value));return!!a&&(!!a.fields&&(!!a.fields.includes("*")||a.fields.includes(c.value.meta.archive_field)))})),l=V((()=>{var e;if(!0===(null==(e=null==i?void 0:i.currentUser)?void 0:e.role.admin_access))return!0;return!!n.permissions.find((e=>"delete"===e.action&&e.collection===s.value))})),a=V((()=>{var e;if(!0===(null==(e=null==i?void 0:i.currentUser)?void 0:e.role.admin_access))return!0;return!!n.permissions.find((e=>"create"===e.action&&e.collection===s.value))}));return{batchEditAllowed:e,batchArchiveAllowed:t,batchDeleteAllowed:l,createAllowed:a}}();return{t:t,addNewLink:u,batchDelete:L,batchEditActive:B,confirmDelete:P,currentCollection:c,deleting:j,filters:y,layoutRef:o,layoutWrapper:$,selection:d,layoutOptions:v,layoutQuery:_,layout:f,searchQuery:h,savePreset:g,bookmarkExists:b,currentCollectionLink:p,bookmarkDialogActive:q,creatingBookmark:z,createBookmark:K,bookmarkTitle:w,editingBookmark:W,editBookmark:H,breadcrumb:m,clearFilters:function(){y.value=[],h.value=null},confirmArchive:R,archive:M,archiving:U,batchEditAllowed:Q,batchArchiveAllowed:X,batchDeleteAllowed:J,deleteError:N,createAllowed:Y,resetPreset:C,bookmarkSaved:S,bookmarkIsMine:E,bookmarkSaving:D,clearLocalSave:I,refresh:Z,refreshInterval:A,currentLayout:G};async function Z(){var e,t,l;await(null==(l=null==(t=null==(e=o.value)?void 0:e.state)?void 0:t.refresh)?void 0:l.call(t))}}}),uh={class:"bookmark-controls"},ph={class:"page-description"};var mh=F_(ch,[["render",function(e,t,l,a,i,n){const o=S("collections-not-found"),s=S("v-icon"),r=S("v-button"),d=S("v-breadcrumb"),c=S("bookmark-add"),u=S("search-input"),p=S("v-card-title"),m=S("v-card-actions"),f=S("v-card"),v=S("v-dialog"),_=S("collections-navigation-search"),y=S("collections-navigation"),h=S("v-info"),g=S("drawer-batch"),b=S("sidebar-detail"),k=S("layout-sidebar-detail"),w=S("refresh-sidebar-detail"),x=S("v-error"),V=S("v-card-text"),C=S("private-view"),F=q("tooltip"),O=q("md");return E(),A(L(e.layoutWrapper),{ref:"layoutRef",selection:e.selection,"onUpdate:selection":t[15]||(t[15]=t=>e.selection=t),"layout-options":e.layoutOptions,"onUpdate:layout-options":t[16]||(t[16]=t=>e.layoutOptions=t),"layout-query":e.layoutQuery,"onUpdate:layout-query":t[17]||(t[17]=t=>e.layoutQuery=t),filters:e.filters,"onUpdate:filters":t[18]||(t[18]=t=>e.filters=t),"search-query":e.searchQuery,"onUpdate:search-query":t[19]||(t[19]=t=>e.searchQuery=t),collection:e.collection,"reset-preset":e.resetPreset},{default:D((({layoutState:l})=>{var a;return[!e.currentCollection||e.collection.startsWith("directus_")?(E(),A(o,{key:0})):(E(),A(C,{key:1,title:e.bookmark?e.bookmarkTitle:e.currentCollection.name,"small-header":null==(a=e.currentLayout)?void 0:a.smallHeader},{"title-outer:prepend":D((()=>[I(r,{class:"header-icon",rounded:"",icon:"",secondary:"",disabled:""},{default:D((()=>[I(s,{name:e.currentCollection.icon,color:e.currentCollection.color},null,8,["name","color"])])),_:1})])),headline:D((()=>[e.bookmark?(E(),A(d,{key:0,items:e.breadcrumb},null,8,["items"])):(E(),A(d,{key:1,items:[{name:e.t("collections"),to:"/collections"}]},null,8,["items"]))])),"title-outer:append":D((()=>[j("div",uh,[e.bookmark?e.bookmarkSaved?(E(),A(s,{key:1,class:"saved",name:"bookmark"})):e.bookmarkIsMine?z((E(),A(s,{key:2,class:"save",clickable:"",name:"bookmark_save",onClick:t[1]||(t[1]=t=>e.savePreset())},null,512)),[[F,e.t("update_bookmark"),void 0,{bottom:!0}]]):(E(),A(c,{key:3,modelValue:e.bookmarkDialogActive,"onUpdate:modelValue":t[2]||(t[2]=t=>e.bookmarkDialogActive=t),class:"add",saving:e.creatingBookmark,onSave:e.createBookmark},{activator:D((({on:e})=>[I(s,{class:"toggle",name:"bookmark_outline",clickable:"",onClick:e},null,8,["onClick"])])),_:1},8,["modelValue","saving","onSave"])):(E(),A(c,{key:0,modelValue:e.bookmarkDialogActive,"onUpdate:modelValue":t[0]||(t[0]=t=>e.bookmarkDialogActive=t),class:"add",saving:e.creatingBookmark,onSave:e.createBookmark},{activator:D((({on:t})=>[z(I(s,{class:"toggle",clickable:"",name:"bookmark_outline",onClick:t},null,8,["onClick"]),[[F,e.t("create_bookmark"),void 0,{right:!0}]])])),_:1},8,["modelValue","saving","onSave"])),e.bookmark&&!e.bookmarkSaving&&!1===e.bookmarkSaved?z((E(),A(s,{key:4,name:"settings_backup_restore",clickable:"",class:"clear",onClick:e.clearLocalSave},null,8,["onClick"])),[[F,e.t("reset_bookmark"),void 0,{bottom:!0}]]):B("",!0)])])),"actions:prepend":D((()=>[(E(),A(L(`layout-actions-${e.layout||"tabular"}`),J(Y(l)),null,16))])),actions:D((()=>[I(u,{modelValue:e.searchQuery,"onUpdate:modelValue":t[3]||(t[3]=t=>e.searchQuery=t)},null,8,["modelValue"]),e.selection.length>0?(E(),A(v,{key:0,modelValue:e.confirmDelete,"onUpdate:modelValue":t[5]||(t[5]=t=>e.confirmDelete=t),onEsc:t[6]||(t[6]=t=>e.confirmDelete=!1)},{activator:D((({on:t})=>[z(I(r,{disabled:!0!==e.batchDeleteAllowed,rounded:"",icon:"",class:"action-delete",onClick:t},{default:D((()=>[I(s,{name:"delete",outline:""})])),_:2},1032,["disabled","onClick"]),[[F,e.batchDeleteAllowed?e.t("delete_label"):e.t("not_allowed"),void 0,{bottom:!0}]])])),default:D((()=>[I(f,null,{default:D((()=>[I(p,null,{default:D((()=>[N(U(e.t("batch_delete_confirm",e.selection.length)),1)])),_:1}),I(m,null,{default:D((()=>[I(r,{secondary:"",onClick:t[4]||(t[4]=t=>e.confirmDelete=!1)},{default:D((()=>[N(U(e.t("cancel")),1)])),_:1}),I(r,{kind:"danger",loading:e.deleting,onClick:e.batchDelete},{default:D((()=>[N(U(e.t("delete_label")),1)])),_:1},8,["loading","onClick"])])),_:1})])),_:1})])),_:1},8,["modelValue"])):B("",!0),e.selection.length>0&&e.currentCollection.meta&&e.currentCollection.meta.archive_field?(E(),A(v,{key:1,modelValue:e.confirmArchive,"onUpdate:modelValue":t[8]||(t[8]=t=>e.confirmArchive=t),onEsc:t[9]||(t[9]=t=>e.confirmArchive=!1)},{activator:D((({on:t})=>[z(I(r,{disabled:!0!==e.batchArchiveAllowed,rounded:"",icon:"",class:"action-archive",onClick:t},{default:D((()=>[I(s,{name:"archive",outline:""})])),_:2},1032,["disabled","onClick"]),[[F,e.batchArchiveAllowed?e.t("archive"):e.t("not_allowed"),void 0,{bottom:!0}]])])),default:D((()=>[I(f,null,{default:D((()=>[I(p,null,{default:D((()=>[N(U(e.t("archive_confirm_count",e.selection.length)),1)])),_:1}),I(m,null,{default:D((()=>[I(r,{secondary:"",onClick:t[7]||(t[7]=t=>e.confirmArchive=!1)},{default:D((()=>[N(U(e.t("cancel")),1)])),_:1}),I(r,{kind:"warning",loading:e.archiving,onClick:e.archive},{default:D((()=>[N(U(e.t("archive")),1)])),_:1},8,["loading","onClick"])])),_:1})])),_:1})])),_:1},8,["modelValue"])):B("",!0),e.selection.length>1?z((E(),A(r,{key:2,rounded:"",icon:"",class:"action-batch",disabled:!1===e.batchEditAllowed,onClick:t[10]||(t[10]=t=>e.batchEditActive=!0)},{default:D((()=>[I(s,{name:"edit",outline:""})])),_:1},8,["disabled"])),[[F,e.batchEditAllowed?e.t("edit"):e.t("not_allowed"),void 0,{bottom:!0}]]):B("",!0),z(I(r,{rounded:"",icon:"",to:e.addNewLink,disabled:!1===e.createAllowed},{default:D((()=>[I(s,{name:"add"})])),_:1},8,["to","disabled"]),[[F,e.createAllowed?e.t("create_item"):e.t("not_allowed"),void 0,{bottom:!0}]])])),navigation:D((()=>[I(_),I(y)])),sidebar:D((()=>[I(b,{icon:"info_outline",title:e.t("information"),close:""},{default:D((()=>[z(j("div",ph,null,512),[[O,e.t("page_help_collections_collection",{collection:e.currentCollection.name})]])])),_:1},8,["title"]),I(k,{modelValue:e.layout,"onUpdate:modelValue":t[12]||(t[12]=t=>e.layout=t)},{default:D((()=>[(E(),A(L(`layout-options-${e.layout||"tabular"}`),J(Y(l)),null,16))])),_:2},1032,["modelValue"]),(E(),A(L(`layout-sidebar-${e.layout||"tabular"}`),J(Y(l)),null,16)),I(w,{modelValue:e.refreshInterval,"onUpdate:modelValue":t[13]||(t[13]=t=>e.refreshInterval=t),onRefresh:e.refresh},null,8,["modelValue","onRefresh"])])),default:D((()=>[e.bookmark&&!1===e.bookmarkExists?(E(),A(h,{key:0,type:"warning",title:e.t("bookmark_doesnt_exist"),icon:"bookmark",center:""},{append:D((()=>[I(r,{to:e.currentCollectionLink},{default:D((()=>[N(U(e.t("bookmark_doesnt_exist_cta")),1)])),_:1},8,["to"])])),default:D((()=>[N(U(e.t("bookmark_doesnt_exist_copy"))+" ",1)])),_:1},8,["title"])):(E(),A(L(`layout-${e.layout||"tabular"}`),Z({key:1,class:"layout"},l),{"no-results":D((()=>[I(h,{title:e.t("no_results"),icon:"search",center:""},{append:D((()=>[I(r,{onClick:e.clearFilters},{default:D((()=>[N(U(e.t("clear_filters")),1)])),_:1},8,["onClick"])])),default:D((()=>[N(U(e.t("no_results_copy"))+" ",1)])),_:1},8,["title"])])),"no-items":D((()=>[I(h,{title:e.t("item_count",0),icon:e.currentCollection.icon,center:""},G({default:D((()=>[N(U(e.t("no_items_copy"))+" ",1)])),_:2},[e.createAllowed?{name:"append",fn:D((()=>[I(r,{to:`/collections/${e.collection}/+`},{default:D((()=>[N(U(e.t("create_item")),1)])),_:1},8,["to"])]))}:void 0]),1032,["title","icon"])])),_:2},1040)),I(g,{active:e.batchEditActive,"onUpdate:active":t[11]||(t[11]=t=>e.batchEditActive=t),"primary-keys":e.selection,collection:e.collection,onRefresh:e.refresh},null,8,["active","primary-keys","collection","onRefresh"]),I(v,{"model-value":null!==e.deleteError},{default:D((()=>[I(f,null,{default:D((()=>[I(p,null,{default:D((()=>[N(U(e.t("something_went_wrong")),1)])),_:1}),I(V,null,{default:D((()=>[I(x,{error:e.deleteError},null,8,["error"])])),_:1}),I(m,null,{default:D((()=>[I(r,{onClick:t[14]||(t[14]=t=>e.deleteError=null)},{default:D((()=>[N(U(e.t("done")),1)])),_:1})])),_:1})])),_:1})])),_:1},8,["model-value"])])),_:2},1032,["title","small-header"]))]})),_:1},8,["selection","layout-options","layout-query","filters","search-query","collection","reset-preset"])}],["__scopeId","data-v-1e44872c"]]);function fh(e){switch(e){case"af":return ul((()=>import("./assets/index.7c1f7425.js").then((function(e){return e.i}))),["assets/index.7c1f7425.js","assets/vendor.162b55e9.js","assets/vendor.de5758fd.css","assets/index.ffc6c203.js"]);case"ar-DZ":return ul((()=>import("./assets/index.72d24ffd.js").then((function(e){return e.i}))),["assets/index.72d24ffd.js","assets/vendor.162b55e9.js","assets/vendor.de5758fd.css","assets/index.ffc6c203.js"]);case"ar-MA":return ul((()=>import("./assets/index.5d3c4702.js").then((function(e){return e.i}))),["assets/index.5d3c4702.js","assets/vendor.162b55e9.js","assets/vendor.de5758fd.css","assets/index.ffc6c203.js"]);case"ar-SA":return ul((()=>import("./assets/index.1d48fdae.js").then((function(e){return e.i}))),["assets/index.1d48fdae.js","assets/vendor.162b55e9.js","assets/vendor.de5758fd.css","assets/index.ffc6c203.js"]);case"az":return ul((()=>import("./assets/index.ad9371a4.js").then((function(e){return e.i}))),["assets/index.ad9371a4.js","assets/vendor.162b55e9.js","assets/vendor.de5758fd.css","assets/index.ffc6c203.js"]);case"be":return ul((()=>import("./assets/index.0f5941c9.js").then((function(e){return e.i}))),["assets/index.0f5941c9.js","assets/vendor.162b55e9.js","assets/vendor.de5758fd.css","assets/index.ffc6c203.js","assets/index.dc71b91a.js"]);case"bg":return ul((()=>import("./assets/index.4b6a52de.js").then((function(e){return e.i}))),["assets/index.4b6a52de.js","assets/vendor.162b55e9.js","assets/vendor.de5758fd.css","assets/index.ffc6c203.js","assets/index.dc71b91a.js"]);case"bn":return ul((()=>import("./assets/index.13f53fae.js").then((function(e){return e.i}))),["assets/index.13f53fae.js","assets/vendor.162b55e9.js","assets/vendor.de5758fd.css","assets/index.ffc6c203.js"]);case"ca":return ul((()=>import("./assets/index.6fc97579.js").then((function(e){return e.i}))),["assets/index.6fc97579.js","assets/vendor.162b55e9.js","assets/vendor.de5758fd.css","assets/index.ffc6c203.js"]);case"cs":return ul((()=>import("./assets/index.b45fda59.js").then((function(e){return e.i}))),["assets/index.b45fda59.js","assets/vendor.162b55e9.js","assets/vendor.de5758fd.css","assets/index.ffc6c203.js"]);case"cy":return ul((()=>import("./assets/index.73d2fdce.js").then((function(e){return e.i}))),["assets/index.73d2fdce.js","assets/vendor.162b55e9.js","assets/vendor.de5758fd.css","assets/index.ffc6c203.js"]);case"da":return ul((()=>import("./assets/index.e680f5cd.js").then((function(e){return e.i}))),["assets/index.e680f5cd.js","assets/vendor.162b55e9.js","assets/vendor.de5758fd.css","assets/index.ffc6c203.js"]);case"de":return ul((()=>import("./assets/index.4f8c526c.js").then((function(e){return e.i}))),["assets/index.4f8c526c.js","assets/vendor.162b55e9.js","assets/vendor.de5758fd.css","assets/index.eedadecd.js","assets/index.ffc6c203.js"]);case"de-AT":return ul((()=>import("./assets/index.f227bd71.js").then((function(e){return e.i}))),["assets/index.f227bd71.js","assets/vendor.162b55e9.js","assets/vendor.de5758fd.css","assets/index.eedadecd.js","assets/index.ffc6c203.js"]);case"el":return ul((()=>import("./assets/index.f2fe7519.js").then((function(e){return e.i}))),["assets/index.f2fe7519.js","assets/vendor.162b55e9.js","assets/vendor.de5758fd.css","assets/index.ffc6c203.js"]);case"en-AU":return ul((()=>import("./assets/index.a2aeef8e.js").then((function(e){return e.i}))),["assets/index.a2aeef8e.js","assets/vendor.162b55e9.js","assets/vendor.de5758fd.css","assets/index.55d799e2.js","assets/index.ffc6c203.js","assets/index.7b2f54b1.js"]);case"en-CA":return ul((()=>import("./assets/index.7feef8d7.js").then((function(e){return e.i}))),["assets/index.7feef8d7.js","assets/vendor.162b55e9.js","assets/vendor.de5758fd.css","assets/index.7b2f54b1.js","assets/index.ffc6c203.js"]);case"en-GB":return ul((()=>import("./assets/index.7fb4746e.js").then((function(e){return e.i}))),["assets/index.7fb4746e.js","assets/vendor.162b55e9.js","assets/vendor.de5758fd.css","assets/index.55d799e2.js","assets/index.7b2f54b1.js","assets/index.ffc6c203.js"]);case"en-IN":return ul((()=>import("./assets/index.41bba514.js").then((function(e){return e.i}))),["assets/index.41bba514.js","assets/vendor.162b55e9.js","assets/vendor.de5758fd.css","assets/index.55d799e2.js","assets/index.7b2f54b1.js","assets/index.ffc6c203.js"]);case"en-NZ":return ul((()=>import("./assets/index.5f358c01.js").then((function(e){return e.i}))),["assets/index.5f358c01.js","assets/vendor.162b55e9.js","assets/vendor.de5758fd.css","assets/index.55d799e2.js","assets/index.7b2f54b1.js","assets/index.ffc6c203.js"]);case"en-US":return ul((()=>import("./assets/index.2221630f.js").then((function(e){return e.i}))),["assets/index.2221630f.js","assets/vendor.162b55e9.js","assets/vendor.de5758fd.css","assets/index.55d799e2.js","assets/index.ffc6c203.js","assets/index.7b2f54b1.js"]);case"en-ZA":return ul((()=>import("./assets/index.ad11f130.js").then((function(e){return e.i}))),["assets/index.ad11f130.js","assets/vendor.162b55e9.js","assets/vendor.de5758fd.css","assets/index.55d799e2.js","assets/index.7b2f54b1.js","assets/index.ffc6c203.js"]);case"eo":return ul((()=>import("./assets/index.af75877a.js").then((function(e){return e.i}))),["assets/index.af75877a.js","assets/vendor.162b55e9.js","assets/vendor.de5758fd.css","assets/index.ffc6c203.js"]);case"es":return ul((()=>import("./assets/index.ed848621.js").then((function(e){return e.i}))),["assets/index.ed848621.js","assets/vendor.162b55e9.js","assets/vendor.de5758fd.css","assets/index.ffc6c203.js"]);case"et":return ul((()=>import("./assets/index.99e7a2aa.js").then((function(e){return e.i}))),["assets/index.99e7a2aa.js","assets/vendor.162b55e9.js","assets/vendor.de5758fd.css","assets/index.ffc6c203.js"]);case"eu":return ul((()=>import("./assets/index.40fcb72d.js").then((function(e){return e.i}))),["assets/index.40fcb72d.js","assets/vendor.162b55e9.js","assets/vendor.de5758fd.css","assets/index.ffc6c203.js"]);case"fa-IR":return ul((()=>import("./assets/index.92e7772e.js").then((function(e){return e.i}))),["assets/index.92e7772e.js","assets/vendor.162b55e9.js","assets/vendor.de5758fd.css","assets/index.ffc6c203.js"]);case"fi":return ul((()=>import("./assets/index.9208b575.js").then((function(e){return e.i}))),["assets/index.9208b575.js","assets/vendor.162b55e9.js","assets/vendor.de5758fd.css","assets/index.ffc6c203.js"]);case"fr":return ul((()=>import("./assets/index.5cb9333f.js").then((function(e){return e.i}))),["assets/index.5cb9333f.js","assets/vendor.162b55e9.js","assets/vendor.de5758fd.css","assets/index.1b3cf886.js","assets/index.ffc6c203.js"]);case"fr-CA":return ul((()=>import("./assets/index.9913b219.js").then((function(e){return e.i}))),["assets/index.9913b219.js","assets/vendor.162b55e9.js","assets/vendor.de5758fd.css","assets/index.1b3cf886.js","assets/index.ffc6c203.js"]);case"fr-CH":return ul((()=>import("./assets/index.f915fd48.js").then((function(e){return e.i}))),["assets/index.f915fd48.js","assets/vendor.162b55e9.js","assets/vendor.de5758fd.css","assets/index.ffc6c203.js"]);case"gd":return ul((()=>import("./assets/index.4c1a750b.js").then((function(e){return e.i}))),["assets/index.4c1a750b.js","assets/vendor.162b55e9.js","assets/vendor.de5758fd.css","assets/index.ffc6c203.js"]);case"gl":return ul((()=>import("./assets/index.ce825145.js").then((function(e){return e.i}))),["assets/index.ce825145.js","assets/vendor.162b55e9.js","assets/vendor.de5758fd.css","assets/index.ffc6c203.js"]);case"gu":return ul((()=>import("./assets/index.e09f7c6a.js").then((function(e){return e.i}))),["assets/index.e09f7c6a.js","assets/vendor.162b55e9.js","assets/vendor.de5758fd.css","assets/index.ffc6c203.js"]);case"he":return ul((()=>import("./assets/index.672dcf88.js").then((function(e){return e.i}))),["assets/index.672dcf88.js","assets/vendor.162b55e9.js","assets/vendor.de5758fd.css","assets/index.ffc6c203.js"]);case"hi":return ul((()=>import("./assets/index.90e12840.js").then((function(e){return e.i}))),["assets/index.90e12840.js","assets/vendor.162b55e9.js","assets/vendor.de5758fd.css","assets/index.ffc6c203.js"]);case"hr":return ul((()=>import("./assets/index.4af8a94a.js").then((function(e){return e.i}))),["assets/index.4af8a94a.js","assets/vendor.162b55e9.js","assets/vendor.de5758fd.css","assets/index.ffc6c203.js"]);case"ht":return ul((()=>import("./assets/index.c12717f9.js").then((function(e){return e.i}))),["assets/index.c12717f9.js","assets/vendor.162b55e9.js","assets/vendor.de5758fd.css","assets/index.ffc6c203.js"]);case"hu":return ul((()=>import("./assets/index.3e59ecfb.js").then((function(e){return e.i}))),["assets/index.3e59ecfb.js","assets/vendor.162b55e9.js","assets/vendor.de5758fd.css","assets/index.ffc6c203.js"]);case"hy":return ul((()=>import("./assets/index.accc7bce.js").then((function(e){return e.i}))),["assets/index.accc7bce.js","assets/vendor.162b55e9.js","assets/vendor.de5758fd.css","assets/index.ffc6c203.js"]);case"id":return ul((()=>import("./assets/index.72211f20.js").then((function(e){return e.i}))),["assets/index.72211f20.js","assets/vendor.162b55e9.js","assets/vendor.de5758fd.css","assets/index.ffc6c203.js"]);case"is":return ul((()=>import("./assets/index.5c900ff8.js").then((function(e){return e.i}))),["assets/index.5c900ff8.js","assets/vendor.162b55e9.js","assets/vendor.de5758fd.css","assets/index.ffc6c203.js"]);case"it":return ul((()=>import("./assets/index.e44009ac.js").then((function(e){return e.i}))),["assets/index.e44009ac.js","assets/vendor.162b55e9.js","assets/vendor.de5758fd.css","assets/index.ffc6c203.js","assets/index.dc71b91a.js"]);case"ja":return ul((()=>import("./assets/index.76b86b5b.js").then((function(e){return e.i}))),["assets/index.76b86b5b.js","assets/vendor.162b55e9.js","assets/vendor.de5758fd.css","assets/index.ffc6c203.js"]);case"ka":return ul((()=>import("./assets/index.6a40df05.js").then((function(e){return e.i}))),["assets/index.6a40df05.js","assets/vendor.162b55e9.js","assets/vendor.de5758fd.css","assets/index.ffc6c203.js"]);case"kk":return ul((()=>import("./assets/index.b2789dd8.js").then((function(e){return e.i}))),["assets/index.b2789dd8.js","assets/vendor.162b55e9.js","assets/vendor.de5758fd.css","assets/index.ffc6c203.js","assets/index.dc71b91a.js"]);case"kn":return ul((()=>import("./assets/index.63a832dc.js").then((function(e){return e.i}))),["assets/index.63a832dc.js","assets/vendor.162b55e9.js","assets/vendor.de5758fd.css","assets/index.ffc6c203.js"]);case"ko":return ul((()=>import("./assets/index.975dc7d5.js").then((function(e){return e.i}))),["assets/index.975dc7d5.js","assets/vendor.162b55e9.js","assets/vendor.de5758fd.css","assets/index.ffc6c203.js"]);case"lb":return ul((()=>import("./assets/index.317375d9.js").then((function(e){return e.i}))),["assets/index.317375d9.js","assets/vendor.162b55e9.js","assets/vendor.de5758fd.css","assets/index.ffc6c203.js"]);case"lt":return ul((()=>import("./assets/index.5a215de8.js").then((function(e){return e.i}))),["assets/index.5a215de8.js","assets/vendor.162b55e9.js","assets/vendor.de5758fd.css","assets/index.ffc6c203.js"]);case"lv":return ul((()=>import("./assets/index.030807b0.js").then((function(e){return e.i}))),["assets/index.030807b0.js","assets/vendor.162b55e9.js","assets/vendor.de5758fd.css","assets/index.ffc6c203.js","assets/index.dc71b91a.js"]);case"mk":return ul((()=>import("./assets/index.ad5e16ae.js").then((function(e){return e.i}))),["assets/index.ad5e16ae.js","assets/vendor.162b55e9.js","assets/vendor.de5758fd.css","assets/index.ffc6c203.js","assets/index.dc71b91a.js"]);case"mn":return ul((()=>import("./assets/index.3198518c.js").then((function(e){return e.i}))),["assets/index.3198518c.js","assets/vendor.162b55e9.js","assets/vendor.de5758fd.css","assets/index.ffc6c203.js"]);case"ms":return ul((()=>import("./assets/index.bb11aadf.js").then((function(e){return e.i}))),["assets/index.bb11aadf.js","assets/vendor.162b55e9.js","assets/vendor.de5758fd.css","assets/index.ffc6c203.js"]);case"mt":return ul((()=>import("./assets/index.9bbca28e.js").then((function(e){return e.i}))),["assets/index.9bbca28e.js","assets/vendor.162b55e9.js","assets/vendor.de5758fd.css","assets/index.ffc6c203.js"]);case"nb":return ul((()=>import("./assets/index.6e62acaa.js").then((function(e){return e.i}))),["assets/index.6e62acaa.js","assets/vendor.162b55e9.js","assets/vendor.de5758fd.css","assets/index.ffc6c203.js"]);case"nl":return ul((()=>import("./assets/index.d521efed.js").then((function(e){return e.i}))),["assets/index.d521efed.js","assets/vendor.162b55e9.js","assets/vendor.de5758fd.css","assets/index.ffc6c203.js"]);case"nl-BE":return ul((()=>import("./assets/index.773f432e.js").then((function(e){return e.i}))),["assets/index.773f432e.js","assets/vendor.162b55e9.js","assets/vendor.de5758fd.css","assets/index.ffc6c203.js"]);case"nn":return ul((()=>import("./assets/index.afa96e6b.js").then((function(e){return e.i}))),["assets/index.afa96e6b.js","assets/vendor.162b55e9.js","assets/vendor.de5758fd.css","assets/index.ffc6c203.js"]);case"pl":return ul((()=>import("./assets/index.bc206103.js").then((function(e){return e.i}))),["assets/index.bc206103.js","assets/vendor.162b55e9.js","assets/vendor.de5758fd.css","assets/index.ffc6c203.js","assets/index.dc71b91a.js"]);case"pt":return ul((()=>import("./assets/index.e3050d2f.js").then((function(e){return e.i}))),["assets/index.e3050d2f.js","assets/vendor.162b55e9.js","assets/vendor.de5758fd.css","assets/index.ffc6c203.js"]);case"pt-BR":return ul((()=>import("./assets/index.e1d6fd09.js").then((function(e){return e.i}))),["assets/index.e1d6fd09.js","assets/vendor.162b55e9.js","assets/vendor.de5758fd.css","assets/index.ffc6c203.js"]);case"ro":return ul((()=>import("./assets/index.507da96f.js").then((function(e){return e.i}))),["assets/index.507da96f.js","assets/vendor.162b55e9.js","assets/vendor.de5758fd.css","assets/index.ffc6c203.js"]);case"ru":return ul((()=>import("./assets/index.e6dac51b.js").then((function(e){return e.i}))),["assets/index.e6dac51b.js","assets/vendor.162b55e9.js","assets/vendor.de5758fd.css","assets/index.ffc6c203.js","assets/index.dc71b91a.js"]);case"sk":return ul((()=>import("./assets/index.a0edbdbd.js").then((function(e){return e.i}))),["assets/index.a0edbdbd.js","assets/vendor.162b55e9.js","assets/vendor.de5758fd.css","assets/index.ffc6c203.js","assets/index.dc71b91a.js"]);case"sl":return ul((()=>import("./assets/index.f4ba6a01.js").then((function(e){return e.i}))),["assets/index.f4ba6a01.js","assets/vendor.162b55e9.js","assets/vendor.de5758fd.css","assets/index.ffc6c203.js"]);case"sq":return ul((()=>import("./assets/index.7f10f260.js").then((function(e){return e.i}))),["assets/index.7f10f260.js","assets/vendor.162b55e9.js","assets/vendor.de5758fd.css","assets/index.ffc6c203.js"]);case"sr":return ul((()=>import("./assets/index.147427d1.js").then((function(e){return e.i}))),["assets/index.147427d1.js","assets/vendor.162b55e9.js","assets/vendor.de5758fd.css","assets/index.ffc6c203.js"]);case"sr-Latn":return ul((()=>import("./assets/index.cf11ac03.js").then((function(e){return e.i}))),["assets/index.cf11ac03.js","assets/vendor.162b55e9.js","assets/vendor.de5758fd.css","assets/index.ffc6c203.js"]);case"sv":return ul((()=>import("./assets/index.68e1a1f6.js").then((function(e){return e.i}))),["assets/index.68e1a1f6.js","assets/vendor.162b55e9.js","assets/vendor.de5758fd.css","assets/index.ffc6c203.js"]);case"ta":return ul((()=>import("./assets/index.152b5470.js").then((function(e){return e.i}))),["assets/index.152b5470.js","assets/vendor.162b55e9.js","assets/vendor.de5758fd.css","assets/index.ffc6c203.js"]);case"te":return ul((()=>import("./assets/index.c95012e7.js").then((function(e){return e.i}))),["assets/index.c95012e7.js","assets/vendor.162b55e9.js","assets/vendor.de5758fd.css","assets/index.ffc6c203.js"]);case"th":return ul((()=>import("./assets/index.18898be8.js").then((function(e){return e.i}))),["assets/index.18898be8.js","assets/vendor.162b55e9.js","assets/vendor.de5758fd.css","assets/index.ffc6c203.js"]);case"tr":return ul((()=>import("./assets/index.7a4d6bca.js").then((function(e){return e.i}))),["assets/index.7a4d6bca.js","assets/vendor.162b55e9.js","assets/vendor.de5758fd.css","assets/index.ffc6c203.js"]);case"ug":return ul((()=>import("./assets/index.1d8bdc6d.js").then((function(e){return e.i}))),["assets/index.1d8bdc6d.js","assets/vendor.162b55e9.js","assets/vendor.de5758fd.css","assets/index.ffc6c203.js"]);case"uk":return ul((()=>import("./assets/index.a743c9d0.js").then((function(e){return e.i}))),["assets/index.a743c9d0.js","assets/vendor.162b55e9.js","assets/vendor.de5758fd.css","assets/index.ffc6c203.js","assets/index.dc71b91a.js"]);case"uz":return ul((()=>import("./assets/index.667b28f4.js").then((function(e){return e.i}))),["assets/index.667b28f4.js","assets/vendor.162b55e9.js","assets/vendor.de5758fd.css","assets/index.ffc6c203.js"]);case"vi":return ul((()=>import("./assets/index.86d83b63.js").then((function(e){return e.i}))),["assets/index.86d83b63.js","assets/vendor.162b55e9.js","assets/vendor.de5758fd.css","assets/index.ffc6c203.js"]);case"zh-CN":return ul((()=>import("./assets/index.c51a9cee.js").then((function(e){return e.i}))),["assets/index.c51a9cee.js","assets/vendor.162b55e9.js","assets/vendor.de5758fd.css","assets/index.ffc6c203.js","assets/index.dc71b91a.js"]);case"zh-TW":return ul((()=>import("./assets/index.de2b6b74.js").then((function(e){return e.i}))),["assets/index.de2b6b74.js","assets/vendor.162b55e9.js","assets/vendor.de5758fd.css","assets/index.ffc6c203.js"]);default:return Promise.resolve()}}async function vh(){const e=o_.global.locale.value,t=[e,e.split("-")[0],"en-US"];let l;for(const a of t)try{l=(await fh(a)).default;break}catch{continue}return l}const _h=async(e,t,l)=>ue(e,t,r(s({},l),{locale:await vh()}));const yh=w({props:{revision:{type:Object,required:!0},last:{type:Boolean,default:!1}},emits:["click"],setup(e){const{t:t}=x(),l=V((()=>Object.keys(e.revision.delta).length)),a=V((()=>{switch(e.revision.activity.action.toLowerCase()){case"create":return t("revision_delta_created");case"update":return t("revision_delta_updated",l.value);case"delete":return t("revision_delta_deleted");case"revert":return t("revision_delta_reverted");default:return t("revision_delta_other")}})),i=V((()=>ue(new Date(e.revision.activity.timestamp),String(t("date-fns_time"))))),n=V((()=>{var l,a;return(null==(a=null==(l=e.revision)?void 0:l.activity)?void 0:a.user)&&"object"==typeof e.revision.activity.user?D_(e.revision.activity.user):t("private_user")}));return{t:t,headerMessage:a,time:i,user:n}}}),hh={class:"header"},gh={class:"content"},bh={class:"time"},kh=N(" – "),wh={key:1};const xh=w({components:{RevisionItem:F_(yh,[["render",function(e,t,l,a,i,n){const o=S("user-popover");return E(),P("div",{class:H(["revision-item",{last:e.last}]),onClick:t[0]||(t[0]=t=>e.$emit("click"))},[j("div",hh,[j("span",{class:H(["dot",e.revision.activity.action])},null,2),N(" "+U(e.headerMessage),1)]),j("div",gh,[j("span",bh,U(e.time),1),kh,e.revision.activity.user?(E(),A(o,{key:0,class:"user",user:e.revision.activity.user.id},{default:D((()=>[j("span",null,U(e.user),1)])),_:1},8,["user"])):(E(),P("span",wh,U(e.t("private_user")),1))])],2)}],["__scopeId","data-v-552a0966"]])},props:{group:{type:Object,required:!0}},emits:["click"],setup:()=>({expand:F(!0)})}),Vh={class:"scroll-container"};var Ch=F_(xh,[["render",function(e,t,l,a,i,n){const o=S("revision-item"),s=S("v-detail");return E(),A(s,{modelValue:e.expand,"onUpdate:modelValue":t[0]||(t[0]=t=>e.expand=t),label:e.group.dateFormatted,class:"revisions-date-group"},{default:D((()=>[z(j("div",Vh,[(E(!0),P(R,null,M(e.group.revisions,((t,l)=>(E(),A(o,{key:t.id,revision:t,last:l===e.group.revisions.length-1,onClick:l=>e.$emit("click",t.id)},null,8,["revision","last","onClick"])))),128))],512),[[ce,e.expand]])])),_:1},8,["modelValue","label"])}],["__scopeId","data-v-dcd1ff74"]]);const Sh=w({props:{revisions:{type:Array,required:!0},current:{type:Number,required:!0}},emits:["update:current"],setup(e,{emit:t}){const{t:l}=x(),a=Yt(e,"current",t),i=F(null);O((()=>e.revisions),(async()=>{const t=[];for(const a of e.revisions){const e=await o(a);let i=l("private_user");if("object"==typeof a.activity.user){i=D_(a.activity.user)}const n=String(l("revision_delta_by",{date:e,user:i})),s=a.id;t.push({text:n,value:s})}i.value=t}),{immediate:!0});const n=V((()=>{var e;return null==(e=i.value)?void 0:e.find((e=>e.value===a.value))}));return{internalCurrent:a,options:i,selectedOption:n};async function o(e){return`${await _h(new Date(e.activity.timestamp),String(l("date-fns_date_short")))} (${await _h(new Date(e.activity.timestamp),String(l("date-fns_time")))})`}}}),Eh=["onClick"];var Ah=F_(Sh,[["render",function(e,t,l,a,i,n){const o=S("v-icon"),s=S("v-list-item-content"),r=S("v-list-item"),d=S("v-list"),c=S("v-menu");return E(),A(c,{"show-arrow":""},{activator:D((({toggle:t})=>[j("span",{class:"picker",onClick:t},[N(U(e.selectedOption&&e.selectedOption.text)+" ",1),I(o,{name:"expand_more",small:""})],8,Eh)])),default:D((()=>[I(d,{class:"menu"},{default:D((()=>[(E(!0),P(R,null,M(e.options,(t=>(E(),A(r,{key:t.value,clickable:"",active:e.internalCurrent===t.value,onClick:l=>e.internalCurrent=t.value},{default:D((()=>[I(o,{name:"commit_node"}),I(s,null,{default:D((()=>[N(U(t.text),1)])),_:2},1024)])),_:2},1032,["active","onClick"])))),128))])),_:1})])),_:1})}],["__scopeId","data-v-2f4d8b82"]]);const Dh=w({props:{revision:{type:Object,required:!0}},setup(){const{t:e}=x();return{t:e}}}),Ih=(e=>(K("data-v-2d744eb6"),e=e(),W(),e))((()=>j("br",null,null,-1)));var Fh=F_(Dh,[["render",function(e,t,l,a,i,n){const o=S("v-notice"),s=S("v-form");return E(),P("div",null,[I(o,{type:"info"},{default:D((()=>[N(U("create"===e.revision.activity.action?e.t("revision_post_create"):e.t("revision_post_update"))+" ",1),Ih,N(" "+U(e.t("no_relational_data")),1)])),_:1}),I(s,{disabled:"",collection:e.revision.collection,"primary-key":e.revision.item,"initial-values":e.revision.data},null,8,["collection","primary-key","initial-values"])])}],["__scopeId","data-v-2d744eb6"]]);const Oh=w({props:{changes:{type:Array,required:!0},added:{type:Boolean,default:!1},deleted:{type:Boolean,default:!1}},setup(e){const{t:t}=x();return{t:t,changesFiltered:V((()=>e.changes.filter((t=>!0===e.added?!0!==t.removed:!0!==t.added)))),wholeThing:V((()=>2===e.changes.length))}}}),$h={class:"delta"},Th={key:1,class:"no-value"};const Ph=w({components:{RevisionsDrawerUpdatesChange:F_(Oh,[["render",function(e,t,l,a,i,n){const o=S("v-icon");return E(),P("div",{class:H(["change-line",{added:e.added,deleted:e.deleted,"no-highlight":e.wholeThing}])},[I(o,{name:e.added?"add":"remove"},null,8,["name"]),j("div",$h,[(E(!0),P(R,null,M(e.changesFiltered,((t,l)=>(E(),P("span",{key:l,class:H({changed:t.added||t.removed})},[t.value?(E(),P(R,{key:0},[N(U(t.value),1)],64)):(E(),P("span",Th,U(e.t("no_value")),1))],2)))),128))])],2)}],["__scopeId","data-v-481ea258"]])},props:{revision:{type:Object,required:!0},revisions:{type:Array,required:!0}},setup(e){const{t:t}=x(),l=vI(),a=V((()=>{const t=e.revisions.findIndex((t=>t.id===e.revision.id));return e.revisions[t+1]}));return{t:t,changes:V((()=>{if(!a.value)return null;return Object.keys(e.revision.delta).map((t=>{var i;const n=null==(i=l.getField(e.revision.collection,t))?void 0:i.name;if(!n)return null;const o=e.revision.delta[t],s=a.value.data[t];if(m.exports.isEqual(o,s))return null;let r;return r="string"==typeof s&&"string"==typeof o&&o.length>25?pe(s,o):Array.isArray(s)&&Array.isArray(o)?me(s,o):s&&o&&"object"==typeof o&&"object"==typeof o?fe(s,o):[{removed:!0,value:s},{added:!0,value:o}],{name:n,changes:r}})).filter((e=>e))})),previousRevision:a}}}),jh={class:"updates"},Lh=(e=>(K("data-v-09850b86"),e=e(),W(),e))((()=>j("br",null,null,-1))),Rh={class:"type-label"};const Mh=w({components:{RevisionsDrawerPicker:Ah,RevisionsDrawerPreview:Fh,RevisionsDrawerUpdates:F_(Ph,[["render",function(e,t,l,a,i,n){const o=S("v-notice"),s=S("revisions-drawer-updates-change");return E(),P("div",jh,[I(o,{type:"info"},{default:D((()=>[N(U(e.t("changes_made"))+" ",1),Lh,N(" "+U(e.t("no_relational_data")),1)])),_:1}),(E(!0),P(R,null,M(e.changes,(e=>(E(),P("div",{key:e.name,class:"change"},[j("div",Rh,U(e.name),1),I(s,{deleted:"",changes:e.changes},null,8,["changes"]),I(s,{added:"",changes:e.changes},null,8,["changes"])])))),128))])}],["__scopeId","data-v-09850b86"]])},props:{revisions:{type:Array,required:!0},current:{type:[Number,String],default:null},active:{type:Boolean,default:!1}},emits:["revert","update:active","update:current"],setup(e,{emit:t}){const{t:l}=x(),a=Yt(e,"active",t),i=Yt(e,"current",t),n=F(["updates_made"]),o=V((()=>{var e;return"create"===(null==(e=s.value)?void 0:e.activity.action)?l("item_creation"):l("item_revision")})),s=V((()=>e.revisions.find((t=>t.id===e.current)))),r=V((()=>{const t=e.revisions.findIndex((t=>t.id===e.current));return e.revisions[t+1]})),d=V((()=>{var e;return"create"===(null==(e=s.value)?void 0:e.activity.action)?[{text:l("creation_preview"),value:"revision_preview"}]:[{text:l("updates_made"),value:"updates_made"},{text:l("revision_preview"),value:"revision_preview"}]}));return de((()=>n.value=[d.value[0].value])),{t:l,internalActive:a,internalCurrent:i,title:o,currentRevision:s,currentTab:n,tabs:d,revert:function(){var e,l;if(!s.value)return;const i={};for(const[t,a]of Object.entries(s.value.delta)){const n=null!=(l=null==(e=r.value)?void 0:e.data[t])?l:null;m.exports.isEqual(a,n)||(i[t]=n)}t("revert",i),a.value=!1}}}}),Uh={class:"content"};function Nh(e,t=0,l=["K","M","B","T"]){const a=e<0;e=Math.abs(e);let i=String(e);if(e>=1e3){const a=Math.pow(10,t);for(let n=l.length-1;n>=0;n--){const o=Math.pow(10,3*(n+1));if(o<=e){1e3===(e=Math.round(e*a/o)/a)&&n<l.length-1&&(e=1,n++),i=e.toFixed(t)+l[n];break}}}return a&&(i=`-${i}`),i}const Bh=w({components:{RevisionsDrawer:F_(Mh,[["render",function(e,t,l,a,i,n){const o=S("revisions-drawer-picker"),s=S("v-tab"),r=S("v-tabs"),d=S("revisions-drawer-updates"),c=S("revisions-drawer-preview"),u=S("v-icon"),p=S("v-button"),m=S("v-drawer"),f=q("tooltip");return E(),P("div",null,[I(m,{modelValue:e.internalActive,"onUpdate:modelValue":t[3]||(t[3]=t=>e.internalActive=t),title:e.title,icon:"change_history","sidebar-label":e.t(e.currentTab[0]),onCancel:t[4]||(t[4]=t=>e.internalActive=!1)},{subtitle:D((()=>[I(o,{current:e.internalCurrent,"onUpdate:current":t[0]||(t[0]=t=>e.internalCurrent=t),revisions:e.revisions},null,8,["current","revisions"])])),sidebar:D((()=>[I(r,{modelValue:e.currentTab,"onUpdate:modelValue":t[1]||(t[1]=t=>e.currentTab=t),vertical:""},{default:D((()=>[(E(!0),P(R,null,M(e.tabs,(e=>(E(),A(s,{key:e.value,value:e.value},{default:D((()=>[N(U(e.text),1)])),_:2},1032,["value"])))),128))])),_:1},8,["modelValue"])])),actions:D((()=>[z(I(p,{class:"revert",icon:"",rounded:"",onClick:e.revert},{default:D((()=>[I(u,{name:"restore"})])),_:1},8,["onClick"]),[[f,e.t("revert"),void 0,{bottom:!0}]]),z(I(p,{icon:"",rounded:"",onClick:t[2]||(t[2]=t=>e.internalActive=!1)},{default:D((()=>[I(u,{name:"check"})])),_:1},512),[[f,e.t("done"),void 0,{bottom:!0}]])])),default:D((()=>[j("div",Uh,["updates_made"===e.currentTab[0]?(E(),A(d,{key:0,revision:e.currentRevision,revisions:e.revisions},null,8,["revision","revisions"])):B("",!0),"revision_preview"===e.currentTab[0]?(E(),A(c,{key:1,revision:e.currentRevision},null,8,["revision"])):B("",!0)])])),_:1},8,["modelValue","title","sidebar-label"])])}],["__scopeId","data-v-b07f5ea4"]]),RevisionsDateGroup:Ch},props:{collection:{type:String,required:!0},primaryKey:{type:[String,Number],required:!0}},emits:["revert"],setup(e){const{t:t}=x(),{revisions:l,revisionsByDate:a,loading:i,refresh:n,revisionsCount:o,pagesCount:s,created:r}=function(e,l){const a=F(null),i=F(null),n=F(!1),o=F(0),s=F(),r=F(0);return d(),{created:s,revisions:a,revisionsByDate:i,loading:n,refresh:async function(e=0){await d(e)},revisionsCount:o,pagesCount:r};async function d(d=0){var c;n.value=!0;try{const u=await dI.get("/revisions",{params:{filter:{collection:{_eq:e},item:{_eq:l}},sort:"-id",limit:100,page:d,fields:["id","data","delta","collection","item","activity.action","activity.timestamp","activity.user.id","activity.user.email","activity.user.first_name","activity.user.last_name","activity.ip","activity.user_agent"],meta:["filter_count"]}}),p=await dI.get("/revisions",{params:{filter:{collection:{_eq:e},item:{_eq:l},activity:{action:{_eq:"create"}}},sort:"-id",limit:1,fields:["id","data","delta","collection","item","activity.action","activity.timestamp","activity.user.id","activity.user.email","activity.user.first_name","activity.user.last_name","activity.ip","activity.user_agent"],meta:["filter_count"]}});s.value=null==(c=p.data.data)?void 0:c[0];const f=m.exports.groupBy(u.data.data.filter((e=>!!e.activity)),(e=>new Date(new Date(e.activity.timestamp).toDateString()))),v=[];for(const[e,l]of Object.entries(f)){const a=new Date(e),i=ve(a),n=_e(a),o=ye(a);let s;s=i?t("today"):n?t("yesterday"):o?await _h(a,String(t("date-fns_date_short_no_year"))):await _h(a,String(t("date-fns_date_short"))),v.push({date:a,dateFormatted:String(s),revisions:m.exports.orderBy(l,["activity.timestamp"],["desc"])})}i.value=m.exports.orderBy(v,["date"],["desc"]),a.value=m.exports.orderBy(u.data.data,["activity.timestamp"],["desc"]),o.value=u.data.meta.filter_count,r.value=Math.ceil(o.value/100)}catch(u){jy(u)}finally{n.value=!1}}}(e.collection,e.primaryKey),d=F(!1),c=F(null),u=F(1);return O((()=>u.value),(e=>{n(e)})),{t:t,revisions:l,revisionsByDate:a,loading:i,refresh:n,modalActive:d,modalCurrentRevision:c,openModal:function(e){c.value=e,d.value=!0},revisionsCount:o,created:r,page:u,pagesCount:s,abbreviateNumber:Nh}}}),qh={class:"external"};var zh=F_(Bh,[["render",function(e,t,l,a,i,n){const o=S("v-progress-linear"),s=S("RevisionsDateGroup"),r=S("v-divider"),d=S("v-pagination"),c=S("revisions-drawer"),u=S("sidebar-detail");return E(),A(u,{title:e.t("revisions"),icon:"change_history",badge:!e.loading&&e.revisions?e.abbreviateNumber(e.revisionsCount):null},{default:D((()=>[e.loading?(E(),A(o,{key:0,indeterminate:""})):(E(),P(R,{key:1},[(E(!0),P(R,null,M(e.revisionsByDate,(t=>(E(),A(s,{key:t.date.toString(),group:t,onClick:e.openModal},null,8,["group","onClick"])))),128)),e.page!=e.pagesCount||e.created?B("",!0):(E(),P(R,{key:0},[e.revisionsByDate.length>0?(E(),A(r,{key:0})):B("",!0),j("div",qh,U(e.t("revision_delta_created_externally")),1)],64)),e.pagesCount>1?(E(),A(d,{key:1,modelValue:e.page,"onUpdate:modelValue":t[0]||(t[0]=t=>e.page=t),length:e.pagesCount,"total-visible":2},null,8,["modelValue","length"])):B("",!0)],64)),e.revisions?(E(),A(c,{key:2,current:e.modalCurrentRevision,"onUpdate:current":t[1]||(t[1]=t=>e.modalCurrentRevision=t),active:e.modalActive,"onUpdate:active":t[2]||(t[2]=t=>e.modalActive=t),revisions:e.revisions,onRevert:t[3]||(t[3]=t=>e.$emit("revert",t))},null,8,["current","active","revisions"])):B("",!0)])),_:1},8,["title","badge"])}],["__scopeId","data-v-427239ad"]]);const Kh=new Set([]),Wh={};function Hh(e,t,l=F(document.body)){const a=(e,a)=>{if(!l.value)return;const i=l.value instanceof HTMLElement?l.value:l.value.$el;return!(document.activeElement!==i&&!i.contains(document.activeElement)&&document.activeElement!==document.body)&&(e.preventDefault(),t(e,a))};ee((()=>{[e].flat().forEach((e=>{e in Wh?Wh[e].unshift(a):Wh[e]=[a]}))})),he((()=>{[e].flat().forEach((e=>{e in Wh&&(Wh[e]=Wh[e].filter((e=>e!==a)),0===Wh[e].length&&delete Wh[e])}))}))}let Gh;function Qh(e){Gh||(Gh=hI()),Gh.add(e)}document.body.addEventListener("keydown",(e=>{!e.repeat&&e.key&&(Kh.add(function(e){const t={Control:"meta",Command:"meta"},l=/^[a-zA-Z0-9]*?$/g;let a=null===e.key.match(l)?e.code.replace(/(Key|Digit)/g,""):e.key;return a=a in t?t[a]:a,a=a.toLowerCase(),a}(e)),function(e){Object.entries(Wh).forEach((([t,l])=>{const a=t.split("+");for(t of Kh)if(!1===a.includes(t))return;for(t of a)if(!1===Kh.has(t))return;for(let i=0;i<l.length;i++){let t=!1;if(l[i](e,(()=>{t=!0})),"boolean"==typeof t&&t)break}}))}(e))})),document.body.addEventListener("keyup",(e=>{!e.repeat&&e.key&&Kh.clear()}));var Xh=F_(w({props:{refresh:{type:Function,required:!0},collection:{type:String,required:!0},primaryKey:{type:[Number,String],required:!0}},setup(e){const{t:t}=x(),l=F();Hh("meta+enter",n,l);const a=F(null),i=F(!1);return{t:t,newCommentContent:a,postComment:n,saving:i,textarea:l};async function n(){if(null!==a.value&&0!==a.value.length){i.value=!0;try{await dI.post("/activity/comment",{collection:e.collection,item:e.primaryKey,comment:a.value}),await e.refresh(),a.value=null,Qh({title:t("post_comment_success"),type:"success"})}catch(l){jy(l)}finally{i.value=!1}}}}}),[["render",function(e,t,l,a,i,n){const o=S("v-button"),s=S("v-textarea");return E(),A(s,{ref:"textarea",modelValue:e.newCommentContent,"onUpdate:modelValue":t[0]||(t[0]=t=>e.newCommentContent=t),class:"new-comment",placeholder:e.t("leave_comment"),"expand-on-focus":""},{append:D((()=>[I(o,{disabled:!e.newCommentContent||0===e.newCommentContent.length,loading:e.saving,class:"post-comment","x-small":"",onClick:e.postComment},{default:D((()=>[N(U(e.t("submit")),1)])),_:1},8,["disabled","loading","onClick"])])),_:1},8,["modelValue","placeholder"])}],["__scopeId","data-v-67239b96"]]);function Jh(){const e=window.location.pathname.split("/"),t=e.indexOf("admin");return e.slice(0,t).join("/")+"/"}function Yh(){const e=window.location.href.split("/"),t=e.indexOf("admin");return e.slice(0,t).join("/")+"/"}const Zh=w({props:{activity:{type:Object,required:!0},refresh:{type:Function,required:!0}},emits:["edit"],setup(e){const{t:t}=x(),l=V((()=>e.activity.timestamp?ue(new Date(e.activity.timestamp),String(t("date-fns_time_no_seconds"))):null)),a=V((()=>{var t;return(null==(t=e.activity.user)?void 0:t.avatar)?uI(Jh()+`assets/${e.activity.user.avatar.id}?key=system-small-cover`):null})),{confirmDelete:i,deleting:n,remove:o}=function(){const t=F(!1),l=F(!1);return{confirmDelete:t,deleting:l,remove:async function(){l.value=!0;try{await dI.delete(`/activity/comment/${e.activity.id}`),await e.refresh(),t.value=!1}catch(a){jy(a)}finally{l.value=!1}}}}();return{t:t,formattedTime:l,avatarSource:a,confirmDelete:i,deleting:n,remove:o,userName:D_}}}),eg={class:"comment-header"},tg=["src","alt"],lg={class:"name"},ag={class:"header-right"},ig={class:"time"};const ng=w({components:{CommentItemHeader:F_(Zh,[["render",function(e,t,l,a,i,n){const o=S("v-icon"),s=S("v-avatar"),r=S("user-popover"),d=S("v-list-item-icon"),c=S("v-list-item-content"),u=S("v-list-item"),p=S("v-list"),m=S("v-menu"),f=S("v-card-title"),v=S("v-card-text"),_=S("v-button"),y=S("v-card-actions"),h=S("v-card"),g=S("v-dialog");return E(),P("div",eg,[I(s,{"x-small":""},{default:D((()=>[e.avatarSource?(E(),P("img",{key:0,src:e.avatarSource,alt:e.userName(e.activity.user)},null,8,tg)):(E(),A(o,{key:1,name:"person_outline"}))])),_:1}),j("div",lg,[e.activity.user&&e.activity.user.id?(E(),A(r,{key:0,user:e.activity.user.id},{default:D((()=>[j("span",null,[e.activity.user&&e.activity.user?(E(),P(R,{key:0},[N(U(e.userName(e.activity.user)),1)],64)):(E(),P(R,{key:1},[N(U(e.t("private_user")),1)],64))])])),_:1},8,["user"])):B("",!0)]),j("div",ag,[I(m,{"show-arrow":"",placement:"bottom-end"},{activator:D((({toggle:t,active:l})=>[I(o,{class:H(["more",{active:l}]),name:"more_horiz",clickable:"",onClick:t},null,8,["class","onClick"]),j("div",ig,U(e.formattedTime),1)])),default:D((()=>[I(p,null,{default:D((()=>[I(u,{clickable:"",onClick:t[0]||(t[0]=t=>e.$emit("edit"))},{default:D((()=>[I(d,null,{default:D((()=>[I(o,{name:"edit",outline:""})])),_:1}),I(c,null,{default:D((()=>[N(U(e.t("edit")),1)])),_:1})])),_:1}),I(u,{clickable:"",onClick:t[1]||(t[1]=t=>e.confirmDelete=!0)},{default:D((()=>[I(d,null,{default:D((()=>[I(o,{name:"delete",outline:""})])),_:1}),I(c,null,{default:D((()=>[N(U(e.t("delete_label")),1)])),_:1})])),_:1})])),_:1})])),_:1})]),I(g,{modelValue:e.confirmDelete,"onUpdate:modelValue":t[3]||(t[3]=t=>e.confirmDelete=t),onEsc:t[4]||(t[4]=t=>e.confirmDelete=!1)},{default:D((()=>[I(h,null,{default:D((()=>[I(f,null,{default:D((()=>[N(U(e.t("delete_comment")),1)])),_:1}),I(v,null,{default:D((()=>[N(U(e.t("delete_are_you_sure")),1)])),_:1}),I(y,null,{default:D((()=>[I(_,{secondary:"",onClick:t[2]||(t[2]=t=>e.confirmDelete=!1)},{default:D((()=>[N(U(e.t("cancel")),1)])),_:1}),I(_,{kind:"danger",loading:e.deleting,onClick:e.remove},{default:D((()=>[N(U(e.t("delete_label")),1)])),_:1},8,["loading","onClick"])])),_:1})])),_:1})])),_:1},8,["modelValue"])])}],["__scopeId","data-v-cb2ab15c"]])},props:{activity:{type:Object,required:!0},refresh:{type:Function,required:!0}},setup(e){const{t:t}=x(),l=F(),{edits:a,editing:i,savingEdits:n,saveEdits:o,cancelEditing:s}=function(){const t=F(e.activity.comment),l=F(!1),a=F(!1);return O((()=>e.activity),(()=>t.value=e.activity.comment)),{edits:t,editing:l,savingEdits:a,saveEdits:async function(){a.value=!0;try{await dI.patch(`/activity/comment/${e.activity.id}`,{comment:t.value}),await e.refresh()}catch(i){jy(i)}finally{a.value=!1,l.value=!1}},cancelEditing:function(){t.value=e.activity.comment,l.value=!1}}}();return Hh("meta+enter",o,l),{t:t,edits:a,editing:i,savingEdits:n,saveEdits:o,cancelEditing:s,textarea:l}}}),og={class:"comment-item"},sg={class:"buttons"},rg={key:1,class:"content"},dg={class:"selectable"};const cg=w({components:{CommentInput:Xh,CommentItem:F_(ng,[["render",function(e,t,l,a,i,n){const o=S("comment-item-header"),s=S("v-button"),r=S("v-textarea"),d=q("md");return E(),P("div",og,[I(o,{refresh:e.refresh,activity:e.activity,onEdit:t[0]||(t[0]=t=>e.editing=!0)},null,8,["refresh","activity"]),e.editing?(E(),A(r,{key:0,ref:"textarea",modelValue:e.edits,"onUpdate:modelValue":t[1]||(t[1]=t=>e.edits=t)},{append:D((()=>[j("div",sg,[I(s,{class:"cancel",secondary:"","x-small":"",onClick:e.cancelEditing},{default:D((()=>[N(U(e.t("cancel")),1)])),_:1},8,["onClick"]),I(s,{loading:e.savingEdits,class:"post-comment","x-small":"",disabled:e.edits===e.activity.comment,onClick:e.saveEdits},{default:D((()=>[N(U(e.t("save")),1)])),_:1},8,["loading","disabled","onClick"])])])),_:1},8,["modelValue"])):(E(),P("div",rg,[z(j("span",dg,null,512),[[d,e.activity.comment]])]))])}],["__scopeId","data-v-2216c33f"]])},props:{collection:{type:String,required:!0},primaryKey:{type:[String,Number],required:!0}},setup(e){const{t:t}=x(),{activity:l,loading:a,error:i,refresh:n,count:o}=function(e,l){const a=F(null),i=F(0),n=F(null),o=F(!1);return s(),{activity:a,error:n,loading:o,refresh:async function(){await s()},count:i};async function s(){n.value=null,o.value=!0;try{const n=await dI.get("/activity",{params:{"filter[collection][_eq]":e,"filter[item][_eq]":l,"filter[action][_in]":"comment",sort:"-id",fields:["id","action","timestamp","user.id","user.email","user.first_name","user.last_name","user.avatar.id","revisions.id","comment"]}});i.value=n.data.data.length;const s=m.exports.groupBy(n.data.data,(e=>new Date(new Date(e.timestamp).toDateString()))),r=[];for(const[e,l]of Object.entries(s)){const a=new Date(e),i=ve(a),n=_e(a),o=ye(a);let s;s=i?t("today"):n?t("yesterday"):o?await _h(a,String(t("date-fns_date_short_no_year"))):await _h(a,String(t("date-fns_date_short"))),r.push({date:a,dateFormatted:String(s),activity:l})}a.value=m.exports.orderBy(r,["date"],["desc"])}catch(s){s.value=s}finally{o.value=!1}}}(e.collection,e.primaryKey);return{t:t,activity:l,loading:a,error:i,refresh:n,count:o}}}),ug={key:1,class:"empty"},pg={class:"content"};var mg=F_(cg,[["render",function(e,t,l,a,i,n){const o=S("comment-input"),s=S("v-progress-linear"),r=S("v-divider"),d=S("comment-item"),c=S("sidebar-detail");return E(),A(c,{title:e.t("comments"),icon:"chat_bubble_outline",badge:e.count||null},{default:D((()=>[I(o,{refresh:e.refresh,collection:e.collection,"primary-key":e.primaryKey},null,8,["refresh","collection","primary-key"]),e.loading?(E(),A(s,{key:0,indeterminate:""})):e.activity&&0!==e.activity.length?(E(!0),P(R,{key:2},M(e.activity,(t=>(E(),P(R,{key:t.date.toString()},[I(r,null,{default:D((()=>[N(U(t.dateFormatted),1)])),_:2},1024),(E(!0),P(R,null,M(t.activity,(t=>(E(),A(d,{key:t.id,refresh:e.refresh,activity:t},null,8,["refresh","activity"])))),128))],64)))),128)):(E(),P("div",ug,[j("div",pg,U(e.t("no_comments")),1)]))])),_:1},8,["title","badge"])}],["__scopeId","data-v-6aeefb6c"]]);class fg extends Error{constructor(e,t,l,a){super(e),this.status=t,this.code=l,this.extensions=a||{}}}class vg extends fg{constructor(e){var t,l,a,i,n,o,s,r,d,c,u,p,m,f;const v={field:e.path[0]},_=e.type;if(_.endsWith("only"))if((null===(t=e.context)||void 0===t?void 0:t.valids.length)>1)v.type="in",v.valid=null===(l=e.context)||void 0===l?void 0:l.valids;else{const t=null===(a=e.context)||void 0===a?void 0:a.valids[0];null===t?v.type="null":""===t?v.type="empty":(v.type="eq",v.valid=null===(i=e.context)||void 0===i?void 0:i.valids[0])}if(_.endsWith("invalid"))if((null===(n=e.context)||void 0===n?void 0:n.invalids.length)>1)v.type="nin",v.invalid=null===(o=e.context)||void 0===o?void 0:o.invalids;else{const t=null===(s=e.context)||void 0===s?void 0:s.invalids[0];null===t?v.type="nnull":""===t?v.type="nempty":(v.type="neq",v.invalid=t)}_.endsWith("greater")&&(v.type="gt",v.valid=null===(r=e.context)||void 0===r?void 0:r.limit),_.endsWith("min")&&(v.type="gte",v.valid=null===(d=e.context)||void 0===d?void 0:d.limit),_.endsWith("less")&&(v.type="lt",v.valid=null===(c=e.context)||void 0===c?void 0:c.limit),_.endsWith("max")&&(v.type="lte",v.valid=null===(u=e.context)||void 0===u?void 0:u.limit),_.endsWith("contains")&&(v.type="contains",v.substring=null===(p=e.context)||void 0===p?void 0:p.substring),_.endsWith("ncontains")&&(v.type="ncontains",v.substring=null===(m=e.context)||void 0===m?void 0:m.substring),_.endsWith("required")&&(v.type="required"),_.endsWith(".pattern.base")&&(v.type="regex",v.invalid=null===(f=e.context)||void 0===f?void 0:f.value),super(e.message,400,"FAILED_VALIDATION",v)}}function _g(e){return e.startsWith("directus_")?`/${e.substring(9)}`:`/items/${e}`}function yg(e){const t=I_();if(!t.currentUser)return e;return E_(e,{role:t.currentUser.role.id,user:t.currentUser.id})}function hg(e,t){const{info:l,primaryKeyField:a,fields:i}=Xt(e),n=F(null),o=F(null),d=F([]),c=F(!1),u=F(!1),p=F(!1),f=F(!1),v=F({}),_=V((()=>"+"===t.value)),y=V((()=>"string"==typeof t.value&&t.value.includes(","))),h=V((()=>{var e,t;return!!(null==(t=null==(e=l.value)?void 0:e.meta)?void 0:t.singleton)})),g=V((()=>{var e,t,a,i;return(null==(t=null==(e=l.value)?void 0:e.meta)?void 0:t.archive_field)?"true"===l.value.meta.archive_value?!0===(null==(a=n.value)?void 0:a[l.value.meta.archive_field]):(null==(i=n.value)?void 0:i[l.value.meta.archive_field])===l.value.meta.archive_value:null})),b=V((()=>h.value?_g(e.value):`${_g(e.value)}/${encodeURIComponent(t.value)}`));return O([e,t],w,{immediate:!0}),{edits:v,item:n,error:o,loading:c,saving:u,refresh:w,save:async function(){var t,l;u.value=!0,d.value=[];const a=C(v.value);if(a.length>0)throw d.value=a,u.value=!1,a;try{let t;return!0===_.value?(t=await dI.post(_g(e.value),v.value),Qh({title:o_.global.t("item_create_success",y.value?2:1),type:"success"})):(t=await dI.patch(b.value,v.value),Qh({title:o_.global.t("item_update_success",y.value?2:1),type:"success"})),x(t),v.value={},t.data.data}catch(i){if(null==(l=null==(t=null==i?void 0:i.response)?void 0:t.data)?void 0:l.errors){d.value=i.response.data.errors.filter((e=>{var t;return ih.includes(null==(t=null==e?void 0:e.extensions)?void 0:t.code)})).map((e=>e.extensions));const e=i.response.data.errors.filter((e=>{var t;return!1===ih.includes(null==(t=null==e?void 0:e.extensions)?void 0:t.code)}));e.length>0&&e.forEach(jy)}else jy(i);throw i}finally{u.value=!1}},isNew:_,remove:async function(){p.value=!0;try{await dI.delete(b.value),n.value=null,Qh({title:o_.global.t("item_delete_success",y.value?2:1),type:"success"})}catch(e){throw jy(e),e}finally{p.value=!1}},deleting:p,archive:async function(){var e,t;if(!(null==(t=null==(e=l.value)?void 0:e.meta)?void 0:t.archive_field))return;f.value=!0;const a=l.value.meta.archive_field;let i=l.value.meta.archive_value;"true"===i&&(i=!0);"false"===i&&(i=!1);let o=l.value.meta.unarchive_value;"true"===o&&(o=!0);"false"===o&&(o=!1);try{let e=n.value&&n.value[a]===i?o:i;"true"===e&&(e=!0),"false"===e&&(e=!1),n.value=r(s({},n.value),{[a]:e}),await dI.patch(b.value,{[a]:e}),Qh({title:o_.global.t("item_delete_success",y.value?2:1),type:"success"})}catch(d){throw jy(d),d}finally{f.value=!1}},isArchived:g,archiving:f,saveAsCopy:async function(){var t,i,n,o;u.value=!0,d.value=[];const r=(null==(i=null==(t=l.value)?void 0:t.meta)?void 0:i.item_duplication_fields)||["*"],c=await dI.get(b.value,{params:{fields:r}}),p=s(s({},c.data.data||{}),v.value);a.value&&a.value.field in p&&delete p[a.value.field];const m=C(p);if(m.length>0)throw d.value=m,u.value=!1,m;try{const t=await dI.post(_g(e.value),p);return Qh({title:o_.global.t("item_create_success",1),type:"success"}),v.value={},a.value?t.data.data[a.value.field]:null}catch(f){if(!(null==(o=null==(n=null==f?void 0:f.response)?void 0:n.data)?void 0:o.errors))throw jy(f),f;d.value=f.response.data.errors.filter((e=>{var t;return"FAILED_VALIDATION"===(null==(t=null==e?void 0:e.extensions)?void 0:t.code)})).map((e=>e.extensions))}finally{u.value=!1}},isBatch:y,getItem:k,validationErrors:d};async function k(){c.value=!0,o.value=null;try{x(await dI.get(b.value))}catch(e){o.value=e}finally{c.value=!1}}function w(){o.value=null,c.value=!1,u.value=!1,p.value=!1,!0===_.value?n.value=null:k()}function x(e){if(!1===y.value)n.value=e.data.data;else{const t=s({},e.data.data[0]);e.data.data.forEach((e=>{for(const[l,a]of Object.entries(e))t[l]!==a&&delete t[l]})),n.value=t}}function C(e){var t;const l={_and:[]},a=i.value.map((t=>(t=>{var l;if(t.meta&&Array.isArray(null==(l=t.meta)?void 0:l.conditions)){const l=[...t.meta.conditions].reverse().find((t=>{if(t.rule&&1===Object.keys(t.rule).length)return 0===A_(yg(t.rule),e,{requireAll:!0}).length}));return l?r(s({},t),{meta:m.exports.merge({},t.meta||{},{readonly:l.readonly,options:l.options,hidden:l.hidden,required:l.required})}):t}return t})(t))).filter((e=>{var t;return!0===(null==(t=e.meta)?void 0:t.required)}));for(const i of a)!0===_.value&&m.exports.isNil(null==(t=i.schema)?void 0:t.default_value)&&l._and.push({[i.field]:{_submitted:!0}}),l._and.push({[i.field]:{_nnull:!0}});return m.exports.flatten(A_(l,e).map((e=>e.details.map((e=>new vg(e).extensions)))))}}function gg(e){return e.charAt(0).toUpperCase()+e.slice(1)}function bg(e){return navigator.platform.toLowerCase().startsWith("mac")||navigator.platform.startsWith("iP")?e.map((e=>"meta"===e?"⌘":"option"===e?"⌥":"shift"===e?"⇧":"alt"===e?"⌥":gg(e))).join(""):e.map((e=>"meta"===e?"Ctrl":gg(e))).join("+")}var kg=F_(w({props:{disabled:{type:Boolean,default:!1}},emits:["save-and-stay","save-and-add-new","save-as-copy"],setup(){const{t:e}=x();return{t:e,translateShortcut:bg}}}),[["render",function(e,t,l,a,i,n){const o=S("v-icon"),s=S("v-list-item-icon"),r=S("v-list-item-content"),d=S("v-list-item-hint"),c=S("v-list-item"),u=S("v-list"),p=S("v-menu");return E(),A(p,{"show-arrow":"",disabled:e.disabled},{activator:D((({toggle:t})=>[I(o,{class:H({disabled:e.disabled}),name:"more_vert",clickable:"",onClick:t},null,8,["class","onClick"])])),default:D((()=>[I(u,null,{default:D((()=>[I(c,{disabled:e.disabled,clickable:"",onClick:t[0]||(t[0]=t=>e.$emit("save-and-stay"))},{default:D((()=>[I(s,null,{default:D((()=>[I(o,{name:"check"})])),_:1}),I(r,null,{default:D((()=>[N(U(e.t("save_and_stay")),1)])),_:1}),I(d,null,{default:D((()=>[N(U(e.translateShortcut(["meta","s"])),1)])),_:1})])),_:1},8,["disabled"]),I(c,{disabled:e.disabled,clickable:"",onClick:t[1]||(t[1]=t=>e.$emit("save-and-add-new"))},{default:D((()=>[I(s,null,{default:D((()=>[I(o,{name:"add"})])),_:1}),I(r,null,{default:D((()=>[N(U(e.t("save_and_create_new")),1)])),_:1}),I(d,null,{default:D((()=>[N(U(e.translateShortcut(["meta","shift","s"])),1)])),_:1})])),_:1},8,["disabled"]),I(c,{disabled:e.disabled,clickable:"",onClick:t[2]||(t[2]=t=>e.$emit("save-as-copy"))},{default:D((()=>[I(s,null,{default:D((()=>[I(o,{name:"done_all"})])),_:1}),I(r,null,{default:D((()=>[N(U(e.t("save_as_copy")),1)])),_:1})])),_:1},8,["disabled"])])),_:1})])),_:1},8,["disabled"])}],["__scopeId","data-v-6cae65c2"]]);const wg=ge.extend({type:"string",base:ge.string(),messages:{"string.contains":"{{#label}} must contain [{{#substring}}]","string.ncontains":"{{#label}} can't contain [{{#substring}}]"},rules:{contains:{args:[{name:"substring",ref:!0,assert:e=>"string"==typeof e,message:"must be a string"}],method(e){return this.$_addRule({name:"contains",args:{substring:e}})},validate:(e,t,{substring:l})=>!1===e.includes(l)?t.error("string.contains",{substring:l}):e},ncontains:{args:[{name:"substring",ref:!0,assert:e=>"string"==typeof e,message:"must be a string"}],method(e){return this.$_addRule({name:"ncontains",args:{substring:e}})},validate:(e,t,{substring:l})=>!0===e.includes(l)?t.error("string.ncontains",{substring:l}):e}}}),xg={allowUnknown:!0,requireAll:!1};function Vg(e,t,l,a=!1){const i=gI();if(!0===I_().isAdmin)return!0;const n=i.permissions.find((l=>l.action===t&&l.collection===e));if(!n)return!1;if(!n.fields)return!1;if(a&&!1===n.fields.includes("*")&&l){const e=n.fields;if(!1===Object.keys(l).every((t=>e.includes(t))))return!1}const o=function(e,t){e=e||{},t=m.exports.merge({},xg,t);const l={};for(const[a,i]of Object.entries(e))if(!1===a.startsWith("_")){const e=Object.keys(i)[0];if("_eq"===e&&(l[a]=wg.any().equal(Object.values(i)[0])),"_neq"===e&&(l[a]=wg.any().not(Object.values(i)[0])),"_contains"===e&&(l[a]=wg.string().contains(Object.values(i)[0])),"_ncontains"===e&&(l[a]=wg.string().ncontains(Object.values(i)[0])),"_starts_with"===e&&(l[a]=wg.string().pattern(new RegExp(`^${m.exports.escapeRegExp(Object.values(i)[0])}.*`),{name:"starts_with"})),"_nstarts_with"===e&&(l[a]=wg.string().pattern(new RegExp(`^${m.exports.escapeRegExp(Object.values(i)[0])}.*`),{name:"starts_with",invert:!0})),"_ends_with"===e&&(l[a]=wg.string().pattern(new RegExp(`.*${m.exports.escapeRegExp(Object.values(i)[0])}$`),{name:"ends_with"})),"_nends_with"===e&&(l[a]=wg.string().pattern(new RegExp(`.*${m.exports.escapeRegExp(Object.values(i)[0])}$`),{name:"ends_with",invert:!0})),"_in"===e&&(l[a]=wg.any().equal(...Object.values(i)[0])),"_nin"===e&&(l[a]=wg.any().not(...Object.values(i)[0])),"_gt"===e&&(l[a]=wg.number().greater(Number(Object.values(i)[0]))),"_gte"===e&&(l[a]=wg.number().min(Number(Object.values(i)[0]))),"_lt"===e&&(l[a]=wg.number().less(Number(Object.values(i)[0]))),"_lte"===e&&(l[a]=wg.number().max(Number(Object.values(i)[0]))),"_null"===e&&(l[a]=wg.any().valid(null)),"_nnull"===e&&(l[a]=wg.any().invalid(null)),"_empty"===e&&(l[a]=wg.any().valid("")),"_nempty"===e&&(l[a]=wg.any().invalid("")),"_between"===e){const e=Object.values(i)[0];l[a]=wg.number().greater(e[0]).less(e[1])}if("_nbetween"===e){const e=Object.values(i)[0];l[a]=wg.number().less(e[0]).greater(e[1])}t.requireAll&&(l[a]=l[a].required())}return t.allowUnknown?wg.object(l).unknown():wg.object(l)}(n.permissions,{allowUnknown:!0}),{error:s}=o.validate(l);return!s}function Cg(e,t,l){const a=I_(),i=gI(),{info:n,fields:o}=Xt(e),d=V((()=>Vg(e.value,"delete",t.value))),c=V((()=>!!l.value||Vg(e.value,"update",t.value))),u=V((()=>Vg(e.value,"update",t.value)));return{deleteAllowed:d,saveAllowed:c,archiveAllowed:V((()=>{var t,l;return!!(null==(l=null==(t=n.value)?void 0:t.meta)?void 0:l.archive_field)&&Vg(e.value,"update",{[n.value.meta.archive_field]:n.value.meta.archive_value},!0)})),updateAllowed:u,fields:V((()=>{var t,n,d;let c=m.exports.cloneDeep(o.value);if(!0===(null==(n=null==(t=a.currentUser)?void 0:t.role)?void 0:n.admin_access))return c;const u=i.getPermissionsForUser(e.value,l.value?"create":"update");return u?(!1===(null==(d=null==u?void 0:u.fields)?void 0:d.includes("*"))&&(c=c.map((e=>(!1===u.fields.includes(e.field)&&(e.meta=r(s({},e.meta||{}),{readonly:!0})),e)))),(null==u?void 0:u.presets)&&(c=c.map((e=>(e.field in u.presets&&(e.schema=r(s({},e.schema||{}),{default_value:u.presets[e.field]})),e)))),c):c})),revisionsAllowed:V((()=>{var e,t;return!0===(null==(t=null==(e=a.currentUser)?void 0:e.role)?void 0:t.admin_access)||!!i.permissions.find((e=>"directus_revisions"===e.collection&&"read"===e.action))}))}}function Sg(e){function t(t){if(e.value)return t.preventDefault(),t.returnValue="",""}be((()=>{window.addEventListener("beforeunload",t)})),ke((()=>{window.removeEventListener("beforeunload",t)}))}function Eg(e){if(null==e)return;const t="string"==typeof e?F(e):e;return O(t,((e,t)=>{"string"==typeof e&&t!==e&&(document.title=e)}),{immediate:!0}),t}function Ag(e,t){const l=Ve(t,e);return"object"==typeof l?JSON.stringify(l):l}function Dg(e,t){const l=we(t),a=we(e),i=V((()=>el(a))),n=V((()=>{if(!l||!a||!i.value)return!1;try{return xe(a,Ag,l,{propsExist:!0})}catch{return!1}}));return{fieldsInTemplate:i,displayValue:n}}function Ig(e,t){const l=el(e);if(!t||!e||!l)return null;try{return Ce(e,t,{propsExist:!0})}catch{return null}}function Fg(e,t){const l=F(),a=F(!1),i=F(null),n=V((()=>{var t,l;return(null==(l=null==(t=e.value)?void 0:t.meta)?void 0:l.display_template)?el(e.value.meta.display_template):null}));return O([e,t],(async function(){if(!t.value||"+"===t.value||null===n.value||!e.value)return;a.value=!0;const o=e.value.collection.startsWith("directus_")?`/${e.value.collection.substring(9)}/${t.value}`:`/items/${e.value.collection}/${encodeURIComponent(t.value)}`;try{const e=await dI.get(o,{params:{fields:n.value}});l.value=e.data.data}catch(s){i.value=s}finally{a.value=!1}}),{immediate:!0}),{templateData:l,loading:a,error:i}}const Og=w({name:"CollectionsItem",components:{CollectionsNavigation:zy,CollectionsNavigationSearch:Hy,CollectionsNotFound:Xy,RevisionsDrawerDetail:zh,CommentsSidebarDetail:mg,SaveOptions:kg},props:{collection:{type:String,required:!0},primaryKey:{type:String,default:null},singleton:{type:Boolean,default:!1}},setup(e){const{t:t,te:l}=x(),a=ie(),i=F(),{collection:n,primaryKey:o}=T(e),{breadcrumb:r}={breadcrumb:V((()=>{var t;return[{name:null==(t=c.value)?void 0:t.name,to:`/collections/${e.collection}`}]}))},d=F(null),{info:c,defaults:u,primaryKeyField:p,isSingleton:m,accountabilityScope:f}=Xt(n),{isNew:v,edits:_,item:y,saving:h,loading:g,error:b,save:k,remove:w,deleting:C,archive:S,archiving:E,isArchived:A,saveAsCopy:D,refresh:I,validationErrors:O}=hg(n,o),{templateData:$,loading:P}=Fg(c,o),j=V((()=>Object.keys(_.value).length>0)),L=V((()=>{var e,t,l,a,i,n;return!1!==H.value&&(!0===j.value||((null==(t=null==(e=p.value)?void 0:e.schema)?void 0:t.has_auto_increment)||(null==(i=null==(a=null==(l=p.value)?void 0:l.meta)?void 0:a.special)?void 0:i.includes("uuid"))?!0===v.value&&Object.keys(u.value).length>0||j.value:!!(null==(n=_.value)?void 0:n[p.value.field])))}));Sg(L);const R=F(!1),M=F(!1),U=F(!1),N=F(null),B=V((()=>{var a,i;return l(`collection_names_singular.${e.collection}`)?v.value?t("creating_unit",{unit:t(`collection_names_singular.${e.collection}`)}):t("editing_unit",{unit:t(`collection_names_singular.${e.collection}`)}):v.value?t("creating_in",{collection:null==(a=c.value)?void 0:a.name}):t("editing_in",{collection:null==(i=c.value)?void 0:i.name})}));Eg(V((()=>{var e;let t=((null==(e=c.value)?void 0:e.name)||"")+" | ";if(c.value&&c.value.meta){if(!0===c.value.meta.singleton)return t+c.value.name;if(!1===v.value&&c.value.meta.display_template){const{displayValue:e}=Dg(c.value.meta.display_template,$);if(void 0!==e.value)return t+e.value}}return t+B.value})));const q=V((()=>!1===W.value?t("not_allowed"):!0===A.value?t("unarchive"):t("archive")));Hh("meta+s",Y,i),Hh("meta+shift+s",Z,i);const z=e=>{if(j.value)return U.value=!0,N.value=e.fullPath,!1};Se(z),te(z);const{deleteAllowed:K,archiveAllowed:W,saveAllowed:H,updateAllowed:G,fields:Q,revisionsAllowed:X}=Cg(n,y,v),J=V((()=>{var t,l;return v.value?"+":m.value?null==(l=y.value)?void 0:l[null==(t=p.value)?void 0:t.field]:e.primaryKey}));return{t:t,router:a,item:y,loading:g,error:b,isNew:v,edits:_,isSavable:L,hasEdits:j,saving:h,collectionInfo:c,saveAndQuit:async function(){if(!1===L.value)return;try{await k(),!1===e.singleton&&a.push(`/collections/${e.collection}`)}catch{}},deleteAndQuit:async function(){try{await w(),_.value={},a.push(`/collections/${e.collection}`)}catch{}},confirmDelete:R,confirmArchive:M,deleting:C,archiving:E,saveAndStay:Y,saveAndAddNew:Z,saveAsCopyAndNavigate:async function(){try{const t=await D();t&&a.push(`/collections/${e.collection}/${encodeURIComponent(t)}`)}catch{}},templateData:$,templateDataLoading:P,archiveTooltip:q,breadcrumb:r,title:B,revisionsDrawerDetail:d,refresh:I,confirmLeave:U,leaveTo:N,discardAndLeave:function(){if(!N.value)return;_.value={},U.value=!1,a.push(N.value)},deleteAllowed:K,saveAllowed:H,archiveAllowed:W,isArchived:A,updateAllowed:G,toggleArchive:async function(){try{await S(),!0===A.value?a.push(`/collections/${e.collection}`):M.value=!1}catch{}},validationErrors:O,form:i,fields:Q,isSingleton:m,internalPrimaryKey:J,revisionsAllowed:X,revert:function(e){_.value=s(s({},_.value),e)},accountabilityScope:f};async function Y(){var t,l;if(!1!==L.value)try{const i=await k();if(null==(l=null==(t=d.value)?void 0:t.refresh)||l.call(t),"+"===e.primaryKey){const t=i[p.value.field];a.replace(`/collections/${e.collection}/${encodeURIComponent(t)}`)}}catch{}}async function Z(){if(!1!==L.value)try{await k(),!0===v.value?I():a.push(`/collections/${e.collection}/+`)}catch{}}}}),$g={class:"type-title"},Tg={class:"page-description"};var Pg=F_(Og,[["render",function(e,t,l,a,i,n){const o=S("collections-not-found"),s=S("v-skeleton-loader"),r=S("render-template"),d=S("v-icon"),c=S("v-button"),u=S("v-breadcrumb"),p=S("v-card-title"),m=S("v-card-actions"),f=S("v-card"),v=S("v-dialog"),_=S("save-options"),y=S("collections-navigation-search"),h=S("collections-navigation"),g=S("v-form"),b=S("v-card-text"),k=S("sidebar-detail"),w=S("revisions-drawer-detail"),x=S("comments-sidebar-detail"),V=S("private-view"),C=q("tooltip"),F=q("md");return e.error||e.collectionInfo.meta&&!0===e.collectionInfo.meta.singleton&&null!==e.primaryKey?(E(),A(o,{key:0})):(E(),A(V,{key:1,title:e.title},G({"title-outer:prepend":D((()=>[e.collectionInfo.meta&&!0===e.collectionInfo.meta.singleton?(E(),A(c,{key:0,class:"header-icon",rounded:"",icon:"",secondary:"",disabled:""},{default:D((()=>[I(d,{name:e.collectionInfo.icon},null,8,["name"])])),_:1})):z((E(),A(c,{key:1,class:"header-icon",rounded:"",icon:"",secondary:"",exact:"",onClick:t[0]||(t[0]=t=>e.router.back())},{default:D((()=>[I(d,{name:"arrow_back"})])),_:1},512)),[[C,e.t("back"),void 0,{bottom:!0}]])])),headline:D((()=>[e.collectionInfo.meta&&!0===e.collectionInfo.meta.singleton?(E(),A(u,{key:0,items:[{name:e.t("collections"),to:"/collections"}]},null,8,["items"])):(E(),A(u,{key:1,items:e.breadcrumb},null,8,["items"]))])),actions:D((()=>[e.isNew?B("",!0):(E(),A(v,{key:0,modelValue:e.confirmDelete,"onUpdate:modelValue":t[2]||(t[2]=t=>e.confirmDelete=t),disabled:!1===e.deleteAllowed,onEsc:t[3]||(t[3]=t=>e.confirmDelete=!1)},{activator:D((({on:t})=>[e.collectionInfo.meta&&!1===e.collectionInfo.meta.singleton?z((E(),A(c,{key:0,rounded:"",icon:"",class:"action-delete",disabled:null===e.item||!0!==e.deleteAllowed,onClick:t},{default:D((()=>[I(d,{name:"delete",outline:""})])),_:2},1032,["disabled","onClick"])),[[C,e.deleteAllowed?e.t("delete_label"):e.t("not_allowed"),void 0,{bottom:!0}]]):B("",!0)])),default:D((()=>[I(f,null,{default:D((()=>[I(p,null,{default:D((()=>[N(U(e.t("delete_are_you_sure")),1)])),_:1}),I(m,null,{default:D((()=>[I(c,{secondary:"",onClick:t[1]||(t[1]=t=>e.confirmDelete=!1)},{default:D((()=>[N(U(e.t("cancel")),1)])),_:1}),I(c,{kind:"danger",loading:e.deleting,onClick:e.deleteAndQuit},{default:D((()=>[N(U(e.t("delete_label")),1)])),_:1},8,["loading","onClick"])])),_:1})])),_:1})])),_:1},8,["modelValue","disabled"])),e.collectionInfo.meta&&e.collectionInfo.meta.archive_field&&!e.isNew?(E(),A(v,{key:1,modelValue:e.confirmArchive,"onUpdate:modelValue":t[5]||(t[5]=t=>e.confirmArchive=t),disabled:!1===e.archiveAllowed,onEsc:t[6]||(t[6]=t=>e.confirmArchive=!1)},{activator:D((({on:t})=>[e.collectionInfo.meta&&!1===e.collectionInfo.meta.singleton?z((E(),A(c,{key:0,rounded:"",icon:"",class:"action-archive",disabled:null===e.item||!0!==e.archiveAllowed,onClick:t},{default:D((()=>[I(d,{name:e.isArchived?"unarchive":"archive",outline:""},null,8,["name"])])),_:2},1032,["disabled","onClick"])),[[C,e.archiveTooltip,void 0,{bottom:!0}]]):B("",!0)])),default:D((()=>[I(f,null,{default:D((()=>[I(p,null,{default:D((()=>[N(U(e.isArchived?e.t("unarchive_confirm"):e.t("archive_confirm")),1)])),_:1}),I(m,null,{default:D((()=>[I(c,{secondary:"",onClick:t[4]||(t[4]=t=>e.confirmArchive=!1)},{default:D((()=>[N(U(e.t("cancel")),1)])),_:1}),I(c,{kind:"warning",loading:e.archiving,onClick:e.toggleArchive},{default:D((()=>[N(U(e.isArchived?e.t("unarchive"):e.t("archive")),1)])),_:1},8,["loading","onClick"])])),_:1})])),_:1})])),_:1},8,["modelValue","disabled"])):B("",!0),z(I(c,{rounded:"",icon:"",loading:e.saving,disabled:!1===e.isSavable||!1===e.saveAllowed,onClick:e.saveAndQuit},{"append-outer":D((()=>[e.collectionInfo.meta&&!0!==e.collectionInfo.meta.singleton&&!0===e.isSavable?(E(),A(_,{key:0,onSaveAndStay:e.saveAndStay,onSaveAndAddNew:e.saveAndAddNew,onSaveAsCopy:e.saveAsCopyAndNavigate},null,8,["onSaveAndStay","onSaveAndAddNew","onSaveAsCopy"])):B("",!0)])),default:D((()=>[I(d,{name:"check"})])),_:1},8,["loading","disabled","onClick"]),[[C,e.saveAllowed?e.t("save"):e.t("not_allowed"),void 0,{bottom:!0}]])])),navigation:D((()=>[I(y),I(h)])),sidebar:D((()=>[I(k,{icon:"info_outline",title:e.t("information"),close:""},{default:D((()=>[z(j("div",Tg,null,512),[[F,e.t("page_help_collections_item")]])])),_:1},8,["title"]),!1===e.isNew&&e.internalPrimaryKey&&e.revisionsAllowed&&"all"===e.accountabilityScope?(E(),A(w,{key:0,ref:"revisionsDrawerDetail",collection:e.collection,"primary-key":e.internalPrimaryKey,scope:e.accountabilityScope,onRevert:e.revert},null,8,["collection","primary-key","scope","onRevert"])):B("",!0),!1===e.isNew&&e.internalPrimaryKey?(E(),A(x,{key:1,collection:e.collection,"primary-key":e.internalPrimaryKey},null,8,["collection","primary-key"])):B("",!0)])),default:D((()=>[I(g,{ref:"form",modelValue:e.edits,"onUpdate:modelValue":t[7]||(t[7]=t=>e.edits=t),disabled:!e.isNew&&!1===e.updateAllowed,loading:e.loading,"initial-values":e.item,fields:e.fields,"primary-key":e.internalPrimaryKey,"validation-errors":e.validationErrors},null,8,["modelValue","disabled","loading","initial-values","fields","primary-key","validation-errors"]),I(v,{modelValue:e.confirmLeave,"onUpdate:modelValue":t[9]||(t[9]=t=>e.confirmLeave=t),onEsc:t[10]||(t[10]=t=>e.confirmLeave=!1)},{default:D((()=>[I(f,null,{default:D((()=>[I(p,null,{default:D((()=>[N(U(e.t("unsaved_changes")),1)])),_:1}),I(b,null,{default:D((()=>[N(U(e.t("unsaved_changes_copy")),1)])),_:1}),I(m,null,{default:D((()=>[I(c,{secondary:"",onClick:e.discardAndLeave},{default:D((()=>[N(U(e.t("discard_changes")),1)])),_:1},8,["onClick"]),I(c,{onClick:t[8]||(t[8]=t=>e.confirmLeave=!1)},{default:D((()=>[N(U(e.t("keep_editing")),1)])),_:1})])),_:1})])),_:1})])),_:1},8,["modelValue"])])),_:2},[e.collectionInfo.meta&&!0===e.collectionInfo.meta.singleton?{name:"title",fn:D((()=>[j("h1",$g,U(e.collectionInfo.name),1)]))}:!1===e.isNew&&e.collectionInfo.meta&&e.collectionInfo.meta.display_template?{name:"title",fn:D((()=>[e.loading||e.templateDataLoading?(E(),A(s,{key:0,class:"title-loader",type:"text"})):(E(),P("h1",{key:1,class:"type-title"},[I(r,{collection:e.collectionInfo.collection,item:e.templateData,template:e.collectionInfo.meta.display_template},null,8,["collection","item","template"])]))]))}:void 0]),1032,["title"]))}],["__scopeId","data-v-647da9a9"]]);var jg=F_(w({components:{CollectionRoute:mh,ItemRoute:Pg},props:{collection:{type:String,required:!0},bookmark:{type:String,default:null}},setup(e){const t=pI();return{isSingleton:V((()=>{var l;const a=t.getCollection(e.collection);return!0==!!(null==(l=null==a?void 0:a.meta)?void 0:l.singleton)}))}}}),[["render",function(e,t,l,a,i,n){return E(),A(L(e.isSingleton?"item-route":"collection-route"),{collection:e.collection,bookmark:e.bookmark,singleton:!!e.isSingleton||void 0},null,8,["collection","bookmark","singleton"])}]]);const Lg=w({name:"CollectionsOverview",components:{CollectionsNavigation:zy,CollectionsNavigationSearch:Hy},props:{},setup(){const{t:e}=x(),t=ie(),l=I_(),a=[{text:"",value:"icon",width:42,sortable:!1},{text:e("name"),value:"name",width:240},{text:e("note"),value:"note",width:360}],{navItems:i}=Py();return{t:e,tableHeaders:a,navItems:i,navigateToCollection:function(e){t.push(e.to)},isAdmin:V((()=>{var e;return!0===(null==(e=l.currentUser)?void 0:e.role.admin_access)}))}}}),Rg={class:"page-description"};const Mg=(e,t)=>{var l;if(null==(l=e.params)?void 0:l.collection)return"directus_users"===e.params.collection?e.params.primaryKey?`/users/${e.params.primaryKey}`:"/users":"directus_files"===e.params.collection?e.params.primaryKey?`/files/${e.params.primaryKey}`:"/files":"directus_activity"===e.params.collection?e.params.primaryKey?`/activity/${e.params.primaryKey}`:"/activity":"directus_webhooks"===e.params.collection?e.params.primaryKey?`/settings/webhooks/${e.params.primaryKey}`:"/settings/webhooks":"bookmark"in t.query&&"string"==typeof t.query.bookmark&&"bookmark"in e.query==!1&&e.params.collection===t.params.collection?Dy(e.fullPath,{bookmark:t.query.bookmark}):void 0};var Ug=Zt({id:"collections",name:"$t:collections",icon:"box",routes:[{name:"collections-overview",path:"",component:F_(Lg,[["render",function(e,t,l,a,i,n){const o=S("v-icon"),s=S("v-button"),r=S("collections-navigation-search"),d=S("collections-navigation"),c=S("v-table"),u=S("v-info"),p=S("sidebar-detail"),m=S("private-view"),f=q("md");return E(),A(m,{class:"collections-overview",title:e.t("collections")},{"title-outer:prepend":D((()=>[I(s,{class:"header-icon",rounded:"",disabled:"",icon:"",secondary:""},{default:D((()=>[I(o,{name:"box"})])),_:1})])),navigation:D((()=>[I(r),I(d)])),sidebar:D((()=>[I(p,{icon:"info_outline",title:e.t("information"),close:""},{default:D((()=>[z(j("div",Rg,null,512),[[f,e.t("page_help_collections_overview")]])])),_:1},8,["title"])])),default:D((()=>[e.navItems.length>0?(E(),A(c,{key:0,headers:e.tableHeaders,"onUpdate:headers":t[0]||(t[0]=t=>e.tableHeaders=t),items:e.navItems,"show-resize":"","fixed-header":"","onClick:row":e.navigateToCollection},{"item.icon":D((({item:e})=>[I(o,{class:"icon",name:e.icon,color:e.color},null,8,["name","color"])])),_:2},1032,["headers","items","onClick:row"])):(E(),A(u,{key:1,icon:"box",title:e.t("no_collections"),center:""},G({default:D((()=>[e.isAdmin?(E(),P(R,{key:0},[N(U(e.t("no_collections_copy_admin")),1)],64)):(E(),P(R,{key:1},[N(U(e.t("no_collections_copy")),1)],64))])),_:2},[e.isAdmin?{name:"append",fn:D((()=>[I(s,{to:"/settings/data-model/+"},{default:D((()=>[N(U(e.t("create_collection")),1)])),_:1})]))}:void 0]),1032,["title"]))])),_:1},8,["title"])}],["__scopeId","data-v-662b3fbb"]])},{path:":collection",component:Iy,children:[{name:"collections-collection",path:"",component:jg,props:e=>({collection:e.params.collection,bookmark:e.query.bookmark}),beforeEnter:Mg},{name:"collections-item",path:":primaryKey",component:Pg,props:!0,beforeEnter:Mg}]},{name:"collections-item-not-found",path:":_(.+)+",component:Xy,beforeEnter:Mg}],order:5}),Ng=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:Ug}),Bg=[{name:"concepts",path:"concepts",children:[{name:"activity",path:"concepts/activity",import:()=>ul((()=>import("./assets/activity.72548c57.js")),[])},{name:"application",path:"concepts/application",import:()=>ul((()=>import("./assets/application.a6a125c0.js")),[])},{name:"collections",path:"concepts/collections",import:()=>ul((()=>import("./assets/collections.39da8e48.js")),[])},{name:"databases",path:"concepts/databases",import:()=>ul((()=>import("./assets/databases.3b990a09.js")),[])},{name:"displays",path:"concepts/displays",import:()=>ul((()=>import("./assets/displays.446b615c.js")),[])},{name:"extensions",path:"concepts/extensions",import:()=>ul((()=>import("./assets/extensions.eecdc321.js")),[])},{name:"fields",path:"concepts/fields",import:()=>ul((()=>import("./assets/fields.44a18260.js")),[])},{name:"files",path:"concepts/files",import:()=>ul((()=>import("./assets/files.179b05e9.js")),[])},{name:"interfaces",path:"concepts/interfaces",import:()=>ul((()=>import("./assets/interfaces.d4446a7e.js")),[])},{name:"items",path:"concepts/items",import:()=>ul((()=>import("./assets/items.6cd5c670.js")),[])},{name:"layouts",path:"concepts/layouts",import:()=>ul((()=>import("./assets/layouts.5ef53224.js")),[])},{name:"modules",path:"concepts/modules",import:()=>ul((()=>import("./assets/modules.16925784.js")),[])},{name:"permissions",path:"concepts/permissions",import:()=>ul((()=>import("./assets/permissions.79fac103.js")),[])},{name:"projects",path:"concepts/projects",import:()=>ul((()=>import("./assets/projects.a52ff43f.js")),[])},{name:"relationships",path:"concepts/relationships",import:()=>ul((()=>import("./assets/relationships.3fb03acd.js")),[])},{name:"revisions",path:"concepts/revisions",import:()=>ul((()=>import("./assets/revisions.ca72202a.js")),[])},{name:"roles",path:"concepts/roles",import:()=>ul((()=>import("./assets/roles.73681928.js")),[])},{name:"translations",path:"concepts/translations",import:()=>ul((()=>import("./assets/translations.5e749144.js")),[])},{name:"types",path:"concepts/types",import:()=>ul((()=>import("./assets/types.77727db5.js")),[])},{name:"users",path:"concepts/users",import:()=>ul((()=>import("./assets/users.bf3f1085.js")),[])}]},{name:"contributing",path:"contributing",children:[{name:"codebase-overview",path:"contributing/codebase-overview",import:()=>ul((()=>import("./assets/codebase-overview.9bd9f4d1.js")),[])},{name:"github-ci",path:"contributing/github-ci",import:()=>ul((()=>import("./assets/github-ci.0d5bf511.js")),[])},{name:"introduction",path:"contributing/introduction",import:()=>ul((()=>import("./assets/introduction.7c47e334.js")),[])},{name:"running-locally",path:"contributing/running-locally",import:()=>ul((()=>import("./assets/running-locally.59034815.js")),[])},{name:"translations",path:"contributing/translations",import:()=>ul((()=>import("./assets/translations.4b088ceb.js")),[])}]},{name:"getting-started",path:"getting-started",children:[{name:"backing-directus",path:"getting-started/backing-directus",import:()=>ul((()=>import("./assets/backing-directus.0f07d868.js")),[])},{name:"installation",path:"getting-started/installation",import:()=>ul((()=>import("./assets/installation.6a1c6e0a.js")),[])},{name:"introduction",path:"getting-started/introduction",import:()=>ul((()=>import("./assets/introduction.82c9d62c.js")),[])},{name:"quickstart",path:"getting-started/quickstart",import:()=>ul((()=>import("./assets/quickstart.9b64a2cf.js")),[])},{name:"support",path:"getting-started/support",import:()=>ul((()=>import("./assets/support.f1e9f0ed.js")),[])}]},{name:"guides",path:"guides",children:[{name:"api-config",path:"guides/api-config",import:()=>ul((()=>import("./assets/api-config.6e53e3a6.js")),[])},{name:"api-endpoints",path:"guides/api-endpoints",import:()=>ul((()=>import("./assets/api-endpoints.4b802644.js")),[])},{name:"api-hooks",path:"guides/api-hooks",import:()=>ul((()=>import("./assets/api-hooks.722161c6.js")),[])},{name:"collections",path:"guides/collections",import:()=>ul((()=>import("./assets/collections.f11b9b9c.js")),[])},{name:"displays",path:"guides/displays",import:()=>ul((()=>import("./assets/displays.b3a02466.js")),[])},{name:"email-templates",path:"guides/email-templates",import:()=>ul((()=>import("./assets/email-templates.9c6b9c98.js")),[])},{name:"fields",path:"guides/fields",import:()=>ul((()=>import("./assets/fields.da08b708.js")),[])},{name:"files",path:"guides/files",import:()=>ul((()=>import("./assets/files.88561a66.js")),[])},{name:"installation",path:"guides/installation",children:[{name:"aws",path:"guides/installation/aws",import:()=>ul((()=>import("./assets/aws.d3a30c60.js")),[])},{name:"cli",path:"guides/installation/cli",import:()=>ul((()=>import("./assets/cli.4dd146ce.js")),[])},{name:"digitalocean-app-platform",path:"guides/installation/digitalocean-app-platform",import:()=>ul((()=>import("./assets/digitalocean-app-platform.82869f65.js")),[])},{name:"docker",path:"guides/installation/docker",import:()=>ul((()=>import("./assets/docker.826882b7.js")),[])},{name:"iis",path:"guides/installation/iis",import:()=>ul((()=>import("./assets/iis.8c7caaf4.js")),[])},{name:"manual",path:"guides/installation/manual",import:()=>ul((()=>import("./assets/manual.b9347115.js")),[])},{name:"plesk",path:"guides/installation/plesk",import:()=>ul((()=>import("./assets/plesk.71256a18.js")),[])},{name:"ubuntu",path:"guides/installation/ubuntu",import:()=>ul((()=>import("./assets/ubuntu.e658b02e.js")),[])}]},{name:"interfaces",path:"guides/interfaces",import:()=>ul((()=>import("./assets/interfaces.7e32c79b.js")),[])},{name:"items",path:"guides/items",import:()=>ul((()=>import("./assets/items.58efaab4.js")),[])},{name:"layouts",path:"guides/layouts",import:()=>ul((()=>import("./assets/layouts.3d939907.js")),[])},{name:"migrating-from-v8",path:"guides/migrating-from-v8",import:()=>ul((()=>import("./assets/migrating-from-v8.b603513c.js")),[])},{name:"migrations",path:"guides/migrations",import:()=>ul((()=>import("./assets/migrations.c3956b96.js")),[])},{name:"modules",path:"guides/modules",import:()=>ul((()=>import("./assets/modules.e999502b.js")),[])},{name:"permissions",path:"guides/permissions",import:()=>ul((()=>import("./assets/permissions.5b58b293.js")),[])},{name:"presets",path:"guides/presets",import:()=>ul((()=>import("./assets/presets.582eb0e2.js")),[])},{name:"projects",path:"guides/projects",import:()=>ul((()=>import("./assets/projects.e70c5150.js")),[])},{name:"roles",path:"guides/roles",import:()=>ul((()=>import("./assets/roles.f881779b.js")),[])},{name:"styles",path:"guides/styles",import:()=>ul((()=>import("./assets/styles.da412f54.js")),[])},{name:"users",path:"guides/users",import:()=>ul((()=>import("./assets/users.8d7f8fbe.js")),[])},{name:"webhooks",path:"guides/webhooks",import:()=>ul((()=>import("./assets/webhooks.d0a3bd1b.js")),[])}]},{name:"reference",path:"reference",children:[{name:"api",path:"reference/api",children:[{name:"assets",path:"reference/api/assets",import:()=>ul((()=>import("./assets/assets.b7ea4f51.js")),[])},{name:"authentication",path:"reference/api/authentication",import:()=>ul((()=>import("./assets/authentication.da82a1de.js")),[])},{name:"introduction",path:"reference/api/introduction",import:()=>ul((()=>import("./assets/introduction.2964a2db.js")),[])},{name:"items",path:"reference/api/items",import:()=>ul((()=>import("./assets/items.416ca270.js")),[])},{name:"query",path:"reference/api/query",import:()=>ul((()=>import("./assets/query.483cb38d.js")),[])},{name:"system",path:"reference/api/system",children:[{name:"activity",path:"reference/api/system/activity",import:()=>ul((()=>import("./assets/activity.1fe1b53f.js")),[])},{name:"authentication",path:"reference/api/system/authentication",import:()=>ul((()=>import("./assets/authentication.766612f0.js")),[])},{name:"collections",path:"reference/api/system/collections",import:()=>ul((()=>import("./assets/collections.6094fb06.js")),[])},{name:"extensions",path:"reference/api/system/extensions",import:()=>ul((()=>import("./assets/extensions.2ad2a30d.js")),[])},{name:"fields",path:"reference/api/system/fields",import:()=>ul((()=>import("./assets/fields.faf49a83.js")),[])},{name:"files",path:"reference/api/system/files",import:()=>ul((()=>import("./assets/files.b1d688c0.js")),[])},{name:"folders",path:"reference/api/system/folders",import:()=>ul((()=>import("./assets/folders.50672346.js")),[])},{name:"permissions",path:"reference/api/system/permissions",import:()=>ul((()=>import("./assets/permissions.de6d9782.js")),[])},{name:"presets",path:"reference/api/system/presets",import:()=>ul((()=>import("./assets/presets.0b1a4454.js")),[])},{name:"relations",path:"reference/api/system/relations",import:()=>ul((()=>import("./assets/relations.b79ed008.js")),[])},{name:"revisions",path:"reference/api/system/revisions",import:()=>ul((()=>import("./assets/revisions.387293dc.js")),[])},{name:"roles",path:"reference/api/system/roles",import:()=>ul((()=>import("./assets/roles.a8758764.js")),[])},{name:"server",path:"reference/api/system/server",import:()=>ul((()=>import("./assets/server.c929053e.js")),[])},{name:"settings",path:"reference/api/system/settings",import:()=>ul((()=>import("./assets/settings.4a73dbd3.js")),[])},{name:"users",path:"reference/api/system/users",import:()=>ul((()=>import("./assets/users.4c2a74b1.js")),[])},{name:"utilities",path:"reference/api/system/utilities",import:()=>ul((()=>import("./assets/utilities.63c3b9bc.js")),[])},{name:"webhooks",path:"reference/api/system/webhooks",import:()=>ul((()=>import("./assets/webhooks.80a43c16.js")),[])}]}]},{name:"app",path:"reference/app",children:[{name:"app",path:"reference/app/app",import:()=>ul((()=>import("./assets/app.3a60dc84.js")),[])},{name:"components",path:"reference/app/components",children:[{name:"index",path:"reference/app/components/index",import:()=>ul((()=>import("./assets/index.97d15b1e.js")),[])},{name:"transition-bounce",path:"reference/app/components/transition-bounce",import:()=>ul((()=>import("./assets/transition-bounce.0dac14ef.js")),[])},{name:"transition-dialog",path:"reference/app/components/transition-dialog",import:()=>ul((()=>import("./assets/transition-dialog.646a4639.js")),[])},{name:"transition-expand",path:"reference/app/components/transition-expand",import:()=>ul((()=>import("./assets/transition-expand.94436b0e.js")),[])},{name:"v-avatar",path:"reference/app/components/v-avatar",import:()=>ul((()=>import("./assets/v-avatar.ddbd3a0b.js")),[])},{name:"v-badge",path:"reference/app/components/v-badge",import:()=>ul((()=>import("./assets/v-badge.b7d5c26d.js")),[])},{name:"v-breadcrumb",path:"reference/app/components/v-breadcrumb",import:()=>ul((()=>import("./assets/v-breadcrumb.f966bc16.js")),[])},{name:"v-button",path:"reference/app/components/v-button",import:()=>ul((()=>import("./assets/v-button.d616f6af.js")),[])},{name:"v-card-actions",path:"reference/app/components/v-card-actions",import:()=>ul((()=>import("./assets/v-card-actions.a7c96543.js")),[])},{name:"v-card-subtitle",path:"reference/app/components/v-card-subtitle",import:()=>ul((()=>import("./assets/v-card-subtitle.f292db2d.js")),[])},{name:"v-card-text",path:"reference/app/components/v-card-text",import:()=>ul((()=>import("./assets/v-card-text.bc50a565.js")),[])},{name:"v-card-title",path:"reference/app/components/v-card-title",import:()=>ul((()=>import("./assets/v-card-title.d375331c.js")),[])},{name:"v-card",path:"reference/app/components/v-card",import:()=>ul((()=>import("./assets/v-card.c49a2d00.js")),[])},{name:"v-checkbox",path:"reference/app/components/v-checkbox",import:()=>ul((()=>import("./assets/v-checkbox.80dffd6a.js")),[])},{name:"v-chip",path:"reference/app/components/v-chip",import:()=>ul((()=>import("./assets/v-chip.6fc8e6e6.js")),[])},{name:"v-detail",path:"reference/app/components/v-detail",import:()=>ul((()=>import("./assets/v-detail.d53fd93b.js")),[])},{name:"v-dialog",path:"reference/app/components/v-dialog",import:()=>ul((()=>import("./assets/v-dialog.37bfe2dc.js")),[])},{name:"v-divider",path:"reference/app/components/v-divider",import:()=>ul((()=>import("./assets/v-divider.40e08068.js")),[])},{name:"v-drawer",path:"reference/app/components/v-drawer",import:()=>ul((()=>import("./assets/v-drawer.b2bcfa38.js")),[])},{name:"v-error",path:"reference/app/components/v-error",import:()=>ul((()=>import("./assets/v-error.ed7ba070.js")),[])},{name:"v-fancy-select",path:"reference/app/components/v-fancy-select",import:()=>ul((()=>import("./assets/v-fancy-select.97b170eb.js")),[])},{name:"v-field-select",path:"reference/app/components/v-field-select",import:()=>ul((()=>import("./assets/v-field-select.eb6fe4c7.js")),[])},{name:"v-field-template",path:"reference/app/components/v-field-template",import:()=>ul((()=>import("./assets/v-field-template.02843196.js")),[])},{name:"v-form",path:"reference/app/components/v-form",import:()=>ul((()=>import("./assets/v-form.4c93aadc.js")),[])},{name:"v-hover",path:"reference/app/components/v-hover",import:()=>ul((()=>import("./assets/v-hover.a43ba6ed.js")),[])},{name:"v-icon",path:"reference/app/components/v-icon",import:()=>ul((()=>import("./assets/v-icon.649b6c2d.js")),[])},{name:"v-info",path:"reference/app/components/v-info",import:()=>ul((()=>import("./assets/v-info.b4fbbf43.js")),[])},{name:"v-input",path:"reference/app/components/v-input",import:()=>ul((()=>import("./assets/v-input.8ce47c5e.js")),[])},{name:"v-item-group",path:"reference/app/components/v-item-group",import:()=>ul((()=>import("./assets/v-item-group.3787e8a2.js")),[])},{name:"v-item",path:"reference/app/components/v-item",import:()=>ul((()=>import("./assets/v-item.2b1e4605.js")),[])},{name:"v-list-group",path:"reference/app/components/v-list-group",import:()=>ul((()=>import("./assets/v-list-group.e8ad3f23.js")),[])},{name:"v-list-item-content",path:"reference/app/components/v-list-item-content",import:()=>ul((()=>import("./assets/v-list-item-content.467baa80.js")),[])},{name:"v-list-item-hint",path:"reference/app/components/v-list-item-hint",import:()=>ul((()=>import("./assets/v-list-item-hint.e1ef23b7.js")),[])},{name:"v-list-item-icon",path:"reference/app/components/v-list-item-icon",import:()=>ul((()=>import("./assets/v-list-item-icon.3818ad76.js")),[])},{name:"v-list-item",path:"reference/app/components/v-list-item",import:()=>ul((()=>import("./assets/v-list-item.1e14456c.js")),[])},{name:"v-list",path:"reference/app/components/v-list",import:()=>ul((()=>import("./assets/v-list.599f59a4.js")),[])},{name:"v-menu",path:"reference/app/components/v-menu",import:()=>ul((()=>import("./assets/v-menu.a2057b10.js")),[])},{name:"v-notice",path:"reference/app/components/v-notice",import:()=>ul((()=>import("./assets/v-notice.70e62c5c.js")),[])},{name:"v-overlay",path:"reference/app/components/v-overlay",import:()=>ul((()=>import("./assets/v-overlay.cf9541c3.js")),[])},{name:"v-pagination",path:"reference/app/components/v-pagination",import:()=>ul((()=>import("./assets/v-pagination.f4ef8ea2.js")),[])},{name:"v-progress-circular",path:"reference/app/components/v-progress-circular",import:()=>ul((()=>import("./assets/v-progress-circular.504f7762.js")),[])},{name:"v-progress-linear",path:"reference/app/components/v-progress-linear",import:()=>ul((()=>import("./assets/v-progress-linear.14a89c04.js")),[])},{name:"v-radio",path:"reference/app/components/v-radio",import:()=>ul((()=>import("./assets/v-radio.e14b0176.js")),[])},{name:"v-select",path:"reference/app/components/v-select",import:()=>ul((()=>import("./assets/v-select.71bc01e1.js")),[])},{name:"v-sheet",path:"reference/app/components/v-sheet",import:()=>ul((()=>import("./assets/v-sheet.1c663273.js")),[])},{name:"v-skeleton-loader",path:"reference/app/components/v-skeleton-loader",import:()=>ul((()=>import("./assets/v-skeleton-loader.4df1233b.js")),[])},{name:"v-slider",path:"reference/app/components/v-slider",import:()=>ul((()=>import("./assets/v-slider.cab7c4b0.js")),[])},{name:"v-switch",path:"reference/app/components/v-switch",import:()=>ul((()=>import("./assets/v-switch.6c3a9abc.js")),[])},{name:"v-tab-item",path:"reference/app/components/v-tab-item",import:()=>ul((()=>import("./assets/v-tab-item.735d62d2.js")),[])},{name:"v-tab",path:"reference/app/components/v-tab",import:()=>ul((()=>import("./assets/v-tab.f25b7f9a.js")),[])},{name:"v-table",path:"reference/app/components/v-table",import:()=>ul((()=>import("./assets/v-table.9439a256.js")),[])},{name:"v-tabs-items",path:"reference/app/components/v-tabs-items",import:()=>ul((()=>import("./assets/v-tabs-items.a0069f0d.js")),[])},{name:"v-tabs",path:"reference/app/components/v-tabs",import:()=>ul((()=>import("./assets/v-tabs.4fec1d74.js")),[])},{name:"v-text-overflow",path:"reference/app/components/v-text-overflow",import:()=>ul((()=>import("./assets/v-text-overflow.a5ad8166.js")),[])},{name:"v-textarea",path:"reference/app/components/v-textarea",import:()=>ul((()=>import("./assets/v-textarea.c7bbbcf4.js")),[])},{name:"v-upload",path:"reference/app/components/v-upload",import:()=>ul((()=>import("./assets/v-upload.c83c748e.js")),[])}]}]},{name:"command-line-interface",path:"reference/command-line-interface",import:()=>ul((()=>import("./assets/command-line-interface.c3be8635.js")),[])},{name:"common-issues",path:"reference/common-issues",import:()=>ul((()=>import("./assets/common-issues.0fa1fdf5.js")),[])},{name:"config-files",path:"reference/config-files",import:()=>ul((()=>import("./assets/config-files.09e1421b.js")),[])},{name:"environment-variables",path:"reference/environment-variables",import:()=>ul((()=>import("./assets/environment-variables.ff810bc7.js")),[])},{name:"error-codes",path:"reference/error-codes",import:()=>ul((()=>import("./assets/error-codes.d3be1c13.js")),[])},{name:"field-transforms",path:"reference/field-transforms",import:()=>ul((()=>import("./assets/field-transforms.014eabd3.js")),[])},{name:"filter-rules",path:"reference/filter-rules",import:()=>ul((()=>import("./assets/filter-rules.d0fbfd5c.js")),[])},{name:"sdk",path:"reference/sdk",import:()=>ul((()=>import("./assets/sdk.8b48ca9b.js")),[])}]}];const qg=w({name:"NavigationListItem",props:{section:{type:Object,default:null},dense:{type:Boolean,default:!1},scope:{type:String,default:null}}});var zg=[{name:"Getting Started",icon:"play_circle_outline",to:"/getting-started",children:[{to:"/getting-started/introduction",name:"Introduction"},{to:"/getting-started/support",name:"Help & Support"},{to:"/getting-started/backing-directus",name:"Backing Directus"}]},{name:"Concepts",icon:"school",to:"/concepts",children:[{to:"/concepts/activity",name:"Activity"},{to:"/concepts/application",name:"Application"},{to:"/concepts/collections",name:"Collections"},{to:"/concepts/databases",name:"Databases"},{to:"/concepts/displays",name:"Displays"},{to:"/concepts/extensions",name:"Extensions"},{to:"/concepts/fields",name:"Fields"},{to:"/concepts/files",name:"Files"},{to:"/concepts/interfaces",name:"Interfaces"},{to:"/concepts/items",name:"Items"},{to:"/concepts/layouts",name:"Layouts"},{to:"/concepts/modules",name:"Modules"},{to:"/concepts/permissions",name:"Permissions"},{to:"/concepts/projects",name:"Projects"},{to:"/concepts/relationships",name:"Relationships"},{to:"/concepts/revisions",name:"Revisions"},{to:"/concepts/roles",name:"Roles"},{to:"/concepts/translations",name:"Translations"},{to:"/concepts/types",name:"Types"},{to:"/concepts/users",name:"Users"}]},{name:"Guides",to:"/guides",icon:"article",children:[{to:"/guides/api-config",name:"API Config"},{to:"/guides/api-endpoints",name:"API Endpoints"},{to:"/guides/api-hooks",name:"API Hooks"},{to:"/guides/collections",name:"Collections"},{to:"/guides/displays",name:"Displays"},{to:"/guides/email-templates",name:"Email Templates"},{to:"/guides/fields",name:"Fields"},{to:"/guides/files",name:"Files"},{to:"/guides/interfaces",name:"Interfaces"},{to:"/guides/items",name:"Items"},{to:"/guides/layouts",name:"Layouts"},{to:"/guides/migrations",name:"Migrations"},{to:"/guides/modules",name:"Modules"},{to:"/guides/permissions",name:"Permissions"},{to:"/guides/presets",name:"Presets"},{to:"/guides/projects",name:"Projects"},{to:"/guides/roles",name:"Roles"},{to:"/guides/styles",name:"Styles"},{to:"/guides/users",name:"Users"},{to:"/guides/webhooks",name:"Webhooks"}]},{name:"Reference",icon:"code",to:"/reference",children:[{to:"/reference/command-line-interface",name:"Command Line Interface"},{to:"/reference/environment-variables",name:"Environment Variables"},{to:"/reference/config-files",name:"Config Files"},{to:"/reference/error-codes",name:"Error Codes"},{to:"/reference/field-transforms",name:"Field Transforms"},{to:"/reference/filter-rules",name:"Filter Rules"},{to:"/reference/sdk",name:"JavaScript SDK"}]},{name:"API Reference",icon:"api",to:"/reference/api",children:[{to:"/reference/api/introduction",name:"Introduction"},{to:"/reference/api/authentication",name:"Authentication"},{name:"Global Query Parameters",to:"/reference/api/query"},{name:"Data Access",to:"/reference/api/items"},{name:"Assets",to:"/reference/api/assets"},{name:"System",to:"/reference/api/system",children:[{to:"/reference/api/system/activity",name:"Activity"},{to:"/reference/api/system/authentication",name:"Authentication"},{to:"/reference/api/system/collections",name:"Collections"},{to:"/reference/api/system/extensions",name:"Extensions"},{to:"/reference/api/system/fields",name:"Fields"},{to:"/reference/api/system/files",name:"Files"},{to:"/reference/api/system/folders",name:"Folders"},{to:"/reference/api/system/permissions",name:"Permissions"},{to:"/reference/api/system/presets",name:"Presets"},{to:"/reference/api/system/relations",name:"Relations"},{to:"/reference/api/system/revisions",name:"Revisions"},{to:"/reference/api/system/roles",name:"Roles"},{to:"/reference/api/system/server",name:"Server"},{to:"/reference/api/system/settings",name:"Settings"},{to:"/reference/api/system/users",name:"Users"},{to:"/reference/api/system/utilities",name:"Utilities"},{to:"/reference/api/system/webhooks",name:"Webhooks"}]}]}];function Kg(e){const t=e.substr(1).split("/");if(0===t.length)return[];const l=["/"+t[0]];for(let a=1;a<t.length;a++)l.push(l[a-1]+"/"+t[a]);return"/reference"===l[0]&&"/reference/api"===l[1]&&l.shift(),l}var Wg=F_(w({components:{NavigationItem:F_(qg,[["render",function(e,t,l,a,i,n){const o=S("v-divider"),s=S("v-icon"),r=S("v-list-item-icon"),d=S("v-text-overflow"),c=S("v-list-item-content"),u=S("navigation-list-item"),p=S("v-item-group"),m=S("v-list-group"),f=S("v-list-item");return e.section.divider?(E(),A(o,{key:0})):e.section.children?(E(),A(m,{key:1,scope:e.scope,dense:e.dense,multiple:!1,value:e.section.to},{activator:D((()=>[void 0!==e.section.icon?(E(),A(r,{key:0},{default:D((()=>[I(s,{name:e.section.icon},null,8,["name"])])),_:1})):B("",!0),I(c,null,{default:D((()=>[I(d,{text:e.section.name},null,8,["text"])])),_:1})])),default:D((()=>[I(p,{scope:e.section.to},{default:D((()=>[(E(!0),P(R,null,M(e.section.children,((t,l)=>(E(),A(u,{key:l,section:t,dense:"",scope:e.section.to},null,8,["section","scope"])))),128))])),_:1},8,["scope"])])),_:1},8,["scope","dense","value"])):(E(),A(f,{key:2,to:`/docs${e.section.to}`,dense:e.dense,value:e.section.to},{default:D((()=>[void 0!==e.section.icon?(E(),A(r,{key:0},{default:D((()=>[I(s,{name:e.section.icon},null,8,["name"])])),_:1})):B("",!0),I(c,null,{default:D((()=>[I(d,{text:e.section.name},null,8,["text"])])),_:1})])),_:1},8,["to","dense","value"]))}]])},props:{path:{type:String,default:"/docs"}},setup(e){const t=F(null);return O((()=>e.path),(e=>{null!==e&&(t.value=[...t.value||[],...Kg(e.replace("/docs",""))])}),{immediate:!0}),{navSections:zg,selection:t}}}),[["render",function(e,t,l,a,i,n){const o=S("navigation-item"),s=S("v-list");return E(),A(s,{modelValue:e.selection,"onUpdate:modelValue":t[0]||(t[0]=t=>e.selection=t),large:"",mandatory:!1},{default:D((()=>[(E(!0),P(R,null,M(e.navSections,(e=>(E(),A(o,{key:e.name,section:e},null,8,["section"])))),128))])),_:1},8,["modelValue"])}]]);const Hg=w({name:"NotFound",components:{DocsNavigation:Wg},setup(){const{t:e}=x();return{t:e,route:se()}}}),Gg={class:"not-found"};var Qg=F_(Hg,[["render",function(e,t,l,a,i,n){const o=S("docs-navigation"),s=S("v-info"),r=S("private-view");return E(),A(r,{title:e.t("page_not_found")},{navigation:D((()=>[I(o,{path:e.route.path},null,8,["path"])])),default:D((()=>[j("div",Gg,[I(s,{title:e.t("page_not_found"),icon:"not_interested"},{default:D((()=>[N(U(e.t("page_not_found_body")),1)])),_:1},8,["title"])])])),_:1},8,["title"])}],["__scopeId","data-v-736afbfa"]]);const Xg=Ee((()=>ul((()=>import("./assets/markdown.a60f99ec.js")),["assets/markdown.a60f99ec.js","assets/markdown.1a05cb93.css","assets/vendor.162b55e9.js","assets/vendor.de5758fd.css","assets/use-sync.6d51d5e5.js"])));const Jg=w({name:"StaticDocs",components:{DocsNavigation:Wg,Markdown:Xg},setup(){const{t:e}=x(),t=se(),l=F(""),a=V((()=>{const e=l.value.split("\n").find((e=>e.startsWith("# ")));return void 0===e?null:e.substring(2).replaceAll("<small></small>","").trim()})),i=V((()=>{const e=l.value.split("\n").find((e=>e.startsWith("# ")));return(null==e?void 0:e.includes("<small></small>"))||!1})),n=V((()=>{const e=l.value.split("\n");for(let t=0;t<e.length;t++)if(e[t].startsWith("# ")){e.splice(t,1);break}return e.join("\n")}));return O((()=>t.path),(async()=>{l.value=await async function(e){const t=e.meta.import;return(await t()).default}(t)}),{immediate:!0,flush:"post"}),{t:e,route:t,markdown:l,title:a,markdownWithoutTitle:n,modularExtension:i}}}),Yg={class:"type-title"},Zg=N("Modular Extension"),eb={class:"docs-content selectable"},tb={class:"page-description"};var lb=F_(Jg,[["render",function(e,t,l,a,i,n){const o=S("v-icon"),s=S("v-button"),r=S("v-chip"),d=S("docs-navigation"),c=S("markdown"),u=S("sidebar-detail"),p=S("private-view"),m=q("md");return E(),A(p,{title:e.title},{"title-outer:prepend":D((()=>[I(s,{rounded:"",disabled:"",icon:""},{default:D((()=>[I(o,{name:"info"})])),_:1})])),title:D((()=>[j("h1",Yg,U(e.title),1),e.modularExtension?(E(),A(r,{key:0,disabled:"",small:""},{default:D((()=>[Zg])),_:1})):B("",!0)])),navigation:D((()=>[I(d,{path:e.route.path},null,8,["path"])])),sidebar:D((()=>[I(u,{icon:"info_outline",title:e.t("information"),close:""},{default:D((()=>[z(j("div",tb,null,512),[[m,e.t("page_help_docs_global")]])])),_:1},8,["title"])])),default:D((()=>[j("div",eb,[I(c,null,{default:D((()=>[N(U(e.markdownWithoutTitle),1)])),_:1})])])),_:1},8,["title"])}],["__scopeId","data-v-760ecd70"]]),ab=Zt({id:"docs",name:"$t:documentation",icon:"info",routes:[{path:"",redirect:"/docs/getting-started/introduction/"},...function e(t){const l=[];for(const a of t)"children"in a?(l.push({path:a.path,redirect:`/docs${a.children[0].path}`}),l.push(...e(a.children))):l.push({name:`docs-${a.path.replace("/","-")}`,path:a.path,component:lb,meta:{import:a.import}});return l}(Bg),{path:":_(.+)+",component:Qg}],order:30});var ib=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:ab});var nb=F_(w({props:{folder:{type:String,default:null}},setup(e){const{t:t}=x(),l=ie();return{t:t,isOpen:vy(),close:function(){l.push(e.folder?{path:`/files/folders/${e.folder}`}:{path:"/files"})}}}}),[["render",function(e,t,l,a,i,n){const o=S("v-card-title"),s=S("v-upload"),r=S("v-card-text"),d=S("v-button"),c=S("v-card-actions"),u=S("v-card"),p=S("v-dialog");return E(),A(p,{"model-value":e.isOpen,"onUpdate:modelValue":e.close,onEsc:e.close},{default:D((()=>[I(u,null,{default:D((()=>[I(o,null,{default:D((()=>[N(U(e.t("add_file")),1)])),_:1}),I(r,null,{default:D((()=>[I(s,{preset:{folder:e.folder},multiple:"","from-url":"",onInput:e.close},null,8,["preset","onInput"])])),_:1}),I(c,null,{default:D((()=>[I(d,{secondary:"",onClick:e.close},{default:D((()=>[N(U(e.t("done")),1)])),_:1},8,["onClick"])])),_:1})])),_:1})])),_:1},8,["model-value","onUpdate:modelValue","onEsc"])}]]);let ob=null,sb=null,rb=null,db=null,cb=null;function ub(){return null===ob&&(ob=F(!1)),null===sb&&(sb=F(null)),null===rb&&(rb=F(null)),null===cb&&(cb=F(null)),null===db&&(db=F(["root"])),null===sb.value&&!1===ob.value&&e(),{loading:ob,folders:sb,nestedFolders:rb,error:cb,fetchFolders:e,openFolders:db};async function e(){if(null!==ob&&null!==sb&&null!==rb&&null!==cb){ob.value=!0;try{const t=await dI.get("/folders",{params:{limit:-1,sort:"name"}});sb.value=t.data.data,rb.value=(e=t.data.data).map((t=>pb(t,e))).filter((e=>null===e.parent))}catch(t){cb.value=t}finally{ob.value=!1}var e}}}function pb(e,t){const l=s({},e),a=t.filter((t=>t.parent===e.id&&t.id!==e.id)).map((e=>pb(e,t)));return a.length>0&&(l.children=a),l}const mb=w({name:"FolderPickerListItem",props:{folder:{type:Object,required:!0},currentFolder:{type:String,default:null},clickHandler:{type:Function,default:()=>{}},disabled:{type:Boolean,default:!1},disabledFolders:{type:Array,default:()=>[]}}}),fb={class:"folder-picker-list-item"};const vb=w({components:{FolderPickerListItem:F_(mb,[["render",function(e,t,l,a,i,n){const o=S("v-icon"),s=S("v-list-item-icon"),r=S("v-list-item-content"),d=S("v-list-item"),c=S("folder-picker-list-item",!0),u=S("v-list-group");return E(),P("div",fb,[0===e.folder.children.length?(E(),A(d,{key:0,clickable:"",active:e.currentFolder===e.folder.id,disabled:e.disabled,onClick:t[0]||(t[0]=t=>e.clickHandler(e.folder.id))},{default:D((()=>[I(s,null,{default:D((()=>[I(o,{name:e.currentFolder===e.folder.id?"folder_open":"folder"},null,8,["name"])])),_:1}),I(r,null,{default:D((()=>[N(U(e.folder.name),1)])),_:1})])),_:1},8,["active","disabled"])):(E(),A(u,{key:1,clickable:"",active:e.currentFolder===e.folder.id,disabled:e.disabled,onClick:t[1]||(t[1]=t=>e.clickHandler(e.folder.id))},{activator:D((()=>[I(s,null,{default:D((()=>[I(o,{name:e.currentFolder===e.folder.id?"folder_open":"folder"},null,8,["name"])])),_:1}),I(r,null,{default:D((()=>[N(U(e.folder.name),1)])),_:1})])),default:D((()=>[(E(!0),P(R,null,M(e.folder.children,(t=>(E(),A(c,{key:t.id,folder:t,"current-folder":e.currentFolder,"click-handler":e.clickHandler,disabled:e.disabledFolders.includes(t.id),"disabled-folders":e.disabledFolders},null,8,["folder","current-folder","click-handler","disabled","disabled-folders"])))),128))])),_:1},8,["active","disabled"]))])}],["__scopeId","data-v-bfd21a80"]])},props:{disabledFolders:{type:Array,default:()=>[]},modelValue:{type:String,default:null}},emits:["update:modelValue"],setup(e){const{t:t}=x(),l=F(!1),a=F([]),i=V((()=>{return a.value.filter((e=>null===e.parent)).map((t=>r(s({},t),{children:e(t)})));function e(t){return a.value.filter((e=>e.parent===t.id)).map((t=>r(s({},t),{children:e(t)})))}})),n=[],o=a.value.find((t=>t.id===e.modelValue));o&&o.parent&&function e(t){if(!a.value)return;n.push(t);const l=a.value.find((e=>e.id===t));l&&l.parent&&e(l.parent)}(o.parent);const d=["root"];for(const s of n)!1===d.includes(s)&&d.push(s);const c=V((()=>a.value.find((t=>t.id===e.modelValue))||{})),u=F(d);return async function(){if(a.value.length>0)return;l.value=!0;try{const e=await dI.get("/folders",{params:{limit:-1,sort:"name"}});a.value=e.data.data}catch(e){jy(e)}finally{l.value=!1}}(),{t:t,loading:l,folders:a,tree:i,selectedFolder:c,openFolders:u}}}),_b={key:1,class:"folder-picker"};var yb=F_(vb,[["render",function(e,t,l,a,i,n){const o=S("v-skeleton-loader"),s=S("v-icon"),r=S("v-list-item-icon"),d=S("v-list-item-content"),c=S("folder-picker-list-item"),u=S("v-list-group"),p=S("v-item-group"),m=S("v-list");return e.loading?(E(),A(o,{key:0})):(E(),P("div",_b,[I(m,null,{default:D((()=>[I(p,{modelValue:e.openFolders,"onUpdate:modelValue":t[1]||(t[1]=t=>e.openFolders=t),scope:"folder-picker",multiple:""},{default:D((()=>[I(u,{"disable-groupable-parent":"",clickable:"",active:null===e.modelValue,scope:"folder-picker",value:"root",onClick:t[0]||(t[0]=t=>e.$emit("update:modelValue",null))},{activator:D((()=>[I(r,null,{default:D((()=>[I(s,{name:"folder_special",outline:""})])),_:1}),I(d,null,{default:D((()=>[N(U(e.t("file_library")),1)])),_:1})])),default:D((()=>[(E(!0),P(R,null,M(e.tree,(t=>(E(),A(c,{key:t.id,folder:t,"current-folder":e.modelValue,"click-handler":t=>e.$emit("update:modelValue",t),disabled:e.disabledFolders.includes(t.id),"disabled-folders":e.disabledFolders},null,8,["folder","current-folder","click-handler","disabled","disabled-folders"])))),128))])),_:1},8,["active"])])),_:1},8,["modelValue"])])),_:1})]))}],["__scopeId","data-v-492f76d2"]]);const hb=w({name:"NavigationFolder",components:{FolderPicker:yb},props:{folder:{type:Object,required:!0},currentFolder:{type:String,default:null},clickHandler:{type:Function,default:()=>{}}},setup(e){const{t:t}=x(),l=ie(),a=F(),{renameActive:i,renameValue:n,renameSave:o,renameSaving:s}=function(){const t=F(!1),l=F(e.folder.name),a=F(!1);return{renameActive:t,renameValue:l,renameSave:async function(){a.value=!0;try{await dI.patch(`/folders/${e.folder.id}`,{name:l.value})}catch(i){jy(i)}finally{a.value=!1,await v(),t.value=!1}},renameSaving:a}}(),{moveActive:r,moveValue:d,moveSave:c,moveSaving:u}=function(){const t=F(!1),l=F(e.folder.parent),a=F(!1);return{moveActive:t,moveValue:l,moveSave:async function(){a.value=!0;try{await dI.patch(`/folders/${e.folder.id}`,{parent:l.value})}catch(i){jy(i)}finally{a.value=!1,await v(),t.value=!1}},moveSaving:a}}(),{deleteActive:p,deleteSave:m,deleteSaving:f}=function(){const t=F(!1),a=F(!1);return{deleteActive:t,deleteSave:async function(){a.value=!0;try{const i=await dI.get("/folders",{params:{filter:{parent:{_eq:e.folder.id}}}}),n=await dI.get("/files",{params:{filter:{folder:{_eq:e.folder.id}}}}),o=e.folder.parent||null,s=i.data.data.map((e=>e.id)),r=n.data.data.map((e=>e.id));s.length>0&&await dI.patch("/folders",{keys:s,data:{parent:o}}),r.length>0&&await dI.patch("/files",{keys:r,data:{folder:o}}),await dI.delete(`/folders/${e.folder.id}`),o?l.push(`/files/folders/${o}`):l.push("/files"),t.value=!1}catch(i){jy(i)}finally{await v(),a.value=!1}},deleteSaving:a}}(),{fetchFolders:v}=ub();return{t:t,renameActive:i,renameValue:n,renameSave:o,renameSaving:s,moveActive:r,moveValue:d,moveSave:c,moveSaving:u,deleteActive:p,deleteSave:m,deleteSaving:f,contextMenu:a,activateContextMenu:function(e){a.value.activate(e)}}}});const gb=w({components:{NavigationFolder:F_(hb,[["render",function(e,t,l,a,i,n){const o=S("v-icon"),s=S("v-list-item-icon"),r=S("v-text-overflow"),d=S("v-list-item-content"),c=S("v-list-item"),u=S("navigation-folder",!0),p=S("v-list-group"),m=S("v-list"),f=S("v-menu"),v=S("v-card-title"),_=S("v-input"),y=S("v-card-text"),h=S("v-button"),g=S("v-card-actions"),b=S("v-card"),k=S("v-dialog"),w=S("folder-picker"),x=S("v-notice");return E(),P("div",null,[void 0===e.folder.children?(E(),A(c,{key:0,to:`/files/folders/${e.folder.id}`,active:e.currentFolder===e.folder.id,onContextmenu:X(e.activateContextMenu,["prevent","stop"])},{default:D((()=>[I(s,null,{default:D((()=>[I(o,{name:"folder"})])),_:1}),I(d,null,{default:D((()=>[I(r,{text:e.folder.name},null,8,["text"])])),_:1})])),_:1},8,["to","active","onContextmenu"])):(E(),A(p,{key:1,to:`/files/folders/${e.folder.id}`,active:e.currentFolder===e.folder.id,value:e.folder.id,scope:"files-navigation","disable-groupable-parent":"",onContextmenu:X(e.activateContextMenu,["prevent","stop"])},{activator:D((()=>[I(s,null,{default:D((()=>[I(o,{name:"folder"})])),_:1}),I(d,null,{default:D((()=>[I(r,{text:e.folder.name},null,8,["text"])])),_:1})])),default:D((()=>[(E(!0),P(R,null,M(e.folder.children,(t=>(E(),A(u,{key:t.id,folder:t,"current-folder":e.currentFolder,"click-handler":e.clickHandler},null,8,["folder","current-folder","click-handler"])))),128))])),_:1},8,["to","active","value","onContextmenu"])),I(f,{ref:"contextMenu","show-arrow":"",placement:"bottom-start"},{default:D((()=>[I(m,null,{default:D((()=>[I(c,{clickable:"",onClick:t[0]||(t[0]=t=>e.renameActive=!0)},{default:D((()=>[I(s,null,{default:D((()=>[I(o,{name:"edit",outline:""})])),_:1}),I(d,null,{default:D((()=>[I(r,{text:e.t("rename_folder")},null,8,["text"])])),_:1})])),_:1}),I(c,{clickable:"",onClick:t[1]||(t[1]=t=>e.moveActive=!0)},{default:D((()=>[I(s,null,{default:D((()=>[I(o,{name:"folder_move"})])),_:1}),I(d,null,{default:D((()=>[I(r,{text:e.t("move_to_folder")},null,8,["text"])])),_:1})])),_:1}),I(c,{clickable:"",onClick:t[2]||(t[2]=t=>e.deleteActive=!0)},{default:D((()=>[I(s,null,{default:D((()=>[I(o,{name:"delete",outline:""})])),_:1}),I(d,null,{default:D((()=>[I(r,{text:e.t("delete_folder")},null,8,["text"])])),_:1})])),_:1})])),_:1})])),_:1},512),I(k,{modelValue:e.renameActive,"onUpdate:modelValue":t[5]||(t[5]=t=>e.renameActive=t),persistent:"",onEsc:t[6]||(t[6]=t=>e.renameActive=!1)},{default:D((()=>[I(b,null,{default:D((()=>[I(v,null,{default:D((()=>[N(U(e.t("rename_folder")),1)])),_:1}),I(y,null,{default:D((()=>[I(_,{modelValue:e.renameValue,"onUpdate:modelValue":t[3]||(t[3]=t=>e.renameValue=t),autofocus:"",onKeyup:re(e.renameSave,["enter"])},null,8,["modelValue","onKeyup"])])),_:1}),I(g,null,{default:D((()=>[I(h,{secondary:"",onClick:t[4]||(t[4]=t=>e.renameActive=!1)},{default:D((()=>[N(U(e.t("cancel")),1)])),_:1}),I(h,{disabled:null===e.renameValue,loading:e.renameSaving,onClick:e.renameSave},{default:D((()=>[N(U(e.t("save")),1)])),_:1},8,["disabled","loading","onClick"])])),_:1})])),_:1})])),_:1},8,["modelValue"]),I(k,{modelValue:e.moveActive,"onUpdate:modelValue":t[9]||(t[9]=t=>e.moveActive=t),persistent:"",onEsc:t[10]||(t[10]=t=>e.moveActive=!1)},{default:D((()=>[I(b,null,{default:D((()=>[I(v,null,{default:D((()=>[N(U(e.t("move_to_folder")),1)])),_:1}),I(y,null,{default:D((()=>[I(w,{modelValue:e.moveValue,"onUpdate:modelValue":t[7]||(t[7]=t=>e.moveValue=t),"disabled-folders":[e.folder.id]},null,8,["modelValue","disabled-folders"])])),_:1}),I(g,null,{default:D((()=>[I(h,{secondary:"",onClick:t[8]||(t[8]=t=>e.moveActive=!1)},{default:D((()=>[N(U(e.t("cancel")),1)])),_:1}),I(h,{loading:e.moveSaving,onClick:e.moveSave},{default:D((()=>[N(U(e.t("save")),1)])),_:1},8,["loading","onClick"])])),_:1})])),_:1})])),_:1},8,["modelValue"]),I(k,{modelValue:e.deleteActive,"onUpdate:modelValue":t[12]||(t[12]=t=>e.deleteActive=t),persistent:"",onEsc:t[13]||(t[13]=t=>e.deleteActive=!1)},{default:D((()=>[I(b,null,{default:D((()=>[I(v,null,{default:D((()=>[N(U(e.t("delete_folder")),1)])),_:1}),I(y,null,{default:D((()=>[I(x,null,{default:D((()=>[N(U(e.t("nested_files_folders_will_be_moved")),1)])),_:1})])),_:1}),I(g,null,{default:D((()=>[I(h,{secondary:"",onClick:t[11]||(t[11]=t=>e.deleteActive=!1)},{default:D((()=>[N(U(e.t("cancel")),1)])),_:1}),I(h,{kind:"danger",loading:e.deleteSaving,onClick:e.deleteSave},{default:D((()=>[N(U(e.t("delete_label")),1)])),_:1},8,["loading","onClick"])])),_:1})])),_:1})])),_:1},8,["modelValue"])])}]])},props:{currentFolder:{type:String,default:null}},setup(e){const{t:t}=x(),{nestedFolders:l,folders:a,error:i,loading:n,openFolders:o}=ub();return s(),O((()=>e.currentFolder),s),{t:t,folders:a,nestedFolders:l,error:i,loading:n,openFolders:o};function s(){if(!a.value)return[];if(!(null==o?void 0:o.value))return[];const t=[],l=a.value.find((t=>t.id===e.currentFolder));l&&l.parent&&function e(l){if(!a.value)return;t.push(l);const i=a.value.find((e=>e.id===l));i&&i.parent&&e(i.parent)}(l.parent);const i=[...o.value];for(const e of t)!1===i.includes(e)&&i.push(e);1!==i.length&&!1===function(e,t){const l={};for(let a=0;a<e.length;a++)l[e[a]+typeof e[a]]=1;for(let a=0;a<t.length;a++){const e=t[a]+typeof t[a];if(!l[e])return!1;l[e]=2}for(const a in l)if(1===l[a])return!1;return!0}(i,o.value)&&(o.value=i)}}}),bb={class:"folders"};var kb=F_(gb,[["render",function(e,t,l,a,i,n){const o=S("v-skeleton-loader"),s=S("v-list-item"),r=S("v-icon"),d=S("v-list-item-icon"),c=S("v-text-overflow"),u=S("v-list-item-content"),p=S("navigation-folder"),m=S("v-list-group"),f=S("v-item-group"),v=S("v-divider"),_=S("v-list");return E(),A(_,{large:""},{default:D((()=>[!e.loading||null!==e.nestedFolders&&0!==e.nestedFolders.length?B("",!0):(E(),P(R,{key:0},M(4,(e=>I(s,{key:e},{default:D((()=>[I(o,{type:"list-item-icon"})])),_:2},1024))),64)),j("div",bb,[I(f,{modelValue:e.openFolders,"onUpdate:modelValue":t[0]||(t[0]=t=>e.openFolders=t),scope:"files-navigation",multiple:""},{default:D((()=>[I(m,{to:"/files",value:"root",scope:"files-navigation",exact:"","disable-groupable-parent":""},{activator:D((()=>[I(d,null,{default:D((()=>[I(r,{name:"folder_special",outline:""})])),_:1}),I(u,null,{default:D((()=>[I(c,{text:e.t("file_library")},null,8,["text"])])),_:1})])),default:D((()=>[(E(!0),P(R,null,M(e.nestedFolders,(t=>(E(),A(p,{key:t.id,folder:t,"current-folder":e.currentFolder},null,8,["folder","current-folder"])))),128))])),_:1})])),_:1},8,["modelValue"])]),I(v),I(s,{to:"/files/all"},{default:D((()=>[I(d,null,{default:D((()=>[I(r,{name:"file_copy",outline:""})])),_:1}),I(u,null,{default:D((()=>[I(c,{text:e.t("all_files")},null,8,["text"])])),_:1})])),_:1}),I(s,{to:"/files/mine"},{default:D((()=>[I(d,null,{default:D((()=>[I(r,{name:"folder_shared"})])),_:1}),I(u,null,{default:D((()=>[I(c,{text:e.t("my_files")},null,8,["text"])])),_:1})])),_:1}),I(s,{to:"/files/recent"},{default:D((()=>[I(d,null,{default:D((()=>[I(r,{name:"history"})])),_:1}),I(u,null,{default:D((()=>[I(c,{text:e.t("recent_files")},null,8,["text"])])),_:1})])),_:1})])),_:1})}],["__scopeId","data-v-2f01cc0e"]]);var wb=F_(w({props:{parent:{type:String,default:null},disabled:{type:Boolean,default:!1}},setup(e){const{t:t}=x(),l=ie(),a=F(!1),i=F(!1),n=F(null),{fetchFolders:o}=ub();return{t:t,addFolder:async function(){i.value=!0;try{const t=await dI.post("/folders",{name:n.value,parent:"root"===e.parent?null:e.parent});await o(),a.value=!1,n.value=null,l.push({path:`/files/folders/${t.data.data.id}`})}catch(t){jy(t)}finally{i.value=!1}},dialogActive:a,newFolderName:n,saving:i}}}),[["render",function(e,t,l,a,i,n){const o=S("v-icon"),s=S("v-button"),r=S("v-card-title"),d=S("v-input"),c=S("v-card-text"),u=S("v-card-actions"),p=S("v-card"),m=S("v-dialog"),f=q("tooltip");return E(),A(m,{modelValue:e.dialogActive,"onUpdate:modelValue":t[2]||(t[2]=t=>e.dialogActive=t),onEsc:t[3]||(t[3]=t=>e.dialogActive=!1)},{activator:D((({on:t})=>[z(I(s,{rounded:"",icon:"",class:"add-new",disabled:e.disabled,onClick:t},{default:D((()=>[I(o,{name:"create_new_folder",outline:""})])),_:2},1032,["disabled","onClick"]),[[f,e.disabled?e.t("not_allowed"):e.t("create_folder"),void 0,{bottom:!0}]])])),default:D((()=>[I(p,null,{default:D((()=>[I(r,null,{default:D((()=>[N(U(e.t("create_folder")),1)])),_:1}),I(c,null,{default:D((()=>[I(d,{modelValue:e.newFolderName,"onUpdate:modelValue":t[0]||(t[0]=t=>e.newFolderName=t),autofocus:"",placeholder:e.t("folder_name"),onKeyup:re(e.addFolder,["enter"])},null,8,["modelValue","placeholder","onKeyup"])])),_:1}),I(u,null,{default:D((()=>[I(s,{secondary:"",onClick:t[1]||(t[1]=t=>e.dialogActive=!1)},{default:D((()=>[N(U(e.t("cancel")),1)])),_:1}),I(s,{disabled:null===e.newFolderName,loading:e.saving,onClick:e.addFolder},{default:D((()=>[N(U(e.t("save")),1)])),_:1},8,["disabled","loading","onClick"])])),_:1})])),_:1})])),_:1},8,["modelValue"])}],["__scopeId","data-v-51ae7fc6"]]);const xb=Ae();var Vb;function Cb(e,t,l,a){ee((()=>{(De(e)?e.value:e).addEventListener(t,l,a)})),ke((()=>{(De(e)?e.value:e).removeEventListener(t,l,a)}))}async function Sb(e,t){const l=(null==t?void 0:t.onProgressChange)||(()=>{}),a=new FormData;if(null==t?void 0:t.preset)for(const[o,s]of Object.entries(t.preset))a.append(o,s);a.append("file",e);try{let e=null;return e=(null==t?void 0:t.fileId)?await dI.patch(`/files/${t.fileId}`,a,{onUploadProgress:i}):await dI.post("/files",a,{onUploadProgress:i}),(null==t?void 0:t.notifications)&&Qh({title:o_.global.t("upload_file_success"),type:"success"}),xb.emit(Vb.upload),e.data.data}catch(n){jy(n)}function i(e){const t=Math.floor(100*e.loaded/e.total);l(t)}}async function Eb(e,t){const l=(null==t?void 0:t.onProgressChange)||(()=>{}),a=e.map((()=>0));try{const i=await Promise.all(e.map(((e,i)=>Sb(e,r(s({},t),{onProgressChange:e=>{a[i]=e,l(a)}})))));return(null==t?void 0:t.notifications)&&Qh({title:o_.global.t("upload_files_success",{count:e.length}),type:"success"}),i}catch(i){jy(i)}}(Vb||(Vb={})).upload="upload";const Ab=w({name:"FilesCollection",components:{FilesNavigation:kb,FilterSidebarDetail:ly,LayoutSidebarDetail:sy,AddFolder:wb,SearchInput:cy,FolderPicker:yb,DrawerBatch:dh},props:{folder:{type:String,default:null},special:{type:String,default:null}},setup(e){const{t:t}=x(),l=ie(),a=hI(),i=gI(),{folders:n}=ub(),o=F(),s=F([]),r=I_(),{layout:d,layoutOptions:c,layoutQuery:u,filters:p,searchQuery:m,resetPreset:f}=$_(F("directus_files")),{confirmDelete:v,deleting:_,batchDelete:y,error:h,batchEditActive:g}=function(){const e=F(!1),t=F(!1),l=F(!1),a=F();return{batchEditActive:l,confirmDelete:e,deleting:t,batchDelete:async function(){t.value=!0;const l=s.value;try{await dI.delete("/files",{data:l}),await B(),s.value=[],e.value=!1}catch(i){a.value=i}finally{t.value=!1}},error:a}}(),{breadcrumb:b,title:k}=function(){const l=V((()=>{var l;if("all"===e.special)return t("all_files");if("mine"===e.special)return t("my_files");if("recent"===e.special)return t("recent_files");if(e.folder){const t=null==(l=n.value)?void 0:l.find((t=>t.id===e.folder));if(t)return t.name}return t("file_library")}));return{breadcrumb:V((()=>l.value!==t("file_library")?[{name:t("file_library"),to:"/files"}]:null)),title:l}}(),w=V((()=>{const t=[{locked:!0,field:"type",operator:"nnull",value:1}];return null===e.special&&(null!==e.folder?t.push({locked:!0,operator:"eq",field:"folder",value:e.folder}):t.push({locked:!0,operator:"null",field:"folder",value:!0})),"mine"===e.special&&r.currentUser&&t.push({locked:!0,operator:"eq",field:"uploaded_by",value:r.currentUser.id}),"recent"===e.special&&t.push({locked:!0,operator:"gt",field:"uploaded_on",value:Fe(new Date,5).toISOString()}),t})),C=V({get:()=>[...p.value,...w.value],set(e){p.value=e}}),{layoutWrapper:S}=P_(d),{moveToDialogActive:E,moveToFolder:A,moving:D,selectedFolder:I}=function(){const e=F(!1),t=F(!1),a=F();return{moveToDialogActive:e,moving:t,moveToFolder:async function(){t.value=!0;try{await dI.patch("/files",{keys:s.value,data:{folder:a.value}}),s.value=[],a.value&&l.push(`/files/folders/${a.value}`),await Ie(),await B()}catch(i){jy(i)}finally{e.value=!1,t.value=!1}},selectedFolder:a}}();ee((()=>xb.on(Vb.upload,B))),he((()=>xb.off(Vb.upload,B)));const{onDragEnter:O,onDragLeave:$,onDrop:T,onDragOver:P,showDropEffect:j,dragging:L}=function(){const l=F(!1);let i,n;const o=F(0),s=V((()=>o.value>0));return{onDragEnter:function(e){var t,a,i;if(!e.dataTransfer)return;if(-1===(null==(t=e.dataTransfer)?void 0:t.types.indexOf("Files")))return;e.preventDefault(),o.value++;const n=e.target&&""===(null==(i=(a=e.target).getAttribute)?void 0:i.call(a,"data-dropzone"));1===o.value&&!1===l.value&&!1===n&&r();n&&(d(),o.value=0)},onDragLeave:function(e){var t,l,a;if(!e.dataTransfer)return;if(-1===(null==(t=e.dataTransfer)?void 0:t.types.indexOf("Files")))return;e.preventDefault(),o.value--,0===o.value&&d();e.target&&""===(null==(a=(l=e.target).getAttribute)?void 0:a.call(l,"data-dropzone"))&&(r(),o.value=1)},onDrop:async function(s){var r;if(!s.dataTransfer)return;if(-1===(null==(r=s.dataTransfer)?void 0:r.types.indexOf("Files")))return;s.preventDefault(),l.value=!1,o.value=0,i&&a.remove(i);const d=[...s.dataTransfer.files];n=a.add({title:t("upload_files_indeterminate",{done:0,total:d.length},d.length),type:"info",persist:!0,closeable:!1,loading:!0}),await Eb(d,{preset:{folder:e.folder},onProgressChange:e=>{const l=e.reduce(((e,t)=>e+t))/e.length,i=d.length,o=e.filter((e=>100===e)).length;a.update(n,{title:t("upload_files_indeterminate",{done:o,total:i},d.length),loading:!1,progress:l})}}),a.remove(n),xb.emit(Vb.upload)},onDragOver:function(e){var t;if(!e.dataTransfer)return;if(-1===(null==(t=e.dataTransfer)?void 0:t.types.indexOf("Files")))return;e.preventDefault()},showDropEffect:l,dragging:s};function r(){l.value=!0,i=a.add({title:t("drop_to_upload"),icon:"cloud_upload",type:"info",persist:!0,closeable:!1})}function d(){l.value=!1,i&&a.remove(i)}}();Cb(window,"dragenter",O),Cb(window,"dragover",P),Cb(window,"dragleave",$),Cb(window,"drop",T);const{batchEditAllowed:R,batchDeleteAllowed:M,createAllowed:U,createFolderAllowed:N}=function(){const e=V((()=>{var e;if(!0===(null==(e=null==r?void 0:r.currentUser)?void 0:e.role.admin_access))return!0;return!!i.permissions.find((e=>"update"===e.action&&"directus_files"===e.collection))})),t=V((()=>{var e;if(!0===(null==(e=null==r?void 0:r.currentUser)?void 0:e.role.admin_access))return!0;return!!i.permissions.find((e=>"delete"===e.action&&"directus_files"===e.collection))})),l=V((()=>{var e;if(!0===(null==(e=null==r?void 0:r.currentUser)?void 0:e.role.admin_access))return!0;return!!i.permissions.find((e=>"create"===e.action&&"directus_files"===e.collection))})),a=V((()=>{var e;if(!0===(null==(e=null==r?void 0:r.currentUser)?void 0:e.role.admin_access))return!0;return!!i.permissions.find((e=>"create"===e.action&&"directus_folders"===e.collection))}));return{batchEditAllowed:e,batchDeleteAllowed:t,createAllowed:l,createFolderAllowed:a}}();return{t:t,breadcrumb:b,title:k,layoutRef:o,layoutWrapper:S,layoutFilters:C,selection:s,layoutOptions:c,layoutQuery:u,layout:d,filtersWithFolderAndType:w,searchQuery:m,moveToDialogActive:E,moveToFolder:A,moving:D,selectedFolder:I,refresh:B,clearFilters:function(){p.value=[],m.value=null},onDragEnter:O,onDragLeave:$,showDropEffect:j,onDrop:T,dragging:L,batchEditAllowed:R,batchDeleteAllowed:M,createAllowed:U,createFolderAllowed:N,resetPreset:f,confirmDelete:v,deleting:_,batchDelete:y,deleteError:h,batchEditActive:g};async function B(){var e,t,l;await(null==(l=null==(t=null==(e=o.value)?void 0:e.state)?void 0:t.refresh)?void 0:l.call(t))}}}),Db=e=>(K("data-v-2fb55c0e"),e=e(),W(),e),Ib={class:"page-description"},Fb=Db((()=>j("div",{class:"drop-border top"},null,-1))),Ob=Db((()=>j("div",{class:"drop-border right"},null,-1))),$b=Db((()=>j("div",{class:"drop-border bottom"},null,-1))),Tb=Db((()=>j("div",{class:"drop-border left"},null,-1)));var Pb=F_(Ab,[["render",function(e,t,l,a,i,n){const o=S("v-breadcrumb"),s=S("v-icon"),r=S("v-button"),d=S("search-input"),c=S("add-folder"),u=S("v-card-title"),p=S("folder-picker"),m=S("v-card-text"),f=S("v-card-actions"),v=S("v-card"),_=S("v-dialog"),y=S("files-navigation"),h=S("v-info"),g=S("router-view"),b=S("drawer-batch"),k=S("sidebar-detail"),w=S("layout-sidebar-detail"),x=S("private-view"),V=q("tooltip"),C=q("md");return E(),A(L(e.layoutWrapper),{ref:"layoutRef",selection:e.selection,"onUpdate:selection":t[11]||(t[11]=t=>e.selection=t),"layout-options":e.layoutOptions,"onUpdate:layout-options":t[12]||(t[12]=t=>e.layoutOptions=t),"layout-query":e.layoutQuery,"onUpdate:layout-query":t[13]||(t[13]=t=>e.layoutQuery=t),filters:e.layoutFilters,"onUpdate:filters":t[14]||(t[14]=t=>e.layoutFilters=t),"search-query":e.searchQuery,"onUpdate:search-query":t[15]||(t[15]=t=>e.searchQuery=t),collection:"directus_files","reset-preset":e.resetPreset},{default:D((({layoutState:l})=>[I(x,{title:e.title,class:H({dragging:e.dragging})},G({"title-outer:prepend":D((()=>[I(r,{class:"header-icon",rounded:"",disabled:"",icon:"",secondary:""},{default:D((()=>[I(s,{name:"folder",outline:""})])),_:1})])),"actions:prepend":D((()=>[(E(),A(L(`layout-actions-${e.layout}`),J(Y(l)),null,16))])),actions:D((()=>[I(d,{modelValue:e.searchQuery,"onUpdate:modelValue":t[0]||(t[0]=t=>e.searchQuery=t)},null,8,["modelValue"]),I(c,{parent:e.folder,disabled:!0!==e.createFolderAllowed},null,8,["parent","disabled"]),e.selection.length>0?(E(),A(_,{key:0,modelValue:e.moveToDialogActive,"onUpdate:modelValue":t[3]||(t[3]=t=>e.moveToDialogActive=t),onEsc:t[4]||(t[4]=t=>e.moveToDialogActive=!1)},{activator:D((({on:t})=>[z(I(r,{rounded:"",icon:"",class:"folder",onClick:t},{default:D((()=>[I(s,{name:"folder_move"})])),_:2},1032,["onClick"]),[[V,e.t("move_to_folder"),void 0,{bottom:!0}]])])),default:D((()=>[I(v,null,{default:D((()=>[I(u,null,{default:D((()=>[N(U(e.t("move_to_folder")),1)])),_:1}),I(m,null,{default:D((()=>[I(p,{modelValue:e.selectedFolder,"onUpdate:modelValue":t[1]||(t[1]=t=>e.selectedFolder=t)},null,8,["modelValue"])])),_:1}),I(f,null,{default:D((()=>[I(r,{secondary:"",onClick:t[2]||(t[2]=t=>e.moveToDialogActive=!1)},{default:D((()=>[N(U(e.t("cancel")),1)])),_:1}),I(r,{loading:e.moving,onClick:e.moveToFolder},{default:D((()=>[N(U(e.t("move")),1)])),_:1},8,["loading","onClick"])])),_:1})])),_:1})])),_:1},8,["modelValue"])):B("",!0),e.selection.length>0?(E(),A(_,{key:1,modelValue:e.confirmDelete,"onUpdate:modelValue":t[6]||(t[6]=t=>e.confirmDelete=t),onEsc:t[7]||(t[7]=t=>e.confirmDelete=!1)},{activator:D((({on:t})=>[z(I(r,{disabled:!0!==e.batchDeleteAllowed,rounded:"",icon:"",class:"action-delete",onClick:t},{default:D((()=>[I(s,{name:"delete",outline:""})])),_:2},1032,["disabled","onClick"]),[[V,e.batchDeleteAllowed?e.t("delete_label"):e.t("not_allowed"),void 0,{bottom:!0}]])])),default:D((()=>[I(v,null,{default:D((()=>[I(u,null,{default:D((()=>[N(U(e.t("batch_delete_confirm",e.selection.length)),1)])),_:1}),I(f,null,{default:D((()=>[I(r,{secondary:"",onClick:t[5]||(t[5]=t=>e.confirmDelete=!1)},{default:D((()=>[N(U(e.t("cancel")),1)])),_:1}),I(r,{kind:"danger",loading:e.deleting,onClick:e.batchDelete},{default:D((()=>[N(U(e.t("delete_label")),1)])),_:1},8,["loading","onClick"])])),_:1})])),_:1})])),_:1},8,["modelValue"])):B("",!0),e.selection.length>1?z((E(),A(r,{key:2,rounded:"",icon:"",class:"action-batch",disabled:!1===e.batchEditAllowed,onClick:t[8]||(t[8]=t=>e.batchEditActive=!0)},{default:D((()=>[I(s,{name:"edit",outline:""})])),_:1},8,["disabled"])),[[V,e.batchEditAllowed?e.t("edit"):e.t("not_allowed"),void 0,{bottom:!0}]]):B("",!0),z(I(r,{rounded:"",icon:"",class:"add-new",to:e.folder?{path:`/files/folders/${e.folder}/+`}:{path:"/files/+"},disabled:!1===e.createAllowed},{default:D((()=>[I(s,{name:"add"})])),_:1},8,["to","disabled"]),[[V,e.createAllowed?e.t("create_item"):e.t("not_allowed"),void 0,{bottom:!0}]])])),navigation:D((()=>[I(y,{"current-folder":e.folder},null,8,["current-folder"])])),sidebar:D((()=>[I(k,{icon:"info_outline",title:e.t("information"),close:""},{default:D((()=>[z(j("div",Ib,null,512),[[C,e.t("page_help_files_collection")]])])),_:1},8,["title"]),I(w,{modelValue:e.layout,"onUpdate:modelValue":t[10]||(t[10]=t=>e.layout=t)},{default:D((()=>[(E(),A(L(`layout-options-${e.layout}`),J(Y(l)),null,16))])),_:2},1032,["modelValue"]),(E(),A(L(`layout-sidebar-${e.layout}`),J(Y(l)),null,16))])),default:D((()=>[(E(),A(L(`layout-${e.layout}`),Z({class:"layout"},l),{"no-results":D((()=>[I(h,{title:e.t("no_results"),icon:"search",center:""},{append:D((()=>[I(r,{onClick:e.clearFilters},{default:D((()=>[N(U(e.t("clear_filters")),1)])),_:1},8,["onClick"])])),default:D((()=>[N(U(e.t("no_results_copy"))+" ",1)])),_:1},8,["title"])])),"no-items":D((()=>[I(h,{title:e.t("file_count",0),icon:"folder",center:""},{append:D((()=>[I(r,{to:e.folder?{path:`/files/folders/${e.folder}/+`}:{path:"/files/+"}},{default:D((()=>[N(U(e.t("add_file")),1)])),_:1},8,["to"])])),default:D((()=>[N(U(e.t("no_files_copy"))+" ",1)])),_:1},8,["title"])])),_:2},1040)),I(g,{name:"addNew",folder:e.folder,onUpload:e.refresh},null,8,["folder","onUpload"]),I(b,{active:e.batchEditActive,"onUpdate:active":t[9]||(t[9]=t=>e.batchEditActive=t),"primary-keys":e.selection,collection:"directus_files",onRefresh:e.refresh},null,8,["active","primary-keys","onRefresh"]),e.showDropEffect?(E(),P(R,{key:0},[Fb,Ob,$b,Tb],64)):B("",!0)])),_:2},[e.breadcrumb?{name:"headline",fn:D((()=>[I(o,{items:e.breadcrumb},null,8,["items"])]))}:void 0]),1032,["title","class"])])),_:1},8,["selection","layout-options","layout-query","filters","search-query","reset-preset"])}],["__scopeId","data-v-2fb55c0e"]]);const jb=w({props:{mime:{type:String,required:!0},width:{type:Number,default:null},height:{type:Number,default:null},src:{type:String,required:!0},title:{type:String,required:!0},inModal:{type:Boolean,default:!1}},emits:["click"],setup(e){const t=F(!1);return{type:V((()=>null===e.mime?null:e.mime.startsWith("image")?"image":e.mime.startsWith("video")?"video":e.mime.startsWith("audio")?"audio":null)),isSVG:V((()=>e.mime.includes("svg"))),imgError:t}}}),Lb={key:0,class:"file-preview"},Rb=["src","width","height","alt"],Mb=["src"],Ub=["src"];var Nb=F_(jb,[["render",function(e,t,l,a,i,n){const o=S("v-icon");return e.type&&!e.imgError?(E(),P("div",Lb,["image"===e.type?(E(),P("div",{key:0,class:H(["image",{svg:e.isSVG,"max-size":!1===e.inModal}]),onClick:t[1]||(t[1]=t=>e.$emit("click"))},[j("img",{src:e.src,width:e.width,height:e.height,alt:e.title,onError:t[0]||(t[0]=t=>e.imgError=!0)},null,40,Rb),!1===e.inModal?(E(),A(o,{key:0,name:"upload"})):B("",!0)],2)):"video"===e.type?(E(),P("video",{key:1,controls:"",src:e.src},null,8,Mb)):"audio"===e.type?(E(),P("audio",{key:2,controls:"",src:e.src},null,8,Ub)):B("",!0)])):B("",!0)}],["__scopeId","data-v-0eb2c919"]]);const Bb=w({props:{id:{type:String,required:!0},modelValue:{type:Boolean,default:void 0}},emits:["update:modelValue","refresh"],setup(e,{emit:t}){const{t:l,n:a}=x(),i=F(!1),n=V({get:()=>void 0===e.modelValue?i.value:e.modelValue,set(e){i.value=e,t("update:modelValue",e)}}),{loading:o,error:s,imageData:r,imageElement:d,save:c,saving:u,fetchImage:p,onImageLoad:m}=function(){const l=F(!1),a=F(null),i=F(null),o=F(!1),s=F(null);return{loading:l,error:a,imageData:i,saving:o,fetchImage:async function(){try{l.value=!0;const t=await dI.get(`/files/${e.id}`,{params:{fields:["type","filesize","filename_download","width","height"]}});i.value=t.data.data}catch(t){a.value=t}finally{l.value=!1}},imageElement:s,save:function(){var l,a;o.value=!0,null==(a=f.value)||a.getCroppedCanvas({imageSmoothingQuality:"high"}).toBlob((async l=>{var a;if(null===l)return void(o.value=!1);const s=new FormData;s.append("file",l,null==(a=i.value)?void 0:a.filename_download);try{await dI.patch(`/files/${e.id}`,s),t("refresh"),n.value=!1}catch(r){jy(r)}finally{o.value=!1}}),null==(l=i.value)?void 0:l.type)},onImageLoad:async function(){await Ie(),v()}}}(),{cropperInstance:f,initCropper:v,flip:_,rotate:y,aspectRatio:h,aspectRatioIcon:g,newDimensions:b,dragMode:k,cropping:w}=function(){const e=F(null),t=F(NaN),l=$({width:null,height:null});O(r,(()=>{r.value&&(t.value=r.value.width/r.value.height,l.width=r.value.width,l.height=r.value.height)}));const a=V({get:()=>t.value,set(l){var a;t.value=l,null==(a=e.value)||a.setAspectRatio(l)}}),i=V((()=>{if(!r.value)return"crop_original";switch(a.value){case 16/9:return"crop_16_9";case 1.5:return"crop_3_2";case 5/4:return"crop_5_4";case 1.4:return"crop_7_5";case 1:return"crop_square";case r.value.width/r.value.height:return"crop_original";default:return"crop_free"}})),n=F("move"),o=V({get:()=>n.value,set(t){var l;null==(l=e.value)||l.setDragMode(t),n.value=t}}),s=F(!1),c=V({get:()=>s.value,set(t){var l;!1===t&&(null==(l=e.value)||l.clear()),s.value=t}});return{cropperInstance:e,initCropper:function(){if(null===d.value)return;e.value&&e.value.destroy();e.value=new Oe(d.value,{autoCrop:!1,toggleDragModeOnDblclick:!1,dragMode:"move",crop:$e((e=>{if(!r.value)return;!1===c.value&&(e.detail.width||e.detail.height)&&(c.value=!0);const t=e.detail.width||r.value.width,a=e.detail.height||r.value.height;0===e.detail.rotate||-180===e.detail.rotate?(l.width=Math.round(t),l.height=Math.round(a)):(l.height=Math.round(t),l.width=Math.round(a))}),50)})},flip:function(t){var l,a,i,n,o,s;"vertical"===t&&(-1===(null==(l=e.value)?void 0:l.getData().scaleX)?null==(a=e.value)||a.scaleX(1):null==(i=e.value)||i.scaleX(-1));"horizontal"===t&&(-1===(null==(n=e.value)?void 0:n.getData().scaleY)?null==(o=e.value)||o.scaleY(1):null==(s=e.value)||s.scaleY(-1))},rotate:function(){var t;null==(t=e.value)||t.rotate(-90)},aspectRatio:a,aspectRatioIcon:i,newDimensions:l,dragMode:o,cropping:c}}();O(n,(e=>{!0===e?p():(f.value&&f.value.destroy(),o.value=!1,s.value=null,r.value=null)}));const S=V((()=>uI(`${Jh()}assets/${e.id}?${C()}`)));return{t:l,n:a,internalActive:n,loading:o,error:s,imageData:r,imageElement:d,save:c,onImageLoad:m,flip:_,rotate:y,aspectRatio:h,aspectRatioIcon:g,saving:u,imageURL:S,newDimensions:b,dragMode:k,cropping:w}}}),qb=e=>(K("data-v-d3866b64"),e=e(),W(),e),zb={class:"warning"},Kb={key:0,class:"loader"},Wb=N("error"),Hb={class:"editor-container"},Gb={class:"editor"},Qb=["src"],Xb={class:"toolbar"},Jb=N("16:9"),Yb=N("3:2"),Zb=N("5:4"),ek=N("7:5"),tk=qb((()=>j("div",{class:"spacer"},null,-1))),lk={key:0,class:"dimensions"};var ak=F_(Bb,[["render",function(e,t,l,a,i,n){const o=S("v-progress-circular"),s=S("v-notice"),r=S("v-icon"),d=S("v-list-item-icon"),c=S("v-list-item-content"),u=S("v-list-item"),p=S("v-list"),m=S("v-menu"),f=S("v-button"),v=S("v-drawer"),_=q("tooltip");return E(),A(v,{modelValue:e.internalActive,"onUpdate:modelValue":t[12]||(t[12]=t=>e.internalActive=t),class:"modal",title:e.t("editing_image"),persistent:"",onCancel:t[13]||(t[13]=t=>e.internalActive=!1)},{activator:D((t=>[Q(e.$slots,"activator",J(Y(t)),void 0,!0)])),subtitle:D((()=>[j("span",zb,U(e.t("changes_are_permanent")),1)])),actions:D((()=>[z(I(f,{loading:e.saving,icon:"",rounded:"",onClick:e.save},{default:D((()=>[I(r,{name:"check"})])),_:1},8,["loading","onClick"]),[[_,e.t("save"),void 0,{bottom:!0}]])])),default:D((()=>[e.loading?(E(),P("div",Kb,[I(o,{indeterminate:""})])):e.error?(E(),A(s,{key:1,type:"error"},{default:D((()=>[Wb])),_:1})):B("",!0),z(j("div",Hb,[j("div",Gb,[j("img",{ref:"imageElement",src:e.imageURL,role:"presentation",alt:"",onLoad:t[0]||(t[0]=(...t)=>e.onImageLoad&&e.onImageLoad(...t))},null,40,Qb)]),j("div",Xb,[z(j("div",{class:"drag-mode toolbar-button",onClick:t[1]||(t[1]=t=>e.dragMode="crop"===e.dragMode?"move":"crop")},[I(r,{name:"pan_tool",class:H({active:"move"===e.dragMode})},null,8,["class"]),I(r,{name:"crop",class:H({active:"crop"===e.dragMode})},null,8,["class"])],512),[[_,e.t("drag_mode"),void 0,{top:!0,inverted:!0}]]),z(I(r,{name:"rotate_90_degrees_ccw",clickable:"",onClick:e.rotate},null,8,["onClick"]),[[_,e.t("rotate"),void 0,{top:!0,inverted:!0}]]),z(I(r,{name:"flip_horizontal",clickable:"",onClick:t[2]||(t[2]=t=>e.flip("horizontal"))},null,512),[[_,e.t("flip_horizontal"),void 0,{top:!0,inverted:!0}]]),z(I(r,{name:"flip_vertical",clickable:"",onClick:t[3]||(t[3]=t=>e.flip("vertical"))},null,512),[[_,e.t("flip_vertical"),void 0,{top:!0,inverted:!0}]]),I(m,{placement:"top","show-arrow":""},{activator:D((({toggle:t})=>[z(I(r,{name:e.aspectRatioIcon,clickable:"",onClick:t},null,8,["name","onClick"]),[[_,e.t("aspect_ratio"),void 0,{top:!0,inverted:!0}]])])),default:D((()=>[I(p,null,{default:D((()=>[I(u,{clickable:"",active:e.aspectRatio===16/9,onClick:t[4]||(t[4]=t=>e.aspectRatio=16/9)},{default:D((()=>[I(d,null,{default:D((()=>[I(r,{name:"crop_16_9"})])),_:1}),I(c,null,{default:D((()=>[Jb])),_:1})])),_:1},8,["active"]),I(u,{clickable:"",active:1.5===e.aspectRatio,onClick:t[5]||(t[5]=t=>e.aspectRatio=1.5)},{default:D((()=>[I(d,null,{default:D((()=>[I(r,{name:"crop_3_2"})])),_:1}),I(c,null,{default:D((()=>[Yb])),_:1})])),_:1},8,["active"]),I(u,{clickable:"",active:e.aspectRatio===5/4,onClick:t[6]||(t[6]=t=>e.aspectRatio=5/4)},{default:D((()=>[I(d,null,{default:D((()=>[I(r,{name:"crop_5_4"})])),_:1}),I(c,null,{default:D((()=>[Zb])),_:1})])),_:1},8,["active"]),I(u,{clickable:"",active:1.4===e.aspectRatio,onClick:t[7]||(t[7]=t=>e.aspectRatio=1.4)},{default:D((()=>[I(d,null,{default:D((()=>[I(r,{name:"crop_7_5"})])),_:1}),I(c,null,{default:D((()=>[ek])),_:1})])),_:1},8,["active"]),I(u,{clickable:"",active:1===e.aspectRatio,onClick:t[8]||(t[8]=t=>e.aspectRatio=1)},{default:D((()=>[I(d,null,{default:D((()=>[I(r,{name:"crop_square"})])),_:1}),I(c,null,{default:D((()=>[N(U(e.t("square")),1)])),_:1})])),_:1},8,["active"]),I(u,{clickable:"",active:NaN===e.aspectRatio,onClick:t[9]||(t[9]=t=>e.aspectRatio=NaN)},{default:D((()=>[I(d,null,{default:D((()=>[I(r,{name:"crop_free"})])),_:1}),I(c,null,{default:D((()=>[N(U(e.t("free")),1)])),_:1})])),_:1},8,["active"]),e.imageData?(E(),A(u,{key:0,clickable:"",active:e.aspectRatio===e.imageData.width/e.imageData.height,onClick:t[10]||(t[10]=t=>e.aspectRatio=e.imageData.width/e.imageData.height)},{default:D((()=>[I(d,null,{default:D((()=>[I(r,{name:"crop_original"})])),_:1}),I(c,null,{default:D((()=>[N(U(e.t("original")),1)])),_:1})])),_:1},8,["active"])):B("",!0)])),_:1})])),_:1}),tk,e.imageData?(E(),P("div",lk,[N(U(e.n(e.imageData.width))+"x"+U(e.n(e.imageData.height))+" ",1),e.imageData.width!==e.newDimensions.width||e.imageData.height!==e.newDimensions.height?(E(),P(R,{key:0},[N(" -> "+U(e.n(e.newDimensions.width))+"x"+U(e.n(e.newDimensions.height)),1)],64)):B("",!0)])):B("",!0),z(j("button",{class:"toolbar-button cancel",onClick:t[11]||(t[11]=t=>e.cropping=!1)},U(e.t("cancel_crop")),513),[[ce,e.cropping]])])],512),[[ce,e.imageData&&!e.loading&&!e.error]])])),_:3},8,["modelValue","title"])}],["__scopeId","data-v-d3866b64"]]),ik={"audio/aac":"aac","application/x-abiword":"abw","application/x-freearc":"arc","video/x-msvideo":"avi","application/vnd.amazon.ebook":"azw","application/octet-stream":"file","image/bmp":"bmp","application/x-bzip":"bz","application/x-bzip2":"bz2","application/x-csh":"csh","text/css":"css","text/csv":"csv","application/msword":"doc","application/sql":"sql","application/vnd.openxmlformats-officedocument.wordprocessingml.document":"docx","application/vnd.ms-fontobject":"eot","application/epub+zip":"epub","application/gzip":"gz","image/gif":"gif","text/html":"html","image/vnd.microsoft.icon":"ico","text/calendar":"ics","application/java-archive":"jar","image/jpeg":"jpg","text/javascript":"js","application/json":"json","application/ld+json":"jsonld","audio/midi audio/x-midi":"midi","audio/mpeg":"mp3","video/mpeg":"mpeg","application/vnd.apple.installer+xml":"mpkg","application/vnd.oasis.opendocument.presentation":"odp","application/vnd.oasis.opendocument.spreadsheet":"ods","application/vnd.oasis.opendocument.text":"odt","audio/ogg":"oga","video/ogg":"ogv","application/ogg":"ogx","audio/opus":"opus","font/otf":"otf","image/png":"png","application/pdf":"pdf","application/x-httpd-php":"php","application/vnd.ms-powerpoint":"ppt","application/vnd.openxmlformats-officedocument.presentationml.presentation":"pptx","application/vnd.rar":"rar","application/rtf":"rtf","application/x-sh":"sh","image/svg+xml":"svg","application/x-shockwave-flash":"swf","application/x-tar":"tar","image/tiff":"tiff","video/mp2t":"ts","font/ttf":"ttf","text/plain":"txt","application/vnd.visio":"vsd","audio/wav":"wav","audio/webm":"weba","video/webm":"webm","image/webp":"webp","font/woff":"woff","font/woff2":"woff2","application/xhtml+xml":"xhtml","application/vnd.ms-excel":"xls","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet":"xlsx","application/xml":"xml","application/vnd.mozilla.xul+xml":"xul","application/zip":"zip","video/3gpp":"3gp","video/3gpp2":"3g2","audio/3gpp":"3gp","audio/3gpp2":"3g2","application/x-7z-compressed":"7z"},nk={"application/vnd.hzn-3d-crossword":"3D Crossword Plugin","video/3gpp":"3GP","video/3gpp2":"3GP2","application/vnd.mseq":"3GPP MSEQ File","application/vnd.3m.post-it-notes":"3M Post It Notes","application/vnd.3gpp.pic-bw-large":"3rd Generation Partnership Project - Pic Large","application/vnd.3gpp.pic-bw-small":"3rd Generation Partnership Project - Pic Small","application/vnd.3gpp.pic-bw-var":"3rd Generation Partnership Project - Pic Var","application/vnd.3gpp2.tcap":"3rd Generation Partnership Project - Transaction Capabilities Application Part","application/x-7z-compressed":"7-Zip","application/x-abiword":"AbiWord","application/x-ace-compressed":"Ace Archive","application/vnd.americandynamics.acc":"Active Content Compression","application/vnd.acucobol":"ACU Cobol","application/vnd.acucorp":"ACU Cobol","audio/adpcm":"Adaptive differential pulse-code modulation","application/x-authorware-bin":"Adobe (Macropedia) Authorware - Binary File","application/x-authorware-map":"Adobe (Macropedia) Authorware - Map","application/x-authorware-seg":"Adobe (Macropedia) Authorware - Segment File","application/vnd.adobe.air-application-installer-package+zip":"Adobe AIR Application","application/x-shockwave-flash":"Adobe Flash","application/vnd.adobe.fxp":"Adobe Flex Project","application/pdf":"PDF","application/sql":"SQL","application/vnd.cups-ppd":"Adobe PostScript Printer Description File Format","application/x-director":"Adobe Shockwave Player","application/vnd.adobe.xdp+xml":"Adobe XML Data Package","application/vnd.adobe.xfdf":"Adobe XML Forms Data Format","audio/x-aac":"Advanced Audio Coding (AAC)","application/vnd.ahead.space":"Ahead AIR Application","application/vnd.airzip.filesecure.azf":"AirZip FileSECURE","application/vnd.airzip.filesecure.azs":"AirZip FileSECURE","application/vnd.amazon.ebook":"Amazon Kindle eBook format","application/vnd.amiga.ami":"AmigaDE","application/andrew-inset":"Andrew Toolkit","application/vnd.android.package-archive":"Android Package Archive","application/vnd.anser-web-certificate-issue-initiation":"ANSER-WEB Terminal Client - Certificate Issue","application/vnd.anser-web-funds-transfer-initiation":"ANSER-WEB Terminal Client - Web Funds Transfer","application/vnd.antix.game-component":"Antix Game Player","application/x-apple-diskimage":"Apple Disk Image","application/vnd.apple.installer+xml":"Apple Installer Package","application/applixware":"Applixware","application/vnd.hhe.lesson-player":"Archipelago Lesson Player","application/vnd.aristanetworks.swi":"Arista Networks Software Image","text/x-asm":"Assembler Source File","application/atomcat+xml":"Atom Publishing Protocol","application/atomsvc+xml":"Atom Publishing Protocol Service Document","application/atom+xml":"Atom Syndication Format","application/pkix-attr-cert":"Attribute Certificate","audio/x-aiff":"AIFF","video/x-msvideo":"AVI","application/vnd.audiograph":"Audiograph","image/vnd.dxf":"AutoCAD DXF","model/vnd.dwf":"Autodesk Design Web Format (DWF)","text/plain-bas":"BAS Partitur Format","application/x-bcpio":"Binary CPIO Archive","application/octet-stream":"Binary Data","image/bmp":"Bitmap Image","application/x-bittorrent":"BitTorrent","application/vnd.rim.cod":"Blackberry COD File","application/vnd.blueice.multipass":"Blueice Research Multipass","application/vnd.bmi":"BMI Drawing Data Interchange","application/x-sh":"Bourne Shell Script","image/prs.btif":"BTIF","application/vnd.businessobjects":"BusinessObjects","application/x-bzip":"Bzip Archive","application/x-bzip2":"Bzip2 Archive","application/x-csh":"C Shell Script","text/x-c":"C Source File","application/vnd.chemdraw+xml":"CambridgeSoft Chem Draw","text/css":"Cascading Style Sheets (CSS)","chemical/x-cdx":"ChemDraw eXchange file","chemical/x-cml":"Chemical Markup Language","chemical/x-csml":"Chemical Style Markup Language","application/vnd.contact.cmsg":"CIM Database","application/vnd.claymore":"Claymore Data Files","application/vnd.clonk.c4group":"Clonk Game","image/vnd.dvb.subtitle":"Close Captioning - Subtitle","application/cdmi-capability":"Cloud Data Management Interface (CDMI) - Capability","application/cdmi-container":"Cloud Data Management Interface (CDMI) - Contaimer","application/cdmi-domain":"Cloud Data Management Interface (CDMI) - Domain","application/cdmi-object":"Cloud Data Management Interface (CDMI) - Object","application/cdmi-queue":"Cloud Data Management Interface (CDMI) - Queue","application/vnd.cluetrust.cartomobile-config":"ClueTrust CartoMobile - Config","application/vnd.cluetrust.cartomobile-config-pkg":"ClueTrust CartoMobile - Config Package","image/x-cmu-raster":"CMU Image","model/vnd.collada+xml":"COLLADA","text/csv":"CSV","application/mac-compactpro":"Compact Pro","application/vnd.wap.wmlc":"Compiled Wireless Markup Language (WMLC)","image/cgm":"Computer Graphics Metafile","x-conference/x-cooltalk":"CoolTalk","image/x-cmx":"Corel Metafile Exchange (CMX)","application/vnd.xara":"CorelXARA","application/vnd.cosmocaller":"CosmoCaller","application/x-cpio":"CPIO Archive","application/vnd.crick.clicker":"CrickSoftware - Clicker","application/vnd.crick.clicker.keyboard":"CrickSoftware - Clicker - Keyboard","application/vnd.crick.clicker.palette":"CrickSoftware - Clicker - Palette","application/vnd.crick.clicker.template":"CrickSoftware - Clicker - Template","application/vnd.crick.clicker.wordbank":"CrickSoftware - Clicker - Wordbank","application/vnd.criticaltools.wbs+xml":"Critical Tools - PERT Chart EXPERT","application/vnd.rig.cryptonote":"CryptoNote","chemical/x-cif":"Crystallographic Interchange Format","chemical/x-cmdf":"CrystalMaker Data Format","application/cu-seeme":"CU-SeeMe","application/prs.cww":"CU-Writer","text/vnd.curl":"Curl - Applet","text/vnd.curl.dcurl":"Curl - Detached Applet","text/vnd.curl.mcurl":"Curl - Manifest File","text/vnd.curl.scurl":"Curl - Source Code","application/vnd.curl.car":"CURL Applet","application/vnd.curl.pcurl":"CURL Applet","application/vnd.yellowriver-custom-menu":"CustomMenu","application/dssc+der":"Data Structure for the Security Suitability of Cryptographic Algorithms","application/dssc+xml":"Data Structure for the Security Suitability of Cryptographic Algorithms","application/x-debian-package":"Debian Package","audio/vnd.dece.audio":"DECE Audio","image/vnd.dece.graphic":"DECE Graphic","video/vnd.dece.hd":"DECE High Definition Video","video/vnd.dece.mobile":"DECE Mobile Video","video/vnd.uvvu.mp4":"DECE MP4","video/vnd.dece.pd":"DECE PD Video","video/vnd.dece.sd":"DECE SD Video","video/vnd.dece.video":"DECE Video","application/x-dvi":"DVI","application/vnd.fdsn.seed":"Digital Siesmograph Networks - SEED Datafiles","application/x-dtbook+xml":"Digital Talking Book","application/x-dtbresource+xml":"Digital Talking Book - Resource File","application/vnd.dvb.ait":"Digital Video Broadcasting","application/vnd.dvb.service":"Digital Video Broadcasting","audio/vnd.digital-winds":"Digital Winds Music","image/vnd.djvu":"DjVu","application/xml-dtd":"Document Type Definition","application/vnd.dolby.mlp":"Dolby Meridian Lossless Packing","application/x-doom":"Doom Video Game","application/vnd.dpgraph":"DPGraph","audio/vnd.dra":"DRA Audio","application/vnd.dreamfactory":"DreamFactory","audio/vnd.dts":"DTS Audio","audio/vnd.dts.hd":"DTS High Definition Audio","image/vnd.dwg":"DWG Drawing","application/vnd.dynageo":"DynaGeo","application/ecmascript":"ECMAScript","application/vnd.ecowin.chart":"EcoWin Chart","image/vnd.fujixerox.edmics-mmr":"EDMICS 2000","image/vnd.fujixerox.edmics-rlc":"EDMICS 2000","application/exi":"Efficient XML Interchange","application/vnd.proteus.magazine":"EFI Proteus","application/epub+zip":"Electronic Publication","message/rfc822":"Email Message","application/vnd.enliven":"Enliven Viewer","application/vnd.is-xpr":"Express by Infoseek","image/vnd.xiff":"eXtended Image File Format (XIFF)","application/vnd.xfdl":"Extensible Forms Description Language","application/emma+xml":"Extensible MultiModal Annotation","application/vnd.ezpix-album":"EZPix Secure Photo Album","application/vnd.ezpix-package":"EZPix Secure Photo Album","image/vnd.fst":"FAST Search & Transfer ASA","video/vnd.fvt":"FAST Search & Transfer ASA","image/vnd.fastbidsheet":"FastBid Sheet","application/vnd.denovo.fcselayout-link":"FCS Express Layout Link","video/x-f4v":"Flash Video","video/x-flv":"Flash Video","image/vnd.fpx":"FlashPix","image/vnd.net-fpx":"FlashPix","text/vnd.fmi.flexstor":"FLEXSTOR","video/x-fli":"FLI/FLC Animation Format","application/vnd.fluxtime.clip":"FluxTime Clip","application/vnd.fdf":"Forms Data Format","text/x-fortran":"Fortran Source File","application/vnd.mif":"FrameMaker Interchange Format","application/vnd.framemaker":"FrameMaker Normal Format","image/x-freehand":"FreeHand MX","application/vnd.fsc.weblaunch":"Friendly Software Corporation","application/vnd.frogans.fnc":"Frogans Player","application/vnd.frogans.ltf":"Frogans Player","application/vnd.fujixerox.ddd":"Fujitsu - Xerox 2D CAD Data","application/vnd.fujixerox.docuworks":"Fujitsu - Xerox DocuWorks","application/vnd.fujixerox.docuworks.binder":"Fujitsu - Xerox DocuWorks Binder","application/vnd.fujitsu.oasys":"Fujitsu Oasys","application/vnd.fujitsu.oasys2":"Fujitsu Oasys","application/vnd.fujitsu.oasys3":"Fujitsu Oasys","application/vnd.fujitsu.oasysgp":"Fujitsu Oasys","application/vnd.fujitsu.oasysprs":"Fujitsu Oasys","application/x-futuresplash":"FutureSplash Animator","application/vnd.fuzzysheet":"FuzzySheet","image/g3fax":"G3 Fax Image","application/vnd.gmx":"GameMaker ActiveX","model/vnd.gtw":"Gen-Trix Studio","application/vnd.genomatix.tuxedo":"Genomatix Tuxedo Framework","application/vnd.geogebra.file":"GeoGebra","application/vnd.geogebra.tool":"GeoGebra","model/vnd.gdl":"Geometric Description Language (GDL)","application/vnd.geometry-explorer":"GeoMetry Explorer","application/vnd.geonext":"GEONExT and JSXGraph","application/vnd.geoplan":"GeoplanW","application/vnd.geospace":"GeospacW","application/x-font-ghostscript":"Ghostscript Font","application/x-font-bdf":"Glyph Bitmap Distribution Format","application/x-gtar":"GNU Tar Files","application/x-texinfo":"GNU Texinfo Document","application/x-gnumeric":"Gnumeric","application/vnd.google-earth.kml+xml":"Google Earth - KML","application/vnd.google-earth.kmz":"Google Earth - Zipped KML","application/vnd.grafeq":"GrafEq","image/gif":"GIF","text/vnd.graphviz":"Graphviz","application/vnd.groove-account":"Groove - Account","application/vnd.groove-help":"Groove - Help","application/vnd.groove-identity-message":"Groove - Identity Message","application/vnd.groove-injector":"Groove - Injector","application/vnd.groove-tool-message":"Groove - Tool Message","application/vnd.groove-tool-template":"Groove - Tool Template","application/vnd.groove-vcard":"Groove - Vcard","video/h261":"H.261","video/h263":"H.263","video/h264":"H.264","application/vnd.hp-hpid":"Hewlett Packard Instant Delivery","application/vnd.hp-hps":"Hewlett-Packard's WebPrintSmart","application/x-hdf":"Hierarchical Data Format","audio/vnd.rip":"Hit'n'Mix","application/vnd.hbci":"Homebanking Computer Interface (HBCI)","application/vnd.hp-jlyt":"HP Indigo Digital Press - Job Layout Languate","application/vnd.hp-pcl":"HP Printer Command Language","application/vnd.hp-hpgl":"HP-GL/2 and HP RTL","application/vnd.yamaha.hv-script":"HV Script","application/vnd.yamaha.hv-dic":"HV Voice Dictionary","application/vnd.yamaha.hv-voice":"HV Voice Parameter","application/vnd.hydrostatix.sof-data":"Hydrostatix Master Suite","application/hyperstudio":"Hyperstudio","application/vnd.hal+xml":"Hypertext Application Language","text/html":"HTML","application/vnd.ibm.rights-management":"IBM DB2 Rights Manager","application/vnd.ibm.secure-container":"IBM Electronic Media Management System - Secure Container","text/calendar":"iCalendar","application/vnd.iccprofile":"ICC profile","image/x-icon":"Icon Image","application/vnd.igloader":"igLoader","image/ief":"Image Exchange Format","application/vnd.immervision-ivp":"ImmerVision PURE Players","application/vnd.immervision-ivu":"ImmerVision PURE Players","application/reginfo+xml":"IMS Networks","text/vnd.in3d.3dml":"In3D - 3DML","text/vnd.in3d.spot":"In3D - 3DML","model/iges":"Initial Graphics Exchange Specification (IGES)","application/vnd.intergeo":"Interactive Geometry Software","application/vnd.cinderella":"Interactive Geometry Software Cinderella","application/vnd.intercon.formnet":"Intercon FormNet","application/vnd.isac.fcs":"International Society for Advancement of Cytometry","application/ipfix":"Internet Protocol Flow Information Export","application/pkix-cert":"Internet Public Key Infrastructure - Certificate","application/pkixcmp":"Internet Public Key Infrastructure - Certificate Management Protocole","application/pkix-crl":"Internet Public Key Infrastructure - Certificate Revocation Lists","application/pkix-pkipath":"Internet Public Key Infrastructure - Certification Path","application/vnd.insors.igm":"IOCOM Visimeet","application/vnd.ipunplugged.rcprofile":"IP Unplugged Roaming Client","application/vnd.irepository.package+xml":"iRepository / Lucidoc Editor","text/vnd.sun.j2me.app-descriptor":"J2ME App Descriptor","application/java-archive":"Java Archive","application/java-vm":"Java Bytecode File","application/x-java-jnlp-file":"Java Network Launching Protocol","application/java-serialized-object":"Java Serialized Object","text/x-java-source,java":"Java Source File","application/javascript":"JavaScript","application/json":"JSON","application/vnd.joost.joda-archive":"Joda Archive","video/jpm":"JPG","image/jpeg":"JPG","image/x-citrix-jpeg":"JPG","image/pjpeg":"JPG","video/jpeg":"JPGVideo","application/vnd.kahootz":"Kahootz","application/vnd.chipnuts.karaoke-mmd":"Karaoke on Chipnuts Chipsets","application/vnd.kde.karbon":"KDE KOffice Office Suite - Karbon","application/vnd.kde.kchart":"KDE KOffice Office Suite - KChart","application/vnd.kde.kformula":"KDE KOffice Office Suite - Kformula","application/vnd.kde.kivio":"KDE KOffice Office Suite - Kivio","application/vnd.kde.kontour":"KDE KOffice Office Suite - Kontour","application/vnd.kde.kpresenter":"KDE KOffice Office Suite - Kpresenter","application/vnd.kde.kspread":"KDE KOffice Office Suite - Kspread","application/vnd.kde.kword":"KDE KOffice Office Suite - Kword","application/vnd.kenameaapp":"Kenamea App","application/vnd.kidspiration":"Kidspiration","application/vnd.kinar":"Kinar Applications","application/vnd.kodak-descriptor":"Kodak Storyshare","application/vnd.las.las+xml":"Laser App Enterprise","application/x-latex":"LaTeX","application/vnd.llamagraphics.life-balance.desktop":"Life Balance - Desktop Edition","application/vnd.llamagraphics.life-balance.exchange+xml":"Life Balance - Exchange Format","application/vnd.jam":"Lightspeed Audio Lab","application/vnd.lotus-1-2-3":"Lotus 1-2-3","application/vnd.lotus-approach":"Lotus Approach","application/vnd.lotus-freelance":"Lotus Freelance","application/vnd.lotus-notes":"Lotus Notes","application/vnd.lotus-organizer":"Lotus Organizer","application/vnd.lotus-screencam":"Lotus Screencam","application/vnd.lotus-wordpro":"Lotus Wordpro","audio/vnd.lucent.voice":"Lucent Voice","audio/x-mpegurl":"M3U (Multimedia Playlist)","video/x-m4v":"M4v","application/mac-binhex40":"Macintosh BinHex 4.0","application/vnd.macports.portpkg":"MacPorts Port System","application/vnd.osgeo.mapguide.package":"MapGuide DBXML","application/marc":"MARC Formats","application/marcxml+xml":"MARC21 XML Schema","application/mxf":"Material Exchange Format","application/vnd.wolfram.player":"Mathematica Notebook Player","application/mathematica":"Mathematica Notebooks","application/mathml+xml":"Mathematical Markup Language","application/mbox":"Mbox database files","application/vnd.medcalcdata":"MedCalc","application/mediaservercontrol+xml":"Media Server Control Markup Language","application/vnd.mediastation.cdkey":"MediaRemote","application/vnd.mfer":"Medical Waveform Encoding Format","application/vnd.mfmp":"Melody Format for Mobile Platform","model/mesh":"Mesh Data Type","application/mads+xml":"Metadata Authority  Description Schema","application/mets+xml":"Metadata Encoding and Transmission Standard","application/mods+xml":"Metadata Object Description Schema","application/metalink4+xml":"Metalink","application/vnd.mcd":"Micro CADAM Helix D&D","application/vnd.micrografx.flo":"Micrografx","application/vnd.micrografx.igx":"Micrografx iGrafx Professional","application/vnd.eszigno3+xml":"MICROSEC e-Szign¢","application/x-msaccess":"Access","video/x-ms-asf":"MS ASF","application/x-msdownload":"MS App","application/vnd.ms-artgalry":"MS Artgalry","application/vnd.ms-cab-compressed":"MS Cabinet File","application/vnd.ms-ims":"MS Class Server","application/x-ms-application":"MS ClickOnce","application/x-msclip":"MS Clipboard Clip","image/vnd.ms-modi":"MS Document Imaging Format","application/vnd.ms-fontobject":"MS Embedded OpenType","application/vnd.ms-excel":"Excel","application/vnd.ms-excel.addin.macroenabled.12":"MS Excel - Add-In File","application/vnd.ms-excel.sheet.binary.macroenabled.12":"MS Excel - Binary Workbook","application/vnd.ms-excel.template.macroenabled.12":"MS Excel - Macro-Enabled Template File","application/vnd.ms-excel.sheet.macroenabled.12":"MS Excel - Macro-Enabled Workbook","application/vnd.ms-htmlhelp":"MS Html Help File","application/x-mscardfile":"MS Information Card","application/vnd.ms-lrm":"MS Learning Resource Module","application/x-msmediaview":"MS MediaView","application/x-msmoney":"MS Money","application/vnd.openxmlformats-officedocument.presentationml.presentation":"MS Office - OOXML - Presentation","application/vnd.openxmlformats-officedocument.presentationml.slide":"MS Office - OOXML - Presentation (Slide)","application/vnd.openxmlformats-officedocument.presentationml.slideshow":"MS Office - OOXML - Presentation (Slideshow)","application/vnd.openxmlformats-officedocument.presentationml.template":"MS Office - OOXML - Presentation Template","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet":"MS Office - OOXML - Spreadsheet","application/vnd.openxmlformats-officedocument.spreadsheetml.template":"MS Office - OOXML - Spreadsheet Template","application/vnd.openxmlformats-officedocument.wordprocessingml.document":"MS Office - OOXML - Word Document","application/vnd.openxmlformats-officedocument.wordprocessingml.template":"MS Office - OOXML - Word Document Template","application/x-msbinder":"MS Office Binder","application/vnd.ms-officetheme":"MS Office System Release Theme","application/onenote":"OneNote","audio/vnd.ms-playready.media.pya":"MS PlayReady Ecosystem","video/vnd.ms-playready.media.pyv":"MS PlayReady Ecosystem Video","application/vnd.ms-powerpoint":"PowerPoint","application/vnd.ms-powerpoint.addin.macroenabled.12":"PowerPoint - Add-in file","application/vnd.ms-powerpoint.slide.macroenabled.12":"PowerPoint - Macro-Enabled Open XML Slide","application/vnd.ms-powerpoint.presentation.macroenabled.12":"PowerPoint - Macro-Enabled Presentation File","application/vnd.ms-powerpoint.slideshow.macroenabled.12":"PowerPoint - Macro-Enabled Slide Show File","application/vnd.ms-powerpoint.template.macroenabled.12":"PowerPoint - Macro-Enabled Template File","application/vnd.ms-project":"MS Project","application/x-mspublisher":"MS Publisher","application/x-msschedule":"MS Schedule+","application/x-silverlight-app":"MS Silverlight","application/vnd.ms-pki.stl":"MS Trust UI Provider - Certificate Trust Link","application/vnd.ms-pki.seccat":"MS Trust UI Provider - Security Catalog","application/vnd.visio":"Visio","application/vnd.visio2013":"Visio 2013","video/x-ms-wm":"MS Windows Media","audio/x-ms-wma":"WMA","audio/x-ms-wax":"MS Windows Media Audio Redirector","video/x-ms-wmx":"MS Windows Media Audio/Video Playlist","application/x-ms-wmd":"MS Windows Media Player Download Package","application/vnd.ms-wpl":"MS Windows Media Player Playlist","application/x-ms-wmz":"MS Windows Media Player Skin Package","video/x-ms-wmv":"WMV","video/x-ms-wvx":"MS Windows Media Video Playlist","application/x-msmetafile":"MS Windows Metafile","application/x-msterminal":"MS Windows Terminal Services","application/msword":"Word","application/vnd.ms-word.document.macroenabled.12":"MS Word - Macro-Enabled Document","application/vnd.ms-word.template.macroenabled.12":"MS Word - Macro-Enabled Template","application/x-mswrite":"MS Wordpad","application/vnd.ms-works":"MS Works","application/x-ms-xbap":"MS XAML Browser Application","application/vnd.ms-xpsdocument":"MS XML Paper Specification","audio/midi":"MIDI","application/vnd.ibm.minipay":"MiniPay","application/vnd.ibm.modcap":"MO:DCA-P","application/vnd.jcp.javame.midlet-rms":"Mobile Information Device Profile","application/vnd.tmobile-livetv":"MobileTV","application/x-mobipocket-ebook":"Mobipocket","application/vnd.mobius.mbk":"Mobius Management Systems - Basket file","application/vnd.mobius.dis":"Mobius Management Systems - Distribution Database","application/vnd.mobius.plc":"Mobius Management Systems - Policy Definition Language File","application/vnd.mobius.mqy":"Mobius Management Systems - Query File","application/vnd.mobius.msl":"Mobius Management Systems - Script Language","application/vnd.mobius.txf":"Mobius Management Systems - Topic Index File","application/vnd.mobius.daf":"Mobius Management Systems - UniversalArchive","text/vnd.fly":"mod_fly / fly.cgi","application/vnd.mophun.certificate":"Mophun Certificate","application/vnd.mophun.application":"Mophun VM","video/mj2":"Motion JPEG 2000","audio/mpeg":"MPEG Audio","video/vnd.mpegurl":"MPEG Url","video/mpeg":"MPEG","application/mp21":"MPEG-21","audio/mp4":"MP4 Audio","video/mp4":"MP4 Video","application/mp4":"MP4","application/vnd.apple.mpegurl":"Multimedia Playlist Unicode","application/vnd.musician":"MUsical Score Interpreted Code Invented for the ASCII designation of Notation","application/vnd.muvee.style":"Muvee Automatic Video Editing","application/xv+xml":"MXML","application/vnd.nokia.n-gage.data":"N-Gage Game Data","application/vnd.nokia.n-gage.symbian.install":"N-Gage Game Installer","application/x-dtbncx+xml":"Navigation Control file for XML (for ePub)","application/x-netcdf":"Network Common Data Form (NetCDF)","application/vnd.neurolanguage.nlu":"neuroLanguage","application/vnd.dna":"New Moon Liftoff/DNA","application/vnd.noblenet-directory":"NobleNet Directory","application/vnd.noblenet-sealer":"NobleNet Sealer","application/vnd.noblenet-web":"NobleNet Web","application/vnd.nokia.radio-preset":"Nokia Radio Application - Preset","application/vnd.nokia.radio-presets":"Nokia Radio Application - Preset","text/n3":"Notation3","application/vnd.novadigm.edm":"Novadigm's RADIA and EDM products","application/vnd.novadigm.edx":"Novadigm's RADIA and EDM products","application/vnd.novadigm.ext":"Novadigm's RADIA and EDM products","application/vnd.flographit":"NpGraphIt","audio/vnd.nuera.ecelp4800":"Nuera ECELP 4800","audio/vnd.nuera.ecelp7470":"Nuera ECELP 7470","audio/vnd.nuera.ecelp9600":"Nuera ECELP 9600","application/oda":"Office Document Architecture","application/ogg":"Ogg","audio/ogg":"Ogg Audio","video/ogg":"Ogg Video","application/vnd.oma.dd2+xml":"OMA Download Agents","application/vnd.oasis.opendocument.text-web":"Open Document Text Web","application/oebps-package+xml":"Open eBook Publication Structure","application/vnd.intu.qbo":"Open Financial Exchange","application/vnd.openofficeorg.extension":"Open Office Extension","application/vnd.yamaha.openscoreformat":"Open Score Format","audio/webm":"WebM Audio","video/webm":"WebM Video","application/vnd.oasis.opendocument.chart":"OpenDocument Chart","application/vnd.oasis.opendocument.chart-template":"OpenDocument Chart Template","application/vnd.oasis.opendocument.database":"OpenDocument Database","application/vnd.oasis.opendocument.formula":"OpenDocument Formula","application/vnd.oasis.opendocument.formula-template":"OpenDocument Formula Template","application/vnd.oasis.opendocument.graphics":"OpenDocument Graphics","application/vnd.oasis.opendocument.graphics-template":"OpenDocument Graphics Template","application/vnd.oasis.opendocument.image":"OpenDocument Image","application/vnd.oasis.opendocument.image-template":"OpenDocument Image Template","application/vnd.oasis.opendocument.presentation":"OpenDocument Presentation","application/vnd.oasis.opendocument.presentation-template":"OpenDocument Presentation Template","application/vnd.oasis.opendocument.spreadsheet":"OpenDocument Spreadsheet","application/vnd.oasis.opendocument.spreadsheet-template":"OpenDocument Spreadsheet Template","application/vnd.oasis.opendocument.text":"OpenDocument Text","application/vnd.oasis.opendocument.text-master":"OpenDocument Text Master","application/vnd.oasis.opendocument.text-template":"OpenDocument Text Template","image/ktx":"OpenGL Textures (KTX)","application/vnd.sun.xml.calc":"OpenOffice - Calc (Spreadsheet)","application/vnd.sun.xml.calc.template":"OpenOffice - Calc Template (Spreadsheet)","application/vnd.sun.xml.draw":"OpenOffice - Draw (Graphics)","application/vnd.sun.xml.draw.template":"OpenOffice - Draw Template (Graphics)","application/vnd.sun.xml.impress":"OpenOffice - Impress (Presentation)","application/vnd.sun.xml.impress.template":"OpenOffice - Impress Template (Presentation)","application/vnd.sun.xml.math":"OpenOffice - Math (Formula)","application/vnd.sun.xml.writer":"OpenOffice - Writer (Text - HTML)","application/vnd.sun.xml.writer.global":"OpenOffice - Writer (Text - HTML)","application/vnd.sun.xml.writer.template":"OpenOffice - Writer Template (Text - HTML)","application/x-font-otf":"OpenType Font File","application/vnd.yamaha.openscoreformat.osfpvg+xml":"OSFPVG","application/vnd.osgi.dp":"OSGi Deployment Package","application/vnd.palm":"PalmOS Data","text/x-pascal":"Pascal Source File","application/vnd.pawaafile":"PawaaFILE","application/vnd.hp-pclxl":"PCL 6 Enhanced (Formely PCL XL)","application/vnd.picsel":"Pcsel eFIF File","image/x-pcx":"PCX Image","image/vnd.adobe.photoshop":"Photoshop Document","application/pics-rules":"PICSRules","image/x-pict":"PICT Image","application/x-chat":"pIRCh","application/pkcs10":"PKCS #10 - Certification Request Standard","application/x-pkcs12":"PKCS #12 - Personal Information Exchange Syntax Standard","application/pkcs7-mime":"PKCS #7 - Cryptographic Message Syntax Standard","application/pkcs7-signature":"PKCS #7 - Cryptographic Message Syntax Standard","application/x-pkcs7-certreqresp":"PKCS #7 - Cryptographic Message Syntax Standard (Certificate Request Response)","application/x-pkcs7-certificates":"PKCS #7 - Cryptographic Message Syntax Standard (Certificates)","application/pkcs8":"PKCS #8 - Private-Key Information Syntax Standard","application/vnd.pocketlearn":"PocketLearn Viewers","image/x-portable-anymap":"Portable Anymap Image","image/x-portable-bitmap":"Portable Bitmap Format","application/x-font-pcf":"Portable Compiled Format","application/font-tdpfr":"Portable Font Resource","application/x-chess-pgn":"Portable Game Notation (Chess Games)","image/x-portable-graymap":"Portable Graymap Format","image/png":"PNG","image/x-citrix-png":"PNG","image/x-png":"PNG","image/x-portable-pixmap":"Portable Pixmap Format","application/pskc+xml":"Portable Symmetric Key Container","application/vnd.ctc-posml":"PosML","application/postscript":"PostScript","application/x-font-type1":"PostScript Fonts","application/vnd.powerbuilder6":"PowerBuilder","application/pgp-encrypted":"Pretty Good Privacy","application/pgp-signature":"Pretty Good Privacy - Signature","application/vnd.previewsystems.box":"Preview Systems ZipLock/VBox","application/vnd.pvi.ptid1":"Princeton Video Image","application/pls+xml":"Pronunciation Lexicon Specification","application/vnd.pg.format":"Proprietary P&G Standard Reporting System","application/vnd.pg.osasli":"Proprietary P&G Standard Reporting System","text/prs.lines.tag":"PRS Lines Tag","application/x-font-linux-psf":"PSF Fonts","application/vnd.publishare-delta-tree":"PubliShare Objects","application/vnd.pmi.widget":"Qualcomm's Plaza Mobile Internet","application/vnd.quark.quarkxpress":"QuarkXpress","application/vnd.epson.esf":"QUASS Stream Player","application/vnd.epson.msf":"QUASS Stream Player","application/vnd.epson.ssf":"QUASS Stream Player","application/vnd.epson.quickanime":"QuickAnime Player","application/vnd.intu.qfx":"Quicken","video/quicktime":"Quicktime Video","application/x-rar-compressed":"RAR Archive","audio/x-pn-realaudio":"Real Audio Sound","audio/x-pn-realaudio-plugin":"Real Audio Sound","application/rsd+xml":"Really Simple Discovery","application/vnd.rn-realmedia":"RealMedia","application/vnd.realvnc.bed":"RealVNC","application/vnd.recordare.musicxml":"Recordare Applications","application/vnd.recordare.musicxml+xml":"Recordare Applications","application/relax-ng-compact-syntax":"Relax NG Compact Syntax","application/vnd.data-vision.rdz":"RemoteDocs R-Viewer","application/rdf+xml":"Resource Description Framework","application/vnd.cloanto.rp9":"RetroPlatform Player","application/vnd.jisp":"RhymBox","application/rtf":"Rich Text","text/richtext":"Rich Text","application/vnd.route66.link66+xml":"ROUTE 66 Location Based Services","application/rss+xml":"RSS","application/shf+xml":"S Hexdump Format","application/vnd.sailingtracker.track":"SailingTracker","image/svg+xml":"SVG","application/vnd.sus-calendar":"ScheduleUs","application/sru+xml":"Search/Retrieve via URL Response Format","application/set-payment-initiation":"Secure Electronic Transaction - Payment","application/set-registration-initiation":"Secure Electronic Transaction - Registration","application/vnd.sema":"Secured eMail","application/vnd.semd":"Secured eMail","application/vnd.semf":"Secured eMail","application/vnd.seemail":"SeeMail","application/x-font-snf":"Server Normal Format","application/scvp-vp-request":"Server-Based Certificate Validation Protocol - Validation Policies - Request","application/scvp-vp-response":"Server-Based Certificate Validation Protocol - Validation Policies - Response","application/scvp-cv-request":"Server-Based Certificate Validation Protocol - Validation Request","application/scvp-cv-response":"Server-Based Certificate Validation Protocol - Validation Response","application/sdp":"Session Description Protocol","text/x-setext":"Setext","video/x-sgi-movie":"SGI Movie","application/vnd.shana.informed.formdata":"Shana Informed Filler","application/vnd.shana.informed.formtemplate":"Shana Informed Filler","application/vnd.shana.informed.interchange":"Shana Informed Filler","application/vnd.shana.informed.package":"Shana Informed Filler","application/thraud+xml":"Sharing Transaction Fraud Data","application/x-shar":"Shell Archive","image/x-rgb":"Silicon Graphics RGB Bitmap","application/vnd.epson.salt":"SimpleAnimeLite Player","application/vnd.accpac.simply.aso":"Simply Accounting","application/vnd.accpac.simply.imp":"Simply Accounting - Data Import","application/vnd.simtech-mindmapper":"SimTech MindMapper","application/vnd.commonspace":"Sixth Floor Media - CommonSpace","application/vnd.yamaha.smaf-audio":"SMAF Audio","application/vnd.smaf":"SMAF File","application/vnd.yamaha.smaf-phrase":"SMAF Phrase","application/vnd.smart.teacher":"SMART Technologies Apps","application/vnd.svd":"SourceView Document","application/sparql-query":"SPARQL - Query","application/sparql-results+xml":"SPARQL - Results","application/srgs":"Speech Recognition Grammar Specification","application/srgs+xml":"Speech Recognition Grammar Specification - XML","application/ssml+xml":"Speech Synthesis Markup Language","application/vnd.koan":"SSEYO Koan Play File","text/sgml":"SGML","application/vnd.stardivision.calc":"StarOffice - Calc","application/vnd.stardivision.draw":"StarOffice - Draw","application/vnd.stardivision.impress":"StarOffice - Impress","application/vnd.stardivision.math":"StarOffice - Math","application/vnd.stardivision.writer":"StarOffice - Writer","application/vnd.stardivision.writer-global":"StarOffice - Writer  (Global)","application/vnd.stepmania.stepchart":"StepMania","application/x-stuffit":"Stuffit Archive","application/x-stuffitx":"Stuffit Archive","application/vnd.solent.sdkm+xml":"SudokuMagic","application/vnd.olpc-sugar":"Sugar Linux Application Bundle","audio/basic":"Sun Audio - Au file format","application/vnd.wqd":"SundaHus WQ","application/vnd.symbian.install":"Symbian Install Package","application/smil+xml":"Synchronized Multimedia Integration Language","application/vnd.syncml+xml":"SyncML","application/vnd.syncml.dm+wbxml":"SyncML - Device Management","application/vnd.syncml.dm+xml":"SyncML - Device Management","application/x-sv4cpio":"System V Release 4 CPIO Archive","application/x-sv4crc":"System V Release 4 CPIO Checksum Data","application/sbml+xml":"Systems Biology Markup Language","text/tab-separated-values":"Tab Seperated Values","image/tiff":"TIFF","application/vnd.tao.intent-module-archive":"Tao Intent","application/x-tar":"Tar File","application/x-tcl":"Tcl Script","application/x-tex":"TeX","application/x-tex-tfm":"TeX Font Metric","application/tei+xml":"Text Encoding and Interchange","text/plain":"Text","application/vnd.spotfire.dxp":"TIBCO Spotfire","application/vnd.spotfire.sfs":"TIBCO Spotfire","application/timestamped-data":"Time Stamped Data Envelope","application/vnd.trid.tpt":"TRI Systems Config","application/vnd.triscape.mxs":"Triscape Map Explorer","text/troff":"troff","application/vnd.trueapp":"True BASIC","application/x-font-ttf":"TrueType Font","text/turtle":"Turtle (Terse RDF Triple Language)","application/vnd.umajin":"UMAJIN","application/vnd.uoml+xml":"Unique Object Markup Language","application/vnd.unity":"Unity 3d","application/vnd.ufdl":"Universal Forms Description Language","text/uri-list":"URI Resolution Services","application/vnd.uiq.theme":"User Interface Quartz - Theme (Symbian)","application/x-ustar":"Ustar (Uniform Standard Tape Archive)","text/x-uuencode":"UUEncode","text/x-vcalendar":"vCalendar","text/x-vcard":"vCard","application/x-cdlink":"Video CD","application/vnd.vsf":"Viewport+","model/vrml":"Virtual Reality Modeling Language","application/vnd.vcx":"VirtualCatalog","model/vnd.mts":"Virtue MTS","model/vnd.vtu":"Virtue VTU","application/vnd.visionary":"Visionary","video/vnd.vivo":"Vivo","application/ccxml+xml,":"Voice Browser Call Control","application/voicexml+xml":"VoiceXML","application/x-wais-source":"WAIS Source","application/vnd.wap.wbxml":"WAP Binary XML (WBXML)","image/vnd.wap.wbmp":"WBMP","audio/x-wav":"WAV","application/davmount+xml":"Web Distributed Authoring and Versioning","application/x-font-woff":"WOFF","application/wspolicy+xml":"Web Services Policy","image/webp":"WebP","application/vnd.webturbo":"WebTurbo","application/widget":"Widget Packaging and XML Configuration","application/winhlp":"WinHelp","text/vnd.wap.wml":"WML","text/vnd.wap.wmlscript":"WMLScript","application/vnd.wap.wmlscriptc":"WMLScript","application/vnd.wordperfect":"Wordperfect","application/vnd.wt.stf":"Worldtalk","application/wsdl+xml":"WSDL","image/x-xbitmap":"X BitMap","image/x-xpixmap":"X PixMap","image/x-xwindowdump":"X Window Dump","application/x-x509-ca-cert":"X.509 Certificate","application/x-xfig":"Xfig","application/xhtml+xml":"XHTML","application/xml":"XML","application/xcap-diff+xml":"XML Configuration Access Protocol - XCAP Diff","application/xenc+xml":"XML Encryption Syntax and Processing","application/patch-ops-error+xml":"XML Patch Framework","application/resource-lists+xml":"XML Resource Lists","application/rls-services+xml":"XML Resource Lists","application/resource-lists-diff+xml":"XML Resource Lists Diff","application/xslt+xml":"XML Transformations","application/xop+xml":"XML-Binary Optimized Packaging","application/x-xpinstall":"XPInstall - Mozilla","application/xspf+xml":"XSPF - XML Shareable Playlist Format","application/vnd.mozilla.xul+xml":"XUL - XML User Interface Language","chemical/x-xyz":"XYZ File Format","text/yaml":"YAML","application/yang":"YANG Data Modeling Language","application/yin+xml":"YIN (YANG - XML)","application/vnd.zul":"Z.U.L. Geometry","application/zip":"Zip Archive","application/vnd.handheld-entertainment+xml":"ZVUE Media Manager","application/vnd.zzazz.deck+xml":"Zzazz Deck"};function ok(e,t=!1){return t?ik[e]||null:nk[e]||null}const sk=w({props:{file:{type:Object,default:()=>({})},isNew:{type:Boolean,default:!1}},setup(e){const{t:t,n:l}=x(),a=V((()=>e.isNew?null:e.file&&e.file.filesize?Te(e.file.filesize,{decimalPlaces:2,unitSeparator:" "}):null)),{creationDate:i,modificationDate:n}=function(){const l=F(null),a=F(null);return O((()=>e.file),(async()=>{if(!e.file)return null;l.value=await _h(new Date(e.file.uploaded_on),String(t("date-fns_date_short"))),e.file.modified_on&&(a.value=await _h(new Date(e.file.modified_on),String(t("date-fns_date_short"))))}),{immediate:!0}),{creationDate:l,modificationDate:a}}(),{userCreated:o,userModified:s}=function(){const t=F(!1),l=F(null),a=F(null);return O((()=>e.file),(async function(){if(!e.file)return null;if(!e.file.uploaded_by)return null;t.value=!0;try{const i=(await dI.get(`/users/${e.file.uploaded_by}`,{params:{fields:["id","email","first_name","last_name","role"]}})).data.data;if(l.value={id:e.file.uploaded_by,name:D_(i),link:`/users/${i.id}`},e.file.modified_by){const t=(await dI.get(`/users/${e.file.modified_by}`,{params:{fields:["id","email","first_name","last_name","role"]}})).data.data;a.value={id:e.file.modified_by,name:D_(t),link:`/users/${t.id}`}}}finally{t.value=!1}}),{immediate:!0}),{userCreated:l,userModified:a}}(),{folder:r,folderLink:d}=function(){const t=F(!1),l=F(null),a=V((()=>null===l.value?"/files":`/files/folders/${l.value.id}`));return O((()=>e.file),(async function(){if(!e.file)return null;if(!e.file.folder)return;t.value=!0;try{const a=await dI.get(`/folders/${e.file.folder}`,{params:{fields:["id","name"]}}),{name:i}=a.data.data;l.value={id:e.file.folder,name:i}}finally{t.value=!1}}),{immediate:!0}),{folder:l,folderLink:a}}(),c=V((()=>uI(`${Jh()}assets/${e.file.id}`)));return{t:t,n:l,readableMimeType:ok,size:a,creationDate:i,modificationDate:n,userCreated:o,userModified:s,folder:r,folderLink:d,getRootPath:Jh,fileLink:c}}}),rk={key:0},dk={key:0},ck={key:1},uk={key:2},pk={key:3},mk={key:4},fk={key:5},vk={key:6},_k={key:7,class:"checksum"},yk={key:8},hk={key:9},gk={key:10},bk=["href"],kk={key:0},wk={key:1},xk={key:2},Vk={key:3},Ck={key:4},Sk={class:"page-description"};var Ek=F_(sk,[["render",function(e,t,l,a,i,n){const o=S("router-link"),s=S("user-popover"),r=S("v-divider"),d=S("sidebar-detail"),c=q("md");return E(),A(d,{icon:"info_outline",title:e.t("file_details"),close:""},{default:D((()=>{var t,l,a,i,n,d,u,p,m,f,v,_,y,h,g,b,k,w;return[e.file?(E(),P("dl",rk,[e.file.type?(E(),P("div",dk,[j("dt",null,U(e.t("type")),1),j("dd",null,U(e.readableMimeType(e.file.type)||e.file.type),1)])):B("",!0),e.file.width&&e.file.height?(E(),P("div",ck,[j("dt",null,U(e.t("dimensions")),1),j("dd",null,U(e.n(e.file.width))+" × "+U(e.n(e.file.height)),1)])):B("",!0),e.file.duration?(E(),P("div",uk,[j("dt",null,U(e.t("duration")),1),j("dd",null,U(e.n(e.file.duration)),1)])):B("",!0),e.file.filesize?(E(),P("div",pk,[j("dt",null,U(e.t("size")),1),j("dd",null,U(e.size),1)])):B("",!0),e.file.charset?(E(),P("div",mk,[j("dt",null,U(e.t("charset")),1),j("dd",null,U(e.charset),1)])):B("",!0),e.file.embed?(E(),P("div",fk,[j("dt",null,U(e.t("embed")),1),j("dd",null,U(e.embed),1)])):B("",!0),e.creationDate?(E(),P("div",vk,[j("dt",null,U(e.t("created")),1),j("dd",null,U(e.creationDate),1)])):B("",!0),e.file.checksum?(E(),P("div",_k,[j("dt",null,U(e.t("checksum")),1),j("dd",null,U(e.file.checksum),1)])):B("",!0),e.userCreated?(E(),P("div",yk,[j("dt",null,U(e.t("owner")),1),j("dd",null,[I(s,{user:e.userCreated.id},{default:D((()=>[I(o,{to:e.userCreated.link},{default:D((()=>[N(U(e.userCreated.name),1)])),_:1},8,["to"])])),_:1},8,["user"])])])):B("",!0),e.modificationDate?(E(),P("div",hk,[j("dt",null,U(e.t("modified")),1),j("dd",null,U(e.modificationDate),1)])):B("",!0),e.userModified?(E(),P("div",gk,[j("dt",null,U(e.t("edited_by")),1),j("dd",null,[I(s,{user:e.userModified.id},{default:D((()=>[I(o,{to:e.userModified.link},{default:D((()=>[N(U(e.userModified.name),1)])),_:1},8,["to"])])),_:1},8,["user"])])])):B("",!0),j("div",null,[j("dt",null,U(e.t("file")),1),j("dd",null,[j("a",{href:e.fileLink,target:"_blank"},U(e.t("open_in_new_window")),9,bk)])]),j("div",null,[j("dt",null,U(e.t("folder")),1),j("dd",null,[I(o,{to:e.folderLink},{default:D((()=>[N(U(e.t("open"))+' "'+U(e.folder?e.folder.name:e.t("file_library"))+'" '+U(e.t("folder")),1)])),_:1},8,["to"])])]),(null==(l=null==(t=e.file.metadata)?void 0:t.ifd0)?void 0:l.Make)||(null==(i=null==(a=e.file.metadata)?void 0:a.ifd0)?void 0:i.Model)||(null==(d=null==(n=e.file.metadata)?void 0:n.exif)?void 0:d.FNumber)||(null==(p=null==(u=e.file.metadata)?void 0:u.exif)?void 0:p.ExposureTime)||(null==(f=null==(m=e.file.metadata)?void 0:m.exif)?void 0:f.FocalLength)||(null==(_=null==(v=e.file.metadata)?void 0:v.exif)?void 0:_.ISO)?(E(),P(R,{key:11},[I(r),(null==(y=e.file.metadata.ifd0)?void 0:y.Make)&&(null==(h=e.file.metadata.ifd0)?void 0:h.Model)?(E(),P("div",kk,[j("dt",null,U(e.t("camera")),1),j("dd",null,U(e.file.metadata.ifd0.Make)+" "+U(e.file.metadata.ifd0.Model),1)])):B("",!0),(null==(g=e.file.metadata.exif)?void 0:g.FNumber)?(E(),P("div",wk,[j("dt",null,U(e.t("exposure")),1),j("dd",null,"ƒ/"+U(e.file.metadata.exif.FNumber),1)])):B("",!0),(null==(b=e.file.metadata.exif)?void 0:b.ExposureTime)?(E(),P("div",xk,[j("dt",null,U(e.t("shutter")),1),j("dd",null,"1/"+U(Math.round(1/+e.file.metadata.exif.ExposureTime))+" "+U(e.t("second")),1)])):B("",!0),(null==(k=e.file.metadata.exif)?void 0:k.FocalLength)?(E(),P("div",Vk,[j("dt",null,U(e.t("focal_length")),1),j("dd",null,U(e.file.metadata.exif.FocalLength)+"mm",1)])):B("",!0),(null==(w=e.file.metadata.exif)?void 0:w.ISO)?(E(),P("div",Ck,[j("dt",null,U(e.t("iso")),1),j("dd",null,U(e.file.metadata.exif.ISO),1)])):B("",!0)],64)):B("",!0)])):B("",!0),I(r),z(j("div",Sk,null,512),[[c,e.t("page_help_files_item")]])]})),_:1},8,["title"])}],["__scopeId","data-v-b4bd9672"]]);const Ak=w({components:{FilesNavigation:kb},setup(){const{t:e}=x();return{t:e}}}),Dk={class:"not-found"};var Ik=F_(Ak,[["render",function(e,t,l,a,i,n){const o=S("files-navigation"),s=S("v-info"),r=S("private-view");return E(),A(r,{title:e.t("page_not_found")},{navigation:D((()=>[I(o)])),default:D((()=>[j("div",Dk,[I(s,{title:e.t("page_not_found"),icon:"not_interested"},{default:D((()=>[N(U(e.t("page_not_found_body")),1)])),_:1},8,["title"])])])),_:1},8,["title"])}],["__scopeId","data-v-6900fd47"]]);const Fk=w({props:{modelValue:{type:Boolean,default:!1},file:{type:Object,default:()=>({})},preset:{type:Object,default:()=>({})}},emits:["update:modelValue","replaced"],setup(e,{emit:t}){const{t:l}=x();return{t:l,uploaded:function(){t("update:modelValue",!1),t("replaced")}}}});const Ok=w({name:"FilesItem",components:{FilesNavigation:kb,RevisionsDrawerDetail:zh,CommentsSidebarDetail:mg,FilePreview:Nb,ImageEditor:ak,FileInfoSidebarDetail:Ek,FolderPicker:yb,FilesNotFound:Ik,ReplaceFile:F_(Fk,[["render",function(e,t,l,a,i,n){const o=S("v-card-title"),s=S("v-upload"),r=S("v-card-text"),d=S("v-button"),c=S("v-card-actions"),u=S("v-card"),p=S("v-dialog");return E(),A(p,{"model-value":e.modelValue,"onUpdate:modelValue":t[1]||(t[1]=t=>e.$emit("update:modelValue",!1)),onEsc:t[2]||(t[2]=t=>e.$emit("update:modelValue",!1))},{default:D((()=>[e.file?(E(),A(u,{key:0},{default:D((()=>[I(o,null,{default:D((()=>[N(U(e.t("replace_file")),1)])),_:1}),I(r,null,{default:D((()=>[I(s,{preset:e.preset,"file-id":e.file.id,"from-url":"",onInput:e.uploaded},null,8,["preset","file-id","onInput"])])),_:1}),I(c,null,{default:D((()=>[I(d,{secondary:"",onClick:t[0]||(t[0]=t=>e.$emit("update:modelValue",!1))},{default:D((()=>[N(U(e.t("done")),1)])),_:1})])),_:1})])),_:1})):B("",!0)])),_:1},8,["model-value"])}],["__scopeId","data-v-767b664e"]]),SaveOptions:kg},props:{primaryKey:{type:String,required:!0}},setup(e){const{t:t}=x(),l=ie(),a=F(),{primaryKey:i}=T(e),{breadcrumb:n}={breadcrumb:V((()=>{var e;return(null==(e=null==c?void 0:c.value)?void 0:e.folder)?[{name:t("file_library"),to:{path:`/files/folders/${c.value.folder}`}}]:[{name:t("file_library"),to:"/files"}]}))},o=F(!1),s=F(null),{isNew:r,edits:d,item:c,saving:u,loading:p,error:m,save:f,remove:v,deleting:_,saveAsCopy:y,isBatch:h,refresh:g,validationErrors:b}=hg(F("directus_files"),i),k=V((()=>Object.keys(d.value).length>0));Sg(k);const w=F(!1),C=F(!1),S=V((()=>c.value&&c.value.modified_on?uI(Jh()+`assets/${e.primaryKey}?cache-buster=${c.value.modified_on}&key=system-large-contain`):uI(Jh()+`assets/${e.primaryKey}?key=system-large-contain`))),E=["type","width","height","filesize","checksum","uploaded_by","uploaded_on","modified_by","modified_on","duration","folder","charset","embed"],A=V((()=>{var e;return c.value&&(null==(e=c.value)?void 0:e.folder)?`/files/folders/${c.value.folder}`:"/files"})),D=F(!1),I=F(null),{moveToDialogActive:$,moveToFolder:P,moving:j,selectedFolder:L}=function(){const l=F(!1),a=F(!1),i=F();return O(c,(()=>{var e;i.value=(null==(e=c.value)?void 0:e.folder)||null})),{moveToDialogActive:l,moving:a,moveToFolder:async function(){var n;a.value=!0;try{const o=await dI.patch(`/files/${e.primaryKey}`,{folder:i.value},{params:{fields:"folder.name"}});await g();const s=(null==(n=o.data.data.folder)?void 0:n.name)||t("file_library");Qh({title:t("file_moved",{folder:s}),type:"success",icon:"folder_move"})}catch(o){jy(o)}finally{l.value=!1,a.value=!1}},selectedFolder:i}}();Hh("meta+s",K,a);const R=e=>{if(k.value)return D.value=!0,I.value=e.fullPath,!1};Se(R),te(R);const{deleteAllowed:M,saveAllowed:U,updateAllowed:N,fields:B,revisionsAllowed:q}=Cg(F("directus_files"),c,r),z=V((()=>B.value.filter((e=>!1===E.includes(e.field)))));return{t:t,router:l,item:c,loading:p,error:m,isNew:r,breadcrumb:n,edits:d,hasEdits:k,saving:u,saveAndQuit:async function(){try{await f(),l.push(A.value)}catch{}},deleteAndQuit:async function(){try{await v(),l.push(A.value)}catch{}},confirmDelete:w,deleting:_,saveAndStay:K,saveAsCopyAndNavigate:async function(){const e=await y();e&&l.push(`/files/${e}`)},isBatch:h,editActive:C,revisionsDrawerDetail:s,confirmLeave:D,leaveTo:I,discardAndLeave:function(){if(!I.value)return;d.value={},l.push(I.value)},downloadFile:function(){const t=uI(Jh()+`assets/${e.primaryKey}?download`);window.open(t,"_blank")},moveToDialogActive:$,moveToFolder:P,moving:j,selectedFolder:L,fileSrc:S,form:a,to:A,replaceFileDialogActive:o,refresh:g,deleteAllowed:M,saveAllowed:U,updateAllowed:N,fields:B,fieldsFiltered:z,revisionsAllowed:q,validationErrors:b};async function K(){var e,t;try{await f(),null==(t=null==(e=s.value)?void 0:e.refresh)||t.call(e)}catch{}}}}),$k={class:"file-item"};var Tk=Zt({id:"files",name:"$t:file_library",icon:"folder",routes:[{name:"files-collection",path:"",component:Pb,children:[{path:"+",name:"add-file",components:{addNew:nb}}]},{name:"files-item",path:":primaryKey",component:F_(Ok,[["render",function(e,t,l,a,i,n){const o=S("files-not-found"),s=S("v-icon"),r=S("v-button"),d=S("v-breadcrumb"),c=S("v-card-title"),u=S("v-card-actions"),p=S("v-card"),m=S("v-dialog"),f=S("folder-picker"),v=S("v-card-text"),_=S("save-options"),y=S("files-navigation"),h=S("file-preview"),g=S("image-editor"),b=S("v-form"),k=S("file-info-sidebar-detail"),w=S("revisions-drawer-detail"),x=S("comments-sidebar-detail"),V=S("replace-file"),C=S("private-view"),F=q("tooltip");return e.loading||e.item?(E(),A(C,{key:1,title:e.loading||!e.item?e.t("loading"):e.item.title},{"title-outer:prepend":D((()=>[I(r,{class:"header-icon",rounded:"",icon:"",secondary:"",exact:"",onClick:t[0]||(t[0]=t=>e.router.back())},{default:D((()=>[I(s,{name:"arrow_back"})])),_:1})])),headline:D((()=>[I(d,{items:e.breadcrumb},null,8,["items"])])),actions:D((()=>[I(m,{modelValue:e.confirmDelete,"onUpdate:modelValue":t[2]||(t[2]=t=>e.confirmDelete=t),onEsc:t[3]||(t[3]=t=>e.confirmDelete=!1)},{activator:D((({on:t})=>[z(I(r,{rounded:"",icon:"",class:"action-delete",disabled:null===e.item||!1===e.deleteAllowed,onClick:t},{default:D((()=>[I(s,{name:"delete",outline:""})])),_:2},1032,["disabled","onClick"]),[[F,e.deleteAllowed?e.t("delete_label"):e.t("not_allowed"),void 0,{bottom:!0}]])])),default:D((()=>[I(p,null,{default:D((()=>[I(c,null,{default:D((()=>[N(U(e.t("delete_are_you_sure")),1)])),_:1}),I(u,null,{default:D((()=>[I(r,{secondary:"",onClick:t[1]||(t[1]=t=>e.confirmDelete=!1)},{default:D((()=>[N(U(e.t("cancel")),1)])),_:1}),I(r,{kind:"danger",loading:e.deleting,onClick:e.deleteAndQuit},{default:D((()=>[N(U(e.t("delete_label")),1)])),_:1},8,["loading","onClick"])])),_:1})])),_:1})])),_:1},8,["modelValue"]),!1===e.isNew?(E(),A(m,{key:0,modelValue:e.moveToDialogActive,"onUpdate:modelValue":t[6]||(t[6]=t=>e.moveToDialogActive=t),onEsc:t[7]||(t[7]=t=>e.moveToDialogActive=!1)},{activator:D((({on:t})=>[z(I(r,{rounded:"",icon:"",disabled:null===e.item,class:"folder",onClick:t},{default:D((()=>[I(s,{name:"folder_move"})])),_:2},1032,["disabled","onClick"]),[[F,e.t("move_to_folder"),void 0,{bottom:!0}]])])),default:D((()=>[I(p,null,{default:D((()=>[I(c,null,{default:D((()=>[N(U(e.t("move_to_folder")),1)])),_:1}),I(v,null,{default:D((()=>[I(f,{modelValue:e.selectedFolder,"onUpdate:modelValue":t[4]||(t[4]=t=>e.selectedFolder=t)},null,8,["modelValue"])])),_:1}),I(u,null,{default:D((()=>[I(r,{secondary:"",onClick:t[5]||(t[5]=t=>e.moveToDialogActive=!1)},{default:D((()=>[N(U(e.t("cancel")),1)])),_:1}),I(r,{loading:e.moving,onClick:e.moveToFolder},{default:D((()=>[N(U(e.t("move")),1)])),_:1},8,["loading","onClick"])])),_:1})])),_:1})])),_:1},8,["modelValue"])):B("",!0),z(I(r,{rounded:"",icon:"",class:"download",onClick:e.downloadFile},{default:D((()=>[I(s,{name:"save_alt"})])),_:1},8,["onClick"]),[[F,e.t("download"),void 0,{bottom:!0}]]),e.item&&e.item.type.includes("image")?z((E(),A(r,{key:1,rounded:"",icon:"",class:"edit",onClick:t[8]||(t[8]=t=>e.editActive=!0)},{default:D((()=>[I(s,{name:"tune"})])),_:1},512)),[[F,e.t("edit"),void 0,{bottom:!0}]]):B("",!0),z(I(r,{rounded:"",icon:"",loading:e.saving,disabled:!1===e.hasEdits||!1===e.saveAllowed,onClick:e.saveAndQuit},{"append-outer":D((()=>[!0===e.hasEdits||!0===e.saveAllowed?(E(),A(_,{key:0,onSaveAndStay:e.saveAndStay,onSaveAsCopy:e.saveAsCopyAndNavigate},null,8,["onSaveAndStay","onSaveAsCopy"])):B("",!0)])),default:D((()=>[I(s,{name:"check"})])),_:1},8,["loading","disabled","onClick"]),[[F,e.saveAllowed?e.t("save"):e.t("not_allowed"),void 0,{bottom:!0}]])])),navigation:D((()=>[I(y,{"current-folder":e.item&&e.item.folder},null,8,["current-folder"])])),sidebar:D((()=>[I(k,{file:e.item},null,8,["file"]),!1===e.isBatch&&!1===e.isNew&&e.revisionsAllowed?(E(),A(w,{key:0,ref:"revisionsDrawerDetail",collection:"directus_files","primary-key":e.primaryKey},null,8,["primary-key"])):B("",!0),!1===e.isBatch&&!1===e.isNew?(E(),A(x,{key:1,collection:"directus_files","primary-key":e.primaryKey},null,8,["primary-key"])):B("",!0)])),default:D((()=>[j("div",$k,[!1===e.isBatch&&e.item?(E(),A(h,{key:0,src:e.fileSrc,mime:e.item.type,width:e.item.width,height:e.item.height,title:e.item.title,onClick:t[9]||(t[9]=t=>e.replaceFileDialogActive=!0)},null,8,["src","mime","width","height","title"])):B("",!0),e.item&&e.item.type.startsWith("image")?(E(),A(g,{key:1,id:e.item.id,modelValue:e.editActive,"onUpdate:modelValue":t[10]||(t[10]=t=>e.editActive=t),onRefresh:e.refresh},null,8,["id","modelValue","onRefresh"])):B("",!0),I(b,{ref:"form",modelValue:e.edits,"onUpdate:modelValue":t[11]||(t[11]=t=>e.edits=t),fields:e.fieldsFiltered,loading:e.loading,"initial-values":e.item,"batch-mode":e.isBatch,"primary-key":e.primaryKey,disabled:!1===e.updateAllowed,"validation-errors":e.validationErrors},null,8,["modelValue","fields","loading","initial-values","batch-mode","primary-key","disabled","validation-errors"])]),I(m,{modelValue:e.confirmLeave,"onUpdate:modelValue":t[13]||(t[13]=t=>e.confirmLeave=t),onEsc:e.discardAndLeave},{default:D((()=>[I(p,null,{default:D((()=>[I(c,null,{default:D((()=>[N(U(e.t("unsaved_changes")),1)])),_:1}),I(v,null,{default:D((()=>[N(U(e.t("unsaved_changes_copy")),1)])),_:1}),I(u,null,{default:D((()=>[I(r,{secondary:"",onClick:e.discardAndLeave},{default:D((()=>[N(U(e.t("discard_changes")),1)])),_:1},8,["onClick"]),I(r,{onClick:t[12]||(t[12]=t=>e.confirmLeave=!1)},{default:D((()=>[N(U(e.t("keep_editing")),1)])),_:1})])),_:1})])),_:1})])),_:1},8,["modelValue","onEsc"]),I(V,{modelValue:e.replaceFileDialogActive,"onUpdate:modelValue":t[14]||(t[14]=t=>e.replaceFileDialogActive=t),file:e.item,onReplaced:e.refresh},null,8,["modelValue","file","onReplaced"])])),_:1},8,["title"])):(E(),A(o,{key:0}))}],["__scopeId","data-v-7aab4cef"]]),props:!0},{path:"folders",redirect:"/files"},{name:"folders-collection",path:"folders/:folder",component:Pb,props:!0,children:[{path:"+",name:"add-file-folder",components:{addNew:nb}}]},{path:"all",component:Pb,props:{special:"all"}},{path:"mine",component:Pb,props:{special:"mine"}},{path:"recent",component:Pb,props:{special:"recent"}}],order:15,preRegisterCheck(e,t){if(e.role.admin_access)return!0;return!!t.find((e=>"directus_files"===e.collection&&"read"===e.action))}}),Pk=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:Tk});function jk(e){const t=e.split(".")[1].replace("-","+").replace("_","/"),l=Pe.exports.decode(t);return JSON.parse(l)}const Lk=w({setup(){const{t:e}=x(),t=se(),l=V((()=>t.query.token)),a=F(null),i=F(!1),n=F(null),o=F(!1),s=V((()=>n.value?r_(n.value):null)),r=V((()=>"/login")),d=V((()=>jk(l.value).email));return{t:e,creating:i,error:n,done:o,password:a,onSubmit:async function(){i.value=!0,n.value=null;try{await dI.post("/users/invite/accept",{password:a.value,token:l.value}),o.value=!0}catch(e){n.value=e}finally{i.value=!1}},signInLink:r,errorFormatted:s,email:d}}}),Rk={class:"type-title"};var Mk=F_(Lk,[["render",function(e,t,l,a,i,n){const o=S("v-input"),s=S("v-notice"),r=S("v-button"),d=S("v-icon"),c=S("public-view");return E(),A(c,null,{notice:D((()=>[I(d,{name:"lock_outlined",left:""}),N(" "+U(e.t("not_authenticated")),1)])),default:D((()=>[j("h1",Rk,U(e.t("create_account")),1),j("form",{onSubmit:t[1]||(t[1]=X(((...t)=>e.onSubmit&&e.onSubmit(...t)),["prevent"]))},[I(o,{"model-value":e.email,disabled:""},null,8,["model-value"]),I(o,{modelValue:e.password,"onUpdate:modelValue":t[0]||(t[0]=t=>e.password=t),placeholder:e.t("password"),autofocus:"",autocomplete:"password",type:"password",disabled:e.done},null,8,["modelValue","placeholder","disabled"]),e.done?(E(),A(s,{key:0,type:"success"},{default:D((()=>[N(U(e.t("account_created_successfully")),1)])),_:1})):B("",!0),e.error?(E(),A(s,{key:1,type:"danger"},{default:D((()=>[N(U(e.errorFormatted),1)])),_:1})):B("",!0),e.done?(E(),A(r,{key:3,large:"",to:e.signInLink},{default:D((()=>[N(U(e.t("sign_in")),1)])),_:1},8,["to"])):(E(),A(r,{key:2,type:"submit",loading:e.creating,large:""},{default:D((()=>[N(U(e.t("create")),1)])),_:1},8,["loading"]))],32)])),_:1})}],["__scopeId","data-v-8ab16d02"]]);const Uk=w({setup(){const{t:e}=x(),t=F([]),l=F(!1);return ee((()=>async function(){var e;l.value=!0;try{const a=await dI.get("/auth/oauth/");t.value=null==(e=a.data.data)?void 0:e.map((e=>({name:e,link:`${Jh()}auth/oauth/${e.toLowerCase()}?redirect=${window.location.href}`})))}catch(a){jy(a)}finally{l.value=!1}}())),{t:e,providers:t}}}),Nk={class:"sso-links"},Bk=["href"];const qk=w({components:{ssoLinks:F_(Uk,[["render",function(e,t,l,a,i,n){const o=S("v-divider");return E(),P("div",Nk,[e.providers&&e.providers.length>0?(E(),P(R,{key:0},[I(o),(E(!0),P(R,null,M(e.providers,(t=>(E(),P("a",{key:t.name,class:"sso-link",href:t.link},U(e.t("log_in_with",{provider:t.name})),9,Bk)))),128))],64)):B("",!0)])}],["__scopeId","data-v-09e14c2a"]])},setup(){const{t:e}=x(),t=ie(),l=F(!1),a=F(null),i=F(null),n=F(null),o=F(null),d=F(!1),c=I_();O(a,(()=>{!0===d.value&&(d.value=!1)}));return{t:e,errorFormatted:V((()=>"INVALID_PAYLOAD"===n.value?r_("INVALID_CREDENTIALS"):n.value?r_(n.value):null)),error:n,email:a,password:i,onSubmit:async function(){var e,u,p,m,f,v,_,y,h,g,b;if(null===a.value||null===i.value)return;try{l.value=!0;const n={email:a.value,password:i.value};o.value&&(n.otp=o.value),await async function(e){const t=dl(),l=await dI.post("/auth/login",r(s({},e),{mode:"cookie"})),a=l.data.data.access_token;dI.defaults.headers.Authorization=`Bearer ${a}`,l.data.data.expires<=21e8&&setTimeout((()=>aI()),l.data.data.expires-1e4);t.authenticated=!0,await KD()}(n);const d=null==(e=c.currentUser)?void 0:e.last_page;t.push(d||"/collections")}catch(k){"INVALID_OTP"===(null==(v=null==(f=null==(m=null==(p=null==(u=k.response)?void 0:u.data)?void 0:p.errors)?void 0:m[0])?void 0:f.extensions)?void 0:v.code)&&!1===d.value?d.value=!0:n.value=(null==(b=null==(g=null==(h=null==(y=null==(_=k.response)?void 0:_.data)?void 0:y.errors)?void 0:h[0])?void 0:g.extensions)?void 0:b.code)||k}finally{l.value=!1}},loggingIn:l,translateAPIError:r_,otp:o,requiresTFA:d}}}),zk={class:"buttons"};var Kk=F_(qk,[["render",function(e,t,l,a,i,n){const o=S("v-input"),s=S("transition-expand"),r=S("v-notice"),d=S("v-button"),c=S("router-link"),u=S("sso-links");return E(),P("form",{onSubmit:t[3]||(t[3]=X(((...t)=>e.onSubmit&&e.onSubmit(...t)),["prevent"]))},[I(o,{modelValue:e.email,"onUpdate:modelValue":t[0]||(t[0]=t=>e.email=t),autofocus:"",autocomplete:"username",type:"email",placeholder:e.t("email")},null,8,["modelValue","placeholder"]),I(o,{modelValue:e.password,"onUpdate:modelValue":t[1]||(t[1]=t=>e.password=t),type:"password",autocomplete:"current-password",placeholder:e.t("password")},null,8,["modelValue","placeholder"]),I(s,null,{default:D((()=>[e.requiresTFA?(E(),A(o,{key:0,modelValue:e.otp,"onUpdate:modelValue":t[2]||(t[2]=t=>e.otp=t),type:"text",placeholder:e.t("otp"),autofocus:""},null,8,["modelValue","placeholder"])):B("",!0)])),_:1}),e.error?(E(),A(r,{key:0,type:"warning"},{default:D((()=>[N(U(e.errorFormatted),1)])),_:1})):B("",!0),j("div",zk,[I(d,{type:"submit",loading:e.loggingIn,large:""},{default:D((()=>[N(U(e.t("sign_in")),1)])),_:1},8,["loading"]),I(c,{to:"/reset-password",class:"forgot-password"},{default:D((()=>[N(U(e.t("forgot_password")),1)])),_:1})]),I(u)],32)}],["__scopeId","data-v-48251918"]]);const Wk=w({setup(){const{t:e}=x(),t=ie(),l=F(!1),a=F(null),i=F(null);return async function(){l.value=!0;try{const e=await dI.get("/users/me",{params:{fields:["email","first_name","last_name","last_page"]}});a.value=D_(e.data.data),i.value=e.data.data.last_page}catch(e){jy(e)}finally{l.value=!1}}(),{t:e,name:a,lastPage:i,loading:l,hydrateAndLogin:async function(){await KD(),t.push(i.value||"/collections")}}}}),Hk={class:"continue-as"},Gk={class:"actions"};const Qk=w({components:{LoginForm:Kk,ContinueAs:F_(Wk,[["render",function(e,t,l,a,i,n){const o=S("v-progress-circular"),s=S("i18n-t"),r=S("router-link"),d=S("v-button");return E(),P("div",Hk,[e.loading?(E(),A(o,{key:0,indeterminate:""})):(E(),P(R,{key:1},[I(s,{keypath:"continue_as",scope:"global",tag:"p"},{name:D((()=>[j("b",null,U(e.name),1)])),_:1}),j("div",Gk,[I(r,{to:"/logout",class:"sign-out"},{default:D((()=>[N(U(e.t("sign_out")),1)])),_:1}),I(d,{autofocus:"",large:"",onClick:e.hydrateAndLogin},{default:D((()=>[N(U(e.t("continue_label")),1)])),_:1},8,["onClick"])])],64))])}],["__scopeId","data-v-3696b5ac"]])},props:{ssoErrorCode:{type:String,default:null},logoutReason:{type:String,default:null}},setup(){const{t:e,te:t}=x(),l=dl();return{t:e,te:t,authenticated:V((()=>l.authenticated))}}}),Xk={class:"type-title"};var Jk=F_(Qk,[["render",function(e,t,l,a,i,n){const o=S("continue-as"),s=S("login-form"),r=S("v-icon"),d=S("public-view");return E(),A(d,null,G({default:D((()=>[j("h1",Xk,U(e.t("sign_in")),1),e.authenticated?(E(),A(o,{key:0})):(E(),A(s,{key:1,"sso-error":e.ssoErrorCode},null,8,["sso-error"]))])),_:2},[e.authenticated?{name:"notice",fn:D((()=>[I(r,{name:"lock_open",left:""}),N(" "+U(e.t("authenticated")),1)]))}:{name:"notice",fn:D((()=>[I(r,{name:"lock_outlined",left:""}),N(" "+U(e.logoutReason&&e.te(`logoutReason.${e.logoutReason}`)?e.t(`logoutReason.${e.logoutReason}`):e.t("not_authenticated")),1)]))}]),1024)}],["__scopeId","data-v-43335513"]]);const Yk=w({setup(){ee((()=>{oI()}))}}),Zk={class:"logout"};var ew=F_(Yk,[["render",function(e,t,l,a,i,n){const o=S("v-progress-circular");return E(),P("div",Zk,[I(o,{indeterminate:""})])}],["__scopeId","data-v-cfb047f4"]]);const tw=w({setup(){const{t:e}=x();return{t:e}}}),lw={class:"not-found"};var aw=F_(tw,[["render",function(e,t,l,a,i,n){const o=S("v-info"),s=S("private-view");return E(),A(s,{title:e.t("page_not_found")},{default:D((()=>[j("div",lw,[I(o,{title:e.t("page_not_found"),icon:"not_interested"},{default:D((()=>[N(U(e.t("page_not_found_body")),1)])),_:1},8,["title"])])])),_:1},8,["title"])}],["__scopeId","data-v-a922425e"]]);const iw=w({setup(){const{t:e}=x(),t=F(null),l=F(!1),a=F(null),i=F(!1),n=V((()=>a.value?r_(a.value):null)),o=V((()=>"/login"));return{t:e,sending:l,error:a,done:i,email:t,onSubmit:async function(){l.value=!0,a.value=null;try{await dI.post("/auth/password/request",{email:t.value}),i.value=!0}catch(e){a.value=e}finally{l.value=!1}},signInLink:o,errorFormatted:n}}}),nw={class:"buttons"};var ow=F_(iw,[["render",function(e,t,l,a,i,n){const o=S("v-input"),s=S("v-notice"),r=S("v-button"),d=S("router-link");return E(),P("form",{onSubmit:t[1]||(t[1]=X(((...t)=>e.onSubmit&&e.onSubmit(...t)),["prevent"]))},[I(o,{modelValue:e.email,"onUpdate:modelValue":t[0]||(t[0]=t=>e.email=t),autofocus:"",autocomplete:"username",type:"email",placeholder:e.t("email")},null,8,["modelValue","placeholder"]),e.done?(E(),A(s,{key:0,type:"success"},{default:D((()=>[N(U(e.t("password_reset_sent")),1)])),_:1})):B("",!0),e.error?(E(),A(s,{key:1,type:"danger"},{default:D((()=>[N(U(e.errorFormatted),1)])),_:1})):B("",!0),j("div",nw,[I(r,{type:"submit",loading:e.sending,large:""},{default:D((()=>[N(U(e.t("reset")),1)])),_:1},8,["loading"]),I(d,{to:e.signInLink,class:"sign-in"},{default:D((()=>[N(U(e.t("sign_in")),1)])),_:1},8,["to"])])],32)}],["__scopeId","data-v-388f645e"]]);const sw=w({props:{token:{type:String,required:!0}},setup(e){const{t:t}=x(),l=F(null),a=F(!1),i=F(null),n=F(!1),o=V((()=>i.value?r_(i.value):null)),s=V((()=>"/login")),r=V((()=>jk(e.token).email));return{t:t,resetting:a,error:i,done:n,password:l,onSubmit:async function(){a.value=!0,i.value=null;try{await dI.post("/auth/password/reset",{password:l.value,token:e.token}),n.value=!0}catch(t){i.value=t}finally{a.value=!1}},signInLink:s,errorFormatted:o,email:r}}});const rw=w({components:{RequestForm:ow,ResetForm:F_(sw,[["render",function(e,t,l,a,i,n){const o=S("v-input"),s=S("v-notice"),r=S("v-button");return E(),P("form",{onSubmit:t[1]||(t[1]=X(((...t)=>e.onSubmit&&e.onSubmit(...t)),["prevent"]))},[I(o,{"model-value":e.email,disabled:""},null,8,["model-value"]),I(o,{modelValue:e.password,"onUpdate:modelValue":t[0]||(t[0]=t=>e.password=t),placeholder:e.t("password"),autofocus:"",autocomplete:"username",type:"password",disabled:e.done},null,8,["modelValue","placeholder","disabled"]),e.done?(E(),A(s,{key:0,type:"success"},{default:D((()=>[N(U(e.t("password_reset_successful")),1)])),_:1})):B("",!0),e.error?(E(),A(s,{key:1,type:"danger"},{default:D((()=>[N(U(e.errorFormatted),1)])),_:1})):B("",!0),e.done?(E(),A(r,{key:3,large:"",to:e.signInLink},{default:D((()=>[N(U(e.t("sign_in")),1)])),_:1},8,["to"])):(E(),A(r,{key:2,type:"submit",loading:e.resetting,large:""},{default:D((()=>[N(U(e.t("reset")),1)])),_:1},8,["loading"]))],32)}],["__scopeId","data-v-31ae4e7a"]])},setup(){const{t:e}=x(),t=se();return{t:e,resetToken:V((()=>t.query.token))}}}),dw={class:"type-title"};const cw=[{path:"/",redirect:"/login"},{name:"login",path:"/login",component:Jk,props:e=>({ssoErrorCode:e.query.error?e.query.code:null,logoutReason:e.query.reason}),meta:{public:!0}},{name:"reset-password",path:"/reset-password",component:F_(rw,[["render",function(e,t,l,a,i,n){const o=S("request-form"),s=S("reset-form"),r=S("v-icon"),d=S("public-view");return E(),A(d,null,{notice:D((()=>[I(r,{name:"lock_outlined",left:""}),N(" "+U(e.t("not_authenticated")),1)])),default:D((()=>[j("h1",dw,U(e.t("reset_password")),1),e.resetToken?(E(),A(s,{key:1,token:e.resetToken},null,8,["token"])):(E(),A(o,{key:0}))])),_:1})}],["__scopeId","data-v-05544d73"]]),meta:{public:!0}},{name:"accept-invite",path:"/accept-invite",component:Mk,meta:{public:!0}},{name:"logout",path:"/logout",component:ew,meta:{public:!0}},{name:"private-404",path:"/:_(.+)+",component:aw}],uw=je({history:Le(Jh()+"admin/"),routes:cw});let pw=!0;uw.beforeEach((async e=>{var t;const l=dl(),a=SI();if(pw){pw=!1;try{await aI({navigate:!1})}catch{}}if(null===a.info&&await a.hydrate(),!0!==(null==(t=e.meta)?void 0:t.public)&&!1===l.hydrated)return l.hydrating=!1,!0===l.authenticated&&!1===l.hydrating?(await KD(),e.fullPath):"/login"})),uw.afterEach((e=>{const t=I_();!0!==e.meta.public&&setTimeout((()=>{t.trackPage(e.fullPath)}),500)}));var mw=F_(w({name:"InsightsNavigation",emits:["create"],setup(){const{t:e}=x(),t=_I(),l=F(!1);return{navItems:V((()=>t.dashboards.map((e=>({icon:e.icon,name:e.name,to:`/insights/${e.id}`}))))),createDialogActive:l,t:e}}}),[["render",function(e,t,l,a,i,n){const o=S("v-button"),s=S("v-icon"),r=S("v-list-item-icon"),d=S("v-text-overflow"),c=S("v-list-item-content"),u=S("v-list-item"),p=S("v-list");return E(),A(p,{large:""},{default:D((()=>[0===e.navItems.length?(E(),A(o,{key:0,"full-width":"",outlined:"",dashed:"",onClick:t[0]||(t[0]=t=>e.$emit("create"))},{default:D((()=>[N(U(e.t("create_dashboard")),1)])),_:1})):(E(!0),P(R,{key:1},M(e.navItems,(e=>(E(),A(u,{key:e.to,to:e.to},{default:D((()=>[I(r,null,{default:D((()=>[I(s,{name:e.icon},null,8,["name"])])),_:2},1024),I(c,null,{default:D((()=>[I(d,{text:e.name},null,8,["text"])])),_:2},1024)])),_:2},1032,["to"])))),128))])),_:1})}]]);const fw=w({name:"DashboardDialog",props:{modelValue:{type:Boolean,default:!1},dashboard:{type:Object,default:null}},emits:["update:modelValue"],setup(e,{emit:t}){var l,a,i,n,o,s;const{t:r}=x(),d=_I(),c=$({name:null!=(a=null==(l=e.dashboard)?void 0:l.name)?a:null,icon:null!=(n=null==(i=e.dashboard)?void 0:i.icon)?n:"dashboard",note:null!=(s=null==(o=e.dashboard)?void 0:o.note)?s:null});O((()=>e.modelValue),((t,l)=>{var a,i,n,o,s,r;!1===m.exports.isEqual(t,l)&&(c.name=null!=(i=null==(a=e.dashboard)?void 0:a.name)?i:null,c.icon=null!=(o=null==(n=e.dashboard)?void 0:n.icon)?o:"dashboard",c.note=null!=(r=null==(s=e.dashboard)?void 0:s.note)?r:null)}));const u=F(!1);return{values:c,cancel:function(){t("update:modelValue",!1)},saving:u,save:async function(){u.value=!0;try{if(e.dashboard)await dI.patch(`/dashboards/${e.dashboard.id}`,c,{params:{fields:["id"]}}),await d.hydrate();else{const e=await dI.post("/dashboards",c,{params:{fields:["id"]}});await d.hydrate(),uw.push(`/insights/${e.data.data.id}`)}t("update:modelValue",!1)}catch(l){jy(l)}finally{u.value=!1}},t:r}}}),vw={class:"fields"};function _w(e){return Re.sanitize(Me(e))}const yw=w({name:"InsightsOverview",components:{InsightsNavigation:mw,DashboardDialog:F_(fw,[["render",function(e,t,l,a,i,n){const o=S("v-card-title"),s=S("v-input"),r=S("interface-select-icon"),d=S("v-card-text"),c=S("v-button"),u=S("v-card-actions"),p=S("v-card"),m=S("v-dialog");return E(),A(m,{"model-value":e.modelValue,persistent:"","onUpdate:modelValue":t[3]||(t[3]=t=>e.$emit("update:modelValue",t)),onEsc:e.cancel},{activator:D((t=>[Q(e.$slots,"activator",J(Y(t)),void 0,!0)])),default:D((()=>[I(p,null,{default:D((()=>[e.dashboard?(E(),A(o,{key:1},{default:D((()=>[N(U(e.t("edit_dashboard")),1)])),_:1})):(E(),A(o,{key:0},{default:D((()=>[N(U(e.t("create_dashboard")),1)])),_:1})),I(d,null,{default:D((()=>[j("div",vw,[I(s,{modelValue:e.values.name,"onUpdate:modelValue":t[0]||(t[0]=t=>e.values.name=t),autofocus:"",placeholder:e.t("dashboard_name")},null,8,["modelValue","placeholder"]),I(r,{value:e.values.icon,onInput:t[1]||(t[1]=t=>e.values.icon=t)},null,8,["value"]),I(s,{modelValue:e.values.note,"onUpdate:modelValue":t[2]||(t[2]=t=>e.values.note=t),class:"full",placeholder:e.t("note")},null,8,["modelValue","placeholder"])])])),_:1}),I(u,null,{default:D((()=>[I(c,{secondary:"",onClick:e.cancel},{default:D((()=>[N(U(e.t("cancel")),1)])),_:1},8,["onClick"]),I(c,{disabled:!e.values.name,loading:e.saving,onClick:e.save},{default:D((()=>[N(U(e.t("save")),1)])),_:1},8,["disabled","loading","onClick"])])),_:1})])),_:1})])),_:3},8,["model-value","onEsc"])}],["__scopeId","data-v-35403a37"]])},setup(){const{t:e}=x(),t=_I(),l=gI(),a=F(null),i=F(!1),n=F(null),o=F(!1),s=V((()=>l.hasPermission("directus_dashboards","create"))),r=[{text:"",value:"icon",width:42,sortable:!1},{text:e("name"),value:"name",width:240},{text:e("note"),value:"note",width:360}];return{dashboards:V((()=>t.dashboards)),createAllowed:s,tableHeaders:r,navigateToDashboard:function(e){uw.push(`/insights/${e.id}`)},createDialogActive:o,confirmDelete:a,deletingDashboard:i,deleteDashboard:async function(){if(!a.value)return;i.value=!0;try{await dI.delete(`/dashboards/${a.value}`),await t.hydrate(),a.value=null}catch(e){jy(e)}finally{i.value=!1}},editDashboard:n,t:e,md:_w}}}),hw={class:"page-description"};var gw=F_(yw,[["render",function(e,t,l,a,i,n){const o=S("v-icon"),s=S("v-button"),r=S("insights-navigation"),d=S("dashboard-dialog"),c=S("sidebar-detail"),u=S("v-list-item-icon"),p=S("v-list-item-content"),m=S("v-list-item"),f=S("v-list"),v=S("v-menu"),_=S("v-table"),y=S("v-info"),h=S("v-card-title"),g=S("v-card-actions"),b=S("v-card"),k=S("v-dialog"),w=S("private-view"),x=q("tooltip"),V=q("md");return E(),A(w,{title:e.t("insights")},{"title-outer:prepend":D((()=>[I(s,{class:"header-icon",rounded:"",disabled:"",icon:"",secondary:""},{default:D((()=>[I(o,{name:"insights"})])),_:1})])),navigation:D((()=>[I(r,{onCreate:t[0]||(t[0]=t=>e.createDialogActive=!0)})])),actions:D((()=>[I(d,{modelValue:e.createDialogActive,"onUpdate:modelValue":t[1]||(t[1]=t=>e.createDialogActive=t)},{activator:D((({on:t})=>[z(I(s,{rounded:"",icon:"",disabled:!1===e.createAllowed,onClick:t},{default:D((()=>[I(o,{name:"add"})])),_:2},1032,["disabled","onClick"]),[[x,e.createAllowed?e.t("create_dashboard"):e.t("not_allowed"),void 0,{bottom:!0}]])])),_:1},8,["modelValue"])])),sidebar:D((()=>[I(c,{icon:"info_outline",title:e.t("information"),close:""},{default:D((()=>[z(j("div",hw,null,512),[[V,e.t("page_help_insights_overview")]])])),_:1},8,["title"])])),default:D((()=>[e.dashboards.length>0?(E(),A(_,{key:0,headers:e.tableHeaders,"onUpdate:headers":t[2]||(t[2]=t=>e.tableHeaders=t),items:e.dashboards,"show-resize":"","fixed-header":"","onClick:row":e.navigateToDashboard},{"item.icon":D((({item:e})=>[I(o,{class:"icon",name:e.icon},null,8,["name"])])),"item-append":D((({item:t})=>[I(v,{placement:"left-start","show-arrow":""},{activator:D((({toggle:e})=>[I(o,{name:"more_vert",class:"ctx-toggle",onClick:e},null,8,["onClick"])])),default:D((()=>[I(f,null,{default:D((()=>[I(m,{class:"warning",clickable:"",onClick:l=>e.editDashboard=t},{default:D((()=>[I(u,null,{default:D((()=>[I(o,{name:"edit",outline:""})])),_:1}),I(p,null,{default:D((()=>[N(U(e.t("edit_dashboard")),1)])),_:1})])),_:2},1032,["onClick"]),I(m,{class:"danger",clickable:"",onClick:l=>e.confirmDelete=t.id},{default:D((()=>[I(u,null,{default:D((()=>[I(o,{name:"delete",outline:""})])),_:1}),I(p,null,{default:D((()=>[N(U(e.t("delete_dashboard")),1)])),_:1})])),_:2},1032,["onClick"])])),_:2},1024)])),_:2},1024)])),_:2},1032,["headers","items","onClick:row"])):(E(),A(y,{key:1,icon:"dashboard",title:e.t("no_dashboards"),center:""},{default:D((()=>[N(U(e.t("no_dashboards_copy")),1)])),_:1},8,["title"])),I(k,{"model-value":!!e.confirmDelete,onEsc:t[4]||(t[4]=t=>e.confirmDelete=null)},{default:D((()=>[I(b,null,{default:D((()=>[I(h,null,{default:D((()=>[N(U(e.t("dashboard_delete_confirm")),1)])),_:1}),I(g,null,{default:D((()=>[I(s,{secondary:"",onClick:t[3]||(t[3]=t=>e.confirmDelete=null)},{default:D((()=>[N(U(e.t("cancel")),1)])),_:1}),I(s,{danger:"",loading:e.deletingDashboard,onClick:e.deleteDashboard},{default:D((()=>[N(U(e.t("delete_label")),1)])),_:1},8,["loading","onClick"])])),_:1})])),_:1})])),_:1},8,["model-value"]),I(d,{"model-value":!!e.editDashboard,dashboard:e.editDashboard,"onUpdate:modelValue":t[5]||(t[5]=t=>e.editDashboard=null)},null,8,["model-value","dashboard"])])),_:1},8,["title"])}],["__scopeId","data-v-17ccd6a6"]]);const bw=w({components:{InsightsNavigation:mw},setup(){const{t:e}=x();return{t:e}}}),kw={key:0,class:"not-found"};var ww=F_(bw,[["render",function(e,t,l,a,i,n){const o=S("insights-navigation"),s=S("v-info"),r=S("private-view");return E(),A(r,{title:e.t("insights")},{navigation:D((()=>[I(o)])),default:D((()=>[e.currentDashboard?B("",!0):(E(),P("div",kw,[I(s,{title:e.t("page_not_found"),icon:"not_interested"},{default:D((()=>[N(U(e.t("page_not_found_body")),1)])),_:1},8,["title"])]))])),_:1},8,["title"])}],["__scopeId","data-v-d6310128"]]);function xw(e,t,l){const[a,i]=e,[n,o]=t,[s,r]=l,d=s-n,c=r-o;return 0==(a-n)*c-(i-o)*d&&(Math.abs(d)>=Math.abs(c)?d>0?n<=a&&a<=s:s<=a&&a<=n:c>0?o<=i&&i<=r:r<=i&&i<=o)}const Vw=w({name:"Panel",props:{panel:{type:Object,required:!0},editMode:{type:Boolean,default:!1},now:{type:Date,required:!0}},emits:["update","move","duplicate","delete"],setup(e,{emit:t}){const{t:l}=x(),{panels:a}=bl(),i=V((()=>a.value.find((t=>t.id===e.panel.type)))),n=$({position_x:void 0,position_y:void 0,width:void 0,height:void 0}),{onPointerDown:o,onPointerUp:s,onPointerMove:r,dragging:d}=function(){const l=F(!1);let a=0,o=0,s=0,r=0,d=0,c=0,u="move";const p=m.exports.throttle((t=>{var p,m;if(!1===e.editMode)return;if(!1===l.value)return;const f=t.pageX-a,v=t.pageY-o,_=Math.round(f/20),y=Math.round(v/20);if("move"===u)n.position_x=s+_,n.position_y=r+y,n.position_x<1&&(n.position_x=1),n.position_y<1&&(n.position_y=1);else{u.includes("top")&&(n.height=c-y,n.position_y=r+y),u.includes("right")&&(n.width=d+_),u.includes("bottom")&&(n.height=c+y),u.includes("left")&&(n.width=d-_,n.position_x=s+_);const e=(null==(p=i.value)?void 0:p.minWidth)||6,t=(null==(m=i.value)?void 0:m.minHeight)||6;n.position_x&&n.position_x<1&&(n.position_x=1),n.position_y&&n.position_y<1&&(n.position_y=1),n.width&&n.width<e&&(n.width=e),n.height&&n.height<t&&(n.height=t)}}),20);return{dragging:l,onPointerDown:function(t,i){if(!1===e.editMode)return;u=t,l.value=!0,a=i.pageX,o=i.pageY,s=e.panel.position_x,r=e.panel.position_y,d=e.panel.width,c=e.panel.height,window.addEventListener("pointerup",f),window.addEventListener("pointermove",p)},onPointerUp:f,onPointerMove:p};function f(){l.value=!1,!1!==e.editMode&&(t("update",n),window.removeEventListener("pointerup",f),window.removeEventListener("pointermove",p),n.position_x=void 0,n.position_y=void 0,n.width=void 0,n.height=void 0)}}();return{positioning:V((()=>{var t,l,a,i;return d.value?{x:null!=(t=n.position_x)?t:e.panel.position_x,y:null!=(l=n.position_y)?l:e.panel.position_y,width:null!=(a=n.width)?a:e.panel.width,height:null!=(i=n.height)?i:e.panel.height}:{x:e.panel.position_x,y:e.panel.position_y,width:e.panel.width,height:e.panel.height}})),positionStyling:V((()=>{var t,l,a,i;return d.value?{"--pos-x":null!=(t=n.position_x)?t:e.panel.position_x,"--pos-y":null!=(l=n.position_y)?l:e.panel.position_y,"--width":null!=(a=n.width)?a:e.panel.width,"--height":null!=(i=n.height)?i:e.panel.height}:{"--pos-x":e.panel.position_x,"--pos-y":e.panel.position_y,"--width":e.panel.width,"--height":e.panel.height}})),iconColor:V((()=>({"--v-icon-color":e.panel.color}))),onPointerDown:o,onPointerUp:s,onPointerMove:r,dragging:d,editedPosition:n,t:l,omit:m.exports.omit}}}),Cw={key:0,class:"header"},Sw=(e=>(K("data-v-b67ef59a"),e=e(),W(),e))((()=>j("div",{class:"spacer"},null,-1))),Ew={class:"resize-details"},Aw={key:2,class:"resize-handlers"};function Dw(e){return null==e||void 0===e}function Iw(e){return null!=e}function Fw(e){const t=F(0),l=F(0),a=new ResizeObserver((([e])=>{t.value=e.contentRect.width,l.value=e.contentRect.height}));return ee((()=>{const t=De(e)?e.value:e;Iw(t)&&a.observe(t)})),he((()=>{a.disconnect()})),{width:t,height:l}}const Ow=w({name:"InsightsWorkspace",components:{InsightsPanel:F_(Vw,[["render",function(e,t,l,a,i,n){const o=S("v-icon"),s=S("v-text-overflow"),r=S("v-list-item-icon"),d=S("v-list-item-content"),c=S("v-list-item"),u=S("v-list"),p=S("v-menu"),m=q("tooltip");return E(),P("div",{class:H(["panel",{editing:e.editMode,dragging:e.dragging,"br-tl":e.dragging||e.panel.borderRadius[0],"br-tr":e.dragging||e.panel.borderRadius[1],"br-br":e.dragging||e.panel.borderRadius[2],"br-bl":e.dragging||e.panel.borderRadius[3]}]),style:Ue(e.positionStyling),"data-move":"",onPointerdown:t[13]||(t[13]=t=>e.onPointerDown("move",t))},[e.panel.show_header?(E(),P("div",Cw,[I(o,{class:"icon",style:Ue(e.iconColor),name:e.panel.icon},null,8,["style","name"]),I(s,{class:"name selectable",text:e.panel.name||""},null,8,["text"]),Sw,e.panel.note?z((E(),A(o,{key:0,class:"note",name:"info"},null,512)),[[m,e.panel.note]]):B("",!0)])):B("",!0),e.editMode?(E(),P("div",{key:1,class:"edit-actions",onPointerdown:t[4]||(t[4]=X((()=>{}),["stop"]))},[z(I(o,{class:"edit-icon",name:"edit",clickable:"",onClick:t[0]||(t[0]=X((t=>e.$router.push(`/insights/${e.panel.dashboard}/${e.panel.id}`)),["stop"]))},null,512),[[m,e.t("edit")]]),I(p,{placement:"bottom-end","show-arrow":""},{activator:D((({toggle:e})=>[I(o,{class:"more-icon",name:"more_vert",clickable:"",onClick:e},null,8,["onClick"])])),default:D((()=>[I(u,null,{default:D((()=>[I(c,{clickable:"",disabled:e.panel.id.startsWith("_"),onClick:t[1]||(t[1]=t=>e.$emit("move"))},{default:D((()=>[I(r,null,{default:D((()=>[I(o,{class:"move-icon",name:"input"})])),_:1}),I(d,null,{default:D((()=>[N(U(e.t("copy_to")),1)])),_:1})])),_:1},8,["disabled"]),I(c,{clickable:"",onClick:t[2]||(t[2]=t=>e.$emit("duplicate"))},{default:D((()=>[I(r,null,{default:D((()=>[I(o,{name:"control_point_duplicate"})])),_:1}),I(d,null,{default:D((()=>[N(U(e.t("duplicate")),1)])),_:1})])),_:1}),I(c,{class:"delete-action",clickable:"",onClick:t[3]||(t[3]=t=>e.$emit("delete"))},{default:D((()=>[I(r,null,{default:D((()=>[I(o,{name:"delete"})])),_:1}),I(d,null,{default:D((()=>[N(U(e.t("delete_panel")),1)])),_:1})])),_:1})])),_:1})])),_:1})],32)):B("",!0),j("div",Ew," ("+U(e.positioning.x-1)+":"+U(e.positioning.y-1)+") "+U(e.positioning.width)+"×"+U(e.positioning.height),1),e.editMode?(E(),P("div",Aw,[j("div",{class:"top",onPointerdown:t[5]||(t[5]=X((t=>e.onPointerDown("resize-top",t)),["stop"]))},null,32),j("div",{class:"right",onPointerdown:t[6]||(t[6]=X((t=>e.onPointerDown("resize-right",t)),["stop"]))},null,32),j("div",{class:"bottom",onPointerdown:t[7]||(t[7]=X((t=>e.onPointerDown("resize-bottom",t)),["stop"]))},null,32),j("div",{class:"left",onPointerdown:t[8]||(t[8]=X((t=>e.onPointerDown("resize-left",t)),["stop"]))},null,32),j("div",{class:"top-left",onPointerdown:t[9]||(t[9]=X((t=>e.onPointerDown("resize-top-left",t)),["stop"]))},null,32),j("div",{class:"top-right",onPointerdown:t[10]||(t[10]=X((t=>e.onPointerDown("resize-top-right",t)),["stop"]))},null,32),j("div",{class:"bottom-right",onPointerdown:t[11]||(t[11]=X((t=>e.onPointerDown("resize-bottom-right",t)),["stop"]))},null,32),j("div",{class:"bottom-left",onPointerdown:t[12]||(t[12]=X((t=>e.onPointerDown("resize-bottom-left",t)),["stop"]))},null,32)])):B("",!0),j("div",{class:H(["panel-content",{"has-header":e.panel.show_header}])},[(E(),A(L(`panel-${e.panel.type}`),Z(e.panel.options,{id:e.panel.id,"show-header":e.panel.show_header,height:e.panel.height,width:e.panel.width,dashboard:e.panel.dashboard,now:e.now}),null,16,["id","show-header","height","width","dashboard","now"]))],2)],38)}],["__scopeId","data-v-b67ef59a"]])},props:{panels:{type:Array,required:!0},editMode:{type:Boolean,default:!1},zoomToFit:{type:Boolean,default:!1},now:{type:Date,required:!0}},emits:["update","move","delete","duplicate"],setup(e){const t=ae("main-element",F()),l=Fw(t),a=V((()=>{var e;return Number((null==(e=function(e){if(!t.value)return;return getComputedStyle(t.value).getPropertyValue(e).trim()}("--content-padding"))?void 0:e.slice(0,-2))||0)})),i=V((()=>{const t=e.panels.reduce(((e,t)=>(t.position_x>e.position_x&&(e.position_x=t.position_x,e.width=t.width),e)),{position_x:0,width:0}),l=e.panels.reduce(((e,t)=>(t.position_y>e.position_y&&(e.position_y=t.position_y,e.height=t.height),e)),{position_y:0,height:0});return!0===e.editMode?{width:20*(t.position_x+t.width+25),height:20*(l.position_y+l.height+25)}:{width:20*(t.position_x+t.width-1),height:20*(l.position_y+l.height-1)}})),n=V((()=>{if(!1===e.zoomToFit)return 1;const{width:t,height:n}=l,o=(t.value-2*a.value)/i.value.width,s=(n.value-114-2*a.value)/i.value.height;return Math.min(o,s)})),o=V((()=>({width:i.value.width*n.value+2*a.value,height:i.value.height*n.value+2*a.value})));return{workspaceSize:i,workspaceBoxSize:o,mainElement:t,zoomScale:n}}});const $w=w({name:"InsightsDashboard",components:{InsightsNotFound:ww,InsightsNavigation:mw,InsightsWorkspace:F_(Ow,[["render",function(e,t,l,a,i,n){const o=S("insights-panel");return E(),P("div",{class:H(["workspace-padding-box",{editing:e.editMode}]),style:Ue({width:e.workspaceBoxSize.width+"px",height:e.workspaceBoxSize.height+"px"})},[j("div",{class:"workspace",style:Ue({transform:`scale(${e.zoomScale})`,width:e.workspaceSize.width+"px",height:e.workspaceSize.height+"px"})},[(E(!0),P(R,null,M(e.panels,(t=>(E(),A(o,{key:t.id,panel:t,"edit-mode":e.editMode,now:e.now,onUpdate:l=>e.$emit("update",{edits:l,id:t.id}),onMove:l=>e.$emit("move",t.id),onDelete:l=>e.$emit("delete",t.id),onDuplicate:l=>e.$emit("duplicate",t)},null,8,["panel","edit-mode","now","onUpdate","onMove","onDelete","onDuplicate"])))),128))],4)],6)}],["__scopeId","data-v-ffa0afd4"]])},props:{primaryKey:{type:String,required:!0},panelKey:{type:String,default:null}},setup(e){var t;const{t:l}=x(),a=_I(),i=dl(),{fullScreen:n}=T(i),o=F(!1),d=F(!1),c=F(!1),u=F(null==(t=a.dashboards.find((t=>t.id!==e.primaryKey)))?void 0:t.id),p=F(),f=F(!1);Hh("meta+s",(()=>{D()})),O(o,(e=>{e?(f.value=!1,window.onbeforeunload=()=>""):window.onbeforeunload=null}));const v=V((()=>a.dashboards.find((t=>t.id===e.primaryKey)))),_=V((()=>a.dashboards.filter((t=>t.id!==e.primaryKey)))),y=F([]),h=F([]),g=new Date,b=V((()=>{var e;const t=[...((null==(e=v.value)?void 0:e.panels)||[]).filter((e=>!1===h.value.includes(e.id))).map((e=>{const t=y.value.find((t=>t.id===e.id));return t?m.exports.merge({},e,t):e})),...y.value.filter((e=>{var t;return null==(t=e.id)?void 0:t.startsWith("_")}))].map((e=>r(s({},e),{_coordinates:[[e.position_x,e.position_y],[e.position_x+e.width,e.position_y],[e.position_x+e.width,e.position_y+e.height],[e.position_x,e.position_y+e.height]]})));return t.map((e=>{let l=!1,a=!1,i=!1,n=!1;for(const o of t){if(o.id===e.id)continue;const t=[[o._coordinates[0],o._coordinates[1]],[o._coordinates[1],o._coordinates[2]],[o._coordinates[2],o._coordinates[3]],[o._coordinates[3],o._coordinates[0]]];!1===l&&(l=t.some((([t,l])=>xw(e._coordinates[0],t,l)))),!1===a&&(a=t.some((([t,l])=>xw(e._coordinates[1],t,l)))),!1===i&&(i=t.some((([t,l])=>xw(e._coordinates[2],t,l)))),!1===n&&(n=t.some((([t,l])=>xw(e._coordinates[3],t,l))))}return r(s({},e),{borderRadius:[!l,!a,!i,!n]})}))})),k=F(!1),w=F(!1),S=F(null),E=t=>{const l=h.value.length>0||y.value.length>0;if(o.value&&t.params.primaryKey!==e.primaryKey){if(l)return w.value=!0,S.value=t.fullPath,!1;o.value=!1}};return Se(E),te(E),{currentDashboard:v,editMode:o,panels:b,stagePanelEdits:A,stagedPanels:y,saving:d,saveChanges:D,stageConfiguration:function(t){A({edits:t}),uw.push(`/insights/${e.primaryKey}`)},movePanelID:p,movePanel:async function(){c.value=!0;const e=b.value.find((e=>e.id===p.value));try{await dI.post("/panels",r(s({},m.exports.omit(e,["id"])),{dashboard:u.value})),await a.hydrate(),p.value=null}catch(t){jy(t)}finally{c.value=!1}},deletePanel:async function(e){if(!v.value)return;y.value=y.value.filter((t=>t.id!==e)),!1===e.startsWith("_")&&h.value.push(e)},attemptCancelChanges:function(){y.value.length>0||h.value.length>0?k.value=!0:I()},duplicatePanel:function(e){const t=m.exports.omit(m.exports.merge({},e),"id");t.position_x=t.position_x+2,t.position_y=t.position_y+2,A({edits:t,id:"+"})},movePanelLoading:c,t:l,toggleFullScreen:function(){n.value=!n.value},zoomToFit:f,fullScreen:n,toggleZoomToFit:function(){f.value=!f.value},md:_w,movePanelChoices:_,movePanelTo:u,confirmLeave:w,discardAndLeave:function(){if(!S.value)return;I(),w.value=!1,uw.push(S.value)},now:g,confirmCancel:k,cancelChanges:I};function A(t){var l;const a=null!=(l=t.id)?l:e.panelKey;"+"===a?y.value=[...y.value,s({id:`_${C()}`,dashboard:e.primaryKey},t.edits)]:y.value.some((e=>e.id===a))?y.value=y.value.map((l=>l.id===a?m.exports.merge({id:a,dashboard:e.primaryKey},l,t.edits):l)):y.value=[...y.value,s({id:a,dashboard:e.primaryKey},t.edits)]}async function D(){if(!v.value)return;if(0===y.value.length&&0===h.value.length)return void(o.value=!1);d.value=!0;const t=[...v.value.panels.map((e=>e.id)).map((e=>y.value.find((t=>t.id===e))||e)),...y.value.filter((e=>{var t;return null==(t=e.id)?void 0:t.startsWith("_")})).map((e=>m.exports.omit(e,"id")))];try{y.value.length>0&&await dI.patch(`/dashboards/${e.primaryKey}`,{panels:t}),h.value.length>0&&await dI.delete("/panels",{data:h.value}),await a.hydrate(),y.value=[],o.value=!1}catch(l){jy(l)}finally{d.value=!1}}function I(){k.value=!1,y.value=[],h.value=[],o.value=!1}}}),Tw={class:"page-description"};var Pw=F_($w,[["render",function(e,t,l,a,i,n){const o=S("insights-not-found"),s=S("v-icon"),r=S("v-button"),d=S("v-breadcrumb"),c=S("sidebar-detail"),u=S("insights-navigation"),p=S("insights-workspace"),m=S("router-view"),f=S("v-card-title"),v=S("v-notice"),_=S("v-select"),y=S("v-card-text"),h=S("v-card-actions"),g=S("v-card"),b=S("v-dialog"),k=S("private-view"),w=q("tooltip"),x=q("md");return e.currentDashboard?(E(),A(k,{key:1,title:e.currentDashboard.name},{"title-outer:prepend":D((()=>[I(r,{class:"header-icon",rounded:"",disabled:"",icon:"",secondary:""},{default:D((()=>[I(s,{name:e.currentDashboard.icon},null,8,["name"])])),_:1})])),headline:D((()=>[I(d,{items:[{name:e.t("insights"),to:"/insights"}]},null,8,["items"])])),actions:D((()=>[e.editMode?(E(),P(R,{key:0},[z(I(r,{class:"clear-changes",rounded:"",icon:"",outlined:"",onClick:e.attemptCancelChanges},{default:D((()=>[I(s,{name:"clear"})])),_:1},8,["onClick"]),[[w,e.t("clear_changes"),void 0,{bottom:!0}]]),z(I(r,{rounded:"",icon:"",outlined:"",to:`/insights/${e.currentDashboard.id}/+`},{default:D((()=>[I(s,{name:"add"})])),_:1},8,["to"]),[[w,e.t("create_panel"),void 0,{bottom:!0}]]),z(I(r,{rounded:"",icon:"",loading:e.saving,onClick:e.saveChanges},{default:D((()=>[I(s,{name:"check"})])),_:1},8,["loading","onClick"]),[[w,e.t("save"),void 0,{bottom:!0}]])],64)):(E(),P(R,{key:1},[z(I(r,{active:e.zoomToFit,class:"zoom-to-fit",rounded:"",icon:"",outlined:"",onClick:e.toggleZoomToFit},{default:D((()=>[I(s,{name:"aspect_ratio"})])),_:1},8,["active","onClick"]),[[w,e.t("fit_to_screen"),void 0,{bottom:!0}]]),z(I(r,{active:e.fullScreen,class:"fullscreen",rounded:"",icon:"",outlined:"",onClick:e.toggleFullScreen},{default:D((()=>[I(s,{name:"fullscreen"})])),_:1},8,["active","onClick"]),[[w,e.t("full_screen"),void 0,{bottom:!0}]]),z(I(r,{rounded:"",icon:"",outlined:"",onClick:t[0]||(t[0]=t=>e.editMode=!e.editMode)},{default:D((()=>[I(s,{name:"edit"})])),_:1},512),[[w,e.t("edit_panels"),void 0,{bottom:!0}]])],64))])),sidebar:D((()=>[I(c,{icon:"info_outline",title:e.t("information"),close:""},{default:D((()=>[z(j("div",Tw,null,512),[[x,e.t("page_help_insights_dashboard")]])])),_:1},8,["title"])])),navigation:D((()=>[I(u)])),default:D((()=>[I(p,{"edit-mode":e.editMode,panels:e.panels,"zoom-to-fit":e.zoomToFit,now:e.now,onUpdate:e.stagePanelEdits,onMove:t[1]||(t[1]=t=>e.movePanelID=t),onDelete:e.deletePanel,onDuplicate:e.duplicatePanel},null,8,["edit-mode","panels","zoom-to-fit","now","onUpdate","onDelete","onDuplicate"]),I(m,{name:"detail","dashboard-key":e.primaryKey,panel:e.panelKey?e.panels.find((t=>t.id===e.panelKey)):null,onSave:e.stageConfiguration,onCancel:t[2]||(t[2]=t=>e.$router.push(`/insights/${e.primaryKey}`))},null,8,["dashboard-key","panel","onSave"]),I(b,{"model-value":!!e.movePanelID,"onUpdate:modelValue":t[5]||(t[5]=t=>e.movePanelID=null),onEsc:t[6]||(t[6]=t=>e.movePanelID=null)},{default:D((()=>[I(g,null,{default:D((()=>[I(f,null,{default:D((()=>[N(U(e.t("copy_to")),1)])),_:1}),I(y,null,{default:D((()=>[0===e.movePanelChoices.length?(E(),A(v,{key:0},{default:D((()=>[N(U(e.t("no_other_dashboards_copy")),1)])),_:1})):(E(),A(_,{key:1,modelValue:e.movePanelTo,"onUpdate:modelValue":t[3]||(t[3]=t=>e.movePanelTo=t),items:e.movePanelChoices,"item-text":"name","item-value":"id"},null,8,["modelValue","items"]))])),_:1}),I(h,null,{default:D((()=>[I(r,{secondary:"",onClick:t[4]||(t[4]=t=>e.movePanelID=null)},{default:D((()=>[N(U(e.t("cancel")),1)])),_:1}),I(r,{loading:e.movePanelLoading,onClick:e.movePanel},{default:D((()=>[N(U(e.t("copy")),1)])),_:1},8,["loading","onClick"])])),_:1})])),_:1})])),_:1},8,["model-value"]),I(b,{modelValue:e.confirmLeave,"onUpdate:modelValue":t[8]||(t[8]=t=>e.confirmLeave=t),onEsc:t[9]||(t[9]=t=>e.confirmLeave=!1)},{default:D((()=>[I(g,null,{default:D((()=>[I(f,null,{default:D((()=>[N(U(e.t("unsaved_changes")),1)])),_:1}),I(y,null,{default:D((()=>[N(U(e.t("unsaved_changes_copy")),1)])),_:1}),I(h,null,{default:D((()=>[I(r,{secondary:"",onClick:e.discardAndLeave},{default:D((()=>[N(U(e.t("discard_changes")),1)])),_:1},8,["onClick"]),I(r,{onClick:t[7]||(t[7]=t=>e.confirmLeave=!1)},{default:D((()=>[N(U(e.t("keep_editing")),1)])),_:1})])),_:1})])),_:1})])),_:1},8,["modelValue"]),I(b,{modelValue:e.confirmCancel,"onUpdate:modelValue":t[11]||(t[11]=t=>e.confirmCancel=t),onEsc:t[12]||(t[12]=t=>e.confirmCancel=!1)},{default:D((()=>[I(g,null,{default:D((()=>[I(f,null,{default:D((()=>[N(U(e.t("unsaved_changes")),1)])),_:1}),I(y,null,{default:D((()=>[N(U(e.t("discard_changes_copy")),1)])),_:1}),I(h,null,{default:D((()=>[I(r,{secondary:"",onClick:e.cancelChanges},{default:D((()=>[N(U(e.t("discard_changes")),1)])),_:1},8,["onClick"]),I(r,{onClick:t[10]||(t[10]=t=>e.confirmCancel=!1)},{default:D((()=>[N(U(e.t("keep_editing")),1)])),_:1})])),_:1})])),_:1})])),_:1},8,["modelValue"])])),_:1},8,["title"])):(E(),A(o,{key:0}))}],["__scopeId","data-v-9862e046"]]);const jw=w({name:"PanelConfiguration",props:{panel:{type:Object,default:null}},emits:["cancel","save"],setup(e,{emit:t}){var l,a,i,n,o,s,r,d,c,u,p,m,f,v,_,y,h,g,b;const{t:k}=x(),{panels:w}=bl(),C=vy(),S=$({show_header:null==(a=null==(l=e.panel)?void 0:l.show_header)||a,type:(null==(i=e.panel)?void 0:i.type)||void 0,name:null==(n=e.panel)?void 0:n.name,note:null==(o=e.panel)?void 0:o.note,icon:null!=(r=null==(s=e.panel)?void 0:s.icon)?r:"insert_chart",color:null!=(c=null==(d=e.panel)?void 0:d.color)?c:"#00C897",width:null!=(p=null==(u=e.panel)?void 0:u.width)?p:void 0,height:null!=(f=null==(m=e.panel)?void 0:m.height)?f:void 0,position_x:null!=(_=null==(v=e.panel)?void 0:v.position_x)?_:1,position_y:null!=(h=null==(y=e.panel)?void 0:y.position_y)?h:1,options:null!=(b=null==(g=e.panel)?void 0:g.options)?b:{}}),E=V((()=>w.value.map((e=>({text:e.name,icon:e.icon,description:e.description,value:e.id}))))),A=V((()=>w.value.find((e=>e.id===S.type))));return O(A,(e=>{e?(S.width=e.minWidth,S.height=e.minHeight):(S.width=void 0,S.height=void 0)})),{selectItems:E,selectedPanel:A,close:close,emitSave:function(){t("save",S)},edits:S,t:k,isOpen:C}}}),Lw={class:"content"},Rw={class:"type-label panel-type-label"},Mw={class:"form-grid"},Uw={class:"field half-left"},Nw={class:"type-label"},Bw={class:"field half-right"},qw={class:"type-label"},zw={class:"field half-left"},Kw={class:"type-label"},Ww={class:"field half-right"},Hw={class:"type-label"},Gw={class:"field full"},Qw={class:"type-label"};var Xw=Zt({id:"insights",name:"$t:insights",icon:"insights",routes:[{name:"insights-overview",path:"",component:gw},{name:"insights-dashboard",path:":primaryKey",component:Pw,props:!0,children:[{name:"panel-detail",path:":panelKey",props:!0,components:{detail:F_(jw,[["render",function(e,t,l,a,i,n){var o,s;const r=S("v-icon"),d=S("v-button"),c=S("v-fancy-select"),u=S("v-notice"),p=S("v-form"),m=S("v-divider"),f=S("v-checkbox"),v=S("v-input"),_=S("interface-select-icon"),y=S("interface-select-color"),h=S("v-drawer"),g=q("tooltip");return E(),A(h,{"model-value":e.isOpen,title:(null==(o=e.panel)?void 0:o.name)||e.t("panel"),subtitle:e.t("panel_options"),icon:(null==(s=e.panel)?void 0:s.icon)||"insert_chart",persistent:"",onCancel:t[8]||(t[8]=t=>e.$emit("cancel"))},{actions:D((()=>[z(I(d,{disabled:!e.edits.type,icon:"",rounded:"",onClick:e.emitSave},{default:D((()=>[I(r,{name:"check"})])),_:1},8,["disabled","onClick"]),[[g,e.t("done"),void 0,{bottom:!0}]])])),default:D((()=>[j("div",Lw,[j("p",Rw,U(e.t("type")),1),I(c,{modelValue:e.edits.type,"onUpdate:modelValue":t[0]||(t[0]=t=>e.edits.type=t),class:"select",items:e.selectItems},null,8,["modelValue","items"]),e.edits.type&&e.selectedPanel?(E(),P(R,{key:0},[e.selectedPanel.options&&0!==e.selectedPanel.options.length?Array.isArray(e.selectedPanel.options)?(E(),A(p,{key:1,modelValue:e.edits.options,"onUpdate:modelValue":t[1]||(t[1]=t=>e.edits.options=t),fields:e.selectedPanel.options,"primary-key":"+","initial-values":e.panel&&e.panel.options},null,8,["modelValue","fields","initial-values"])):(E(),A(L(`panel-options-${e.selectedPanel.id}`),{key:2,modelValue:e.edits.options,"onUpdate:modelValue":t[2]||(t[2]=t=>e.edits.options=t),collection:e.collection},null,8,["modelValue","collection"])):(E(),A(u,{key:0},{default:D((()=>[N(U(e.t("no_options_available")),1)])),_:1}))],64)):B("",!0),I(m,{"inline-title":!1,large:""},{icon:D((()=>[I(r,{name:"info"})])),default:D((()=>[N(U(e.t("panel_header")),1)])),_:1}),j("div",Mw,[j("div",Uw,[j("p",Nw,U(e.t("visible")),1),I(f,{modelValue:e.edits.show_header,"onUpdate:modelValue":t[3]||(t[3]=t=>e.edits.show_header=t),block:"",label:e.t("show_header")},null,8,["modelValue","label"])]),j("div",Bw,[j("p",qw,U(e.t("name")),1),I(v,{modelValue:e.edits.name,"onUpdate:modelValue":t[4]||(t[4]=t=>e.edits.name=t),nullable:!1,disabled:!0!==e.edits.show_header,placeholder:e.t("panel_name_placeholder")},null,8,["modelValue","disabled","placeholder"])]),j("div",zw,[j("p",Kw,U(e.t("icon")),1),I(_,{value:e.edits.icon,disabled:!0!==e.edits.show_header,onInput:t[5]||(t[5]=t=>e.edits.icon=t)},null,8,["value","disabled"])]),j("div",Ww,[j("p",Hw,U(e.t("color")),1),I(y,{value:e.edits.color,disabled:!0!==e.edits.show_header,width:"half",onInput:t[6]||(t[6]=t=>e.edits.color=t)},null,8,["value","disabled"])]),j("div",Gw,[j("p",Qw,U(e.t("note")),1),I(v,{modelValue:e.edits.note,"onUpdate:modelValue":t[7]||(t[7]=t=>e.edits.note=t),disabled:!0!==e.edits.show_header,placeholder:e.t("panel_note_placeholder")},null,8,["modelValue","disabled","placeholder"])])])])])),_:1},8,["model-value","title","subtitle","icon"])}],["__scopeId","data-v-42a9e66e"]])}}]}],order:20,preRegisterCheck(e,t){if(e.role.admin_access)return!0;return!!t.find((e=>"directus_dashboards"===e.collection&&"read"===e.action))}}),Jw=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:Xw});function Yw(){const e=F(),t=F(!1),l=F(),a=V((()=>e.value?{directus:{version:e.value.directus.version},node:{version:e.value.node.version,uptime:Ne(1e3*e.value.node.uptime)},os:{type:e.value.os.type,version:e.value.os.version,uptime:Ne(1e3*e.value.os.uptime),totalmem:Te(e.value.os.totalmem)}}:null));return e.value||async function(){t.value=!0,l.value=null;try{const l=await dI.get("/server/info");e.value=l.data.data}catch(a){l.value=a}finally{t.value=!1}}(),{info:e,parsedInfo:a,loading:t,error:l}}var Zw=F_(w({setup(){const{t:e}=x(),{parsedInfo:t}=Yw();return{version:"9.0.0-rc.95",navItems:[{icon:"public",name:e("settings_project"),to:"/settings/project"},{icon:"list_alt",name:e("settings_data_model"),to:"/settings/data-model"},{icon:"admin_panel_settings",name:e("settings_permissions"),to:"/settings/roles",outline:!0},{icon:"bookmark_border",name:e("settings_presets"),to:"/settings/presets"},{icon:"anchor",name:e("settings_webhooks"),to:"/settings/webhooks"}],externalItems:V((()=>{var l,a,i,n;const o=`\x3c!-- Please put a detailed explanation of the problem here. --\x3e\n\n---\n\n### Project details\nDirectus Version: ${null==(l=t.value)?void 0:l.directus.version}\nEnvironment: production\nOS: ${null==(a=t.value)?void 0:a.os.type} ${null==(i=t.value)?void 0:i.os.version}\nNode: ${null==(n=t.value)?void 0:n.node.version}\n\t\t\t`;return[{icon:"bug_report",name:e("report_bug"),href:`https://github.com/directus/directus/issues/new?body=${encodeURIComponent(o)}`,outline:!0},{icon:"new_releases",name:e("request_feature"),href:"https://github.com/directus/directus/discussions/new",outline:!0}]}))}}}),[["render",function(e,t,l,a,i,n){const o=S("v-icon"),s=S("v-list-item-icon"),r=S("v-text-overflow"),d=S("v-list-item-content"),c=S("v-list-item"),u=S("v-divider"),p=S("v-list");return E(),A(p,{large:""},{default:D((()=>[(E(!0),P(R,null,M(e.navItems,(e=>(E(),A(c,{key:e.to,to:e.to},{default:D((()=>[I(s,null,{default:D((()=>[I(o,{name:e.icon},null,8,["name"])])),_:2},1024),I(d,null,{default:D((()=>[I(r,{text:e.name},null,8,["text"])])),_:2},1024)])),_:2},1032,["to"])))),128)),I(u),(E(!0),P(R,null,M(e.externalItems,(e=>(E(),A(c,{key:e.href,href:e.href},{default:D((()=>[I(s,null,{default:D((()=>[I(o,{name:e.icon},null,8,["name"])])),_:2},1024),I(d,null,{default:D((()=>[I(r,{text:e.name},null,8,["text"])])),_:2},1024)])),_:2},1032,["href"])))),128)),I(c,{href:"https://github.com/directus/directus/releases",class:"version"},{default:D((()=>[I(s,null,{default:D((()=>[I(o,{name:"directus"})])),_:1}),I(d,null,{default:D((()=>[I(r,{class:"version",text:`Directus ${e.version}`},null,8,["text"])])),_:1})])),_:1})])),_:1})}],["__scopeId","data-v-69bfc87c"]]);const ex=w({props:{collection:{type:Object,required:!0}},setup(e){const{t:t}=x(),l=pI(),{deleting:a,deleteActive:i,deleteCollection:n}=function(){const t=F(!1),a=F(!1);return{deleting:t,deleteActive:a,deleteCollection:async function(){t.value=!0;try{await l.deleteCollection(e.collection.collection),a.value=!1}finally{t.value=!1}}}}();return{t:t,deleting:a,deleteActive:i,deleteCollection:n}}}),tx={key:0};var lx=F_(ex,[["render",function(e,t,l,a,i,n){const o=S("v-icon"),s=S("v-list-item-icon"),r=S("v-list-item-content"),d=S("v-list-item"),c=S("v-list"),u=S("v-menu"),p=S("v-card-title"),m=S("v-button"),f=S("v-card-actions"),v=S("v-card"),_=S("v-dialog");return!1===e.collection.collection.startsWith("directus_")?(E(),P("div",tx,[I(u,{placement:"left-start","show-arrow":""},{activator:D((({toggle:e})=>[I(o,{name:"more_vert",clickable:"",class:"ctx-toggle",onClick:e},null,8,["onClick"])])),default:D((()=>[I(c,null,{default:D((()=>[I(d,{clickable:"",class:"danger",onClick:t[0]||(t[0]=t=>e.deleteActive=!0)},{default:D((()=>[I(s,null,{default:D((()=>[I(o,{name:"delete",outline:""})])),_:1}),I(r,null,{default:D((()=>[N(U(e.t("delete_collection")),1)])),_:1})])),_:1})])),_:1})])),_:1}),I(_,{modelValue:e.deleteActive,"onUpdate:modelValue":t[2]||(t[2]=t=>e.deleteActive=t),onEsc:t[3]||(t[3]=t=>e.deleteActive=null)},{default:D((()=>[I(v,null,{default:D((()=>[I(p,null,{default:D((()=>[N(U(e.t("delete_collection_are_you_sure")),1)])),_:1}),I(f,null,{default:D((()=>[I(m,{disabled:e.deleting,secondary:"",onClick:t[1]||(t[1]=t=>e.deleteActive=null)},{default:D((()=>[N(U(e.t("cancel")),1)])),_:1},8,["disabled"]),I(m,{loading:e.deleting,kind:"danger",onClick:e.deleteCollection},{default:D((()=>[N(U(e.t("delete_collection")),1)])),_:1},8,["loading","onClick"])])),_:1})])),_:1})])),_:1},8,["modelValue"])])):B("",!0)}],["__scopeId","data-v-074824d2"]]);const ax=w({props:{modelValue:{type:Array,required:!0}},emits:["update:modelValue"],setup(e,{emit:t}){const{t:l}=x();return{t:l,internalValue:V({get:()=>e.modelValue,set(e){t("update:modelValue",e)}})}}}),ix={class:"type-label label"};var nx=F_(ax,[["render",function(e,t,l,a,i,n){const o=S("v-checkbox"),s=S("sidebar-detail");return E(),A(s,{class:"collections-filter",icon:"filter_list",title:e.t("collection",2)},{default:D((()=>[j("div",ix,U(e.t("collections_shown")),1),I(o,{modelValue:e.internalValue,"onUpdate:modelValue":t[0]||(t[0]=t=>e.internalValue=t),value:"visible",label:e.t("visible_collections")},null,8,["modelValue","label"]),I(o,{modelValue:e.internalValue,"onUpdate:modelValue":t[1]||(t[1]=t=>e.internalValue=t),value:"unmanaged",label:e.t("unmanaged_collections")},null,8,["modelValue","label"]),I(o,{modelValue:e.internalValue,"onUpdate:modelValue":t[2]||(t[2]=t=>e.internalValue=t),value:"hidden",label:e.t("hidden_collections")},null,8,["modelValue","label"]),I(o,{modelValue:e.internalValue,"onUpdate:modelValue":t[3]||(t[3]=t=>e.internalValue=t),value:"system",label:e.t("system_collections")},null,8,["modelValue","label"])])),_:1},8,["title"])}],["__scopeId","data-v-73d7b286"]]);const ox=F(["visible","hidden","unmanaged"]),sx=w({components:{SettingsNavigation:Zw,CollectionOptions:lx,CollectionsFilter:nx},setup(){const{t:e}=x(),t=ie(),l=pI(),a=F([{text:"",value:"icon",width:42,sortable:!1},{text:e("name"),value:"name",width:240},{text:e("note"),value:"note",width:360}]);const{items:i}=function(){const e=V((()=>m.exports.sortBy(l.collections.filter((e=>{var t;return!1===e.collection.startsWith("directus_")&&!1===(null==(t=e.meta)?void 0:t.hidden)})),"collection"))),t=V((()=>m.exports.sortBy(l.collections.filter((e=>{var t;return!1===e.collection.startsWith("directus_")&&!0===(null==(t=e.meta)?void 0:t.hidden)})).map((e=>r(s({},e),{icon:"visibility_off"}))),"collection"))),a=V((()=>m.exports.sortBy(l.collections.filter((e=>!0===e.collection.startsWith("directus_"))).map((e=>r(s({},e),{icon:"settings"}))),"collection"))),i=V((()=>m.exports.sortBy(l.collections.filter((e=>!1===e.collection.startsWith("directus_"))).filter((e=>null===e.meta)).map((e=>r(s({},e),{icon:"dns"}))),"collection")));return{items:V((()=>{const l=[];return ox.value.includes("visible")&&l.push(e.value),ox.value.includes("unmanaged")&&l.push(i.value),ox.value.includes("hidden")&&l.push(t.value),ox.value.includes("system")&&l.push(d_(a.value)),l.flat()}))}}();return{t:e,tableHeaders:a,items:i,openCollection:function({collection:e}){t.push(`/settings/data-model/${e}`)},activeTypes:ox}}}),rx={class:"padding-box"},dx={key:0,class:"note"},cx={key:1,class:"note"},ux={class:"page-description"};var px=F_(sx,[["render",function(e,t,l,a,i,n){const o=S("v-icon"),s=S("v-button"),r=S("settings-navigation"),d=S("v-info"),c=S("v-text-overflow"),u=S("collection-options"),p=S("v-table"),m=S("router-view"),f=S("sidebar-detail"),v=S("collections-filter"),_=S("private-view"),y=q("tooltip"),h=q("md");return E(),A(_,{title:e.t("settings_data_model")},{headline:D((()=>[N(U(e.t("settings")),1)])),"title-outer:prepend":D((()=>[I(s,{class:"header-icon",rounded:"",disabled:"",icon:"",secondary:""},{default:D((()=>[I(o,{name:"list_alt"})])),_:1})])),actions:D((()=>[z(I(s,{rounded:"",icon:"",to:"/settings/data-model/+"},{default:D((()=>[I(o,{name:"add"})])),_:1},512),[[y,e.t("create_collection"),void 0,{bottom:!0}]])])),navigation:D((()=>[I(r)])),sidebar:D((()=>[I(f,{icon:"info_outline",title:e.t("information"),close:""},{default:D((()=>[z(j("div",ux,null,512),[[h,e.t("page_help_settings_datamodel_collections")]])])),_:1},8,["title"]),I(v,{modelValue:e.activeTypes,"onUpdate:modelValue":t[1]||(t[1]=t=>e.activeTypes=t)},null,8,["modelValue"])])),default:D((()=>[j("div",rx,[0===e.items.length?(E(),A(d,{key:0,type:"warning",icon:"box",title:e.t("no_collections"),center:""},{append:D((()=>[I(s,{to:"/settings/data-model/+"},{default:D((()=>[N(U(e.t("create_collection")),1)])),_:1})])),default:D((()=>[N(U(e.t("no_collections_copy_admin"))+" ",1)])),_:1},8,["title"])):(E(),A(p,{key:1,headers:e.tableHeaders,"onUpdate:headers":t[0]||(t[0]=t=>e.tableHeaders=t),items:e.items,"show-resize":"","fixed-header":"","item-key":"collection","onClick:row":e.openCollection},{"item.icon":D((({item:e})=>[I(o,{class:H(["icon",{hidden:e.meta&&e.meta.hidden||!1,system:e.collection.startsWith("directus_"),unmanaged:null===e.meta&&!1===e.collection.startsWith("directus_")}]),name:e.icon,color:e.color},null,8,["class","name","color"])])),"item.name":D((({item:e})=>[I(c,{class:H(["collection",{hidden:e.meta&&e.meta.hidden||!1,system:e.collection.startsWith("directus_"),unmanaged:null===e.meta&&!1===e.collection.startsWith("directus_")}]),text:e.collection},null,8,["class","text"])])),"item.note":D((({item:t})=>[null===t.meta?(E(),P("span",dx,U(e.t("db_only_click_to_configure")),1)):(E(),P("span",cx,U(t.meta.note),1))])),"item-append":D((({item:t})=>[t.meta||!1!==t.collection.startsWith("directus_")?B("",!0):z((E(),A(o,{key:0,small:"",class:"no-meta",name:"report_problem"},null,512)),[[y,e.t("db_only_click_to_configure")]]),!1===t.collection.startsWith("directus_")?(E(),A(u,{key:1,collection:t},null,8,["collection"])):B("",!0)])),_:2},1032,["headers","items","onClick:row"]))]),I(m,{name:"add"})])),_:1},8,["title"])}],["__scopeId","data-v-19b9a2c2"]]);var mx=F_(w({props:{tabs:{type:Array,required:!0},current:{type:Array,default:()=>["schema"]},type:{type:String,default:"standard"}},emits:["update:current"],setup:(e,{emit:t})=>({internalCurrentTab:Yt(e,"current",t)})}),[["render",function(e,t,l,a,i,n){const o=S("v-tab"),s=S("v-tabs");return E(),A(s,{modelValue:e.internalCurrentTab,"onUpdate:modelValue":t[0]||(t[0]=t=>e.internalCurrentTab=t),vertical:""},{default:D((()=>[(E(!0),P(R,null,M(e.tabs,(e=>(E(),A(o,{key:e.value,value:e.value,disabled:e.disabled},{default:D((()=>[N(U(e.text),1)])),_:2},1032,["value","disabled"])))),128))])),_:1},8,["modelValue"])}]]);const fx=w({props:{collection:{type:String,required:!0},current:{type:Array,required:!0},tabs:{type:Array,required:!0},saving:{type:Boolean,default:!1},isExisting:{type:Boolean,default:!1}},emits:["save","update:current"],setup(e,{emit:t}){const{t:l}=x(),a=Yt(e,"current",t),i=V((()=>e.tabs.findIndex((t=>t.value===e.current[0])))),n=V((()=>0===i.value)),o=V((()=>{const t=e.tabs[i.value+1];return!t||t.disabled}));return{t:l,internalCurrentTab:a,previousDisabled:n,previousTab:function(){const t=e.tabs[i.value-1];t&&(a.value=[t.value])},nextDisabled:o,nextTab:function(){const t=e.tabs[i.value+1];t&&(a.value=[t.value])},currentTabIndex:i}}}),vx={class:"actions"};var _x=F_(fx,[["render",function(e,t,l,a,i,n){const o=S("v-icon"),s=S("v-button"),r=q("tooltip");return E(),P("div",vx,[!e.isExisting&&e.currentTabIndex<e.tabs.length-1?z((E(),A(s,{key:0,disabled:e.nextDisabled,icon:"",rounded:"",onClick:e.nextTab},{default:D((()=>[I(o,{name:"arrow_forward"})])),_:1},8,["disabled","onClick"])),[[r,e.t("next"),void 0,{bottom:!0}]]):z((E(),A(s,{key:1,loading:e.saving,icon:"",rounded:"",onClick:t[0]||(t[0]=t=>e.$emit("save"))},{default:D((()=>[I(o,{name:"check"})])),_:1},8,["loading"])),[[r,e.t("save"),void 0,{bottom:!0}]])])}],["__scopeId","data-v-21edd754"]]);let yx,hx,gx,bx;function kx(e,t,l){const a=vI(),i=VI(),n=pI(),{interfaces:o}=yl(),{displays:d}=fl();wx(),hx=V((()=>o.value.filter((e=>{var t;if(!0===e.system)return!1;const a=e.types.includes((null==(t=yx.fieldData)?void 0:t.type)||"alias"),i=(e.groups||["standard"]).includes(l);return a&&i})).sort(((e,t)=>e.name>t.name?1:-1)))),gx=V((()=>d.value.filter((e=>{var t;const a=e.types.includes((null==(t=yx.fieldData)?void 0:t.type)||"alias"),i=(e.groups||["standard"]).includes(l)||!0;return a&&i})).sort(((e,t)=>e.name>t.name?1:-1)))),bx=V((()=>[...yx.newCollections.map((e=>({name:e.collection,type:"collection"}))),...yx.newCollections.filter((e=>!!e.fields)).map((e=>e.fields.map((t=>r(s({},t),{collection:e.collection}))))).flat().map((e=>({name:`${e.collection}.${e.field}`,type:"field"}))),...yx.newFields.map((e=>({name:`${e.collection}.${e.field}`,type:"field"})))]));const c="+"!==t;if(c){const l=m.exports.clone(a.getField(e,t));yx.fieldData.field=l.field,yx.fieldData.type=l.type,yx.fieldData.schema=l.schema,yx.fieldData.meta=l.meta,yx.relations=i.getRelationsForField(e,t);for(const e of yx.relations)e.schema||(e.schema={on_delete:"SET NULL"})}else yx.autoFillJunctionRelation=!0,O((()=>hx.value),(()=>{1===hx.value.length&&yx.fieldData.meta&&(yx.fieldData.meta.interface=hx.value[0].id)})),O((()=>gx.value),(()=>{1===gx.value.length&&yx.fieldData.meta&&(yx.fieldData.meta.display=gx.value[0].id)}));function u(e){return null!==n.getCollection(e)}function p(e,t){return u(e)&&!!a.getField(e,t)}!1===c&&"translations"===l&&yx.fieldData.meta&&(yx.fieldData.meta.interface="translations"),"file"===l?function(){c||(yx.fieldData.type="uuid",yx.relations=[{collection:e,field:"",related_collection:"directus_files",meta:{sort_field:null}}]);O((()=>yx.fieldData.field),(()=>{yx.relations[0].field=yx.fieldData.field}))}():"m2o"===l?function(){const t=m.exports.throttle((()=>{var e,t,l,a;const i=yx.relations[0].related_collection;if(!i||u(i))yx.newCollections=[];else{const n=(null==(a=null==(l=null==(t=null==(e=yx.newCollections)?void 0:e[0])?void 0:t.fields)?void 0:l[0])?void 0:a.field)||"id";yx.newCollections=[{collection:i,fields:[{field:n,type:"integer",schema:{has_auto_increment:!0,is_primary_key:!0},meta:{hidden:!0}}]}]}}),50);!1===c&&(yx.relations=[{collection:e,field:"",related_collection:"",meta:{sort_field:null},schema:{on_delete:"SET NULL"}}]);O((()=>yx.relations[0].collection),(()=>{yx.relations[0].collection===yx.relations[0].related_collection&&(yx.relations[0].schema=r(s({},yx.relations[0].schema),{on_delete:"NO ACTION"}))})),O((()=>yx.fieldData.field),(()=>{yx.relations[0].field=yx.fieldData.field})),O((()=>yx.relations[0].related_collection),(()=>{if(yx.relations[0].related_collection&&u(yx.relations[0].related_collection)){const e=a.getPrimaryKeyFieldForCollection(yx.relations[0].related_collection);yx.fieldData.type=e.type}else yx.fieldData.type="integer"})),O((()=>yx.relations[0].related_collection),(()=>{yx.newFields.length>0&&yx.relations[0].related_collection&&(yx.newFields[0].collection=yx.relations[0].related_collection)})),O([()=>yx.relations[0].related_collection],t)}():"m2m"===l||"files"===l||"translations"===l?function(){var t,n;delete yx.fieldData.schema,yx.fieldData.type="alias";const o=m.exports.throttle((([t,i,n,o,s])=>{var r,d;yx.newCollections=yx.newCollections.filter((e=>!1===["junction","related"].includes(e.$type))),yx.newFields=yx.newFields.filter((e=>!1===["manyCurrent","manyRelated","sort"].includes(e.$type))),!1===u(t)&&yx.newCollections.push({$type:"junction",collection:t,meta:{hidden:!0,icon:"import_export"},fields:[{field:"id",type:"integer",schema:{has_auto_increment:!0},meta:{hidden:!0}}]}),!1===p(t,i)&&yx.newFields.push({$type:"manyCurrent",collection:t,field:i,type:a.getPrimaryKeyFieldForCollection(e).type,schema:{},meta:{hidden:!0}}),!1===p(t,n)&&("translations"===l?yx.newFields.push({$type:"manyRelated",collection:t,field:n,type:u(o)?null==(r=a.getPrimaryKeyFieldForCollection(o))?void 0:r.type:"string",schema:{},meta:{hidden:!0}}):yx.newFields.push({$type:"manyRelated",collection:t,field:n,type:u(o)?null==(d=a.getPrimaryKeyFieldForCollection(o))?void 0:d.type:"integer",schema:{},meta:{hidden:!0}})),!1===u(o)&&("translations"===l?yx.newCollections.push({$type:"related",collection:o,meta:{icon:"translate"},fields:[{field:"code",type:"string",schema:{is_primary_key:!0},meta:{interface:"input",options:{iconLeft:"vpn_key"},width:"half"}},{field:"name",type:"string",schema:{},meta:{interface:"input",options:{iconLeft:"translate"},width:"half"}}]}):yx.newCollections.push({$type:"related",collection:o,fields:[{field:"id",type:"integer",schema:{has_auto_increment:!0},meta:{hidden:!0}}]})),"translations"===l&&(!1===u(o)?yx.newRows={[o]:[{code:"en-US",name:"English"},{code:"de-DE",name:"German"},{code:"fr-FR",name:"French"},{code:"ru-RU",name:"Russian"},{code:"es-ES",name:"Spanish"},{code:"it-IT",name:"Italian"},{code:"pt-BR",name:"Portuguese"}]}:yx.newRows={}),s&&!1===p(t,s)&&yx.newFields.push({$type:"sort",collection:t,field:s,type:"integer",schema:{},meta:{hidden:!0}})}),50);c||(yx.fieldData.meta=r(s({},yx.fieldData.meta||{}),{special:[l]}),yx.relations=[{collection:"",field:"",related_collection:e,meta:{one_field:yx.fieldData.field,sort_field:null,one_deselect_action:"nullify"},schema:{on_delete:"SET NULL"}},{collection:"",field:"",related_collection:"",meta:{one_field:null,sort_field:null,one_deselect_action:"nullify"},schema:{on_delete:"SET NULL"}}]);O((()=>yx.relations[0].collection),(()=>{yx.relations[0].collection===yx.relations[0].related_collection&&(yx.relations[0].schema=r(s({},yx.relations[0].schema),{on_delete:"NO ACTION"}))})),O((()=>yx.relations[1].collection),(()=>{yx.relations[1].collection===yx.relations[1].related_collection&&(yx.relations[1].schema=r(s({},yx.relations[1].schema),{on_delete:"NO ACTION"}))})),O((()=>yx.relations[0].field),(()=>{yx.relations[1].meta=r(s({},yx.relations[1].meta||{}),{junction_field:yx.relations[0].field})})),O((()=>yx.relations[1].field),(()=>{yx.relations[0].meta=r(s({},yx.relations[0].meta||{}),{junction_field:yx.relations[1].field})})),O([()=>yx.relations[0].collection,()=>yx.relations[0].field,()=>yx.relations[1].field,()=>yx.relations[1].related_collection,()=>{var e;return null==(e=yx.relations[0].meta)?void 0:e.sort_field}],(([e,t,l,a,n])=>{o([e,t,l,a,n]),function(e,t){var l;if(!e||!t)return;const a=i.getRelationForField(e,t)||{};if(!a)return;yx.relations[0].schema={on_delete:(null==(l=a.schema)?void 0:l.on_delete)||"SET NULL"}}(e,t)})),O((()=>yx.fieldData.field),(()=>{yx.relations[0].meta=r(s({},yx.relations[0].meta||{}),{one_field:yx.fieldData.field}),yx.fieldData.field&&u(yx.fieldData.field)&&"translations"!==l&&d(yx.fieldData.field)})),"files"===l&&Ie((()=>{yx.relations[1].related_collection=yx.relations[1].related_collection||"directus_files"}));if("translations"!==l){let e;O((()=>yx.autoFillJunctionRelation),(t=>{t?e=O((()=>yx.relations[1].related_collection),(e=>d(e))):null==e||e()}),{immediate:!0})}if("translations"===l&&(O((()=>yx.relations[0].collection),(e=>{yx.relations[1].collection=e}),{immediate:!0}),!1===c)){yx.relations[0].collection=`${e}_translations`,yx.relations[0].field=`${e}_${null==(t=a.getPrimaryKeyFieldForCollection(e))?void 0:t.field}`,yx.relations[1].related_collection="languages";const l=(null==(n=a.getPrimaryKeyFieldForCollection(yx.relations[1].related_collection))?void 0:n.field)||"id";yx.relations[1].field=`${yx.relations[1].related_collection}_${l}`,yx.fieldData.field="translations",yx.relations[0].meta=r(s({},yx.relations[0].meta||{}),{one_field:"translations"})}function d(t){var l,i,n,o,s,r;const d=(null==(l=a.getPrimaryKeyFieldForCollection(e))?void 0:l.field)||"id";if(t){const l=function(e,t){let l=0,a=i(l);for(;u(a);)l++,a=i(l);return a;function i(l){let a=`${e}_${t}`;return a.startsWith("directus_")&&(a="junction_"+a),l?a+"_"+l:a}}(e,t),c=(null==(i=a.getPrimaryKeyFieldForCollection(t))?void 0:i.field)||(null==(r=null==(s=null==(o=null==(n=yx.newCollections)?void 0:n.find((e=>"related"===e.$type)))?void 0:o.fields)?void 0:s[0])?void 0:r.field)||"id";yx.relations[0].collection=l,yx.relations[1].collection=l,yx.relations[0].related_collection=e,yx.relations[1].related_collection=t,yx.relations[0].field=`${e}_${d}`,yx.relations[1].field=`${t}_${c}`,yx.relations[0].field===yx.relations[1].field&&(yx.relations[1].field=`related_${yx.relations[1].field}`)}else yx.relations[0].collection=void 0,yx.relations[1].collection=void 0,yx.relations[0].related_collection=e,yx.relations[1].related_collection=void 0,yx.relations[0].field=void 0,yx.relations[1].field=void 0}}():"o2m"===l?function(){delete yx.fieldData.schema,yx.fieldData.type="alias";const t=m.exports.throttle((([t,l,i])=>{var n;yx.newCollections=yx.newCollections.filter((e=>!1===["related"].includes(e.$type))),yx.newFields=yx.newFields.filter((e=>!1===["manyRelated","sort"].includes(e.$type))),t&&!1===u(t)&&yx.newCollections.push({$type:"related",collection:t,fields:[{field:"id",type:"integer",schema:{has_auto_increment:!0,is_primary_key:!0},meta:{hidden:!0}}]}),l&&!1===p(t,l)&&yx.newFields.push({$type:"manyRelated",collection:t,field:l,type:u(e)?null==(n=a.getPrimaryKeyFieldForCollection(e))?void 0:n.type:"integer",schema:{}}),i&&!1===p(t,i)&&yx.newFields.push({$type:"sort",collection:t,field:i,type:"integer",schema:{},meta:{hidden:!0}})}),50);c||(yx.fieldData.meta=r(s({},yx.fieldData.meta||{}),{special:["o2m"]}),yx.relations=[{collection:"",field:"",related_collection:e,meta:{one_field:yx.fieldData.field,sort_field:null,one_deselect_action:"nullify"},schema:{on_delete:"SET NULL"}}]);O((()=>yx.relations[0].collection),(()=>{yx.relations[0].collection===yx.relations[0].related_collection&&(yx.relations[0].schema=r(s({},yx.relations[0].schema),{on_delete:"NO ACTION"}))})),O((()=>yx.fieldData.field),(()=>{yx.relations[0].meta=r(s({},yx.relations[0].meta||{}),{one_field:yx.fieldData.field})})),O([()=>yx.relations[0].collection,()=>yx.relations[0].field,()=>{var e;return null==(e=yx.relations[0].meta)?void 0:e.sort_field}],(([e,l,a])=>{t([e,l,a]),function(e,t){var l;if(!e||!t)return;const a=i.getRelationForField(e,t)||{};a&&(yx.relations[0].schema={on_delete:(null==(l=a.schema)?void 0:l.on_delete)||"SET NULL"})}(e,l)}))}():"presentation"===l?(delete yx.fieldData.schema,yx.fieldData.type="alias",yx.fieldData.meta=r(s({},yx.fieldData.meta||{}),{special:["alias","no-data"]})):"group"===l?(delete yx.fieldData.schema,yx.fieldData.type="alias",yx.fieldData.meta=r(s({},yx.fieldData.meta||{}),{special:["alias","no-data","group"]})):"m2a"===l?function(){delete yx.fieldData.schema,yx.fieldData.type="alias";const t=m.exports.throttle((([t,l,i,n,o])=>{yx.newCollections=yx.newCollections.filter((e=>!1===["junction","related"].includes(e.$type))),yx.newFields=yx.newFields.filter((e=>!1===["manyCurrent","manyRelated","collectionField","sort"].includes(e.$type))),!1===u(t)&&yx.newCollections.push({$type:"junction",collection:t,meta:{hidden:!0,icon:"import_export"},fields:[{field:"id",type:"integer",schema:{has_auto_increment:!0},meta:{hidden:!0}}]}),!1===p(t,l)&&yx.newFields.push({$type:"manyCurrent",collection:t,field:l,type:a.getPrimaryKeyFieldForCollection(e).type,schema:{},meta:{hidden:!0}}),!1===p(t,i)&&yx.newFields.push({$type:"manyRelated",collection:t,field:i,type:"string",schema:{},meta:{hidden:!0}}),!1===p(t,n)&&yx.newFields.push({$type:"collectionField",collection:t,field:n,type:"string",schema:{},meta:{hidden:!0}}),o&&!1===p(t,o)&&yx.newFields.push({$type:"sort",collection:t,field:o,type:"integer",schema:{},meta:{hidden:!0}})}),50);c||(yx.fieldData.meta=r(s({},yx.fieldData.meta||{}),{special:[l]}),yx.relations=[{collection:"",field:"",related_collection:e,meta:{one_field:yx.fieldData.field,sort_field:null,one_deselect_action:"nullify"},schema:{on_delete:"SET NULL"}},{collection:"",field:"",related_collection:null,meta:{one_field:null,one_allowed_collections:[],one_collection_field:"",sort_field:null,one_deselect_action:"nullify"}}]);O((()=>yx.relations[0].collection),(()=>{yx.relations[0].collection===yx.relations[0].related_collection&&(yx.relations[0].schema=r(s({},yx.relations[0].schema),{on_delete:"NO ACTION"}))})),O((()=>yx.relations[0].field),(()=>{yx.relations[1].meta=r(s({},yx.relations[1].meta||{}),{junction_field:yx.relations[0].field})})),O((()=>yx.relations[1].field),(()=>{yx.relations[0].meta=r(s({},yx.relations[0].meta||{}),{junction_field:yx.relations[1].field})})),O([()=>yx.relations[0].collection,()=>yx.relations[0].field,()=>yx.relations[1].field,()=>{var e;return null==(e=yx.relations[1].meta)?void 0:e.one_collection_field},()=>{var e;return null==(e=yx.relations[0].meta)?void 0:e.sort_field}],t),O((()=>yx.fieldData.field),(()=>{yx.relations[0].meta=r(s({},yx.relations[0].meta||{}),{one_field:yx.fieldData.field}),yx.autoFillJunctionRelation&&(yx.relations[0].collection=`${yx.relations[0].related_collection}_${yx.fieldData.field}`,yx.relations[1].collection=`${yx.relations[0].related_collection}_${yx.fieldData.field}`)})),O((()=>yx.autoFillJunctionRelation),(()=>{var t;if(!0===yx.autoFillJunctionRelation){const l=(null==(t=a.getPrimaryKeyFieldForCollection(e))?void 0:t.field)||"id";yx.relations[0].collection=`${yx.relations[0].related_collection}_${yx.fieldData.field}`,yx.relations[1].collection=`${yx.relations[0].related_collection}_${yx.fieldData.field}`,yx.relations[0].field=`${yx.relations[0].related_collection}_${l}`,yx.relations[1].meta=r(s({},yx.relations[1].meta||{}),{one_collection_field:"collection"}),yx.relations[1].field="item"}}),{immediate:!0})}():O((()=>yx.fieldData.type),(()=>{switch(yx.fieldData.meta=r(s({},yx.fieldData.meta||{}),{interface:null,options:null,display:null,display_options:null,special:null}),yx.fieldData.schema=r(s({},yx.fieldData.schema||{}),{default_value:void 0,max_length:void 0,is_nullable:!0,geometry_type:void 0}),yx.fieldData.type){case"uuid":yx.fieldData.meta.special=["uuid"];break;case"hash":yx.fieldData.meta.special=["hash"];break;case"json":yx.fieldData.meta.special=["json"];break;case"csv":yx.fieldData.meta.special=["csv"];break;case"boolean":yx.fieldData.meta.special=["boolean"],yx.fieldData.schema.default_value=!1,yx.fieldData.schema.is_nullable=!1;break;case"geometry":yx.fieldData.meta.special=["geometry"]}}))}function wx(){yx=$({fieldData:{field:"",type:"string",schema:{default_value:void 0,max_length:void 0,is_nullable:!0,is_unique:!1,numeric_precision:null,numeric_scale:null,geometry_type:void 0},meta:{hidden:!1,interface:void 0,options:void 0,display:void 0,display_options:void 0,readonly:!1,special:void 0,note:void 0}},relations:[],newCollections:[],newFields:[],updateFields:[],newRows:{},autoFillJunctionRelation:!1})}const xx=[{text:"$t:string",value:"string"},{text:"$t:text",value:"text"},{divider:!0},{text:"$t:boolean",value:"boolean"},{divider:!0},{text:"$t:integer",value:"integer"},{text:"$t:bigInteger",value:"bigInteger"},{text:"$t:float",value:"float"},{text:"$t:decimal",value:"decimal"},{divider:!0},{text:"$t:geometry",value:"geometry"},{divider:!0},{text:"$t:timestamp",value:"timestamp"},{text:"$t:datetime",value:"dateTime"},{text:"$t:date",value:"date"},{text:"$t:time",value:"time"},{divider:!0},{text:"$t:json",value:"json"},{text:"$t:csv",value:"csv"},{text:"$t:uuid",value:"uuid"},{text:"$t:hash",value:"hash"}],Vx=w({props:{isExisting:{type:Boolean,required:!0},type:{type:String,required:!0}},setup(e){const{t:t}=x(),l=V((()=>d_(xx))),a=V((()=>["file","files","o2m","m2m","m2a","m2o","translations"].includes(e.type))),i=V((()=>"m2o"===e.type?t("determined_by_relationship"):t("choose_a_type"))),n=V({get(){var e;return null==(e=yx.fieldData.schema)?void 0:e.default_value},set(e){yx.fieldData.schema=r(s({},yx.fieldData.schema||{}),{default_value:e})}}),{onCreateOptions:o,onCreateValue:d}=function(){const l=["uuid","user-created","role-created","date-created"],a=V((()=>{var l,a;if("uuid"===yx.fieldData.type){const i=[{text:t("do_nothing"),value:null},{text:t("generate_and_save_uuid"),value:"uuid"},{text:t("save_current_user_id"),value:"user-created"},{text:t("save_current_user_role"),value:"role-created"}];return"m2o"===e.type&&"directus_users"===(null==(l=yx.relations[0])?void 0:l.related_collection)?i.filter((({value:e})=>[null,"user-created"].includes(e))):"m2o"===e.type&&"directus_roles"===(null==(a=yx.relations[0])?void 0:a.related_collection)?i.filter((({value:e})=>[null,"role-created"].includes(e))):i}return["date","time","dateTime","timestamp"].includes(yx.fieldData.type)?[{text:t("do_nothing"),value:null},{text:t("save_current_datetime"),value:"date-created"}]:[]})),i=V({get(){var e;const t=(null==(e=yx.fieldData.meta)?void 0:e.special)||[];for(const a of l)if(t.includes(a))return a;return null},set(e){var t;yx.fieldData.meta=r(s({},yx.fieldData.meta||{}),{special:((null==(t=yx.fieldData.meta)?void 0:t.special)||[]).filter((e=>!1===l.includes(e)))}),e&&(yx.fieldData.meta.special=[...yx.fieldData.meta.special||[],e])}});return{onCreateSpecials:l,onCreateOptions:a,onCreateValue:i}}(),{onUpdateOptions:c,onUpdateValue:u}=function(){const l=["user-updated","role-updated","date-updated"],a=V((()=>{var l,a;if("uuid"===yx.fieldData.type){const i=[{text:t("do_nothing"),value:null},{text:t("save_current_user_id"),value:"user-updated"},{text:t("save_current_user_role"),value:"role-updated"}];return"m2o"===e.type&&"directus_users"===(null==(l=yx.relations[0])?void 0:l.related_collection)?i.filter((({value:e})=>[null,"user-updated"].includes(e))):"m2o"===e.type&&"directus_roles"===(null==(a=yx.relations[0])?void 0:a.related_collection)?i.filter((({value:e})=>[null,"role-updated"].includes(e))):i}return["date","time","dateTime","timestamp"].includes(yx.fieldData.type)?[{text:t("do_nothing"),value:null},{text:t("save_current_datetime"),value:"date-updated"}]:[]})),i=V({get(){var e;const t=(null==(e=yx.fieldData.meta)?void 0:e.special)||[];for(const a of l)if(t.includes(a))return a;return null},set(e){var t;yx.fieldData.meta=r(s({},yx.fieldData.meta||{}),{special:((null==(t=yx.fieldData.meta)?void 0:t.special)||[]).filter((e=>!1===l.includes(e)))}),e&&(yx.fieldData.meta.special=[...yx.fieldData.meta.special||[],e])}});return{onUpdateSpecials:l,onUpdateOptions:a,onUpdateValue:i}}(),p=V((()=>["uuid","date","time","dateTime","timestamp"].includes(yx.fieldData.type||"")&&"file"!==e.type));return{t:t,fieldData:yx.fieldData,typesWithLabels:l,GEOMETRY_TYPES:V_,typeDisabled:a,typePlaceholder:i,defaultValue:n,onCreateOptions:o,onCreateValue:d,onUpdateOptions:c,onUpdateValue:u,hasCreateUpdateTriggers:p}}}),Cx={class:"form"},Sx={class:"field"},Ex={class:"label type-label"},Ax={class:"note"},Dx={class:"field half"},Ix={class:"label type-label"},Fx={key:0,class:"field half-right"},Ox={class:"label type-label"},$x={key:0,class:"field half"},Tx={class:"label type-label"},Px={key:0,class:"field half"},jx={class:"label type-label"},Lx={class:"precision-scale"},Rx={class:"field half-left"},Mx={class:"label type-label"},Ux={class:"field half-right"},Nx={class:"label type-label"},Bx={key:4,class:"field full"},qx={class:"label type-label"},zx={key:5,class:"field half-left"},Kx={class:"label type-label"},Wx={key:6,class:"field half-right"},Hx={class:"label type-label"};var Gx=F_(Vx,[["render",function(e,t,l,a,i,n){const o=S("v-icon"),s=S("v-input"),r=S("v-select"),d=S("v-textarea"),c=S("interface-input-code"),u=S("v-checkbox");return E(),P("div",null,[j("div",Cx,[j("div",Sx,[j("div",Ex,[N(U(e.t("key"))+" ",1),I(o,{class:"required",sup:"",name:"star"})]),I(s,{modelValue:e.fieldData.field,"onUpdate:modelValue":t[0]||(t[0]=t=>e.fieldData.field=t),disabled:e.isExisting,autofocus:"",class:"monospace",nullable:!1,"db-safe":"",placeholder:e.t("a_unique_column_name")},null,8,["modelValue","disabled","placeholder"]),j("small",Ax,U(e.t("schema_setup_key")),1)]),j("div",Dx,[j("div",Ix,[N(U(e.t("type"))+" ",1),I(o,{class:"required",sup:"",name:"star"})]),e.fieldData.schema?(E(),A(r,{key:1,disabled:e.typeDisabled||e.isExisting,"model-value":e.fieldData.type,items:e.typesWithLabels,placeholder:e.typePlaceholder,"onUpdate:modelValue":t[1]||(t[1]=t=>e.fieldData.type=t)},null,8,["disabled","model-value","items","placeholder"])):(E(),A(s,{key:0,"model-value":e.t("alias"),disabled:""},null,8,["model-value"]))]),"geometry"==e.fieldData.type?(E(),P(R,{key:0},[e.fieldData.schema?(E(),P("div",Fx,[j("div",Ox,U(e.t("interfaces.map.geometry_type")),1),I(r,{modelValue:e.fieldData.schema.geometry_type,"onUpdate:modelValue":t[2]||(t[2]=t=>e.fieldData.schema.geometry_type=t),"show-deselect":!0,placeholder:e.t("any"),disabled:e.isExisting,items:e.GEOMETRY_TYPES.map((e=>({value:e,text:e})))},null,8,["modelValue","placeholder","disabled","items"])])):B("",!0)],64)):!1===["decimal","float"].includes(e.fieldData.type)?(E(),P(R,{key:1},[e.fieldData.schema?(E(),P("div",$x,[j("div",Tx,U(e.t("length")),1),I(s,{modelValue:e.fieldData.schema.max_length,"onUpdate:modelValue":t[3]||(t[3]=t=>e.fieldData.schema.max_length=t),type:"number",placeholder:"string"!==e.fieldData.type?e.t("not_available_for_type"):"255",disabled:e.isExisting||"string"!==e.fieldData.type},null,8,["modelValue","placeholder","disabled"])])):B("",!0)],64)):(E(),P(R,{key:2},[e.fieldData.schema?(E(),P("div",Px,[j("div",jx,U(e.t("precision_scale")),1),j("div",Lx,[I(s,{modelValue:e.fieldData.schema.numeric_precision,"onUpdate:modelValue":t[4]||(t[4]=t=>e.fieldData.schema.numeric_precision=t),type:"number",placeholder:10},null,8,["modelValue"]),I(s,{modelValue:e.fieldData.schema.numeric_scale,"onUpdate:modelValue":t[5]||(t[5]=t=>e.fieldData.schema.numeric_scale=t),type:"number",placeholder:5},null,8,["modelValue"])])])):B("",!0)],64)),e.hasCreateUpdateTriggers?(E(),P(R,{key:3},[j("div",Rx,[j("div",Mx,U(e.t("on_create")),1),I(r,{modelValue:e.onCreateValue,"onUpdate:modelValue":t[6]||(t[6]=t=>e.onCreateValue=t),items:e.onCreateOptions},null,8,["modelValue","items"])]),j("div",Ux,[j("div",Nx,U(e.t("on_update")),1),I(r,{modelValue:e.onUpdateValue,"onUpdate:modelValue":t[7]||(t[7]=t=>e.onUpdateValue=t),items:e.onUpdateOptions},null,8,["modelValue","items"])])],64)):B("",!0),e.fieldData.schema&&!0!==e.fieldData.schema.is_primary_key?(E(),P("div",Bx,[j("div",qx,U(e.t("default_value")),1),["string","uuid"].includes(e.fieldData.type)?(E(),A(s,{key:0,modelValue:e.defaultValue,"onUpdate:modelValue":t[8]||(t[8]=t=>e.defaultValue=t),class:"monospace",placeholder:"NULL"},null,8,["modelValue"])):["text"].includes(e.fieldData.type)?(E(),A(d,{key:1,modelValue:e.defaultValue,"onUpdate:modelValue":t[9]||(t[9]=t=>e.defaultValue=t),class:"monospace",placeholder:"NULL"},null,8,["modelValue"])):["integer","bigInteger","float","decimal"].includes(e.fieldData.type)?(E(),A(s,{key:2,modelValue:e.defaultValue,"onUpdate:modelValue":t[10]||(t[10]=t=>e.defaultValue=t),type:"number",class:"monospace",placeholder:"NULL"},null,8,["modelValue"])):["timestamp","dateTime","date","time"].includes(e.fieldData.type)?(E(),A(s,{key:3,modelValue:e.defaultValue,"onUpdate:modelValue":t[11]||(t[11]=t=>e.defaultValue=t),class:"monospace",placeholder:"NULL"},null,8,["modelValue"])):"boolean"===e.fieldData.type?(E(),A(r,{key:4,modelValue:e.defaultValue,"onUpdate:modelValue":t[12]||(t[12]=t=>e.defaultValue=t),class:"monospace",items:[{text:"true",value:!0},{text:"false",value:!1},{text:"NULL",value:null}]},null,8,["modelValue"])):"json"===e.fieldData.type?(E(),A(c,{key:5,value:e.defaultValue||"",language:"JSON",placeholder:"NULL",type:"json",onInput:t[13]||(t[13]=t=>e.defaultValue=t)},null,8,["value"])):(E(),A(s,{key:6,modelValue:e.defaultValue,"onUpdate:modelValue":t[14]||(t[14]=t=>e.defaultValue=t),class:"monospace",disabled:"",placeholder:"NULL"},null,8,["modelValue"]))])):B("",!0),e.fieldData.schema?(E(),P("div",zx,[j("div",Kx,U(e.t("nullable")),1),I(u,{"model-value":e.fieldData.schema.is_nullable,label:e.t("allow_null_value"),block:"","onUpdate:modelValue":t[15]||(t[15]=t=>e.fieldData.schema.is_nullable=t)},null,8,["model-value","label"])])):B("",!0),e.fieldData.schema?(E(),P("div",Wx,[j("div",Hx,U(e.t("unique")),1),I(u,{"model-value":e.fieldData.schema.is_unique,label:e.t("value_unique"),block:"","onUpdate:modelValue":t[16]||(t[16]=t=>e.fieldData.schema.is_unique=t)},null,8,["model-value","label"])])):B("",!0)])])}],["__scopeId","data-v-d88df5ec"]]);const Qx=w({props:{isExisting:{type:Boolean,required:!0},type:{type:String,required:!0}},setup(){const{t:e}=x();return{t:e,fieldData:yx.fieldData}}}),Xx={class:"form"},Jx={key:0,class:"field half-left"},Yx={class:"label type-label"},Zx={key:1,class:"field half-right"},eV={class:"label type-label"},tV={key:2,class:"field half-left"},lV={class:"label type-label"},aV={key:3,class:"field full"},iV={class:"label type-label"},nV={class:"field full"},oV={class:"label type-label"};var sV=F_(Qx,[["render",function(e,t,l,a,i,n){const o=S("v-checkbox"),s=S("v-input"),r=S("interface-list");return E(),P("div",null,[j("div",Xx,[e.fieldData.meta?(E(),P("div",Jx,[j("div",Yx,U(e.t("readonly")),1),I(o,{modelValue:e.fieldData.meta.readonly,"onUpdate:modelValue":t[0]||(t[0]=t=>e.fieldData.meta.readonly=t),label:e.t("disabled_editing_value"),block:""},null,8,["modelValue","label"])])):B("",!0),e.fieldData.meta?(E(),P("div",Zx,[j("div",eV,U(e.t("hidden")),1),I(o,{modelValue:e.fieldData.meta.hidden,"onUpdate:modelValue":t[1]||(t[1]=t=>e.fieldData.meta.hidden=t),label:e.t("hidden_on_detail"),block:""},null,8,["modelValue","label"])])):B("",!0),e.fieldData.meta?(E(),P("div",tV,[j("div",lV,U(e.t("required")),1),I(o,{modelValue:e.fieldData.meta.required,"onUpdate:modelValue":t[2]||(t[2]=t=>e.fieldData.meta.required=t),label:e.t("require_value_to_be_set"),block:""},null,8,["modelValue","label"])])):B("",!0),"group"!==e.type?(E(),P("div",aV,[j("div",iV,U(e.t("note")),1),I(s,{modelValue:e.fieldData.meta.note,"onUpdate:modelValue":t[3]||(t[3]=t=>e.fieldData.meta.note=t),placeholder:e.t("add_note")},null,8,["modelValue","placeholder"])])):B("",!0),j("div",nV,[j("div",oV,U(e.t("field_name_translations")),1),I(r,{value:e.fieldData.meta.translations,template:"[{{ language }}] {{ translation }}",fields:[{field:"language",type:"string",name:e.t("language"),meta:{interface:"system-language",width:"half",display:"formatted-value",display_options:{font:"monospace",color:"var(--foreground-subdued)"}},schema:{default_value:"en-US"}},{field:"translation",type:"string",name:e.t("translation"),meta:{interface:"input",width:"half",options:{placeholder:"Enter a translation..."}}}],onInput:t[4]||(t[4]=t=>e.fieldData.meta.translations=t)},null,8,["value","fields"])])])])}],["__scopeId","data-v-95f83ab0"]]),rV=["about","above","across","after","against","along","among","around","at","because of","before","behind","below","beneath","beside","besides","between","beyond","but","by","concerning","despite","down","during","except","excepting","for","from","in","in front of","inside","in spite of","instead of","into","like","near","of","off","on","onto","out","outside","over","past","regarding","since","through","throughout","to","toward","under","underneath","until","up","upon","up to","with","within","without","with regard to","with respect to"],dV=["and","that","but","or","as","if","when","than","because","while","where","after","so","though","since","until","whether","before","although","nor","like","once","unless","now","except"],cV=["2D","3D","4WD","API","BASIC","BIOS","CCTV","CC","CCV","CD","CD-ROM","COBOL","CIA","CMS","CSS","CSV","CV","DIY","DVD","DB","DNA","E3","EIN","ESPN","FAQ","FAQs","FTP","FPS","FORTRAN","FBI","HTML","HTTP","ID","IP","ISO","JS","JSON","LASER","M2M","M2MM","M2O","MMORPG","NAFTA","NASA","NDA","O2M","PDF","PHP","POP","RAM","RNGR","ROM","RPG","RTFM","RTS","SCUBA","SITCOM","SKU","SMTP","SQL","SSN","SWAT","TBS","TTL","TV","TNA","UI","URL","USB","UWP","VIP","W3C","WYSIWYG","WWW","WWE","WWF"],uV=["2FA","3D","DateTime","GitHub","ID","IDs","iMac","IMAX","iOS","IP","iPad","iPhone","iPod","macOS","M2M","M2O","McDonalds","MySQL","O2M","PDFs","pH","PostgreSQL","YouTube","UUID","SEO","CTA","4K","HD","UHD","5K","8K"];function pV(e,t,l){const a=e.toLowerCase(),i=e.toUpperCase();for(let n=0;n<uV.length;n+=1)if(uV[n].toLowerCase()===a)return uV[n];return cV.includes(i)?i:0===t||t===l.length-1?e:rV.includes(a)||dV.includes(a)?a:e}function mV(e,t){return`${e} ${t}`}function fV(e){return e.charAt(0).toUpperCase()+e.substring(1)}function vV(e,t){return t||(t=new RegExp("/s|-|_| ","g")),(l=e,l.replace(/([a-z\d])([A-Z])/g,"$1_$2").replace(/([A-Z]+)([A-Z][a-z\d]+)/g,"$1_$2").toLowerCase()).split(t).map(fV).map(pV).reduce(mV);var l}const _V=w({props:{type:{type:String,required:!0},collection:{type:String,required:!0},isExisting:{type:Boolean,default:!1}},setup(){const{t:e}=x(),t=pI(),l=vI(),{availableCollections:a,systemCollections:i}=function(){const e=V((()=>m.exports.orderBy(t.collections.filter((e=>!1===e.collection.startsWith("directus_"))),["collection"],["asc"]))),l=["directus_activity","directus_collections","directus_fields","directus_migrations","directus_relations","directus_revisions","directus_sessions","directus_settings"],a=V((()=>m.exports.orderBy(t.collections.filter((e=>!0===e.collection.startsWith("directus_"))),["collection"],["asc"]).filter((e=>!1===l.includes(e.collection)))));return{availableCollections:e,systemCollections:a}}(),{hasCorresponding:n,correspondingField:o,correspondingLabel:d}=function(){const t=V({get:()=>yx.newFields.length>0,set(e){!0===e?(yx.relations[0].meta=r(s({},yx.relations[0].meta||{}),{one_field:yx.relations[0].collection}),yx.newFields.push({$type:"corresponding",field:yx.relations[0].meta.one_field,collection:yx.relations[0].related_collection,meta:{special:["o2m"],interface:"list-o2m"}})):yx.newFields=yx.newFields.filter((e=>"corresponding"!==e.$type))}}),l=V({get(){var e,t;return(null==(t=null==(e=yx.newFields)?void 0:e.find((e=>"corresponding"===e.$type)))?void 0:t.field)||null},set(e){yx.newFields=yx.newFields.map((t=>"corresponding"===t.$type?r(s({},t),{field:e}):t)),yx.relations[0].meta=r(s({},yx.relations[0].meta||{}),{one_field:e})}}),a=V((()=>yx.relations[0].related_collection?e("add_o2m_to_collection",{collection:yx.relations[0].related_collection}):e("add_field_related")));return{hasCorresponding:t,correspondingField:l,correspondingLabel:a}}(),c=V((()=>yx.relations[0].related_collection&&!!t.getCollection(yx.relations[0].related_collection))),u=V((()=>yx.relations[0].related_collection?c.value?l.getPrimaryKeyFieldForCollection(yx.relations[0].related_collection).field:"id":"")),p=V((()=>{var e;return yx.relations[0].related_collection?(null==(e=t.getCollection(yx.relations[0].related_collection))?void 0:e.name)||vV(yx.relations[0].related_collection):null})),f=V((()=>{var e;return yx.relations[0].collection?(null==(e=t.getCollection(yx.relations[0].collection))?void 0:e.name)||vV(yx.relations[0].collection):null})),v=V((()=>{var e;return yx.relations[0].collection&&yx.relations[0].field?(null==(e=l.getField(yx.relations[0].collection,yx.relations[0].field))?void 0:e.name)||vV(yx.relations[0].field):null}));return{t:e,relations:yx.relations,availableCollections:a,systemCollections:i,hasCorresponding:n,correspondingField:o,correspondingLabel:d,fieldData:yx.fieldData,relatedCollectionExists:c,generationInfo:bx,relatedPrimaryKeyField:u,relatedCollectionName:p,m2oFieldName:v,currentCollectionName:f}}}),yV={class:"grid"},hV={class:"field"},gV={class:"type-label"},bV={class:"field"},kV={class:"type-label"},wV={key:1,class:"grid"},xV={class:"field"},VV={class:"type-label"},CV={class:"field"},SV={class:"type-label"},EV={class:"relational-triggers"},AV={class:"field"},DV={class:"type-label"},IV={class:"field-name"};var FV=F_(_V,[["render",function(e,t,l,a,i,n){const o=S("v-input"),s=S("v-icon"),r=S("v-list-item-content"),d=S("v-list-item"),c=S("v-divider"),u=S("v-list-group"),p=S("v-list"),m=S("v-menu"),f=S("v-text-overflow"),v=S("v-checkbox"),_=S("v-select"),y=S("v-notice"),h=q("tooltip");return E(),P("div",null,[j("div",yV,[j("div",hV,[j("div",gV,U(e.t("this_collection")),1),I(o,{disabled:"","model-value":e.relations[0].collection},null,8,["model-value"])]),j("div",bV,[j("div",kV,U(e.t("related_collection")),1),I(o,{key:"related-collection",modelValue:e.relations[0].related_collection,"onUpdate:modelValue":t[0]||(t[0]=t=>e.relations[0].related_collection=t),class:H({matches:e.relatedCollectionExists}),"db-safe":"",nullable:!1,disabled:e.isExisting,placeholder:e.t("collection")+"..."},G({_:2},[e.isExisting?void 0:{name:"append",fn:D((()=>[I(m,{"show-arrow":"",placement:"bottom-end"},{activator:D((({toggle:t})=>[z(I(s,{name:"list_alt",clickable:"",disabled:e.isExisting,onClick:t},null,8,["disabled","onClick"]),[[h,e.t("select_existing")]])])),default:D((()=>[I(p,{class:"monospace"},{default:D((()=>[(E(!0),P(R,null,M(e.availableCollections,(t=>(E(),A(d,{key:t.collection,active:e.relations[0].related_collection===t.collection,clickable:"",onClick:l=>e.relations[0].related_collection=t.collection},{default:D((()=>[I(r,null,{default:D((()=>[N(U(t.collection),1)])),_:2},1024)])),_:2},1032,["active","onClick"])))),128)),I(c),I(u,null,{activator:D((()=>[N(U(e.t("system")),1)])),default:D((()=>[(E(!0),P(R,null,M(e.systemCollections,(t=>(E(),A(d,{key:t.collection,active:e.relations[0].related_collection===t.collection,clickable:"",onClick:l=>e.relations[0].related_collection=t.collection},{default:D((()=>[I(r,null,{default:D((()=>[N(U(t.collection),1)])),_:2},1024)])),_:2},1032,["active","onClick"])))),128))])),_:1})])),_:1})])),_:1})]))},e.isExisting?{name:"input",fn:D((()=>[I(f,{text:e.relations[0].related_collection},null,8,["text"])]))}:void 0]),1032,["modelValue","class","disabled","placeholder"])]),I(o,{disabled:""},{input:D((()=>[I(f,{text:e.relations[0].field},null,8,["text"])])),_:1}),I(o,{modelValue:e.relatedPrimaryKeyField,"onUpdate:modelValue":t[1]||(t[1]=t=>e.relatedPrimaryKeyField=t),disabled:"",placeholder:e.t("primary_key")+"..."},null,8,["modelValue","placeholder"]),I(s,{class:"arrow",name:"arrow_back"})]),e.isExisting?B("",!0):(E(),A(c,{key:0,large:"","inline-title":!1},{default:D((()=>[N(U(e.t("corresponding_field")),1)])),_:1})),e.isExisting?B("",!0):(E(),P("div",wV,[j("div",xV,[j("div",VV,U(e.t("create_field")),1),I(v,{modelValue:e.hasCorresponding,"onUpdate:modelValue":t[2]||(t[2]=t=>e.hasCorresponding=t),block:"",label:e.correspondingLabel},null,8,["modelValue","label"])]),j("div",CV,[j("div",SV,U(e.t("field_name")),1),I(o,{modelValue:e.correspondingField,"onUpdate:modelValue":t[3]||(t[3]=t=>e.correspondingField=t),disabled:!1===e.hasCorresponding,placeholder:e.t("field_name")+"...","db-safe":""},null,8,["modelValue","disabled","placeholder"])]),I(s,{name:"arrow_forward",class:"arrow"})])),j("div",EV,[I(c,{class:"field full",large:"","inline-title":!1},{default:D((()=>[N(U(e.t("relational_triggers")),1)])),_:1}),j("div",AV,[j("div",DV,U(e.t("referential_action_field_label_m2o",{collection:e.relatedCollectionName||"related"})),1),I(_,{modelValue:e.relations[0].schema.on_delete,"onUpdate:modelValue":t[4]||(t[4]=t=>e.relations[0].schema.on_delete=t),disabled:e.relations[0].collection===e.relations[0].related_collection,placeholder:e.t("choose_action")+"...",items:[{text:e.t("referential_action_set_null",{field:e.m2oFieldName}),value:"SET NULL"},{text:e.t("referential_action_set_default",{field:e.m2oFieldName}),value:"SET DEFAULT"},{text:e.t("referential_action_cascade",{collection:e.currentCollectionName,field:e.m2oFieldName}),value:"CASCADE"},{text:e.t("referential_action_no_action",{field:e.m2oFieldName}),value:"NO ACTION"}]},null,8,["modelValue","disabled","placeholder","items"])])]),e.generationInfo.length>0?(E(),A(y,{key:2,class:"generated-data",type:"warning"},{default:D((()=>[j("span",null,[N(U(e.t("new_data_alert"))+" ",1),j("ul",null,[(E(!0),P(R,null,M(e.generationInfo,((t,l)=>(E(),P("li",{key:l},[j("span",IV,U(t.name),1),N(" ("+U(e.t("field"===t.type?"new_field":"new_collection"))+") ",1)])))),128))])])])),_:1})):B("",!0)])}],["__scopeId","data-v-4785e887"]]);const OV=w({props:{type:{type:String,required:!0},collection:{type:String,required:!0},isExisting:{type:Boolean,default:!1}},setup(e){const{t:t}=x(),l=pI(),a=vI(),{availableCollections:i,systemCollections:n,fields:o,currentCollectionPrimaryKey:s,collectionMany:r}=function(){const t=V((()=>m.exports.orderBy(l.collections.filter((e=>!1===e.collection.startsWith("directus_"))),["collection"],["asc"]))),i=["directus_activity","directus_collections","directus_fields","directus_migrations","directus_relations","directus_revisions","directus_sessions","directus_settings"],n=V((()=>m.exports.orderBy(l.collections.filter((e=>!0===e.collection.startsWith("directus_"))),["collection"],["asc"]).filter((e=>!1===i.includes(e.collection))))),o=V((()=>a.getPrimaryKeyFieldForCollection(e.collection))),s=V((()=>yx.relations[0].collection?a.getFieldsForCollectionAlphabetical(yx.relations[0].collection).map((e=>{var t;return{text:e.field,value:e.field,disabled:!e.schema||(null==(t=e.schema)?void 0:t.is_primary_key)||e.type!==o.value.type}})):[])),r=V({get:()=>yx.relations[0].collection,set(e){yx.relations[0].collection=e,yx.relations[0].field=""}});return{availableCollections:t,systemCollections:n,fields:s,currentCollectionPrimaryKey:o,collectionMany:r}}(),{hasCorresponding:d,correspondingLabel:c}=function(){const e=V({get(){var e,t,l,i,n,o,s,r,d,c;return!(!(null==(t=null==(e=null==yx?void 0:yx.relations)?void 0:e[0])?void 0:t.collection)||!(null==(i=null==(l=null==yx?void 0:yx.relations)?void 0:l[0])?void 0:i.field))&&(!0===p.value?"select-dropdown-m2o"===(null==(o=null==(n=yx.updateFields.find((e=>e.field===yx.relations[0].field)))?void 0:n.meta)?void 0:o.interface)||"select-dropdown-m2o"===(null==(r=null==(s=a.getField(yx.relations[0].collection,yx.relations[0].field))?void 0:s.meta)?void 0:r.interface):"select-dropdown-m2o"===(null==(c=null==(d=yx.newFields.find((e=>"manyRelated"===e.$type)))?void 0:d.meta)?void 0:c.interface))},set(e){var t,l;if(null==(l=null==(t=null==yx?void 0:yx.relations)?void 0:t[0])?void 0:l.field)if(!0===p.value)yx.updateFields=!0===e?[{collection:yx.relations[0].related_collection,field:yx.relations[0].field,meta:{interface:"select-dropdown-m2o",special:["m2o"]}}]:[{collection:yx.relations[0].related_collection,field:yx.relations[0].field,meta:{interface:null,special:null}}];else{const t=!!yx.newFields.find((e=>"manyRelated"===e.$type));yx.newFields=!1===t?[...yx.newFields,{$type:"manyRelated",collection:yx.relations[0].related_collection,field:yx.relations[0].field,meta:{interface:"select-dropdown-m2o",special:["m2o"]}}]:yx.newFields.map((t=>("manyRelated"===t.$type&&(t.meta||(t.meta={}),!0===e?(t.meta.interface="select-dropdown-m2o",t.meta.special=["m2o"]):(t.meta.interface=null,t.meta.special=null)),t)))}}}),l=V((()=>yx.relations[0].collection?t("add_m2o_to_collection",{collection:yx.relations[0].collection}):t("add_field_related")));return{hasCorresponding:e,correspondingLabel:l}}(),u=V((()=>void 0!==l.collections.find((e=>{var t;return e.collection===(null==(t=yx.relations)?void 0:t[0].collection)})))),p=V((()=>{var e,t;return!(!(null==(e=null==yx?void 0:yx.relations)?void 0:e[0].collection)||!(null==(t=null==yx?void 0:yx.relations)?void 0:t[0].field))&&!!a.getField(yx.relations[0].collection,yx.relations[0].field)})),f=V((()=>{var e,t,l;return!(!(null==(e=null==yx?void 0:yx.relations)?void 0:e[0].collection)||!(null==(l=null==(t=null==yx?void 0:yx.relations)?void 0:t[0].meta)?void 0:l.sort_field))&&!!a.getField(yx.relations[0].collection,yx.relations[0].meta.sort_field)})),v=V((()=>{var e;return yx.relations[0].collection?(null==(e=l.getCollection(yx.relations[0].collection))?void 0:e.name)||vV(yx.relations[0].collection):null})),_=V((()=>{var e;return yx.relations[0].related_collection?(null==(e=l.getCollection(yx.relations[0].related_collection))?void 0:e.name)||vV(yx.relations[0].related_collection):null})),y=V((()=>{var e;return yx.relations[0].collection&&yx.relations[0].field?(null==(e=a.getField(yx.relations[0].collection,yx.relations[0].field))?void 0:e.name)||vV(yx.relations[0].field):null}));return{t:t,relations:yx.relations,availableCollections:i,systemCollections:n,fields:o,currentCollectionPrimaryKey:s,collectionMany:r,hasCorresponding:d,correspondingLabel:c,relatedCollectionExists:u,relatedFieldExists:p,generationInfo:bx,sortFieldExists:f,relatedCollectionName:v,currentCollectionName:_,m2oFieldName:y}}}),$V={class:"grid"},TV={class:"field"},PV={class:"type-label"},jV={class:"field"},LV={class:"type-label"},RV={key:1,class:"corresponding"},MV={class:"field"},UV={class:"type-label"},NV={class:"field"},BV={class:"type-label"},qV={class:"sort-field"},zV={class:"relational-triggers"},KV={class:"field"},WV={class:"type-label"},HV={class:"field"},GV={class:"type-label"},QV={class:"field-name"};var XV=F_(OV,[["render",function(e,t,l,a,i,n){const o=S("v-input"),s=S("v-icon"),r=S("v-list-item-content"),d=S("v-list-item"),c=S("v-divider"),u=S("v-list-group"),p=S("v-list"),m=S("v-menu"),f=S("v-text-overflow"),v=S("v-checkbox"),_=S("v-select"),y=S("v-notice"),h=q("tooltip");return E(),P("div",null,[j("div",$V,[j("div",TV,[j("div",PV,U(e.t("this_collection")),1),I(o,{disabled:"","model-value":e.collection},null,8,["model-value"])]),j("div",jV,[j("div",LV,U(e.t("related_collection")),1),I(o,{modelValue:e.relations[0].collection,"onUpdate:modelValue":t[0]||(t[0]=t=>e.relations[0].collection=t),"db-safe":"",placeholder:e.t("collection")+"...",nullable:!1,disabled:e.isExisting,class:H({matches:e.relatedCollectionExists})},G({_:2},[e.isExisting?void 0:{name:"append",fn:D((()=>[I(m,{"show-arrow":"",placement:"bottom-end"},{activator:D((({toggle:t})=>[z(I(s,{name:"list_alt",clickable:"",disabled:e.isExisting,onClick:t},null,8,["disabled","onClick"]),[[h,e.t("select_existing")]])])),default:D((()=>[I(p,{class:"monospace"},{default:D((()=>[(E(!0),P(R,null,M(e.availableCollections,(t=>(E(),A(d,{key:t.collection,active:e.relations[0].collection===t.collection,clickable:"",onClick:l=>e.relations[0].collection=t.collection},{default:D((()=>[I(r,null,{default:D((()=>[N(U(t.collection),1)])),_:2},1024)])),_:2},1032,["active","onClick"])))),128)),I(c),I(u,null,{activator:D((()=>[N(U(e.t("system")),1)])),default:D((()=>[(E(!0),P(R,null,M(e.systemCollections,(t=>(E(),A(d,{key:t.collection,active:e.relations[0].collection===t.collection,clickable:"",onClick:l=>e.relations[0].collection=t.collection},{default:D((()=>[I(r,null,{default:D((()=>[N(U(t.collection),1)])),_:2},1024)])),_:2},1032,["active","onClick"])))),128))])),_:1})])),_:1})])),_:1})]))},e.isExisting?{name:"input",fn:D((()=>[I(f,{text:e.relations[0].collection},null,8,["text"])]))}:void 0]),1032,["modelValue","placeholder","disabled","class"])]),I(o,{disabled:"","model-value":e.currentCollectionPrimaryKey.field},{input:D((()=>[I(f,{text:e.currentCollectionPrimaryKey.field},null,8,["text"])])),_:1},8,["model-value"]),I(o,{modelValue:e.relations[0].field,"onUpdate:modelValue":t[1]||(t[1]=t=>e.relations[0].field=t),"db-safe":"",nullable:!1,disabled:e.isExisting,placeholder:e.t("foreign_key")+"...",class:H({matches:e.relatedFieldExists})},G({_:2},[e.fields&&e.fields.length>0&&!e.isExisting?{name:"append",fn:D((()=>[I(m,{"show-arrow":"",placement:"bottom-end"},{activator:D((({toggle:t})=>[z(I(s,{name:"list_alt",clickable:"",onClick:t},null,8,["onClick"]),[[h,e.t("select_existing")]])])),default:D((()=>[I(p,{class:"monospace"},{default:D((()=>[(E(!0),P(R,null,M(e.fields,(t=>(E(),A(d,{key:t.value,active:e.relations[0].field===t.value,disabled:t.disabled,clickable:"",onClick:l=>e.relations[0].field=t.value},{default:D((()=>[I(r,null,{default:D((()=>[N(U(t.text),1)])),_:2},1024)])),_:2},1032,["active","disabled","onClick"])))),128))])),_:1})])),_:1})]))}:void 0,e.isExisting?{name:"input",fn:D((()=>[I(f,{text:e.relations[0].field},null,8,["text"])]))}:void 0]),1032,["modelValue","disabled","placeholder","class"]),I(s,{class:"arrow",name:"arrow_forward"})]),e.isExisting?B("",!0):(E(),A(c,{key:0,large:"","inline-title":!1},{default:D((()=>[N(U(e.t("corresponding_field")),1)])),_:1})),e.isExisting?B("",!0):(E(),P("div",RV,[j("div",MV,[j("div",UV,U(e.t("create_field")),1),I(v,{modelValue:e.hasCorresponding,"onUpdate:modelValue":t[2]||(t[2]=t=>e.hasCorresponding=t),block:"",disabled:e.isExisting,label:e.correspondingLabel},null,8,["modelValue","disabled","label"])]),j("div",NV,[j("div",BV,U(e.t("field_name")),1),I(o,{modelValue:e.relations[0].field,"onUpdate:modelValue":t[3]||(t[3]=t=>e.relations[0].field=t),disabled:"",placeholder:e.t("field_name")+"...","db-safe":""},null,8,["modelValue","placeholder"])]),I(s,{name:"arrow_forward",class:"arrow"})])),j("div",qV,[I(c,{large:"","inline-title":!1},{default:D((()=>[N(U(e.t("sort_field")),1)])),_:1}),I(o,{modelValue:e.relations[0].meta.sort_field,"onUpdate:modelValue":t[4]||(t[4]=t=>e.relations[0].meta.sort_field=t),"db-safe":"",placeholder:e.t("add_sort_field")+"...",class:H({matches:e.sortFieldExists})},G({_:2},[e.fields&&e.fields.length>0&&!e.isExisting?{name:"append",fn:D((()=>[I(m,{"show-arrow":"",placement:"bottom-end"},{activator:D((({toggle:t})=>[z(I(s,{name:"list_alt",clickable:"",onClick:t},null,8,["onClick"]),[[h,e.t("select_existing")]])])),default:D((()=>[I(p,{class:"monospace"},{default:D((()=>[(E(!0),P(R,null,M(e.fields,(t=>(E(),A(d,{key:t.value,active:e.relations[0].meta.sort_field===t.value,clickable:"",disabled:t.disabled,onClick:l=>e.relations[0].meta.sort_field=t.value},{default:D((()=>[I(r,null,{default:D((()=>[N(U(t.text),1)])),_:2},1024)])),_:2},1032,["active","disabled","onClick"])))),128))])),_:1})])),_:1})]))}:void 0]),1032,["modelValue","placeholder","class"])]),j("div",zV,[I(c,{class:"field full",large:"","inline-title":!1},{default:D((()=>[N(U(e.t("relational_triggers")),1)])),_:1}),j("div",KV,[j("div",WV,U(e.t("referential_action_field_label_o2m",{collection:e.relatedCollectionName||"related"})),1),I(_,{modelValue:e.relations[0].meta.one_deselect_action,"onUpdate:modelValue":t[5]||(t[5]=t=>e.relations[0].meta.one_deselect_action=t),placeholder:e.t("choose_action")+"...",items:[{text:e.t("referential_action_set_null",{field:e.m2oFieldName}),value:"nullify"},{text:e.t("referential_action_cascade",{collection:e.relatedCollectionName,field:e.m2oFieldName}),value:"delete"}]},null,8,["modelValue","placeholder","items"])]),j("div",HV,[j("div",GV,U(e.t("referential_action_field_label_m2o",{collection:e.currentCollectionName||"related"})),1),I(_,{modelValue:e.relations[0].schema.on_delete,"onUpdate:modelValue":t[6]||(t[6]=t=>e.relations[0].schema.on_delete=t),disabled:e.relations[0].collection===e.relations[0].related_collection,placeholder:e.t("choose_action")+"...",items:[{text:e.t("referential_action_set_null",{field:e.m2oFieldName}),value:"SET NULL"},{text:e.t("referential_action_set_default",{field:e.m2oFieldName}),value:"SET DEFAULT"},{text:e.t("referential_action_cascade",{collection:e.currentCollectionName,field:e.m2oFieldName}),value:"CASCADE"},{text:e.t("referential_action_no_action"),value:"NO ACTION"}]},null,8,["modelValue","disabled","placeholder","items"])])]),e.generationInfo.length>0?(E(),A(y,{key:2,class:"generated-data",type:"warning"},{default:D((()=>[j("span",null,[N(U(e.t("new_data_alert"))+" ",1),j("ul",null,[(E(!0),P(R,null,M(e.generationInfo,((t,l)=>(E(),P("li",{key:l},[j("span",QV,U(t.name),1),N(" ("+U(e.t("field"===t.type?"new_field":"new_collection"))+") ",1)])))),128))])])])),_:1})):B("",!0)])}],["__scopeId","data-v-0f71edf9"]]);const JV=w({props:{type:{type:String,required:!0},collection:{type:String,required:!0},isExisting:{type:Boolean,default:!1}},setup(){const{t:e}=x(),t=pI(),l=vI(),a=V({get:()=>yx.autoFillJunctionRelation,set(e){yx.autoFillJunctionRelation=e}}),i=V((()=>m.exports.orderBy(t.collections.filter((e=>!1===e.collection.startsWith("directus_"))),["collection"],["asc"]))),n=["directus_activity","directus_collections","directus_fields","directus_migrations","directus_relations","directus_revisions","directus_sessions","directus_settings"],o=V((()=>m.exports.orderBy(t.collections.filter((e=>!0===e.collection.startsWith("directus_"))),["collection"],["asc"]).filter((e=>!1===n.includes(e.collection))))),d=V({get:()=>yx.relations[0].collection,set(e){yx.relations[0].collection=e,yx.relations[1].collection=e}}),c=V((()=>d.value&&null!==t.getCollection(d.value))),u=V((()=>yx.relations[1].related_collection&&null!==t.getCollection(yx.relations[1].related_collection))),p=V((()=>d.value?l.getFieldsForCollectionAlphabetical(d.value).map((e=>{var t;return{text:e.field,value:e.field,disabled:yx.relations[0].field===e.field||(null==(t=e.schema)?void 0:t.is_primary_key)||yx.relations[1].field===e.field}})):[])),f=V((()=>l.getPrimaryKeyFieldForCollection(yx.relations[0].related_collection).field)),v=V((()=>yx.relations[1].related_collection?u.value?l.getPrimaryKeyFieldForCollection(yx.relations[1].related_collection).field:"id":"")),_=V((()=>{var e;return yx.relations[0].related_collection?(null==(e=t.getCollection(yx.relations[0].related_collection))?void 0:e.name)||vV(yx.relations[0].related_collection):null})),y=V((()=>{var e;return yx.relations[0].collection?(null==(e=t.getCollection(yx.relations[0].collection))?void 0:e.name)||vV(yx.relations[0].collection):null})),h=V((()=>{var e;return yx.relations[0].collection&&yx.relations[0].field?(null==(e=l.getField(yx.relations[0].collection,yx.relations[0].field))?void 0:e.name)||vV(yx.relations[0].field):null})),g=V((()=>{var e;return yx.relations[1].collection&&yx.relations[1].field?(null==(e=l.getField(yx.relations[1].collection,yx.relations[1].field))?void 0:e.name)||vV(yx.relations[1].field):null})),b=V((()=>{var e;return yx.relations[1].related_collection?(null==(e=t.getCollection(yx.relations[1].related_collection))?void 0:e.name)||vV(yx.relations[1].related_collection):null})),{hasCorresponding:k,correspondingField:w,correspondingLabel:C}=function(){const t=V({get:()=>!!yx.newFields.find((e=>"corresponding"===e.$type)),set(e){!0===e&&!1==!!yx.newFields.find((e=>"corresponding"===e.$type))?(yx.newFields=[...yx.newFields,{$type:"corresponding",field:yx.relations[0].related_collection,collection:yx.relations[1].related_collection,type:"alias",meta:{special:["m2m"],interface:"list-m2m"}}],yx.relations[1].meta=r(s({},yx.relations[1].meta||{}),{one_field:yx.relations[0].related_collection})):(yx.newFields=yx.newFields.filter((e=>"corresponding"!==e.$type)),yx.relations[1].meta=r(s({},yx.relations[1].meta||{}),{one_field:null}))}}),l=V({get(){var e,t;return(null==(t=null==(e=yx.newFields)?void 0:e.find((e=>"corresponding"===e.$type)))?void 0:t.field)||null},set(e){yx.newFields=yx.newFields.map((t=>"corresponding"===t.$type?r(s({},t),{field:e}):t)),yx.relations[1].meta=r(s({},yx.relations[1].meta||{}),{one_field:e})}}),a=V((()=>yx.relations[0].related_collection?e("add_m2m_to_collection",{collection:yx.relations[1].related_collection}):e("add_field_related")));return{hasCorresponding:t,correspondingField:l,correspondingLabel:a}}();return{t:e,relations:yx.relations,autoFill:a,availableCollections:i,systemCollections:o,junctionCollection:d,junctionFields:p,junctionCollectionExists:c,relatedCollectionExists:u,junctionFieldExists:function(e){return!(!d.value||!e)&&!!l.getField(d.value,e)},hasCorresponding:k,correspondingField:w,correspondingLabel:C,generationInfo:bx,currentPrimaryKeyField:f,relatedPrimaryKeyField:v,junctionCollectionName:y,junctionM2OFieldName:h,currentCollectionName:_,junctionRelatedM2OFieldName:g,relatedCollectionName:b}}}),YV=e=>(K("data-v-fe66a5b8"),e=e(),W(),e),ZV={class:"grid"},eC={class:"field"},tC={class:"type-label"},lC={class:"field"},aC={class:"type-label"},iC={class:"field"},nC={class:"type-label"},oC=YV((()=>j("div",{class:"spacer"},null,-1))),sC=YV((()=>j("div",{class:"spacer"},null,-1))),rC=YV((()=>j("div",{class:"spacer"},null,-1))),dC={key:1,class:"corresponding"},cC={class:"field"},uC={class:"type-label"},pC={class:"field"},mC={class:"type-label"},fC={class:"sort-field"},vC={class:"relational-triggers"},_C={class:"field"},yC={class:"type-label"},hC={class:"field"},gC={class:"type-label"},bC={class:"field"},kC={class:"type-label"},wC={class:"field-name"};var xC=F_(JV,[["render",function(e,t,l,a,i,n){const o=S("v-input"),s=S("v-icon"),r=S("v-list-item-content"),d=S("v-list-item"),c=S("v-divider"),u=S("v-list-group"),p=S("v-list"),m=S("v-menu"),f=S("v-text-overflow"),v=S("v-checkbox"),_=S("v-select"),y=S("v-notice"),h=q("tooltip");return E(),P("div",null,[j("div",ZV,[j("div",eC,[j("div",tC,U(e.t("this_collection")),1),I(o,{disabled:"","model-value":e.relations[0].related_collection},null,8,["model-value"])]),j("div",lC,[j("div",aC,U(e.t("junction_collection")),1),I(o,{modelValue:e.junctionCollection,"onUpdate:modelValue":t[0]||(t[0]=t=>e.junctionCollection=t),class:H({matches:e.junctionCollectionExists}),nullable:!1,placeholder:e.t("collection")+"...",disabled:e.autoFill||e.isExisting,"db-safe":""},G({_:2},[e.isExisting?void 0:{name:"append",fn:D((()=>[I(m,{"show-arrow":"",placement:"bottom-end"},{activator:D((({toggle:t})=>[z(I(s,{name:"list_alt",clickable:"",disabled:e.autoFill||e.isExisting,onClick:t},null,8,["disabled","onClick"]),[[h,e.t("select_existing")]])])),default:D((()=>[I(p,{class:"monospace"},{default:D((()=>[(E(!0),P(R,null,M(e.availableCollections,(t=>(E(),A(d,{key:t.collection,active:e.relations[0].collection===t.collection,clickable:"",onClick:l=>e.junctionCollection=t.collection},{default:D((()=>[I(r,null,{default:D((()=>[N(U(t.collection),1)])),_:2},1024)])),_:2},1032,["active","onClick"])))),128)),I(c),I(u,null,{activator:D((()=>[N(U(e.t("system")),1)])),default:D((()=>[(E(!0),P(R,null,M(e.systemCollections,(t=>(E(),A(d,{key:t.collection,active:e.relations[0].collection===t.collection,clickable:"",onClick:l=>e.junctionCollection=t.collection},{default:D((()=>[I(r,null,{default:D((()=>[N(U(t.collection),1)])),_:2},1024)])),_:2},1032,["active","onClick"])))),128))])),_:1})])),_:1})])),_:1})]))},e.isExisting?{name:"input",fn:D((()=>[I(f,{text:e.junctionCollection},null,8,["text"])]))}:void 0]),1032,["modelValue","class","placeholder","disabled"])]),j("div",iC,[j("div",nC,U(e.t("related_collection")),1),I(o,{modelValue:e.relations[1].related_collection,"onUpdate:modelValue":t[1]||(t[1]=t=>e.relations[1].related_collection=t),autofocus:e.autoFill,class:H({matches:e.relatedCollectionExists}),nullable:!1,placeholder:e.t("collection")+"...",disabled:"files"===e.type||e.isExisting,"db-safe":""},G({append:D((()=>[I(m,{"show-arrow":"",placement:"bottom-end"},G({default:D((()=>[I(p,{class:"monospace"},{default:D((()=>[(E(!0),P(R,null,M(e.availableCollections,(t=>(E(),A(d,{key:t.collection,active:e.relations[1].related_collection===t.collection,clickable:"",onClick:l=>e.relations[1].related_collection=t.collection},{default:D((()=>[I(r,null,{default:D((()=>[N(U(t.collection),1)])),_:2},1024)])),_:2},1032,["active","onClick"])))),128)),I(c),I(u,null,{activator:D((()=>[N(U(e.t("system")),1)])),default:D((()=>[(E(!0),P(R,null,M(e.systemCollections,(t=>(E(),A(d,{key:t.collection,active:e.relations[1].related_collection===t.collection,clickable:"",onClick:l=>e.relations[1].related_collection=t.collection},{default:D((()=>[I(r,null,{default:D((()=>[N(U(t.collection),1)])),_:2},1024)])),_:2},1032,["active","onClick"])))),128))])),_:1})])),_:1})])),_:2},[e.isExisting?void 0:{name:"activator",fn:D((({toggle:t})=>[z(I(s,{name:"list_alt",clickable:"",disabled:"files"===e.type||e.isExisting,onClick:t},null,8,["disabled","onClick"]),[[h,e.t("select_existing")]])]))}]),1024)])),_:2},[e.isExisting?{name:"input",fn:D((()=>[I(f,{text:e.relations[1].related_collection},null,8,["text"])]))}:void 0]),1032,["modelValue","autofocus","class","placeholder","disabled"])]),I(o,{disabled:"","model-value":e.currentPrimaryKeyField},null,8,["model-value"]),I(o,{modelValue:e.relations[0].field,"onUpdate:modelValue":t[2]||(t[2]=t=>e.relations[0].field=t),class:H({matches:e.junctionFieldExists(e.relations[0].field)}),nullable:!1,placeholder:e.t("foreign_key")+"...",disabled:e.autoFill||e.isExisting,"db-safe":""},G({_:2},[e.junctionCollectionExists&&!e.isExisting?{name:"append",fn:D((()=>[I(m,{"show-arrow":"",placement:"bottom-end"},{activator:D((({toggle:t})=>[z(I(s,{name:"list_alt",clickable:"",disabled:e.autoFill||e.isExisting,onClick:t},null,8,["disabled","onClick"]),[[h,e.t("select_existing")]])])),default:D((()=>[I(p,{class:"monospace"},{default:D((()=>[(E(!0),P(R,null,M(e.junctionFields,(t=>(E(),A(d,{key:t.value,active:e.relations[0].field===t.value,disabled:t.disabled,clickable:"",onClick:l=>e.relations[0].field=t.value},{default:D((()=>[I(r,null,{default:D((()=>[N(U(t.text),1)])),_:2},1024)])),_:2},1032,["active","disabled","onClick"])))),128))])),_:1})])),_:1})]))}:void 0,e.isExisting?{name:"input",fn:D((()=>[I(f,{text:e.relations[0].field},null,8,["text"])]))}:void 0]),1032,["modelValue","class","placeholder","disabled"]),oC,sC,I(o,{modelValue:e.relations[1].field,"onUpdate:modelValue":t[3]||(t[3]=t=>e.relations[1].field=t),class:H({matches:e.junctionFieldExists(e.relations[1].field)}),nullable:!1,placeholder:e.t("foreign_key")+"...",disabled:e.autoFill||e.isExisting,"db-safe":""},G({_:2},[e.junctionCollectionExists&&!e.isExisting?{name:"append",fn:D((()=>[I(m,{"show-arrow":"",placement:"bottom-end"},{activator:D((({toggle:t})=>[z(I(s,{name:"list_alt",clickable:"",disabled:e.autoFill||e.isExisting,onClick:t},null,8,["disabled","onClick"]),[[h,e.t("select_existing")]])])),default:D((()=>[I(p,{class:"monospace"},{default:D((()=>[(E(!0),P(R,null,M(e.junctionFields,(t=>(E(),A(d,{key:t.value,active:e.relations[1].field===t.value,disabled:t.disabled,clickable:"",onClick:l=>e.relations[1].field=t.value},{default:D((()=>[I(r,null,{default:D((()=>[N(U(t.text),1)])),_:2},1024)])),_:2},1032,["active","disabled","onClick"])))),128))])),_:1})])),_:1})]))}:void 0,e.isExisting?{name:"input",fn:D((()=>[I(f,{text:e.relations[1].field},null,8,["text"])]))}:void 0]),1032,["modelValue","class","placeholder","disabled"]),I(o,{modelValue:e.relatedPrimaryKeyField,"onUpdate:modelValue":t[4]||(t[4]=t=>e.relatedPrimaryKeyField=t),disabled:"",placeholder:e.t("primary_key")+"..."},null,8,["modelValue","placeholder"]),rC,e.isExisting?B("",!0):(E(),A(v,{key:0,modelValue:e.autoFill,"onUpdate:modelValue":t[5]||(t[5]=t=>e.autoFill=t),block:"",label:e.t("auto_fill")},null,8,["modelValue","label"])),I(s,{class:"arrow",name:"arrow_forward"}),I(s,{class:"arrow",name:"arrow_backward"})]),e.isExisting?B("",!0):(E(),A(c,{key:0,large:"","inline-title":!1},{default:D((()=>[N(U(e.t("corresponding_field")),1)])),_:1})),e.isExisting?B("",!0):(E(),P("div",dC,[j("div",cC,[j("div",uC,U(e.t("create_field")),1),I(v,{modelValue:e.hasCorresponding,"onUpdate:modelValue":t[6]||(t[6]=t=>e.hasCorresponding=t),block:"",label:e.correspondingLabel},null,8,["modelValue","label"])]),j("div",pC,[j("div",mC,U(e.t("field_name")),1),I(o,{modelValue:e.correspondingField,"onUpdate:modelValue":t[7]||(t[7]=t=>e.correspondingField=t),disabled:!1===e.hasCorresponding,placeholder:e.t("field_name")+"...","db-safe":""},null,8,["modelValue","disabled","placeholder"])]),I(s,{name:"arrow_forward",class:"arrow"})])),j("div",fC,[I(c,{large:"","inline-title":!1},{default:D((()=>[N(U(e.t("sort_field")),1)])),_:1}),I(o,{modelValue:e.relations[0].meta.sort_field,"onUpdate:modelValue":t[8]||(t[8]=t=>e.relations[0].meta.sort_field=t),class:H({matches:e.junctionFieldExists(e.relations[0].meta.sort_field)}),placeholder:e.t("add_sort_field")+"...","db-safe":""},G({_:2},[e.junctionCollectionExists?{name:"append",fn:D((()=>[I(m,{"show-arrow":"",placement:"bottom-end"},{activator:D((({toggle:t})=>[z(I(s,{name:"list_alt",clickable:"",onClick:t},null,8,["onClick"]),[[h,e.t("select_existing")]])])),default:D((()=>[I(p,{class:"monospace"},{default:D((()=>[(E(!0),P(R,null,M(e.junctionFields,(t=>(E(),A(d,{key:t.value,active:e.relations[0].meta.sort_field===t.value,disabled:t.disabled,clickable:"",onClick:l=>e.relations[0].meta.sort_field=t.value},{default:D((()=>[I(r,null,{default:D((()=>[N(U(t.text),1)])),_:2},1024)])),_:2},1032,["active","disabled","onClick"])))),128))])),_:1})])),_:1})]))}:void 0]),1032,["modelValue","class","placeholder"])]),j("div",vC,[I(c,{class:"field full",large:"","inline-title":!1},{default:D((()=>[N(U(e.t("relational_triggers")),1)])),_:1}),j("div",_C,[j("div",yC,U(e.t("referential_action_field_label_o2m",{collection:e.junctionCollectionName||""})),1),I(_,{modelValue:e.relations[0].meta.one_deselect_action,"onUpdate:modelValue":t[9]||(t[9]=t=>e.relations[0].meta.one_deselect_action=t),placeholder:e.t("choose_action")+"...",items:[{text:e.t("referential_action_set_null",{collection:e.junctionCollectionName,field:e.junctionM2OFieldName}),value:"nullify"},{text:e.t("referential_action_cascade",{collection:e.junctionCollectionName,field:e.junctionM2OFieldName}),value:"delete"}]},null,8,["modelValue","placeholder","items"])]),j("div",hC,[j("div",gC,U(e.t("referential_action_field_label_m2o",{collection:e.currentCollectionName||"related"})),1),I(_,{modelValue:e.relations[0].schema.on_delete,"onUpdate:modelValue":t[10]||(t[10]=t=>e.relations[0].schema.on_delete=t),disabled:e.relations[0].collection===e.relations[0].related_collection,placeholder:e.t("choose_action")+"...",items:[{text:e.t("referential_action_set_null",{field:e.junctionM2OFieldName}),value:"SET NULL"},{text:e.t("referential_action_set_default",{field:e.junctionM2OFieldName}),value:"SET DEFAULT"},{text:e.t("referential_action_cascade",{collection:e.junctionCollectionName,field:e.junctionM2OFieldName}),value:"CASCADE"},{text:e.t("referential_action_no_action"),value:"NO ACTION"}]},null,8,["modelValue","disabled","placeholder","items"])]),j("div",bC,[j("div",kC,U(e.t("referential_action_field_label_m2o",{collection:e.relatedCollectionName||"related"})),1),I(_,{modelValue:e.relations[1].schema.on_delete,"onUpdate:modelValue":t[11]||(t[11]=t=>e.relations[1].schema.on_delete=t),disabled:e.relations[1].collection===e.relations[1].related_collection,placeholder:e.t("choose_action")+"...",items:[{text:e.t("referential_action_set_null",{field:e.junctionRelatedM2OFieldName}),value:"SET NULL"},{text:e.t("referential_action_set_default",{field:e.junctionRelatedM2OFieldName}),value:"SET DEFAULT"},{text:e.t("referential_action_cascade",{collection:e.junctionCollectionName,field:e.junctionRelatedM2OFieldName}),value:"CASCADE"},{text:e.t("referential_action_no_action"),value:"NO ACTION"}]},null,8,["modelValue","disabled","placeholder","items"])])]),e.generationInfo.length>0?(E(),A(y,{key:2,class:"generated-data",type:"warning"},{default:D((()=>[j("span",null,[N(U(e.t("new_data_alert"))+" ",1),j("ul",null,[(E(!0),P(R,null,M(e.generationInfo,((t,l)=>(E(),P("li",{key:l},[j("span",wC,U(t.name),1),N(" ("+U(e.t("field"===t.type?"new_field":"new_collection"))+") ",1)])))),128))])])])),_:1})):B("",!0)])}],["__scopeId","data-v-fe66a5b8"]]);const VC=w({props:{type:{type:String,required:!0},collection:{type:String,required:!0},isExisting:{type:Boolean,default:!1}},setup(e){const{t:t}=x(),l=pI(),a=vI(),i=V({get:()=>yx.autoFillJunctionRelation,set(e){yx.autoFillJunctionRelation=e}}),n=V((()=>m.exports.orderBy([...l.collections.filter((e=>!1===e.collection.startsWith("directus_"))),{divider:!0},{name:t("system"),selectable:!1,children:l.collections.filter((e=>!0===e.collection.startsWith("directus_")))}],["collection"],["asc"]))),o=V((()=>m.exports.orderBy(l.collections.filter((e=>!0===e.collection.startsWith("directus_"))),["collection"],["asc"]))),s=V({get:()=>yx.relations[0].collection,set(e){yx.relations[0].collection=e,yx.relations[1].collection=e}}),r=V((()=>s.value&&null!==l.getCollection(s.value))),d=V((()=>s.value?a.getFieldsForCollectionAlphabetical(s.value).map((e=>{var t,l,a,i,n;return{text:e.field,value:e.field,disabled:(null==(l=null==(t=yx.relations)?void 0:t[0])?void 0:l.field)===e.field||(null==(a=e.schema)?void 0:a.is_primary_key)||(null==(n=null==(i=yx.relations)?void 0:i[1])?void 0:n.field)===e.field}})):[])),c=V((()=>{var t;return null==(t=a.getPrimaryKeyFieldForCollection(e.collection))?void 0:t.field})),u=V((()=>{var e;return yx.relations[0].collection?(null==(e=l.getCollection(yx.relations[0].collection))?void 0:e.name)||vV(yx.relations[0].collection):null})),p=V((()=>{var e;return yx.relations[0].related_collection?(null==(e=l.getCollection(yx.relations[0].related_collection))?void 0:e.name)||vV(yx.relations[0].related_collection):null})),f=V((()=>{var e;return yx.relations[0].collection&&yx.relations[0].field?(null==(e=a.getField(yx.relations[0].collection,yx.relations[0].field))?void 0:e.name)||vV(yx.relations[0].field):null}));return{t:t,relations:yx.relations,autoFill:i,availableCollections:n,systemCollections:o,junctionCollection:s,junctionFields:d,junctionCollectionExists:r,junctionFieldExists:function(e){return!(!s.value||!e)&&!!a.getField(s.value,e)},generationInfo:bx,currentPrimaryKeyField:c,relatedCollectionName:u,currentCollectionName:p,m2oFieldName:f}}}),CC=e=>(K("data-v-7f853afb"),e=e(),W(),e),SC={class:"grid"},EC={class:"field"},AC={class:"type-label"},DC={class:"field"},IC={class:"type-label"},FC={class:"field"},OC={class:"type-label"},$C={class:"related-collections-preview"},TC=CC((()=>j("div",{class:"spacer"},null,-1))),PC=CC((()=>j("div",{class:"spacer"},null,-1))),jC=CC((()=>j("div",{class:"spacer"},null,-1))),LC={class:"sort-field"},RC={class:"relational-triggers"},MC={class:"field"},UC={class:"type-label"},NC={class:"field"},BC={class:"type-label"},qC={class:"field-name"};var zC=F_(w({components:{RelationshipM2o:FV,RelationshipO2m:XV,RelationshipM2m:xC,RelationshipM2a:F_(VC,[["render",function(e,t,l,a,i,n){const o=S("v-input"),s=S("v-icon"),r=S("v-list-item-content"),d=S("v-list-item"),c=S("v-divider"),u=S("v-list-group"),p=S("v-list"),m=S("v-menu"),f=S("v-text-overflow"),v=S("v-select"),_=S("v-checkbox"),y=S("v-notice"),h=q("tooltip");return E(),P("div",null,[j("div",SC,[j("div",EC,[j("div",AC,U(e.t("this_collection")),1),I(o,{disabled:"","model-value":e.relations[0].related_collection},null,8,["model-value"])]),j("div",DC,[j("div",IC,U(e.t("junction_collection")),1),I(o,{modelValue:e.junctionCollection,"onUpdate:modelValue":t[0]||(t[0]=t=>e.junctionCollection=t),class:H({matches:e.junctionCollectionExists}),nullable:!1,placeholder:e.t("collection")+"...",disabled:e.autoFill||e.isExisting,"db-safe":""},G({_:2},[e.isExisting?void 0:{name:"append",fn:D((()=>[I(m,{"show-arrow":"",placement:"bottom-end"},{activator:D((({toggle:t})=>[z(I(s,{name:"list_alt",clickable:"",disabled:e.autoFill||e.isExisting,onClick:t},null,8,["disabled","onClick"]),[[h,e.t("select_existing")]])])),default:D((()=>[I(p,{class:"monospace"},{default:D((()=>[(E(!0),P(R,null,M(e.availableCollections,(t=>(E(),A(d,{key:t.collection,active:e.relations[0].collection===t.collection,clickable:"",onClick:l=>e.relations[0].collection=t.collection},{default:D((()=>[I(r,null,{default:D((()=>[N(U(t.collection),1)])),_:2},1024)])),_:2},1032,["active","onClick"])))),128)),I(c),I(u,null,{activator:D((()=>[N(U(e.t("system")),1)])),default:D((()=>[(E(!0),P(R,null,M(e.systemCollections,(t=>(E(),A(d,{key:t.collection,active:e.relations[0].collection===t.collection,clickable:"",onClick:l=>e.relations[0].collection=t.collection},{default:D((()=>[I(r,null,{default:D((()=>[N(U(t.collection),1)])),_:2},1024)])),_:2},1032,["active","onClick"])))),128))])),_:1})])),_:1})])),_:1})]))},e.isExisting?{name:"input",fn:D((()=>[I(f,{text:e.junctionCollection},null,8,["text"])]))}:void 0]),1032,["modelValue","class","placeholder","disabled"])]),j("div",FC,[j("div",OC,U(e.t("related_collections")),1),I(v,{modelValue:e.relations[1].meta.one_allowed_collections,"onUpdate:modelValue":t[1]||(t[1]=t=>e.relations[1].meta.one_allowed_collections=t),placeholder:e.t("collection")+"...",items:e.availableCollections,"item-value":"collection","item-text":"name","item-disabled":"meta.singleton",multiple:"","multiple-preview-threshold":0},null,8,["modelValue","placeholder","items"])]),I(o,{disabled:""},{input:D((()=>[I(f,{text:e.currentPrimaryKeyField},null,8,["text"])])),_:1}),I(o,{modelValue:e.relations[0].field,"onUpdate:modelValue":t[2]||(t[2]=t=>e.relations[0].field=t),class:H({matches:e.junctionFieldExists(e.relations[0].field)}),nullable:!1,placeholder:e.t("foreign_key")+"...",disabled:e.autoFill||e.isExisting,"db-safe":""},G({_:2},[e.junctionCollectionExists&&!e.isExisting?{name:"append",fn:D((()=>[I(m,{"show-arrow":"",placement:"bottom-end"},{activator:D((({toggle:t})=>[z(I(s,{name:"list_alt",clickable:"",disabled:e.autoFill||e.isExisting,onClick:t},null,8,["disabled","onClick"]),[[h,e.t("select_existing")]])])),default:D((()=>[I(p,{class:"monospace"},{default:D((()=>[(E(!0),P(R,null,M(e.junctionFields,(t=>(E(),A(d,{key:t.value,active:e.relations[0].field===t.value,disabled:t.disabled,clickable:"",onClick:l=>e.relations[0].field=t.value},{default:D((()=>[I(r,null,{default:D((()=>[N(U(t.text),1)])),_:2},1024)])),_:2},1032,["active","disabled","onClick"])))),128))])),_:1})])),_:1})]))}:void 0,e.isExisting?{name:"input",fn:D((()=>[I(f,{text:e.relations[0].field},null,8,["text"])]))}:void 0]),1032,["modelValue","class","placeholder","disabled"]),j("div",$C,U((e.relations[1].meta.one_allowed_collections||[]).join(", ")),1),TC,I(o,{modelValue:e.relations[1].meta.one_collection_field,"onUpdate:modelValue":t[3]||(t[3]=t=>e.relations[1].meta.one_collection_field=t),class:H(["one-collection-field",{matches:e.junctionFieldExists(e.relations[0].meta.one_collection_field)}]),nullable:!1,placeholder:e.t("collection_key")+"...",disabled:e.autoFill||e.isExisting,"db-safe":""},G({_:2},[e.junctionCollectionExists&&!e.isExisting?{name:"append",fn:D((()=>[I(m,{"show-arrow":"",placement:"bottom-end"},{activator:D((({toggle:t})=>[z(I(s,{name:"list_alt",clickable:"",disabled:e.autoFill||e.isExisting,onClick:t},null,8,["disabled","onClick"]),[[h,e.t("select_existing")]])])),default:D((()=>[I(p,{class:"monospace"},{default:D((()=>[(E(!0),P(R,null,M(e.junctionFields,(t=>(E(),A(d,{key:t.value,active:e.relations[0].field===t.value,disabled:t.disabled,clickable:"",onClick:l=>e.relations[0].field=t.value},{default:D((()=>[I(r,null,{default:D((()=>[N(U(t.text),1)])),_:2},1024)])),_:2},1032,["active","disabled","onClick"])))),128))])),_:1})])),_:1})]))}:void 0,e.isExisting?{name:"input",fn:D((()=>[I(f,{text:e.relations[1].meta.one_collection_field},null,8,["text"])]))}:void 0]),1032,["modelValue","class","placeholder","disabled"]),PC,I(o,{modelValue:e.relations[1].field,"onUpdate:modelValue":t[4]||(t[4]=t=>e.relations[1].field=t),class:H({matches:e.junctionFieldExists(e.relations[1].field)}),nullable:!1,placeholder:e.t("foreign_key")+"...",disabled:e.autoFill||e.isExisting,"db-safe":""},G({_:2},[e.junctionCollectionExists&&!e.isExisting?{name:"append",fn:D((()=>[I(m,{"show-arrow":"",placement:"bottom-end"},{activator:D((({toggle:t})=>[z(I(s,{name:"list_alt",clickable:"",disabled:e.autoFill||e.isExisting,onClick:t},null,8,["disabled","onClick"]),[[h,e.t("select_existing")]])])),default:D((()=>[I(p,{class:"monospace"},{default:D((()=>[(E(!0),P(R,null,M(e.junctionFields,(t=>(E(),A(d,{key:t.value,active:e.relations[1].field===t.value,disabled:t.disabled,clickable:"",onClick:l=>e.relations[1].field=t.value},{default:D((()=>[I(r,null,{default:D((()=>[N(U(t.text),1)])),_:2},1024)])),_:2},1032,["active","disabled","onClick"])))),128))])),_:1})])),_:1})]))}:void 0,e.isExisting?{name:"input",fn:D((()=>[I(f,{text:e.relations[1].field},null,8,["text"])]))}:void 0]),1032,["modelValue","class","placeholder","disabled"]),I(o,{disabled:"","model-value":e.t("primary_key")},null,8,["model-value"]),jC,e.isExisting?B("",!0):(E(),A(_,{key:0,modelValue:e.autoFill,"onUpdate:modelValue":t[5]||(t[5]=t=>e.autoFill=t),block:"",label:e.t("auto_fill")},null,8,["modelValue","label"])),I(s,{class:"arrow",name:"arrow_forward"}),I(s,{class:"arrow",name:"arrow_backward"}),I(s,{class:"arrow",name:"arrow_backward"})]),j("div",LC,[I(c,{large:"","inline-title":!1},{default:D((()=>[N(U(e.t("sort_field")),1)])),_:1}),I(o,{modelValue:e.relations[0].meta.sort_field,"onUpdate:modelValue":t[6]||(t[6]=t=>e.relations[0].meta.sort_field=t),class:H({matches:e.junctionFieldExists(e.relations[0].meta.sort_field)}),placeholder:e.t("add_sort_field")+"...","db-safe":""},G({_:2},[e.junctionCollectionExists&&!e.isExisting?{name:"append",fn:D((()=>[I(m,{"show-arrow":"",placement:"bottom-end"},{activator:D((({toggle:t})=>[z(I(s,{name:"list_alt",clickable:"",onClick:t},null,8,["onClick"]),[[h,e.t("select_existing")]])])),default:D((()=>[I(p,{class:"monospace"},{default:D((()=>[(E(!0),P(R,null,M(e.junctionFields,(t=>(E(),A(d,{key:t.value,active:e.relations[0].meta.sort_field===t.value,disabled:t.disabled,clickable:"",onClick:l=>e.relations[0].meta.sort_field=t.value},{default:D((()=>[I(r,null,{default:D((()=>[N(U(t.text),1)])),_:2},1024)])),_:2},1032,["active","disabled","onClick"])))),128))])),_:1})])),_:1})]))}:void 0]),1032,["modelValue","class","placeholder"])]),j("div",RC,[I(c,{class:"field full",large:"","inline-title":!1},{default:D((()=>[N(U(e.t("relational_triggers")),1)])),_:1}),j("div",MC,[j("div",UC,U(e.t("referential_action_field_label_m2o",{collection:e.currentCollectionName||"related"})),1),I(v,{modelValue:e.relations[0].schema.on_delete,"onUpdate:modelValue":t[7]||(t[7]=t=>e.relations[0].schema.on_delete=t),disabled:e.relations[0].collection===e.relations[0].related_collection,placeholder:e.t("choose_action")+"...",items:[{text:e.t("referential_action_set_null",{field:e.m2oFieldName}),value:"SET NULL"},{text:e.t("referential_action_set_default",{field:e.m2oFieldName}),value:"SET DEFAULT"},{text:e.t("referential_action_cascade",{collection:e.relatedCollectionName,field:e.m2oFieldName}),value:"CASCADE"},{text:e.t("referential_action_no_action"),value:"NO ACTION"}]},null,8,["modelValue","disabled","placeholder","items"])]),j("div",NC,[j("div",BC,U(e.t("referential_action_field_label_o2m",{collection:e.relatedCollectionName||"related"})),1),I(v,{modelValue:e.relations[0].meta.one_deselect_action,"onUpdate:modelValue":t[8]||(t[8]=t=>e.relations[0].meta.one_deselect_action=t),placeholder:e.t("choose_action")+"...",items:[{text:e.t("referential_action_set_null",{field:e.m2oFieldName}),value:"nullify"},{text:e.t("referential_action_cascade",{collection:e.relatedCollectionName,field:e.m2oFieldName}),value:"delete"}]},null,8,["modelValue","placeholder","items"])])]),e.generationInfo.length>0?(E(),A(y,{key:0,class:"generated-data",type:"warning"},{default:D((()=>[j("span",null,[N(U(e.t("new_data_alert"))+" ",1),j("ul",null,[(E(!0),P(R,null,M(e.generationInfo,((t,l)=>(E(),P("li",{key:l},[j("span",qC,U(t.name),1),N(" ("+U(e.t("field"===t.type?"new_field":"new_collection"))+") ",1)])))),128))])])])),_:1})):B("",!0)])}],["__scopeId","data-v-7f853afb"]])},props:{type:{type:String,required:!0},collection:{type:String,required:!0},isExisting:{type:Boolean,default:!1}}}),[["render",function(e,t,l,a,i,n){const o=S("relationship-m2o"),s=S("relationship-o2m"),r=S("relationship-m2m"),d=S("relationship-m2a");return"m2o"===e.type||"file"===e.type?(E(),A(o,{key:0,collection:e.collection,"is-existing":e.isExisting,type:e.type},null,8,["collection","is-existing","type"])):"o2m"===e.type?(E(),A(s,{key:1,collection:e.collection,"is-existing":e.isExisting,type:e.type},null,8,["collection","is-existing","type"])):"m2m"===e.type||"files"===e.type?(E(),A(r,{key:2,collection:e.collection,"is-existing":e.isExisting,type:e.type},null,8,["collection","is-existing","type"])):"m2a"===e.type?(E(),A(d,{key:3,collection:e.collection,"is-existing":e.isExisting,type:e.type},null,8,["collection","is-existing","type"])):B("",!0)}]]);const KC=w({props:{type:{type:String,required:!0},collection:{type:String,required:!0},isExisting:{type:Boolean,default:!1}},setup(){const{t:e}=x(),t=pI(),l=vI(),a=V({get:()=>yx.autoFillJunctionRelation,set(e){yx.autoFillJunctionRelation=e}}),i=V((()=>m.exports.orderBy(t.collections.filter((e=>!1===e.collection.startsWith("directus_"))),["collection"],["asc"]))),n=["directus_activity","directus_collections","directus_fields","directus_migrations","directus_relations","directus_revisions","directus_sessions","directus_settings"],o=V((()=>m.exports.orderBy(t.collections.filter((e=>!0===e.collection.startsWith("directus_"))),["collection"],["asc"]).filter((e=>!1===n.includes(e.collection))))),s=V({get:()=>yx.relations[0].collection,set(e){yx.relations[0].collection=e,yx.relations[1].collection=e}}),r=V((()=>s.value&&null!==t.getCollection(s.value))),d=V((()=>yx.relations[1].related_collection&&null!==t.getCollection(yx.relations[1].related_collection))),c=V((()=>s.value?l.getFieldsForCollection(s.value).map((e=>{var t;return{text:e.field,value:e.field,disabled:yx.relations[0].field===e.field||(null==(t=e.schema)?void 0:t.is_primary_key)||yx.relations[1].field===e.field}})):[])),u=V((()=>l.getPrimaryKeyFieldForCollection(yx.relations[0].related_collection).field)),p=V((()=>yx.relations[1].related_collection?d.value?l.getPrimaryKeyFieldForCollection(yx.relations[1].related_collection).field:"id":"")),f=V((()=>{var e;return yx.relations[0].related_collection?(null==(e=t.getCollection(yx.relations[0].related_collection))?void 0:e.name)||vV(yx.relations[0].related_collection):null})),v=V((()=>{var e;return yx.relations[0].collection?(null==(e=t.getCollection(yx.relations[0].collection))?void 0:e.name)||vV(yx.relations[0].collection):null})),_=V((()=>{var e;return yx.relations[0].collection&&yx.relations[0].field?(null==(e=l.getField(yx.relations[0].collection,yx.relations[0].field))?void 0:e.name)||vV(yx.relations[0].field):null})),y=V((()=>{var e;return yx.relations[1].collection&&yx.relations[1].field?(null==(e=l.getField(yx.relations[1].collection,yx.relations[1].field))?void 0:e.name)||vV(yx.relations[1].field):null})),h=V((()=>{var e;return yx.relations[1].related_collection?(null==(e=t.getCollection(yx.relations[1].related_collection))?void 0:e.name)||vV(yx.relations[1].related_collection):null}));return{t:e,relations:yx.relations,autoFill:a,availableCollections:i,systemCollections:o,junctionCollection:s,junctionFields:c,junctionCollectionExists:r,relatedCollectionExists:d,junctionFieldExists:function(e){return!!s.value&&!!l.getField(s.value,e)},currentPrimaryKeyField:u,relatedPrimaryKeyField:p,junctionCollectionName:v,junctionM2OFieldName:_,currentCollectionName:f,junctionRelatedM2OFieldName:y,relatedCollectionName:h}}}),WC=e=>(K("data-v-334b4296"),e=e(),W(),e),HC={class:"grid"},GC={class:"field"},QC={class:"type-label"},XC={class:"field"},JC={class:"type-label"},YC={class:"field"},ZC={class:"type-label"},eS=WC((()=>j("div",{class:"spacer"},null,-1))),tS=WC((()=>j("div",{class:"spacer"},null,-1))),lS=WC((()=>j("div",{class:"spacer"},null,-1))),aS={class:"relational-triggers"},iS={class:"field"},nS={class:"type-label"},oS={class:"field"},sS={class:"type-label"},rS={class:"field"},dS={class:"type-label"};var cS=F_(KC,[["render",function(e,t,l,a,i,n){const o=S("v-input"),s=S("v-icon"),r=S("v-list-item-content"),d=S("v-list-item"),c=S("v-divider"),u=S("v-list-group"),p=S("v-list"),m=S("v-menu"),f=S("v-checkbox"),v=S("v-select"),_=q("tooltip");return E(),P("div",null,[j("div",HC,[j("div",GC,[j("div",QC,U(e.t("this_collection")),1),I(o,{disabled:"","model-value":e.relations[0].related_collection},null,8,["model-value"])]),j("div",XC,[j("div",JC,U(e.t("translations_collection")),1),I(o,{modelValue:e.junctionCollection,"onUpdate:modelValue":t[0]||(t[0]=t=>e.junctionCollection=t),class:H({matches:e.junctionCollectionExists}),nullable:!1,placeholder:e.t("collection")+"...",disabled:e.autoFill||e.isExisting,"db-safe":""},{append:D((()=>[I(m,{"show-arrow":"",placement:"bottom-end"},{activator:D((({toggle:t})=>[z(I(s,{name:"list_alt",clickable:"",disabled:e.autoFill||e.isExisting,onClick:t},null,8,["disabled","onClick"]),[[_,e.t("select_existing")]])])),default:D((()=>[I(p,{class:"monospace"},{default:D((()=>[(E(!0),P(R,null,M(e.availableCollections,(t=>(E(),A(d,{key:t.collection,active:e.relations[0].collection===t.collection,clickable:"",onClick:l=>e.relations[0].collection=t.collection},{default:D((()=>[I(r,null,{default:D((()=>[N(U(t.collection),1)])),_:2},1024)])),_:2},1032,["active","onClick"])))),128)),I(c),I(u,null,{activator:D((()=>[N(U(e.t("system")),1)])),default:D((()=>[(E(!0),P(R,null,M(e.systemCollections,(t=>(E(),A(d,{key:t.collection,active:e.relations[0].collection===t.collection,clickable:"",onClick:l=>e.relations[0].collection=t.collection},{default:D((()=>[I(r,null,{default:D((()=>[N(U(t.collection),1)])),_:2},1024)])),_:2},1032,["active","onClick"])))),128))])),_:1})])),_:1})])),_:1})])),_:1},8,["modelValue","class","placeholder","disabled"])]),j("div",YC,[j("div",ZC,U(e.t("languages_collection")),1),I(o,{modelValue:e.relations[1].related_collection,"onUpdate:modelValue":t[1]||(t[1]=t=>e.relations[1].related_collection=t),autofocus:e.autoFill,class:H({matches:e.relatedCollectionExists}),nullable:!1,placeholder:e.t("collection")+"...",disabled:"files"===e.type||e.isExisting,"db-safe":""},{append:D((()=>[I(m,{"show-arrow":"",placement:"bottom-end"},{activator:D((({toggle:t})=>[z(I(s,{name:"list_alt",clickable:"",disabled:"files"===e.type||e.isExisting,onClick:t},null,8,["disabled","onClick"]),[[_,e.t("select_existing")]])])),default:D((()=>[I(p,{class:"monospace"},{default:D((()=>[(E(!0),P(R,null,M(e.availableCollections,(t=>(E(),A(d,{key:t.collection,active:e.relations[1].related_collection===t.collection,clickable:"",onClick:l=>e.relations[1].related_collection=t.collection},{default:D((()=>[I(r,null,{default:D((()=>[N(U(t.collection),1)])),_:2},1024)])),_:2},1032,["active","onClick"])))),128)),I(c),I(u,null,{activator:D((()=>[N(U(e.t("system")),1)])),default:D((()=>[(E(!0),P(R,null,M(e.systemCollections,(t=>(E(),A(d,{key:t.collection,active:e.relations[1].related_collection===t.collection,clickable:"",onClick:l=>e.relations[1].related_collection=t.collection},{default:D((()=>[I(r,null,{default:D((()=>[N(U(t.collection),1)])),_:2},1024)])),_:2},1032,["active","onClick"])))),128))])),_:1})])),_:1})])),_:1})])),_:1},8,["modelValue","autofocus","class","placeholder","disabled"])]),I(o,{disabled:"","model-value":e.currentPrimaryKeyField},null,8,["model-value"]),I(o,{modelValue:e.relations[0].field,"onUpdate:modelValue":t[2]||(t[2]=t=>e.relations[0].field=t),class:H({matches:e.junctionFieldExists(e.relations[0].field)}),nullable:!1,placeholder:e.t("foreign_key")+"...",disabled:e.autoFill||e.isExisting,"db-safe":""},G({_:2},[e.junctionCollectionExists?{name:"append",fn:D((()=>[I(m,{"show-arrow":"",placement:"bottom-end"},{activator:D((({toggle:t})=>[z(I(s,{name:"list_alt",clickable:"",disabled:e.autoFill||e.isExisting,onClick:t},null,8,["disabled","onClick"]),[[_,e.t("select_existing")]])])),default:D((()=>[I(p,{class:"monospace"},{default:D((()=>[(E(!0),P(R,null,M(e.junctionFields,(t=>(E(),A(d,{key:t.value,active:e.relations[0].field===t.value,disabled:t.disabled,clickable:"",onClick:l=>e.relations[0].field=t.value},{default:D((()=>[I(r,null,{default:D((()=>[N(U(t.text),1)])),_:2},1024)])),_:2},1032,["active","disabled","onClick"])))),128))])),_:1})])),_:1})]))}:void 0]),1032,["modelValue","class","placeholder","disabled"]),eS,tS,I(o,{modelValue:e.relations[1].field,"onUpdate:modelValue":t[3]||(t[3]=t=>e.relations[1].field=t),class:H({matches:e.junctionFieldExists(e.relations[1].field)}),nullable:!1,placeholder:e.t("foreign_key")+"...",disabled:e.autoFill||e.isExisting,"db-safe":""},G({_:2},[e.junctionCollectionExists?{name:"append",fn:D((()=>[I(m,{"show-arrow":"",placement:"bottom-end"},{activator:D((({toggle:t})=>[z(I(s,{name:"list_alt",clickable:"",disabled:e.autoFill||e.isExisting,onClick:t},null,8,["disabled","onClick"]),[[_,e.t("select_existing")]])])),default:D((()=>[I(p,{class:"monospace"},{default:D((()=>[(E(!0),P(R,null,M(e.junctionFields,(t=>(E(),A(d,{key:t.value,active:e.relations[1].field===t.value,disabled:t.disabled,clickable:"",onClick:l=>e.relations[1].field=t.value},{default:D((()=>[I(r,null,{default:D((()=>[N(U(t.text),1)])),_:2},1024)])),_:2},1032,["active","disabled","onClick"])))),128))])),_:1})])),_:1})]))}:void 0]),1032,["modelValue","class","placeholder","disabled"]),I(o,{modelValue:e.relatedPrimaryKeyField,"onUpdate:modelValue":t[4]||(t[4]=t=>e.relatedPrimaryKeyField=t),disabled:"",placeholder:e.t("primary_key")+"..."},null,8,["modelValue","placeholder"]),lS,I(f,{modelValue:e.autoFill,"onUpdate:modelValue":t[5]||(t[5]=t=>e.autoFill=t),disabled:e.isExisting,block:"",label:e.t("auto_fill")},null,8,["modelValue","disabled","label"]),I(s,{class:"arrow",name:"arrow_forward"}),I(s,{class:"arrow",name:"arrow_backward"})]),j("div",aS,[I(c,{class:"field full",large:"","inline-title":!1},{default:D((()=>[N(U(e.t("relational_triggers")),1)])),_:1}),j("div",iS,[j("div",nS,U(e.t("referential_action_field_label_o2m",{collection:e.junctionCollectionName||""})),1),I(v,{modelValue:e.relations[0].meta.one_deselect_action,"onUpdate:modelValue":t[6]||(t[6]=t=>e.relations[0].meta.one_deselect_action=t),placeholder:e.t("choose_action")+"...",items:[{text:e.t("referential_action_set_null",{collection:e.junctionCollectionName,field:e.junctionM2OFieldName}),value:"nullify"},{text:e.t("referential_action_cascade",{collection:e.junctionCollectionName,field:e.junctionM2OFieldName}),value:"delete"}]},null,8,["modelValue","placeholder","items"])]),j("div",oS,[j("div",sS,U(e.t("referential_action_field_label_m2o",{collection:e.currentCollectionName||"related"})),1),I(v,{modelValue:e.relations[0].schema.on_delete,"onUpdate:modelValue":t[7]||(t[7]=t=>e.relations[0].schema.on_delete=t),disabled:e.relations[0].collection===e.relations[0].related_collection,placeholder:e.t("choose_action")+"...",items:[{text:e.t("referential_action_set_null",{field:e.junctionM2OFieldName}),value:"SET NULL"},{text:e.t("referential_action_set_default",{field:e.junctionM2OFieldName}),value:"SET DEFAULT"},{text:e.t("referential_action_cascade",{collection:e.junctionCollectionName,field:e.junctionM2OFieldName}),value:"CASCADE"},{text:e.t("referential_action_no_action"),value:"NO ACTION"}]},null,8,["modelValue","disabled","placeholder","items"])]),j("div",rS,[j("div",dS,U(e.t("referential_action_field_label_m2o",{collection:e.relatedCollectionName||"related"})),1),I(v,{modelValue:e.relations[1].schema.on_delete,"onUpdate:modelValue":t[8]||(t[8]=t=>e.relations[1].schema.on_delete=t),disabled:e.relations[1].collection===e.relations[1].related_collection,placeholder:e.t("choose_action")+"...",items:[{text:e.t("referential_action_set_null",{field:e.junctionRelatedM2OFieldName}),value:"SET NULL"},{text:e.t("referential_action_set_default",{field:e.junctionRelatedM2OFieldName}),value:"SET DEFAULT"},{text:e.t("referential_action_cascade",{collection:e.relatedCollectionName,field:e.junctionRelatedM2OFieldName}),value:"CASCADE"},{text:e.t("referential_action_no_action"),value:"NO ACTION"}]},null,8,["modelValue","disabled","placeholder","items"])])])])}],["__scopeId","data-v-334b4296"]]);const uS=w({props:{type:{type:String,required:!0},collection:{type:String,required:!0}},setup(){const{t:e}=x(),{interfaces:t}=yl(),l=V((()=>{var e;const t={string:["input","select-dropdown"],text:["input-rich-text-html"],boolean:["boolean"],integer:["input"],bigInteger:["input"],float:["input"],decimal:["input"],timestamp:["datetime"],datetime:["datetime"],date:["datetime"],time:["datetime"],json:["select-multiple-checkbox","tags"],uuid:["input"],csv:["tags"]}[(null==(e=yx.fieldData)?void 0:e.type)||"alias"]||[],l=hx.value.map((e=>{const l={text:e.name,description:e.description,value:e.id,icon:e.icon};return t.includes(l.value)&&(l.iconRight="star"),l})),a=[],i=t.map((e=>l.find((t=>t.value===e))));void 0!==i&&a.push(...i.filter((e=>e))),l.length>=5&&t.length>0&&a.push({divider:!0});const n=l.filter((e=>!1===t.includes(e.value)));return void 0!==n&&a.push(...n.filter((e=>e))),a})),a=V((()=>t.value.find((e=>{var t;return e.id===(null==(t=yx.fieldData.meta)?void 0:t.interface)})))),{fieldData:i,relations:n,newCollections:o,newFields:s}=T(yx);return{t:e,fieldData:i,relations:n,selectItems:l,selectedInterface:a,newCollections:o,newFields:s}}}),pS=(e=>(K("data-v-b20e4918"),e=e(),W(),e))((()=>j("div",{class:"spacer"},null,-1)));var mS=F_(uS,[["render",function(e,t,l,a,i,n){const o=S("v-fancy-select"),s=S("v-notice"),r=S("v-form");return E(),P("div",null,[I(o,{modelValue:e.fieldData.meta.interface,"onUpdate:modelValue":t[0]||(t[0]=t=>e.fieldData.meta.interface=t),class:"select",items:e.selectItems},null,8,["modelValue","items"]),e.fieldData.meta.interface&&!e.selectedInterface?(E(),A(s,{key:0,class:"not-found",type:"danger"},{default:D((()=>[N(U(e.t("interface_not_found",{interface:e.fieldData.meta.interface}))+" ",1),pS,j("button",{onClick:t[1]||(t[1]=t=>e.fieldData.meta.interface=null)},U(e.t("reset_interface")),1)])),_:1})):B("",!0),e.fieldData.meta.interface&&e.selectedInterface?(E(),P(R,{key:1},[e.selectedInterface.options&&0!==e.selectedInterface.options.length?Array.isArray(e.selectedInterface.options)?(E(),A(r,{key:1,modelValue:e.fieldData.meta.options,"onUpdate:modelValue":t[2]||(t[2]=t=>e.fieldData.meta.options=t),fields:e.selectedInterface.options,"primary-key":"+"},null,8,["modelValue","fields"])):(E(),A(L(`interface-options-${e.selectedInterface.id}`),{key:2,value:e.fieldData.meta.options,collection:e.collection,"field-data":e.fieldData,relations:e.relations,"new-fields":e.newFields,"new-collections":e.newCollections,onInput:t[3]||(t[3]=t=>e.fieldData.meta.options=t)},null,8,["value","collection","field-data","relations","new-fields","new-collections"])):(E(),A(s,{key:0},{default:D((()=>[N(U(e.t("no_options_available")),1)])),_:1}))],64)):B("",!0)])}],["__scopeId","data-v-b20e4918"]]);const fS=w({props:{type:{type:String,required:!0},collection:{type:String,required:!0}},setup(){const{t:e}=x(),{displays:t}=fl(),{interfaces:l}=yl(),a=V((()=>l.value.find((e=>{var t;return e.id===(null==(t=yx.fieldData.meta)?void 0:t.interface)})))),i=V((()=>{var e;let t=m.exports.clone(null==(e=a.value)?void 0:e.recommendedDisplays)||[];t.push("raw","formatted-value"),t=[...new Set(t)];const l=gx.value.map((e=>{const l={text:e.name,description:e.description,value:e.id,icon:e.icon};return t.includes(l.value)&&(l.iconRight="star"),l})),i=[],n=t.map((e=>l.find((t=>t.value===e))));void 0!==n&&i.push(...n.filter((e=>e))),l.length>=5&&t.length>0&&i.push({divider:!0});const o=l.filter((e=>!1===t.includes(e.value)));return void 0!==o&&i.push(...o.filter((e=>e))),i})),n=V((()=>t.value.find((e=>{var t;return e.id===(null==(t=yx.fieldData.meta)?void 0:t.display)})))),{fieldData:o,relations:s,newCollections:r,newFields:d}=T(yx);return{t:e,fieldData:o,selectItems:i,selectedDisplay:n,relations:s,newCollections:r,newFields:d}}}),vS=(e=>(K("data-v-3beec024"),e=e(),W(),e))((()=>j("div",{class:"spacer"},null,-1)));var _S=F_(fS,[["render",function(e,t,l,a,i,n){const o=S("v-fancy-select"),s=S("v-notice"),r=S("v-form");return E(),P("div",null,[I(o,{modelValue:e.fieldData.meta.display,"onUpdate:modelValue":t[0]||(t[0]=t=>e.fieldData.meta.display=t),class:"select",items:e.selectItems},null,8,["modelValue","items"]),e.fieldData.meta.display&&!e.selectedDisplay?(E(),A(s,{key:0,class:"not-found",type:"danger"},{default:D((()=>[N(U(e.t("display_not_found",{display:e.fieldData.meta.display}))+" ",1),vS,j("button",{onClick:t[1]||(t[1]=t=>e.fieldData.meta.display=null)},U(e.t("reset_display")),1)])),_:1})):B("",!0),e.fieldData.meta.display&&e.selectedDisplay?(E(),P(R,{key:1},[e.selectedDisplay.options&&0!==e.selectedDisplay.options.length?Array.isArray(e.selectedDisplay.options)?(E(),A(r,{key:1,modelValue:e.fieldData.meta.display_options,"onUpdate:modelValue":t[2]||(t[2]=t=>e.fieldData.meta.display_options=t),fields:e.selectedDisplay.options,"primary-key":"+"},null,8,["modelValue","fields"])):(E(),A(L(`display-options-${e.selectedDisplay.id}`),{key:2,value:e.fieldData.meta.display_options,collection:e.collection,"field-data":e.fieldData,relations:e.relations,"new-fields":e.newFields,"new-collections":e.newCollections,onInput:t[3]||(t[3]=t=>e.fieldData.meta.display_options=t)},null,8,["value","collection","field-data","relations","new-fields","new-collections"])):(E(),A(s,{key:0},{default:D((()=>[N(U(e.t("no_options_available")),1)])),_:1}))],64)):B("",!0)])}],["__scopeId","data-v-3beec024"]]);const yS=w({props:{type:{type:String,required:!0},collection:{type:String,required:!0}},setup(){const{t:e}=x(),t=V({get:()=>m.exports.get(yx,"fieldData.meta.conditions",[]),set(e){m.exports.set(yx,"fieldData.meta.conditions",e)}});return{repeaterFields:V((()=>{var t;return[{field:"name",name:e("name"),type:"string",meta:{interface:"input",options:{iconLeft:"label",placeholder:e("enter_a_value")}}},{field:"rule",name:e("rule"),type:"json",meta:{interface:"input-code",options:{language:"json",placeholder:'{\n\t"myField": {\n\t\t"_eq": "Some Text"\n\t}\n}'}}},{field:"readonly",name:e("readonly"),type:"boolean",meta:{interface:"boolean",options:{label:e("disabled_editing_value")},width:"half"}},{field:"hidden",name:e("hidden"),type:"boolean",meta:{interface:"boolean",options:{label:e("hidden_on_detail")},width:"half"}},{field:"required",name:e("required"),type:"boolean",meta:{interface:"boolean",options:{label:e("require_value_to_be_set")},width:"half"}},{field:"options",name:e("interface_options"),type:"json",meta:{interface:"system-interface-options",options:{interface:null==(t=null==yx?void 0:yx.fieldData.meta)?void 0:t.interface}}}]})),value:t,state:yx}}});function hS(e,t){var l,a,i,n;const o=vI(),s=VI(),r=o.getField(e,t),d=s.getRelationsForField(e,t);if(!r)return null;if(0===d.length)return"alias"===r.type?(null==(a=null==(l=r.meta)?void 0:l.special)?void 0:a.includes("group"))?"group":"presentation":"standard";if(1===d.length){const l=d[0];return"directus_files"===l.related_collection?"file":l.collection===e&&l.field===t?"m2o":"o2m"}if(2===d.length){if(((null==(i=r.meta)?void 0:i.special)||[]).includes("translations"))return"translations";if(((null==(n=r.meta)?void 0:n.special)||[]).includes("m2a"))return"m2a";const l=d.find((l=>{var a;return l.collection===e&&l.field===t||l.related_collection===e&&(null==(a=l.meta)?void 0:a.one_field)===t}));return(null==l?void 0:l.collection)===e&&(null==l?void 0:l.field)===t?"m2o":"directus_files"===d[0].related_collection||"directus_files"===d[1].related_collection?"files":"m2m"}return"standard"}const gS=w({components:{SetupTabs:mx,SetupActions:_x,SetupSchema:Gx,SetupField:sV,SetupRelationship:zC,SetupTranslations:cS,SetupInterface:mS,SetupDisplay:_S,SetupConditions:F_(yS,[["render",function(e,t,l,a,i,n){const o=S("interface-list");return E(),P("div",null,[I(o,{fields:e.repeaterFields,template:"{{ name }}",value:e.value,onInput:t[0]||(t[0]=t=>e.value=t)},null,8,["fields","value"])])}]])},props:{collection:{type:String,required:!0},field:{type:String,required:!0},type:{type:String,default:null}},setup(e){const{t:t}=x(),l=ie(),a=pI(),i=vI(),n=VI(),o=vy(),s=F(!1),{collection:r}=T(e),{info:d}=Xt(r),{nullValueOverride:c,nullValuesDialog:u,nullOverrideSaving:p,saveNullOverride:f}=function(){const t=F(!1),l=F(),a=F(!1);return{nullValueOverride:l,nullValuesDialog:t,nullOverrideSaving:a,saveNullOverride:async function(){a.value=!0;try{const i=e.collection.startsWith("directus_")?`/${e.collection.substring(9)}`:`/items/${e.collection}`;return await dI.patch(i,{query:{filter:{[e.field]:{_null:!0}},limit:-1},data:{[e.field]:l.value}}),t.value=!1,w()}catch(i){jy(i)}finally{a.value=!1}}}}(),v=V((()=>{if("+"===e.field)return null;return i.getField(e.collection,e.field)})),_=V((()=>{if("+"===e.field)return e.type;return hS(e.collection,e.field)||"standard"}));kx(e.collection,e.field,_.value);const{tabs:y,currentTab:h,currentTabInfo:g}=function(){const l=V((()=>{const l=[{text:t("schema"),value:"schema",disabled:!1},{text:t("field",1),value:"field",disabled:n()},{text:t("interface_label"),value:"interface",disabled:n()}];return"presentation"!==e.type&&"group"!==e.type&&l.push({text:t("display"),value:"display",disabled:n()}),["o2m","m2o","m2m","m2a","files"].includes(_.value)&&l.splice(1,0,{text:t("relationship"),value:"relationship",disabled:m.exports.isEmpty(yx.fieldData.field)}),"translations"===_.value&&l.splice(1,0,{text:t("translations"),value:"translations",disabled:m.exports.isEmpty(yx.fieldData.field)}),l.push({text:t("conditions"),value:"conditions",disabled:n()}),l})),a=F(["schema"]),i=V((()=>{const e=a.value[0];return l.value.find((t=>t.value===e))}));return{tabs:l,currentTab:a,currentTabInfo:i};function n(){var e,t,l,a;return["o2m","m2o","file"].includes(_.value)?0===yx.relations.length||m.exports.isEmpty(yx.relations[0].collection)||m.exports.isEmpty(yx.relations[0].field)||m.exports.isEmpty(yx.relations[0].related_collection):["m2m","files","translations"].includes(_.value)?2!==yx.relations.length||m.exports.isEmpty(yx.relations[0].collection)||m.exports.isEmpty(yx.relations[0].field)||m.exports.isEmpty(null==(e=yx.relations[0].meta)?void 0:e.one_field)||m.exports.isEmpty(yx.relations[1].collection)||m.exports.isEmpty(yx.relations[1].field)||m.exports.isEmpty(yx.relations[1].related_collection):"m2a"===_.value?2!==yx.relations.length||m.exports.isEmpty(yx.relations[0].collection)||m.exports.isEmpty(yx.relations[0].field)||m.exports.isEmpty(null==(t=yx.relations[0].meta)?void 0:t.one_field)||m.exports.isEmpty(yx.relations[1].collection)||m.exports.isEmpty(yx.relations[1].field)||m.exports.isEmpty(null==(l=yx.relations[1].meta)?void 0:l.one_collection_field)||m.exports.isEmpty(null==(a=yx.relations[1].meta)?void 0:a.one_allowed_collections):"presentation"===_.value?m.exports.isEmpty(yx.fieldData.field):m.exports.isEmpty(yx.fieldData.field)||m.exports.isEmpty(yx.fieldData.type)}}(),b=F(!1),k=V((()=>{var l,a,i;const n=(null==(l=v.value)?void 0:l.name)||vV(yx.fieldData.field||"");return"+"===e.field&&""===n?t("creating_new_field",{collection:null==(a=d.value)?void 0:a.name}):t("field_in_collection",{field:n,collection:null==(i=d.value)?void 0:i.name})}));return{t:t,isOpen:o,tabs:y,currentTab:h,fieldData:yx.fieldData,saveField:w,saving:b,relations:yx.relations,newFields:yx.newFields,cancelField:function(){l.push(`/settings/data-model/${e.collection}`),wx()},localType:_,existingField:v,collectionInfo:d,translationsManual:s,currentTabInfo:g,title:k,nullValuesDialog:u,nullValueOverride:c,nullOverrideSaving:p,saveNullOverride:f};async function w(){var o,s,r,d,p,f,v,_;b.value=!0;const y=m.exports.cloneDeep(yx.fieldData);!0===(null==(o=y.schema)?void 0:o.is_primary_key)&&delete y.schema;try{"+"!==e.field?await dI.patch(`/fields/${e.collection}/${e.field}`,y):await dI.post(`/fields/${e.collection}`,y),await Promise.all(yx.newCollections.map((e=>(delete e.$type,dI.post("/collections",e))))),await Promise.all(yx.newFields.map((e=>(delete e.$type,dI.post(`/fields/${e.collection}`,e))))),await Promise.all(yx.updateFields.map((e=>(delete e.$type,dI.post(`/fields/${e.collection}/${e.field}`,e))))),await Promise.all(yx.relations.map((e=>!!n.getRelationForField(e.collection,e.field)?dI.patch(`/relations/${e.collection}/${e.field}`,e):dI.post("/relations",e)))),await Promise.all(Object.keys(yx.newRows).map((e=>{const t=yx.newRows[e];return dI.post(`/items/${e}`,t)}))),await a.hydrate(),await i.hydrate(),await n.hydrate(),"+"!==e.field?Qh({title:t("field_update_success",{field:e.field}),type:"success"}):Qh({title:t("field_create_success",{field:y.field}),type:"success"}),l.push(`/settings/data-model/${e.collection}`),wx()}catch(h){"CONTAINS_NULL_VALUES"===(null==(f=null==(p=null==(d=null==(r=null==(s=null==h?void 0:h.response)?void 0:s.data)?void 0:r.errors)?void 0:d[0])?void 0:p.extensions)?void 0:f.code)?(c.value=(null==(_=null==(v=yx.fieldData)?void 0:v.schema)?void 0:_.default_value)||null,u.value=!0):jy(h)}finally{b.value=!1}}}}),bS=(e=>(K("data-v-324a4562"),e=e(),W(),e))((()=>j("div",{class:"spacer"},null,-1))),kS={class:"content"};var wS=F_(gS,[["render",function(e,t,l,a,i,n){const o=S("v-card-title"),s=S("v-input"),r=S("v-notice"),d=S("v-card-text"),c=S("v-button"),u=S("v-card-actions"),p=S("v-card"),m=S("v-dialog"),f=S("setup-tabs"),v=S("setup-schema"),_=S("setup-field"),y=S("setup-relationship"),h=S("setup-translations"),g=S("setup-interface"),b=S("setup-display"),k=S("setup-conditions"),w=S("setup-actions"),x=S("v-drawer");return"translations"===e.localType&&!1===e.translationsManual&&"+"===e.field?(E(),A(m,{key:0,persistent:"","model-value":e.isOpen,onEsc:e.cancelField},{default:D((()=>[I(p,{class:"auto-translations"},{default:D((()=>[I(o,null,{default:D((()=>[N(U(e.t("create_translations")),1)])),_:1}),I(d,null,{default:D((()=>[I(s,{modelValue:e.fieldData.field,"onUpdate:modelValue":t[0]||(t[0]=t=>e.fieldData.field=t),placeholder:e.t("field_name")+"..."},null,8,["modelValue","placeholder"]),I(r,null,{default:D((()=>[j("div",null,[N(U(e.t("this_will_auto_setup_fields_relations"))+" ",1),j("button",{class:"manual-toggle",onClick:t[1]||(t[1]=t=>e.translationsManual=!0)},U(e.t("click_here")),1),N(" "+U(e.t("to_manually_setup_translations")),1)])])),_:1})])),_:1}),I(u,null,{default:D((()=>[I(c,{secondary:"",onClick:e.cancelField},{default:D((()=>[N(U(e.t("cancel")),1)])),_:1},8,["onClick"]),bS,I(c,{disabled:!e.fieldData.field,loading:e.saving,onClick:e.saveField},{default:D((()=>[N(U(e.t("auto_generate")),1)])),_:1},8,["disabled","loading","onClick"])])),_:1})])),_:1})])),_:1},8,["model-value","onEsc"])):(E(),A(x,{key:1,"model-value":e.isOpen,title:e.title,subtitle:e.localType?e.t(`field_${e.localType}`):null,persistent:"","sidebar-label":e.currentTabInfo.text,"onUpdate:modelValue":e.cancelField,onCancel:e.cancelField},{sidebar:D((()=>[I(f,{current:e.currentTab,"onUpdate:current":t[2]||(t[2]=t=>e.currentTab=t),tabs:e.tabs,type:e.localType},null,8,["current","tabs","type"])])),actions:D((()=>[I(w,{current:e.currentTab,"onUpdate:current":t[3]||(t[3]=t=>e.currentTab=t),saving:e.saving,collection:e.collection,tabs:e.tabs,"is-existing":"+"!==e.field,onSave:e.saveField,onCancel:e.cancelField},null,8,["current","saving","collection","tabs","is-existing","onSave","onCancel"])])),default:D((()=>[j("div",kS,["schema"===e.currentTab[0]?(E(),A(v,{key:0,"is-existing":"+"!==e.field,collection:e.collection,type:e.localType},null,8,["is-existing","collection","type"])):B("",!0),"field"===e.currentTab[0]?(E(),A(_,{key:1,"is-existing":"+"!==e.field,collection:e.collection,type:e.localType},null,8,["is-existing","collection","type"])):B("",!0),"relationship"===e.currentTab[0]?(E(),A(y,{key:2,"is-existing":"+"!==e.field,collection:e.collection,type:e.localType},null,8,["is-existing","collection","type"])):B("",!0),"translations"===e.currentTab[0]?(E(),A(h,{key:3,"is-existing":"+"!==e.field,collection:e.collection,type:e.localType},null,8,["is-existing","collection","type"])):B("",!0),"interface"===e.currentTab[0]?(E(),A(g,{key:4,"is-existing":"+"!==e.field,collection:e.collection,type:e.localType},null,8,["is-existing","collection","type"])):B("",!0),"display"===e.currentTab[0]?(E(),A(b,{key:5,"is-existing":"+"!==e.field,collection:e.collection,type:e.localType},null,8,["is-existing","collection","type"])):B("",!0),"conditions"===e.currentTab[0]?(E(),A(k,{key:6,collection:e.collection,type:e.localType},null,8,["collection","type"])):B("",!0)]),I(m,{modelValue:e.nullValuesDialog,"onUpdate:modelValue":t[6]||(t[6]=t=>e.nullValuesDialog=t),onEsc:t[7]||(t[7]=t=>e.nullValuesDialog=!1)},{default:D((()=>[I(p,null,{default:D((()=>[I(o,null,{default:D((()=>[N(U(e.t("enter_value_to_replace_nulls")),1)])),_:1}),I(d,null,{default:D((()=>[I(s,{modelValue:e.nullValueOverride,"onUpdate:modelValue":t[4]||(t[4]=t=>e.nullValueOverride=t),placeholder:"NULL"},null,8,["modelValue"])])),_:1}),I(u,null,{default:D((()=>[I(c,{secondary:"",onClick:t[5]||(t[5]=t=>e.nullValuesDialog=!1)},{default:D((()=>[N(U(e.t("cancel")),1)])),_:1}),I(c,{disabled:null===e.nullValueOverride,loading:e.nullOverrideSaving,onClick:e.saveNullOverride},{default:D((()=>[N(U(e.t("save")),1)])),_:1},8,["disabled","loading","onClick"])])),_:1})])),_:1})])),_:1},8,["modelValue"])])),_:1},8,["model-value","title","subtitle","sidebar-label","onUpdate:modelValue","onCancel"]))}],["__scopeId","data-v-324a4562"]]);const xS=w({name:"FieldSelectMenu",props:{field:{type:Object,required:!0},noDelete:{type:Boolean,default:!1}},emits:["toggleVisibility","duplicate","delete","setWidth"],setup(e){const{t:t}=x(),l=V((()=>hS(e.field.collection,e.field.field))),a=V((()=>{var t;return!0===(null==(t=e.field.schema)?void 0:t.is_primary_key)})),i=V((()=>"standard"===l.value&&!1===a.value));return{t:t,localType:l,isPrimaryKey:a,duplicable:i}}});function VS(e){const t=new Image;e.setDragImage(t,0,0)}const CS=w({name:"FieldSelect",components:{FieldSelectMenu:F_(xS,[["render",function(e,t,l,a,i,n){const o=S("v-icon"),s=S("v-list-item-icon"),r=S("v-list-item-content"),d=S("v-list-item"),c=S("v-divider"),u=S("v-list"),p=S("v-menu");return E(),A(p,{"show-arrow":"",placement:"bottom-end"},{activator:D((({toggle:e})=>[I(o,{clickable:"",name:"more_vert",onClick:e},null,8,["onClick"])])),default:D((()=>[I(u,null,{default:D((()=>{var l,a,i,n;return[I(d,{to:`/settings/data-model/${e.field.collection}/${e.field.field}`},{default:D((()=>[I(s,null,{default:D((()=>[I(o,{name:"edit",outline:""})])),_:1}),I(r,null,{default:D((()=>[N(U(e.t("edit_field")),1)])),_:1})])),_:1},8,["to"]),I(d,{disabled:!1===e.duplicable,clickable:"",onClick:t[0]||(t[0]=t=>e.$emit("duplicate"))},{default:D((()=>[I(s,null,{default:D((()=>[I(o,{name:"content_copy"})])),_:1}),I(r,null,{default:D((()=>[N(U(e.t("duplicate_field")),1)])),_:1})])),_:1},8,["disabled"]),I(d,{clickable:"",onClick:t[1]||(t[1]=t=>e.$emit("toggleVisibility"))},{default:D((()=>{var t;return[!1===(null==(t=e.field.meta)?void 0:t.hidden)?(E(),P(R,{key:0},[I(s,null,{default:D((()=>[I(o,{name:"visibility_off"})])),_:1}),I(r,null,{default:D((()=>[N(U(e.t("hide_field_on_detail")),1)])),_:1})],64)):(E(),P(R,{key:1},[I(s,null,{default:D((()=>[I(o,{name:"visibility"})])),_:1}),I(r,null,{default:D((()=>[N(U(e.t("show_field_on_detail")),1)])),_:1})],64))]})),_:1}),I(c),I(d,{clickable:"",disabled:"half"===(null==(l=e.field.meta)?void 0:l.width)||"group"===e.localType,onClick:t[2]||(t[2]=t=>e.$emit("setWidth","half"))},{default:D((()=>[I(s,null,{default:D((()=>[I(o,{name:"border_vertical"})])),_:1}),I(r,null,{default:D((()=>[N(U(e.t("half_width")),1)])),_:1})])),_:1},8,["disabled"]),I(d,{clickable:"",disabled:"full"===(null==(a=e.field.meta)?void 0:a.width)||"group"===e.localType,onClick:t[3]||(t[3]=t=>e.$emit("setWidth","full"))},{default:D((()=>[I(s,null,{default:D((()=>[I(o,{name:"border_right"})])),_:1}),I(r,null,{default:D((()=>[N(U(e.t("full_width")),1)])),_:1})])),_:1},8,["disabled"]),I(d,{clickable:"",disabled:"fill"===(null==(i=e.field.meta)?void 0:i.width)||"group"===e.localType,onClick:t[4]||(t[4]=t=>e.$emit("setWidth","fill"))},{default:D((()=>[I(s,null,{default:D((()=>[I(o,{name:"aspect_ratio"})])),_:1}),I(r,null,{default:D((()=>[N(U(e.t("fill_width")),1)])),_:1})])),_:1},8,["disabled"]),I(c),I(d,{clickable:"",class:"danger",disabled:!0===(null==(n=e.field.schema)?void 0:n.is_primary_key)||e.noDelete,onClick:t[5]||(t[5]=t=>e.$emit("delete"))},{default:D((()=>[I(s,null,{default:D((()=>[I(o,{name:"delete",outline:""})])),_:1}),I(r,null,{default:D((()=>[N(U(e.t("delete_field")),1)])),_:1})])),_:1},8,["disabled"])]})),_:1})])),_:1})}]]),Draggable:Be},props:{field:{type:Object,required:!0},disabled:{type:Boolean,default:!1},fields:{type:Array,default:()=>[]}},emits:["setNestedSort"],setup(e,{emit:t}){const{t:l}=x(),a=ie(),i=pI(),n=vI(),{interfaces:o}=yl(),d=F(!1),{deleteActive:c,deleting:u,deleteField:p}=function(){const t=F(!1),l=F(!1);return{deleteActive:t,deleting:l,deleteField:async function(){await n.deleteField(e.field.collection,e.field.field),l.value=!1,t.value=!1}}}(),{duplicateActive:f,duplicateName:v,collections:_,duplicateTo:y,saveDuplicate:h,duplicating:g}=function(){const t=F(!1),a=F(e.field.field+"_copy"),o=F(!1),d=V((()=>i.collections.map((({collection:e})=>e)).filter((e=>!1===e.startsWith("directus_"))))),c=F(e.field.collection);return{duplicateActive:t,duplicateName:a,collections:d,duplicateTo:c,saveDuplicate:async function(){const i=r(s({},m.exports.cloneDeep(e.field)),{field:a.value,collection:c.value});i.meta&&(delete i.meta.id,delete i.meta.sort,delete i.meta.group);i.schema&&delete i.schema.comment;delete i.name,o.value=!0;try{await n.createField(c.value,i),Qh({title:l("field_create_success",{field:i.field}),type:"success"}),t.value=!1}catch(d){jy(d)}finally{o.value=!1}},duplicating:o}}(),b=V((()=>{var t;return null==(t=o.value.find((t=>{var l;return t.id===(null==(l=e.field.meta)?void 0:l.interface)})))?void 0:t.name})),k=V((()=>{var t;return!0===(null==(t=e.field.meta)?void 0:t.hidden)})),w=V((()=>hS(e.field.collection,e.field.field))),C=V((()=>e.fields.filter((t=>{var l,a;return(null==(l=t.meta)?void 0:l.group)===(null==(a=e.field.meta)?void 0:a.field)}))));return{t:l,interfaceName:b,editActive:d,setWidth:function(t){n.updateField(e.field.collection,e.field.field,{meta:{width:t}})},deleteActive:c,deleting:u,deleteField:p,duplicateActive:f,collections:_,duplicateName:v,duplicateTo:y,saveDuplicate:h,duplicating:g,openFieldDetail:async function(){e.field.meta||await n.updateField(e.field.collection,e.field.field,{meta:{}});a.push(`/settings/data-model/${e.field.collection}/${e.field.field}`)},hidden:k,toggleVisibility:function(){var t;n.updateField(e.field.collection,e.field.field,{meta:{hidden:!(null==(t=e.field.meta)?void 0:t.hidden)}})},localType:w,hideDragImage:VS,onGroupSortChange:async function(l){const a=l.map(((t,l)=>({field:t.field,meta:{sort:l+1,group:e.field.meta.field}})));t("setNestedSort",a)},nestedFields:C}}}),SS={class:"label"},ES={class:"name"},AS={class:"header full"},DS={class:"name"},IS={class:"label-inner"},FS={class:"name"},OS={key:0,class:"interface"},$S={key:1,class:"interface"},TS={class:"icons"},PS={class:"form-grid"},jS={class:"field"},LS={class:"type-label"},RS={class:"field"},MS={class:"type-label"};const US=w({name:"FieldsManagement",components:{Draggable:Be,FieldSelect:F_(CS,[["render",function(e,t,l,a,i,n){var o;const s=S("v-icon"),r=S("v-input"),d=S("field-select-menu"),c=S("field-select",!0),u=S("draggable"),p=S("v-card-title"),m=S("v-select"),f=S("v-card-text"),v=S("v-button"),_=S("v-card-actions"),y=S("v-card"),h=S("v-dialog"),g=q("tooltip");return E(),P("div",{class:H(["field-select",(null==(o=e.field.meta)?void 0:o.width)||"full"])},[e.disabled?(E(),A(r,{key:0,disabled:"",class:"field"},{prepend:D((()=>[z(I(s,{name:"lock"},null,512),[[g,e.t("system_fields_locked")]])])),input:D((()=>[j("div",SS,[j("span",ES,U(e.field.field),1)])])),_:1})):(E(),P(R,{key:1},["group"===e.localType?(E(),A(u,{key:0,class:"field-grid group full nested","model-value":e.nestedFields,"force-fallback":!0,handle:".drag-handle",group:{name:"fields"},"set-data":e.hideDragImage,animation:150,"item-key":"field","fallback-on-body":!0,"invert-swap":!0,"onUpdate:modelValue":e.onGroupSortChange},{header:D((()=>[j("div",AS,[I(s,{class:"drag-handle",name:"drag_indicator",onClick:t[0]||(t[0]=X((()=>{}),["stop"]))}),j("span",DS,U(e.field.field),1),e.hidden?z((E(),A(s,{key:0,name:"visibility_off",class:"hidden-icon",small:""},null,512)),[[g,e.t("hidden_field")]]):B("",!0),I(d,{field:e.field,"no-delete":e.nestedFields.length>0,onToggleVisibility:e.toggleVisibility,onSetWidth:t[1]||(t[1]=t=>e.setWidth(t)),onDuplicate:t[2]||(t[2]=t=>e.duplicateActive=!0),onDelete:t[3]||(t[3]=t=>e.deleteActive=!0)},null,8,["field","no-delete","onToggleVisibility"])])])),item:D((({element:l})=>[I(c,{field:l,fields:e.fields,onSetNestedSort:t[4]||(t[4]=t=>e.$emit("setNestedSort",t))},null,8,["field","fields"])])),_:1},8,["model-value","set-data","onUpdate:modelValue"])):(E(),A(r,{key:1,class:H(["field",{hidden:e.hidden}]),readonly:""},{prepend:D((()=>[I(s,{class:"drag-handle",name:"drag_indicator",onClick:t[5]||(t[5]=X((()=>{}),["stop"]))})])),input:D((()=>{var l;return[z(j("div",{class:"label",onClick:t[6]||(t[6]=(...t)=>e.openFieldDetail&&e.openFieldDetail(...t))},[j("div",IS,[j("span",FS,[N(U(e.field.field)+" ",1),!0===(null==(l=e.field.meta)?void 0:l.required)?(E(),A(s,{key:0,name:"star",class:"required",sup:""})):B("",!0)]),e.field.meta?(E(),P("span",OS,U(e.interfaceName),1)):(E(),P("span",$S,U(e.t("db_only_click_to_configure")),1))])],512),[[g,e.interfaceName?`${e.field.name} (${e.interfaceName})`:e.field.name]])]})),append:D((()=>[j("div",TS,[e.field.schema&&e.field.schema.is_primary_key?z((E(),A(s,{key:0,name:"vpn_key",small:""},null,512)),[[g,e.t("primary_key")]]):B("",!0),e.field.meta?B("",!0):z((E(),A(s,{key:1,name:"report_problem",class:"unmanaged",small:""},null,512)),[[g,e.t("db_only_click_to_configure")]]),e.hidden?z((E(),A(s,{key:2,name:"visibility_off",class:"hidden-icon",small:""},null,512)),[[g,e.t("hidden_field")]]):B("",!0),I(d,{field:e.field,onToggleVisibility:e.toggleVisibility,onSetWidth:t[7]||(t[7]=t=>e.setWidth(t)),onDuplicate:t[8]||(t[8]=t=>e.duplicateActive=!0),onDelete:t[9]||(t[9]=t=>e.deleteActive=!0)},null,8,["field","onToggleVisibility"])])])),_:1},8,["class"])),I(h,{modelValue:e.duplicateActive,"onUpdate:modelValue":t[13]||(t[13]=t=>e.duplicateActive=t),onEsc:t[14]||(t[14]=t=>e.duplicateActive=!1)},{default:D((()=>[I(y,{class:"duplicate"},{default:D((()=>[I(p,null,{default:D((()=>[N(U(e.t("duplicate_where_to")),1)])),_:1}),I(f,null,{default:D((()=>[j("div",PS,[j("div",jS,[j("span",LS,U(e.t("collection",0)),1),I(m,{modelValue:e.duplicateTo,"onUpdate:modelValue":t[10]||(t[10]=t=>e.duplicateTo=t),class:"monospace",items:e.collections},null,8,["modelValue","items"])]),j("div",RS,[j("span",MS,U(e.t("field",0)),1),I(r,{modelValue:e.duplicateName,"onUpdate:modelValue":t[11]||(t[11]=t=>e.duplicateName=t),class:"monospace","db-safe":"",autofocus:""},null,8,["modelValue"])])])])),_:1}),I(_,null,{default:D((()=>[I(v,{secondary:"",onClick:t[12]||(t[12]=t=>e.duplicateActive=!1)},{default:D((()=>[N(U(e.t("cancel")),1)])),_:1}),I(v,{disabled:null===e.duplicateName,loading:e.duplicating,onClick:e.saveDuplicate},{default:D((()=>[N(U(e.t("duplicate")),1)])),_:1},8,["disabled","loading","onClick"])])),_:1})])),_:1})])),_:1},8,["modelValue"]),I(h,{modelValue:e.deleteActive,"onUpdate:modelValue":t[16]||(t[16]=t=>e.deleteActive=t),onEsc:t[17]||(t[17]=t=>e.deleteActive=!1)},{default:D((()=>[I(y,null,{default:D((()=>[I(p,null,{default:D((()=>[N(U(e.t("delete_field_are_you_sure",{field:e.field.field})),1)])),_:1}),I(_,null,{default:D((()=>[I(v,{secondary:"",onClick:t[15]||(t[15]=t=>e.deleteActive=!1)},{default:D((()=>[N(U(e.t("cancel")),1)])),_:1}),I(v,{loading:e.deleting,kind:"danger",onClick:e.deleteField},{default:D((()=>[N(U(e.t("delete_label")),1)])),_:1},8,["loading","onClick"])])),_:1})])),_:1})])),_:1},8,["modelValue"])],64))],2)}],["__scopeId","data-v-74d956bd"]])},props:{collection:{type:String,required:!0}},setup(e){const{t:t}=x(),{collection:l}=T(e),{fields:a}=Xt(l),i=vI(),n=V((()=>m.exports.orderBy(a.value,[e=>{var t,l;return(null==(t=e.meta)?void 0:t.sort)?Number(null==(l=e.meta)?void 0:l.sort):null},e=>{var t;return null==(t=e.meta)?void 0:t.id}]).filter((e=>!1===e.field.startsWith("$"))))),o=V((()=>n.value.filter((e=>{var t;return!0===(null==(t=e.meta)?void 0:t.system)})))),s=V((()=>n.value.filter((e=>{var t;return!0!==(null==(t=e.meta)?void 0:t.system)})))),r=V((()=>[{type:"standard",icon:"create",text:t("standard_field")},{type:"presentation",icon:"scatter_plot",text:t("presentation_and_aliases")},{type:"group",icon:"view_in_ar",text:t("field_group")},{divider:!0},{type:"file",icon:"photo",text:t("single_file")},{type:"files",icon:"collections",text:t("multiple_files")},{divider:!0},{type:"m2o",icon:"call_merge",text:t("m2o_relationship")},{type:"o2m",icon:"call_split",text:t("o2m_relationship")},{type:"m2m",icon:"import_export",text:t("m2m_relationship")},{type:"m2a",icon:"gesture",text:t("m2a_relationship")},{divider:!0},{type:"translations",icon:"translate",text:t("translations")}]));return{t:t,usableFields:s,lockedFields:o,setSort:async function(e){const t=e.map(((e,t)=>({field:e.field,meta:{sort:t+1,group:null}})));await i.updateFields(l.value,t)},hideDragImage:VS,addOptions:r,setNestedSort:async function(e){(e=(e||[]).filter((e=>!1===m.exports.isNil(e)))).length>0&&await i.updateFields(l.value,e)},isNil:m.exports.isNil}}}),NS={class:"fields-management"},BS={key:0,class:"field-grid"};const qS=w({components:{SettingsNavigation:Zw,FieldsManagement:F_(US,[["render",function(e,t,l,a,i,n){const o=S("field-select"),s=S("draggable"),r=S("v-icon"),d=S("v-button"),c=S("v-divider"),u=S("v-list-item-icon"),p=S("v-list-item-content"),m=S("v-list-item"),f=S("v-list"),v=S("v-menu");return E(),P("div",NS,[e.lockedFields.length>0?(E(),P("div",BS,[(E(!0),P(R,null,M(e.lockedFields,(e=>(E(),A(o,{key:e.field,disabled:"",field:e},null,8,["field"])))),128))])):B("",!0),I(s,{class:"field-grid","model-value":e.usableFields.filter((t=>{var l;return e.isNil(null==(l=null==t?void 0:t.meta)?void 0:l.group)})),"force-fallback":!0,handle:".drag-handle",group:{name:"fields"},"set-data":e.hideDragImage,"item-key":"field",animation:150,"fallback-on-body":!0,"invert-swap":!0,"onUpdate:modelValue":e.setSort},{item:D((({element:t})=>[I(o,{field:t,fields:e.usableFields,onSetNestedSort:e.setNestedSort},null,8,["field","fields","onSetNestedSort"])])),_:1},8,["model-value","set-data","onUpdate:modelValue"]),I(v,{attached:""},{activator:D((({toggle:t,active:l})=>[I(d,{class:H(["add-field",{active:l}]),align:"left",dashed:!l,outlined:"",large:"","full-width":"",onClick:t},{default:D((()=>[I(r,{name:"add"}),N(" "+U(e.t("create_field")),1)])),_:2},1032,["dashed","class","onClick"])])),default:D((()=>[I(f,null,{default:D((()=>[(E(!0),P(R,null,M(e.addOptions,((t,l)=>(E(),P(R,{key:l},[!0===t.divider?(E(),A(c,{key:0})):(E(),A(m,{key:1,to:`/settings/data-model/${e.collection}/+?type=${t.type}`},{default:D((()=>[I(u,null,{default:D((()=>[I(r,{name:t.icon},null,8,["name"])])),_:2},1024),I(p,null,{default:D((()=>[N(U(t.text),1)])),_:2},1024)])),_:2},1032,["to"]))],64)))),128))])),_:1})])),_:1})])}],["__scopeId","data-v-015199c8"]])},props:{collection:{type:String,required:!0},field:{type:String,default:null},type:{type:String,default:null}},setup(e){const{t:t}=x(),l=ie(),{collection:a}=T(e),{info:i,fields:n}=Xt(a),o=pI(),s=vI(),{isNew:r,edits:d,item:c,saving:u,loading:p,error:m,save:f,remove:v,deleting:_,saveAsCopy:y,isBatch:h}=hg(F("directus_collections"),a),g=V((()=>Object.keys(d.value).length>0));return{t:t,collectionInfo:i,fields:n,confirmDelete:F(!1),isNew:r,edits:d,item:c,saving:u,loading:p,error:m,save:f,remove:v,deleting:_,saveAsCopy:y,isBatch:h,deleteAndQuit:async function(){await v(),await o.hydrate(),await s.hydrate(),l.push("/settings/data-model")},saveAndQuit:async function(){await f(),await o.hydrate(),await s.hydrate(),l.push("/settings/data-model")},hasEdits:g}}}),zS={class:"collections-item"},KS={class:"fields"},WS={class:"title type-label"},HS={class:"instant-save"},GS={class:"page-description"};var QS=F_(qS,[["render",function(e,t,l,a,i,n){const o=S("v-icon"),s=S("v-button"),r=S("v-card-title"),d=S("v-card-actions"),c=S("v-card"),u=S("v-dialog"),p=S("settings-navigation"),m=S("fields-management"),f=S("router-view"),v=S("v-form"),_=S("sidebar-detail"),y=S("private-view"),h=q("tooltip"),g=q("md");return E(),A(y,{title:e.collectionInfo&&e.collectionInfo.name},{headline:D((()=>[N(U(e.t("settings_data_model")),1)])),"title-outer:prepend":D((()=>[I(s,{class:"header-icon",rounded:"",icon:"",exact:"",to:"/settings/data-model"},{default:D((()=>[I(o,{name:"arrow_back"})])),_:1})])),actions:D((()=>[I(u,{modelValue:e.confirmDelete,"onUpdate:modelValue":t[1]||(t[1]=t=>e.confirmDelete=t),onEsc:t[2]||(t[2]=t=>e.confirmDelete=!1)},{activator:D((({on:t})=>[e.item&&!1===e.item.collection.startsWith("directus_")?z((E(),A(s,{key:0,rounded:"",icon:"",class:"action-delete",disabled:null===e.item,onClick:t},{default:D((()=>[I(o,{name:"delete",outline:""})])),_:2},1032,["disabled","onClick"])),[[h,e.t("delete_collection"),void 0,{bottom:!0}]]):B("",!0)])),default:D((()=>[I(c,null,{default:D((()=>[I(r,null,{default:D((()=>[N(U(e.t("delete_are_you_sure")),1)])),_:1}),I(d,null,{default:D((()=>[I(s,{secondary:"",onClick:t[0]||(t[0]=t=>e.confirmDelete=!1)},{default:D((()=>[N(U(e.t("cancel")),1)])),_:1}),I(s,{kind:"danger",loading:e.deleting,onClick:e.deleteAndQuit},{default:D((()=>[N(U(e.t("delete_label")),1)])),_:1},8,["loading","onClick"])])),_:1})])),_:1})])),_:1},8,["modelValue"]),z(I(s,{rounded:"",icon:"",loading:e.saving,disabled:!1===e.hasEdits,onClick:e.saveAndQuit},{default:D((()=>[I(o,{name:"check"})])),_:1},8,["loading","disabled","onClick"]),[[h,e.t("save"),void 0,{bottom:!0}]])])),navigation:D((()=>[I(p)])),sidebar:D((()=>[I(_,{icon:"info_outline",title:e.t("information"),close:""},{default:D((()=>[z(j("div",GS,null,512),[[g,e.t("page_help_settings_datamodel_fields")]])])),_:1},8,["title"])])),default:D((()=>[j("div",zS,[j("div",KS,[j("h2",WS,[N(U(e.t("fields_and_layout"))+" ",1),j("span",HS,U(e.t("saves_automatically")),1)]),I(m,{collection:e.collection},null,8,["collection"])]),I(f,{name:"field",collection:e.collection,field:e.field,type:e.type},null,8,["collection","field","type"]),I(v,{modelValue:e.edits.meta,"onUpdate:modelValue":t[3]||(t[3]=t=>e.edits.meta=t),collection:"directus_collections",loading:e.loading,"initial-values":e.item&&e.item.meta,"batch-mode":e.isBatch,"primary-key":e.collection,disabled:e.item&&e.item.collection.startsWith("directus_")},null,8,["modelValue","loading","initial-values","batch-mode","primary-key","disabled"])])])),_:1},8,["title"])}],["__scopeId","data-v-19414ab4"]]);const XS=w({setup(){const{t:e}=x(),t=ie(),l=pI(),a=vI(),i=VI(),n=vy(),o=F(["collection_setup"]),s=F(null),r=F(!1),d=F("id"),c=F("auto_int"),u=F(),p=F(),m=F(),f=F(),v=$({status:{enabled:!1,name:"status",label:"status",icon:"flag"},sort:{enabled:!1,name:"sort",label:"sort",icon:"low_priority"},dateCreated:{enabled:!1,name:"date_created",label:"created_on",icon:"access_time"},userCreated:{enabled:!1,name:"user_created",label:"created_by",icon:"account_circle"},dateUpdated:{enabled:!1,name:"date_updated",label:"updated_on",icon:"access_time"},userUpdated:{enabled:!1,name:"user_updated",label:"updated_by",icon:"account_circle"}}),_=F(!1);return{t:e,router:t,isOpen:n,currentTab:o,save:async function(){_.value=!0;try{await dI.post("/collections",{collection:s.value,fields:[y(),...h()],meta:{sort_field:u.value,archive_field:p.value,archive_value:m.value,unarchive_value:f.value,singleton:r.value}});const n=function(){const e=[];!0===v.userCreated.enabled&&e.push({collection:s.value,field:v.userCreated.name,related_collection:"directus_users"});!0===v.userUpdated.enabled&&e.push({collection:s.value,field:v.userUpdated.name,related_collection:"directus_users"});return e}();if(n.length>0){for(const e of n)await dI.post("/relations",e);await i.hydrate()}await l.hydrate(),await a.hydrate(),Qh({title:e("collection_created"),type:"success"}),t.push(`/settings/data-model/${s.value}`)}catch(n){jy(n)}finally{_.value=!1}},systemFields:v,primaryKeyFieldName:d,primaryKeyFieldType:c,collectionName:s,saving:_,singleton:r};function y(){return"uuid"===c.value?{field:d.value,type:"uuid",meta:{hidden:!0,readonly:!0,interface:"input",special:["uuid"]},schema:{is_primary_key:!0,length:36,has_auto_increment:!1}}:"manual"===c.value?{field:d.value,type:"string",meta:{interface:"input",readonly:!1,hidden:!1},schema:{is_primary_key:!0,length:255,has_auto_increment:!1}}:{field:d.value,type:"integer",meta:{hidden:!0,interface:"input",readonly:!0},schema:{is_primary_key:!0,has_auto_increment:!0}}}function h(){const e=[];return!0===v.status.enabled&&(e.push({field:v.status.name,type:"string",meta:{width:"full",options:{choices:[{text:"$t:published",value:"published"},{text:"$t:draft",value:"draft"},{text:"$t:archived",value:"archived"}]},interface:"select-dropdown",display:"labels",display_options:{showAsDot:!0,choices:[{background:"#00C897",value:"published"},{background:"#D3DAE4",value:"draft"},{background:"#F7971C",value:"archived"}]}},schema:{default_value:"draft",is_nullable:!1}}),p.value="status",m.value="archived",f.value="draft"),!0===v.sort.enabled&&(e.push({field:v.sort.name,type:"integer",meta:{interface:"input",hidden:!0},schema:{}}),u.value=v.sort.name),!0===v.userCreated.enabled&&e.push({field:v.userCreated.name,type:"uuid",meta:{special:["user-created"],interface:"select-dropdown-m2o",options:{template:"{{avatar.$thumbnail}} {{first_name}} {{last_name}}"},display:"user",readonly:!0,hidden:!0,width:"half"},schema:{}}),!0===v.dateCreated.enabled&&e.push({field:v.dateCreated.name,type:"timestamp",meta:{special:["date-created"],interface:"datetime",readonly:!0,hidden:!0,width:"half",display:"datetime",display_options:{relative:!0}},schema:{}}),!0===v.userUpdated.enabled&&e.push({field:v.userUpdated.name,type:"uuid",meta:{special:["user-updated"],interface:"select-dropdown-m2o",options:{template:"{{avatar.$thumbnail}} {{first_name}} {{last_name}}"},display:"user",readonly:!0,hidden:!0,width:"half"},schema:{}}),!0===v.dateUpdated.enabled&&e.push({field:v.dateUpdated.name,type:"timestamp",meta:{special:["date-updated"],interface:"datetime",readonly:!0,hidden:!0,width:"half",display:"datetime",display_options:{relative:!0}},schema:{}}),e}}}),JS={class:"grid"},YS={class:"field half"},ZS={class:"type-label"},eE={class:"field half"},tE={class:"type-label"},lE={class:"field half"},aE={class:"type-label"},iE={class:"field half"},nE={class:"type-label"},oE={class:"grid system"},sE={class:"type-label"};var rE=F_(XS,[["render",function(e,t,l,a,i,n){const o=S("v-tab"),s=S("v-tabs"),r=S("v-notice"),d=S("v-icon"),c=S("v-input"),u=S("v-checkbox"),p=S("v-divider"),m=S("v-select"),f=S("v-tab-item"),v=S("v-tabs-items"),_=S("v-button"),y=S("v-drawer"),h=q("tooltip");return E(),A(y,{title:e.t("creating_new_collection"),"model-value":e.isOpen,class:"new-collection",persistent:"","sidebar-label":e.t(e.currentTab[0]),onCancel:t[7]||(t[7]=t=>e.router.push("/settings/data-model"))},{sidebar:D((()=>[I(s,{modelValue:e.currentTab,"onUpdate:modelValue":t[0]||(t[0]=t=>e.currentTab=t),vertical:""},{default:D((()=>[I(o,{value:"collection_setup"},{default:D((()=>[N(U(e.t("collection_setup")),1)])),_:1}),I(o,{value:"optional_system_fields",disabled:!e.collectionName},{default:D((()=>[N(U(e.t("optional_system_fields")),1)])),_:1},8,["disabled"])])),_:1},8,["modelValue"])])),actions:D((()=>["collection_setup"===e.currentTab[0]?z((E(),A(_,{key:0,disabled:!e.collectionName||0===e.collectionName.length,icon:"",rounded:"",onClick:t[6]||(t[6]=t=>e.currentTab=["optional_system_fields"])},{default:D((()=>[I(d,{name:"arrow_forward"})])),_:1},8,["disabled"])),[[h,e.t("next"),void 0,{bottom:!0}]]):B("",!0),"optional_system_fields"===e.currentTab[0]?z((E(),A(_,{key:1,loading:e.saving,icon:"",rounded:"",onClick:e.save},{default:D((()=>[I(d,{name:"check"})])),_:1},8,["loading","onClick"])),[[h,e.t("finish_setup"),void 0,{bottom:!0}]]):B("",!0)])),default:D((()=>[I(v,{modelValue:e.currentTab,"onUpdate:modelValue":t[5]||(t[5]=t=>e.currentTab=t),class:"content"},{default:D((()=>[I(f,{value:"collection_setup"},{default:D((()=>[I(r,{type:"info"},{default:D((()=>[N(U(e.t("creating_collection_info")),1)])),_:1}),j("div",JS,[j("div",YS,[j("div",ZS,[N(U(e.t("name"))+" ",1),z(I(d,{class:"required",name:"star",sup:""},null,512),[[h,e.t("required")]])]),I(c,{modelValue:e.collectionName,"onUpdate:modelValue":t[1]||(t[1]=t=>e.collectionName=t),autofocus:"",class:"monospace","db-safe":"",placeholder:e.t("a_unique_table_name")},null,8,["modelValue","placeholder"])]),j("div",eE,[j("div",tE,U(e.t("singleton")),1),I(u,{modelValue:e.singleton,"onUpdate:modelValue":t[2]||(t[2]=t=>e.singleton=t),block:"",label:e.t("singleton_label")},null,8,["modelValue","label"])]),I(p,{class:"full"}),j("div",lE,[j("div",aE,U(e.t("primary_key_field")),1),I(c,{modelValue:e.primaryKeyFieldName,"onUpdate:modelValue":t[3]||(t[3]=t=>e.primaryKeyFieldName=t),class:"monospace","db-safe":"",placeholder:e.t("a_unique_column_name")},null,8,["modelValue","placeholder"])]),j("div",iE,[j("div",nE,U(e.t("type")),1),I(m,{modelValue:e.primaryKeyFieldType,"onUpdate:modelValue":t[4]||(t[4]=t=>e.primaryKeyFieldType=t),items:[{text:e.t("auto_increment_integer"),value:"auto_int"},{text:e.t("generated_uuid"),value:"uuid"},{text:e.t("manual_string"),value:"manual"}]},null,8,["modelValue","items"])])])])),_:1}),I(f,{value:"optional_system_fields"},{default:D((()=>[I(r,{type:"info"},{default:D((()=>[N(U(e.t("creating_collection_system")),1)])),_:1}),j("div",oE,[(E(!0),P(R,null,M(e.systemFields,((t,l,a)=>(E(),P("div",{key:l,class:H(["field",a%2==0?"half":"half-right"])},[j("div",sE,U(e.t(t.label)),1),I(c,{modelValue:t.name,"onUpdate:modelValue":e=>t.name=e,class:H(["monospace",{active:t.enabled}]),onFocus:e=>t.enabled=!0},{prepend:D((()=>[I(u,{modelValue:t.enabled,"onUpdate:modelValue":e=>t.enabled=e},null,8,["modelValue","onUpdate:modelValue"])])),append:D((()=>[I(d,{name:t.icon},null,8,["name"])])),_:2},1032,["modelValue","onUpdate:modelValue","class","onFocus"])],2)))),128))])])),_:1})])),_:1},8,["modelValue"])])),_:1},8,["title","model-value","sidebar-label"])}],["__scopeId","data-v-b29b45f4"]]);const dE=w({components:{SettingsNavigation:Zw},setup(){const{t:e}=x();return{t:e}}}),cE={class:"not-found"};var uE=F_(dE,[["render",function(e,t,l,a,i,n){const o=S("settings-navigation"),s=S("v-info"),r=S("private-view");return E(),A(r,{title:e.t("page_not_found")},{navigation:D((()=>[I(o)])),default:D((()=>[j("div",cE,[I(s,{title:e.t("page_not_found"),icon:"not_interested"},{default:D((()=>[N(U(e.t("page_not_found_body")),1)])),_:1},8,["title"])])])),_:1},8,["title"])}],["__scopeId","data-v-bf888afe"]]);const pE={class:"null"};var mE=F_({},[["render",function(e,t){return E(),P("span",pE,"--")}],["__scopeId","data-v-cf005d72"]]);const fE=w({setup(){const{t:e}=x(),t=F(!1),l=F(null),a=F(null);return async function(){t.value=!0;try{const e=await dI.get("/presets",{params:{"filter[bookmark][_nnull]":!0,fields:["id"],meta:"filter_count,total_count"}});l.value=e.data.meta.filter_count,a.value=e.data.meta.total_count-l.value}catch(e){jy(e)}finally{t.value=!1}}(),{t:e,bookmarksCount:l,presetsCount:a}}}),vE={class:"page-description"};const _E=w({components:{SettingsNavigation:Zw,ValueNull:mE,PresetsInfoSidebarDetail:F_(fE,[["render",function(e,t,l,a,i,n){const o=S("v-divider"),s=S("sidebar-detail"),r=q("md");return E(),A(s,{icon:"info_outline",title:e.t("information"),close:""},{default:D((()=>[j("dl",null,[j("div",null,[j("dt",null,U(e.t("bookmarks")),1),j("dd",null,U(e.bookmarksCount),1)]),j("div",null,[j("dt",null,U(e.t("presets")),1),j("dd",null,U(e.presetsCount),1)])]),I(o),z(j("div",vE,null,512),[[r,e.t("page_help_settings_presets_collection")]])])),_:1},8,["title"])}],["__scopeId","data-v-7ed28445"]])},setup(){const{t:e}=x(),t=ie(),{layouts:l}=xl(),a=pI(),i=F([]),{addNewLink:n}={addNewLink:V((()=>"/settings/presets/+"))},{loading:o,presets:s,getPresets:r}=m(),{headers:d}={headers:[{text:e("collection"),value:"collection",align:"left",sortable:!0,width:200},{text:e("scope"),value:"scope",align:"left",sortable:!0,width:200},{text:e("layout"),value:"layout",align:"left",sortable:!0,width:200},{text:e("name"),value:"name",align:"left",sortable:!0,width:200}]},{confirmDelete:c,deleting:u,deleteSelection:p}=function(){const e=F(!1),t=F(!1);return{confirmDelete:e,deleting:t,deleteSelection:async function(){t.value=!0;try{const l=i.value.map((e=>e.id));await dI.delete("/presets",{data:l}),i.value=[],await r(),e.value=!1}finally{t.value=!1}}}}();return r(),{t:e,addNewLink:n,usePresets:m,loading:o,presets:s,getPresets:r,headers:d,selection:i,onRowClick:function(e){0===i.value.length?t.push(`/settings/presets/${e.id}`):i.value.includes(e)?i.value=i.value.filter((t=>t!==e)):i.value=[...i.value,e]},confirmDelete:c,deleting:u,deleteSelection:p};function m(){const e=F(!1),t=F(null),i=V((()=>(t.value||[]).map((e=>{var t,i;let n="all";e.role&&(n=e.role.name),e.user&&(n=D_(e.user));const o=null==(t=a.getCollection(e.collection))?void 0:t.name,s=null==(i=l.value.find((t=>t.id===e.layout)))?void 0:i.name;return{id:e.id,scope:n,collection:o,layout:s,name:e.bookmark}}))));return{loading:e,presetsRaw:t,getPresets:async function(){e.value=!0;try{const l=await dI.get("/presets",{params:{fields:["id","bookmark","user.email","user.first_name","user.last_name","role.name","collection","layout"],limit:-1}});t.value=l.data.data}catch(l){jy(l)}finally{e.value=!1}},presets:i}}}}),yE={class:"presets-collection"},hE={key:1};var gE=F_(_E,[["render",function(e,t,l,a,i,n){const o=S("v-icon"),s=S("v-button"),r=S("v-card-title"),d=S("v-card-actions"),c=S("v-card"),u=S("v-dialog"),p=S("settings-navigation"),m=S("v-info"),f=S("value-null"),v=S("v-table"),_=S("presets-info-sidebar-detail"),y=S("private-view"),h=q("tooltip");return E(),A(y,{title:e.t("settings_presets")},{headline:D((()=>[N(U(e.t("settings")),1)])),"title-outer:prepend":D((()=>[I(s,{class:"header-icon",rounded:"",disabled:"",icon:"",secondary:""},{default:D((()=>[I(o,{name:"bookmark_border"})])),_:1})])),actions:D((()=>[e.selection.length>0?(E(),A(u,{key:0,modelValue:e.confirmDelete,"onUpdate:modelValue":t[1]||(t[1]=t=>e.confirmDelete=t),onEsc:t[2]||(t[2]=t=>e.confirmDelete=!1)},{activator:D((({on:t})=>[z(I(s,{rounded:"",icon:"",class:"action-delete",onClick:t},{default:D((()=>[I(o,{name:"delete",outline:""})])),_:2},1032,["onClick"]),[[h,e.t("delete_label"),void 0,{bottom:!0}]])])),default:D((()=>[I(c,null,{default:D((()=>[I(r,null,{default:D((()=>[N(U(e.t("batch_delete_confirm",e.selection.length)),1)])),_:1}),I(d,null,{default:D((()=>[I(s,{secondary:"",onClick:t[0]||(t[0]=t=>e.confirmDelete=!1)},{default:D((()=>[N(U(e.t("cancel")),1)])),_:1}),I(s,{kind:"danger",loading:e.deleting,onClick:e.deleteSelection},{default:D((()=>[N(U(e.t("delete_label")),1)])),_:1},8,["loading","onClick"])])),_:1})])),_:1})])),_:1},8,["modelValue"])):B("",!0),z(I(s,{rounded:"",icon:"",to:e.addNewLink},{default:D((()=>[I(o,{name:"add"})])),_:1},8,["to"]),[[h,e.t("create_preset"),void 0,{bottom:!0}]])])),navigation:D((()=>[I(p)])),sidebar:D((()=>[I(_)])),default:D((()=>[j("div",yE,[e.loading||0!==e.presets.length?(E(),A(v,{key:1,modelValue:e.selection,"onUpdate:modelValue":t[3]||(t[3]=t=>e.selection=t),headers:e.headers,"fixed-header":"",items:e.presets,loading:e.loading,"show-select":"","onClick:row":e.onRowClick},{"item.scope":D((({item:t})=>[j("span",{class:H({all:"all"===t.scope})},U("all"===t.scope?e.t("all"):t.scope),3)])),"item.layout":D((({item:e})=>[e.layout?(E(),P("span",hE,U(e.layout),1)):(E(),A(f,{key:0}))])),"item.name":D((({item:t})=>[j("span",{class:H({default:null===t.name})},U(null===t.name?e.t("default_label"):t.name),3)])),_:2},1032,["modelValue","headers","items","loading","onClick:row"])):(E(),A(m,{key:0,center:"",type:"warning",title:e.t("no_presets"),icon:"bookmark"},{append:D((()=>[I(s,{to:e.addNewLink},{default:D((()=>[N(U(e.t("no_presets_cta")),1)])),_:1},8,["to"])])),default:D((()=>[N(U(e.t("no_presets_copy"))+" ",1)])),_:1},8,["title"]))])])),_:1},8,["title"])}],["__scopeId","data-v-9a3af6f6"]]);const bE=w({components:{SettingsNavigation:Zw},props:{id:{type:String,default:null}},setup(e){const{t:t}=x(),l=ie(),a=pI(),i=xI(),{layouts:n}=xl(),{backLink:o}={backLink:V((()=>"/settings/presets"))},d=V((()=>"+"===e.id)),{loading:c,preset:u}=function(){const t=F(!1),l=F(null);return a(),{loading:t,preset:l,fetchPreset:a};async function a(){if("+"!==e.id){t.value=!0;try{const a=await dI.get(`/presets/${e.id}`);l.value=a.data.data}catch(a){jy(a)}finally{t.value=!1}}}}(),{fields:p}=function(){const e=["directus_users","directus_files","directus_activity"];return{fields:V((()=>[{field:"collection",name:t("collection"),type:"string",meta:{interface:"select-dropdown",options:{choices:a.collections.map((e=>({text:e.name,value:e.collection}))).filter((t=>!t.value.startsWith("directus_")||e.includes(t.value)))},width:"half"}},{field:"scope",name:t("scope"),type:"string",meta:{interface:"system-scope",width:"half"}},{field:"layout",name:t("layout"),type:"string",meta:{interface:"select-dropdown",options:{choices:n.value.map((e=>({text:e.name,value:e.id})))},width:"half"}},{field:"name",name:t("name"),type:"string",meta:{interface:"input",width:"half",options:{placeholder:t("preset_name_placeholder")}}},{field:"divider",name:t("divider"),type:"alias",meta:{interface:"presentation-divider",width:"fill",options:{title:t("layout_preview"),icon:"visibility"}}}]))}}(),{edits:m,hasEdits:f,initialValues:v,values:_,layoutQuery:y,layoutOptions:h,updateFilters:g,searchQuery:b}=function(){const e=F({}),t=V((()=>Object.keys(e.value).length>0)),l=V((()=>{const e={collection:null,layout:"tabular",search:null,scope:"all",layout_query:null,layout_options:null,filters:null};if(!0===d.value)return e;if(null===u.value)return e;let t="all";null!==u.value.user?t=`user_${u.value.user}`:null!==u.value.role&&(t=`role_${u.value.role}`);return{id:u.value.id,collection:u.value.collection,layout:u.value.layout,name:u.value.bookmark,search:u.value.search,scope:t,layout_query:u.value.layout_query,layout_options:u.value.layout_options,filters:u.value.filters}})),a=V((()=>s(s({},l.value),e.value))),i=V({get:()=>a.value.layout_query&&a.value.layout?a.value.layout_query[a.value.layout]:null,set(t){e.value=r(s({},e.value),{layout_query:r(s({},e.value.layout_query),{[a.value.layout||"tabular"]:t})})}}),n=V({get:()=>a.value.layout_options&&a.value.layout?a.value.layout_options[a.value.layout]:null,set(t){e.value=r(s({},e.value),{layout_options:r(s({},e.value.layout_options),{[a.value.layout||"tabular"]:t})})}}),o=V({get:()=>a.value.search,set(t){e.value=r(s({},e.value),{search:t})}});return{edits:e,initialValues:l,values:a,layoutQuery:i,layoutOptions:n,hasEdits:t,updateFilters:function(t){e.value=r(s({},e.value),{filters:t})},searchQuery:o}}(),{save:k,saving:w}=function(){const t=F(!1);return{saving:t,save:async function(){var a;t.value=!0;const n={};m.value.name&&(n.bookmark=m.value.name);0===(null==(a=m.value.name)?void 0:a.length)&&(n.bookmark=null);m.value.collection&&(n.collection=m.value.collection);m.value.layout&&(n.layout=m.value.layout);m.value.layout_query&&(n.layout_query=m.value.layout_query);m.value.layout_options&&(n.layout_options=m.value.layout_options);m.value.filters&&(n.filters=m.value.filters);n.search=m.value.search,m.value.scope&&(m.value.scope.startsWith("role_")?(n.role=m.value.scope.substring(5),n.user=null):m.value.scope.startsWith("user_")?(n.user=m.value.scope.substring(5),n.role=null):(n.role=null,n.user=null));try{!0===d.value?await dI.post("/presets",n):await dI.patch(`/presets/${e.id}`,n),await i.hydrate(),m.value={}}catch(o){jy(o)}finally{t.value=!1,l.push("/settings/presets")}}}}(),{deleting:C,deleteAndQuit:S,confirmDelete:E}=function(){const t=F(!1),a=F(!1);return{deleting:t,confirmDelete:a,deleteAndQuit:async function(){t.value=!0;try{await dI.delete(`/presets/${e.id}`),l.push("/settings/presets")}catch(a){jy(a)}finally{t.value=!1}}}}(),A=V({get:()=>_.value.filters||[],set(e){g(e)}}),D=V((()=>_.value.layout)),{layoutWrapper:I}=P_(D);return{t:t,backLink:o,loading:c,preset:u,edits:m,fields:p,values:_,initialValues:v,saving:w,save:k,layoutWrapper:I,layoutQuery:y,layoutOptions:h,layoutFilters:A,hasEdits:f,deleting:C,deleteAndQuit:S,confirmDelete:E,updateFilters:g,searchQuery:b}}}),kE={class:"preset-item"},wE={class:"layout"},xE={class:"page-description"},VE={class:"layout-sidebar"},CE={class:"layout-options"};var SE=F_(bE,[["render",function(e,t,l,a,i,n){const o=S("v-icon"),s=S("v-button"),r=S("settings-navigation"),d=S("v-card-title"),c=S("v-card-actions"),u=S("v-card"),p=S("v-dialog"),m=S("v-form"),f=S("v-info"),v=S("v-notice"),_=S("sidebar-detail"),y=S("v-input"),h=S("private-view"),g=q("tooltip"),b=q("md");return E(),A(L(e.layoutWrapper),{"layout-options":e.layoutOptions,"onUpdate:layout-options":t[5]||(t[5]=t=>e.layoutOptions=t),"layout-query":e.layoutQuery,"onUpdate:layout-query":t[6]||(t[6]=t=>e.layoutQuery=t),filters:e.layoutFilters,"onUpdate:filters":t[7]||(t[7]=t=>e.layoutFilters=t),"search-query":e.searchQuery,"onUpdate:search-query":t[8]||(t[8]=t=>e.searchQuery=t),collection:e.values.collection,readonly:""},{default:D((({layoutState:l})=>[I(h,{title:e.t("editing_preset")},{headline:D((()=>[N(U(e.t("settings_presets")),1)])),"title-outer:prepend":D((()=>[I(s,{class:"header-icon",rounded:"",icon:"",exact:"",to:e.backLink},{default:D((()=>[I(o,{name:"arrow_back"})])),_:1},8,["to"])])),navigation:D((()=>[I(r)])),actions:D((()=>[I(p,{modelValue:e.confirmDelete,"onUpdate:modelValue":t[1]||(t[1]=t=>e.confirmDelete=t),onEsc:t[2]||(t[2]=t=>e.confirmDelete=!1)},{activator:D((({on:t})=>[z(I(s,{rounded:"",icon:"",class:"action-delete",disabled:null===e.preset||"+"===e.id,onClick:t},{default:D((()=>[I(o,{name:"delete",outline:""})])),_:2},1032,["disabled","onClick"]),[[g,e.t("delete_label"),void 0,{bottom:!0}]])])),default:D((()=>[I(u,null,{default:D((()=>[I(d,null,{default:D((()=>[N(U(e.t("delete_are_you_sure")),1)])),_:1}),I(c,null,{default:D((()=>[I(s,{secondary:"",onClick:t[0]||(t[0]=t=>e.confirmDelete=!1)},{default:D((()=>[N(U(e.t("cancel")),1)])),_:1}),I(s,{kind:"danger",loading:e.deleting,onClick:e.deleteAndQuit},{default:D((()=>[N(U(e.t("delete_label")),1)])),_:1},8,["loading","onClick"])])),_:1})])),_:1})])),_:1},8,["modelValue"]),z(I(s,{icon:"",rounded:"",disabled:!1===e.hasEdits,loading:e.saving,onClick:e.save},{default:D((()=>[I(o,{name:"check"})])),_:1},8,["disabled","loading","onClick"]),[[g,e.t("save"),void 0,{bottom:!0}]])])),sidebar:D((()=>[I(_,{icon:"info_outline",title:e.t("information"),close:""},{default:D((()=>[z(j("div",xE,null,512),[[b,e.t("page_help_settings_presets_item")]])])),_:1},8,["title"]),j("div",VE,[I(_,{icon:"search",title:e.t("search")},{default:D((()=>[I(y,{modelValue:e.searchQuery,"onUpdate:modelValue":t[4]||(t[4]=t=>e.searchQuery=t),placeholder:e.t("preset_search_placeholder")},null,8,["modelValue","placeholder"])])),_:1},8,["title"]),e.values.layout&&e.values.collection?(E(),A(L(`layout-sidebar-${e.values.layout}`),J(Z({key:0},l)),null,16)):B("",!0),I(_,{icon:"layers",title:e.t("layout_options")},{default:D((()=>[j("div",CE,[e.values.layout&&e.values.collection?(E(),A(L(`layout-options-${e.values.layout}`),J(Z({key:0},l)),null,16)):B("",!0)])])),_:2},1032,["title"])])])),default:D((()=>[j("div",kE,[I(m,{modelValue:e.edits,"onUpdate:modelValue":t[3]||(t[3]=t=>e.edits=t),fields:e.fields,loading:e.loading,"initial-values":e.initialValues,"primary-key":e.id},null,8,["modelValue","fields","loading","initial-values","primary-key"]),j("div",wE,[e.values.layout&&e.values.collection?(E(),A(L(`layout-${e.values.layout}`),J(Z({key:0},l)),{"no-results":D((()=>[I(f,{title:e.t("no_results"),icon:"search",center:""},{default:D((()=>[N(U(e.t("no_results_copy")),1)])),_:1},8,["title"])])),"no-items":D((()=>[I(f,{title:e.t("item_count",0),center:""},{default:D((()=>[N(U(e.t("no_items_copy")),1)])),_:1},8,["title"])])),_:2},1040)):(E(),A(v,{key:1},{default:D((()=>[N(U(e.t("no_layout_collection_selected_yet")),1)])),_:1}))])])])),_:2},1032,["title"])])),_:1},8,["layout-options","layout-query","filters","search-query","collection"])}],["__scopeId","data-v-79d4d5a2"]]);const EE=w({setup(){const{t:e}=x(),{parsedInfo:t}=Yw();return{t:e,parsedInfo:t}}}),AE={key:0},DE={class:"page-description"};const IE=w({components:{SettingsNavigation:Zw,ProjectInfoSidebarDetail:F_(EE,[["render",function(e,t,l,a,i,n){const o=S("v-divider"),s=S("sidebar-detail"),r=q("md");return E(),A(s,{icon:"info_outline",title:e.t("information"),close:""},{default:D((()=>[e.parsedInfo?(E(),P("dl",AE,[j("div",null,[j("dt",null,U(e.t("directus_version")),1),j("dd",null,U(e.parsedInfo.directus.version),1)]),j("div",null,[j("dt",null,U(e.t("node_version")),1),j("dd",null,U(e.parsedInfo.node.version),1)]),j("div",null,[j("dt",null,U(e.t("node_uptime")),1),j("dd",null,U(e.parsedInfo.node.uptime),1)]),j("div",null,[j("dt",null,U(e.t("os_type")),1),j("dd",null,U(e.parsedInfo.os.type),1)]),j("div",null,[j("dt",null,U(e.t("os_version")),1),j("dd",null,U(e.parsedInfo.os.version),1)]),j("div",null,[j("dt",null,U(e.t("os_uptime")),1),j("dd",null,U(e.parsedInfo.os.uptime),1)]),j("div",null,[j("dt",null,U(e.t("os_totalmem")),1),j("dd",null,U(e.parsedInfo.os.totalmem),1)])])):B("",!0),I(o),z(j("div",DE,null,512),[[r,e.t("page_help_settings_project")]])])),_:1},8,["title"])}],["__scopeId","data-v-1a92ed59"]])},setup(){const{t:e}=x(),t=EI(),l=SI(),{fields:a}=Xt("directus_settings"),i=F(m.exports.clone(t.settings)),n=F(null),o=V((()=>null===n.value||0===Object.keys(n.value).length)),s=F(!1);return{t:e,fields:a,initialValues:i,edits:n,noEdits:o,saving:s,save:async function(){if(null===n.value)return;s.value=!0,await t.updateSettings(n.value),await l.hydrate(),n.value=null,s.value=!1,i.value=m.exports.clone(t.settings)}}}}),FE={class:"settings"};var OE=F_(IE,[["render",function(e,t,l,a,i,n){const o=S("v-icon"),s=S("v-button"),r=S("settings-navigation"),d=S("v-form"),c=S("project-info-sidebar-detail"),u=S("private-view"),p=q("tooltip");return E(),A(u,{title:e.t("settings_project")},{headline:D((()=>[N(U(e.t("settings")),1)])),"title-outer:prepend":D((()=>[I(s,{class:"header-icon",rounded:"",disabled:"",icon:"",secondary:""},{default:D((()=>[I(o,{name:"public"})])),_:1})])),actions:D((()=>[z(I(s,{icon:"",rounded:"",disabled:e.noEdits,loading:e.saving,onClick:e.save},{default:D((()=>[I(o,{name:"check"})])),_:1},8,["disabled","loading","onClick"]),[[p,e.t("save"),void 0,{bottom:!0}]])])),navigation:D((()=>[I(r)])),sidebar:D((()=>[I(c)])),default:D((()=>[j("div",FE,[I(d,{modelValue:e.edits,"onUpdate:modelValue":t[0]||(t[0]=t=>e.edits=t),"initial-values":e.initialValues,fields:e.fields,"primary-key":1},null,8,["modelValue","initial-values","fields"])])])),_:1},8,["title"])}],["__scopeId","data-v-19a96852"]]);const $E=[{collection:"directus_files",action:"create",permissions:{},fields:["*"]},{collection:"directus_files",action:"read",permissions:{},fields:["*"]},{collection:"directus_files",action:"update",permissions:{},fields:["*"]},{collection:"directus_files",action:"delete",permissions:{},fields:["*"]},{collection:"directus_dashboards",action:"create",permissions:{},fields:["*"]},{collection:"directus_dashboards",action:"read",permissions:{},fields:["*"]},{collection:"directus_dashboards",action:"update",permissions:{},fields:["*"]},{collection:"directus_dashboards",action:"delete",permissions:{},fields:["*"]},{collection:"directus_panels",action:"create",permissions:{},fields:["*"]},{collection:"directus_panels",action:"read",permissions:{},fields:["*"]},{collection:"directus_panels",action:"update",permissions:{},fields:["*"]},{collection:"directus_panels",action:"delete",permissions:{},fields:["*"]},{collection:"directus_folders",action:"create",permissions:{},fields:["*"]},{collection:"directus_folders",action:"read",permissions:{},fields:["*"]},{collection:"directus_folders",action:"update",permissions:{},fields:["*"]},{collection:"directus_folders",action:"delete",permissions:{}},{collection:"directus_users",action:"read",permissions:{}},{collection:"directus_users",action:"update",permissions:{id:{_eq:"$CURRENT_USER"}},fields:["first_name","last_name","email","password","location","title","description","avatar","language","theme"]},{collection:"directus_roles",action:"read",permissions:{},fields:["*"]}],TE=[{collection:"directus_activity",action:"read",permissions:{user:{_eq:"$CURRENT_USER"}}},{collection:"directus_activity",action:"create",validation:{comment:{_nnull:!0}}},{collection:"directus_collections",action:"read"},{collection:"directus_fields",action:"read"},{collection:"directus_permissions",action:"read",permissions:{role:{_eq:"$CURRENT_ROLE"}}},{collection:"directus_presets",action:"read",permissions:{_or:[{user:{_eq:"$CURRENT_USER"}},{_and:[{user:{_null:!0}},{role:{_eq:"$CURRENT_ROLE"}}]},{_and:[{user:{_null:!0}},{role:{_null:!0}}]}]}},{collection:"directus_presets",action:"create",validation:[{user:null,_eq:"$CURRENT_USER"}]},{collection:"directus_presets",action:"update",permissions:{user:{_eq:"$CURRENT_USER"}}},{collection:"directus_presets",action:"delete",permissions:{user:{_eq:"$CURRENT_USER"}}},{collection:"directus_relations",action:"read"},{collection:"directus_roles",action:"read",permissions:{id:{_eq:"$CURRENT_ROLE"}}},{collection:"directus_settings",action:"read"},{collection:"directus_users",action:"read",permissions:{id:{_eq:"$CURRENT_USER"}},fields:["id","first_name","last_name","email","password","location","title","description","tags","preferences_divider","avatar","language","theme","tfa_secret","status","role"]}];const PE=w({setup(){const{t:e}=x(),t=ie(),l=vy(),a=F(null),i=F(!0),n=F(!1),{saving:o,save:d}=function(){const e=F(!1);return{saving:e,save:async function(){e.value=!0;try{const l=await dI.post("/roles",{name:a.value,admin_access:n.value,app_access:i.value});!0===i.value&&!1===n.value&&await dI.post("/permissions",$E.map((e=>r(s({},e),{role:l.data.data.id})))),t.push(`/settings/roles/${l.data.data.id}`)}catch(l){jy(l)}finally{e.value=!1}}}}();return{t:e,router:t,isOpen:l,roleName:a,saving:o,save:d,appAccess:i,adminAccess:n}}}),jE={class:"form-grid"},LE={class:"field full"},RE={class:"field half"},ME={class:"type-label"},UE={class:"field half"},NE={class:"type-label"};var BE=F_(PE,[["render",function(e,t,l,a,i,n){const o=S("v-card-title"),s=S("v-input"),r=S("v-checkbox"),d=S("v-card-text"),c=S("v-button"),u=S("v-card-actions"),p=S("v-card"),m=S("v-dialog");return E(),A(m,{"model-value":e.isOpen,persistent:"",onEsc:t[3]||(t[3]=t=>e.router.push("/settings/roles"))},{default:D((()=>[I(p,null,{default:D((()=>[I(o,null,{default:D((()=>[N(U(e.t("create_role")),1)])),_:1}),I(d,null,{default:D((()=>[j("div",jE,[j("div",LE,[I(s,{modelValue:e.roleName,"onUpdate:modelValue":t[0]||(t[0]=t=>e.roleName=t),autofocus:"",placeholder:e.t("role_name")+"...",onKeyup:re(e.save,["enter"])},null,8,["modelValue","placeholder","onKeyup"])]),j("div",RE,[j("p",ME,U(e.t("fields.directus_roles.app_access")),1),I(r,{modelValue:e.appAccess,"onUpdate:modelValue":t[1]||(t[1]=t=>e.appAccess=t),block:"",label:e.t("enabled")},null,8,["modelValue","label"])]),j("div",UE,[j("p",NE,U(e.t("fields.directus_roles.admin_access")),1),I(r,{modelValue:e.adminAccess,"onUpdate:modelValue":t[2]||(t[2]=t=>e.adminAccess=t),block:"",label:e.t("enabled")},null,8,["modelValue","label"])])])])),_:1}),I(u,null,{default:D((()=>[I(c,{to:"/settings/roles",secondary:""},{default:D((()=>[N(U(e.t("cancel")),1)])),_:1}),I(c,{disabled:null===e.roleName,loading:e.saving,onClick:e.save},{default:D((()=>[N(U(e.t("save")),1)])),_:1},8,["disabled","loading","onClick"])])),_:1})])),_:1})])),_:1},8,["model-value"])}],["__scopeId","data-v-2bf24ab7"]]);const qE=w({name:"RolesCollection",components:{SettingsNavigation:Zw,ValueNull:mE},props:{},setup(){const{t:e}=x(),t=ie(),l=F([]),a=F(!1),i=[{text:"",value:"icon",sortable:!1,width:42,align:"left"},{text:e("name"),value:"name",sortable:!1,width:140,align:"left"},{text:e("users"),value:"count",sortable:!1,width:140,align:"left"},{text:e("description"),value:"description",sortable:!1,width:470,align:"left"}];!async function(){a.value=!0;try{const t=await dI.get("/roles",{params:{limit:-1,fields:"id,name,description,icon,users.id",sort:"name"}});l.value=[{public:!0,name:e("public_label"),icon:"public",description:e("public_description"),id:"public"},...t.data.data.map((e=>r(s({},e),{count:(e.users||[]).length})))]}catch(t){jy(t)}finally{a.value=!1}}();const n=V((()=>"/settings/roles/+"));return{t:e,loading:a,roles:l,tableHeaders:i,addNewLink:n,navigateToRole:function(e){t.push(`/settings/roles/${e.id}`)}}}}),zE={class:"page-description"},KE={class:"roles"},WE={class:"description"};var HE=F_(qE,[["render",function(e,t,l,a,i,n){const o=S("v-icon"),s=S("v-button"),r=S("settings-navigation"),d=S("sidebar-detail"),c=S("value-null"),u=S("v-table"),p=S("router-view"),m=S("private-view"),f=q("tooltip"),v=q("md");return E(),A(m,{title:e.t("settings_permissions")},{headline:D((()=>[N(U(e.t("settings")),1)])),"title-outer:prepend":D((()=>[I(s,{class:"header-icon",rounded:"",disabled:"",icon:"",secondary:""},{default:D((()=>[I(o,{name:"admin_panel_settings",outline:""})])),_:1})])),actions:D((()=>[z(I(s,{rounded:"",icon:"",to:e.addNewLink},{default:D((()=>[I(o,{name:"add"})])),_:1},8,["to"]),[[f,e.t("create_role"),void 0,{bottom:!0}]])])),navigation:D((()=>[I(r)])),sidebar:D((()=>[I(d,{icon:"info_outline",title:e.t("information"),close:""},{default:D((()=>[z(j("div",zE,null,512),[[v,e.t("page_help_settings_roles_collection")]])])),_:1},8,["title"])])),default:D((()=>[j("div",KE,[I(u,{items:e.roles,headers:e.tableHeaders,"fixed-header":"","item-key":"id",loading:e.loading,"onClick:row":e.navigateToRole},{"item.icon":D((({item:e})=>[I(o,{class:H(["icon",{public:e.public}]),name:e.icon},null,8,["name","class"])])),"item.name":D((({item:e})=>[j("span",{class:H(["name",{public:e.public}])},U(e.name),3)])),"item.count":D((({item:e})=>[e.public?(E(),A(c,{key:0})):B("",!0)])),"item.description":D((({item:e})=>[j("span",WE,U(e.description),1)])),_:2},1032,["items","headers","loading","onClick:row"])]),I(p,{name:"add"})])),_:1},8,["title"])}],["__scopeId","data-v-7d1c4240"]]);const GE=w({props:{isNew:{type:Boolean,default:!1},role:{type:Object,default:null}},setup(){const{t:e}=x();return{t:e}}}),QE={key:0},XE={class:"page-description"};var JE=F_(GE,[["render",function(e,t,l,a,i,n){const o=S("v-divider"),s=S("sidebar-detail"),r=q("md");return E(),A(s,{icon:"info_outline",title:e.t("information"),close:""},{default:D((()=>[!e.isNew&&e.role?(E(),P("dl",QE,[j("div",null,[j("dt",null,U(e.t("primary_key")),1),j("dd",null,U(e.role.id),1)])])):B("",!0),I(o),z(j("div",XE,null,512),[[r,e.t("page_help_settings_roles_item")]])])),_:1},8,["title"])}],["__scopeId","data-v-b5c69570"]]);const YE=w({setup(){const{t:e}=x();return{t:e}}}),ZE={class:"permissions-overview-header"},eA={class:"name"};var tA=F_(YE,[["render",function(e,t,l,a,i,n){const o=S("v-icon"),s=q("tooltip");return E(),P("div",ZE,[j("span",eA,U(e.t("collection")),1),z(I(o,{name:"add"},null,512),[[s,e.t("create")]]),z(I(o,{name:"visibility"},null,512),[[s,e.t("read")]]),z(I(o,{name:"edit",outline:""},null,512),[[s,e.t("update")]]),z(I(o,{name:"delete",outline:""},null,512),[[s,e.t("delete_label")]])])}],["__scopeId","data-v-1a0c28fc"]]);function lA(e,t,l){const a=F(!1),i=ae("refresh-permissions");return{getPermission:n,setFullAccess:async function(t){if(!0===a.value)return;a.value=!0,null===e.value.meta&&await dI.patch(`/collections/${e.value.collection}`,{meta:{}});const o=n(t);if(o)try{await dI.patch(`/permissions/${o.id}`,{fields:"*",permissions:{},validation:{}})}catch(s){jy(s)}finally{await(null==i?void 0:i()),a.value=!1}else try{await dI.post("/permissions/",{role:l.value,collection:e.value.collection,action:t,fields:"*",permissions:{},validation:{}})}catch(s){jy(s)}finally{await(null==i?void 0:i()),a.value=!1}},setNoAccess:async function(e){if(!0===a.value)return;const t=n(e);if(!t)return;a.value=!0;try{await dI.delete(`/permissions/${t.id}`)}catch(l){jy(l)}finally{await(null==i?void 0:i()),a.value=!1}},setFullAccessAll:async function(){if(!0===a.value)return;a.value=!0,null===e.value.meta&&await dI.patch(`/collections/${e.value.collection}`,{meta:{}});await Promise.all(["create","read","update","delete"].map((async t=>{const a=n(t);if(a)try{await dI.patch(`/permissions/${a.id}`,{fields:"*",permissions:{},validation:{}})}catch(i){jy(i)}else try{await dI.post("/permissions/",{role:l.value,collection:e.value.collection,action:t,fields:"*",permissions:{},validation:{}})}catch(i){jy(i)}}))),await(null==i?void 0:i()),a.value=!1},setNoAccessAll:async function(){if(!0===a.value)return;a.value=!0;try{await dI.delete("/permissions",{data:t.value.map((e=>e.id))})}catch(e){jy(e)}finally{await(null==i?void 0:i()),a.value=!1}}};function n(e){return t.value.find((t=>t.action===e))}}const aA=w({props:{collection:{type:Object,required:!0},role:{type:String,default:null},action:{type:String,required:!0},permissions:{type:Array,default:null},loading:{type:Boolean,default:!1},appMinimal:{type:[Boolean,Object],default:!1}},setup(e){const{t:t}=x(),l=ie(),{collection:a,role:i,permissions:n}=T(e),{setFullAccess:o,setNoAccess:s,getPermission:r}=lA(a,n,i),d=V((()=>r(e.action))),c=V((()=>{var e;return void 0===d.value?"none":(null==(e=d.value.fields)?void 0:e.includes("*"))&&0===Object.keys(d.value.permissions||{}).length&&0===Object.keys(d.value.validation||{}).length?"all":"custom"})),u=F(!1),p=ae("refresh-permissions"),m=V((()=>!1===e.appMinimal?null:2===Object.keys(e.appMinimal).length?"full":"partial"));return{t:t,permissionLevel:c,saving:u,setFullAccess:o,setNoAccess:s,openPermissions:async function(){null===e.collection.meta&&await dI.patch(`/collections/${e.collection.collection}`,{meta:{}});if(d.value)l.push(`/settings/roles/${e.role||"public"}/${d.value.id}`);else{u.value=!0;const t=await dI.post("/permissions",{role:e.role,collection:e.collection.collection,action:e.action});await(null==p?void 0:p()),u.value=!1,l.push(`/settings/roles/${e.role||"public"}/${t.data.data.id}`)}},appMinimalLevel:m}}});const iA=w({components:{PermissionsOverviewToggle:F_(aA,[["render",function(e,t,l,a,i,n){const o=S("v-icon"),s=S("v-progress-circular"),r=S("v-list-item-icon"),d=S("v-list-item-content"),c=S("v-list-item"),u=S("v-divider"),p=S("v-list"),m=S("v-menu"),f=q("tooltip");return z((E(),P("div",{class:H(["permissions-overview-toggle",[{"has-app-minimal":!!e.appMinimal},e.permissionLevel,e.appMinimalLevel]])},["full"===e.appMinimalLevel?(E(),A(o,{key:0,name:"check",class:"all app-minimal"})):(E(),A(m,{key:1,"show-arrow":""},{activator:D((({toggle:t})=>[j("div",null,[e.loading||e.saving?(E(),A(s,{key:0,indeterminate:"",small:""})):"all"===e.permissionLevel?(E(),A(o,{key:1,clickable:"",name:"check",onClick:t},null,8,["onClick"])):"partial"===e.appMinimalLevel||"custom"===e.permissionLevel?(E(),A(o,{key:2,clickable:"",name:"rule",onClick:t},null,8,["onClick"])):"none"===e.permissionLevel?(E(),A(o,{key:3,clickable:"",name:"block",onClick:t},null,8,["onClick"])):B("",!0)])])),default:D((()=>[I(p,null,{default:D((()=>[I(c,{disabled:"all"===e.permissionLevel,clickable:"",onClick:t[0]||(t[0]=t=>e.setFullAccess(e.action))},{default:D((()=>[I(r,null,{default:D((()=>[I(o,{name:"check"})])),_:1}),I(d,null,{default:D((()=>[N(U(e.t("all_access")),1)])),_:1})])),_:1},8,["disabled"]),!1==!!e.appMinimalLevel?(E(),A(c,{key:0,disabled:"none"===e.permissionLevel,clickable:"",onClick:t[1]||(t[1]=t=>e.setNoAccess(e.action))},{default:D((()=>[I(r,null,{default:D((()=>[I(o,{name:"block"})])),_:1}),I(d,null,{default:D((()=>[N(U(e.t("no_access")),1)])),_:1})])),_:1},8,["disabled"])):B("",!0),I(u),I(c,{clickable:"",onClick:e.openPermissions},{default:D((()=>[I(r,null,{default:D((()=>[I(o,{name:"rule"})])),_:1}),I(d,null,{default:D((()=>[N(U(e.t("use_custom")),1)])),_:1}),I(r,null,{default:D((()=>[I(o,{name:"launch"})])),_:1})])),_:1},8,["onClick"])])),_:1})])),_:1}))],2)),[[f,e.appMinimal&&e.t("required_for_app_access")]])}],["__scopeId","data-v-169ac11c"]])},props:{role:{type:String,default:null},collection:{type:Object,required:!0},permissions:{type:Array,required:!0},refreshing:{type:Array,required:!0},appMinimal:{type:[Boolean,Array],default:!1}},setup(e){const{t:t}=x(),{collection:l,role:a,permissions:i}=T(e),{setFullAccessAll:n,setNoAccessAll:o,getPermission:s}=lA(l,i,a);return{t:t,getPermission:s,isLoading:function(t){const l=s(t);return!!l&&e.refreshing.includes(l.id)},setFullAccessAll:n,setNoAccessAll:o}}}),nA={class:"permissions-overview-row"},oA={class:"name"},sA={class:"actions"},rA=(e=>(K("data-v-fb90f180"),e=e(),W(),e))((()=>j("span",{class:"divider"},"/",-1)));const dA=w({components:{PermissionsOverviewHeader:tA,PermissionsOverviewRow:F_(iA,[["render",function(e,t,l,a,i,n){const o=S("permissions-overview-toggle");return E(),P("div",nA,[j("span",oA,[N(U(e.collection.name)+" ",1),j("span",sA,[j("span",{class:"all",onClick:t[0]||(t[0]=(...t)=>e.setFullAccessAll&&e.setFullAccessAll(...t))},U(e.t("all")),1),rA,j("span",{class:"none",onClick:t[1]||(t[1]=(...t)=>e.setNoAccessAll&&e.setNoAccessAll(...t))},U(e.t("none")),1)])]),I(o,{action:"create",collection:e.collection,role:e.role,permissions:e.permissions,loading:e.isLoading("create"),"app-minimal":e.appMinimal&&e.appMinimal.find((e=>"create"===e.action))},null,8,["collection","role","permissions","loading","app-minimal"]),I(o,{action:"read",collection:e.collection,role:e.role,permissions:e.permissions,loading:e.isLoading("read"),"app-minimal":e.appMinimal&&e.appMinimal.find((e=>"read"===e.action))},null,8,["collection","role","permissions","loading","app-minimal"]),I(o,{action:"update",collection:e.collection,role:e.role,permissions:e.permissions,loading:e.isLoading("update"),"app-minimal":e.appMinimal&&e.appMinimal.find((e=>"update"===e.action))},null,8,["collection","role","permissions","loading","app-minimal"]),I(o,{action:"delete",collection:e.collection,role:e.role,permissions:e.permissions,loading:e.isLoading("delete"),"app-minimal":e.appMinimal&&e.appMinimal.find((e=>"delete"===e.action))},null,8,["collection","role","permissions","loading","app-minimal"])])}],["__scopeId","data-v-fb90f180"]])},props:{role:{type:String,default:null},permission:{type:String,default:null},appAccess:{type:Boolean,default:!1}},setup(e){const{t:t}=x(),l=pI(),a=V((()=>l.collections.filter((e=>!1===e.collection.startsWith("directus_"))))),i=V((()=>m.exports.orderBy(l.collections.filter((e=>!0===e.collection.startsWith("directus_"))),"name"))),n=F(!1),{permissions:o,loading:d,fetchPermissions:c,refreshPermission:u,refreshing:p}=function(){const t=F([]),l=F(!1),a=F([]);return{permissions:t,loading:l,fetchPermissions:async function(){l.value=!0;try{const a={filter:{role:{}},limit:-1};null===e.role?a.filter.role={_null:!0}:a.filter.role={_eq:e.role};const i=await dI.get("/permissions",{params:a});t.value=i.data.data}catch(a){jy(a)}finally{l.value=!1}},refreshPermission:async function(e){!1===a.value.includes(e)&&a.value.push(e);try{const l=await dI.get(`/permissions/${e}`);t.value=t.value.map((t=>t.id===e?l.data.data:t))}catch(l){jy(l)}finally{a.value=a.value.filter((t=>t!==e))}},refreshing:a}}(),{resetActive:f,resetSystemPermissions:v,resetting:_,resetError:y}=function(){const t=F(!1),l=F(!1),a=F(null);return{resetActive:t,resetSystemPermissions:async function(i){l.value=!0;const n=o.value.filter((e=>e.collection.startsWith("directus_"))).map((e=>e.id));try{n.length>0&&await dI.delete("/permissions",{data:n}),null!==e.role&&!0===e.appAccess&&!0===i&&await dI.post("/permissions",$E.map((t=>r(s({},t),{role:e.role})))),await c(),t.value=!1}catch(d){a.value=d}finally{l.value=!1}},resetting:l,resetError:a}}();return c(),O((()=>e.permission),c,{immediate:!0}),le("refresh-permissions",c),{t:t,systemVisible:n,regularCollections:a,systemCollections:i,permissions:o,loading:d,fetchPermissions:c,refreshPermission:u,refreshing:p,resetActive:f,resetSystemPermissions:v,resetting:_,resetError:y,appMinimalPermissions:TE}}}),cA={class:"permissions-overview"},uA={class:"title type-label"},pA={class:"instant-save"},mA={class:"table"},fA={key:0},vA={key:0,class:"reset-toggle"},_A=N(" / ");var yA=F_(dA,[["render",function(e,t,l,a,i,n){const o=S("permissions-overview-header"),s=S("permissions-overview-row"),r=S("v-icon"),d=S("transition-expand"),c=S("router-view"),u=S("v-card-title"),p=S("v-button"),m=S("v-card-actions"),f=S("v-card"),v=S("v-dialog");return E(),P("div",cA,[j("h2",uA,[N(U(e.t("permissions"))+" ",1),j("span",pA,U(e.t("saves_automatically")),1)]),j("div",mA,[I(o),(E(!0),P(R,null,M(e.regularCollections,(t=>(E(),A(s,{key:t.collection,collection:t,role:e.role,permissions:e.permissions.filter((e=>e.collection===t.collection)),refreshing:e.refreshing},null,8,["collection","role","permissions","refreshing"])))),128)),j("button",{class:"system-toggle",onClick:t[0]||(t[0]=t=>e.systemVisible=!e.systemVisible)},[N(U(e.t("system_collections"))+" ",1),I(r,{name:e.systemVisible?"expand_less":"expand_more"},null,8,["name"])]),I(d,null,{default:D((()=>[e.systemVisible?(E(),P("div",fA,[(E(!0),P(R,null,M(e.systemCollections,(t=>(E(),A(s,{key:t.collection,collection:t,role:e.role,permissions:e.permissions.filter((e=>e.collection===t.collection)),refreshing:e.refreshing,"app-minimal":e.appAccess&&e.appMinimalPermissions.filter((e=>e.collection===t.collection))},null,8,["collection","role","permissions","refreshing","app-minimal"])))),128))])):B("",!0)])),_:1}),e.systemVisible&&e.appAccess?(E(),P("span",vA,[N(U(e.t("reset_system_permissions_to"))+" ",1),j("button",{onClick:t[1]||(t[1]=t=>e.resetActive="minimum")},U(e.t("app_access_minimum")),1),_A,j("button",{onClick:t[2]||(t[2]=t=>e.resetActive="recommended")},U(e.t("recommended_defaults")),1)])):B("",!0)]),I(c,{name:"permissionsDetail","role-key":e.role,"permission-key":e.permission},null,8,["role-key","permission-key"]),I(v,{"model-value":!!e.resetActive,"onUpdate:modelValue":t[5]||(t[5]=t=>e.resetActive=!1),onEsc:t[6]||(t[6]=t=>e.resetActive=!1)},{default:D((()=>[I(f,null,{default:D((()=>[I(u,null,{default:D((()=>[N(U(e.t("reset_system_permissions_copy")),1)])),_:1}),I(m,null,{default:D((()=>[I(p,{secondary:"",onClick:t[3]||(t[3]=t=>e.resetActive=!1)},{default:D((()=>[N(U(e.t("cancel")),1)])),_:1}),I(p,{loading:e.resetting,onClick:t[4]||(t[4]=t=>e.resetSystemPermissions("recommended"===e.resetActive))},{default:D((()=>[N(U(e.t("reset")),1)])),_:1},8,["loading"])])),_:1})])),_:1})])),_:1},8,["model-value"])])}],["__scopeId","data-v-27027bc8"]]);const hA=w({props:{modelValue:{type:Boolean,default:!1},role:{type:String,default:null}},emits:["update:modelValue"],setup(e,{emit:t}){const{t:l}=x(),a=F(""),i=F([]),n=F(e.role),o=F(!1),s=F([]);return O((()=>e.modelValue),(()=>{!async function(){const e=await dI.get("/roles");i.value=e.data.data.map((e=>({text:e.name,value:e.id}))),i.value.length>0&&null===n.value&&(n.value=i.value[0].value)}()})),{t:l,emails:a,inviteUsers:async function(){var e,l,i,r,d,c;o.value=!0;try{const e=a.value.split(/,|\n/).filter((e=>e)).map((e=>e.trim()));await dI.post("/users/invite",{email:e,role:n.value}),a.value="",t("update:modelValue",!1)}catch(u){s.value=null==(i=null==(l=null==(e=null==u?void 0:u.response)?void 0:e.data)?void 0:l.errors)?void 0:i.filter((e=>{var t;return"RECORD_NOT_UNIQUE"===(null==(t=e.extensions)?void 0:t.code)}));const t=null==(c=null==(d=null==(r=null==u?void 0:u.response)?void 0:r.data)?void 0:d.errors)?void 0:c.filter((e=>{var t;return"RECORD_NOT_UNIQUE"!==(null==(t=null==e?void 0:e.extensions)?void 0:t.code)}));t.length>0&&t.forEach((e=>jy(e)))}finally{o.value=!1}},roles:i,roleSelected:n,loading:o,uniqueValidationErrors:s}}}),gA={class:"grid"},bA={class:"field"},kA={class:"type-label"},wA={key:0,class:"field"},xA={class:"type-label"};var VA=F_(hA,[["render",function(e,t,l,a,i,n){const o=S("v-card-title"),s=S("v-textarea"),r=S("v-select"),d=S("v-notice"),c=S("v-card-text"),u=S("v-button"),p=S("v-card-actions"),m=S("v-card"),f=S("v-dialog");return E(),A(f,{"model-value":e.modelValue,"onUpdate:modelValue":t[3]||(t[3]=t=>e.$emit("update:modelValue",t)),onEsc:t[4]||(t[4]=t=>e.$emit("update:modelValue",!1))},{default:D((()=>[I(m,null,{default:D((()=>[I(o,null,{default:D((()=>[N(U(e.t("invite_users")),1)])),_:1}),I(c,null,{default:D((()=>[j("div",gA,[j("div",bA,[j("div",kA,U(e.t("emails")),1),I(s,{modelValue:e.emails,"onUpdate:modelValue":t[0]||(t[0]=t=>e.emails=t),nullable:!1,placeholder:"admin@example.com, user@example.com..."},null,8,["modelValue"])]),null===e.role?(E(),P("div",wA,[j("div",xA,U(e.t("role")),1),I(r,{modelValue:e.roleSelected,"onUpdate:modelValue":t[1]||(t[1]=t=>e.roleSelected=t),items:e.roles},null,8,["modelValue","items"])])):B("",!0),e.uniqueValidationErrors.length>0?(E(),A(d,{key:1,class:"field",type:"danger"},{default:D((()=>[(E(!0),P(R,null,M(e.uniqueValidationErrors,((t,l)=>(E(),P("div",{key:l},[t.extensions.invalid?(E(),P(R,{key:0},[N(U(e.t("email_already_invited",{email:t.extensions.invalid})),1)],64)):0===l?(E(),P(R,{key:1},[N(U(e.t("validationError.unique")),1)],64)):B("",!0)])))),128))])),_:1})):B("",!0)])])),_:1}),I(p,null,{default:D((()=>[I(u,{secondary:"",onClick:t[2]||(t[2]=t=>e.$emit("update:modelValue",!1))},{default:D((()=>[N(U(e.t("cancel")),1)])),_:1}),I(u,{disabled:null===e.emails||0===e.emails.length,loading:e.loading,onClick:e.inviteUsers},{default:D((()=>[N(U(e.t("invite")),1)])),_:1},8,["disabled","loading","onClick"])])),_:1})])),_:1})])),_:1},8,["model-value"])}],["__scopeId","data-v-52e00551"]]);const CA=w({name:"RolesItem",components:{SettingsNavigation:Zw,RevisionsDrawerDetail:zh,RoleInfoSidebarDetail:JE,PermissionsOverview:yA,UsersInvite:VA},props:{primaryKey:{type:String,required:!0},permissionKey:{type:String,default:null}},setup(e){const{t:t}=x(),l=ie(),a=I_(),i=F(!1),{primaryKey:n}=T(e),{edits:o,item:r,saving:d,loading:c,error:u,save:p,remove:m,deleting:f,isBatch:v}=hg(F("directus_roles"),n),_=V((()=>Object.keys(o.value).length>0)),y=F(!1),h=V((()=>!!s(s({},r.value),o.value).admin_access)),g=V((()=>!!s(s({},r.value),o.value).app_access));return{t:t,item:r,loading:c,error:u,edits:o,hasEdits:_,saving:d,saveAndQuit:async function(){await p(),await a.hydrate(),l.push("/settings/roles")},deleteAndQuit:async function(){await m(),l.push("/settings/roles")},confirmDelete:y,deleting:f,isBatch:v,adminEnabled:h,userInviteModalActive:i,appAccess:g}}}),SA={class:"roles"};var EA=F_(CA,[["render",function(e,t,l,a,i,n){const o=S("v-icon"),s=S("v-button"),r=S("v-card-title"),d=S("v-card-actions"),c=S("v-card"),u=S("v-dialog"),p=S("settings-navigation"),m=S("users-invite"),f=S("v-notice"),v=S("permissions-overview"),_=S("v-form"),y=S("role-info-sidebar-detail"),h=S("revisions-drawer-detail"),g=S("private-view"),b=q("tooltip");return E(),A(g,{title:e.loading?e.t("loading"):e.t("editing_role",{role:e.item&&e.item.name})},{headline:D((()=>[N(U(e.t("settings_permissions")),1)])),"title-outer:prepend":D((()=>[I(s,{class:"header-icon",rounded:"",icon:"",exact:"",to:"/settings/roles/"},{default:D((()=>[I(o,{name:"arrow_back"})])),_:1})])),actions:D((()=>[!1===[1,2].includes(+e.primaryKey)?(E(),A(u,{key:0,modelValue:e.confirmDelete,"onUpdate:modelValue":t[1]||(t[1]=t=>e.confirmDelete=t),onEsc:t[2]||(t[2]=t=>e.confirmDelete=!1)},{activator:D((({on:t})=>[z(I(s,{rounded:"",icon:"",class:"action-delete",disabled:null===e.item,onClick:t},{default:D((()=>[I(o,{name:"delete",outline:""})])),_:2},1032,["disabled","onClick"]),[[b,e.t("delete_label"),void 0,{bottom:!0}]])])),default:D((()=>[I(c,null,{default:D((()=>[I(r,null,{default:D((()=>[N(U(e.t("delete_are_you_sure")),1)])),_:1}),I(d,null,{default:D((()=>[I(s,{secondary:"",onClick:t[0]||(t[0]=t=>e.confirmDelete=!1)},{default:D((()=>[N(U(e.t("cancel")),1)])),_:1}),I(s,{kind:"danger",loading:e.deleting,onClick:e.deleteAndQuit},{default:D((()=>[N(U(e.t("delete_label")),1)])),_:1},8,["loading","onClick"])])),_:1})])),_:1})])),_:1},8,["modelValue"])):B("",!0),z(I(s,{rounded:"",icon:"",class:"invite-user",onClick:t[3]||(t[3]=t=>e.userInviteModalActive=!0)},{default:D((()=>[I(o,{name:"person_add"})])),_:1},512),[[b,e.t("invite_users"),void 0,{bottom:!0}]]),z(I(s,{rounded:"",icon:"",loading:e.saving,disabled:!1===e.hasEdits,onClick:e.saveAndQuit},{default:D((()=>[I(o,{name:"check"})])),_:1},8,["loading","disabled","onClick"]),[[b,e.t("save"),void 0,{bottom:!0}]])])),navigation:D((()=>[I(p)])),sidebar:D((()=>[I(y,{role:e.item},null,8,["role"]),I(h,{collection:"directus_roles","primary-key":e.primaryKey},null,8,["primary-key"])])),default:D((()=>[I(m,{modelValue:e.userInviteModalActive,"onUpdate:modelValue":t[4]||(t[4]=t=>e.userInviteModalActive=t),role:e.primaryKey},null,8,["modelValue","role"]),j("div",SA,[e.adminEnabled?(E(),A(f,{key:0,type:"info"},{default:D((()=>[N(U(e.t("admins_have_all_permissions")),1)])),_:1})):(E(),A(v,{key:1,role:e.primaryKey,permission:e.permissionKey,"app-access":e.appAccess},null,8,["role","permission","app-access"])),I(_,{modelValue:e.edits,"onUpdate:modelValue":t[5]||(t[5]=t=>e.edits=t),collection:"directus_roles","primary-key":e.primaryKey,loading:e.loading,"initial-values":e.item,"batch-mode":e.isBatch},null,8,["modelValue","primary-key","loading","initial-values","batch-mode"])])])),_:1},8,["title"])}],["__scopeId","data-v-393ccdb4"]]);function AA(e){return 0===(e.fields||[]).length&&0===Object.keys(e.validation||{}).length&&0===Object.keys(e.presets||{}).length&&0===Object.keys(e.permissions||{}).length}const DA=w({props:{roleKey:{type:String,default:null},permission:{type:Object,required:!0}},emits:["refresh"],setup(e,{emit:t}){const{t:l}=x(),a=ie(),i=F(!1);return{t:l,save:async function(){i.value=!0;try{AA(e.permission)?await dI.delete(`/permissions/${e.permission.id}`):await dI.patch(`/permissions/${e.permission.id}`,e.permission),t("refresh"),a.push(`/settings/roles/${e.roleKey||"public"}`)}catch(l){jy(l)}finally{i.value=!1}},loading:i}}}),IA={class:"actions"};var FA=F_(DA,[["render",function(e,t,l,a,i,n){const o=S("v-icon"),s=S("v-button"),r=q("tooltip");return E(),P("div",IA,[z(I(s,{loading:e.loading,icon:"",rounded:"",onClick:e.save},{default:D((()=>[I(o,{name:"check"})])),_:1},8,["loading","onClick"]),[[r,e.t("save"),void 0,{bottom:!0}]])])}],["__scopeId","data-v-47610afd"]]);const OA=w({props:{currentTab:{type:Array,default:null},tabs:{type:Array,required:!0}},emits:["update:currentTab"],setup:(e,{emit:t})=>({internalCurrentTab:Yt(e,"currentTab",t)})}),$A={class:"text"};var TA=F_(OA,[["render",function(e,t,l,a,i,n){const o=S("v-tab"),s=S("v-tabs");return E(),A(s,{modelValue:e.internalCurrentTab,"onUpdate:modelValue":t[0]||(t[0]=t=>e.internalCurrentTab=t),vertical:""},{default:D((()=>[(E(!0),P(R,null,M(e.tabs,(e=>(E(),A(o,{key:e.value,value:e.value},{default:D((()=>[j("span",$A,U(e.text),1),j("span",{class:H(["dot",{on:e.hasValue}])},null,2)])),_:2},1032,["value"])))),128))])),_:1},8,["modelValue"])}],["__scopeId","data-v-678d5948"]]);const PA=w({props:{permission:{type:Object,required:!0},role:{type:Object,default:null},appMinimal:{type:Object,default:void 0}},emits:["update:permission"],setup(e,{emit:t}){const{t:l}=x(),a=Yt(e,"permission",t);return{t:l,permissions:V({get:()=>a.value.permissions,set(e){a.value=r(s({},a.value),{permissions:e})}})}}}),jA={key:0,class:"app-minimal"},LA={class:"app-minimal-preview"};var RA=F_(PA,[["render",function(e,t,l,a,i,n){const o=S("v-notice"),s=S("interface-input-code"),r=S("v-divider");return E(),P("div",null,[I(o,{type:"info"},{default:D((()=>[N(U(e.t("permissions_for_role",{action:e.t(e.permission.action).toLowerCase(),role:e.role?e.role.name:e.t("public_label")})),1)])),_:1}),I(s,{value:e.permissions,language:"json",type:"json",onInput:t[0]||(t[0]=t=>e.permissions=t)},null,8,["value"]),e.appMinimal?(E(),P("div",jA,[I(r),I(o,{type:"warning"},{default:D((()=>[N(U(e.t("the_following_are_minimum_permissions")),1)])),_:1}),j("pre",LA,U(e.appMinimal),1)])):B("",!0)])}],["__scopeId","data-v-5dd7bf2b"]]);const MA=w({props:{permission:{type:Object,required:!0},role:{type:Object,default:null},appMinimal:{type:Object,default:void 0}},emits:["update:permission"],setup(e,{emit:t}){const{t:l}=x(),a=vI(),i=Yt(e,"permission",t),n=V((()=>a.getFieldsForCollection(e.permission.collection).map((e=>({text:e.name,value:e.field})))));return{t:l,fields:V({get:()=>i.value.fields?i.value.fields.includes("*")?n.value.map((({value:e})=>e)):i.value.fields:[],set(e){e&&e.length>0?i.value=r(s({},i.value),{fields:e}):i.value=r(s({},i.value),{fields:null})}}),fieldsInCollection:n}}}),UA={class:"type-label"},NA={key:0,class:"app-minimal"},BA={class:"app-minimal-preview"};var qA=F_(MA,[["render",function(e,t,l,a,i,n){const o=S("v-notice"),s=S("interface-select-multiple-checkbox"),r=S("v-divider");return E(),P("div",null,[I(o,{type:"info"},{default:D((()=>[N(U(e.t("fields_for_role",{role:e.role?e.role.name:e.t("public_label"),action:e.t(e.permission.action).toLowerCase()})),1)])),_:1}),j("p",UA,U(e.t("field",0)),1),I(s,{value:e.fields,type:"json",choices:e.fieldsInCollection,onInput:t[0]||(t[0]=t=>e.fields=t)},null,8,["value","choices"]),e.appMinimal?(E(),P("div",NA,[I(r),I(o,{type:"warning"},{default:D((()=>[N(U(e.t("the_following_are_minimum_permissions")),1)])),_:1}),j("pre",BA,U(e.appMinimal),1)])):B("",!0)])}],["__scopeId","data-v-28e7bb60"]]);var zA=F_(w({props:{permission:{type:Object,required:!0},role:{type:Object,default:null}},emits:["update:permission"],setup(e,{emit:t}){const{t:l}=x(),a=Yt(e,"permission",t);return{t:l,validation:V({get:()=>a.value.validation,set(e){a.value=r(s({},a.value),{validation:e})}})}}}),[["render",function(e,t,l,a,i,n){const o=S("v-notice"),s=S("interface-input-code");return E(),P("div",null,[I(o,{type:"info"},{default:D((()=>[N(U(e.t("validation_for_role",{action:e.t(e.permission.action).toLowerCase(),role:e.role?e.role.name:e.t("public_label")})),1)])),_:1}),I(s,{value:e.validation,language:"json",type:"json",onInput:t[0]||(t[0]=t=>e.validation=t)},null,8,["value"])])}],["__scopeId","data-v-0b5b9f9e"]]);const KA=w({props:{permission:{type:Object,default:null},role:{type:Object,default:null}},emits:["update:permission"],setup(e,{emit:t}){const{t:l}=x(),a=Yt(e,"permission",t);return{t:l,presets:V({get:()=>a.value.presets,set(e){a.value=r(s({},a.value),{presets:e})}})}}});const WA=w({components:{Actions:FA,Tabs:TA,Permissions:RA,Fields:qA,Validation:zA,Presets:F_(KA,[["render",function(e,t,l,a,i,n){const o=S("v-notice"),s=S("interface-input-code");return E(),P("div",null,[I(o,{type:"info"},{default:D((()=>[N(U(e.t("presets_for_role",{action:e.t(e.permission.action).toLowerCase(),role:e.role?e.role.name:e.t("public_label")})),1)])),_:1}),I(s,{value:e.presets,language:"json",type:"json",onInput:t[0]||(t[0]=t=>e.presets=t)},null,8,["value"])])}],["__scopeId","data-v-660c7066"]])},props:{roleKey:{type:String,default:null},permissionKey:{type:String,required:!0}},emits:["refresh"],setup(e){const{t:t}=x(),l=ie(),a=pI(),i=vy(),n=F(),o=F(),s=F(!1),r=V((()=>{var e;return n.value?null==(e=a.collections.find((e=>e.collection===n.value.collection)))?void 0:e.name:null})),d=V((()=>s.value||!n.value?t("loading"):e.roleKey?o.value.name+" -> "+r.value+" -> "+t(n.value.action):t("public_label")+" -> "+r.value+" -> "+t(n.value.action)));O((()=>e.permissionKey),(async function(){var t;s.value=!0;try{if(e.roleKey){const t=await dI.get(`/roles/${e.roleKey}`);o.value=t.data.data}const t=await dI.get(`/permissions/${e.permissionKey}`);n.value=t.data.data}catch(a){403===(null==(t=null==a?void 0:a.response)?void 0:t.status)?l.push(`/settings/roles/${e.roleKey||"public"}`):jy(a)}finally{s.value=!1}}),{immediate:!0});const c=V((()=>{if(!n.value)return[];const e=n.value.action,l=[];return["read","update","delete"].includes(e)&&l.push({text:t("item_permissions"),value:"permissions",hasValue:null!==n.value.permissions&&Object.keys(n.value.permissions).length>0}),["create","read","update"].includes(e)&&l.push({text:t("field_permissions"),value:"fields",hasValue:null!==n.value.fields}),["create","update"].includes(e)&&l.push({text:t("field_validation"),value:"validation",hasValue:null!==n.value.validation&&Object.keys(n.value.validation).length>0}),["create","update"].includes(e)&&l.push({text:t("field_presets"),value:"presets",hasValue:null!==n.value.presets&&Object.keys(n.value.presets).length>0}),l})),u=F([]),p=V((()=>{var e;const t=null==(e=u.value)?void 0:e[0];return t?c.value.find((e=>e.value===t)):null}));O(c,((e,t)=>{var l,a;e&&t&&e.length===t.length||(u.value=[null==(a=null==(l=null==c?void 0:c.value)?void 0:l[0])?void 0:a.value])}),{immediate:!0});const m=V((()=>n.value?TE.find((e=>e.collection===n.value.collection&&e.action===n.value.action)):null));return{isOpen:i,permission:n,role:o,loading:s,modalTitle:d,tabs:c,currentTab:u,currentTabInfo:p,appMinimal:m,close:async function(){n.value&&AA(n.value)&&await dI.delete(`/permissions/${n.value.id}`);l.push(`/settings/roles/${e.roleKey||"public"}`)}}}}),HA={key:0,class:"content"};var GA=F_(WA,[["render",function(e,t,l,a,i,n){const o=S("tabs"),s=S("permissions"),r=S("fields"),d=S("validation"),c=S("presets"),u=S("actions"),p=S("v-drawer");return E(),A(p,{title:e.modalTitle,"model-value":e.isOpen,class:"new-collection",persistent:"","sidebar-label":e.currentTabInfo&&e.currentTabInfo.text,onCancel:e.close},G({default:D((()=>[e.loading?B("",!0):(E(),P("div",HA,["permissions"===e.currentTab[0]?(E(),A(s,{key:0,permission:e.permission,"onUpdate:permission":t[1]||(t[1]=t=>e.permission=t),role:e.role,"app-minimal":e.appMinimal&&e.appMinimal.permissions},null,8,["permission","role","app-minimal"])):B("",!0),"fields"===e.currentTab[0]?(E(),A(r,{key:1,permission:e.permission,"onUpdate:permission":t[2]||(t[2]=t=>e.permission=t),role:e.role,"app-minimal":e.appMinimal&&e.appMinimal.fields},null,8,["permission","role","app-minimal"])):B("",!0),"validation"===e.currentTab[0]?(E(),A(d,{key:2,permission:e.permission,"onUpdate:permission":t[3]||(t[3]=t=>e.permission=t),role:e.role,"app-minimal":e.appMinimal&&e.appMinimal.validation},null,8,["permission","role","app-minimal"])):B("",!0),"presets"===e.currentTab[0]?(E(),A(c,{key:3,permission:e.permission,"onUpdate:permission":t[4]||(t[4]=t=>e.permission=t),role:e.role,"app-minimal":e.appMinimal&&e.appMinimal.presets},null,8,["permission","role","app-minimal"])):B("",!0)]))])),_:2},[e.loading?void 0:{name:"sidebar",fn:D((()=>[I(o,{"current-tab":e.currentTab,"onUpdate:current-tab":t[0]||(t[0]=t=>e.currentTab=t),tabs:e.tabs},null,8,["current-tab","tabs"])]))},e.loading?void 0:{name:"actions",fn:D((()=>[I(u,{"role-key":e.roleKey,permission:e.permission,onRefresh:t[5]||(t[5]=t=>e.$emit("refresh",Number(e.permissionKey)))},null,8,["role-key","permission"])]))}]),1032,["title","model-value","sidebar-label","onCancel"])}],["__scopeId","data-v-46c5da68"]]);const QA=w({name:"RolesItem",components:{SettingsNavigation:Zw,PermissionsOverview:yA},props:{permissionKey:{type:String,default:null}},setup(){const{t:e}=x();return{t:e}}}),XA={class:"roles"};var JA=F_(QA,[["render",function(e,t,l,a,i,n){const o=S("v-icon"),s=S("v-button"),r=S("settings-navigation"),d=S("permissions-overview"),c=S("private-view");return E(),A(c,{title:e.t("public_label")},{headline:D((()=>[N(U(e.t("settings_permissions")),1)])),"title-outer:prepend":D((()=>[I(s,{class:"header-icon",rounded:"",icon:"",exact:"",to:"/settings/roles/"},{default:D((()=>[I(o,{name:"arrow_back"})])),_:1})])),navigation:D((()=>[I(r)])),default:D((()=>[j("div",XA,[I(d,{role:null,permission:e.permissionKey},null,8,["permission"])])])),_:1},8,["title"])}],["__scopeId","data-v-696c80cd"]]);const YA=w({name:"WebhooksCollection",components:{SettingsNavigation:Zw,LayoutSidebarDetail:sy,SearchInput:cy},setup(){const{t:e}=x(),t=F(),l=F([]),{layout:a,layoutOptions:i,layoutQuery:n,filters:o,searchQuery:s}=$_(F("directus_webhooks")),{addNewLink:r,batchLink:d}=function(){const e=V((()=>"/settings/webhooks/+")),t=V((()=>`/settings/webhooks/${l.value}`));return{addNewLink:e,batchLink:t}}(),{confirmDelete:c,deleting:u,batchDelete:p}=function(){const e=F(!1),a=F(!1);return{confirmDelete:e,deleting:a,batchDelete:async function(){a.value=!0,e.value=!1;const i=l.value;await dI.delete(`/webhooks/${i}`),await async function(){var e,l,a;await(null==(a=null==(l=null==(e=t.value)?void 0:e.state)?void 0:l.refresh)?void 0:a.call(l))}(),l.value=[],a.value=!1,e.value=!1}}}(),{layoutWrapper:m}=P_(a);return{t:e,addNewLink:r,batchDelete:p,batchLink:d,confirmDelete:c,deleting:u,layoutRef:t,layoutWrapper:m,filters:o,selection:l,layoutOptions:i,layoutQuery:n,layout:a,searchQuery:s,clearFilters:function(){o.value=[],s.value=null}}}}),ZA={class:"page-description"};var eD=F_(YA,[["render",function(e,t,l,a,i,n){const o=S("v-icon"),s=S("v-button"),r=S("settings-navigation"),d=S("search-input"),c=S("v-card-title"),u=S("v-card-actions"),p=S("v-card"),m=S("v-dialog"),f=S("v-info"),v=S("sidebar-detail"),_=S("layout-sidebar-detail"),y=S("private-view"),h=q("tooltip"),g=q("md");return E(),A(L(e.layoutWrapper),{ref:"layoutRef",selection:e.selection,"onUpdate:selection":t[5]||(t[5]=t=>e.selection=t),"layout-options":e.layoutOptions,"onUpdate:layout-options":t[6]||(t[6]=t=>e.layoutOptions=t),"layout-query":e.layoutQuery,"onUpdate:layout-query":t[7]||(t[7]=t=>e.layoutQuery=t),filters:e.filters,"onUpdate:filters":t[8]||(t[8]=t=>e.filters=t),"search-query":e.searchQuery,"onUpdate:search-query":t[9]||(t[9]=t=>e.searchQuery=t),collection:"directus_webhooks"},{default:D((({layoutState:l})=>[I(y,{title:e.t("webhooks")},{headline:D((()=>[N(U(e.t("settings")),1)])),"title-outer:prepend":D((()=>[I(s,{class:"header-icon",rounded:"",disabled:"",icon:"",secondary:""},{default:D((()=>[I(o,{name:"anchor"})])),_:1})])),navigation:D((()=>[I(r)])),actions:D((()=>[I(d,{modelValue:e.searchQuery,"onUpdate:modelValue":t[0]||(t[0]=t=>e.searchQuery=t)},null,8,["modelValue"]),e.selection.length>0?(E(),A(m,{key:0,modelValue:e.confirmDelete,"onUpdate:modelValue":t[2]||(t[2]=t=>e.confirmDelete=t),onEsc:t[3]||(t[3]=t=>e.confirmDelete=!1)},{activator:D((({on:e})=>[I(s,{rounded:"",icon:"",class:"action-delete",onClick:e},{default:D((()=>[I(o,{name:"delete",outline:""})])),_:2},1032,["onClick"])])),default:D((()=>[I(p,null,{default:D((()=>[I(c,null,{default:D((()=>[N(U(e.t("batch_delete_confirm",e.selection.length)),1)])),_:1}),I(u,null,{default:D((()=>[I(s,{secondary:"",onClick:t[1]||(t[1]=t=>e.confirmDelete=!1)},{default:D((()=>[N(U(e.t("cancel")),1)])),_:1}),I(s,{kind:"danger",loading:e.deleting,onClick:e.batchDelete},{default:D((()=>[N(U(e.t("delete_label")),1)])),_:1},8,["loading","onClick"])])),_:1})])),_:1})])),_:1},8,["modelValue"])):B("",!0),e.selection.length>1?z((E(),A(s,{key:1,rounded:"",icon:"",class:"action-batch",to:e.batchLink},{default:D((()=>[I(o,{name:"edit",outline:""})])),_:1},8,["to"])),[[h,e.t("edit"),void 0,{bottom:!0}]]):B("",!0),z(I(s,{rounded:"",icon:"",to:e.addNewLink},{default:D((()=>[I(o,{name:"add"})])),_:1},8,["to"]),[[h,e.t("create_webhook"),void 0,{bottom:!0}]])])),sidebar:D((()=>[I(v,{icon:"info_outline",title:e.t("information"),close:""},{default:D((()=>[z(j("div",ZA,null,512),[[g,e.t("page_help_settings_webhooks_collection")]])])),_:1},8,["title"]),I(_,{modelValue:e.layout,"onUpdate:modelValue":t[4]||(t[4]=t=>e.layout=t)},{default:D((()=>[(E(),A(L(`layout-options-${e.layout}`),J(Y(l)),null,16))])),_:2},1032,["modelValue"]),(E(),A(L(`layout-sidebar-${e.layout}`),J(Y(l)),null,16))])),default:D((()=>[(E(),A(L(`layout-${e.layout}`),Z({class:"layout"},l),{"no-results":D((()=>[I(f,{title:e.t("no_results"),icon:"search",center:""},{append:D((()=>[I(s,{onClick:e.clearFilters},{default:D((()=>[N(U(e.t("clear_filters")),1)])),_:1},8,["onClick"])])),default:D((()=>[N(U(e.t("no_results_copy"))+" ",1)])),_:1},8,["title"])])),"no-items":D((()=>[I(f,{title:e.t("webhooks_count",0),icon:"anchor",center:"",type:"info"},{append:D((()=>[I(s,{to:{path:"/settings/webhooks/+"}},{default:D((()=>[N(U(e.t("create_webhook")),1)])),_:1})])),default:D((()=>[N(U(e.t("no_webhooks_copy"))+" ",1)])),_:1},8,["title"])])),_:2},1040))])),_:2},1032,["title"])])),_:1},8,["selection","layout-options","layout-query","filters","search-query"])}],["__scopeId","data-v-5eb29a1e"]]);const tD=w({name:"WebhooksItem",components:{SettingsNavigation:Zw,RevisionsDrawerDetail:zh,SaveOptions:kg},props:{primaryKey:{type:String,required:!0}},setup(e){const{t:t}=x(),l=ie(),{primaryKey:a}=T(e),{isNew:i,edits:n,item:o,saving:s,loading:r,error:d,save:c,remove:u,deleting:p,saveAsCopy:m,isBatch:f,validationErrors:v}=hg(F("directus_webhooks"),a),_=V((()=>Object.keys(n.value).length>0)),y=F(!1),h=V((()=>{var e;return r.value?t("loading"):i.value?t("creating_webhook"):null==(e=o.value)?void 0:e.name}));return{t:t,item:o,loading:r,error:d,isNew:i,edits:n,hasEdits:_,saving:s,saveAndQuit:async function(){await c(),l.push("/settings/webhooks")},deleteAndQuit:async function(){await u(),l.push("/settings/webhooks")},confirmDelete:y,deleting:p,saveAndStay:async function(){await c()},saveAndAddNew:async function(){await c(),l.push("/settings/webhooks/+")},saveAsCopyAndNavigate:async function(){const e=await m();e&&l.push(`/settings/webhooks/${e}`)},isBatch:f,title:h,validationErrors:v}}}),lD={class:"page-description"};var aD=Zt({id:"settings",name:"$t:settings",icon:"settings",color:"var(--warning)",routes:[{path:"",redirect:"/settings/data-model"},{name:"settings-project",path:"project",component:OE},{path:"data-model",component:Iy,children:[{name:"settings-collections",path:"",component:px,beforeEnter(){pI().hydrate()},children:[{path:"+",name:"settings-add-new",components:{add:rE}}]},{name:"settings-fields",path:":collection",component:QS,async beforeEnter(e){const t=pI().getCollection(e.params.collection),l=vI();(null==t?void 0:t.meta)||await dI.patch(`/collections/${e.params.collection}`,{meta:{}}),l.hydrate()},props:e=>({collection:e.params.collection,field:e.params.field,type:e.query.type}),children:[{path:":field",name:"settings-fields-field",components:{field:wS}}]}]},{path:"roles",component:Iy,children:[{name:"settings-roles-collection",path:"",component:HE,children:[{path:"+",name:"settings-add-new-role",components:{add:BE}}]},{path:"public",component:JA,props:!0,children:[{path:":permissionKey",components:{permissionsDetail:GA}}]},{name:"settings-roles-item",path:":primaryKey",component:EA,props:!0,children:[{path:":permissionKey",components:{permissionsDetail:GA}}]}]},{path:"presets",component:Iy,children:[{name:"settings-presets-collection",path:"",component:gE},{name:"settings-presets-item",path:":id",component:SE,props:!0}]},{path:"webhooks",component:Iy,children:[{name:"settings-webhooks-collection",path:"",component:eD},{name:"settings-webhooks-item",path:":primaryKey",component:F_(tD,[["render",function(e,t,l,a,i,n){const o=S("v-icon"),s=S("v-button"),r=S("v-card-title"),d=S("v-card-actions"),c=S("v-card"),u=S("v-dialog"),p=S("save-options"),m=S("settings-navigation"),f=S("v-form"),v=S("sidebar-detail"),_=S("revisions-drawer-detail"),y=S("private-view"),h=q("md");return E(),A(y,{title:e.title},{headline:D((()=>[N(U(e.t("settings_webhooks")),1)])),"title-outer:prepend":D((()=>[I(s,{class:"header-icon",rounded:"",icon:"",exact:"",to:"/settings/webhooks/"},{default:D((()=>[I(o,{name:"arrow_back"})])),_:1})])),actions:D((()=>[I(u,{modelValue:e.confirmDelete,"onUpdate:modelValue":t[1]||(t[1]=t=>e.confirmDelete=t),onEsc:t[2]||(t[2]=t=>e.confirmDelete=!1)},{activator:D((({on:t})=>[I(s,{rounded:"",icon:"",class:"action-delete",disabled:null===e.item,onClick:t},{default:D((()=>[I(o,{name:"delete",outline:""})])),_:2},1032,["disabled","onClick"])])),default:D((()=>[I(c,null,{default:D((()=>[I(r,null,{default:D((()=>[N(U(e.t("delete_are_you_sure")),1)])),_:1}),I(d,null,{default:D((()=>[I(s,{secondary:"",onClick:t[0]||(t[0]=t=>e.confirmDelete=!1)},{default:D((()=>[N(U(e.t("cancel")),1)])),_:1}),I(s,{kind:"danger",loading:e.deleting,onClick:e.deleteAndQuit},{default:D((()=>[N(U(e.t("delete_label")),1)])),_:1},8,["loading","onClick"])])),_:1})])),_:1})])),_:1},8,["modelValue"]),I(s,{rounded:"",icon:"",loading:e.saving,disabled:!1===e.hasEdits,onClick:e.saveAndQuit},{"append-outer":D((()=>[I(p,{disabled:!1===e.hasEdits,onSaveAndStay:e.saveAndStay,onSaveAndAddNew:e.saveAndAddNew,onSaveAsCopy:e.saveAsCopyAndNavigate},null,8,["disabled","onSaveAndStay","onSaveAndAddNew","onSaveAsCopy"])])),default:D((()=>[I(o,{name:"check"})])),_:1},8,["loading","disabled","onClick"])])),navigation:D((()=>[I(m)])),sidebar:D((()=>[I(v,{icon:"info_outline",title:e.t("information"),close:""},{default:D((()=>[z(j("div",lD,null,512),[[h,e.t("page_help_settings_webhooks_item")]])])),_:1},8,["title"]),!1===e.isNew?(E(),A(_,{key:0,collection:"directus_webhooks","primary-key":e.primaryKey},null,8,["primary-key"])):B("",!0)])),default:D((()=>[I(f,{modelValue:e.edits,"onUpdate:modelValue":t[3]||(t[3]=t=>e.edits=t),loading:e.loading,"initial-values":e.item,collection:"directus_webhooks","batch-mode":e.isBatch,"primary-key":e.primaryKey,"validation-errors":e.validationErrors},null,8,["modelValue","loading","initial-values","batch-mode","primary-key","validation-errors"])])),_:1},8,["title"])}],["__scopeId","data-v-6ee7a945"]]),props:!0}]},{name:"settings-not-found",path:":_(.+)+",component:uE}],preRegisterCheck:e=>!0===e.role.admin_access,order:1/0,persistent:!0}),iD=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:aD});let nD=null,oD=null;function sD(){return null===nD&&(nD=F(null)),null===oD&&(oD=F(!1)),null===nD.value&&!1===(null==oD?void 0:oD.value)&&async function(){if(!oD||!nD)return;oD.value=!0;const e=await dI.get("/roles",{params:{sort:"name"}});nD.value=e.data.data,oD.value=!1}(),{roles:nD,loading:oD}}var rD=F_(w({props:{currentRole:{type:String,default:null}},setup(){const{t:e}=x(),{roles:t,loading:l}=sD();return{t:e,roles:t,loading:l}}}),[["render",function(e,t,l,a,i,n){const o=S("v-icon"),s=S("v-list-item-icon"),r=S("v-list-item-content"),d=S("v-list-item"),c=S("v-divider"),u=S("v-skeleton-loader"),p=S("v-list");return E(),A(p,{large:""},{default:D((()=>[I(d,{to:"/users",exact:"",active:null===e.currentRole},{default:D((()=>[I(s,null,{default:D((()=>[I(o,{name:"folder_shared",outline:""})])),_:1}),I(r,null,{default:D((()=>[N(U(e.t("all_users")),1)])),_:1})])),_:1},8,["active"]),e.roles&&e.roles.length>0||e.loading?(E(),A(c,{key:0})):B("",!0),e.loading?(E(),P(R,{key:1},M(4,(e=>I(d,{key:e},{default:D((()=>[I(u,{type:"list-item-icon"})])),_:2},1024))),64)):B("",!0),(E(!0),P(R,null,M(e.roles,(({name:t,id:l,icon:a})=>(E(),A(d,{key:l,to:`/users/roles/${l}`,active:e.currentRole===l},{default:D((()=>[I(s,null,{default:D((()=>[I(o,{name:a,outline:""},null,8,["name"])])),_:2},1024),I(r,null,{default:D((()=>[N(U(t),1)])),_:2},1024)])),_:2},1032,["to","active"])))),128))])),_:1})}],["__scopeId","data-v-30abb7e8"]]);const dD=w({name:"UsersCollection",components:{UsersNavigation:rD,LayoutSidebarDetail:sy,SearchInput:cy,UsersInvite:VA,DrawerBatch:dh},props:{role:{type:String,default:null}},setup(e){const{t:t}=x(),{roles:l}=sD(),a=F(!1),i=I_(),n=gI(),o=F(),s=F([]),{layout:r,layoutOptions:d,layoutQuery:c,filters:u,searchQuery:p,resetPreset:m}=$_(F("directus_users")),{addNewLink:f}={addNewLink:V((()=>e.role?`/users/roles/${e.role}/+`:"/users/+"))},{confirmDelete:v,deleting:_,batchDelete:y,error:h,batchEditActive:g}=function(){const e=F(!1),t=F(!1),l=F(!1),a=F();return{batchEditActive:l,confirmDelete:e,deleting:t,batchDelete:async function(){t.value=!0;const l=s.value;try{await dI.delete("/users",{data:l}),await I(),s.value=[],e.value=!1}catch(i){a.value=i}finally{t.value=!1}},error:a}}(),{breadcrumb:b,title:k}=function(){const a=V((()=>e.role?[{name:t("user_directory"),to:"/users"}]:null)),i=V((()=>{var a,i;return e.role?null==(i=null==(a=l.value)?void 0:a.find((t=>t.id===e.role)))?void 0:i.name:t("user_directory")}));return{breadcrumb:a,title:i}}(),w=V({get(){if(null!==e.role){return[{locked:!0,operator:"eq",field:"role",value:e.role},...u.value]}return u.value},set(e){u.value=e}}),C=V((()=>{var e,t;if(!!(null==(t=null==(e=i.currentUser)?void 0:e.role)?void 0:t.admin_access))return!0;const l=n.permissions.find((e=>"directus_users"===e.collection&&"create"===e.action)),a=n.permissions.find((e=>"directus_roles"===e.collection&&"read"===e.action));return!!l&&!!a})),{layoutWrapper:S}=P_(r),{batchEditAllowed:E,batchDeleteAllowed:A,createAllowed:D}=function(){const e=V((()=>{var e;if(!0===(null==(e=null==i?void 0:i.currentUser)?void 0:e.role.admin_access))return!0;return!!n.permissions.find((e=>"update"===e.action&&"directus_users"===e.collection))})),t=V((()=>{var e;if(!0===(null==(e=null==i?void 0:i.currentUser)?void 0:e.role.admin_access))return!0;return!!n.permissions.find((e=>"delete"===e.action&&"directus_users"===e.collection))})),l=V((()=>{var e;if(!0===(null==(e=null==i?void 0:i.currentUser)?void 0:e.role.admin_access))return!0;return!!n.permissions.find((e=>"create"===e.action&&"directus_users"===e.collection))}));return{batchEditAllowed:e,batchDeleteAllowed:t,createAllowed:l}}();return{t:t,canInviteUsers:C,addNewLink:f,breadcrumb:b,title:k,layoutRef:o,layoutWrapper:S,selection:s,layoutFilters:w,layoutOptions:d,layoutQuery:c,layout:r,searchQuery:p,clearFilters:function(){u.value=[],p.value=null},userInviteModalActive:a,refresh:I,batchEditAllowed:E,batchDeleteAllowed:A,createAllowed:D,resetPreset:m,confirmDelete:v,deleting:_,batchDelete:y,deleteError:h,batchEditActive:g};async function I(){var e,t,l;await(null==(l=null==(t=null==(e=o.value)?void 0:e.state)?void 0:t.refresh)?void 0:l.call(t))}}}),cD={class:"page-description"};var uD=F_(dD,[["render",function(e,t,l,a,i,n){const o=S("v-breadcrumb"),s=S("v-icon"),r=S("v-button"),d=S("search-input"),c=S("v-card-title"),u=S("v-card-actions"),p=S("v-card"),m=S("v-dialog"),f=S("users-navigation"),v=S("users-invite"),_=S("v-info"),y=S("drawer-batch"),h=S("sidebar-detail"),g=S("layout-sidebar-detail"),b=S("private-view"),k=q("tooltip"),w=q("md");return E(),A(L(e.layoutWrapper),{ref:"layoutRef",selection:e.selection,"onUpdate:selection":t[9]||(t[9]=t=>e.selection=t),"layout-options":e.layoutOptions,"onUpdate:layout-options":t[10]||(t[10]=t=>e.layoutOptions=t),"layout-query":e.layoutQuery,"onUpdate:layout-query":t[11]||(t[11]=t=>e.layoutQuery=t),filters:e.layoutFilters,"onUpdate:filters":t[12]||(t[12]=t=>e.layoutFilters=t),"search-query":e.searchQuery,"onUpdate:search-query":t[13]||(t[13]=t=>e.searchQuery=t),collection:"directus_users","reset-preset":e.resetPreset},{default:D((({layoutState:l})=>[I(b,{title:e.title},G({"title-outer:prepend":D((()=>[I(r,{class:"header-icon",rounded:"",disabled:"",icon:"",secondary:""},{default:D((()=>[I(s,{name:"people_alt",outline:""})])),_:1})])),"actions:prepend":D((()=>[(E(),A(L(`layout-actions-${e.layout}`),J(Y(l)),null,16))])),actions:D((()=>[I(d,{modelValue:e.searchQuery,"onUpdate:modelValue":t[0]||(t[0]=t=>e.searchQuery=t)},null,8,["modelValue"]),e.selection.length>0?(E(),A(m,{key:0,modelValue:e.confirmDelete,"onUpdate:modelValue":t[2]||(t[2]=t=>e.confirmDelete=t),onEsc:t[3]||(t[3]=t=>e.confirmDelete=!1)},{activator:D((({on:t})=>[z(I(r,{disabled:!0!==e.batchDeleteAllowed,rounded:"",icon:"",class:"action-delete",onClick:t},{default:D((()=>[I(s,{name:"delete",outline:""})])),_:2},1032,["disabled","onClick"]),[[k,e.batchDeleteAllowed?e.t("delete_label"):e.t("not_allowed"),void 0,{bottom:!0}]])])),default:D((()=>[I(p,null,{default:D((()=>[I(c,null,{default:D((()=>[N(U(e.t("batch_delete_confirm",e.selection.length)),1)])),_:1}),I(u,null,{default:D((()=>[I(r,{secondary:"",onClick:t[1]||(t[1]=t=>e.confirmDelete=!1)},{default:D((()=>[N(U(e.t("cancel")),1)])),_:1}),I(r,{kind:"danger",loading:e.deleting,onClick:e.batchDelete},{default:D((()=>[N(U(e.t("delete_label")),1)])),_:1},8,["loading","onClick"])])),_:1})])),_:1})])),_:1},8,["modelValue"])):B("",!0),e.selection.length>1?z((E(),A(r,{key:1,rounded:"",icon:"",class:"action-batch",disabled:!1===e.batchEditAllowed,onClick:t[4]||(t[4]=t=>e.batchEditActive=!0)},{default:D((()=>[I(s,{name:"edit",outline:""})])),_:1},8,["disabled"])),[[k,e.batchEditAllowed?e.t("edit"):e.t("not_allowed"),void 0,{bottom:!0}]]):B("",!0),e.canInviteUsers?z((E(),A(r,{key:2,rounded:"",icon:"",class:"invite-user",onClick:t[5]||(t[5]=t=>e.userInviteModalActive=!0)},{default:D((()=>[I(s,{name:"person_add"})])),_:1},512)),[[k,e.t("invite_users"),void 0,{bottom:!0}]]):B("",!0),z(I(r,{rounded:"",icon:"",to:e.addNewLink,disabled:!1===e.createAllowed},{default:D((()=>[I(s,{name:"add"})])),_:1},8,["to","disabled"]),[[k,e.createAllowed?e.t("create_item"):e.t("not_allowed"),void 0,{bottom:!0}]])])),navigation:D((()=>[I(f,{"current-role":e.role},null,8,["current-role"])])),sidebar:D((()=>[I(h,{icon:"info_outline",title:e.t("information"),close:""},{default:D((()=>[z(j("div",cD,null,512),[[w,e.t("page_help_users_collection")]])])),_:1},8,["title"]),I(g,{modelValue:e.layout,"onUpdate:modelValue":t[8]||(t[8]=t=>e.layout=t)},{default:D((()=>[(E(),A(L(`layout-options-${e.layout}`),J(Y(l)),null,16))])),_:2},1032,["modelValue"]),(E(),A(L(`layout-sidebar-${e.layout}`),J(Y(l)),null,16))])),default:D((()=>[e.canInviteUsers?(E(),A(v,{key:0,modelValue:e.userInviteModalActive,"onUpdate:modelValue":[t[6]||(t[6]=t=>e.userInviteModalActive=t),e.refresh]},null,8,["modelValue","onUpdate:modelValue"])):B("",!0),(E(),A(L(`layout-${e.layout}`),Z({class:"layout"},l),{"no-results":D((()=>[I(_,{title:e.t("no_results"),icon:"search",center:""},{append:D((()=>[I(r,{onClick:e.clearFilters},{default:D((()=>[N(U(e.t("clear_filters")),1)])),_:1},8,["onClick"])])),default:D((()=>[N(U(e.t("no_results_copy"))+" ",1)])),_:1},8,["title"])])),"no-items":D((()=>[I(_,{title:e.t("user_count",0),icon:"people_alt",center:""},G({default:D((()=>[N(U(e.t("no_users_copy"))+" ",1)])),_:2},[e.canInviteUsers?{name:"append",fn:D((()=>[I(r,{to:e.role?{path:`/users/roles/${e.role}/+`}:{path:"/users/+"}},{default:D((()=>[N(U(e.t("create_user")),1)])),_:1},8,["to"])]))}:void 0]),1032,["title"])])),_:2},1040)),I(y,{active:e.batchEditActive,"onUpdate:active":t[7]||(t[7]=t=>e.batchEditActive=t),"primary-keys":e.selection,collection:"directus_users",onRefresh:e.refresh},null,8,["active","primary-keys","onRefresh"])])),_:2},[e.breadcrumb?{name:"headline",fn:D((()=>[I(o,{items:e.breadcrumb},null,8,["items"])]))}:void 0]),1032,["title"])])),_:1},8,["selection","layout-options","layout-query","filters","search-query","reset-preset"])}],["__scopeId","data-v-3954b5a7"]]);function pD(e){const{interfaces:t}=yl(),l=V((()=>e.value.filter((e=>{var t;return!0===(null==(t=e.meta)?void 0:t.system)})).length));return{formFields:V((()=>{let a=m.exports.clone(e.value);return a=a.map(((e,i)=>{var n,o,s;if(!e.meta)return e;let r=t.value.find((t=>{var l;return t.id===(null==(l=e.meta)?void 0:l.interface)}));if(!1===(void 0!==r)&&(e.meta.interface=L_(e.type)),r=t.value.find((t=>{var l;return t.id===(null==(l=e.meta)?void 0:l.interface)})),!0===(null==r?void 0:r.hideLabel)&&(e.hideLabel=!0),!0===(null==r?void 0:r.hideLoader)&&(e.hideLoader=!0),0!==i&&"half"===e.meta.width){"half"===(null==(n=a[i-1].meta)?void 0:n.width)&&(e.meta.width="half-right")}return(null==(o=e.meta)?void 0:o.sort)&&!0!==(null==(s=e.meta)?void 0:s.system)&&(e.meta.sort=Number(e.meta.sort)+Number(l.value)),e})),a=a.filter((e=>{var t;return!1===((null==(t=e.field)?void 0:t.startsWith("$"))||!1)})),a=m.exports.orderBy(a,["meta.sort","meta.id"]),a=d_(a),a}))}}const mD=w({props:{user:{type:Object,default:null},isNew:{type:Boolean,default:!1}},setup(e){const{t:t}=x(),l=F("");return O(e,(async()=>{e.user&&(l.value=await _h(new Date(e.user.last_access),String(t("date-fns_date_short"))))}),{immediate:!0}),{t:t,lastAccessDate:l}}}),fD={key:0},vD={key:0},_D={key:1},yD={key:2},hD={key:3},gD={key:4},bD={key:5},kD={class:"page-description"};const wD=w({name:"UsersItem",components:{UsersNavigation:rD,RevisionsDrawerDetail:zh,SaveOptions:kg,CommentsSidebarDetail:mg,UserInfoSidebarDetail:F_(mD,[["render",function(e,t,l,a,i,n){const o=S("router-link"),s=S("v-divider"),r=S("sidebar-detail"),d=q("md");return E(),A(r,{icon:"info_outline",title:e.t("information"),close:""},{default:D((()=>[!1===e.isNew&&e.user?(E(),P("dl",fD,[e.user.id?(E(),P("div",vD,[j("dt",null,U(e.t("key")),1),j("dd",null,U(e.user.id),1)])):B("",!0),e.user.last_page?(E(),P("div",_D,[j("dt",null,U(e.t("last_page")),1),j("dd",null,[I(o,{to:e.user.last_page},{default:D((()=>[N(U(e.user.last_page),1)])),_:1},8,["to"])])])):B("",!0),e.user.last_access?(E(),P("div",yD,[j("dt",null,U(e.t("last_access")),1),j("dd",null,U(e.lastAccessDate),1)])):B("",!0),e.user.created_on?(E(),P("div",hD,[j("dt",null,U(e.t("created_on")),1),j("dd",null,U(e.user.created_on),1)])):B("",!0),e.user.created_by?(E(),P("div",gD,[j("dt",null,U(e.t("created_by")),1),j("dd",null,U(e.user.created_by),1)])):B("",!0),e.user.modified_on?(E(),P("div",bD,[j("dt",null,U(e.t("modified_on")),1),j("dd",null,U(e.user.modified_on),1)])):B("",!0)])):B("",!0),I(s),z(j("div",kD,null,512),[[d,e.t("page_help_users_item")]])])),_:1},8,["title"])}],["__scopeId","data-v-8ba7c4c4"]])},props:{primaryKey:{type:String,required:!0},role:{type:String,default:null}},setup(e){const{t:t,locale:l}=x(),a=ie(),i=F(),n=vI(),o=pI(),r=I_(),{primaryKey:d}=T(e),{breadcrumb:c}={breadcrumb:V((()=>[{name:t("user_directory"),to:"/users"}]))},{info:u}=Xt("directus_users"),p=F(null),{isNew:m,edits:f,item:v,saving:_,loading:y,save:h,remove:g,deleting:b,saveAsCopy:k,isBatch:w,archive:C,archiving:S,isArchived:E,validationErrors:A}=hg(F("directus_users"),d);e.role&&(f.value=s({role:e.role},f.value));const D=V((()=>Object.keys(f.value).length>0));Sg(D);const I=F(!1),$=F(!1),P=V((()=>{if(!0===y.value)return t("loading");if(!1===m.value&&v.value){return D_(v.value)}return t("adding_user")})),{loading:j,avatarSrc:L,roleName:R}=function(){const t=F(!1),l=F(null),a=F(null);return O((()=>e.primaryKey),(async function(){var i,n,o;if("+"===e.primaryKey)return;t.value=!0;try{const s=await dI.get(`/users/${e.primaryKey}`,{params:{fields:["role.name","avatar.id"]}});l.value=(null==(i=s.data.data.avatar)?void 0:i.id)?uI(Jh()+`assets/${s.data.data.avatar.id}?key=system-medium-cover`):null,a.value=null==(o=null==(n=s.data.data)?void 0:n.role)?void 0:o.name}catch(s){jy(s)}finally{t.value=!1}}),{immediate:!0}),{loading:t,avatarSrc:l,roleName:a}}(),M=F(!1),U=F(null),N=e=>{if(D.value)return M.value=!0,U.value=e.fullPath,!1};Se(N),te(N);const{deleteAllowed:B,archiveAllowed:q,saveAllowed:z,updateAllowed:K,revisionsAllowed:W,fields:H}=Cg(F("directus_users"),v,m),G=["id","external_id","last_page","created_on","created_by","modified_by","modified_on","last_access"],Q=V((()=>H.value.filter((e=>!1===G.includes(e.field))))),{formFields:X}=pD(Q),J=V((()=>!1===q.value?t("not_allowed"):!0===E.value?t("unarchive"):t("archive")));return Hh("meta+s",Y,i),Hh("meta+shift+s",Z,i),{t:t,router:a,title:P,item:v,loading:y,isNew:m,breadcrumb:c,edits:f,hasEdits:D,saving:_,saveAndQuit:async function(){try{const e=await h();await ee(e),await le(),a.push("/users")}catch{}},deleteAndQuit:async function(){try{await g(),a.push("/users")}catch{}},confirmDelete:I,deleting:b,saveAndStay:Y,saveAndAddNew:Z,saveAsCopyAndNavigate:async function(){try{const e=await k();e&&a.push(`/users/${e}`)}catch{}},isBatch:w,revisionsDrawerDetail:p,previewLoading:j,avatarSrc:L,roleName:R,confirmLeave:M,leaveTo:U,discardAndLeave:function(){if(!U.value)return;f.value={},a.push(U.value)},formFields:X,deleteAllowed:B,saveAllowed:z,archiveAllowed:q,isArchived:E,updateAllowed:K,toggleArchive:async function(){await C(),!0===E.value?a.push("/users"):$.value=!1},confirmArchive:$,collectionInfo:u,archiving:S,archiveTooltip:J,form:i,userName:D_,revisionsAllowed:W,validationErrors:A};async function Y(){var t,l;try{const i=await h();if(await ee(i),null==(l=null==(t=p.value)?void 0:t.refresh)||l.call(t),"+"===e.primaryKey){const e=i.id;a.replace(`/users/${e}`)}}catch{}}async function Z(){try{const e=await h();await ee(e),await le(),a.push("/users/+")}catch{}}async function ee(e){var t;if(r.currentUser.id!==(null==(t=v.value)?void 0:t.id))return;const a=null==e?void 0:e.language;a&&a!==l.value&&(await k_(a),await n.hydrate(),await o.hydrate())}async function le(){var e;r.currentUser.id===(null==(e=v.value)?void 0:e.id)&&await r.hydrate()}}}),xD={class:"user-item"},VD={key:0,class:"user-box"},CD={class:"avatar"},SD=["src","alt"],ED={class:"user-box-content"},AD={class:"name type-label"},DD={key:0,class:"title"},ID={key:0,class:"email"},FD={key:1,class:"location"};var OD=F_(wD,[["render",function(e,t,l,a,i,n){const o=S("v-icon"),s=S("v-button"),r=S("v-breadcrumb"),d=S("v-card-title"),c=S("v-card-actions"),u=S("v-card"),p=S("v-dialog"),m=S("save-options"),f=S("users-navigation"),v=S("v-skeleton-loader"),_=S("v-chip"),y=S("v-form"),h=S("v-card-text"),g=S("user-info-sidebar-detail"),b=S("revisions-drawer-detail"),k=S("comments-sidebar-detail"),w=S("private-view"),x=q("tooltip");return E(),A(w,{title:e.title},{"title-outer:prepend":D((()=>[I(s,{class:"header-icon",rounded:"",icon:"",secondary:"",exact:"",onClick:t[0]||(t[0]=t=>e.router.back())},{default:D((()=>[I(o,{name:"arrow_back"})])),_:1})])),headline:D((()=>[I(r,{items:e.breadcrumb},null,8,["items"])])),actions:D((()=>[I(p,{modelValue:e.confirmDelete,"onUpdate:modelValue":t[2]||(t[2]=t=>e.confirmDelete=t),disabled:!1===e.deleteAllowed,onEsc:t[3]||(t[3]=t=>e.confirmDelete=!1)},{activator:D((({on:t})=>[z(I(s,{rounded:"",icon:"",class:"action-delete",disabled:null===e.item||!0!==e.deleteAllowed,onClick:t},{default:D((()=>[I(o,{name:"delete",outline:""})])),_:2},1032,["disabled","onClick"]),[[x,e.deleteAllowed?e.t("delete_label"):e.t("not_allowed"),void 0,{bottom:!0}]])])),default:D((()=>[I(u,null,{default:D((()=>[I(d,null,{default:D((()=>[N(U(e.t("delete_are_you_sure")),1)])),_:1}),I(c,null,{default:D((()=>[I(s,{secondary:"",onClick:t[1]||(t[1]=t=>e.confirmDelete=!1)},{default:D((()=>[N(U(e.t("cancel")),1)])),_:1}),I(s,{kind:"danger",loading:e.deleting,onClick:e.deleteAndQuit},{default:D((()=>[N(U(e.t("delete_label")),1)])),_:1},8,["loading","onClick"])])),_:1})])),_:1})])),_:1},8,["modelValue","disabled"]),e.collectionInfo.meta&&e.collectionInfo.meta.archive_field&&!e.isNew?(E(),A(p,{key:0,modelValue:e.confirmArchive,"onUpdate:modelValue":t[5]||(t[5]=t=>e.confirmArchive=t),disabled:!1===e.archiveAllowed,onEsc:t[6]||(t[6]=t=>e.confirmArchive=!1)},{activator:D((({on:t})=>[e.collectionInfo.meta&&!1===e.collectionInfo.meta.singleton?z((E(),A(s,{key:0,rounded:"",icon:"",class:"action-archive",disabled:null===e.item||!0!==e.archiveAllowed,onClick:t},{default:D((()=>[I(o,{name:e.isArchived?"unarchive":"archive",outline:""},null,8,["name"])])),_:2},1032,["disabled","onClick"])),[[x,e.archiveTooltip,void 0,{bottom:!0}]]):B("",!0)])),default:D((()=>[I(u,null,{default:D((()=>[I(d,null,{default:D((()=>[N(U(e.isArchived?e.t("unarchive_confirm"):e.t("archive_confirm")),1)])),_:1}),I(c,null,{default:D((()=>[I(s,{secondary:"",onClick:t[4]||(t[4]=t=>e.confirmArchive=!1)},{default:D((()=>[N(U(e.t("cancel")),1)])),_:1}),I(s,{kind:"warning",loading:e.archiving,onClick:e.toggleArchive},{default:D((()=>[N(U(e.isArchived?e.t("unarchive"):e.t("archive")),1)])),_:1},8,["loading","onClick"])])),_:1})])),_:1})])),_:1},8,["modelValue","disabled"])):B("",!0),z(I(s,{rounded:"",icon:"",loading:e.saving,disabled:!1===e.hasEdits||!1===e.saveAllowed,onClick:e.saveAndQuit},{"append-outer":D((()=>[!0===e.hasEdits?(E(),A(m,{key:0,onSaveAndStay:e.saveAndStay,onSaveAndAddNew:e.saveAndAddNew,onSaveAsCopy:e.saveAsCopyAndNavigate},null,8,["onSaveAndStay","onSaveAndAddNew","onSaveAsCopy"])):B("",!0)])),default:D((()=>[I(o,{name:"check"})])),_:1},8,["loading","disabled","onClick"]),[[x,e.saveAllowed?e.t("save"):e.t("not_allowed"),void 0,{bottom:!0}]])])),navigation:D((()=>[I(f,{"current-role":e.item&&e.item.role||e.role},null,8,["current-role"])])),sidebar:D((()=>[I(g,{"is-new":e.isNew,user:e.item},null,8,["is-new","user"]),!1===e.isBatch&&!1===e.isNew&&e.revisionsAllowed?(E(),A(b,{key:0,ref:"revisionsDrawerDetail",collection:"directus_users","primary-key":e.primaryKey},null,8,["primary-key"])):B("",!0),!1===e.isBatch&&!1===e.isNew?(E(),A(k,{key:1,collection:"directus_users","primary-key":e.primaryKey},null,8,["primary-key"])):B("",!0)])),default:D((()=>[j("div",xD,[!1===e.isNew?(E(),P("div",VD,[j("div",CD,[e.loading||e.previewLoading?(E(),A(v,{key:0})):e.avatarSrc?(E(),P("img",{key:1,src:e.avatarSrc,alt:e.t("avatar")},null,8,SD)):(E(),A(o,{key:2,name:"account_circle",outline:"","x-large":""}))]),j("div",ED,[e.loading?(E(),P(R,{key:0},[I(v,{type:"text"}),I(v,{type:"text"}),I(v,{type:"text"})],64)):!1===e.isNew&&e.item?(E(),P(R,{key:1},[j("div",AD,[N(U(e.userName(e.item))+" ",1),e.item.title?(E(),P("span",DD,", "+U(e.item.title),1)):B("",!0)]),e.item.email?(E(),P("div",ID,[I(o,{name:"alternate_email",small:"",outline:""}),N(" "+U(e.item.email),1)])):B("",!0),e.item.location?(E(),P("div",FD,[I(o,{name:"place",small:"",outline:""}),N(" "+U(e.item.location),1)])):B("",!0),e.roleName?(E(),A(_,{key:2,class:H(e.item.status),small:""},{default:D((()=>[N(U(e.roleName),1)])),_:1},8,["class"])):B("",!0)],64)):B("",!0)])])):B("",!0),I(y,{ref:"form",modelValue:e.edits,"onUpdate:modelValue":t[7]||(t[7]=t=>e.edits=t),disabled:!e.isNew&&!1===e.updateAllowed,fields:e.formFields,loading:e.loading,"initial-values":e.item,"batch-mode":e.isBatch,"primary-key":e.primaryKey,"validation-errors":e.validationErrors},null,8,["modelValue","disabled","fields","loading","initial-values","batch-mode","primary-key","validation-errors"])]),I(p,{modelValue:e.confirmLeave,"onUpdate:modelValue":t[9]||(t[9]=t=>e.confirmLeave=t),onEsc:t[10]||(t[10]=t=>e.confirmLeave=!1)},{default:D((()=>[I(u,null,{default:D((()=>[I(d,null,{default:D((()=>[N(U(e.t("unsaved_changes")),1)])),_:1}),I(h,null,{default:D((()=>[N(U(e.t("unsaved_changes_copy")),1)])),_:1}),I(c,null,{default:D((()=>[I(s,{secondary:"",onClick:e.discardAndLeave},{default:D((()=>[N(U(e.t("discard_changes")),1)])),_:1},8,["onClick"]),I(s,{onClick:t[8]||(t[8]=t=>e.confirmLeave=!1)},{default:D((()=>[N(U(e.t("keep_editing")),1)])),_:1})])),_:1})])),_:1})])),_:1},8,["modelValue"])])),_:1},8,["title"])}],["__scopeId","data-v-1a2e7502"]]),$D=Zt({id:"users",name:"$t:user_directory",icon:"people_alt",routes:[{name:"users-collection",path:"",component:uD},{name:"users-item",path:":primaryKey",component:OD,props:!0},{path:"roles",redirect:"/users"},{name:"roles-collection",path:"roles/:role",component:uD,props:!0},{name:"roles-item-add",path:"roles/:role/+",component:OD,props:e=>({primaryKey:"+",role:e.params.role})}],order:10,preRegisterCheck(e,t){if(e.role.admin_access)return!0;return!!t.find((e=>"directus_users"===e.collection&&"read"===e.action))}}),TD=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:$D});const{modulesRaw:PD}=Sl();let jD=[];async function LD(){const e={"./activity/index.ts":Ay,"./collections/index.ts":Ng,"./docs/index.ts":ib,"./files/index.ts":Pk,"./insights/index.ts":Jw,"./settings/index.ts":iD,"./users/index.ts":TD},t=Object.values(e).map((e=>e.default));try{const e=await ul((()=>import(`${Jh()}extensions/modules/index.js`)),[]);t.push(...e.default)}catch(l){console.warn("Couldn't load custom modules"),console.warn(l)}jD=t}function RD(e){const t=EI();return t.settings&&e in t.settings?t.settings[e]:null}const MD={name:"OpenStreetMap",type:"raster",url:"https://{a-c}.tile.openstreetmap.org/{z}/{x}/{y}.png",tileSize:256},UD={version:8,glyphs:"https://fonts.openmaptiles.org/{fontstack}/{range}.pbf"};function ND(){return RD("mapbox_key")?[qD(),MD,...RD("basemaps")||[]]:[MD,...RD("basemaps")||[]]}function BD(e){if(function(e){e=e.replace(/^mapbox:\//,"https://api.mapbox.com/styles/v1");try{const t=new URL(e);if("api.mapbox.com"==t.host){const e=t.searchParams.get("access_token");e&&(qe.accessToken=e)}}catch{return}}(e.url),"style"==e.type)return e.url;{const t=s({},UD),l={type:"raster"};return"raster"==e.type&&(l.tiles=function(e){const t=[];let l=/\{([a-z])-([a-z])\}/.exec(e);if(l){const a=l[1].charCodeAt(0),i=l[2].charCodeAt(0);let n;for(n=a;n<=i;++n)t.push(e.replace(l[0],String.fromCharCode(n)));return t}if(l=/\{(\d+)-(\d+)\}/.exec(e),l){const a=parseInt(l[2],10);for(let i=parseInt(l[1],10);i<=a;i++)t.push(e.replace(l[0],i.toString()));return t}if(l=/\{(([a-z0-9]+)(,([a-z0-9]+))+)\}/.exec(e),l){const a=l[1].split(",");for(const i of a)t.push(e.replace(l[0],i));return t}return t.push(e),t}(e.url),l.tileSize=e.tileSize||512),"tile"==e.type&&(l.url=e.url),t.layers=[{id:e.name,source:e.name,type:"raster"}],t.sources={[e.name]:l},t}}function qD(){const e={name:"Mapbox",type:"style",url:"mapbox://styles/directus/cktaiz31c509n18nrxj63zdy6"};return"dark"===function(){const e=I_();return e.currentUser?"auto"===e.currentUser.theme?window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light":e.currentUser.theme:"light"}()&&(e.url="mapbox://styles/directus/cktaixyhk2joh17lrb5i8zs22"),e}function zD(e=[pI,vI,I_,CI,xI,EI,SI,yI,VI,gI,_I]){return e.map((e=>e()))}async function KD(e=zD()){var t,l,a;const i=dl(),n=I_();if(!i.hydrated&&!i.hydrating){i.hydrating=!0;try{await n.hydrate(),(null==(t=n.currentUser)?void 0:t.role)&&(await Promise.all(e.filter((({$id:e})=>"userStore"!==e)).map((e=>{var t;return null==(t=e.hydrate)?void 0:t.call(e)}))),await async function(){const e=I_(),t=gI(),l=[];for(const a of jD)e.currentUser&&(a.preRegisterCheck?await a.preRegisterCheck(e.currentUser,t.permissions)&&l.push(a):l.push(a));for(const a of l)uw.addRoute({name:a.id,path:`/${a.id}`,component:Iy,children:a.routes});PD.value=l}(),await k_(null!=(a=null==(l=n.currentUser)?void 0:l.language)?a:"en-US")),i.basemap=ND()[0].name}catch(o){i.error=o}finally{i.hydrating=!1}i.hydrated=!0}}async function WD(e=zD()){var t;const l=dl();if(!1!==l.hydrated){for(const l of e)await(null==(t=l.dehydrate)?void 0:t.call(l));!function(){for(const e of PD.value)uw.removeRoute(e.id);PD.value=[]}(),l.hydrated=!1}}const HD=["pointermove","pointerdown","keydown"];let GD,QD=!0,XD=!1;const JD=Ae();function YD(){!0===XD&&(XD=!1,JD.emit("active")),eI()}function ZD(){"hidden"===document.visibilityState&&!0===QD&&(QD=!1,JD.emit("hide")),"visible"===document.visibilityState&&!1===QD&&(QD=!0,JD.emit("show"))}function eI(){GD&&clearTimeout(GD),GD=setTimeout((()=>{XD=!0,JD.emit("idle")}),3e5)}let tI,lI=!1;async function aI({navigate:e}={navigate:!0}){const t=dl();try{delete dI.defaults.headers.Authorization;const e=await dI.post("/auth/refresh"),l=e.data.data.access_token;return dI.defaults.headers.Authorization=`Bearer ${l}`,tI&&clearTimeout(tI),e.data.data.expires<=21e8&&(tI=setTimeout((()=>aI()),e.data.data.expires-1e4)),t.authenticated=!0,l}catch(l){await oI({navigate:e,reason:iI.SESSION_EXPIRED})}}var iI,nI;async function oI(e={}){const t=dl(),l={navigate:!0,reason:iI.SIGN_OUT};delete dI.defaults.headers.Authorization;const a=s(s({},l),e);if(a.reason===iI.SIGN_OUT&&await dI.post("/auth/logout"),t.authenticated=!1,await WD(),!0===a.navigate){const e={path:"/login",query:{reason:a.reason}};uw.push(e)}}JD.on("idle",(()=>{clearTimeout(tI),lI=!0})),JD.on("hide",(()=>{clearTimeout(tI),lI=!0})),JD.on("active",m.exports.debounce((()=>{!0===lI&&(aI(),lI=!1)}),1e3)),JD.on("show",m.exports.debounce((()=>{!0===lI&&(aI(),lI=!1)}),1e3)),(nI=iI||(iI={})).SIGN_OUT="SIGN_OUT",nI.SESSION_EXPIRED="SESSION_EXPIRED";const sI=ze.create({baseURL:Jh(),withCredentials:!0,headers:{"Cache-Control":"no-store"}}),rI=new Ke({concurrency:5,intervalCap:5,interval:500,carryoverConcurrencyCount:!0});sI.interceptors.request.use((e=>{const t=CI().startRequest(),l=s({id:t},e);return new Promise((e=>{rI.add((()=>e(l)))}))})),sI.interceptors.response.use((e=>{var t;const l=CI(),a=null==(t=e.config)?void 0:t.id;return a&&l.endRequest(a),e}),(async e=>{var t,l,a,i,n,o,d,c;const u=CI(),p=null==(l=null==(t=e.response)?void 0:t.config)?void 0:l.id;p&&u.endRequest(p);const m=null==(a=e.response)?void 0:a.status,f=null==(c=null==(d=null==(o=null==(n=null==(i=e.response)?void 0:i.data)?void 0:n.errors)?void 0:o[0])?void 0:d.extensions)?void 0:c.code;if(401===m&&"INVALID_CREDENTIALS"===f&&!1===e.request.responseURL.includes("refresh")&&!1===e.request.responseURL.includes("login")&&!1===e.request.responseURL.includes("tfa")){let t;try{t=await aI()}catch{return oI({reason:iI.SESSION_EXPIRED}),Promise.reject()}if(t)return sI.request(r(s({},e.config),{headers:{Authorization:`Bearer ${t}`}}))}return Promise.reject(e)}));var dI=sI;function cI(){var e,t;return(null==(t=null==(e=sI.defaults.headers)?void 0:e.Authorization)?void 0:t.split(" ")[1])||null}function uI(e,t){const l=t||cI();return l?Dy(e,{access_token:l}):e}const pI=c({id:"collectionsStore",state:()=>({collections:[]}),getters:{visibleCollections(){return this.collections.filter((({collection:e})=>!1===e.startsWith("directus_"))).filter((e=>{var t;return!0!==(null==(t=e.meta)?void 0:t.hidden)}))},hiddenCollections(){return this.collections.filter((({collection:e})=>!1===e.startsWith("directus_"))).filter((e=>{var t;return!1!==(null==(t=e.meta)?void 0:t.hidden)}))},crudSafeSystemCollections(){return m.exports.orderBy(this.collections.filter((e=>!0===e.collection.startsWith("directus_"))),["collection"],["asc"]).filter((e=>!1===nh.includes(e.collection)))}},actions:{async hydrate(){const e=(await dI.get("/collections",{params:{limit:-1}})).data.data;this.collections=e.map((e=>{var t,l;const a=(null==(t=e.meta)?void 0:t.icon)||"label",i=null==(l=e.meta)?void 0:l.color,n=vV(e.collection);if(e.meta&&Iw(e.meta.translations))for(let o=0;o<e.meta.translations.length;o++){const{language:t,translation:l,singular:a,plural:i}=e.meta.translations[o];o_.global.mergeLocaleMessage(t,{collection_names:{[e.collection]:l},collection_names_singular:{[e.collection]:a},collection_names_plural:{[e.collection]:i}})}return r(s({},e),{name:n,icon:a,color:i})})),this.translateCollections()},translateCollections(){this.collections=this.collections.map((e=>{let t;return t=o_.global.te(`collection_names.${e.collection}`)?o_.global.t(`collection_names.${e.collection}`):vV(e.collection),r(s({},e),{name:t})}))},async dehydrate(){this.$reset()},async updateCollection(e,t){try{await dI.patch(`/collections/${e}`,t),await this.hydrate(),Qh({type:"success",title:o_.global.t("update_collection_success")})}catch(l){jy(l)}},async deleteCollection(e){try{await dI.delete(`/collections/${e}`),await this.hydrate(),Qh({type:"success",title:o_.global.t("delete_collection_success")})}catch(t){jy(t)}},getCollection(e){return this.collections.find((t=>t.collection===e))||null}}}),mI={collection:"directus_files",field:"$thumbnail",schema:null,name:"$thumbnail",type:"integer",meta:{id:-1,collection:"directus_files",field:"$thumbnail",sort:null,special:null,interface:null,options:null,display:"file",display_options:null,hidden:!1,translations:null,readonly:!0,width:"full",group:null,note:null,required:!1,conditions:null}};let fI;const vI=c({id:"fieldsStore",state:()=>({fields:[]}),actions:{async hydrate(){const e=(await dI.get("/fields",{params:{limit:-1}})).data.data;this.fields=[...e.map(this.parseField),mI],this.translateFields()},async dehydrate(){this.$reset()},parseField(e){const t=vV(e.field);if(e.meta&&Iw(e.meta.translations)&&e.meta.translations.length>0)for(let l=0;l<e.meta.translations.length;l++){const{language:t,translation:a}=e.meta.translations[l];o_.global.mergeLocaleMessage(t,{fields:{[e.collection]:{[e.field]:a}}})}return r(s({},e),{name:t})},translateFields(){this.fields=this.fields.map((e=>{let t;return t=o_.global.te(`fields.${e.collection}.${e.field}`)?o_.global.t(`fields.${e.collection}.${e.field}`):vV(e.field),r(s({},e),{name:t})}))},async createField(e,t){const l=[...this.fields];this.fields=[...this.fields,t];try{const l=await dI.post(`/fields/${e}`,t),a=this.parseField(l.data.data);return this.fields=this.fields.map((l=>(l.collection===e&&(l.field,t.field),l))),a}catch(a){this.fields=l,jy(a)}},async updateField(e,t,l){const a=[...this.fields];this.fields=this.fields.map((a=>a.collection===e&&a.field===t?m.exports.merge({},a,l):a));try{const a=await dI.patch(`/fields/${e}/${t}`,l);this.fields=this.fields.map((l=>l.collection===e&&l.field===t?this.parseField(a.data.data):l))}catch(i){this.fields=a,jy(i)}},async updateFields(e,t){const l=C(),a=[...this.fields];fI=l,this.fields=this.fields.map((l=>{if(l.collection===e){const e=t.find((e=>e.field===l.field));if(e)return m.exports.merge({},l,e)}return l}));try{const a=await dI.patch(`/fields/${e}`,t);fI===l&&(this.fields=this.fields.map((t=>{if(t.collection===e){const e=a.data.data.find((e=>e.field===t.field));if(e)return this.parseField(e)}return t})),this.translateFields())}catch(i){this.fields=a,jy(i)}},async deleteField(e,t){const l=[...this.fields];this.fields=this.fields.filter((l=>l.field!==t||l.collection!==e));try{await dI.delete(`/fields/${e}/${t}`)}catch(a){this.fields=l,jy(a)}},getPrimaryKeyFieldForCollection(e){return this.fields.find((t=>{var l;return t.collection===e&&!0===(null==(l=t.schema)?void 0:l.is_primary_key)}))},getFieldsForCollection(e){return m.exports.orderBy(this.fields.filter((t=>t.collection===e)),(e=>{var t,l;return(null==(t=e.meta)?void 0:t.sort)?Number(null==(l=e.meta)?void 0:l.sort):null}))},getFieldsForCollectionAlphabetical(e){return this.getFieldsForCollection(e).sort(((e,t)=>e.field<t.field?-1:(e.field,t.field,1)))},getField(e,t){return t.includes(".")?this.getRelationalField(e,t)||null:this.fields.find((l=>l.collection===e&&l.field===t))||null},getRelationalField(e,t){var l;const a=VI(),i=t.split("."),n=null==(l=a.getRelationsForField(e,i[0]))?void 0:l.find((e=>{var t;return e.field===i[0]||(null==(t=e.meta)?void 0:t.one_field)===i[0]}));if(void 0===n)return!1;const o=n.field===i[0]?n.related_collection:n.collection;i.shift();const s=i.join(".");return this.getField(o,s)}}}),_I=c({id:"insightsStore",state:()=>({dashboards:[]}),actions:{async hydrate(){try{const e=await dI.get("/dashboards",{params:{limit:-1,fields:["*","panels.*"],sort:["name"]}});this.dashboards=e.data.data}catch{this.dashboards=[]}},async dehydrate(){this.$reset()}}}),yI=c({id:"latencyStore",state:()=>({latency:[]}),actions:{async dehydrate(){this.$reset()},save(e){this.latency.push(e),this.latency=this.latency.slice(-20)}}}),hI=c({id:"notificationsStore",state:()=>({dialogs:[],queue:[],previous:[]}),actions:{add(e){const t=C(),l=Date.now();return!0===e.dialog?(e.persist=!0,this.dialogs=[...this.dialogs,r(s({},e),{id:t,timestamp:l})]):this.queue=[...this.queue,r(s({},e),{id:t,timestamp:l})],!0!==e.persist&&setTimeout((()=>{this.remove(t)}),3e3),t},hide(e){const t=[...this.queue,...this.dialogs].find((t=>t.id===e));t&&(!0===t.dialog?this.dialogs=this.dialogs.filter((t=>t.id!==e)):this.queue=this.queue.filter((t=>t.id!==e)),this.previous=[...this.previous,t])},remove(e){const t=[...this.queue,...this.dialogs].find((t=>t.id===e));t&&(!0===t.dialog?this.dialogs=this.dialogs.filter((t=>t.id!==e)):this.queue=this.queue.filter((t=>t.id!==e)))},update(e,t){function l(l){return l.id===e?s(s({},l),t):l}this.queue=this.queue.map(l),this.dialogs=this.dialogs.map(l),this.previous=this.queue.map(l)}},getters:{lastFour(){const e=[...this.queue,...this.previous.filter((e=>!0!==e.dialog))],t=m.exports.reverse(m.exports.sortBy(e,["timestamp"])).slice(0,4);return m.exports.reverse(t)}}}),gI=c({id:"permissionsStore",state:()=>({permissions:[]}),actions:{async hydrate(){const e=I_(),t=await dI.get("/permissions",{params:{limit:-1,filter:{role:{_eq:e.currentUser.role.id}}}});this.permissions=t.data.data.map((e=>(e.permissions&&(e.permissions=yg(e.permissions)),e.validation&&(e.validation=yg(e.validation)),e.presets&&(e.presets=yg(e.presets)),e)))},dehydrate(){this.$reset()},getPermissionsForUser(e,t){const l=I_();return this.permissions.find((a=>{var i,n;return a.action===t&&a.collection===e&&a.role===(null==(n=null==(i=l.currentUser)?void 0:i.role)?void 0:n.id)}))||null},hasPermission(e,t){var l,a;return!0===(null==(a=null==(l=I_().currentUser)?void 0:l.role)?void 0:a.admin_access)||!!this.getPermissionsForUser(e,t)}}}),bI={bookmark:null,role:null,user:null,search:null,filters:null,layout:null,layout_query:null,layout_options:null,refresh_interval:null},kI={directus_files:{collection:"directus_files",layout:"cards",layout_query:{cards:{sort:"-uploaded_on"}},layout_options:{cards:{icon:"insert_drive_file",title:"{{ title }}",subtitle:"{{ type }} • {{ filesize }}",size:4,imageFit:"crop"}}},directus_users:{collection:"directus_users",layout:"cards",layout_query:{cards:{sort:"email"}},layout_options:{cards:{icon:"account_circle",title:"{{ first_name }} {{ last_name }}",subtitle:"{{ email }}",size:4}}},directus_activity:{collection:"directus_activity",layout:"tabular",layout_query:{tabular:{sort:"-timestamp",fields:["action","collection","timestamp","user"]}},layout_options:{tabular:{widths:{action:100,collection:210,timestamp:240,user:240}}}},directus_roles:{collection:"directus_roles",layout:"tabular",layout_query:{tabular:{fields:["icon","name","description"]}},layout_options:{tabular:{widths:{icon:36,name:248,description:500}}}}},wI={},xI=c({id:"presetsStore",state:()=>({collectionPresets:[]}),actions:{async hydrate(){const{id:e,role:t}=I_().currentUser,l=(await Promise.all([dI.get("/presets",{params:{"filter[user][_eq]":e,limit:-1}}),dI.get("/presets",{params:{"filter[role][_eq]":t.id,"filter[user][_null]":!0,limit:-1}}),dI.get("/presets",{params:{"filter[role][_null]":!0,"filter[user][_null]":!0,limit:-1}})])).map((e=>e.data.data)).flat();for(const a of Object.keys(kI)){l.find((e=>e.collection===a&&!e.user&&!e.role&&!e.bookmark))||l.push(m.exports.merge({},bI,kI[a]))}this.collectionPresets=l},async dehydrate(){this.$reset()},async create(e){const t=await dI.post("/presets",e);return this.collectionPresets.push(t.data.data),t.data.data},async update(e,t){const l=C();wI[e]=l;const a=await dI.patch(`/presets/${e}`,t);return wI[e]===l&&(this.collectionPresets=this.collectionPresets.map((e=>{const t=a.data.data;return e.id===t.id?t:e}))),a.data.data},async delete(e){await dI.delete(`/presets/${e}`),this.collectionPresets=this.collectionPresets.filter((t=>t.id!==e))},getPresetForCollection(e){const t=I_();if(null===t.currentUser)return null;const{id:l,role:a}=t.currentUser,i=r(s({},bI),{collection:e,user:l}),n=this.collectionPresets.filter((t=>{const i=t.user===l||null===t.user,n=t.role===a.id||null===t.role,o=t.collection===e;return!t.bookmark&&(!(!i||!o)||!(!n||!o))}));if(0===n.length)return i;if(1===n.length)return n[0];const o=n.find((e=>e.user===l));if(o)return o;const d=n.find((e=>e.role===a.id));if(d)return d;return n[n.length-1]},getBookmark(e){return this.collectionPresets.find((t=>t.id===e))||null},async savePreset(e){const t=I_();if(null===t.currentUser)return null;const{id:l}=t.currentUser;if(void 0===(e=m.exports.cloneDeep(e)).id||null===e.id)return await this.create(r(s({},e),{user:l}));if(e.user!==l)return"id"in e&&delete e.id,await this.create(r(s({},e),{user:l}));{const t=e.id;return delete e.id,await this.update(t,e)}},saveLocal(e){this.collectionPresets=this.collectionPresets.map((t=>t.id===e.id?s({},e):t))},async clearLocalSave(e){const t=await dI.get(`/presets/${e.id}`);this.collectionPresets=this.collectionPresets.map((e=>e.id===t.data.data.id?t.data.data:e))}}}),VI=c({id:"relationsStore",state:()=>({relations:[]}),actions:{async hydrate(){const e=await dI.get("/relations",{params:{limit:-1}});this.relations=e.data.data},async dehydrate(){this.$reset()},getRelationsForCollection(e){return this.relations.filter((t=>t.collection===e||t.related_collection===e))},getRelationsForField(e,t){var l;if(!vI().getField(e,t))return[];const a=this.getRelationsForCollection(e).filter((l=>{var a;return l.collection===e&&l.field===t||l.related_collection===e&&(null==(a=l.meta)?void 0:a.one_field)===t}));if(a.length>0){if(null!==(null==(l=a[0].meta)?void 0:l.junction_field)){const e=this.relations.find((e=>{var t;return e.collection===a[0].collection&&e.field===(null==(t=a[0].meta)?void 0:t.junction_field)}));e&&a.push(e)}}return a},getRelationForField(e,t){if(!vI().getField(e,t))return null;return this.getRelationsForCollection(e).filter((l=>{var a;return l.collection===e&&l.field===t||l.related_collection===e&&(null==(a=l.meta)?void 0:a.one_field)===t})).find((l=>l.collection===e&&l.field===t))||null}}}),CI=c({id:"requestsStore",state:()=>({queue:[]}),getters:{queueHasItems(){return this.queue.length>0}},actions:{startRequest(){const e=C();return this.queue=[...this.queue,e],e},endRequest(e){this.queue=this.queue.filter((t=>t!==e))}}}),SI=c({id:"serverStore",state:()=>({info:null}),actions:{async hydrate(){const e=await dI.get("/server/info",{params:{limit:-1}});this.info=e.data.data},dehydrate(){this.$reset()}}}),EI=c({id:"settingsStore",state:()=>({settings:null}),actions:{async hydrate(){const e=await dI.get("/settings");this.settings=e.data.data},async dehydrate(){this.$reset()},async updateSettings(e){const t=s({},this.settings),l=m.exports.merge({},this.settings,e);this.settings=l;try{const t=await dI.patch("/settings",e);this.settings=t.data.data,Qh({title:o_.global.t("settings_update_success"),type:"success"})}catch(a){this.settings=t,jy(a)}}}});var AI=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",useAppStore:dl,useCollectionsStore:pI,useFieldsStore:vI,useInsightsStore:_I,useLatencyStore:yI,useNotificationsStore:hI,usePermissionsStore:gI,usePresetsStore:xI,useRelationsStore:VI,useRequestsStore:CI,useServerStore:SI,useSettingsStore:EI,useUserStore:I_});const DI=w({setup(){const{t:e}=x(),t=dl(),l=I_(),a=SI(),{hydrating:i}=T(t),n=V((()=>{var e,t;return{"--brand":(null==(t=null==(e=a.info)?void 0:e.project)?void 0:t.project_color)||"var(--primary)"}}));ee((()=>function(){document.addEventListener("visibilitychange",ZD);for(const e of HD)document.addEventListener(e,YD);eI()}())),he((()=>function(){document.removeEventListener("visibilitychange",ZD);for(const e of HD)document.removeEventListener(e,YD)}())),O([()=>{var e,t;return null==(t=null==(e=a.info)?void 0:e.project)?void 0:t.project_color},()=>{var e,t;return null==(t=null==(e=a.info)?void 0:e.project)?void 0:t.project_logo}],(()=>{var e,t,l,i;const n=!!(null==(t=null==(e=a.info)?void 0:e.project)?void 0:t.project_logo);!function(e="#00C897",t=!1){const l=((e,t)=>`\n<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 200 200">\n\t<style>\n\t\tcircle {\n\t\t\tfill: ${e};\n\t\t}\n\t</style>\n\n\t<circle cx="100" cy="100" r="100"/>\n\n\t${t?"":'<path d="M143.122 109.533c-.663-.167-1.216-.334-1.715-.557a3.945 3.945 0 01-1.216-.836c.332-2.952 0-5.514.276-8.411 1.106-11.253 8.132-7.688 14.439-9.526 3.928-1.114 7.855-3.398 8.851-8.078-4.315-5.069-9.128-9.526-14.383-13.314-17.094-12.255-39.444-17.157-59.747-13.76a30.762 30.762 0 0013.428 12.535s-5.502 0-10.218-3.548c-1.383.558-4.15 1.654-5.478 2.322 10.788 10.417 27.66 11.587 39.776 2.228-.055.112-1.107 1.727-2.379 8.468-2.821 14.372-10.954 13.258-21.022 9.637-20.911-7.631-32.418-.557-42.873-15.04a9.73 9.73 0 00-4.924 8.467c0 3.621 1.992 6.685 4.868 8.356 1.57-2.098 2.275-2.695 5.014-2.695-4.239 2.42-4.737 4.533-6.563 10.382-2.213 7.075-1.272 14.317-11.617 16.211-5.477.279-5.366 4.011-7.358 9.582-2.489 7.242-5.808 10.139-12.281 16.99 2.655 3.231 5.421 3.621 8.243 2.451 5.808-2.45 10.29-10.027 14.494-14.929 4.702-5.46 15.988-3.12 24.507-8.467 5.864-3.622 8.74-8.524 4.868-16.824 2.49 2.785 3.983 6.295 4.204 10.027 9.848-1.28 23.014 10.807 35.019 12.813-1.217-1.56-2.213-3.231-2.932-4.958-1.383-3.342-1.826-6.406-1.55-9.08 1.107 6.629 7.746 15.152 18.423 15.932 2.71.223 5.697-.112 8.795-1.058 3.707-1.115 7.137-2.563 11.23-1.783 3.043.557 5.864 2.117 7.635 4.735 2.655 3.9 8.464 4.735 11.064-.056-5.864-15.43-22.018-16.433-28.878-18.216z" fill="#FFF"/>'}\n</svg>`)(e,t),a=document.createElement("div");if(a.innerHTML=l.trim(),a.firstChild){const e=(new XMLSerializer).serializeToString(a.firstChild),t="data:image/svg+xml;base64,"+window.btoa(e),l=document.querySelector("link[rel*='icon']")||document.createElement("link");l.type="image/x-icon",l.rel="icon",l.href=t,document.getElementsByTagName("head")[0].appendChild(l)}}((null==(i=null==(l=a.info)?void 0:l.project)?void 0:i.project_color)||"#00C897",n)})),O((()=>l.currentUser),(e=>{var t;document.body.classList.remove("dark"),document.body.classList.remove("light"),document.body.classList.remove("auto"),null!=e&&e.theme?(document.body.classList.add(e.theme),null==(t=document.querySelector('head meta[name="theme-color"]'))||t.setAttribute("content","light"===e.theme?"#ffffff":"#263238")):document.body.classList.add("light")})),O((()=>{var e,t;return null==(t=null==(e=a.info)?void 0:e.project)?void 0:t.project_name}),(e=>{document.title=e||"Directus"}));const o=V((()=>{var e,t;return(null==(t=null==(e=a.info)?void 0:e.project)?void 0:t.custom_css)||""})),s=V((()=>t.error));return le(tl,AI),le(ll,dI),{t:e,hydrating:i,brandStyle:n,error:s,customCSS:o}}}),II={key:0,class:"hydrating"};var FI=F_(DI,[["render",function(e,t,l,a,i,n){const o=S("v-progress-circular"),s=S("v-error"),r=S("v-info"),d=S("router-view");return E(),P("div",{id:"directus",style:Ue(e.brandStyle)},[I(We,{name:"fade"},{default:D((()=>[e.hydrating?(E(),P("div",II,[I(o,{indeterminate:""})])):B("",!0)])),_:1}),e.error?(E(),A(r,{key:0,type:"danger",title:e.t("unexpected_error"),icon:"error",center:""},{append:D((()=>[I(s,{error:e.error},null,8,["error"])])),default:D((()=>[N(U(e.t("unexpected_error_copy"))+" ",1)])),_:1},8,["title"])):e.hydrating?B("",!0):(E(),A(d,{key:1})),(E(),A(He,{to:"#custom-css"},[N(U(e.customCSS),1)]))],4)}],["__scopeId","data-v-2e5b0338"]]);const OI=w({props:{layoutQuery:{type:Object,default:()=>({})},filters:{type:Array,default:()=>[]},searchQuery:{type:String,default:null},collection:{type:String,required:!0}},setup(e){const{t:t}=x(),l=F("csv"),a=F(!0),i=pI(),n=V((()=>i.getCollection(e.collection).name));return{t:t,format:l,useFilters:a,exportData:function(){var t,i,n,o;const r=e.collection.startsWith("directus_")?`${e.collection.substring(9)}`:`items/${e.collection}`,d=Jh()+r;let c={access_token:dI.defaults.headers.Authorization.substring(7),export:l.value||"json"};!0===a.value&&((null==(t=e.layoutQuery)?void 0:t.sort)&&(c.sort=e.layoutQuery.sort),(null==(i=e.layoutQuery)?void 0:i.fields)&&(c.fields=e.layoutQuery.fields),(null==(n=e.layoutQuery)?void 0:n.limit)&&(c.limit=e.layoutQuery.limit),e.searchQuery&&(c.search=e.searchQuery),(null==(o=e.filters)?void 0:o.length)&&(c=s(s({},c),al(e.filters))),e.searchQuery&&(c.search=e.searchQuery));const u=dI.getUri({url:d,params:c});window.open(u)},collectionName:n}}}),$I={class:"fields"},TI={class:"field full"},PI={class:"type-label"},jI={class:"field full"};var LI=F_(OI,[["render",function(e,t,l,a,i,n){const o=S("v-select"),s=S("v-checkbox"),r=S("v-button"),d=S("sidebar-detail");return E(),A(d,{icon:"save_alt",title:e.t("export_data")},{default:D((()=>[j("div",$I,[j("div",TI,[j("p",PI,U(e.t("format")),1),I(o,{modelValue:e.format,"onUpdate:modelValue":t[0]||(t[0]=t=>e.format=t),items:[{text:e.t("csv"),value:"csv"},{text:e.t("json"),value:"json"},{text:e.t("xml"),value:"xml"}]},null,8,["modelValue","items"]),I(s,{modelValue:e.useFilters,"onUpdate:modelValue":t[1]||(t[1]=t=>e.useFilters=t),label:e.t("use_current_filters_settings")},null,8,["modelValue","label"])]),j("div",jI,[I(r,{"full-width":"",onClick:e.exportData},{default:D((()=>[N(U(e.t("export_collection",{collection:e.collectionName})),1)])),_:1},8,["onClick"])])])])),_:1},8,["title"])}],["__scopeId","data-v-6ecaa597"]]);var RI=F_(w({components:{ValueNull:mE},props:{display:{type:String,default:null},options:{type:Object,default:()=>({})},interface:{type:String,default:null},interfaceOptions:{type:Object,default:null},value:{type:[String,Number,Object,Array,Boolean],default:null},type:{type:String,required:!0},collection:{type:String,required:!0},field:{type:String,required:!0}},setup(e){const{displays:t}=fl();return{displayInfo:V((()=>t.value.find((t=>t.id===e.display))||null))}}}),[["render",function(e,t,l,a,i,n){const o=S("value-null"),s=S("v-text-overflow");return null===e.value||void 0===e.value?(E(),A(o,{key:0})):null===e.displayInfo?(E(),A(s,{key:1,class:"display",text:e.value},null,8,["text"])):"function"==typeof e.displayInfo.handler?(E(),A(s,{key:2,class:"display",text:e.displayInfo.handler(e.value,e.options,{type:e.type})},null,8,["text"])):(E(),A(L(`display-${e.display}`),Z({key:3},e.options,{interface:e.interface,"interface-options":e.interfaceOptions,value:e.value,type:e.type,collection:e.collection,field:e.field}),null,16,["interface","interface-options","value","type","collection","field"]))}],["__scopeId","data-v-6b3c9ebd"]]);const MI={alias:"raw",bigInteger:"formatted-value",binary:"raw",boolean:"boolean",date:"datetime",dateTime:"datetime",decimal:"formatted-value",float:"formatted-value",integer:"formatted-value",json:"raw",string:"formatted-value",text:"formatted-value",time:"datetime",timestamp:"datetime",uuid:"formatted-value",unknown:"raw",csv:"labels",hash:"formatted-value",geometry:"map"};function UI(e){return MI[e]||"raw"}const NI=w({components:{ValueNull:mE},props:{collection:{type:String,default:null},fields:{type:Array,default:null},item:{type:Object,default:null},template:{type:String,required:!0}},setup(e){const t=vI(),{displays:l}=fl(),a=F(),i=/({{.*?}})/g;return{parts:V((()=>e.template.split(i).filter((e=>e)).map((a=>{var i,n,o,s,r,d,c,u;if(!1===a.startsWith("{{"))return a;let p=a.replace(/{{/g,"").replace(/}}/g,"").trim();const f=t.getField(e.collection,p)||(null==(i=e.fields)?void 0:i.find((e=>e.field===p)));f&&"directus_files"===f.collection&&"$thumbnail"===f.field&&(p=p.split(".").filter((e=>"$thumbnail"!==e)).join("."));const v=m.exports.get(e.item,p);if(void 0===v)return null;if(!f)return v;if("raw"===((null==(n=null==f?void 0:f.meta)?void 0:n.display)||UI(f.type)))return v;const _=l.value.find((e=>{var t;return e.id===(null==(t=f.meta)?void 0:t.display)}));if(!_)return v;if("function"==typeof _.handler){return(0,_.handler)(v,null!=(s=null==(o=f.meta)?void 0:o.display_options)?s:null)}return{component:null==(r=f.meta)?void 0:r.display,options:null==(d=f.meta)?void 0:d.display_options,value:v,interface:null==(c=f.meta)?void 0:c.interface,interfaceOptions:null==(u=f.meta)?void 0:u.options,type:f.type,collection:f.collection,field:f.field}})).map((e=>null!=e?e:null)))),templateEl:a}}}),BI={ref:"templateEl",class:"render-template"},qI=(e=>(K("data-v-ca998ed8"),e=e(),W(),e))((()=>j("span",{class:"vertical-aligner"},null,-1))),zI={key:2};var KI=F_(NI,[["render",function(e,t,l,a,i,n){const o=S("value-null");return E(),P("div",BI,[qI,(E(!0),P(R,null,M(e.parts,((e,t)=>(E(),P(R,{key:t},[null===e||null===e.value?(E(),A(o,{key:0})):"object"==typeof e&&e.component?(E(),A(L(`display-${e.component}`),Z({key:1},e.options,{value:e.value,interface:e.interface,"interface-options":e.interfaceOptions,type:e.type,collection:e.collection,field:e.field}),null,16,["value","interface","interface-options","type","collection","field"])):(E(),P("span",zI,U(e),1))],64)))),128))],512)}],["__scopeId","data-v-ca998ed8"]]);function WI(e){var t;const l=ae((null==e?void 0:e.group)||"item-group",null);if(Dw(l))return{active:F(!1),toggle:()=>{},activate:()=>{},deactivate:()=>{}};const{register:a,unregister:i,toggle:n}=l,o=F(!0===(null==(t=null==e?void 0:e.active)?void 0:t.value)),s={active:o,value:null==e?void 0:e.value};return a(s),void 0!==(null==e?void 0:e.active)&&!0===e.watch&&O(e.active,(()=>{void 0!==e.active&&(!0===e.active.value&&(!1===o.value&&n(s),o.value=!0),!1===e.active.value&&(!0===o.value&&n(s),o.value=!1))})),ke((()=>i(s))),{active:o,toggle:()=>{n(s)},activate:()=>{!1===o.value&&n(s)},deactivate:()=>{!0===o.value&&n(s)}}}function HI(e={},t={},l="item-group"){const a=u([]),i=F([]),n=V({get:()=>Iw(e.selection)&&Iw(e.selection.value)?e.selection.value:i.value,set(t){Iw(e.onSelectionChange)&&e.onSelectionChange(t),i.value=[...t]}});return le(l,{register:function(e){var l;a.value=[...a.value,e];const i=s(e);0===n.value.length&&!0===(null==(l=null==t?void 0:t.mandatory)?void 0:l.value)&&1===a.value.length&&(n.value=[i]);e.active.value&&!1===n.value.includes(i)&&o(e)},unregister:function(e){a.value=a.value.filter((t=>t!==e))},toggle:o}),O(n,r),Ie().then(r),O((()=>{var e;return null==(e=null==t?void 0:t.mandatory)?void 0:e.value}),((e,l)=>{var i;m.exports.isEqual(e,l)||(!n.value||0===n.value.length&&!0===(null==(i=null==t?void 0:t.mandatory)?void 0:i.value))&&(n.value=[s(a.value[0])])})),{items:a,selection:n,internalSelection:i,getValueForItem:s,updateChildren:r};function o(e){var l;!0===(null==(l=null==t?void 0:t.multiple)?void 0:l.value)?function(e){var l,a;const i=s(e);if(n.value.includes(i))return!0===(null==(l=null==t?void 0:t.mandatory)?void 0:l.value)&&1===n.value.length?void r():void(n.value=n.value.filter((e=>e!==i)));if((null==(a=null==t?void 0:t.max)?void 0:a.value)&&-1!==t.max.value&&n.value.length>=t.max.value)return void r();n.value=[...n.value,i]}(e):function(e){var l;const a=s(e);if(n.value[0]===a&&!0!==(null==(l=null==t?void 0:t.mandatory)?void 0:l.value))return void(n.value=[]);n.value[0]!==a&&(n.value=[a])}(e)}function s(e){return e.value||a.value.findIndex((t=>e===t))}function r(){a.value.forEach((e=>{e.active.value=n.value.includes(s(e))}))}}const GI=w({props:{icon:{type:String,required:!0},title:{type:String,required:!0},badge:{type:[Boolean,String,Number],default:null},close:{type:Boolean,default:!1}},setup(e){const{active:t,toggle:l}=WI({value:e.title,group:"sidebar-detail"}),a=dl(),{sidebarOpen:i}=T(a);return{active:t,toggle:l,sidebarOpen:i}}}),QI={class:"icon"},XI={key:0,class:"icon"},JI={class:"content"};var YI=F_(GI,[["render",function(e,t,l,a,i,n){const o=S("v-icon"),s=S("v-badge"),r=S("transition-expand");return E(),P("div",{class:H(["sidebar-detail",{open:e.sidebarOpen}])},[j("button",{class:H(["toggle",{open:e.active}]),onClick:t[0]||(t[0]=(...t)=>e.toggle&&e.toggle(...t))},[j("div",QI,[I(s,{dot:!0===e.badge,bordered:"",value:e.badge,disabled:!e.badge},{default:D((()=>[I(o,{name:e.icon,outline:""},null,8,["name"])])),_:1},8,["dot","value","disabled"])]),z(j("div",{class:"title"},U(e.title),513),[[ce,e.sidebarOpen]]),e.close?B("",!0):(E(),P("div",XI,[I(o,{class:"expand-icon",name:e.active?"expand_less":"expand_more",outline:""},null,8,["name"])]))],2),e.close?z((E(),P("div",{key:0,class:"close",onClick:t[1]||(t[1]=t=>e.sidebarOpen=!1)},[I(o,{name:"close"})],512)),[[ce,e.sidebarOpen]]):B("",!0),I(r,{class:"scroll-container"},{default:D((()=>[z(j("div",null,[j("div",JI,[Q(e.$slots,"default",{},void 0,!0)])],512),[[ce,e.active]])])),_:3})],2)}],["__scopeId","data-v-cd036256"]]);const ZI=w({props:{user:{type:String,required:!0}},setup(e){const{t:t}=x(),l=ie(),a=F(!1),i=F(null),n=F(null),o=V((()=>{var e;return null===n.value?null:(null==(e=n.value.avatar)?void 0:e.id)?uI(`${Jh()}assets/${n.value.avatar.id}?key=system-medium-cover`):null})),s=F(!1);return O(s,(()=>{!0===s.value&&null===n.value&&!1===a.value&&async function(){a.value=!0,i.value=null;try{const t=await dI.get(`/users/${e.user}`,{params:{fields:["id","first_name","last_name","avatar.id","role.name","status","email"]}});n.value=t.data.data}catch(t){i.value=t}finally{a.value=!1}}()})),he((()=>{a.value=!1,i.value=null,n.value=null})),{t:t,loading:a,error:i,data:n,active:s,avatarSrc:o,userName:D_,navigateToUser:function(){n.value&&l.push(`/users/${n.value.id}`)}}}}),eF={key:0,class:"loading"},tF={key:1,class:"error"},lF=["src","alt"],aF={class:"data"},iF={class:"name type-title"},nF={class:"email"};var oF=F_(ZI,[["render",function(e,t,l,a,i,n){const o=S("v-skeleton-loader"),s=S("v-icon"),r=S("v-avatar"),d=S("v-menu");return E(),A(d,{modelValue:e.active,"onUpdate:modelValue":t[1]||(t[1]=t=>e.active=t),"show-arrow":"",placement:"top",trigger:"hover",delay:300},{activator:D((()=>[Q(e.$slots,"default",{},void 0,!0)])),default:D((()=>[e.loading?(E(),P("div",eF,[I(o,{class:"avatar"}),j("div",null,[I(o,{type:"text"}),I(o,{type:"text"}),I(o,{type:"text"})])])):e.error?(E(),P("div",tF,U(e.error),1)):e.data?(E(),P("div",{key:2,class:"user-box",onClick:t[0]||(t[0]=X(((...t)=>e.navigateToUser&&e.navigateToUser(...t)),["stop"]))},[I(r,{"x-large":"",class:"avatar"},{default:D((()=>[e.avatarSrc?(E(),P("img",{key:0,src:e.avatarSrc,alt:e.data.first_name},null,8,lF)):(E(),A(s,{key:1,name:"person",outline:""}))])),_:1}),j("div",aF,[j("div",iF,U(e.userName(e.data)),1),j("div",{class:H(["status-role",e.data.status])},U(e.t(e.data.status))+" "+U(e.data.role.name),3),j("div",nF,U(e.data.email),1)])])):B("",!0)])),_:3},8,["modelValue"])}],["__scopeId","data-v-71abbf85"]]);var sF=F_({},[["render",function(e,t){return E(),A(Ge,Z({name:"bounce",tag:"div"},e.$attrs),{default:D((()=>[Q(e.$slots,"default")])),_:3},16)}]]);var rF=F_({},[["render",function(e,t){return E(),A(Ge,Z({name:"dialog",tag:"span"},e.$attrs),{default:D((()=>[Q(e.$slots,"default")])),_:3},16)}]]);var dF=F_(w({props:{xAxis:{type:Boolean,default:!1},expandedParentClass:{type:String,default:""}},setup:e=>({methods:function(e="",t=!1){const l=t?"width":"height",a=`offset${gg(l)}`;return{beforeEnter(e){e._parent=e.parentNode,e._initialStyle={transition:e.style.transition,visibility:e.style.visibility,overflow:e.style.overflow,[l]:e.style[l]}},enter(t){const i=t._initialStyle;if(!i)return;const n=`${t[a]}px`;t.style.setProperty("transition","none","important"),t.style.visibility="hidden",t.style.visibility=i.visibility,t.style.overflow="hidden",t.style[l]="0",t.offsetHeight,t.style.transition=""!==i.transition?i.transition:`${l} var(--medium) var(--transition)`,e&&t._parent&&t._parent.classList.add(e),requestAnimationFrame((()=>{t.style[l]=n}))},afterEnter:n,enterCancelled:n,leave(e){e._initialStyle={transition:"",visibility:"",overflow:e.style.overflow,[l]:e.style[l]},e.style.overflow="hidden",e.style[l]=`${e[a]}px`,e.offsetHeight,requestAnimationFrame((()=>e.style[l]="0"))},afterLeave:i,leaveCancelled:i};function i(t){e&&t._parent&&t._parent.classList.remove(e),n(t)}function n(e){if(!e._initialStyle)return;const t=e._initialStyle[l];e.style.overflow=e._initialStyle.overflow,null!=t&&(e.style[l]=t),delete e._initialStyle}}(e.expandedParentClass,e.xAxis)})}),[["render",function(e,t,l,a,i,n){return E(),A(We,Z({name:"expand-transition",mode:"in-out"},Qe(e.methods)),{default:D((()=>[Q(e.$slots,"default")])),_:3},16)}]]);const cF={xSmall:{type:Boolean,default:!1},small:{type:Boolean,default:!1},large:{type:Boolean,default:!1},xLarge:{type:Boolean,default:!1}};function uF(e){return V((()=>e.xSmall?"x-small":e.small?"small":e.large?"large":e.xLarge?"x-large":null))}var pF=F_(w({props:s({size:{type:Number,default:null},tile:{type:Boolean,default:!1}},cF),setup:e=>({sizeClass:uF(e)})}),[["render",function(e,t,l,a,i,n){return E(),P("div",{class:H(["v-avatar",[{tile:e.tile},e.sizeClass]])},[Q(e.$slots,"default")],2)}],["__scopeId","data-v-fee7284a"]]);const mF=w({props:{value:{type:[Boolean,String,Number],default:null},dot:{type:Boolean,default:!1},left:{type:Boolean,default:!1},bottom:{type:Boolean,default:!1},icon:{type:String,default:null},bordered:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1}}}),fF={key:1};var vF=F_(mF,[["render",function(e,t,l,a,i,n){const o=S("v-icon");return E(),P("div",{class:H(["v-badge",{dot:e.dot,bordered:e.bordered}])},[e.disabled?B("",!0):(E(),P("span",{key:0,class:H(["badge",{dot:e.dot,bordered:e.bordered,left:e.left,bottom:e.bottom}])},[e.icon?(E(),A(o,{key:0,name:e.icon,color:e.color,"x-small":""},null,8,["name","color"])):(E(),P("span",fF,U(e.value),1))],2)),Q(e.$slots,"default",{},void 0,!0)],2)}],["__scopeId","data-v-040ce921"]]);const _F=w({props:{items:{type:Array,default:()=>[]}},setup:()=>({})}),yF={class:"v-breadcrumb"},hF={key:2,class:"section-link"};var gF=F_(_F,[["render",function(e,t,l,a,i,n){const o=S("v-icon"),s=S("router-link");return E(),P("span",yF,[(E(!0),P(R,null,M(e.items,((e,t)=>(E(),P("span",{key:e.name,class:H(["section",{disabled:e.disabled}])},[t>0?(E(),A(o,{key:0,name:"chevron_right",small:""})):B("",!0),e.disabled?(E(),P("span",hF,[e.icon?(E(),A(o,{key:0,name:e.icon},null,8,["name"])):B("",!0),N(" "+U(e.name),1)])):(E(),A(s,{key:1,to:e.to,class:"section-link"},{default:D((()=>[e.icon?(E(),A(o,{key:0,name:e.icon,small:""},null,8,["name"])):B("",!0),N(" "+U(e.name),1)])),_:2},1032,["to"]))],2)))),128))])}],["__scopeId","data-v-9fc21e64"]]);const bF=w({props:s({autofocus:{type:Boolean,default:!1},kind:{type:String,default:"normal"},fullWidth:{type:Boolean,default:!1},rounded:{type:Boolean,default:!1},outlined:{type:Boolean,default:!1},icon:{type:Boolean,default:!1},type:{type:String,default:"button"},disabled:{type:Boolean,default:!1},loading:{type:Boolean,default:!1},to:{type:[String,Object],default:""},href:{type:String,default:void 0},active:{type:Boolean,default:void 0},exact:{type:Boolean,default:!1},query:{type:Boolean,default:!1},secondary:{type:Boolean,default:!1},warning:{type:Boolean,default:!1},danger:{type:Boolean,default:!1},value:{type:[Number,String],default:void 0},dashed:{type:Boolean,default:!1},tile:{type:Boolean,default:!1},align:{type:String,default:"center",validator:e=>["left","center","right"].includes(e)},download:{type:String,default:void 0}},cF),emits:["click"],setup(e,{emit:t}){const l=se(),{route:a,isActive:i,isExactActive:n}=Xe(e),o=uF(e),s=V((()=>e.disabled?"button":Iw(e.href)?"a":e.to?"router-link":"button")),{active:r,toggle:d}=WI({value:e.value,group:"item-group"});return{sizeClass:o,onClick:function(l){if(!0===e.loading)return;d(),t("click",l)},component:s,isActiveRoute:V((()=>{if(void 0!==e.active)return e.active;if(e.to){const t=!e.query||m.exports.isEqual(l.query,a.value.query);return e.exact?n.value&&t||r.value:i.value&&t||r.value}return!1})),toggle:d}}}),kF={class:"spinner"};var wF=F_(bF,[["render",function(e,t,l,a,i,n){const o=S("v-progress-circular"),s=q("focus");return E(),P("div",{class:H(["v-button",{secondary:e.secondary,warning:e.warning,danger:e.danger,"full-width":e.fullWidth}])},[Q(e.$slots,"prepend-outer",{},void 0,!0),z((E(),A(L(e.component),{ref:"a"===e.component?"noopener noreferer":void 0,download:e.download,class:H(["button",[e.sizeClass,`align-${e.align}`,{active:e.isActiveRoute,rounded:e.rounded,icon:e.icon,outlined:e.outlined,loading:e.loading,dashed:e.dashed,tile:e.tile,"full-width":e.fullWidth},e.kind]]),type:e.type,disabled:e.disabled,to:""!==e.to?e.to:void 0,href:e.href,target:"a"===e.component?"_blank":void 0,onClick:e.onClick},{default:D((()=>[j("span",{class:H(["content",{invisible:e.loading}])},[Q(e.$slots,"default",J(Y({active:e.active,toggle:e.toggle})),void 0,!0)],2),j("div",kF,[e.loading?Q(e.$slots,"loading",{key:0},(()=>[I(o,{"x-small":e.xSmall,small:e.small,indeterminate:""},null,8,["x-small","small"])]),!0):B("",!0)])])),_:3},8,["download","class","type","disabled","to","href","target","onClick"])),[[s,e.autofocus]]),Q(e.$slots,"append-outer",{},void 0,!0)],2)}],["__scopeId","data-v-2c68b3e3"]]);const xF={class:"v-card-actions"};var VF=F_({},[["render",function(e,t){return E(),P("div",xF,[Q(e.$slots,"default")])}],["__scopeId","data-v-1c0af2d8"]]);const CF={class:"v-card-subtitle"};var SF=F_({},[["render",function(e,t){return E(),P("div",CF,[Q(e.$slots,"default",{},void 0,!0)])}],["__scopeId","data-v-61d074a0"]]);const EF={class:"v-card-text"};var AF=F_({},[["render",function(e,t){return E(),P("div",EF,[Q(e.$slots,"default",{},void 0,!0)])}],["__scopeId","data-v-641303f3"]]);const DF={class:"v-card-title type-label"};var IF=F_({},[["render",function(e,t){return E(),P("div",DF,[Q(e.$slots,"default",{},void 0,!0)])}],["__scopeId","data-v-4ef4d67b"]]);var FF=F_(w({props:{disabled:{type:Boolean,default:!1},tile:{type:Boolean,default:!1}},setup:()=>({})}),[["render",function(e,t,l,a,i,n){return E(),P("div",{class:H(["v-card",{disabled:e.disabled,tile:e.tile}])},[Q(e.$slots,"default",{},void 0,!0)],2)}],["__scopeId","data-v-7bf2718c"]]);const OF=w({props:{value:{type:String,default:null},modelValue:{type:[Boolean,Array],default:!1},label:{type:String,default:null},disabled:{type:Boolean,default:!1},indeterminate:{type:Boolean,default:!1},iconOn:{type:String,default:"check_box"},iconOff:{type:String,default:"check_box_outline_blank"},iconIndeterminate:{type:String,default:"indeterminate_check_box"},block:{type:Boolean,default:!1},customValue:{type:Boolean,default:!1},checked:{type:Boolean,default:null}},emits:["update:indeterminate","update:modelValue","update:value"],setup(e,{emit:t}){const l=Yt(e,"value",t),a=V((()=>null!==e.checked?e.checked:e.modelValue instanceof Array?e.modelValue.includes(e.value):!0===e.modelValue)),i=V((()=>!0===e.indeterminate?e.iconIndeterminate:a.value?e.iconOn:e.iconOff));return{isChecked:a,toggleInput:function(){!0===e.indeterminate&&t("update:indeterminate",!1);if(e.modelValue instanceof Array){const l=[...e.modelValue];!1===e.modelValue.includes(e.value)?l.push(e.value):l.splice(l.indexOf(e.value),1),t("update:modelValue",l)}else t("update:modelValue",!e.modelValue)},icon:i,internalValue:l}}}),$F={key:0,class:"prepend"},TF={class:"label type-text"},PF={key:1,class:"append"};var jF=F_(OF,[["render",function(e,t,l,a,i,n){const o=S("v-icon");return E(),A(L(e.customValue?"div":"button"),{class:H(["v-checkbox",{checked:e.isChecked,indeterminate:e.indeterminate,block:e.block}]),type:"button",role:"checkbox","aria-pressed":e.isChecked?"true":"false",disabled:e.disabled,onClick:X(e.toggleInput,["stop"])},{default:D((()=>[e.$slots.prepend?(E(),P("div",$F,[Q(e.$slots,"prepend",{},void 0,!0)])):B("",!0),I(o,{class:"checkbox",name:e.icon,disabled:e.disabled},null,8,["name","disabled"]),j("span",TF,[!1===e.customValue?Q(e.$slots,"default",{key:0},(()=>[N(U(e.label),1)]),!0):z((E(),P("input",{key:1,"onUpdate:modelValue":t[0]||(t[0]=t=>e.internalValue=t),class:"custom-input"},null,512)),[[Je,e.internalValue]])]),e.$slots.append?(E(),P("div",PF,[Q(e.$slots,"append",{},void 0,!0)])):B("",!0)])),_:3},8,["aria-pressed","disabled","class","onClick"])}],["__scopeId","data-v-231c4277"]]);const LF=w({name:"VCheckboxTreeCheckbox",props:{text:{type:String,required:!0},value:{type:[String,Number],required:!0},children:{type:Array,default:null},modelValue:{type:Array,default:()=>[]},valueCombining:{type:String,required:!0},checked:{type:Boolean,default:null},search:{type:String,default:null},hidden:{type:Boolean,default:!1},itemText:{type:String,default:"text"},itemValue:{type:String,default:"value"},itemChildren:{type:String,default:"children"},disabled:{type:Boolean,default:!1},showSelectionOnly:{type:Boolean,default:!1},parentValue:{type:[String,Number],default:null}},emits:["update:modelValue"],setup(e,{emit:t}){const l=V((()=>{let t=e.children||[];return e.search&&(t=t.filter((t=>t[e.itemText].toLowerCase().includes(e.search.toLowerCase())||l(t[e.itemChildren])))),e.showSelectionOnly&&(t=t.filter((t=>e.modelValue.includes(t[e.itemValue])||a(t[e.itemChildren])||e.modelValue.includes(e.parentValue)||e.modelValue.includes(e.value)))),t.map((t=>t[e.itemValue]));function l(t){return!!t&&t.some((t=>t[e.itemText].toLowerCase().includes(e.search.toLowerCase())||l(t[e.itemChildren])))}function a(t){return!!t&&t.some((t=>e.modelValue.includes(t[e.itemValue])||a(t[e.itemChildren])))}})),a=V((()=>!(!0!==e.showSelectionOnly||!e.modelValue.includes(e.value))||l.value.length>0)),i=V((()=>"string"==typeof e.search&&e.search.length>0)),n=V((()=>{var t;return(null==(t=e.children)?void 0:t.map((t=>t[e.itemValue])))||[]})),o=V({get:()=>e.modelValue||[],set(t){const l=m.exports.difference(t,e.modelValue),a=m.exports.difference(e.modelValue,t);if(e.children)switch(e.valueCombining){case"all":return function(t,{added:l,removed:a}){const i=c("all");if((null==l?void 0:l[0])===e.value){return d([...t.filter((t=>t!==e.value&&!1===n.value.includes(t))),...i,e.value])}if((null==a?void 0:a[0])===e.value){return d(t.filter((t=>t!==e.value&&!1===i.includes(t))))}if(n.value.every((e=>t.includes(e)))){return d([...t.filter((t=>t!==e.value&&!1===i.includes(t))),...i,e.value])}return d(t.filter((t=>t!==e.value)))}(t,{added:l,removed:a});case"branch":return function(t,{added:l,removed:a}){var i;const o=c("all");if((e.modelValue.includes(e.value)||!0===e.checked)&&l&&1===l.length&&n.value.includes(l[0])){return d([...t.filter((t=>t!==e.value&&t!==l[0])),...n.value.filter((e=>e!==l[0]))])}if(e.modelValue.includes(e.value)&&o.some((e=>t.includes(e)))){const l=e.children.find((l=>{const a=c("all",l[e.itemChildren]);return!0===t.some((e=>a.includes(e)))}));return d([...t.filter((t=>t!==e.value)),...(e.children||[]).filter((t=>!t[e.itemChildren]||t[e.itemValue]!==(null==l?void 0:l[e.itemValue]))).map((t=>t[e.itemValue])),...(null!=(i=null==l?void 0:l[e.itemChildren])?i:[]).filter((l=>{const a=c("all",l[e.itemChildren]);return!1===t.some((e=>a.includes(e)))})).map((t=>t[e.itemValue]))])}if(null==l?void 0:l.includes(e.value)){return d([...t.filter((t=>t!==e.value&&!1===o.includes(t))),e.value])}if(null==a?void 0:a.includes(e.value)){return d(t.filter((t=>t!==e.value&&!1===o.includes(t))))}if(n.value.every((e=>t.includes(e)))){return d([...t.filter((t=>t!==e.value&&!1===o.includes(t))),e.value])}return d(t)}(t,{added:l,removed:a});case"leaf":return function(t,{added:l}){const a=c("all"),i=c("leaf");if(null==l?void 0:l.includes(e.value)){if(i.every((e=>t.includes(e)))){return d(t.filter((t=>t!==e.value&&!1===a.includes(t))))}return d([...t.filter((t=>t!==e.value&&!1===a.includes(t))),...i])}return d(t)}(t,{added:l,removed:a});case"indeterminate":return function(t,{added:l,removed:a}){const i=c("all");if((null==l?void 0:l[0])===e.value){return d([...t.filter((t=>t!==e.value&&!1===n.value.includes(t))),...i,e.value])}if((null==a?void 0:a[0])===e.value){return d(t.filter((t=>t!==e.value&&!1===i.includes(t))))}if(n.value.some((e=>t.includes(e)))){return d([...t.filter((t=>t!==e.value)),e.value])}if(n.value.every((e=>!1===t.includes(e))))return d(t.filter((t=>t!==e.value)));return d(t)}(t,{added:l,removed:a});case"exclusive":return function(t,{added:l}){const a=c("all");if((null==l?void 0:l[0])===e.value){return d([...t.filter((t=>t!==e.value&&!1===a.includes(t))),e.value])}if(a.some((e=>t.includes(e)))){return d([...t.filter((t=>t!==e.value))])}return d(t)}(t,{added:l,removed:a});default:return d(t)}d(t)}}),s=V((()=>{if(null!==e.checked)return e.checked;if("all"===e.valueCombining)return null;if("leaf"===e.valueCombining){return c("leaf").every((t=>e.modelValue.includes(t)))}return null})),r=V((()=>{const t=c("all");if("all"===e.valueCombining||"branch"===e.valueCombining)return t.some((t=>e.modelValue.includes(t)))&&!1===e.modelValue.includes(e.value);if("indeterminate"===e.valueCombining)return t.some((t=>e.modelValue.includes(t)))&&!1===t.every((t=>e.modelValue.includes(t)));if("leaf"===e.valueCombining){const t=c("leaf");return t.some((t=>e.modelValue.includes(t)))&&!1===t.every((t=>e.modelValue.includes(t)))}return"exclusive"===e.valueCombining?t.some((t=>e.modelValue.includes(t))):null}));return{groupCheckedStateOverride:s,childrenCheckedStateOverride:V((()=>null!==e.checked?e.checked:"all"===e.valueCombining?null:!("branch"!==e.valueCombining||!e.modelValue.includes(e.value))||null)),treeValue:o,groupIndeterminateState:r,visibleChildrenValues:l,groupShown:a,groupOpen:i};function d(e){t("update:modelValue",e)}function c(t,l=e.children){const a=[];return function l(i){if(!i)return;for(const n of i)"all"===t&&a.push(n[e.itemValue]),"branch"===t&&n[e.itemChildren]&&a.push(n[e.itemValue]),"leaf"!==t||n[e.itemChildren]||a.push(n[e.itemValue]),n[e.itemChildren]&&l(n[e.itemChildren])}(l),a}}});var RF=F_(w({name:"VCheckboxTree",components:{VCheckboxTreeCheckbox:F_(LF,[["render",function(e,t,l,a,i,n){const o=S("v-highlight"),s=S("v-checkbox"),r=S("v-checkbox-tree-checkbox",!0),d=S("v-list-group"),c=S("v-list-item");return e.children?z((E(),A(d,{key:0,value:e.value,open:e.groupOpen,"arrow-placement":"before"},{activator:D((()=>[I(s,{modelValue:e.treeValue,"onUpdate:modelValue":t[0]||(t[0]=t=>e.treeValue=t),indeterminate:e.groupIndeterminateState,checked:e.groupCheckedStateOverride,label:e.text,value:e.value,disabled:e.disabled},{default:D((()=>[I(o,{text:e.text,query:e.search},null,8,["text","query"])])),_:1},8,["modelValue","indeterminate","checked","label","value","disabled"])])),default:D((()=>[(E(!0),P(R,null,M(e.children,(l=>(E(),A(r,{key:l[e.itemValue],modelValue:e.treeValue,"onUpdate:modelValue":t[1]||(t[1]=t=>e.treeValue=t),"value-combining":e.valueCombining,checked:e.childrenCheckedStateOverride,hidden:!1===e.visibleChildrenValues.includes(l[e.itemValue]),search:e.search,"item-text":e.itemText,"item-value":e.itemValue,"item-children":e.itemChildren,text:l[e.itemText],value:l[e.itemValue],children:l[e.itemChildren],disabled:e.disabled,"show-selection-only":e.showSelectionOnly,"parent-value":e.value},null,8,["modelValue","value-combining","checked","hidden","search","item-text","item-value","item-children","text","value","children","disabled","show-selection-only","parent-value"])))),128))])),_:1},8,["value","open"])),[[ce,e.groupShown]]):e.children?B("",!0):z((E(),A(c,{key:1,class:"item"},{default:D((()=>[I(s,{modelValue:e.treeValue,"onUpdate:modelValue":t[2]||(t[2]=t=>e.treeValue=t),disabled:e.disabled,checked:e.checked,label:e.text,value:e.value},{default:D((()=>[I(o,{text:e.text,query:e.search},null,8,["text","query"])])),_:1},8,["modelValue","disabled","checked","label","value"])])),_:1},512)),[[ce,!e.hidden]])}],["__scopeId","data-v-113b2a91"]])},props:{choices:{type:Array,default:()=>[]},modelValue:{type:Array,default:null},valueCombining:{type:String,default:"all"},search:{type:String,default:null},itemText:{type:String,default:"text"},itemValue:{type:String,default:"value"},itemChildren:{type:String,default:"children"},disabled:{type:Boolean,default:!1},showSelectionOnly:{type:Boolean,default:!1}},emits:["update:modelValue"],setup:(e,{emit:t})=>({value:V({get:()=>e.modelValue||[],set(e){t("update:modelValue",e)}}),openSelection:F([])})}),[["render",function(e,t,l,a,i,n){const o=S("v-checkbox-tree-checkbox"),s=S("v-list");return E(),A(s,{modelValue:e.openSelection,"onUpdate:modelValue":t[1]||(t[1]=t=>e.openSelection=t),mandatory:!1},{default:D((()=>[(E(!0),P(R,null,M(e.choices,(l=>(E(),A(o,{key:l[e.itemValue],modelValue:e.value,"onUpdate:modelValue":t[0]||(t[0]=t=>e.value=t),"value-combining":e.valueCombining,search:e.search,"item-text":e.itemText,"item-value":e.itemValue,"item-children":e.itemChildren,text:l[e.itemText],value:l[e.itemValue],children:l[e.itemChildren],disabled:e.disabled,"show-selection-only":e.showSelectionOnly},null,8,["modelValue","value-combining","search","item-text","item-value","item-children","text","value","children","disabled","show-selection-only"])))),128))])),_:1},8,["modelValue"])}]]);const MF=w({props:s({active:{type:Boolean,default:null},close:{type:Boolean,default:!1},closeIcon:{type:String,default:"close"},outlined:{type:Boolean,default:!1},label:{type:Boolean,default:!0},disabled:{type:Boolean,default:!1}},cF),emits:["update:active","click","close"],setup(e,{emit:t}){const l=F(!0),a=V({get:()=>null!==e.active?e.active:l.value,set:e=>{t("update:active",e),l.value=e}});return{sizeClass:uF(e),internalActive:a,onClick:function(l){if(e.disabled)return;t("click",l)},onCloseClick:function(l){if(e.disabled)return;a.value=!a.value,t("close",l)}}}}),UF={class:"chip-content"};var NF=F_(MF,[["render",function(e,t,l,a,i,n){const o=S("v-icon");return e.internalActive?(E(),P("span",{key:0,class:H(["v-chip",[e.sizeClass,{outlined:e.outlined,label:e.label,disabled:e.disabled,close:e.close}]]),onClick:t[1]||(t[1]=(...t)=>e.onClick&&e.onClick(...t))},[j("span",UF,[Q(e.$slots,"default",{},void 0,!0),e.close?(E(),P("span",{key:0,class:H(["close-outline",{disabled:e.disabled}]),onClick:t[0]||(t[0]=X(((...t)=>e.onCloseClick&&e.onCloseClick(...t)),["stop"]))},[I(o,{class:"close",name:e.closeIcon,"x-small":""},null,8,["name"])],2)):B("",!0)])],2)):B("",!0)}],["__scopeId","data-v-d55b27c0"]]);const BF=w({props:{modelValue:{type:Boolean,default:void 0},label:{type:String,default:o_.global.t("toggle")},startOpen:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1}},emits:["update:modelValue"],setup(e,{emit:t}){const l=F(e.startOpen),a=V({get:()=>void 0!==e.modelValue?e.modelValue:l.value,set(e){l.value=e,t("update:modelValue",e)}});return{internalActive:a,enable:function(){a.value=!0},disable:function(){a.value=!1},toggle:function(){a.value=!a.value}}}}),qF={key:0};var zF=F_(BF,[["render",function(e,t,l,a,i,n){const o=S("v-icon"),s=S("v-divider"),r=S("transition-expand");return E(),P("div",{class:H(["v-detail",{disabled:e.disabled}])},[Q(e.$slots,"activator",J(Y({active:e.internalActive,enable:e.enable,disable:e.disable,toggle:e.toggle})),(()=>[I(s,{onClick:t[0]||(t[0]=t=>e.internalActive=!e.internalActive)},{default:D((()=>[e.disabled?B("",!0):(E(),A(o,{key:0,name:e.internalActive?"expand_more":"chevron_right",small:""},null,8,["name"])),Q(e.$slots,"title",{},(()=>[N(U(e.label),1)]),!0)])),_:3})]),!0),I(r,null,{default:D((()=>[e.internalActive?(E(),P("div",qF,[Q(e.$slots,"default",{},void 0,!0)])):B("",!0)])),_:3})],2)}],["__scopeId","data-v-e0ddb8ec"]]);const KF=w({props:{modelValue:{type:Boolean,default:void 0},persistent:{type:Boolean,default:!1},placement:{type:String,default:"center",validator:e=>["center","right"].includes(e)}},emits:["esc","update:modelValue"],setup(e,{emit:t}){Hh("escape",((e,l)=>{n.value&&(t("esc"),l())}));const l=F(!1),a=F(null),i=V((()=>C())),n=V({get:()=>void 0!==e.modelValue?e.modelValue:l.value,set(e){l.value=e,t("update:modelValue",e)}}),o=ae(fy,void 0);return{emitToggle:function(){!1===e.persistent?t("update:modelValue",!e.modelValue):s()},className:a,nudge:s,leave:o,id:i,internalActive:n};function s(){a.value="nudge",setTimeout((()=>{a.value=null}),200)}}}),WF={class:"v-dialog"};var HF=F_(KF,[["render",function(e,t,l,a,i,n){const o=S("v-overlay"),s=S("transition-dialog");return E(),P("div",WF,[Q(e.$slots,"activator",J(Y({on:()=>e.internalActive=!0}))),(E(),A(He,{to:"#dialog-outlet"},[I(s,{onAfterLeave:e.leave},{default:D((()=>[e.internalActive?(E(),P("div",{key:0,class:H(["container",[e.className,e.placement]])},[I(o,{active:"",absolute:"",onClick:e.emitToggle},null,8,["onClick"]),Q(e.$slots,"default")],2)):B("",!0)])),_:3},8,["onAfterLeave"])]))])}],["__scopeId","data-v-76480f74"]]);const GF=w({props:{vertical:{type:Boolean,default:!1},inlineTitle:{type:Boolean,default:!0},large:{type:Boolean,default:!1}}}),QF={key:0,class:"wrapper"},XF={key:0,class:"type-text"},JF=["aria-orientation"];var YF=F_(GF,[["render",function(e,t,l,a,i,n){return E(),P("div",{class:H(["v-divider",{vertical:e.vertical,inlineTitle:e.inlineTitle,large:e.large}])},[e.$slots.icon||e.$slots.default?(E(),P("span",QF,[Q(e.$slots,"icon",{class:"icon"}),!e.vertical&&e.$slots.default?(E(),P("span",XF,[Q(e.$slots,"default")])):B("",!0)])):B("",!0),j("hr",{role:"separator","aria-orientation":e.vertical?"vertical":"horizontal"},null,8,JF)],2)}],["__scopeId","data-v-70aa2cf8"]]);const ZF=w({props:{showSidebarToggle:{type:Boolean,default:!1}},emits:["toggle:sidebar"],setup:()=>({active:F(!1)})}),eO={class:"action-buttons"};const tO=w({components:{HeaderBarActions:F_(ZF,[["render",function(e,t,l,a,i,n){const o=S("v-icon"),s=S("v-button");return E(),P("div",{class:H(["actions",{active:e.active}])},[I(s,{class:"expand",icon:"",rounded:"",secondary:"",outlined:"",onClick:t[0]||(t[0]=t=>e.active=!e.active)},{default:D((()=>[I(o,{name:"arrow_left"})])),_:1}),j("div",eO,[e.showSidebarToggle?(E(),A(s,{key:0,class:"sidebar-toggle",icon:"",rounded:"",secondary:"",outlined:"",onClick:t[1]||(t[1]=t=>e.$emit("toggle:sidebar"))},{default:D((()=>[I(o,{name:"info",outline:""})])),_:1})):B("",!0),Q(e.$slots,"default",{},void 0,!0)])],2)}],["__scopeId","data-v-6f17254a"]])},props:{title:{type:String,default:null},showSidebarToggle:{type:Boolean,default:!1},primaryActionIcon:{type:String,default:"menu"},small:{type:Boolean,default:!1}},emits:["primary","toggle:sidebar"],setup(){const e=F(),t=F(!1),l=new IntersectionObserver((([e])=>{t.value=-1===e.boundingClientRect.y}),{threshold:[1]});return ee((()=>{l.observe(e.value)})),he((()=>{l.disconnect()})),{headerEl:e,collapsed:t}}}),lO={key:0,class:"title-outer-prepend"},aO={class:"headline"},iO={class:"title"},nO={class:"type-title"},oO=(e=>(K("data-v-abb36d38"),e=e(),W(),e))((()=>j("div",{class:"spacer"},null,-1)));var sO=F_(tO,[["render",function(e,t,l,a,i,n){const o=S("v-icon"),s=S("v-button"),r=S("header-bar-actions");return E(),P("header",{ref:"headerEl",class:H(["header-bar",{collapsed:e.collapsed,small:e.small}])},[I(s,{secondary:"",class:"nav-toggle",icon:"",rounded:"",onClick:t[0]||(t[0]=t=>e.$emit("primary"))},{default:D((()=>[I(o,{name:e.primaryActionIcon},null,8,["name"])])),_:1}),e.$slots["title-outer:prepend"]?(E(),P("div",lO,[Q(e.$slots,"title-outer:prepend",{},void 0,!0)])):B("",!0),j("div",{class:H(["title-container",{full:!e.$slots["title-outer:append"]}])},[j("div",aO,[Q(e.$slots,"headline",{},void 0,!0)]),j("div",iO,[Q(e.$slots,"title",{},(()=>[Q(e.$slots,"title:prepend",{},void 0,!0),j("h1",nO,U(e.title),1),Q(e.$slots,"title:append",{},void 0,!0)]),!0)]),Q(e.$slots,"title-outer:append",{},void 0,!0)],2),oO,Q(e.$slots,"actions:prepend",{},void 0,!0),I(r,{"show-sidebar-toggle":e.showSidebarToggle,"onToggle:sidebar":t[1]||(t[1]=t=>e.$emit("toggle:sidebar"))},{default:D((()=>[Q(e.$slots,"actions",{},void 0,!0)])),_:3},8,["show-sidebar-toggle"]),Q(e.$slots,"actions:append",{},void 0,!0)],2)}],["__scopeId","data-v-abb36d38"]]);const rO=w({components:{HeaderBar:sO},props:{title:{type:String,required:!0},subtitle:{type:String,default:null},modelValue:{type:Boolean,default:void 0},persistent:{type:Boolean,default:!1},icon:{type:String,default:"box"},sidebarLabel:{type:String,default:o_.global.t("sidebar")},cancelable:{type:Boolean,default:!0}},emits:["cancel","update:modelValue"],setup(e,{emit:t}){const{t:l}=x(),a=F(!1),i=F();le("main-element",i);return{t:l,internalActive:V({get:()=>void 0===e.modelValue?a.value:e.modelValue,set(e){a.value=e,t("update:modelValue",e)}}),mainEl:i}}}),dO={class:"v-drawer"},cO={class:"content"},uO={key:1,class:"sidebar"},pO={ref:"mainEl",class:"main"},mO={key:0,class:"subtitle"};var fO=F_(rO,[["render",function(e,t,l,a,i,n){const o=S("v-icon"),s=S("v-button"),r=S("v-overlay"),d=S("header-bar"),c=S("v-detail"),u=S("v-dialog"),p=q("tooltip");return E(),A(u,{modelValue:e.internalActive,"onUpdate:modelValue":t[3]||(t[3]=t=>e.internalActive=t),persistent:e.persistent,placement:"right",onEsc:t[4]||(t[4]=t=>e.$emit("cancel"))},{activator:D((({on:t})=>[Q(e.$slots,"activator",J(Y({on:t})),void 0,!0)])),default:D((()=>[j("article",dO,[e.cancelable?z((E(),A(s,{key:0,class:"cancel",icon:"",rounded:"",secondary:"",onClick:t[0]||(t[0]=t=>e.$emit("cancel"))},{default:D((()=>[I(o,{name:"close"})])),_:1},512)),[[p,e.t("cancel"),void 0,{bottom:!0}]]):B("",!0),j("div",cO,[e.$slots.sidebar?(E(),A(r,{key:0,absolute:"",onClick:t[1]||(t[1]=t=>e.sidebarActive=!1)})):B("",!0),e.$slots.sidebar?(E(),P("nav",uO,[Q(e.$slots,"sidebar",{},void 0,!0)])):B("",!0),j("main",pO,[I(d,{title:e.title,"primary-action-icon":"close",onPrimary:t[2]||(t[2]=t=>e.$emit("cancel"))},{title:D((()=>[Q(e.$slots,"title",{},void 0,!0)])),headline:D((()=>[Q(e.$slots,"subtitle",{},(()=>[e.subtitle?(E(),P("p",mO,U(e.subtitle),1)):B("",!0)]),!0)])),"title-outer:prepend":D((()=>[Q(e.$slots,"title-outer:prepend",{},(()=>[I(s,{class:"header-icon",rounded:"",icon:"",secondary:"",disabled:""},{default:D((()=>[I(o,{name:e.icon},null,8,["name"])])),_:1})]),!0)])),"actions:prepend":D((()=>[Q(e.$slots,"actions:prepend",{},void 0,!0)])),actions:D((()=>[Q(e.$slots,"actions",{},void 0,!0)])),"title:append":D((()=>[Q(e.$slots,"header:append",{},void 0,!0)])),_:3},8,["title"]),e.$slots.sidebar?(E(),A(c,{key:0,class:"mobile-sidebar",label:e.sidebarLabel},{default:D((()=>[j("nav",null,[Q(e.$slots,"sidebar",{},void 0,!0)])])),_:3},8,["label"])):B("",!0),Q(e.$slots,"default",{},void 0,!0)],512)])])])),_:3},8,["modelValue","persistent"])}],["__scopeId","data-v-5ce4176c"]]);const vO=w({props:{error:{type:[Object,Error],required:!0}},setup(e){const{t:t}=x(),l=V((()=>{var t,l,a,i,n,o,s,r;return(null==(o=null==(n=null==(i=null==(a=null==(l=null==(t=e.error)?void 0:t.response)?void 0:l.data)?void 0:a.errors)?void 0:i[0])?void 0:n.extensions)?void 0:o.code)||(null==(r=null==(s=e.error)?void 0:s.extensions)?void 0:r.code)||"UNKNOWN"})),a=V((()=>{var t,l,a,i,n,o;let s=(null==(n=null==(i=null==(a=null==(l=null==(t=e.error)?void 0:t.response)?void 0:l.data)?void 0:a.errors)?void 0:i[0])?void 0:n.message)||(null==(o=e.error)?void 0:o.message);return s.length>200&&(s=s.substring(0,197)+"..."),s})),i=F(!1);return{t:t,code:l,copyError:async function(){var t,l;const a=(null==(l=null==(t=e.error)?void 0:t.response)?void 0:l.data)||e.error;await navigator.clipboard.writeText(JSON.stringify(a,m.exports.isPlainObject(a)?null:Object.getOwnPropertyNames(a),2)),i.value=!0},showCopy:V((()=>{var e;return!!(null==(e=navigator.clipboard)?void 0:e.writeText)})),copied:i,message:a}}}),_O={class:"v-error selectable"};var yO=F_(vO,[["render",function(e,t,l,a,i,n){const o=S("v-icon"),s=q("tooltip");return E(),P("div",_O,[j("output",null,"["+U(e.code)+"] "+U(e.message),1),e.showCopy?z((E(),A(o,{key:0,small:"",class:"copy-error",name:e.copied?"check":"content_copy",clickable:"",onClick:e.copyError},null,8,["name","onClick"])),[[s,e.t("copy_details")]]):B("",!0)])}],["__scopeId","data-v-7ea421c6"]]);const hO=w({props:{items:{type:Array,required:!0},modelValue:{type:[String,Number],default:null},disabled:{type:Boolean,default:!1}},emits:["update:modelValue"],setup:(e,{emit:t})=>({toggle:function(l){if(!0===e.disabled)return;e.modelValue===l.value?t("update:modelValue",null):t("update:modelValue",l.value)},visibleItems:V((()=>null===e.modelValue?e.items:e.items.filter((t=>t.value===e.modelValue))))})}),gO={class:"v-fancy-select"},bO=["onClick"],kO={class:"icon"},wO={class:"content"},xO={class:"text"},VO={class:"description"};var CO=F_(hO,[["render",function(e,t,l,a,i,n){const o=S("v-divider"),s=S("v-icon");return E(),P("div",gO,[I(Ge,{tag:"div",name:"option"},{default:D((()=>[(E(!0),P(R,null,M(e.visibleItems,((t,l)=>(E(),P(R,{key:l},[!0===t.divider?(E(),A(o,{key:0})):(E(),P("div",{key:1,class:H(["v-fancy-select-option",{active:t.value===e.modelValue,disabled:e.disabled}]),style:Ue({"--index":l}),onClick:l=>e.toggle(t)},[j("div",kO,[I(s,{name:t.icon},null,8,["name"])]),j("div",wO,[j("div",xO,U(t.text),1),j("div",VO,U(t.description),1)]),e.modelValue===t.value&&!1===e.disabled?(E(),A(s,{key:0,name:"cancel",onClick:X((l=>e.toggle(t)),["stop"])},null,8,["onClick"])):t.iconRight?(E(),A(s,{key:1,class:"icon-right",name:t.iconRight},null,8,["name"])):B("",!0)],14,bO))],64)))),128))])),_:1})])}],["__scopeId","data-v-70a5597b"]]);var SO=F_(w({name:"FieldListItem",props:{field:{type:Object,required:!0},parent:{type:String,default:null},depth:{type:Number,default:2}},emits:["add"],setup:()=>({formatTitle:vV})}),[["render",function(e,t,l,a,i,n){const o=S("v-list-item-content"),s=S("v-list-item"),r=S("field-list-item",!0),d=S("v-list-group");return void 0===e.field.children||0===e.depth?(E(),A(s,{key:0,disabled:e.field.disabled,clickable:"",onClick:t[0]||(t[0]=t=>e.$emit("add",`${e.parent?e.parent+".":""}${e.field.field}`))},{default:D((()=>[I(o,null,{default:D((()=>[N(U(e.field.name||e.formatTitle(e.field.field)),1)])),_:1})])),_:1},8,["disabled"])):(E(),A(d,{key:1},{activator:D((()=>[N(U(e.field.name||e.formatTitle(e.field.field)),1)])),default:D((()=>[(E(!0),P(R,null,M(e.field.children,(l=>(E(),A(r,{key:l.key,parent:`${e.parent?e.parent+".":""}${e.field.field}`,field:l,depth:e.depth-1,onAdd:t[1]||(t[1]=t=>e.$emit("add",t))},null,8,["parent","field","depth"])))),128))])),_:1}))}]]);var EO=F_(w({components:{FieldListItem:SO,Draggable:Be},props:{disabled:{type:Boolean,default:!1},modelValue:{type:Array,default:null},collection:{type:String,required:!0},depth:{type:Number,default:1},inject:{type:Object,default:()=>({fields:[],collections:[],relations:[]})}},emits:["update:modelValue"],setup(e,{emit:t}){const{t:l}=x(),a=F(!1),{collection:i,inject:n}=T(e),{info:o}=Xt(i),{tree:s}=ty(i,!1,n),r=V({get:()=>e.modelValue||[],set(e){t("update:modelValue",e)}}),d=V({get:()=>r.value.map((e=>{var t;return{field:e,name:null==(t=c(s.value,e.split(".")))?void 0:t.name}})),set(e){r.value=e.map((e=>e.field))}});return{t:l,menuActive:a,addField:function(e){const t=r.value;t.push(e),r.value=[...new Set(t)]},removeField:function(e){r.value=r.value.filter((t=>t!==e))},availableFields:V((()=>u(s.value))),selectedFields:d,hideDragImage:VS,tree:s,collectionInfo:o};function c(e,t){if(void 0===e)return;const l=e.find((e=>e.field===t[0]));return void 0!==l?1===t.length?l:c(l.children,t.slice(1)):void 0}function u(e,t=""){if(void 0===e)return;const l=e.map((e=>({name:e.name,field:e.field,key:e.key,disabled:r.value.includes(t+e.field),children:u(e.children,t+e.field+".")})));return 0===l.length?void 0:l}}}),[["render",function(e,t,l,a,i,n){const o=S("v-notice"),s=S("v-chip"),r=S("v-icon"),d=S("v-button"),c=S("field-list-item"),u=S("v-list"),p=S("v-menu"),m=S("draggable"),f=q("tooltip");return e.availableFields&&0!==e.availableFields.length?(E(),A(m,{key:1,modelValue:e.selectedFields,"onUpdate:modelValue":t[1]||(t[1]=t=>e.selectedFields=t),"force-fallback":!0,"item-key":"field",draggable:".draggable","set-data":e.hideDragImage,class:"v-field-select"},{item:D((({element:t})=>[z(I(s,{clickable:"",class:"field draggable",onClick:l=>e.removeField(t.field)},{default:D((()=>[N(U(t.name),1)])),_:2},1032,["onClick"]),[[f,t.field]])])),footer:D((()=>[I(p,{modelValue:e.menuActive,"onUpdate:modelValue":t[0]||(t[0]=t=>e.menuActive=t),"show-arrow":"",class:"add",placement:"bottom"},{activator:D((({toggle:t})=>[I(d,{small:"",onClick:t},{default:D((()=>[N(U(e.t("add_field"))+" ",1),I(r,{small:"",name:"add"})])),_:2},1032,["onClick"])])),default:D((()=>[I(u,null,{default:D((()=>[(E(!0),P(R,null,M(e.availableFields,(t=>(E(),A(c,{key:t.key,field:t,depth:e.depth,onAdd:e.addField},null,8,["field","depth","onAdd"])))),128))])),_:1})])),_:1},8,["modelValue"])])),_:1},8,["modelValue","set-data"])):(E(),A(o,{key:0},{default:D((()=>[N(U(e.t("no_fields_in_collection",{collection:e.collectionInfo&&e.collectionInfo.name||e.collection})),1)])),_:1}))}],["__scopeId","data-v-71436a56"]]);const AO=w({components:{FieldListItem:SO},props:{disabled:{type:Boolean,default:!1},modelValue:{type:String,default:null},nullable:{type:Boolean,default:!0},collection:{type:String,required:!0},depth:{type:Number,default:2},placeholder:{type:String,default:null},inject:{type:Object,default:null}},emits:["update:modelValue"],setup(e,{emit:t}){const l=F(null),a=F(!1),{collection:i,inject:n}=T(e),{tree:o}=ty(i,!0,n);return O((()=>e.modelValue),u,{immediate:!0}),ee((()=>{l.value&&(l.value.addEventListener("selectstart",r),u())})),he((()=>{l.value&&l.value.removeEventListener("selectstart",r)})),{tree:o,addField:function(e){var t,a,i,n;if(!l.value)return;const r=d(o.value,e.split("."));if(!r)return;const c=document.createElement("button");if(c.dataset.field=e,c.setAttribute("contenteditable","false"),c.innerText=String(r.name),0==(null==(t=window.getSelection())?void 0:t.rangeCount)){const e=document.createRange();e.selectNodeContents(l.value.children[0]),null==(a=window.getSelection())||a.addRange(e)}const u=null==(i=window.getSelection())?void 0:i.getRangeAt(0);if(!u)return;u.deleteContents();const p=function(){var e,t,a,i;const n=null==(e=window.getSelection())?void 0:e.getRangeAt(0);if(!n)return;const o=n.startContainer;if(o.nodeType!==Node.TEXT_NODE)return;const s=o.parentElement;if(!(s&&s instanceof HTMLSpanElement&&s.classList.contains("text")))return;const r=n.startOffset,d=(null==(t=s.textContent)?void 0:t.substr(0,r))||"",c=(null==(a=s.textContent)?void 0:a.substr(r))||"";s.innerText=d;const u=document.createElement("span");return u.classList.add("text"),u.innerText=c,null==(i=l.value)||i.insertBefore(u,s.nextSibling),u}();if(p)l.value.insertBefore(c,p),null==(n=window.getSelection())||n.removeAllRanges();else{l.value.appendChild(c);const e=document.createElement("span");e.classList.add("text"),l.value.appendChild(e)}s()},onInput:s,contentEl:l,onClick:function(l){var a;const i=l.target;if("button"!==i.tagName.toLowerCase())return;const n=i.dataset.field;t("update:modelValue",e.modelValue.replace(`{{${n}}}`,""));const o=i.previousElementSibling,r=i.nextElementSibling;if(!(o&&r&&o instanceof HTMLElement&&r instanceof HTMLElement))return;i.remove(),d=o,c=r,d.innerText+=c.innerText,c.remove(),null==(a=window.getSelection())||a.removeAllRanges(),s();var d,c},onKeyDown:function(e){var t;"{"!==e.key&&"}"!==e.key||(e.preventDefault(),a.value=!0);""===(null==(t=l.value)?void 0:t.innerHTML)&&(l.value.innerHTML='<span class="text"></span>')},menuActive:a,onSelect:r};function s(){if(!l.value)return;const e=c();t("update:modelValue",e)}function r(){var e;if(!l.value)return;const t=window.getSelection();if(!t||t.rangeCount<=0)return;const a=t.getRangeAt(0);if(!a)return;const i=a.startContainer;if(!(i instanceof HTMLElement&&i.classList.contains("text")||(null==(e=i.parentElement)?void 0:e.classList.contains("text")))){t.removeAllRanges();const e=new Range;let a=null;for(let t=0;t<l.value.childNodes.length||!a;t++){const e=l.value.children[t];e.classList.contains("text")&&(a=e)}a||(a=document.createElement("span"),a.classList.add("text"),l.value.appendChild(a)),e.setStart(a,0),t.addRange(e)}}function d(e,t){if(void 0===e)return;const l=e.find((e=>e.field===t[0]));return void 0!==l?1===t.length?l:d(l.children,t.slice(1)):void 0}function c(){if(!l.value)return null;const t=Array.from(l.value.childNodes).reduce(((e,t)=>{const l=t,a=l.tagName;return a&&"button"===a.toLowerCase()?e+`{{${l.dataset.field}}}`:"textContent"in l?e+l.textContent:e+""}),"");return!0===e.nullable&&""===t?null:t}function u(){if(l.value)if(null!==e.modelValue&&""!==e.modelValue){if(e.modelValue!==c()){const t=/({{.*?}})/g,a=e.modelValue.split(t).map((t=>{if(!1===t.startsWith("{{"))return`<span class="text">${t}</span>`;const l=t.replace(/({|})/g,"").trim(),a=d(o.value,l.split("."));return a?`<button contenteditable="false" data-field="${l}" disabled="${e.disabled}">${a.name}</button>`:""})).join("");l.value.innerHTML=a}}else l.value.innerHTML='<span class="text"></span>'}}}),DO=["contenteditable"],IO=[(e=>(K("data-v-5597e402"),e=e(),W(),e))((()=>j("span",{class:"text"},null,-1)))],FO={key:0,class:"placeholder"};var OO=F_(AO,[["render",function(e,t,l,a,i,n){const o=S("v-icon"),s=S("v-input"),r=S("field-list-item"),d=S("v-list"),c=S("v-menu");return E(),A(c,{modelValue:e.menuActive,"onUpdate:modelValue":t[3]||(t[3]=t=>e.menuActive=t),attached:""},{activator:D((({toggle:l})=>[I(s,{disabled:e.disabled},{input:D((()=>[j("span",{ref:"contentEl",class:"content",contenteditable:!e.disabled,onKeydown:t[0]||(t[0]=(...t)=>e.onKeyDown&&e.onKeyDown(...t)),onInput:t[1]||(t[1]=(...t)=>e.onInput&&e.onInput(...t)),onClick:t[2]||(t[2]=(...t)=>e.onClick&&e.onClick(...t))},IO,40,DO),e.placeholder&&!e.modelValue?(E(),P("span",FO,U(e.placeholder),1)):B("",!0)])),append:D((()=>[I(o,{name:"add_box",outline:"",clickable:"",disabled:e.disabled,onClick:l},null,8,["disabled","onClick"])])),_:2},1032,["disabled"])])),default:D((()=>[e.disabled?B("",!0):(E(),A(d,{key:0,mandatory:!1},{default:D((()=>[(E(!0),P(R,null,M(e.tree,(t=>(E(),A(r,{key:t.field,field:t,depth:e.depth,onAdd:e.addField},null,8,["field","depth","onAdd"])))),128))])),_:1}))])),_:1},8,["modelValue"])}],["__scopeId","data-v-5597e402"]]);var $O=F_(w({props:{batchMode:{type:Boolean,default:!1},batchActive:{type:Boolean,default:!1},field:{type:Object,required:!0},disabled:{type:Boolean,default:!1},toggle:{type:Function,required:!0},active:{type:Boolean,default:!1},edited:{type:Boolean,default:!1},hasError:{type:Boolean,default:!1},badge:{type:String,default:null},loading:{type:Boolean,default:!1}},emits:["toggle-batch"],setup(){const{t:e}=x();return{t:e}}}),[["render",function(e,t,l,a,i,n){var o;const s=S("v-checkbox"),r=S("v-icon"),d=S("v-chip"),c=q("tooltip");return E(),P("div",{class:H(["label type-label",{disabled:e.disabled,edited:e.edited&&!e.batchMode&&!e.hasError&&!e.loading}])},[e.batchMode?(E(),A(s,{key:0,"model-value":e.batchActive,value:e.field.field,"onUpdate:modelValue":t[0]||(t[0]=t=>e.$emit("toggle-batch",e.field))},null,8,["model-value","value"])):B("",!0),z(j("span",{class:"field-name",onClick:t[1]||(t[1]=(...t)=>e.toggle&&e.toggle(...t))},[N(U(e.field.name)+" ",1),!0===(null==(o=e.field.meta)?void 0:o.required)?(E(),A(r,{key:0,class:"required",sup:"",name:"star"})):B("",!0),e.disabled?B("",!0):(E(),A(r,{key:1,class:H(["ctx-arrow",{active:e.active}]),name:"arrow_drop_down"},null,8,["class"]))],512),[[c,e.edited?e.t("edited"):null]]),e.badge?(E(),A(d,{key:1,"x-small":""},{default:D((()=>[N(U(e.badge),1)])),_:1})):B("",!0)],2)}],["__scopeId","data-v-792c5ca7"]]);var TO=F_(w({props:{field:{type:Object,required:!0},modelValue:{type:[String,Number,Object,Array,Boolean],default:null},initialValue:{type:[String,Number,Object,Array,Boolean],default:null}},emits:["update:modelValue","unset","edit-raw"],setup(e){const{t:t}=x();return{t:t,defaultValue:V((()=>{var t,l;const a=null==(l=null==(t=e.field)?void 0:t.schema)?void 0:l.default_value;return void 0!==a?a:null})),isRequired:V((()=>{var t,l;return!1===(null==(l=null==(t=e.field)?void 0:t.schema)?void 0:l.is_nullable)}))}}}),[["render",function(e,t,l,a,i,n){const o=S("v-icon"),s=S("v-list-item-icon"),r=S("v-list-item-content"),d=S("v-list-item"),c=S("v-list");return E(),A(c,null,{default:D((()=>[null!==e.defaultValue&&e.isRequired?B("",!0):(E(),A(d,{key:0,disabled:null===e.modelValue,clickable:"",onClick:t[0]||(t[0]=t=>e.$emit("update:modelValue",null))},{default:D((()=>[I(s,null,{default:D((()=>[I(o,{name:"delete_outline"})])),_:1}),I(r,null,{default:D((()=>[N(U(e.t("clear_value")),1)])),_:1})])),_:1},8,["disabled"])),null!==e.defaultValue?(E(),A(d,{key:1,disabled:e.modelValue===e.defaultValue,clickable:"",onClick:t[1]||(t[1]=t=>e.$emit("update:modelValue",e.defaultValue))},{default:D((()=>[I(s,null,{default:D((()=>[I(o,{name:"settings_backup_restore"})])),_:1}),I(r,null,{default:D((()=>[N(U(e.t("reset_to_default")),1)])),_:1})])),_:1},8,["disabled"])):B("",!0),e.initialValue?(E(),A(d,{key:2,disabled:void 0===e.initialValue||e.modelValue===e.initialValue,clickable:"",onClick:t[2]||(t[2]=t=>e.$emit("unset",e.field))},{default:D((()=>[I(s,null,{default:D((()=>[I(o,{name:"undo"})])),_:1}),I(r,null,{default:D((()=>[N(U(e.t("undo_changes")),1)])),_:1})])),_:1},8,["disabled"])):B("",!0),I(d,{clickable:"",onClick:t[3]||(t[3]=t=>e.$emit("edit-raw"))},{default:D((()=>[I(s,null,{default:D((()=>[I(o,{name:"code"})])),_:1}),I(r,null,{default:D((()=>[N(U(e.t("raw_value")),1)])),_:1})])),_:1})])),_:1})}]]);const PO=w({props:{field:{type:Object,required:!0},batchMode:{type:Boolean,default:!1},batchActive:{type:Boolean,default:!1},primaryKey:{type:[Number,String],default:null},modelValue:{type:[String,Number,Object,Array,Boolean],default:void 0},loading:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},autofocus:{type:Boolean,default:!1}},emits:["update:modelValue"],setup(e){const{t:t}=x(),{interfaces:l}=yl();return{t:t,interfaceExists:V((()=>!!l.value.find((t=>{var l,a;return t.id===(null==(a=null==(l=e.field)?void 0:l.meta)?void 0:a.interface)||"input"})))),getDefaultInterfaceForType:L_}}});const jO=w({components:{FormFieldLabel:$O,FormFieldMenu:TO,FormFieldInterface:F_(PO,[["render",function(e,t,l,a,i,n){var o;const s=S("v-skeleton-loader"),r=S("v-notice");return E(),P("div",{class:H(["interface",{subdued:e.batchMode&&!1===e.batchActive}])},[e.loading&&!0!==e.field.hideLoader?(E(),A(s,{key:0})):B("",!0),e.interfaceExists?(E(),A(L(e.field.meta&&e.field.meta.interface?`interface-${e.field.meta.interface}`:`interface-${e.getDefaultInterfaceForType(e.field.type)}`),Z({key:1},e.field.meta&&e.field.meta.options||{},{autofocus:!0!==e.disabled&&e.autofocus,disabled:e.disabled,loading:e.loading,value:void 0===e.modelValue?null==(o=e.field.schema)?void 0:o.default_value:e.modelValue,width:e.field.meta&&e.field.meta.width||"full",type:e.field.type,collection:e.field.collection,field:e.field.field,"field-data":e.field,"primary-key":e.primaryKey,length:e.field.schema&&e.field.schema.max_length,onInput:t[0]||(t[0]=t=>e.$emit("update:modelValue",t))}),null,16,["autofocus","disabled","loading","value","width","type","collection","field","field-data","primary-key","length"])):(E(),A(r,{key:2,type:"warning"},{default:D((()=>[N(U(e.t("interface_not_found",{interface:e.field.meta&&e.field.meta.interface})),1)])),_:1}))],2)}],["__scopeId","data-v-175a2f1a"]])},props:{field:{type:Object,required:!0},batchMode:{type:Boolean,default:!1},batchActive:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},modelValue:{type:[String,Number,Object,Array,Boolean],default:void 0},initialValue:{type:[String,Number,Object,Array,Boolean],default:void 0},primaryKey:{type:[String,Number],default:null},loading:{type:Boolean,default:!1},validationError:{type:Object,default:null},autofocus:{type:Boolean,default:!1},badge:{type:String,default:null}},emits:["toggle-batch","unset","update:modelValue"],setup(e,{emit:t}){const{t:l}=x(),a=V((()=>{var t,l;return!!e.disabled||(!0===(null==(l=null==(t=e.field)?void 0:t.meta)?void 0:l.readonly)||!(!e.batchMode||!1!==e.batchActive))})),i=V((()=>{var t,l;const a=null==(l=null==(t=e.field)?void 0:t.schema)?void 0:l.default_value;if(void 0!==a)return a})),n=V((()=>void 0!==e.modelValue?e.modelValue:void 0!==e.initialValue?e.initialValue:i.value)),o=V((()=>void 0!==e.modelValue&&!1===m.exports.isEqual(e.modelValue,e.initialValue))),{showRaw:s,rawValue:r}=function(){const l=F(!1),a=V((()=>function(e){return["bigInteger","integer","float","decimal"].includes(e)?"number":["string","text","uuid","hash"].includes(e)?"string":["boolean"].includes(e)?"boolean":["time","timestamp","date","dateTime"].includes(e)?"string":["json","csv"].includes(e)?"object":"undefined"}(e.field.type))),i=V({get(){switch(a.value){case"object":return JSON.stringify(n.value,null,"\t");case"string":case"number":case"boolean":default:return n.value}},set(e){switch(a.value){case"string":t("update:modelValue",e);break;case"number":t("update:modelValue",Number(e));break;case"boolean":t("update:modelValue","true"===e);break;case"object":t("update:modelValue",JSON.parse(e));break;default:t("update:modelValue",e)}}});return{showRaw:l,rawValue:i}}(),d=V((()=>e.validationError?"RECORD_NOT_UNIQUE"===e.validationError.code?l("validationError.unique"):l(`validationError.${e.validationError.type}`,e.validationError):null));return{t:l,isDisabled:a,internalValue:n,emitValue:function(l){(m.exports.isEqual(l,e.initialValue)||void 0===e.initialValue&&m.exports.isEqual(l,i.value))&&!1===e.batchMode?t("unset",e.field):t("update:modelValue",l)},showRaw:s,rawValue:r,validationMessage:d,isEdited:o}}}),LO={key:1,class:"label-spacer"},RO={key:2,class:"type-note"},MO={key:3,class:"validation-error"};const UO=w({name:"VForm",components:{FormField:F_(jO,[["render",function(e,t,l,a,i,n){var o;const s=S("form-field-label"),r=S("form-field-menu"),d=S("v-menu"),c=S("form-field-interface"),u=S("v-card-title"),p=S("v-textarea"),m=S("v-card-text"),f=S("v-button"),v=S("v-card-actions"),_=S("v-card"),y=S("v-dialog"),h=q("md");return E(),P("div",{key:e.field.field,class:H(["field",[(null==(o=e.field.meta)?void 0:o.width)||"full",{invalid:e.validationError}]])},[!0!==e.field.hideLabel?(E(),A(d,{key:0,placement:"bottom-start","show-arrow":"",disabled:e.isDisabled},{activator:D((({toggle:l,active:a})=>[I(s,{field:e.field,toggle:l,active:a,disabled:e.isDisabled,"batch-mode":e.batchMode,"batch-active":e.batchActive,edited:e.isEdited,"has-error":!!e.validationError,badge:e.badge,loading:e.loading,onToggleBatch:t[0]||(t[0]=t=>e.$emit("toggle-batch",t))},null,8,["field","toggle","active","disabled","batch-mode","batch-active","edited","has-error","badge","loading"])])),default:D((()=>[I(r,{field:e.field,"model-value":e.internalValue,"initial-value":e.initialValue,"onUpdate:modelValue":t[1]||(t[1]=t=>e.emitValue(t)),onUnset:t[2]||(t[2]=t=>e.$emit("unset",t)),onEditRaw:t[3]||(t[3]=t=>e.showRaw=!0)},null,8,["field","model-value","initial-value"])])),_:1},8,["disabled"])):!1===["full","fill"].includes(e.field.meta&&e.field.meta.width)?(E(),P("div",LO)):B("",!0),I(c,{autofocus:e.autofocus,"model-value":e.internalValue,field:e.field,loading:e.loading,"batch-mode":e.batchMode,"batch-active":e.batchActive,disabled:e.isDisabled,"primary-key":e.primaryKey,"onUpdate:modelValue":t[4]||(t[4]=t=>e.emitValue(t))},null,8,["autofocus","model-value","field","loading","batch-mode","batch-active","disabled","primary-key"]),I(y,{modelValue:e.showRaw,"onUpdate:modelValue":t[7]||(t[7]=t=>e.showRaw=t),onEsc:t[8]||(t[8]=t=>e.showRaw=!1)},{default:D((()=>[I(_,null,{default:D((()=>[I(u,null,{default:D((()=>[N(U(e.t("edit_raw_value")),1)])),_:1}),I(m,null,{default:D((()=>[I(p,{modelValue:e.rawValue,"onUpdate:modelValue":t[5]||(t[5]=t=>e.rawValue=t),class:"raw-value",placeholder:e.t("enter_raw_value")},null,8,["modelValue","placeholder"])])),_:1}),I(v,null,{default:D((()=>[I(f,{onClick:t[6]||(t[6]=t=>e.showRaw=!1)},{default:D((()=>[N(U(e.t("done")),1)])),_:1})])),_:1})])),_:1})])),_:1},8,["modelValue"]),e.field.meta&&e.field.meta.note?z((E(),P("small",RO,null,512)),[[h,e.field.meta.note]]):B("",!0),e.validationError?(E(),P("small",MO,U(e.validationMessage),1)):B("",!0)],2)}],["__scopeId","data-v-5157b788"]])},props:{collection:{type:String,default:void 0},fields:{type:Array,default:void 0},initialValues:{type:Object,default:null},modelValue:{type:Object,default:null},loading:{type:Boolean,default:!1},batchMode:{type:Boolean,default:!1},primaryKey:{type:[String,Number],default:null},disabled:{type:Boolean,default:!1},validationErrors:{type:Array,default:()=>[]},autofocus:{type:Boolean,default:!1},group:{type:String,default:null},badge:{type:String,default:null}},emits:["update:modelValue"],setup(e,{emit:t}){const{t:l}=x(),a=vI(),i=V((()=>Object.assign({},e.initialValues,e.modelValue))),n=F(),{width:o}=Fw(n),d=V((()=>null===n.value?null:o.value>792?"grid with-fill":"grid")),{formFields:c,getFieldsForGroup:u,fieldsForGroup:p,isDisabled:f}=function(){const t=V((()=>{if(e.collection)return a.getFieldsForCollection(e.collection);if(e.fields)return e.fields;throw new Error("[v-form]: You need to pass either the collection or fields prop.")})),l=V((()=>{if(null!==e.group)return t.value;return t.value.map((t=>(e=>{var t;if(e.meta&&Array.isArray(null==(t=e.meta)?void 0:t.conditions)){const t=[...e.meta.conditions].reverse().find((e=>{if(e.rule&&1===Object.keys(e.rule).length)return 0===A_(yg(e.rule),i.value,{requireAll:!0}).length}));return t?r(s({},e),{meta:m.exports.merge({},e.meta||{},{readonly:t.readonly,options:t.options,hidden:t.hidden,required:t.required})}):e}return e})((t=>{var l,a;if(!0===(null==(l=t.schema)?void 0:l.has_auto_increment)||!0===(null==(a=t.schema)?void 0:a.is_primary_key)&&"+"!==e.primaryKey){const e=m.exports.cloneDeep(t);return e.meta||(e.meta={}),e.meta.readonly=!0,e}return t})(t))))})),n=V((()=>l.value.filter((t=>{var l,a;return(null==(l=t.meta)?void 0:l.group)===e.group||null===e.group&&m.exports.isNil(null==(a=t.meta)?void 0:a.group)})))),{formFields:o}=pD(n),d=V((()=>o.value.map((e=>c(e.meta.field)))));return{formFields:o,isDisabled:function(t){var l,a;return e.loading||!0===e.disabled||!0===(null==(l=t.meta)?void 0:l.readonly)||!0===(null==(a=t.schema)?void 0:a.is_generated)||e.batchMode&&!1===_.value.includes(t.field)},getFieldsForGroup:c,fieldsForGroup:d};function c(e){var t,a;const i=l.value.filter((t=>{var l;return(null==(l=t.meta)?void 0:l.group)===e||null===e&&m.exports.isNil(t.meta)}));for(const l of i)(null==(a=null==(t=l.meta)?void 0:t.special)?void 0:a.includes("group"))&&i.push(...c(l.meta.field));return i}}(),{toggleBatchField:v,batchActiveFields:_}=function(){const e=F([]);return{batchActiveFields:e,toggleBatchField:function(t){var l;e.value.includes(t.field)?(e.value=e.value.filter((e=>e!==t.field)),b(t)):(e.value=[...e.value,t.field],g(t,null==(l=t.schema)?void 0:l.default_value))}}}(),y=V((()=>{var e;for(let t=0;t<c.value.length;t++)if(c.value[t].meta&&!(null==(e=c.value[t].meta)?void 0:e.readonly))return t;return null})),h=V((()=>{const t=u(e.group),l=t.map((e=>e.field)),a=c.value.map((e=>e.field));return e.validationErrors.filter((i=>{var n,o;let s=!1===a.includes(i.field)&&l.includes(i.field);return null===e.group&&(s=s&&null===(null==(o=null==(n=t.find((e=>e.field===i.field)))?void 0:n.meta)?void 0:o.group)),s}))}));return le("values",i),{t:l,formFields:c,values:i,setValue:g,batchActiveFields:_,toggleBatchField:v,unsetValue:b,unknownValidationErrors:h,firstEditableFieldIndex:y,isNil:m.exports.isNil,apply:function(l){t("update:modelValue",m.exports.pick(m.exports.assign({},e.modelValue,l),Object.keys(l)))},el:n,gridClass:d,omit:m.exports.omit,getFieldsForGroup:u,fieldsForGroup:p,isDisabled:f};function g(l,a){const i=e.modelValue?m.exports.cloneDeep(e.modelValue):{};i[l.field]=a,t("update:modelValue",i)}function b(l){if(l.field in(e.modelValue||{})){const a=s({},e.modelValue);delete a[l.field],t("update:modelValue",a)}}}}),NO={key:0};var BO=F_(UO,[["render",function(e,t,l,a,i,n){const o=S("v-notice"),s=S("form-field");return E(),P("div",{ref:"el",class:H(["v-form",e.gridClass])},[e.unknownValidationErrors.length>0?(E(),A(o,{key:0,type:"danger",class:"full"},{default:D((()=>[j("div",null,[j("p",null,U(e.t("unknown_validation_errors")),1),j("ul",null,[(E(!0),P(R,null,M(e.unknownValidationErrors,((t,l)=>(E(),P("li",{key:l},[t.field?(E(),P("strong",NO,U(t.field)+":",1)):B("",!0),"RECORD_NOT_UNIQUE"===t.code?(E(),P(R,{key:1},[N(U(e.t("validationError.unique",t)),1)],64)):(E(),P(R,{key:2},[N(U(e.t(`validationError.${t.code}`,t)),1)],64))])))),128))])])])),_:1})):B("",!0),(E(!0),P(R,null,M(e.formFields,((t,l)=>{var a,i,n,o,r,d,c;return E(),P(R,null,[(null==(i=null==(a=t.meta)?void 0:a.special)?void 0:i.includes("group"))?z((E(),A(L(`interface-${(null==(n=t.meta)?void 0:n.interface)||"group-standard"}`),Z({key:0,key:t.field,class:(null==(o=t.meta)?void 0:o.width)||"full",field:t,fields:e.fieldsForGroup[l],values:e.modelValue||{},"initial-values":e.initialValues||{},disabled:e.disabled,"batch-mode":e.batchMode,"batch-active-fields":e.batchActiveFields,"primary-key":e.primaryKey,loading:e.loading,"validation-errors":e.validationErrors},(null==(r=t.meta)?void 0:r.options)||{},{onApply:e.apply}),null,16,["class","field","fields","values","initial-values","disabled","batch-mode","batch-active-fields","primary-key","loading","validation-errors","onApply"])),[[ce,!(null==(d=t.meta)?void 0:d.hidden)]]):z((E(),A(s,{key:t.field,field:t,autofocus:l===e.firstEditableFieldIndex&&e.autofocus,"model-value":(e.values||{})[t.field],"initial-value":(e.initialValues||{})[t.field],disabled:e.isDisabled(t),"batch-mode":e.batchMode,"batch-active":e.batchActiveFields.includes(t.field),"primary-key":e.primaryKey,loading:e.loading,"validation-error":e.validationErrors.find((e=>e.field===t.field)),badge:e.badge,"onUpdate:modelValue":l=>e.setValue(t,l),onUnset:l=>e.unsetValue(t),onToggleBatch:l=>e.toggleBatchField(t)},null,8,["field","autofocus","model-value","initial-value","disabled","batch-mode","batch-active","primary-key","loading","validation-error","badge","onUpdate:modelValue","onUnset","onToggleBatch"])),[[ce,!(null==(c=t.meta)?void 0:c.hidden)]])],64)})),256))],2)}],["__scopeId","data-v-a3fdf47e"]]);var qO=F_(w({props:{closeDelay:{type:Number,default:0},openDelay:{type:Number,default:0},disabled:{type:Boolean,default:!1},tag:{type:String,default:"div"}},setup(e){const t=F(!1);return{hover:t,onMouseEnter:function(){if(!0===e.disabled)return;setTimeout((()=>{t.value=!0}),e.openDelay)},onMouseLeave:function(){if(!0===e.disabled)return;setTimeout((()=>{t.value=!1}),e.closeDelay)}}}}),[["render",function(e,t,l,a,i,n){return E(),A(L(e.tag),{onMouseenter:e.onMouseEnter,onMouseleave:e.onMouseLeave},{default:D((()=>[Q(e.$slots,"default",J(Y({hover:e.hover})))])),_:3},8,["onMouseenter","onMouseleave"])}]]);var zO=F_(w({name:"VHighlight",props:{query:{type:[String,Array],default:null},text:{type:String,default:""}},setup:e=>({parts:V((()=>{let t=Ye(e.text.toLowerCase());const l=S_(e.query);if(0===l.length)return[{highlighted:!1,text:e.text}];const a=m.exports.flatten(l.filter((e=>e)).map((e=>{e=Ye(e.toLowerCase());const l=[];let a=0,i=t.indexOf(e,a);for(;i>-1;)a=i+e.length,l.push([i,a]),i=t.indexOf(e,i+1);return l})));if(a.sort(((e,t)=>e[0]!==t[0]?e[0]-t[0]:e[1]-t[1])),0===a.length)return[{highlighted:!1,text:e.text}];const i=[];let n=a[0][0],o=a[0][1];a.shift();for(const[e,d]of a)e>=o?(i.push([n,o]),n=e,o=d):d>o&&(o=d);i.push([n,o]);let s=0;const r=[];for(const[d,c]of i)s!==d&&r.push({highlighted:!1,text:e.text.slice(s,d)}),r.push({highlighted:!0,text:e.text.slice(d,c)}),s=c;return s!==t.length&&r.push({highlighted:!1,text:e.text.slice(s)}),r}))})}),[["render",function(e,t,l,a,i,n){return E(!0),P(R,null,M(e.parts,(({highlighted:e,text:t},l)=>(E(),P(R,null,[e?(E(),P("mark",{key:l,class:"highlight"},U(t),1)):(E(),P(R,{key:1},[N(U(t),1)],64))],64)))),256)}],["__scopeId","data-v-40e82be6"]]);const KO={},WO={viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg","fill-rule":"evenodd","clip-rule":"evenodd","stroke-linejoin":"round","stroke-miterlimit":"2"},HO=[j("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M19.2 14.15a1.8 1.8 0 01-.35-.12c-.1-.05-.14-.18-.13-.3.02-.41-.01-.78.03-1.2.18-1.85 1.38-1.26 2.46-1.57.58-.16 1.17-.47 1.42-1.06.07-.16.02-.35-.1-.48a13.66 13.66 0 00-2.27-1.98 14.25 14.25 0 00-9.85-2.31.2.2 0 00-.15.32A5.17 5.17 0 0011.93 7c.1.06.06.2-.06.18-.3-.06-.68-.18-1.06-.4a.43.43 0 00-.38-.05l-.44.18a.2.2 0 00-.05.34 5.32 5.32 0 006.14.42c.1-.06.25.07.22.18-.07.21-.15.52-.23.95-.48 2.37-1.87 2.18-3.58 1.59-3.36-1.19-5.3-.22-7-2.1-.19-.21-.5-.29-.7-.09a1.55 1.55 0 00.1 2.29c.15.12.36.07.5-.06.07-.06.13-.1.21-.14.1-.04.16.11.07.18-.4.33-.51.7-.76 1.48-.38 1.16-.22 2.36-1.98 2.67-.93.04-.91.66-1.25 1.58A5.2 5.2 0 01.3 18.27c-.4.41-.44 1.18.14 1.23.18 0 .36-.03.55-.1.99-.4 1.75-1.65 2.47-2.46.8-.9 2.72-.51 4.17-1.4.82-.48 1.3-1.1 1.08-2.07-.02-.12.12-.2.18-.09.1.2.18.41.23.63.05.22.25.39.47.4 1.36.1 3.02 1.3 4.63 1.88.32.11.56-.26.43-.57-.1-.24-.18-.48-.23-.7-.02-.13.16-.16.22-.05a3.5 3.5 0 002.88 1.88c.46.03.97-.02 1.5-.18.63-.18 1.22-.42 1.91-.3.52.1 1 .36 1.3.79.36.5 1.04.7 1.54.38.28-.19.29-.58.13-.87-1.14-2.08-3.61-2.25-4.7-2.52z"},null,-1)];var GO=F_(KO,[["render",function(e,t,l,a,i,n){return E(),P("svg",WO,HO)}]]);const QO={},XO={viewBox:"0 0 24 24",width:"24",height:"24",fill:"none","fill-rule":"evenodd","clip-rule":"evenodd","stroke-linejoin":"round","stroke-miterlimit":"2",xmlns:"http://www.w3.org/2000/svg"},JO=[j("path",{d:"M18.38 3.6c-.38-.4-.83-.6-1.36-.6H6.98c-.53 0-1 .2-1.4.6-.38.42-.56.88-.56 1.42V21L12 18l6.98 3V5.02c0-.54-.2-1-.6-1.41zm-8.05 11.5l6.7-6.7-1.4-1.4-5.3 5.3-1.92-1.93L7 11.79l3.33 3.33z"},null,-1)];var YO=F_(QO,[["render",function(e,t,l,a,i,n){return E(),P("svg",XO,JO)}]]);const ZO={},e$={viewBox:"0 0 22 22",xmlns:"http://www.w3.org/2000/svg","fill-rule":"evenodd","clip-rule":"evenodd","stroke-linejoin":"round","stroke-miterlimit":"2"},t$=[j("path",{d:"M2.036 16.961l8.578 3.944a.886.886 0 00.772 0l8.576-3.944c.357-.164.536-.443.536-.836V5.875a.924.924 0 00-.016-.166v-.048a.95.95 0 00-.037-.118l-.014-.039a.91.91 0 00-.073-.138l-.021-.03a1.067 1.067 0 00-.081-.097l-.043-.03a.901.901 0 00-.102-.083l-.025-.018a1.003 1.003 0 00-.124-.069l-8.578-3.944a.886.886 0 00-.772 0L2.036 5.039a.935.935 0 00-.124.069l-.025.018a.901.901 0 00-.102.083l-.03.032a.915.915 0 00-.08.097l-.021.03a.916.916 0 00-.074.138l-.025.037a1.006 1.006 0 00-.037.118v.048a.924.924 0 00-.016.166v10.25c0 .393.178.671.534.836zm1.306-9.646l6.735 3.102v8.223l-6.735-3.104V7.315zm8.578 11.323v-8.221l6.735-3.102v8.223l-6.735 3.1zm-.921-15.7l6.376 2.937-6.376 2.937-6.376-2.937 6.376-2.937z"},null,-1)];var l$=F_(ZO,[["render",function(e,t,l,a,i,n){return E(),P("svg",e$,t$)}]]);const a$={},i$={viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg","fill-rule":"evenodd","clip-rule":"evenodd","stroke-linejoin":"round","stroke-miterlimit":"2"},n$=[j("path",{d:"M10.588 13.412c.408.408.879.611 1.412.611.533 0 1.004-.203 1.412-.611.408-.408.611-.879.611-1.412 0-.533-.203-1.004-.611-1.412-.408-.408-.879-.612-1.412-.612-.533 0-1.004.204-1.412.612-.408.408-.612.879-.612 1.412 0 .533.204 1.004.612 1.412zM9.176 9.176C9.961 8.392 10.902 8 12 8c1.098 0 2.04.392 2.823 1.176C15.608 9.961 16 10.902 16 12c0 1.098-.392 2.04-1.177 2.823C14.04 15.608 13.098 16 12 16c-1.098 0-2.04-.392-2.824-1.177C8.392 14.04 8 13.098 8 12c0-1.098.392-2.04 1.176-2.824z"},null,-1),j("path",{d:"M13 3v6h-2V3h2zM13 15v6h-2v-6h2z"},null,-1)];var o$=F_(a$,[["render",function(e,t,l,a,i,n){return E(),P("svg",i$,n$)}]]);const s$={},r$={viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg","fill-rule":"evenodd","clip-rule":"evenodd","stroke-linejoin":"round","stroke-miterlimit":"2"},d$=[j("path",{d:"M3 3h18v18H3z"},null,-1)];var c$=F_(s$,[["render",function(e,t,l,a,i,n){return E(),P("svg",r$,d$)}]]);const u$={},p$={viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg","fill-rule":"evenodd","clip-rule":"evenodd","stroke-linejoin":"round","stroke-miterlimit":"2"},m$=[j("path",{d:"M11 2H2v9h9V2zm0 11H2v9h9v-9zm2-11h9v9h-9V2zm9 11h-9v9h9v-9z"},null,-1)];var f$=F_(u$,[["render",function(e,t,l,a,i,n){return E(),P("svg",p$,m$)}]]);const v$={},_$={viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg","fill-rule":"evenodd","clip-rule":"evenodd","stroke-linejoin":"round","stroke-miterlimit":"2"},y$=[j("path",{d:"M1 1h6v6H1V1zm0 8h6v6H1V9zm6 8H1v6h6v-6zM9 1h6v6H9V1zm6 8H9v6h6V9zm-6 8h6v6H9v-6zM23 1h-6v6h6V1zm-6 8h6v6h-6V9zm6 8h-6v6h6v-6z"},null,-1)];var h$=F_(v$,[["render",function(e,t,l,a,i,n){return E(),P("svg",_$,y$)}]]);const g$={},b$={viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg","fill-rule":"evenodd","clip-rule":"evenodd","stroke-linejoin":"round","stroke-miterlimit":"2"},k$=[j("path",{d:"M6 3H3v3h3V3zm0 5H3v3h3V8zm-3 5h3v3H3v-3zm3 5H3v3h3v-3zM8 3h3v3H8V3zm3 5H8v3h3V8zm-3 5h3v3H8v-3zm3 5H8v3h3v-3zm2-15h3v3h-3V3zm3 5h-3v3h3V8zm-3 5h3v3h-3v-3zm3 5h-3v3h3v-3zm2-15h3v3h-3V3zm3 5h-3v3h3V8zm-3 5h3v3h-3v-3zm3 5h-3v3h3v-3z"},null,-1)];var w$=F_(g$,[["render",function(e,t,l,a,i,n){return E(),P("svg",b$,k$)}]]);const x$={},V$={viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg","fill-rule":"evenodd","clip-rule":"evenodd","stroke-linejoin":"round","stroke-miterlimit":"2"},C$=[j("path",{d:"M3 3h2v2H3V3zm4 0h2v2H7V3zm0 4h2v2H7V7zm2 4H7v2h2v-2zm-2 4h2v2H7v-2zm2 4H7v2h2v-2zM5 7H3v2h2V7zm-2 4h2v2H3v-2zm2 4H3v2h2v-2zm-2 4h2v2H3v-2zM13 3h-2v2h2V3zm-2 4h2v2h-2V7zm2 4h-2v2h2v-2zm-2 4h2v2h-2v-2zm2 4h-2v2h2v-2zm2-16h2v2h-2V3zm2 4h-2v2h2V7zm-2 4h2v2h-2v-2zm2 4h-2v2h2v-2zm-2 4h2v2h-2v-2zm6-16h-2v2h2V3zm-2 4h2v2h-2V7zm2 4h-2v2h2v-2zm-2 4h2v2h-2v-2zm2 4h-2v2h2v-2z"},null,-1)];var S$=F_(x$,[["render",function(e,t,l,a,i,n){return E(),P("svg",V$,C$)}]]);const E$={},A$={viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg","fill-rule":"evenodd","clip-rule":"evenodd","stroke-linejoin":"round","stroke-miterlimit":"2"},D$=[j("path",{d:"M5 4H4v1h1V4zm0 6H4v1h1v-1zm-1 6h1v1H4v-1zm1-9H4v1h1V7zm-1 6h1v1H4v-1zm1 6H4v1h1v-1zM7 4h1v1H7V4zm1 6H7v1h1v-1zm-1 6h1v1H7v-1zm1-9H7v1h1V7zm-1 6h1v1H7v-1zm1 6H7v1h1v-1zm2-15h1v1h-1V4zm1 6h-1v1h1v-1zm-1 6h1v1h-1v-1zm1-9h-1v1h1V7zm-1 6h1v1h-1v-1zm1 6h-1v1h1v-1zm2-15h1v1h-1V4zm1 6h-1v1h1v-1zm-1 6h1v1h-1v-1zm1-9h-1v1h1V7zm-1 6h1v1h-1v-1zm1 6h-1v1h1v-1zm2-15h1v1h-1V4zm1 6h-1v1h1v-1zm-1 6h1v1h-1v-1zm1-9h-1v1h1V7zm-1 6h1v1h-1v-1zm1 6h-1v1h1v-1zm2-15h1v1h-1V4zm1 6h-1v1h1v-1zm-1 6h1v1h-1v-1zm1-9h-1v1h1V7zm-1 6h1v1h-1v-1zm1 6h-1v1h1v-1z"},null,-1)];var I$=F_(E$,[["render",function(e,t,l,a,i,n){return E(),P("svg",A$,D$)}]]);const F$={},O$={viewBox:"0 0 48 48",xmlns:"http://www.w3.org/2000/svg","fill-rule":"evenodd","clip-rule":"evenodd","stroke-linejoin":"round","stroke-miterlimit":"2"},$$=[j("path",{"fill-opacity":".3",d:"M24.02 42.98L47.28 14c-.9-.68-9.85-8-23.28-8S1.62 13.32.72 14l23.26 28.98.02.02.02-.02z"},null,-1),j("path",{d:"M0 0h48v48H0z",fill:"none"},null,-1),j("path",{d:"M13.34 29.72l10.65 13.27.01.01.01-.01 10.65-13.27C34.13 29.31 30.06 26 24 26s-10.13 3.31-10.66 3.72z"},null,-1)];var T$=F_(F$,[["render",function(e,t,l,a,i,n){return E(),P("svg",O$,$$)}]]);const P$={},j$={viewBox:"0 0 48 48",xmlns:"http://www.w3.org/2000/svg","fill-rule":"evenodd","clip-rule":"evenodd","stroke-linejoin":"round","stroke-miterlimit":"2"},L$=[j("path",{"fill-opacity":".3",d:"M24.02 42.98L47.28 14c-.9-.68-9.85-8-23.28-8S1.62 13.32.72 14l23.26 28.98.02.02.02-.02z"},null,-1),j("path",{d:"M0 0h48v48H0z",fill:"none"},null,-1),j("path",{d:"M7.07 21.91l16.92 21.07.01.02.02-.02 16.92-21.07C40.08 21.25 33.62 16 24 16c-9.63 0-16.08 5.25-16.93 5.91z"},null,-1)];var R$=F_(P$,[["render",function(e,t,l,a,i,n){return E(),P("svg",j$,L$)}]]);const M$={},U$={viewBox:"0 0 48 48",xmlns:"http://www.w3.org/2000/svg","fill-rule":"evenodd","clip-rule":"evenodd","stroke-linejoin":"round","stroke-miterlimit":"2"},N$=[j("path",{"fill-opacity":".3",d:"M24.02 42.98L47.28 14c-.9-.68-9.85-8-23.28-8S1.62 13.32.72 14l23.26 28.98.02.02.02-.02z"},null,-1),j("path",{d:"M0 0h48v48H0z",fill:"none"},null,-1),j("path",{d:"M9.58 25.03l14.41 17.95.01.02.01-.02 14.41-17.95C37.7 24.47 32.2 20 24 20s-13.7 4.47-14.42 5.03z"},null,-1)];var B$=F_(M$,[["render",function(e,t,l,a,i,n){return E(),P("svg",U$,N$)}]]);const q$={},z$={viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg","fill-rule":"evenodd","clip-rule":"evenodd","stroke-linejoin":"round","stroke-miterlimit":"2"},K$=[j("path",{d:"M 3 2 L 3 11 L 21 11 L 3 2 z M 5 5.2363281 L 12.527344 9 L 5 9 L 5 5.2363281 z M 3 13 L 3 22 L 21 13 L 3 13 z"},null,-1)];var W$=F_(q$,[["render",function(e,t,l,a,i,n){return E(),P("svg",z$,K$)}]]);const H$={},G$={viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg","fill-rule":"evenodd","clip-rule":"evenodd","stroke-linejoin":"round","stroke-miterlimit":"2"},Q$=[j("path",{d:"M3,2 L3,11 L21,11 L3,2 Z M5,5.2363281 L12.527344,9 L5,9 L5,5.2363281 Z M3,13 L3,22 L21,13 L3,13 Z",transform:"translate(12.000000, 12.000000) rotate(-90.000000) translate(-12.000000, -12.000000) "},null,-1)];var X$=F_(H$,[["render",function(e,t,l,a,i,n){return E(),P("svg",G$,Q$)}]]);const J$={},Y$={viewBox:"0 0 24 24",width:"24",height:"24",fill:"none","fill-rule":"evenodd","clip-rule":"evenodd","stroke-linejoin":"round","stroke-miterlimit":"2",xmlns:"http://www.w3.org/2000/svg"},Z$=[j("path",{d:"M11.17 8l-2-2H4v12h16V8h-8.83zM4 4h6l2 2h8a2 2 0 012 2v10a2 2 0 01-2 2H4a2 2 0 01-2-2l.01-12A2 2 0 014 4zm10.44 5l4 4-4 4v-3H11v-2h3.44V9z"},null,-1)];var eT=F_(J$,[["render",function(e,t,l,a,i,n){return E(),P("svg",Y$,Z$)}]]);const tT={},lT={viewBox:"0 0 24 24",width:"24",height:"24",fill:"none","fill-rule":"evenodd","clip-rule":"evenodd","stroke-linejoin":"round","stroke-miterlimit":"2",xmlns:"http://www.w3.org/2000/svg"},aT=[j("path",{d:"M0 0h24v24H0z",fill:"none"},null,-1),j("path",{d:"M17 7l-1.41 1.41L18.17 11H8v2h10.17l-2.58 2.58L17 17l5-5zM4 5h8V3H4a2 2 0 00-2 2v14c0 1.1.9 2 2 2h8v-2H4V5z"},null,-1)];const iT=["directus","bookmark_save","box","commit_node","grid_1","grid_2","grid_3","grid_4","grid_5","grid_6","signal_wifi_1_bar","signal_wifi_2_bar","signal_wifi_3_bar","flip_horizontal","flip_vertical","folder_move","logout"],nT=w({components:{CustomIconDirectus:GO,CustomIconBookmarkSave:YO,CustomIconBox:l$,CustomIconCommitNode:o$,CustomIconGrid1:c$,CustomIconGrid2:f$,CustomIconGrid3:h$,CustomIconGrid4:w$,CustomIconGrid5:S$,CustomIconGrid6:I$,CustomIconSignalWifi1Bar:T$,CustomIconSignalWifi2Bar:R$,CustomIconSignalWifi3Bar:B$,CustomIconFlipHorizontal:W$,CustomIconFlipVertical:X$,CustomIconFolderMove:eT,CustomIconLogout:F_(tT,[["render",function(e,t,l,a,i,n){return E(),P("svg",lT,aT)}]])},props:s({name:{type:String,required:!0},filled:{type:Boolean,default:!1},sup:{type:Boolean,default:!1},left:{type:Boolean,default:!1},right:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},clickable:{type:Boolean,default:!1},color:{type:String,default:null}},cF),emits:["click"],setup:(e,{emit:t})=>({sizeClass:V((()=>e.sup?"sup":uF(e).value)),customIconName:V((()=>iT.includes(e.name)?`custom-icon-${e.name}`.replace(/_/g,"-"):null)),emitClick:function(l){if(e.disabled)return;t("click",l)}})}),oT=["role","tabindex"];var sT=F_(nT,[["render",function(e,t,l,a,i,n){return E(),P("span",{class:H(["v-icon",[e.sizeClass,{"has-click":!e.disabled&&e.clickable,left:e.left,right:e.right}]]),role:e.clickable?"button":null,tabindex:e.clickable?0:null,style:Ue({"--v-icon-color":e.color}),onClick:t[0]||(t[0]=(...t)=>e.emitClick&&e.emitClick(...t))},[e.customIconName?(E(),A(L(e.customIconName),{key:0})):(E(),P("i",{key:1,class:H({filled:e.filled})},U(e.name),3))],14,oT)}],["__scopeId","data-v-4c41acbf"]]);const rT=w({props:{icon:{type:String,default:"box"},title:{type:String,required:!0},type:{type:String,default:"info"},center:{type:Boolean,default:!1}}}),dT={class:"icon"},cT={class:"title type-title"},uT={class:"content"};var pT=F_(rT,[["render",function(e,t,l,a,i,n){const o=S("v-icon");return E(),P("div",{class:H(["v-info",[e.type,{center:e.center}]])},[j("div",dT,[I(o,{large:"",name:e.icon,outline:""},null,8,["name"])]),j("h2",cT,U(e.title),1),j("p",uT,[Q(e.$slots,"default",{},void 0,!0)]),Q(e.$slots,"append",{},void 0,!0)],2)}],["__scopeId","data-v-0b8e46a0"]]);const mT=w({inheritAttrs:!1,props:{autofocus:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},clickable:{type:Boolean,default:!1},prefix:{type:String,default:null},suffix:{type:String,default:null},fullWidth:{type:Boolean,default:!0},placeholder:{type:String,default:null},modelValue:{type:[String,Number],default:null},nullable:{type:Boolean,default:!0},slug:{type:Boolean,default:!1},slugSeparator:{type:String,default:"-"},type:{type:String,default:"text"},hideArrows:{type:Boolean,default:!1},max:{type:Number,default:null},min:{type:Number,default:null},step:{type:Number,default:1},active:{type:Boolean,default:!1},dbSafe:{type:Boolean,default:!1},trim:{type:Boolean,default:!1},autocomplete:{type:String,default:"off"}},emits:["click","keydown","update:modelValue","focus"],setup(e,{emit:t,attrs:l}){const a=F(null),i=V((()=>({input:c,keydown:d,blur:a=>{e.modelValue&&e.trim&&["string","text"].includes(e.type)&&t("update:modelValue",String(e.modelValue).trim()),"function"==typeof l.onBlur&&l.onBlur(a)},focus:e=>t("focus",e)}))),n=V((()=>m.exports.omit(l,["class"]))),o=V((()=>[{"full-width":e.fullWidth,"has-click":e.clickable,disabled:e.disabled},...(l.class||"").split(" ")])),s=V((()=>!1===e.disabled&&(null===e.max||parseInt(String(e.modelValue),10)<e.max))),r=V((()=>!1===e.disabled&&(null===e.min||parseInt(String(e.modelValue),10)>e.min)));return{listeners:i,attributes:n,classes:o,stepUp:function(){if(!a.value)return;if(!1===s.value)return;if(a.value.stepUp(),null!=a.value.value)return t("update:modelValue",Number(a.value.value))},stepDown:function(){if(!a.value)return;if(!1===r.value)return;return a.value.stepDown(),a.value.value?t("update:modelValue",Number(a.value.value)):t("update:modelValue",e.min||0)},isStepUpAllowed:s,isStepDownAllowed:r,input:a};function d(l){if(!l.key)return;const a=l.key.toLowerCase(),i=["meta","shift","alt","backspace","tab"],n=l.target.value;if(!0===e.slug){!1===("abcdefghijklmnopqrstuvwxyz01234567890-_~ ".split("").includes(a)||i.includes(a))&&l.preventDefault()," "===a&&n.endsWith(e.slugSeparator)&&l.preventDefault()}if(!0===e.dbSafe){!1===("abcdefghijklmnopqrstuvwxyz01234567890_ ".split("").includes(a)||i.includes(a)||a.startsWith("arrow"))&&l.preventDefault(),0===n.length&&"0123456789".split("").includes(a)&&l.preventDefault()}t("keydown",l)}function c(l){let a=l.target.value;if(!0!==e.nullable||""!==a)if("number"===e.type)t("update:modelValue",Number(a));else{if(!0===e.slug){const t=a.endsWith(" ");a=Ze(a,{separator:e.slugSeparator}),t&&(a+=e.slugSeparator)}!0===e.dbSafe&&(a=a.toLowerCase(),a=a.replace(/\s/g,"_"),a=a.normalize("NFD").replace(/[\u0300-\u036f]/g,"")),t("update:modelValue",a)}else t("update:modelValue",null)}}}),fT={key:0,class:"prepend-outer"},vT={key:0,class:"prepend"},_T={key:1,class:"prefix"},yT=["placeholder","autocomplete","type","min","max","step","disabled","value"],hT={key:2,class:"suffix"},gT={key:3},bT={key:4,class:"append"},kT={key:1,class:"append-outer"};var wT=F_(mT,[["render",function(e,t,l,a,i,n){const o=S("v-icon"),s=q("focus");return E(),P("div",{class:H(["v-input",e.classes]),onClick:t[0]||(t[0]=t=>e.$emit("click",t))},[e.$slots["prepend-outer"]?(E(),P("div",fT,[Q(e.$slots,"prepend-outer",{value:e.modelValue,disabled:e.disabled},void 0,!0)])):B("",!0),j("div",{class:H(["input",{disabled:e.disabled,active:e.active}])},[e.$slots.prepend?(E(),P("div",vT,[Q(e.$slots,"prepend",{value:e.modelValue,disabled:e.disabled},void 0,!0)])):B("",!0),e.prefix?(E(),P("span",_T,U(e.prefix),1)):B("",!0),Q(e.$slots,"input",{},(()=>[z(j("input",Z({ref:"input"},e.attributes,{placeholder:e.placeholder,autocomplete:e.autocomplete,type:e.type,min:e.min,max:e.max,step:e.step,disabled:e.disabled,value:null===e.modelValue?"":String(e.modelValue)},Qe(e.listeners)),null,16,yT),[[s,e.autofocus]])]),!0),e.suffix?(E(),P("span",hT,U(e.suffix),1)):B("",!0),"number"!==e.type||e.hideArrows?B("",!0):(E(),P("span",gT,[I(o,{class:H([{disabled:!e.isStepUpAllowed},"step-up"]),name:"keyboard_arrow_up",clickable:"",disabled:!e.isStepUpAllowed,onClick:e.stepUp},null,8,["class","disabled","onClick"]),I(o,{class:H([{disabled:!e.isStepDownAllowed},"step-down"]),name:"keyboard_arrow_down",clickable:"",disabled:!e.isStepDownAllowed,onClick:e.stepDown},null,8,["class","disabled","onClick"])])),e.$slots.append?(E(),P("div",bT,[Q(e.$slots,"append",{value:e.modelValue,disabled:e.disabled},void 0,!0)])):B("",!0)],2),e.$slots["append-outer"]?(E(),P("div",kT,[Q(e.$slots,"append-outer",{value:e.modelValue,disabled:e.disabled},void 0,!0)])):B("",!0)],2)}],["__scopeId","data-v-db9b6580"]]);const xT=w({props:{mandatory:{type:Boolean,default:!1},max:{type:Number,default:-1},multiple:{type:Boolean,default:!1},modelValue:{type:Array,default:void 0},scope:{type:String,default:"item-group"}},emits:["update:modelValue"],setup(e,{emit:t}){const{modelValue:l,multiple:a,max:i,mandatory:n}=T(e);return HI({selection:l,onSelectionChange:e=>t("update:modelValue",e)},{multiple:a,max:i,mandatory:n},e.scope),{}}}),VT={class:"v-item-group"};var CT=F_(xT,[["render",function(e,t,l,a,i,n){return E(),P("div",VT,[Q(e.$slots,"default")])}]]);const ST=w({props:{value:{type:String,default:null},scope:{type:String,default:"item-group"},active:{type:Boolean,default:void 0},watch:{type:Boolean,default:!0}},setup(e){const{active:t}=T(e),{active:l,toggle:a}=WI({value:e.value,group:e.scope,watch:e.watch,active:t});return{isActive:l,toggle:a}}}),ET={class:"v-item"};var AT=F_(ST,[["render",function(e,t,l,a,i,n){return E(),P("div",ET,[Q(e.$slots,"default",J(Y({active:e.isActive,toggle:e.toggle})))])}]]);const DT=w({props:{multiple:{type:Boolean,default:!0},to:{type:String,default:""},active:{type:Boolean,default:!1},exact:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},clickable:{type:Boolean,default:!1},scope:{type:String,default:void 0},value:{type:[String,Number],default:void 0},dense:{type:Boolean,default:!1},open:{type:Boolean,default:!1},arrowPlacement:{type:String,default:"after",validator:e=>["before","after"].includes(e)}},emits:["click"],setup(e,{emit:t}){const{active:l,toggle:a}=WI({group:e.scope,value:e.value});return{groupActive:V((()=>l.value||e.open)),toggle:a,onClick:function(l){if(e.to)return null;if(e.clickable)return t("click",l);l.stopPropagation(),a()}}}}),IT={class:"v-list-group"},FT={key:0,class:"items"};var OT=F_(DT,[["render",function(e,t,l,a,i,n){const o=S("v-icon"),s=S("v-list-item-icon"),r=S("v-list-item");return E(),P("li",IT,[I(r,{class:"activator",active:e.active,to:e.to,exact:e.exact,disabled:e.disabled,dense:e.dense,clickable:"",onClick:e.onClick},{default:D((()=>[e.$slots.default&&"before"===e.arrowPlacement?(E(),A(s,{key:0,class:H(["activator-icon",{active:e.groupActive}])},{default:D((()=>[I(o,{name:"chevron_right",disabled:e.disabled,onClick:X(e.toggle,["stop","prevent"])},null,8,["disabled","onClick"])])),_:1},8,["class"])):B("",!0),Q(e.$slots,"activator",{active:e.groupActive},void 0,!0),e.$slots.default&&"after"===e.arrowPlacement?(E(),A(s,{key:1,class:H(["activator-icon",{active:e.groupActive}])},{default:D((()=>[I(o,{name:"chevron_right",disabled:e.disabled,onClick:X(e.toggle,["stop","prevent"])},null,8,["disabled","onClick"])])),_:1},8,["class"])):B("",!0)])),_:3},8,["active","to","exact","disabled","dense","onClick"]),e.groupActive?(E(),P("ul",FT,[Q(e.$slots,"default",{},void 0,!0)])):B("",!0)])}],["__scopeId","data-v-556c46cb"]]);const $T={class:"v-list-item-content"};var TT=F_({},[["render",function(e,t){return E(),P("div",$T,[Q(e.$slots,"default")])}],["__scopeId","data-v-86aef144"]]);var PT=F_(w({props:{center:{type:Boolean,default:!1}}}),[["render",function(e,t,l,a,i,n){return E(),P("div",{class:H(["v-list-item-hint",{center:e.center}])},[Q(e.$slots,"default",{},void 0,!0)],2)}],["__scopeId","data-v-55e74b83"]]);var jT=F_(w({props:{center:{type:Boolean,default:!1}}}),[["render",function(e,t,l,a,i,n){return E(),P("div",{class:H(["v-list-item-icon",{center:e.center}])},[Q(e.$slots,"default")],2)}],["__scopeId","data-v-4aa6e196"]]);var LT=F_(w({props:{block:{type:Boolean,default:!1},dense:{type:Boolean,default:!1},to:{type:[String,Object],default:""},href:{type:String,default:void 0},disabled:{type:Boolean,default:!1},clickable:{type:Boolean,default:!1},active:{type:Boolean,default:void 0},dashed:{type:Boolean,default:!1},exact:{type:Boolean,default:!1},query:{type:Boolean,default:!1},download:{type:String,default:void 0},value:{type:[String,Number],default:void 0},large:{type:Boolean,default:!1}},emits:["click"],setup(e,{emit:t}){const l=se(),{route:a,isActive:i,isExactActive:n}=Xe(e),o=V((()=>e.to?"router-link":e.href?"a":"li"));WI({value:e.value});return{component:o,isLink:V((()=>Boolean(e.to||e.href||e.clickable))),isActiveRoute:V((()=>{if(void 0!==e.active)return e.active;if(e.to){const t=!e.query||m.exports.isEqual(l.query,a.value.query);return e.exact?n.value&&t:i.value&&t}return!1})),onClick:function(l){if(!0===e.disabled)return;t("click",l)}}}}),[["render",function(e,t,l,a,i,n){return E(),A(L(e.component),{class:H(["v-list-item",{active:e.isActiveRoute,dense:e.dense,link:e.isLink,disabled:e.disabled,dashed:e.dashed,block:e.block,large:e.large}]),to:""!==e.to?e.to:void 0,href:e.href,download:e.download,target:"a"===e.component?"_blank":void 0,onClick:e.onClick},{default:D((()=>[Q(e.$slots,"default")])),_:3},8,["to","class","href","download","target","onClick"])}],["__scopeId","data-v-1025f1ce"]]);var RT=F_(w({props:{modelValue:{type:Array,default:null},large:{type:Boolean,default:!1},multiple:{type:Boolean,default:!0},mandatory:{type:Boolean,default:!0}},emits:["update:modelValue"],setup(e,{emit:t}){const{modelValue:l,multiple:a,mandatory:i}=T(e);return HI({selection:l,onSelectionChange:e=>{t("update:modelValue",e)}},{mandatory:i,multiple:a}),{}}}),[["render",function(e,t,l,a,i,n){return E(),P("ul",{class:H(["v-list",{large:e.large}])},[Q(e.$slots,"default")],2)}],["__scopeId","data-v-8076124e"]]);const MT=w({props:{placement:{type:String,default:"bottom"},modelValue:{type:Boolean,default:void 0},closeOnClick:{type:Boolean,default:!0},closeOnContentClick:{type:Boolean,default:!0},attached:{type:Boolean,default:!1},showArrow:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},trigger:{type:String,default:null,validator:e=>["hover","click"].includes(e)},delay:{type:Number,default:0}},emits:["update:modelValue"],setup(e,{emit:t}){const l=F(null),a=F(null),i=F({getBoundingClientRect:()=>({top:0,left:0,bottom:0,right:0,width:0,height:0})}),n=V((()=>C())),o=F(null),{start:d,stop:c,styles:u,arrowStyles:p,placement:f}=function(e,t,l){const a=F(null),i=F({}),n=F({}),o=F(l.value.placement);he((()=>{c()})),O(l,(()=>{var e;null==(e=a.value)||e.setOptions({placement:l.value.attached?"bottom-start":l.value.placement,modifiers:u()})}),{immediate:!0});const d=new MutationObserver((()=>{var e;null==(e=a.value)||e.forceUpdate()}));return{popperInstance:a,placement:o,start:function(){return new Promise((i=>{a.value=et(e.value,t.value,{placement:l.value.attached?"bottom-start":l.value.placement,modifiers:u(i),strategy:"fixed"}),a.value.forceUpdate(),d.observe(t.value,{attributes:!1,childList:!0,characterData:!0,subtree:!0})}))},stop:c,styles:i,arrowStyles:n};function c(){var e;null==(e=a.value)||e.destroy(),d.disconnect()}function u(e=(()=>{})){const t=[tt,r(s({},lt),{options:{offset:l.value.attached?[0,0]:[0,8]}}),r(s({},at),{options:{padding:8}}),{name:"arrow",options:{padding:6}},it,nt,ot,{name:"placementUpdater",enabled:!0,phase:"afterWrite",fn({state:e}){o.value=e.placement}},{name:"applyStyles",enabled:!0,phase:"write",fn({state:t}){i.value=t.styles.popper,n.value=t.styles.arrow,e()}}];return!0===l.value.arrow&&t.push(st),!0===l.value.attached&&t.push({name:"sameWidth",enabled:!0,fn:({state:e})=>{e.styles.popper.width=`${e.rects.reference.width}px`},phase:"beforeWrite",requires:["computeStyles"]}),t}}(a,o,V((()=>({placement:e.placement,attached:e.attached,arrow:e.showArrow})))),{isActive:v,activate:_,deactivate:y,toggle:h}=function(){const l=F(!1),a=V({get:()=>void 0!==e.modelValue?e.modelValue:l.value,async set(e){l.value=e,t("update:modelValue",e)}});return O(o,(async()=>{null!==o.value?await d():c()}),{immediate:!0}),{isActive:a,activate:function(e){e&&(i.value={getBoundingClientRect:()=>({top:e.clientY,left:e.clientX,bottom:0,right:0,width:0,height:0})});a.value=!0},deactivate:function(){a.value=!1},toggle:function(){if(!0===e.disabled)return;a.value=!a.value}}}();O(v,(e=>{var t;!0===e&&(a.value=(null==(t=l.value)?void 0:t.children[0])||i.value,Ie((()=>{o.value=document.getElementById(n.value)})))}));const{onClick:g,onPointerEnter:b,onPointerLeave:k}=function(){const t=F(!1);return O(t,m.exports.debounce((e=>{e?v.value||_():y()}),e.delay)),{onClick:function(){if("click"!==e.trigger)return;h()},onPointerLeave:function(){if("hover"!==e.trigger)return;t.value=!1},onPointerEnter:function(){if("hover"!==e.trigger)return;t.value=!0}}}(),w=F(!1);return{id:n,activator:l,popper:o,reference:a,isActive:v,toggle:h,deactivate:y,onContentClick:function(t){!0===e.closeOnContentClick&&t.target!==t.currentTarget&&y()},onClickOutsideMiddleware:function(e){var t;return!(null==(t=l.value)?void 0:t.contains(e.target))},styles:u,arrowStyles:p,popperPlacement:f,activate:_,onClick:g,onPointerLeave:k,onPointerEnter:b,hoveringOnPopperContent:w}}}),UT=["id","data-placement"];var NT=F_(MT,[["render",function(e,t,l,a,i,n){const o=S("transition-bounce"),s=q("click-outside");return E(),P("div",{class:"v-menu",onClick:t[5]||(t[5]=(...t)=>e.onClick&&e.onClick(...t))},[j("div",{ref:"activator",class:H(["v-menu-activator",{attached:e.attached}]),onPointerenter:t[0]||(t[0]=X(((...t)=>e.onPointerEnter&&e.onPointerEnter(...t)),["stop"])),onPointerleave:t[1]||(t[1]=X(((...t)=>e.onPointerLeave&&e.onPointerLeave(...t)),["stop"]))},[Q(e.$slots,"activator",J(Y({toggle:e.toggle,active:e.isActive,activate:e.activate,deactivate:e.deactivate})),void 0,!0)],34),(E(),A(He,{to:"#menu-outlet"},[I(o,null,{default:D((()=>[e.isActive?z((E(),P("div",{id:e.id,key:e.id,class:H(["v-menu-popper",{active:e.isActive,attached:e.attached}]),"data-placement":e.popperPlacement,style:Ue(e.styles)},[j("div",{class:H(["arrow",{active:e.showArrow&&e.isActive}]),style:Ue(e.arrowStyles),"data-popper-arrow":""},null,6),j("div",{class:"v-menu-content",onClick:t[2]||(t[2]=X(((...t)=>e.onContentClick&&e.onContentClick(...t)),["stop"])),onPointerenter:t[3]||(t[3]=X(((...t)=>e.onPointerEnter&&e.onPointerEnter(...t)),["stop"])),onPointerleave:t[4]||(t[4]=X(((...t)=>e.onPointerLeave&&e.onPointerLeave(...t)),["stop"]))},[Q(e.$slots,"default",J(Y({toggle:e.toggle,active:e.isActive,activate:e.activate,deactivate:e.deactivate})),void 0,!0)],32)],14,UT)),[[s,{handler:e.deactivate,middleware:e.onClickOutsideMiddleware,disabled:!1===e.isActive||!1===e.closeOnClick,events:["click"]}]]):B("",!0)])),_:3})]))])}],["__scopeId","data-v-91ce56b4"]]);var BT=F_(w({props:{type:{type:String,default:"normal"},icon:{type:[String,Boolean],default:null},center:{type:Boolean,default:!1}},setup:e=>({iconName:V((()=>!1!==e.icon&&"string"==typeof e.icon?e.icon:"info"==e.type?"info":"success"==e.type?"check_circle":"warning"==e.type?"warning":"danger"==e.type?"error":"info"))})}),[["render",function(e,t,l,a,i,n){const o=S("v-icon");return E(),P("div",{class:H(["v-notice",[e.type,{center:e.center}]])},[!1!==e.icon?(E(),A(o,{key:0,name:e.iconName,left:""},null,8,["name"])):B("",!0),Q(e.$slots,"default")],2)}],["__scopeId","data-v-2d5b0a1b"]]);const qT=w({props:{active:{type:Boolean,default:!1},absolute:{type:Boolean,default:!1},clickable:{type:Boolean,default:!0}},emits:["click"],setup:(e,{emit:t})=>({onClick:function(e){t("click",e)}})}),zT=(e=>(K("data-v-3e74acbb"),e=e(),W(),e))((()=>j("div",{class:"overlay"},null,-1))),KT={key:0,class:"content"};var WT=F_(qT,[["render",function(e,t,l,a,i,n){return E(),P("div",{class:H(["v-overlay",{active:e.active,absolute:e.absolute,"has-click":e.clickable}]),onClick:t[0]||(t[0]=(...t)=>e.onClick&&e.onClick(...t))},[zT,e.active?(E(),P("div",KT,[Q(e.$slots,"default",{},void 0,!0)])):B("",!0)],2)}],["__scopeId","data-v-3e74acbb"]]);const HT=w({props:{disabled:{type:Boolean,default:!1},length:{type:Number,default:null,required:!0,validator:e=>e%1==0},totalVisible:{type:Number,default:void 0,validator:e=>e>=0},modelValue:{type:Number,default:null},showFirstLast:{type:Boolean,default:!1}},emits:["update:modelValue"],setup(e,{emit:t}){return{toPage:l,toPrev:function(){l(e.modelValue-1)},toNext:function(){l(e.modelValue+1)},visiblePages:V((()=>{if(void 0===e.totalVisible)return[];let t,l;if(Dw(e.totalVisible)||e.length<=e.totalVisible)t=1,l=e.length;else{const a=Math.floor(e.totalVisible/2),i=Math.ceil(e.totalVisible/2)-1;e.modelValue<=a?(t=1,l=e.totalVisible):e.modelValue+i>=e.length?(t=e.length-e.totalVisible+1,l=e.length):(t=e.modelValue-a,l=e.modelValue+i)}return Array.from(Array(l+1-t).keys()).map((e=>t+e))}))};function l(e){t("update:modelValue",e)}}}),GT={class:"v-pagination"},QT=N(" 1 "),XT={key:1,class:"gap"},JT={key:2,class:"gap"};var YT=F_(HT,[["render",function(e,t,l,a,i,n){const o=S("v-icon"),s=S("v-button");return E(),P("div",GT,[I(s,{class:"previous",disabled:e.disabled||1===e.modelValue,secondary:"",icon:"",small:"",onClick:e.toPrev},{default:D((()=>[I(o,{name:"chevron_left"})])),_:1},8,["disabled","onClick"]),e.showFirstLast&&e.modelValue>Math.ceil(e.totalVisible/2)+1&&e.length>e.totalVisible?(E(),A(s,{key:0,class:"page",secondary:"",small:"",disabled:e.disabled,onClick:t[0]||(t[0]=t=>e.toPage(1))},{default:D((()=>[QT])),_:1},8,["disabled"])):B("",!0),e.showFirstLast&&e.modelValue>Math.ceil(e.totalVisible/2)+1&&e.length>e.totalVisible+1?(E(),P("span",XT," ... ")):B("",!0),(E(!0),P(R,null,M(e.visiblePages,(t=>(E(),A(s,{key:t,class:H([{active:e.modelValue===t},"page"]),secondary:"",small:"",disabled:e.disabled,onClick:l=>e.toPage(t)},{default:D((()=>[N(U(t),1)])),_:2},1032,["class","disabled","onClick"])))),128)),e.showFirstLast&&e.modelValue<e.length-Math.ceil(e.totalVisible/2)&&e.length>e.totalVisible+1?(E(),P("span",JT," ... ")):B("",!0),e.showFirstLast&&e.modelValue<=e.length-Math.ceil(e.totalVisible/2)&&e.length>e.totalVisible?(E(),A(s,{key:3,class:H([{active:e.modelValue===e.length},"page"]),secondary:"",small:"",disabled:e.disabled,onClick:t[1]||(t[1]=t=>e.toPage(e.length))},{default:D((()=>[N(U(e.length),1)])),_:1},8,["class","disabled"])):B("",!0),I(s,{class:"next",disabled:e.disabled||e.modelValue===e.length,secondary:"",icon:"",small:"",onClick:e.toNext},{default:D((()=>[I(o,{name:"chevron_right"})])),_:1},8,["disabled","onClick"])])}],["__scopeId","data-v-7c59d706"]]);const ZT=w({props:s({indeterminate:{type:Boolean,default:!1},value:{type:Number,default:0}},cF),emits:["animationiteration"],setup:e=>({sizeClass:uF(e),circleStyle:V((()=>({"stroke-dasharray":e.value/100*78.5+", 78.5"})))})}),eP=(e=>(K("data-v-a75ea6ac"),e=e(),W(),e))((()=>j("path",{class:"circle-background",d:"M12.5,0A12.5,12.5,0,1,1,0,12.5,12.5,12.5,0,0,1,12.5,0Z",transform:"translate(2.5 2.5)"},null,-1)));var tP=F_(ZT,[["render",function(e,t,l,a,i,n){return E(),P("div",{class:H(["v-progress-circular",e.sizeClass])},[(E(),P("svg",{class:H(["circle",{indeterminate:e.indeterminate}]),viewBox:"0 0 30 30",onAnimationiteration:t[0]||(t[0]=t=>e.$emit("animationiteration"))},[eP,j("path",{class:"circle-path",style:Ue(e.circleStyle),d:"M12.5,0A12.5,12.5,0,1,1,0,12.5,12.5,12.5,0,0,1,12.5,0Z",transform:"translate(2.5 2.5)"},null,4)],34)),Q(e.$slots,"default",{},void 0,!0)],2)}],["__scopeId","data-v-a75ea6ac"]]);var lP=F_(w({props:{absolute:{type:Boolean,default:!1},bottom:{type:Boolean,default:!1},fixed:{type:Boolean,default:!1},indeterminate:{type:Boolean,default:!1},rounded:{type:Boolean,default:!1},top:{type:Boolean,default:!1},value:{type:Number,default:0},colorful:{type:Boolean,default:!1}},emits:["animationiteration"],setup:e=>({color:V((()=>e.value<=33?"danger":e.value<=66?"warning":"success"))})}),[["render",function(e,t,l,a,i,n){return E(),P("div",{class:H(["v-progress-linear",[{absolute:e.absolute,bottom:e.bottom,fixed:e.fixed,indeterminate:e.indeterminate,rounded:e.rounded,top:e.top,colorful:e.colorful},e.color]]),onAnimationiteration:t[0]||(t[0]=t=>e.$emit("animationiteration"))},[j("div",{class:"inner",style:Ue({width:e.value+"%"})},null,4),Q(e.$slots,"default",{value:e.value},void 0,!0)],34)}],["__scopeId","data-v-4aeb976a"]]);const aP=w({props:{value:{type:String,required:!0},modelValue:{type:String,default:null},label:{type:String,default:null},disabled:{type:Boolean,default:!1},iconOn:{type:String,default:"radio_button_checked"},iconOff:{type:String,default:"radio_button_unchecked"},block:{type:Boolean,default:!1}},emits:["update:modelValue"],setup(e,{emit:t}){const l=V((()=>e.modelValue===e.value)),a=V((()=>l.value?e.iconOn:e.iconOff));return{isChecked:l,emitValue:function(){t("update:modelValue",e.value)},icon:a}}}),iP=["aria-pressed","disabled"],nP={class:"label type-text"};var oP=F_(aP,[["render",function(e,t,l,a,i,n){const o=S("v-icon");return E(),P("button",{class:H(["v-radio",{checked:e.isChecked,block:e.block}]),type:"button","aria-pressed":e.isChecked?"true":"false",disabled:e.disabled,onClick:t[0]||(t[0]=(...t)=>e.emitValue&&e.emitValue(...t))},[I(o,{name:e.icon},null,8,["name"]),j("span",nP,[Q(e.$slots,"label",{},(()=>[N(U(e.label),1)]),!0)])],10,iP)}],["__scopeId","data-v-36e4a678"]]);function sP(e,t,l){const a=F(""),i=V({get:()=>a.value||(n.value?e.value:""),set(e){null===e?(a.value="",l(null)):(a.value=e,l(e))}}),n=V((()=>{if(null===t.value)return!1;const l=t.value.map((e=>e.value));return null!==e.value&&e.value.length>0&&!1===l.includes(e.value)}));return{otherValue:i,usesOtherValue:n}}function rP(e,t,l){const a=F([]);return O(e,(e=>{null!==e&&!1!==Array.isArray(e)&&null!==t.value&&e.forEach((e=>{if(null===t.value)return;if(!1===(!0===t.value.map((e=>e.value)).includes(e))){!1===(!0===a.value.map((e=>e.value)).includes(e))&&i(e)}}))})),{otherValues:a,addOtherValue:i,setOtherValue:function(t,i){const n=a.value.find((e=>e.key===t)),o=(e.value||[]).filter((e=>e!==(null==n?void 0:n.value)));if(null===i)a.value=a.value.filter((e=>e.key!==t)),0===o.length?l(null):l(o);else{a.value=a.value.map((e=>(e.key===t&&(e.value=i),e)));const e=[...o,i];l(e)}}};function i(e=""){a.value=[...a.value,{key:C(),value:e}]}}const dP=w({name:"SelectListItem",props:{item:{type:Object,required:!0},modelValue:{type:[String,Number,Array],default:null},multiple:{type:Boolean,required:!0},allowOther:{type:Boolean,required:!0}},emits:["update:modelValue"]}),cP={key:0,class:"item-text"};var uP=F_(dP,[["render",function(e,t,l,a,i,n){const o=S("v-divider"),s=S("v-icon"),r=S("v-list-item-icon"),d=S("v-checkbox"),c=S("v-list-item-content"),u=S("v-list-item");return!0===e.item.divider?(E(),A(o,{key:0})):(E(),A(u,{key:1,active:e.multiple?(e.modelValue||[]).includes(e.item.value):e.modelValue===e.item.value,disabled:e.item.disabled,clickable:"",onClick:t[1]||(t[1]=t=>e.multiple?null:e.$emit("update:modelValue",e.item.value))},{default:D((()=>[!1===e.multiple&&!1===e.allowOther&&e.item.icon?(E(),A(r,{key:0},{default:D((()=>[I(s,{name:e.item.icon},null,8,["name"])])),_:1})):B("",!0),I(c,null,{default:D((()=>[!1===e.multiple||!1===e.item.selectable?(E(),P("span",cP,U(e.item.text),1)):(E(),A(d,{key:1,"model-value":e.modelValue||[],label:e.item.text,value:e.item.value,disabled:e.item.disabled,"onUpdate:modelValue":t[0]||(t[0]=t=>e.$emit("update:modelValue",t.length>0?t:null))},null,8,["model-value","label","value","disabled"]))])),_:1})])),_:1},8,["active","disabled"]))}]]);const pP=w({name:"SelectListItemGroup",components:{SelectListItem:uP},props:{item:{type:Object,required:!0},modelValue:{type:[String,Number,Array],default:null},multiple:{type:Boolean,required:!0},allowOther:{type:Boolean,required:!0}},emits:["update:modelValue"]});const mP=w({components:{SelectListItemGroup:F_(pP,[["render",function(e,t,l,a,i,n){const o=S("select-list-item"),s=S("select-list-item-group",!0),r=S("v-list-group");return E(),A(r,null,{activator:D((()=>[I(o,{"model-value":e.modelValue,item:e.item,multiple:e.multiple,"allow-other":e.allowOther,"onUpdate:modelValue":t[0]||(t[0]=t=>e.$emit("update:modelValue",t))},null,8,["model-value","item","multiple","allow-other"])])),default:D((()=>[(E(!0),P(R,null,M(e.item.children,((l,a)=>(E(),P(R,{key:a},[l.children?(E(),A(s,{key:0,item:l,"model-value":e.modelValue,multiple:e.multiple,"allow-other":e.allowOther,"onUpdate:modelValue":t[1]||(t[1]=t=>e.$emit("update:modelValue",t))},null,8,["item","model-value","multiple","allow-other"])):(E(),A(o,{key:1,"model-value":e.modelValue,item:l,multiple:e.multiple,"allow-other":e.allowOther,"onUpdate:modelValue":t[2]||(t[2]=t=>e.$emit("update:modelValue",t))},null,8,["model-value","item","multiple","allow-other"]))],64)))),128))])),_:1})}]]),SelectListItem:uP},props:{items:{type:Array,required:!0},itemText:{type:String,default:"text"},itemValue:{type:String,default:"value"},itemIcon:{type:String,default:null},itemDisabled:{type:String,default:"disabled"},itemSelectable:{type:String,default:"selectable"},itemChildren:{type:String,default:"children"},modelValue:{type:[Array,String,Number,Boolean],default:null},multiple:{type:Boolean,default:!1},placeholder:{type:String,default:null},fullWidth:{type:Boolean,default:!0},disabled:{type:Boolean,default:!1},showDeselect:{type:Boolean,default:!1},allowOther:{type:Boolean,default:!1},closeOnContentClick:{type:Boolean,default:!0},inline:{type:Boolean,default:!1},multiplePreviewThreshold:{type:Number,default:3}},emits:["update:modelValue"],setup(e,{emit:t}){const{t:l}=x(),{internalItems:a}={internalItems:V((()=>{const t=l=>{if("string"==typeof l)return{text:l,value:l};if(!0===l.divider)return{value:null,divider:!0};const a=m.exports.get(l,e.itemChildren)?m.exports.get(l,e.itemChildren).map(t):null;return{text:m.exports.get(l,e.itemText),value:m.exports.get(l,e.itemValue),icon:m.exports.get(l,e.itemIcon),disabled:m.exports.get(l,e.itemDisabled),selectable:m.exports.get(l,e.itemSelectable),children:a}};return e.items.map(t)}))},{displayValue:i}=function(){return{displayValue:V((()=>{if(Array.isArray(e.modelValue)){if(e.modelValue.length<e.multiplePreviewThreshold)return e.modelValue.map((e=>t(e)||e)).join(", ");{const t=a.value.length+r.value.length,i=e.modelValue.length;return t===i?l("all_items"):l("item_count",i)}}return t(e.modelValue)||e.modelValue}))};function t(e){return function t(l){var a;let i=null==(a=l.find((t=>t.value===e)))?void 0:a.text;for(const e of l)i||e.children&&(i=t(e.children));return i}(a.value)}}(),{modelValue:n}=T(e),{otherValue:o,usesOtherValue:s}=sP(n,a,(e=>t("update:modelValue",e))),{otherValues:r,addOtherValue:d,setOtherValue:c}=rP(n,a,(e=>t("update:modelValue",e)));return{t:l,internalItems:a,displayValue:i,otherValue:o,usesOtherValue:s,otherValues:r,addOtherValue:d,setOtherValue:c}}}),fP=["onClick"],vP=["placeholder"],_P=["value","placeholder","onInput","onBlur"];var yP=F_(mP,[["render",function(e,t,l,a,i,n){const o=S("v-icon"),s=S("v-input"),r=S("v-list-item-icon"),d=S("v-list-item-content"),c=S("v-list-item"),u=S("v-divider"),p=S("select-list-item-group"),m=S("select-list-item"),f=S("v-checkbox"),v=S("v-list"),_=S("v-menu"),y=q("focus");return E(),A(_,{disabled:e.disabled,class:"v-select",attached:!1===e.inline,"show-arrow":!0===e.inline,"close-on-content-click":e.closeOnContentClick},{activator:D((({toggle:t,active:l})=>[e.inline?(E(),P("div",{key:0,class:H(["inline-display",{placeholder:!e.displayValue}]),onClick:t},[N(U(e.displayValue||e.placeholder)+" ",1),I(o,{name:"expand_more",class:H({active:l})},null,8,["class"])],10,fP)):(E(),A(s,{key:1,"full-width":e.fullWidth,readonly:"","model-value":e.displayValue,clickable:"",placeholder:e.placeholder,disabled:e.disabled,active:l,onClick:t},G({append:D((()=>[I(o,{name:"expand_more",class:H({active:l})},null,8,["class"]),Q(e.$slots,"append",{},void 0,!0)])),_:2},[e.$slots.prepend?{name:"prepend",fn:D((()=>[Q(e.$slots,"prepend",{},void 0,!0)]))}:void 0]),1032,["full-width","model-value","placeholder","disabled","active","onClick"]))])),default:D((()=>[I(v,{class:"list"},{default:D((()=>[e.showDeselect?(E(),P(R,{key:0},[I(c,{clickable:"",disabled:null===e.modelValue,onClick:t[0]||(t[0]=t=>e.$emit("update:modelValue",null))},{default:D((()=>[!0===e.multiple?(E(),A(r,{key:0},{default:D((()=>[I(o,{name:"close"})])),_:1})):B("",!0),I(d,null,{default:D((()=>[N(U(e.multiple?e.t("deselect_all"):e.t("deselect")),1)])),_:1}),!1===e.multiple?(E(),A(r,{key:1},{default:D((()=>[I(o,{name:"close"})])),_:1})):B("",!0)])),_:1},8,["disabled"]),I(u)],64)):B("",!0),(E(!0),P(R,null,M(e.internalItems,((l,a)=>(E(),P(R,{key:a},[l.children?(E(),A(p,{key:0,item:l,"model-value":e.modelValue,multiple:e.multiple,"allow-other":e.allowOther,"onUpdate:modelValue":t[1]||(t[1]=t=>e.$emit("update:modelValue",t))},null,8,["item","model-value","multiple","allow-other"])):(E(),A(m,{key:1,"model-value":e.modelValue,item:l,multiple:e.multiple,"allow-other":e.allowOther,"onUpdate:modelValue":t[2]||(t[2]=t=>e.$emit("update:modelValue",t))},null,8,["model-value","item","multiple","allow-other"]))],64)))),128)),e.allowOther&&!1===e.multiple?(E(),A(c,{key:1,active:e.usesOtherValue,onClick:t[5]||(t[5]=X((()=>{}),["stop"]))},{default:D((()=>[I(d,null,{default:D((()=>[z(j("input",{"onUpdate:modelValue":t[3]||(t[3]=t=>e.otherValue=t),class:"other-input",placeholder:e.t("other"),onFocus:t[4]||(t[4]=t=>e.otherValue?e.$emit("update:modelValue",e.otherValue):null)},null,40,vP),[[Je,e.otherValue]])])),_:1})])),_:1},8,["active"])):B("",!0),e.allowOther&&!0===e.multiple?(E(),P(R,{key:2},[(E(!0),P(R,null,M(e.otherValues,(l=>(E(),A(c,{key:l.key,active:(e.modelValue||[]).includes(l.value),onClick:t[7]||(t[7]=X((()=>{}),["stop"]))},{default:D((()=>[I(r,null,{default:D((()=>[I(f,{"model-value":e.modelValue||[],value:l.value,"onUpdate:modelValue":t[6]||(t[6]=t=>e.$emit("update:modelValue",t.length>0?t:null))},null,8,["model-value","value"])])),_:2},1024),I(d,null,{default:D((()=>[z(j("input",{class:"other-input",value:l.value,placeholder:e.t("other"),onInput:t=>e.setOtherValue(l.key,t.target.value),onBlur:t=>0===l.value.length&&e.setOtherValue(l.key,null)},null,40,_P),[[y]])])),_:2},1024),I(r,null,{default:D((()=>[I(o,{name:"close",clickable:"",onClick:t=>e.setOtherValue(l.key,null)},null,8,["onClick"])])),_:2},1024)])),_:2},1032,["active"])))),128)),I(c,{onClick:t[8]||(t[8]=X((t=>e.addOtherValue()),["stop"]))},{default:D((()=>[I(r,null,{default:D((()=>[I(o,{name:"add"})])),_:1}),I(d,null,{default:D((()=>[N(U(e.t("other")),1)])),_:1})])),_:1})],64)):B("",!0)])),_:1})])),_:3},8,["disabled","attached","show-arrow","close-on-content-click"])}],["__scopeId","data-v-485da1b8"]]);const hP=w({props:{},setup:()=>({})}),gP={class:"v-sheet"};var bP=F_(hP,[["render",function(e,t,l,a,i,n){return E(),P("div",gP,[Q(e.$slots,"default",{},void 0,!0)])}],["__scopeId","data-v-714b5c50"]]);const kP=w({props:{type:{type:String,default:"input"}}}),wP=e=>(K("data-v-9bf1f4de"),e=e(),W(),e),xP=wP((()=>j("div",{class:"icon"},null,-1))),VP=wP((()=>j("div",{class:"text"},null,-1)));var CP=F_(kP,[["render",function(e,t,l,a,i,n){return E(),P("div",{class:H([e.type,"v-skeleton-loader"])},["list-item-icon"===e.type?(E(),P(R,{key:0},[xP,VP],64)):B("",!0)],2)}],["__scopeId","data-v-9bf1f4de"]]);const SP=w({props:{disabled:{type:Boolean,default:!1},showThumbLabel:{type:Boolean,default:!1},max:{type:Number,default:100},min:{type:Number,default:0},step:{type:Number,default:1},showTicks:{type:Boolean,default:!1},alwaysShowValue:{type:Boolean,default:!1},modelValue:{type:Number,default:0}},emits:["change","update:modelValue"],setup:(e,{emit:t})=>({styles:V((()=>{if(null===e.modelValue)return{"--_v-slider-percentage":50};let t=(e.modelValue-e.min)/(e.max-e.min)*100;return isNaN(t)&&(t=0),{"--_v-slider-percentage":t}})),onChange:function(e){const l=e.target;t("change",Number(l.value))},onInput:function(e){const l=e.target;t("update:modelValue",Number(l.value))}})}),EP={key:0,class:"prepend"},AP=["disabled","value","max","min","step"],DP=(e=>(K("data-v-322c9630"),e=e(),W(),e))((()=>j("div",{class:"fill"},null,-1))),IP={key:0,class:"ticks"},FP={key:1,class:"thumb-label-wrapper"},OP={key:1,class:"append"};var $P=F_(SP,[["render",function(e,t,l,a,i,n){return E(),P("div",{class:"v-slider",style:Ue(e.styles)},[e.$slots.prepend?(E(),P("div",EP,[Q(e.$slots,"prepend",{value:e.modelValue},void 0,!0)])):B("",!0),j("div",{class:H(["slider",{disabled:e.disabled}])},[j("input",{disabled:e.disabled,type:"range",value:e.modelValue,max:e.max,min:e.min,step:e.step,onChange:t[0]||(t[0]=(...t)=>e.onChange&&e.onChange(...t)),onInput:t[1]||(t[1]=(...t)=>e.onInput&&e.onInput(...t))},null,40,AP),DP,e.showTicks?(E(),P("div",IP,[(E(!0),P(R,null,M((e.max-e.min)/e.step+1,(e=>(E(),P("span",{key:e,class:"tick"})))),128))])):B("",!0),e.showThumbLabel?(E(),P("div",FP,[j("div",{class:H(["thumb-label",{visible:e.alwaysShowValue}])},[Q(e.$slots,"thumb-label type-text",{value:e.modelValue},(()=>[N(U(e.modelValue),1)]),!0)],2)])):B("",!0)],2),e.$slots.append?(E(),P("div",OP,[Q(e.$slots,"append",{value:e.modelValue},void 0,!0)])):B("",!0)],4)}],["__scopeId","data-v-322c9630"]]);const TP=w({props:{value:{type:String,default:null},modelValue:{type:[Boolean,Array],default:!1},label:{type:String,default:null},disabled:{type:Boolean,default:!1}},emits:["update:modelValue"],setup(e,{emit:t}){const l=V((()=>e.modelValue instanceof Array?e.modelValue.includes(e.value):!0===e.modelValue));return{isChecked:l,toggleInput:function(){if(e.modelValue instanceof Array){const a=[...e.modelValue];!1===l.value?a.push(e.value):a.splice(a.indexOf(e.value),1),t("update:modelValue",a)}else t("update:modelValue",!l.value)}}}}),PP=["aria-pressed","disabled"],jP=(e=>(K("data-v-9eb85040"),e=e(),W(),e))((()=>j("span",{class:"switch"},null,-1))),LP={class:"label type-label"};var RP=F_(TP,[["render",function(e,t,l,a,i,n){return E(),P("button",{class:"v-switch",type:"button",role:"switch","aria-pressed":e.isChecked?"true":"false",disabled:e.disabled,onClick:t[0]||(t[0]=(...t)=>e.toggleInput&&e.toggleInput(...t))},[jP,j("span",LP,[Q(e.$slots,"label",{},(()=>[N(U(e.label),1)]),!0)])],8,PP)}],["__scopeId","data-v-9eb85040"]]);const MP=w({props:{headers:{type:Array,required:!0},sort:{type:Object,required:!0},showSelect:{type:Boolean,default:!1},showResize:{type:Boolean,default:!1},showManualSort:{type:Boolean,default:!1},someItemsSelected:{type:Boolean,default:!1},allItemsSelected:{type:Boolean,default:!1},fixed:{type:Boolean,default:!1},mustSort:{type:Boolean,default:!1},hasItemAppendSlot:{type:Boolean,default:!1},manualSortKey:{type:String,default:null}},emits:["update:sort","toggle-select-all","update:headers"],setup(e,{emit:t}){const{t:l}=x(),a=F(!1),i=F(0),n=F(0),o=F(null);return Cb(window,"pointermove",m.exports.throttle(d,40)),Cb(window,"pointerup",(function(){!0===a.value&&(a.value=!1)})),{t:l,changeSort:function(l){if(!1===l.sortable)return;if(!0===a.value)return;if(l.value===e.sort.by)return e.mustSort?t("update:sort",{by:e.sort.by,desc:!e.sort.desc}):!1===e.sort.desc?t("update:sort",{by:e.sort.by,desc:!0}):t("update:sort",{by:null,desc:!1});return t("update:sort",{by:l.value,desc:!1})},dragging:a,dragHeader:o,dragStartWidth:n,dragStartX:i,getClassesForHeader:function(t){const l=[];t.align&&l.push(`align-${t.align}`);t.sortable&&l.push("sortable");e.sort.by===t.value&&(!1===e.sort.desc?l.push("sort-asc"):l.push("sort-desc"));return l},onMouseMove:d,onResizeHandleMouseDown:function(e,t){const l=t.target.parentElement;a.value=!0,i.value=t.pageX,n.value=l.offsetWidth,o.value=e},toggleManualSort:function(){e.sort.by===e.manualSortKey?t("update:sort",{by:null,desc:!1}):t("update:sort",{by:e.manualSortKey,desc:!1})},toggleSelectAll:function(){t("toggle-select-all",!e.allItemsSelected)},getTooltipForSortIcon:function(t){return e.sort.by===t.value&&!1===e.sort.desc?"sort_desc":"sort_asc"}};function d(l){if(!0===a.value){const a=n.value+(l.pageX-i.value),d=m.exports.clone(e.headers).map((e=>{var t;return e.value===(null==(t=o.value)?void 0:t.value)?r(s({},e),{width:Math.max(32,a)}):e}));t("update:headers",d)}}}}),UP={key:1,class:"select cell",scope:"col"},NP=["onClick"],BP=["onPointerdown"],qP=(e=>(K("data-v-35ccb000"),e=e(),W(),e))((()=>j("th",{class:"spacer cell",scope:"col"},null,-1))),zP={key:2,class:"spacer cell",scope:"col"};var KP=F_(MP,[["render",function(e,t,l,a,i,n){const o=S("v-icon"),s=S("v-checkbox"),r=q("tooltip");return E(),P("thead",{class:H(["table-header",{dragging:e.dragging}])},[j("tr",{class:H({fixed:e.fixed})},[e.showManualSort?(E(),P("th",{key:0,class:H(["manual cell",{"sorted-manually":e.sort.by===e.manualSortKey}]),scope:"col",onClick:t[0]||(t[0]=(...t)=>e.toggleManualSort&&e.toggleManualSort(...t))},[z(I(o,{name:"sort",small:""},null,512),[[r,e.t("toggle_manual_sorting")]])],2)):B("",!0),e.showSelect?(E(),P("th",UP,[I(s,{"model-value":e.allItemsSelected,indeterminate:e.someItemsSelected,"onUpdate:modelValue":e.toggleSelectAll},null,8,["model-value","indeterminate","onUpdate:modelValue"])])):B("",!0),(E(!0),P(R,null,M(e.headers,(l=>(E(),P("th",{key:l.value,class:H([e.getClassesForHeader(l),"cell"]),scope:"col"},[j("div",{class:"content",onClick:t=>e.changeSort(l)},[z(j("span",null,[Q(e.$slots,`header.${l.value}`,{header:l},(()=>[N(U(l.text),1)]),!0)],512),[[ce,l.width>90||null===l.width]]),l.sortable?z((E(),A(o,{key:0,name:"sort",class:"sort-icon",small:""},null,512)),[[r,e.t(e.getTooltipForSortIcon(l)),void 0,{top:!0}]]):B("",!0)],8,NP),e.showResize?(E(),P("span",{key:0,class:"resize-handle",onClick:t[1]||(t[1]=X((()=>{}),["stop"])),onPointerdown:t=>e.onResizeHandleMouseDown(l,t)},null,40,BP)):B("",!0)],2)))),128)),qP,e.hasItemAppendSlot?(E(),P("th",zP)):B("",!0)],2)],2)}],["__scopeId","data-v-35ccb000"]]);const WP=w({props:{headers:{type:Array,required:!0},item:{type:Object,required:!0},showSelect:{type:Boolean,default:!1},showManualSort:{type:Boolean,default:!1},isSelected:{type:Boolean,default:!1},subdued:{type:Boolean,default:!1},sortedManually:{type:Boolean,default:!1},hasClickListener:{type:Boolean,default:!1},height:{type:Number,default:48}},emits:["click","item-selected"]}),HP=(e=>(K("data-v-3e001747"),e=e(),W(),e))((()=>j("td",{class:"spacer cell"},null,-1)));const GP={text:"",value:"",align:"left",sortable:!0,width:null},QP=w({components:{TableHeader:KP,TableRow:F_(WP,[["render",function(e,t,l,a,i,n){const o=S("v-icon"),s=S("v-checkbox"),r=S("v-text-overflow"),d=S("value-null");return E(),P("tr",{class:H(["table-row",{subdued:e.subdued,clickable:e.hasClickListener}]),style:Ue({"--table-row-height":e.height+2+"px","--table-row-line-height":1}),onClick:t[4]||(t[4]=t=>e.$emit("click"))},[e.showManualSort?(E(),P("td",{key:0,class:"manual cell",onClick:t[0]||(t[0]=X((()=>{}),["stop"]))},[I(o,{name:"drag_handle",class:H(["drag-handle",{"sorted-manually":e.sortedManually}])},null,8,["class"])])):B("",!0),e.showSelect?(E(),P("td",{key:1,class:"select cell",onClick:t[2]||(t[2]=X((()=>{}),["stop"]))},[I(s,{"model-value":e.isSelected,"onUpdate:modelValue":t[1]||(t[1]=t=>e.$emit("item-selected",t))},null,8,["model-value"])])):B("",!0),(E(!0),P(R,null,M(e.headers,(t=>(E(),P("td",{key:t.value,class:H(["cell",`align-${t.align}`])},[Q(e.$slots,`item.${t.value}`,{item:e.item},(()=>[t.value.split(".").reduce(((e,t)=>e[t]),e.item)?(E(),A(r,{key:0,text:t.value.split(".").reduce(((e,t)=>e[t]),e.item)},null,8,["text"])):(E(),A(d,{key:1}))]),!0)],2)))),128)),HP,e.$slots["item-append"]?(E(),P("td",{key:2,class:"append cell",onClick:t[3]||(t[3]=X((()=>{}),["stop"]))},[Q(e.$slots,"item-append",{},void 0,!0)])):B("",!0)],6)}],["__scopeId","data-v-3e001747"]]),Draggable:Be},props:{headers:{type:Array,required:!0},items:{type:Array,required:!0},itemKey:{type:String,default:"id"},sort:{type:Object,default:null},mustSort:{type:Boolean,default:!1},showSelect:{type:Boolean,default:!1},showResize:{type:Boolean,default:!1},showManualSort:{type:Boolean,default:!1},manualSortKey:{type:String,default:null},modelValue:{type:Array,default:()=>[]},fixedHeader:{type:Boolean,default:!1},loading:{type:Boolean,default:!1},loadingText:{type:String,default:o_.global.t("loading")},noItemsText:{type:String,default:o_.global.t("no_items")},serverSort:{type:Boolean,default:!1},rowHeight:{type:Number,default:48},selectionUseKeys:{type:Boolean,default:!1},inline:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},clickable:{type:Boolean,default:!0}},emits:["click:row","update:sort","update:items","item-selected","update:modelValue","manual-sort","update:headers"],setup(e,{emit:t,slots:l}){const a=V({get:()=>e.headers.map((e=>s(s({},GP),e))).map((e=>(e.width&&e.width<24&&(e.width=24),e))),set:e=>{t("update:headers",e.map((e=>{const t=[];return m.exports.forEach(e,((e,l)=>{e!==GP[l]&&t.push(l)})),m.exports.pick(e,t)})))}}),i=F({by:null,desc:!1}),n=V({get:()=>e.sort||i.value,set:e=>{t("update:sort",e),i.value=e}}),o=V((()=>void 0!==l["item-append"])),r=V((()=>{let t=a.value.length+1;return e.showSelect&&t++,e.showManualSort&&t++,o.value&&t++,`1 / span ${t}`})),d=V({get:()=>{if(!0===e.serverSort||n.value.by===e.manualSortKey)return e.items;if(null===n.value.by)return e.items;const t=m.exports.sortBy(e.items,[n.value.by]);return!0===n.value.desc?t.reverse():t},set:e=>{t("update:items",e)}}),c=V((()=>!1===e.loading&&e.modelValue.length===e.items.length)),u=V((()=>e.modelValue.length>0&&!1===c.value)),p=V((()=>{let t=a.value.map((e=>e.width?`${e.width}px`:"160px")).reduce(((e,t)=>e+" "+t),"");return e.showSelect&&(t="36px "+t),e.showManualSort&&(t="36px "+t),t+=" 1fr",o.value&&(t+=" auto"),t}));return{internalHeaders:a,internalItems:d,internalSort:n,allItemsSelected:c,getSelectedState:function(t){return(e.selectionUseKeys?e.modelValue:e.modelValue.map((t=>t[e.itemKey]))).includes(t[e.itemKey])},onItemSelected:function(l){if(e.disabled)return;t("item-selected",l);let a=m.exports.clone(e.modelValue);!0===l.value?e.selectionUseKeys?a.push(l.item[e.itemKey]):a.push(l.item):a=a.filter((t=>e.selectionUseKeys?t!==l.item[e.itemKey]:t[e.itemKey]!==l.item[e.itemKey]));t("update:modelValue",a)},onToggleSelectAll:function(l){if(e.disabled)return;!0===l?e.selectionUseKeys?t("update:modelValue",m.exports.clone(e.items).map((t=>t[e.itemKey]))):t("update:modelValue",m.exports.clone(e.items)):t("update:modelValue",[])},someItemsSelected:u,onSortChange:function(l){if(e.disabled)return;const a=d.value[l.oldIndex][e.itemKey],i=d.value[l.newIndex][e.itemKey];t("manual-sort",{item:a,to:i})},fullColSpan:r,columnStyle:p,hasItemAppendSlot:o,hideDragImage:VS}}}),XP=["summary"],JP={key:1},YP={class:"loading-text"},ZP={key:2},ej={class:"no-items-text"};var tj=F_(QP,[["render",function(e,t,l,a,i,n){const o=S("table-header"),s=S("v-progress-linear"),r=S("table-row"),d=S("draggable");return E(),P("div",{class:H(["v-table",{loading:e.loading,inline:e.inline,disabled:e.disabled}])},[j("table",{summary:e.internalHeaders.map((e=>e.text)).join(", "),style:Ue({"--grid-columns":e.columnStyle})},[I(o,{headers:e.internalHeaders,"onUpdate:headers":t[0]||(t[0]=t=>e.internalHeaders=t),sort:e.internalSort,"onUpdate:sort":t[1]||(t[1]=t=>e.internalSort=t),"show-select":e.showSelect,"show-resize":e.showResize,"some-items-selected":e.someItemsSelected,"all-items-selected":e.allItemsSelected,fixed:e.fixedHeader,"show-manual-sort":e.showManualSort,"must-sort":e.mustSort,"has-item-append-slot":e.hasItemAppendSlot,"manual-sort-key":e.manualSortKey,onToggleSelectAll:e.onToggleSelectAll},G({_:2},[M(e.internalHeaders,(t=>({name:`header.${t.value}`,fn:D((()=>[Q(e.$slots,`header.${t.value}`,{header:t},void 0,!0)]))})))]),1032,["headers","sort","show-select","show-resize","some-items-selected","all-items-selected","fixed","show-manual-sort","must-sort","has-item-append-slot","manual-sort-key","onToggleSelectAll"]),e.loading?(E(),P("thead",{key:0,class:H(["loading-indicator",{sticky:e.fixedHeader}])},[j("th",{scope:"colgroup",style:Ue({gridColumn:e.fullColSpan})},[e.loading?(E(),A(s,{key:0,indeterminate:""})):B("",!0)],4)],2)):B("",!0),e.loading&&0===e.items.length?(E(),P("tbody",JP,[j("tr",YP,[j("td",{style:Ue({gridColumn:e.fullColSpan})},U(e.loadingText),5)])])):B("",!0),e.loading||0!==e.items.length?(E(),A(d,{key:3,modelValue:e.internalItems,"onUpdate:modelValue":t[2]||(t[2]=t=>e.internalItems=t),"force-fallback":!0,"item-key":e.itemKey,tag:"tbody",handle:".drag-handle",disabled:e.disabled||e.internalSort.by!==e.manualSortKey,"set-data":e.hideDragImage,onEnd:e.onSortChange},{item:D((({element:t})=>[I(r,{headers:e.internalHeaders,item:t,"show-select":!e.disabled&&e.showSelect,"show-manual-sort":!e.disabled&&e.showManualSort,"is-selected":e.getSelectedState(t),subdued:e.loading,"sorted-manually":e.internalSort.by===e.manualSortKey,"has-click-listener":!e.disabled&&e.clickable,height:e.rowHeight,onClick:l=>e.clickable?e.$emit("click:row",t):null,onItemSelected:l=>e.onItemSelected({item:t,value:!e.getSelectedState(t)})},G({_:2},[M(e.internalHeaders,(l=>({name:`item.${l.value}`,fn:D((()=>[Q(e.$slots,`item.${l.value}`,{item:t},void 0,!0)]))}))),e.hasItemAppendSlot?{name:"item-append",fn:D((()=>[Q(e.$slots,"item-append",{item:t},void 0,!0)]))}:void 0]),1032,["headers","item","show-select","show-manual-sort","is-selected","subdued","sorted-manually","has-click-listener","height","onClick","onItemSelected"])])),_:3},8,["modelValue","item-key","disabled","set-data","onEnd"])):(E(),P("tbody",ZP,[j("tr",ej,[j("td",{style:Ue({gridColumn:e.fullColSpan})},U(e.noItemsText),5)])]))],12,XP),Q(e.$slots,"footer",{},void 0,!0)],2)}],["__scopeId","data-v-76992171"]]);const lj=w({props:{value:{type:String,default:null}},setup(e){const{active:t,toggle:l}=WI({value:e.value,group:"v-tabs-items"});return{active:t,toggle:l}}}),aj={key:0,class:"v-tab-item"};var ij=F_(lj,[["render",function(e,t,l,a,i,n){return e.active?(E(),P("div",aj,[Q(e.$slots,"default",J(Y({active:e.active,toggle:e.toggle})))])):B("",!0)}]]);var nj=F_(w({props:{disabled:{type:Boolean,default:!1},value:{type:String,default:null}},setup(e){const{active:t,toggle:l}=WI({value:e.value,group:"v-tabs"}),a=ae("v-tabs-vertical",F(!1));return{active:t,toggle:l,onClick:function(){!1===e.disabled&&l()},vertical:a}}}),[["render",function(e,t,l,a,i,n){const o=S("v-list-item");return e.vertical?(E(),A(o,{key:0,class:"v-tab vertical",active:e.active,disabled:e.disabled,clickable:"",onClick:e.onClick},{default:D((()=>[Q(e.$slots,"default",J(Y({active:e.active,toggle:e.toggle})),void 0,!0)])),_:3},8,["active","disabled","onClick"])):(E(),P("div",{key:1,class:H(["v-tab horizontal",{active:e.active,disabled:e.disabled}]),onClick:t[0]||(t[0]=(...t)=>e.onClick&&e.onClick(...t))},[Q(e.$slots,"default",J(Y({active:e.active,toggle:e.toggle})),void 0,!0)],2))}],["__scopeId","data-v-2c97bb1b"]]);var oj=F_(w({props:{modelValue:{type:Array,default:void 0}},emits:["update:modelValue"],setup:(e,{emit:t})=>({update:function(e){t("update:modelValue",e)}})}),[["render",function(e,t,l,a,i,n){const o=S("v-item-group");return E(),A(o,{class:"v-tabs-items","model-value":e.modelValue,scope:"v-tabs-items","onUpdate:modelValue":e.update},{default:D((()=>[Q(e.$slots,"default")])),_:3},8,["model-value","onUpdate:modelValue"])}]]);const sj=w({props:{vertical:{type:Boolean,default:!1},modelValue:{type:Array,default:void 0}},emits:["update:modelValue"],setup(e,{emit:t}){const{modelValue:l,vertical:a}=T(e);le("v-tabs-vertical",a);const{items:i}=HI({selection:l,onSelectionChange:n},{multiple:F(!1),mandatory:F(!0)},"v-tabs");function n(e){t("update:modelValue",e)}return{update:n,items:i}}}),rj={key:1,class:"v-tabs horizontal"};var dj=F_(sj,[["render",function(e,t,l,a,i,n){const o=S("v-list");return e.vertical?(E(),A(o,{key:0,class:"v-tabs vertical alt-colors",large:""},{default:D((()=>[Q(e.$slots,"default")])),_:3})):(E(),P("div",rj,[Q(e.$slots,"default")]))}],["__scopeId","data-v-7fd9bd38"]]);const cj=w({props:{text:{type:[String,Number,Array,Object,Boolean],required:!0}},setup(){const e=F(),t=F(!1),{width:l}=Fw(e);return O(l,(()=>{e.value&&(t.value=e.value.offsetWidth<e.value.scrollWidth)}),{immediate:!0}),{el:e,hasEllipsis:t}}}),uj={ref:"el",class:"v-text-overflow"};var pj=F_(cj,[["render",function(e,t,l,a,i,n){const o=q("tooltip");return z((E(),P("div",uj,[N(U(e.text),1)],512)),[[o,e.hasEllipsis&&e.text]])}],["__scopeId","data-v-5e8a506e"]]);const mj=w({props:{disabled:{type:Boolean,default:!1},autofocus:{type:Boolean,default:!1},fullWidth:{type:Boolean,default:!0},modelValue:{type:String,default:null},nullable:{type:Boolean,default:!0},expandOnFocus:{type:Boolean,default:!1},placeholder:{type:String,default:null},trim:{type:Boolean,default:!1}},emits:["update:modelValue"],setup(e,{emit:t}){return{listeners:V((()=>({input:l,blur:a}))),hasContent:V((()=>e.modelValue&&e.modelValue.length>0))};function l(l){const a=l.target.value;!0===e.nullable&&""===a?t("update:modelValue",null):t("update:modelValue",a)}function a(){e.modelValue&&e.trim&&t("update:modelValue",e.modelValue.trim())}}}),fj={key:0,class:"prepend"},vj=["placeholder","disabled","value"],_j={key:1,class:"append"};var yj=F_(mj,[["render",function(e,t,l,a,i,n){const o=q("focus");return E(),P("div",{class:H(["v-textarea",{disabled:e.disabled,"expand-on-focus":e.expandOnFocus,"full-width":e.fullWidth,"has-content":e.hasContent}])},[e.$slots.prepend?(E(),P("div",fj,[Q(e.$slots,"prepend",{},void 0,!0)])):B("",!0),z(j("textarea",Z(e.$attrs,{placeholder:e.placeholder,disabled:e.disabled,value:e.modelValue},Qe(e.listeners)),null,16,vj),[[o,e.autofocus]]),e.$slots.append?(E(),P("div",_j,[Q(e.$slots,"append",{},void 0,!0)])):B("",!0)],2)}],["__scopeId","data-v-12e4b7cd"]]);var hj=F_(w({components:{SearchInput:cy},props:{active:{type:Boolean,default:!1},selection:{type:Array,default:()=>[]},collection:{type:String,required:!0},multiple:{type:Boolean,default:!1},filters:{type:Array,default:()=>[]}},emits:["update:filters","update:active","input"],setup(e,{emit:t}){const{t:l}=x(),{save:a,cancel:i}={save:function(){t("input",o.value),n.value=!1},cancel:function(){n.value=!1}},{internalActive:n}=function(){const l=F(!1);return{internalActive:V({get:()=>void 0===e.active?l.value:e.active,set(e){l.value=e,t("update:active",e)}})}}(),{internalSelection:o,onSelect:s}=function(){const t=F(null),l=V({get:()=>null===t.value?e.selection:t.value,set(e){t.value=e}});return O((()=>e.active),(()=>{t.value=null})),{internalSelection:l,onSelect:function(l){if(0===l.length)return void(t.value=[]);!0===e.multiple?t.value=l:t.value=[l[l.length-1]]}}}(),{collection:r}=T(e),{info:d}=Xt(r),{layout:c,layoutOptions:u,layoutQuery:p,searchQuery:m}=$_(r,F(null),!0),f=F(c.value||"tabular"),v=F(u.value),_=F(p.value),y=V({get:()=>o.value,set(e){s(e)}}),h=V({get:()=>e.filters,set(e){t("update:filters",e)}}),{layoutWrapper:g}=P_(c);return{t:l,save:a,cancel:i,internalActive:n,layoutWrapper:g,layoutSelection:y,layoutFilters:h,localLayout:f,localOptions:v,localQuery:_,collectionInfo:d,searchQuery:m}}}),[["render",function(e,t,l,a,i,n){const o=S("v-breadcrumb"),s=S("v-icon"),r=S("v-button"),d=S("search-input"),c=S("v-info"),u=S("v-drawer"),p=q("tooltip");return E(),A(L(e.layoutWrapper),{selection:e.layoutSelection,"onUpdate:selection":t[2]||(t[2]=t=>e.layoutSelection=t),"layout-options":e.localOptions,"onUpdate:layout-options":t[3]||(t[3]=t=>e.localOptions=t),"layout-query":e.localQuery,"onUpdate:layout-query":t[4]||(t[4]=t=>e.localQuery=t),filters:e.layoutFilters,"onUpdate:filters":t[5]||(t[5]=t=>e.layoutFilters=t),"search-query":e.searchQuery,"onUpdate:search-query":t[6]||(t[6]=t=>e.searchQuery=t),collection:e.collection,"select-mode":""},{default:D((({layoutState:l})=>[I(u,{modelValue:e.internalActive,"onUpdate:modelValue":t[1]||(t[1]=t=>e.internalActive=t),title:e.t("select_item"),onCancel:e.cancel},{subtitle:D((()=>[I(o,{items:[{name:e.collectionInfo.name,disabled:!0}]},null,8,["items"])])),"title-outer:prepend":D((()=>[I(r,{class:"header-icon",rounded:"",icon:"",secondary:"",disabled:""},{default:D((()=>[I(s,{name:e.collectionInfo.icon,color:e.collectionInfo.color},null,8,["name","color"])])),_:1})])),"actions:prepend":D((()=>[(E(),A(L(`layout-actions-${e.localLayout}`),J(Y(l)),null,16))])),actions:D((()=>[I(d,{modelValue:e.searchQuery,"onUpdate:modelValue":t[0]||(t[0]=t=>e.searchQuery=t)},null,8,["modelValue"]),z(I(r,{icon:"",rounded:"",onClick:e.save},{default:D((()=>[I(s,{name:"check"})])),_:1},8,["onClick"]),[[p,e.t("save"),void 0,{bottom:!0}]])])),default:D((()=>[(E(),A(L(`layout-${e.localLayout}`),Z({class:"layout"},l),{"no-results":D((()=>[I(c,{title:e.t("item_count",0),icon:e.collectionInfo.icon,center:""},null,8,["title","icon"])])),"no-items":D((()=>[I(c,{title:e.t("item_count",0),icon:e.collectionInfo.icon,center:""},null,8,["title","icon"])])),_:2},1040))])),_:2},1032,["modelValue","title","onCancel"])])),_:1},8,["selection","layout-options","layout-query","filters","search-query","collection"])}],["__scopeId","data-v-2f0ca3bd"]]);const gj=w({components:{DrawerCollection:hj},props:{multiple:{type:Boolean,default:!1},preset:{type:Object,default:()=>({})},fileId:{type:String,default:null},fromUrl:{type:Boolean,default:!1},fromLibrary:{type:Boolean,default:!1},folder:{type:String,default:void 0}},emits:["input"],setup(e,{emit:t}){const{t:l}=x(),{uploading:a,progress:i,upload:n,onBrowseSelect:o,done:r,numberOfFiles:d}=function(){const l=F(!1),a=F(0),i=F(0),n=F(0);return{uploading:l,progress:a,upload:o,onBrowseSelect:function(e){var t;const l=null==(t=e.target)?void 0:t.files;l&&o(l)},numberOfFiles:i,done:n};async function o(o){l.value=!0,a.value=0;const r={};e.folder&&(r.folder=e.folder);try{if(i.value=o.length,!0===e.multiple){const l=await Eb(Array.from(o),{onProgressChange:e=>{a.value=Math.round(e.reduce(((e,t)=>e+t))/o.length),n.value=e.filter((e=>100===e)).length},preset:s(s({},e.preset),r)});l&&t("input",l)}else{const l=await Sb(Array.from(o)[0],{onProgressChange:e=>{a.value=e,n.value=100===e?1:0},fileId:e.fileId,preset:s(s({},e.preset),r)});l&&t("input",l)}}catch(d){jy(d)}finally{l.value=!1,n.value=0,i.value=0}}}(),{onDragEnter:c,onDragLeave:u,onDrop:p,dragging:m}=function(){const e=F(!1);let t=0;return{onDragEnter:function(){t++,1===t&&(e.value=!0)},onDragLeave:function(){t--,0===t&&(e.value=!1)},onDrop:function(l){var a;t=0,e.value=!1;const i=null==(a=l.dataTransfer)?void 0:a.files;i&&n(i)},dragging:e}}(),{url:f,isValidURL:v,loading:_,importFromURL:y}=function(){const l=F(""),a=F(!1),i=V((()=>{try{return new URL(l.value),!0}catch{return!1}}));return{url:l,loading:a,isValidURL:i,importFromURL:async function(){a.value=!0;try{const i=await dI.post("/files/import",{url:l.value,data:{folder:e.folder}});xb.emit(Vb.upload),e.multiple?t("input",[i.data.data]):t("input",i.data.data),g.value=null,l.value=""}catch(i){jy(i)}finally{a.value=!1}}}}(),{setSelection:h}={setSelection:async function(e){if(e[0]){const l=e[0],a=await dI.get(`/files/${l}`);t("input",a.data.data)}else t("input",null)}},g=F(null);return{t:l,uploading:a,progress:i,onDragEnter:c,onDragLeave:u,onDrop:p,dragging:m,onBrowseSelect:o,done:r,numberOfFiles:d,activeDialog:g,url:f,isValidURL:v,urlLoading:_,importFromURL:y,setSelection:h}}}),bj={class:"type-label"},kj={class:"type-text"},wj={class:"type-label"},xj={class:"type-text"},Vj={class:"type-label"},Cj={class:"type-text"},Sj=["multiple"];var Ej=F_(gj,[["render",function(e,t,l,a,i,n){const o=S("v-progress-linear"),s=S("v-icon"),r=S("v-list-item-icon"),d=S("v-list-item-content"),c=S("v-list-item"),u=S("v-list"),p=S("v-menu"),m=S("drawer-collection"),f=S("v-card-title"),v=S("v-input"),_=S("v-card-text"),y=S("v-button"),h=S("v-card-actions"),g=S("v-card"),b=S("v-dialog");return E(),P("div",{"data-dropzone":"",class:H(["v-upload",{dragging:e.dragging,uploading:e.uploading}]),onDragenter:t[8]||(t[8]=X(((...t)=>e.onDragEnter&&e.onDragEnter(...t)),["prevent"])),onDragover:t[9]||(t[9]=X((()=>{}),["prevent"])),onDragleave:t[10]||(t[10]=X(((...t)=>e.onDragLeave&&e.onDragLeave(...t)),["prevent"])),onDrop:t[11]||(t[11]=X(((...t)=>e.onDrop&&e.onDrop(...t)),["stop","prevent"]))},[e.dragging?(E(),P(R,{key:0},[j("p",bj,U(e.t("drop_to_upload")),1),j("p",kj,U(e.t("upload_pending")),1)],64)):e.uploading?(E(),P(R,{key:1},[j("p",wj,U(e.progress)+"%",1),j("p",xj,U(e.multiple&&e.numberOfFiles>1?e.t("upload_files_indeterminate",{done:e.done,total:e.numberOfFiles}):e.t("upload_file_indeterminate")),1),I(o,{value:e.progress,rounded:""},null,8,["value"])],64)):(E(),P(R,{key:2},[j("p",Vj,U(e.t("drag_file_here")),1),j("p",Cj,U(e.t("click_to_browse")),1),j("input",{class:"browse",type:"file",multiple:e.multiple,onInput:t[0]||(t[0]=(...t)=>e.onBrowseSelect&&e.onBrowseSelect(...t))},null,40,Sj),!1!==e.fromUrl||!1!==e.fromLibrary?(E(),P(R,{key:0},[I(p,{"show-arrow":"",placement:"bottom-end"},{activator:D((({toggle:e})=>[I(s,{clickable:"",class:"options",name:"more_vert",onClick:e},null,8,["onClick"])])),default:D((()=>[I(u,null,{default:D((()=>[e.fromLibrary?(E(),A(c,{key:0,clickable:"",onClick:t[1]||(t[1]=t=>e.activeDialog="choose")},{default:D((()=>[I(r,null,{default:D((()=>[I(s,{name:"folder_open"})])),_:1}),I(d,null,{default:D((()=>[N(U(e.t("choose_from_library")),1)])),_:1})])),_:1})):B("",!0),e.fromUrl?(E(),A(c,{key:1,clickable:"",onClick:t[2]||(t[2]=t=>e.activeDialog="url")},{default:D((()=>[I(r,null,{default:D((()=>[I(s,{name:"link"})])),_:1}),I(d,null,{default:D((()=>[N(U(e.t("import_from_url")),1)])),_:1})])),_:1})):B("",!0)])),_:1})])),_:1}),I(m,{collection:"directus_files",active:"choose"===e.activeDialog,"onUpdate:active":t[3]||(t[3]=t=>e.activeDialog=null),onInput:e.setSelection},null,8,["active","onInput"]),I(b,{"model-value":"url"===e.activeDialog,persistent:e.urlLoading,onEsc:t[6]||(t[6]=t=>e.activeDialog=null),"onUpdate:modelValue":t[7]||(t[7]=t=>e.activeDialog=null)},{default:D((()=>[I(g,null,{default:D((()=>[I(f,null,{default:D((()=>[N(U(e.t("import_from_url")),1)])),_:1}),I(_,null,{default:D((()=>[I(v,{modelValue:e.url,"onUpdate:modelValue":t[4]||(t[4]=t=>e.url=t),placeholder:e.t("url"),nullable:!1,disabled:e.urlLoading},null,8,["modelValue","placeholder","disabled"])])),_:1}),I(h,null,{default:D((()=>[I(y,{disabled:e.urlLoading,secondary:"",onClick:t[5]||(t[5]=t=>e.activeDialog=null)},{default:D((()=>[N(U(e.t("cancel")),1)])),_:1},8,["disabled"]),I(y,{loading:e.urlLoading,disabled:!1===e.isValidURL,onClick:e.importFromURL},{default:D((()=>[N(U(e.t("import_label")),1)])),_:1},8,["loading","disabled","onClick"])])),_:1})])),_:1})])),_:1},8,["model-value","persistent"])],64)):B("",!0)],64))],34)}],["__scopeId","data-v-1d57a096"]]);const Aj=(e,{value:t})=>{const{handler:l,middleware:a,events:i,disabled:n}=function(e){let t;if("function"==typeof e){t={handler:e,middleware:()=>!0,events:["pointerdown"],disabled:!1}}else{const l=e;t={handler:l.handler||(()=>{}),middleware:l.middleware||(()=>!0),events:l.events||["pointerdown"],disabled:void 0!==l.disabled&&!!l.disabled}}return t}(t);O((()=>t),(l=>{JSON.stringify(l)!==JSON.stringify(t)&&Ij(e,{value:l,oldValue:null})})),!0!==n&&(e.$clickOutsideHandlers=i.map((t=>({event:t,handler:t=>function({el:e,event:t,handler:l,middleware:a}){t.stopPropagation();const i=t.composedPath();if(!1==(i?i.indexOf(e)<0:!1===e.contains(t.target)))return;a(t)&&l(t)}({event:t,el:e,handler:l,middleware:a})}))),e.$clickOutsideHandlers.forEach((({event:t,handler:l})=>{setTimeout((()=>{e.$clickOutsideHandlers&&document.documentElement.addEventListener(t,l,!1)}))})))},Dj=e=>{(e.$clickOutsideHandlers||[]).forEach((({event:e,handler:t})=>{document.documentElement.removeEventListener(e,t,!1)}))},Ij=(e,{value:t,oldValue:l})=>{JSON.stringify(t)!==JSON.stringify(l)&&(Dj(e),Aj(e,{value:t}))},Fj={beforeMount:Aj,unmounted:Dj,updated:Ij};const Oj={mounted(e,t){t.value?e.focus():e.blur()}},$j={};function Tj(e,t){t.value&&(e.dataset.tooltip=C(),$j[e.dataset.tooltip]=function(e,t){return()=>{const l=Nj();t.modifiers.instant?(Uj(l),Mj(e,t,l)):(clearTimeout(Lj),Lj=window.setTimeout((()=>{Uj(l),Mj(e,t,l)}),300))}}(e,t),e.addEventListener("mouseenter",$j[e.dataset.tooltip]),e.addEventListener("mouseleave",Rj))}function Pj(e){e.removeEventListener("mouseenter",$j[e.dataset.tooltip]),e.removeEventListener("mouseleave",Rj),clearTimeout(Lj);Nj().classList.remove("visible"),delete $j[e.dataset.tooltip]}const jj={beforeMount:Tj,unmounted:Pj,updated(e,t){t.value&&!t.oldValue?Tj(e,t):!t.value&&t.oldValue?Pj(e):(Pj(e),Tj(e,t))}};let Lj;function Rj(){const e=Nj();clearTimeout(Lj),function(e){if(!1===e.classList.contains("visible"))return;e.classList.add("visible","leave"),e.classList.remove("enter","enter-active"),setTimeout((()=>{!1!==e.classList.contains("leave")&&(e.classList.add("leave-active"),e.classList.remove("leave"))}),1),setTimeout((()=>{!1!==e.classList.contains("leave-active")&&(e.classList.remove("leave-active"),e.classList.remove("visible"))}),200)}(e)}function Mj(e,t,l){const a=20,i=e.getBoundingClientRect();let n,o=i.top+pageYOffset,s=i.left+pageXOffset;l.innerText=t.value,l.classList.remove("top","bottom","left","right","start","end"),t.modifiers.inverted?l.classList.add("inverted"):l.classList.remove("inverted"),t.modifiers.bottom?(t.modifiers.start?(s+=a,n=100,l.classList.add("start")):t.modifiers.end?(s+=i.width-a,n=0,l.classList.add("end")):(s+=i.width/2,n=50),o+=i.height+10,l.style.transform=`translate(calc(${s}px - ${n}%), ${o}px)`,l.classList.add("bottom")):t.modifiers.left?(t.modifiers.start?(o+=a,n=100,l.classList.add("start")):t.modifiers.end?(o+=i.height-a,n=0,l.classList.add("end")):(o+=i.height/2,n=50),s-=10,l.style.transform=`translate(calc(${s}px - 100%), calc(${o}px - ${n}%))`,l.classList.add("left")):t.modifiers.right?(t.modifiers.start?(o+=a,n=100,l.classList.add("start")):t.modifiers.end?(o+=i.height-a,n=0,l.classList.add("end")):(o+=i.height/2,n=50),s+=i.width+10,l.style.transform=`translate(${s}px, calc(${o}px - ${n}%))`,l.classList.add("right")):(t.modifiers.start?(s+=a,n=100,l.classList.add("start")):t.modifiers.end?(s+=i.width-a,n=0,l.classList.add("end")):(s+=i.width/2,n=50),o-=10,l.style.transform=`translate(calc(${s}px - ${n}%), calc(${o}px - 100%))`,l.classList.add("top"))}function Uj(e){e.classList.add("visible","enter"),e.classList.remove("leave","leave-active"),setTimeout((()=>{!1!==e.classList.contains("enter")&&(e.classList.add("enter-active"),e.classList.remove("enter"))}),1),setTimeout((()=>{e.classList.remove("enter-active")}),200)}function Nj(){let e=document.getElementById("tooltip");return e instanceof HTMLElement||(e=document.createElement("div"),e.id="tooltip",document.body.appendChild(e)),e}const Bj={beforeMount(e,t){var l;e.innerHTML=_w(null!=(l=t.value)?l:"")},updated(e,t){var l;e.innerHTML=_w(null!=(l=t.value)?l:"")}};var qj=il({id:"label",name:"$t:panels.label.name",description:"$t:panels.label.description",icon:"title",component:F_(w({props:{showHeader:{type:Boolean,default:!1},text:{type:String,default:""},color:{type:String,default:void 0}}}),[["render",function(e,t,l,a,i,n){return E(),P("div",{class:H(["label type-title selectable",{"has-header":e.showHeader}]),style:Ue({color:e.color})},U(e.text),7)}],["__scopeId","data-v-b5689fe6"]]),options:[{field:"text",name:"$t:label",type:"string",meta:{interface:"input",width:"half"}},{field:"color",name:"$t:color",type:"string",meta:{interface:"select-color",width:"half",options:{placeholder:"$t:automatic"}}}],minWidth:12,minHeight:8}),zj=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:qj});const Kj=w({components:{FilePreview:Nb},props:{active:{type:Boolean,default:!1},collection:{type:String,required:!0},primaryKey:{type:[String,Number],required:!0},edits:{type:Object,default:void 0},junctionField:{type:String,default:null},relatedPrimaryKey:{type:[String,Number],default:"+"},circularField:{type:String,default:null}},emits:["update:active","input"],setup(e,{emit:t}){const{t:l,te:a}=x(),i=vI(),n=VI(),{internalActive:o}=function(){const l=F(!1);return{internalActive:V({get:()=>void 0===e.active?l.value:e.active,set(e){l.value=e,t("update:active",e)}})}}(),{junctionFieldInfo:d,junctionRelatedCollection:c,junctionRelatedCollectionInfo:u,setJunctionEdits:p}=function(){const t=V((()=>e.junctionField?i.getField(e.collection,e.junctionField):null)),l=V((()=>{var t,l;if(!e.junctionField)return null;const a=n.getRelationsForField(e.collection,e.junctionField).find((t=>t.collection===e.collection&&t.field===e.junctionField));return a.related_collection?a.related_collection:(null==(t=a.meta)?void 0:t.one_collection_field)?e.edits[a.meta.one_collection_field]||(null==(l=v.value)?void 0:l[a.meta.one_collection_field]):null})),{info:a}=Xt(l);return{junctionFieldInfo:t,junctionRelatedCollection:l,junctionRelatedCollectionInfo:a,setJunctionEdits:function(t){if(!e.junctionField)return;m.value=r(s({},m.value),{[e.junctionField]:t})}}}(),{internalEdits:m,loading:f,item:v}=function(){const t=F({}),l=V({get:()=>void 0!==e.edits?s(s({},e.edits),t.value):t.value,set(e){t.value=e}}),a=F(!1),i=F(null);return O((()=>e.active),(l=>{!0===l?("+"!==e.primaryKey&&n(),"+"!==e.relatedPrimaryKey&&async function(){a.value=!0;const t=c.value,l=t.startsWith("directus_")?`/${t.substring(9)}/${e.relatedPrimaryKey}`:`/items/${t}/${encodeURIComponent(e.relatedPrimaryKey)}`;try{const e=await dI.get(l);i.value=r(s({},i.value||{}),{[d.value.field]:e.data.data})}catch(n){jy(n)}finally{a.value=!1}}()):(a.value=!1,i.value=null,t.value={})}),{immediate:!0}),{internalEdits:l,loading:a,item:i,fetchItem:n};async function n(){a.value=!0;const t=e.collection.startsWith("directus_")?`/${e.collection.substring(9)}/${e.primaryKey}`:`/items/${e.collection}/${encodeURIComponent(e.primaryKey)}`;let l="*";e.junctionField&&(l=`*,${e.junctionField}.*`);try{const e=await dI.get(t,{params:{fields:l}});i.value=e.data.data}catch(n){jy(n)}finally{a.value=!1}}}(),{save:_,cancel:y}={save:function(){t("input",m.value),o.value=!1,m.value={}},cancel:function(){o.value=!1,m.value={}}},{collection:h}=T(e),{info:g}=Xt(h),b=V((()=>{const t=(null==u?void 0:u.value)||g.value,i="+"===e.primaryKey;return a(`collection_names_singular.${t.collection}`)?l(i?"creating_unit":"editing_unit",{unit:l(`collection_names_singular.${t.collection}`)}):l(i?"creating_in":"editing_in",{collection:t.name})})),k=V((()=>i.getFieldsForCollection(e.collection).filter((e=>{var t;return!0!==(null==(t=e.meta)?void 0:t.hidden)})).length>0)),{fields:w}=Cg(c,V((()=>v.value&&v.value[e.junctionField])),V((()=>"+"===e.primaryKey))),{fields:C}=Cg(h,v,V((()=>"+"===e.primaryKey))),S=V((()=>e.circularField?C.value.filter((t=>t.field!==e.circularField)):C.value)),E=V((()=>d.value?String(e.relatedPrimaryKey):String(e.primaryKey))),A=V((()=>u.value||g.value)),{templateData:D,loading:I}=Fg(A,E),$=V((()=>{var e,t,l,a;return(null==(t=null==(e=u.value)?void 0:e.meta)?void 0:t.display_template)||(null==(a=null==(l=g.value)?void 0:l.meta)?void 0:a.display_template)||null})),{file:P,isDirectusFiles:j}=function(){const t=V((()=>"directus_files"===c.value));return{file:V((()=>{var l;if(!1===t.value||!v.value)return null;const a=null==(l=v.value)?void 0:l[e.junctionField];if(!a)return null;const i=uI(Jh()+`assets/${a.id}?key=system-large-contain`);return r(s({},a),{src:i})})),isDirectusFiles:t}}();return{t:l,internalActive:o,internalEdits:m,loading:f,item:v,save:_,cancel:y,title:b,junctionFieldInfo:d,junctionRelatedCollection:c,setJunctionEdits:p,showDivider:k,junctionRelatedCollectionFields:w,fields:S,template:$,templateCollection:A,templatePrimaryKey:E,templateData:D,templateDataLoading:I,collectionInfo:g,file:P,isDirectusFiles:j}}}),Wj={key:1,class:"type-title"},Hj={class:"drawer-item-content"};var Gj=F_(Kj,[["render",function(e,t,l,a,i,n){const o=S("v-skeleton-loader"),s=S("render-template"),r=S("v-breadcrumb"),d=S("v-icon"),c=S("v-button"),u=S("file-preview"),p=S("v-form"),m=S("v-divider"),f=S("v-drawer"),v=q("tooltip");return E(),A(f,{modelValue:e.internalActive,"onUpdate:modelValue":t[1]||(t[1]=t=>e.internalActive=t),title:e.title,persistent:"",onCancel:e.cancel},G({subtitle:D((()=>[I(r,{items:[{name:e.collectionInfo.name,disabled:!0}]},null,8,["items"])])),actions:D((()=>[Q(e.$slots,"actions",{},void 0,!0),z(I(c,{icon:"",rounded:"",onClick:e.save},{default:D((()=>[I(d,{name:"check"})])),_:1},8,["onClick"]),[[v,e.t("save"),void 0,{bottom:!0}]])])),default:D((()=>[j("div",Hj,[e.junctionField?(E(),P(R,{key:0},[e.file?(E(),A(u,{key:0,src:e.file.src,mime:e.file.type,width:e.file.width,height:e.file.height,title:e.file.title,"in-modal":!0},null,8,["src","mime","width","height","title"])):B("",!0),I(p,{loading:e.loading,"initial-values":e.item&&e.item[e.junctionField],"primary-key":e.relatedPrimaryKey,"model-value":e.internalEdits[e.junctionField],fields:e.junctionRelatedCollectionFields,autofocus:"","onUpdate:modelValue":e.setJunctionEdits},null,8,["loading","initial-values","primary-key","model-value","fields","onUpdate:modelValue"]),e.showDivider?(E(),A(m,{key:1})):B("",!0)],64)):B("",!0),I(p,{modelValue:e.internalEdits,"onUpdate:modelValue":t[0]||(t[0]=t=>e.internalEdits=t),loading:e.loading,"initial-values":e.item,"primary-key":e.primaryKey,fields:e.fields},null,8,["modelValue","loading","initial-values","primary-key","fields"])])])),_:2},[null!==e.template&&e.templateData&&"+"!==e.primaryKey?{name:"title",fn:D((()=>[e.loading||e.templateDataLoading?(E(),A(o,{key:0,class:"title-loader",type:"text"})):(E(),P("h1",Wj,[I(s,{collection:e.templateCollection.collection,item:e.templateData,template:e.template},null,8,["collection","item","template"])]))]))}:void 0]),1032,["modelValue","title","onCancel"])}],["__scopeId","data-v-13e1ca41"]]);function Qj(e,t){const l=vI(),{displays:a}=fl();return e.map((e=>{var i,n;const o=l.getField(t,e);if(!o)return e;if(null===(null==(i=o.meta)?void 0:i.display))return e;const s=a.value.find((e=>{var t;return e.id===(null==(t=o.meta)?void 0:t.display)}));if(!s)return e;if(!(null==s?void 0:s.fields))return e;let r=null;return Array.isArray(s.fields)&&(r=s.fields.map((t=>`${e}.${t}`))),"function"==typeof s.fields&&(r=s.fields(null==(n=o.meta)?void 0:n.display_options,{collection:o.collection,field:o.field,type:o.type}).map((t=>`${e}.${t}`))),r?r.map((e=>e.includes("$thumbnail")&&"directus_files"===o.collection?e.split(".").filter((e=>"$thumbnail"!==e)).join("."):e)):e})).flat()}const Xj=w({components:{DrawerItem:Gj},props:{showHeader:{type:Boolean,default:!1},displayTemplate:{type:String,default:""},sortField:{type:String,default:void 0},sortDirection:{type:String,default:"desc"},collection:{type:String,required:!0},limit:{type:Number,default:5},filter:{type:Object,default:()=>({})}},setup(e){const{t:t}=x(),l=F(),a=F(),i=vI(),n=F([]),o=F(!1),s=F(),r=V((()=>n.value&&n.value.length>0)),d=V((()=>e.displayTemplate)),c=V((()=>i.getPrimaryKeyFieldForCollection(e.collection)));return u(),O((()=>e),((e,t)=>{m.exports.isEqual(e,t)||u()}),{deep:!0,immediate:!0}),{list:n,loading:o,renderTemplate:d,primaryKeyField:c,startEditing:function(e){l.value=e[c.value.field],a.value=e},saveEdits:async function(t){try{await dI.patch(`/items/${e.collection}/${l.value}`,t)}catch(a){jy(a)}await u()},cancelEdit:function(){a.value=void 0,l.value=void 0},currentlyEditing:l,editsAtStart:a,hasData:r,t:t};async function u(){var t;if(e){o.value=!0;try{const l=e.sortField,a=await dI.get(_g(e.collection),{params:{fields:[c.value.field,...Qj(el(d.value),e.collection)],filter:e.filter,sort:"desc"===e.sortDirection?`-${l}`:l,limit:null!=(t=e.limit)?t:5}});n.value=a.data.data}catch(l){s.value=l,jy(l)}finally{o.value=!1}}}}}),Jj={key:1,class:"type-note"},Yj={key:2},Zj=(e=>(K("data-v-55018d78"),e=e(),W(),e))((()=>j("div",{class:"spacer"},null,-1)));var eL=il({id:"list",name:"$t:panels.list.name",description:"$t:panels.list.description",icon:"list",component:F_(Xj,[["render",function(e,t,l,a,i,n){var o;const s=S("v-progress-circular"),r=S("render-template"),d=S("v-list-item"),c=S("v-list"),u=S("drawer-item");return E(),P("div",{class:H(["list",{"has-header":e.showHeader,loading:e.loading,"no-data":!e.hasData}])},[e.loading?(E(),A(s,{key:0,indeterminate:""})):e.hasData?(E(),P("div",Yj,[I(c,null,{default:D((()=>[(E(!0),P(R,null,M(e.list,(t=>(E(),A(d,{key:t[e.primaryKeyField.field],class:"selectable",clickable:"",onClick:l=>e.startEditing(t)},{default:D((()=>[I(r,{item:t,collection:e.collection,template:e.renderTemplate},null,8,["item","collection","template"]),Zj])),_:2},1032,["onClick"])))),128))])),_:1})])):(E(),P("span",Jj,U(e.t("no_data")),1)),I(u,{active:!!e.currentlyEditing,collection:e.collection,"primary-key":null!=(o=e.currentlyEditing)?o:"+",edits:e.editsAtStart,onInput:e.saveEdits,"onUpdate:active":e.cancelEdit},null,8,["active","collection","primary-key","edits","onInput","onUpdate:active"])],2)}],["__scopeId","data-v-55018d78"]]),options:[{field:"collection",type:"string",name:"$t:collection",meta:{interface:"system-collection",options:{includeSystem:!0},width:"half"}},{field:"limit",type:"integer",name:"$t:limit",schema:{default_value:5},meta:{interface:"input",width:"half"}},{field:"sortField",type:"string",name:"$t:sort_field",meta:{interface:"system-field",options:{collectionField:"collection",allowPrimaryKey:!0,placeholder:"$t:primary_key"},width:"half"}},{field:"sortDirection",type:"string",name:"$t:sort_direction",schema:{default_value:"desc"},meta:{interface:"select-dropdown",options:{choices:[{text:"$t:sort_asc",value:"asc"},{text:"$t:sort_desc",value:"desc"}]},width:"half"}},{field:"displayTemplate",name:"$t:display_template",type:"string",meta:{interface:"system-display-template",width:"full",options:{collectionField:"collection",placeholder:"{{ field }}"}}},{field:"filter",type:"json",name:"$t:filter",meta:{interface:"code",note:"[Learn More: Filter Rules](/admin/docs/reference/filter-rules)",options:{language:"json",placeholder:"{\n\t<field>: {\n\t\t<operator>: <value>\n\t}\n}"}}}],minWidth:16,minHeight:12}),tL=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:eL});const lL=w({props:{showHeader:{type:Boolean,default:!1},abbreviate:{type:Boolean,default:!1},sortField:{type:String,default:void 0},collection:{type:String,required:!0},field:{type:String,required:!0},function:{type:String,required:!0},filter:{type:Object,default:()=>({})},decimals:{type:Number,default:0},conditionalFormatting:{type:Array,default:()=>[]},prefix:{type:String,default:null},suffix:{type:String,default:null}},setup(e){const{n:t}=x(),l=F(),a=F(!1);o(),O((()=>e),((e,t)=>{m.exports.isEqual(e,t)||o()}),{deep:!0});const i=V((()=>{var a,i,n;return m.exports.isNil(l.value)?null:e.abbreviate?Nh(l.value,null!=(a=e.decimals)?a:0):t(Number(l.value),"decimal",{minimumFractionDigits:null!=(i=e.decimals)?i:0,maximumFractionDigits:null!=(n=e.decimals)?n:0})})),n=V((()=>{if(m.exports.isNil(l.value))return null;let t=null;for(const l of e.conditionalFormatting||[])a(l)&&(t=l);return t?t.color||"#00C897":null;function a(e){var t;const a=Number(l.value),i=Number(null!=(t=e.value)?t:0);switch(e.operator||">="){case"=":return a===i;case"!=":return a!==i;case">":return a>i;case">=":return a>=i;case"<":case"<=":return a<i}}}));return{metric:l,loading:a,displayValue:i,color:n};async function o(){if(!e)return;const t=["first","last"].includes(e.function);a.value=!0;try{const i=e.sortField&&`${"last"===e.function?"-":""}${e.sortField}`,n=t?void 0:{[e.function]:[e.field||"*"]},o=await dI.get(_g(e.collection),{params:{aggregate:n,filter:e.filter,sort:i,limit:1,fields:[e.field]}});e.field?"first"===e.function||"last"===e.function?l.value=Number(o.data.data[0][e.field]):l.value=Number(o.data.data[0][e.function][e.field]):l.value=Number(o.data.data[0][e.function])}catch(i){}finally{a.value=!1}}}}),aL={class:"prefix"},iL={class:"value"},nL={class:"suffix"};var oL=il({id:"metric",name:"$t:panels.metric.name",description:"$t:panels.metric.description",icon:"functions",component:F_(lL,[["render",function(e,t,l,a,i,n){const o=S("v-progress-circular");return E(),P("div",{class:H(["metric type-title selectable",{"has-header":e.showHeader}])},[e.loading?(E(),A(o,{key:0,indeterminate:""})):(E(),P("div",{key:1,style:Ue({color:e.color})},[j("span",aL,U(e.prefix),1),j("span",iL,U(e.displayValue),1),j("span",nL,U(e.suffix),1)],4))],2)}],["__scopeId","data-v-f27ebf0c"]]),options:[{field:"collection",type:"string",name:"$t:collection",meta:{interface:"system-collection",options:{includeSystem:!0},width:"half"}},{field:"field",type:"string",name:"$t:panels.metric.field",meta:{interface:"system-field",options:{collectionField:"collection",typeAllowList:["integer","bigInteger","float","decimal"],allowPrimaryKey:!0,allowNone:!0},width:"half"}},{field:"function",type:"string",name:"$t:aggregate_function",meta:{width:"half",interface:"select-dropdown",options:{choices:[{text:"Count",value:"count"},{text:"Count (Distinct)",value:"count_distinct"},{text:"Average",value:"avg"},{text:"Average (Distinct)",value:"avg_distinct"},{text:"Sum",value:"sum"},{text:"Sum (Distinct)",value:"sum_distinct"},{text:"Minimum",value:"min"},{text:"Maximum",value:"max"},{text:"First",value:"first"},{text:"Last",value:"last"}]}}},{field:"sortField",type:"string",name:"$t:sort_field",meta:{interface:"system-field",options:{collectionField:"collection",allowPrimaryKey:!0,placeholder:"$t:primary_key"},width:"half"}},{field:"filter",type:"json",name:"$t:filter",meta:{interface:"code",note:"[Learn More: Filter Rules](/admin/docs/reference/filter-rules)",options:{language:"json",placeholder:"{\n\t<field>: {\n\t\t<operator>: <value>\n\t}\n}"}}},{field:"styleDivider",type:"alias",meta:{interface:"presentation-divider",options:{icon:"style",title:"Style & Format"},special:["alias","no-data"]}},{field:"abbreviate",type:"boolean",name:"$t:abbreviate_value",schema:{default_value:!1},meta:{interface:"boolean",width:"half"}},{field:"decimals",type:"integer",name:"$t:decimals",meta:{interface:"input",width:"half",options:{placeholder:"$t:decimals_placeholder"}},schema:{default_value:0}},{field:"prefix",type:"string",name:"$t:prefix",meta:{interface:"input",width:"half",options:{placeholder:"$t:prefix_placeholder",trim:!1}}},{field:"suffix",type:"string",name:"$t:suffix",meta:{interface:"input",width:"half",options:{placeholder:"$t:suffix_placeholder",trim:!1}}},{field:"conditionalFormatting",type:"json",name:"$t:conditional_styles",meta:{interface:"list",width:"full",options:{template:"{{color}} {{operator}} {{value}}",fields:[{field:"operator",name:"$t:operator",type:"string",schema:{default_value:">="},meta:{interface:"select-dropdown",options:{choices:[{text:"$t:operators.eq",value:"="},{text:"$t:operators.neq",value:"!="},{text:"$t:operators.gt",value:">"},{text:"$t:operators.gte",value:">="},{text:"$t:operators.lt",value:"<"},{text:"$t:operators.lte",value:"<="}]},width:"half"}},{field:"value",name:"$t:value",type:"integer",schema:{default_value:0},meta:{interface:"input",width:"half"}},{field:"color",name:"$t:color",type:"string",schema:{default_value:"#00C897"},meta:{interface:"select-color",display:"color"}}]}}}],minWidth:8,minHeight:6}),sL=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:oL});function rL(e,t){e=m.exports.clone(e);const l=t.startsWith("-");(l||t.startsWith("+"))&&(t=t.substring(1));const a=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|months?|mth|mo|years?|yrs?|y)?$/i.exec(t);if(!a)return;const i=parseFloat(a[1]);switch((a[2]||"days").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return l?kt(e,i):wt(e,i);case"months":case"month":case"mth":case"mo":return l?gt(e,i):bt(e,i);case"weeks":case"week":case"w":return l?yt(e,i):ht(e,i);case"days":case"day":case"d":return l?Fe(e,i):_t(e,i);case"hours":case"hour":case"hrs":case"hr":case"h":return l?ft(e,i):vt(e,i);case"minutes":case"minute":case"mins":case"min":case"m":return l?pt(e,i):mt(e,i);case"seconds":case"second":case"secs":case"sec":case"s":return l?ct(e,i):ut(e,i);case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return l?rt(e,i):dt(e,i);default:return}}const dL=w({props:{height:{type:Number,required:!0},showHeader:{type:Boolean,default:!1},id:{type:String,required:!0},dashboard:{type:String,required:!0},now:{type:Date,required:!0},collection:{type:String,required:!0},dateField:{type:String,required:!0},valueField:{type:String,required:!0},function:{type:String,required:!0},precision:{type:String,default:"hour"},range:{type:String,default:"1 week"},color:{type:String,default:"#00C897"},decimals:{type:Number,default:0},min:{type:Number,default:void 0},max:{type:Number,default:void 0},filter:{type:Object,default:()=>({})},showXAxis:{type:Boolean,default:!0},showYAxis:{type:Boolean,default:!0}},setup(e){const{d:t,t:l,n:a}=x(),i=vI(),n=F([]),o=F(!1),s=F(),r=F(),d=F(),c=V((()=>{const t=i.getField(e.collection,e.valueField),a=l(e.function);return`${t.name} (${a})`}));return O([()=>e,()=>e.showHeader,()=>e.height],((e,t)=>{var l;!1===m.exports.isEqual(e,t)&&(u(),null==(l=d.value)||l.destroy(),p())}),{deep:!0}),u(),ee(p),he((()=>{var e;null==(e=d.value)||e.destroy()})),{chartEl:r,metrics:n,loading:o,error:s};async function u(){var t;o.value=!0;try{const a=await dI.get(_g(e.collection),{params:{groupBy:function(){let t=[];switch(e.precision||"hour"){case"year":t=["year"];break;case"month":t=["year","month"];break;case"day":t=["year","month","day"];break;case"hour":t=["year","month","day","hour"];break;case"minute":t=["year","month","day","hour","minute"];break;case"second":t=["year","month","day","hour","minute","second"];break;default:t=["year","month","day","hour"]}return t.map((t=>`${t}(${e.dateField})`))}(),aggregate:{[e.function]:[e.valueField]},filter:{_and:[{[e.dateField]:{_gte:`$NOW(-${e.range||"1 week"})`}},{[e.dateField]:{_lte:"$NOW"}},e.filter||{}]},limit:-1}});n.value=a.data.data,null==(t=d.value)||t.updateSeries([{name:e.collection,data:n.value.map((t=>{var a;return{x:l(t),y:Number(Number(t[e.function][e.valueField]).toFixed(null!=(a=e.decimals)?a:0))}}))}])}catch(a){s.value=a}finally{o.value=!1}function l(t){var l,a,i,n,o;return`${t[`${e.dateField}_year`]}-${s(null!=(l=t[`${e.dateField}_month`])?l:1)}-${s(null!=(a=t[`${e.dateField}_day`])?a:1)}T${s(null!=(i=t[`${e.dateField}_hour`])?i:0)}:${s(null!=(n=t[`${e.dateField}_minute`])?n:0)}:${s(null!=(o=t[`${e.dateField}_second`])?o:0)}`;function s(e){return String(e).padStart(2,"0")}}}function p(){var l,i;d.value=new xt(r.value,{colors:[e.color?e.color:"#00C897"],chart:{type:"area",height:"100%",toolbar:{show:!1},selection:{enabled:!1},zoom:{enabled:!1},fontFamily:"var(--family-sans-serif)",foreColor:"var(--foreground-subdued)"},series:[],stroke:{curve:"smooth",width:2,lineCap:"round"},markers:{hover:{size:void 0,sizeOffset:4}},fill:{type:"gradient",gradient:{colorStops:[[{offset:0,color:e.color?e.color:"#00C897",opacity:.25},{offset:100,color:e.color?e.color:"#00C897",opacity:0}]]}},grid:{borderColor:"var(--border-subdued)",padding:{top:e.showHeader?-20:-4,bottom:0,left:8}},dataLabels:{enabled:!1},tooltip:{marker:{show:!1},x:{show:!0,formatter:e=>t(new Date(e),"long")},y:{title:{formatter:()=>c.value+": "},formatter:e=>a(e)}},xaxis:{type:"datetime",tooltip:{enabled:!1},axisTicks:{show:!1},axisBorder:{show:!1},range:e.now.getTime()-rL(e.now,`-${e.range}`).getTime(),max:e.now.getTime(),labels:{show:null==(l=e.showXAxis)||l,offsetY:-4,style:{fontFamily:"var(--family-sans-serif)",foreColor:"var(--foreground-subdued)",fontWeight:600,fontSize:"10px"}},crosshairs:{stroke:{color:"var(--border-normal)"}}},yaxis:{show:null==(i=e.showYAxis)||i,forceNiceScale:!0,min:m.exports.isNil(e.min)?void 0:Number(e.min),max:m.exports.isNil(e.max)?void 0:Number(e.max),tickAmount:e.height-4,labels:{offsetY:1,offsetX:-4,formatter:t=>{var l,i;return t>1e4?Nh(t,1):a(t,"decimal",{minimumFractionDigits:null!=(l=e.decimals)?l:0,maximumFractionDigits:null!=(i=e.decimals)?i:0})},style:{fontFamily:"var(--family-sans-serif)",foreColor:"var(--foreground-subdued)",fontWeight:600,fontSize:"10px"}}}}),d.value.render()}}}),cL={ref:"chartEl",class:"time-series"};var uL=il({id:"time-series",name:"$t:panels.time_series.name",description:"$t:panels.time_series.description",icon:"show_chart",component:F_(dL,[["render",function(e,t,l,a,i,n){return E(),P("div",cL,null,512)}],["__scopeId","data-v-69384392"]]),options:[{field:"collection",type:"string",name:"$t:collection",meta:{interface:"system-collection",options:{includeSystem:!0},width:"half"}},{field:"color",name:"$t:color",type:"string",schema:{default_value:"#00C897"},meta:{interface:"select-color",width:"half"}},{field:"function",type:"string",name:"$t:group_aggregation",meta:{width:"half",interface:"select-dropdown",options:{choices:[{text:"Count",value:"count"},{text:"Count (Distinct)",value:"count_distinct"},{text:"Average",value:"avg"},{text:"Average (Distinct)",value:"avg_distinct"},{text:"Sum",value:"sum"},{text:"Sum (Distinct)",value:"sum_distinct"},{text:"Minimum",value:"min"},{text:"Maximum",value:"max"}]}}},{field:"precision",type:"string",name:"$t:group_precision",meta:{interface:"select-dropdown",width:"half",options:{choices:[{text:"Second",value:"second"},{text:"Minute",value:"minute"},{text:"Hour",value:"hour"},{text:"Day",value:"day"},{text:"Week",value:"week"},{text:"Month",value:"month"},{text:"Year",value:"year"}]}},schema:{default_value:"hour"}},{field:"dateField",type:"string",name:"$t:panels.time_series.date_field",meta:{interface:"system-field",options:{collectionField:"collection",typeAllowList:["date","datetime","timestamp"]},width:"half"}},{field:"range",type:"dropdown",name:"$t:date_range",schema:{default_value:"1 week"},meta:{interface:"select-dropdown",width:"half",options:{choices:[{text:"Past 5 Minutes",value:"5 minutes"},{text:"Past 15 Minutes",value:"15 minutes"},{text:"Past 30 Minutes",value:"30 minutes"},{text:"Past 1 Hour",value:"1 hour"},{text:"Past 4 Hours",value:"4 hours"},{text:"Past 1 Day",value:"1 day"},{text:"Past 2 Days",value:"2 days"},{text:"Past 1 Week",value:"1 week"},{text:"Past 1 Month",value:"1 month"},{text:"Past 3 Months",value:"3 months"}],allowOther:!0}}},{field:"valueField",type:"string",name:"$t:panels.time_series.value_field",meta:{interface:"system-field",options:{collectionField:"collection",typeAllowList:["integer","bigInteger","float","decimal"]},width:"half"}},{field:"decimals",type:"integer",name:"$t:value_decimals",meta:{interface:"input",width:"half",options:{placeholder:"$t:decimals_placeholder"}},schema:{default_value:0}},{field:"min",type:"integer",name:"$t:min_value",meta:{interface:"input",width:"half",options:{placeholder:"$t:automatic"}}},{field:"max",type:"integer",name:"$t:max_value",meta:{interface:"input",width:"half",options:{placeholder:"$t:automatic"}}},{field:"filter",type:"json",name:"$t:filter",meta:{interface:"code",note:"[Learn More: Filter Rules](/admin/docs/reference/filter-rules)",options:{language:"json",placeholder:"{\n\t<field>: {\n\t\t<operator>: <value>\n\t}\n}"}}},{field:"showXAxis",type:"boolean",name:"$t:show_x_axis",meta:{interface:"boolean",width:"half"},schema:{default_value:!0}},{field:"showYAxis",type:"boolean",name:"$t:show_y_axis",meta:{interface:"boolean",width:"half"},schema:{default_value:!0}}],minWidth:16,minHeight:8}),pL=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:uL});const{panelsRaw:mL}=bl();async function fL(e){const t={"./label/index.ts":zj,"./list/index.ts":tL,"./metric/index.ts":sL,"./time-series/index.ts":pL},l=Object.values(t).map((e=>e.default));try{const e=await ul((()=>import(`${Jh()}extensions/panels/index.js`)),[]);l.push(...e.default)}catch{console.warn("Couldn't load custom panels")}mL.value=l,mL.value.forEach((t=>{e.component("panel-"+t.id,t.component),"function"!=typeof t.options&&!1===Array.isArray(t.options)&&e.component(`panel-options-${t.id}`,t.options)}))}const vL=w({props:{value:{type:Boolean,default:!1},labelOn:{type:String,default:null},labelOff:{type:String,default:null},iconOn:{type:String,default:"check"},iconOff:{type:String,default:"close"},colorOn:{type:String,default:"#00C897"},colorOff:{type:String,default:"#B0BEC5"}},setup:e=>({styles:V((()=>{const t={};return null!==e.colorOn&&null!==e.colorOff&&(t.color=e.value?e.colorOn:e.colorOff,t["--v-icon-color"]=e.value?e.colorOn:e.colorOff),t}))})}),_L={key:1};var yL=nl({id:"boolean",name:"$t:displays.boolean.boolean",description:"$t:displays.boolean.description",types:["boolean"],icon:"check_box",handler:F_(vL,[["render",function(e,t,l,a,i,n){const o=S("value-null"),s=S("v-icon");return E(),P("div",{class:"boolean",style:Ue(e.styles)},[null===e.value?(E(),A(o,{key:0})):(E(),P(R,{key:1},[null!==e.iconOn&&null!==e.iconOff?(E(),A(s,{key:0,name:e.value?e.iconOn:e.iconOff},null,8,["name"])):B("",!0),null!==e.labelOn&&null!==e.labelOff?(E(),P("span",_L,U(e.value?e.labelOn:e.labelOff),1)):B("",!0)],64))],4)}],["__scopeId","data-v-5a95796f"]]),options:[{field:"labelOn",name:"$t:displays.boolean.label_on",type:"string",meta:{interface:"input",width:"half",options:{placeholder:"$t:displays.boolean.label_on_placeholder"}}},{field:"labelOff",name:"$t:displays.boolean.label_off",type:"string",meta:{interface:"input",width:"half",options:{placeholder:"$t:displays.boolean.label_off_placeholder"}}},{field:"iconOn",name:"$t:displays.boolean.icon_on",type:"string",meta:{interface:"select-icon",width:"half"},schema:{default_value:"check"}},{field:"iconOff",name:"$t:displays.boolean.icon_off",type:"string",meta:{interface:"select-icon",width:"half"},schema:{default_value:"close"}},{field:"colorOn",name:"$t:displays.boolean.color_on",type:"string",meta:{interface:"select-color",width:"half"},schema:{default_value:"#00C897"}},{field:"colorOff",name:"$t:displays.boolean.color_off",type:"string",meta:{interface:"select-color",width:"half"},schema:{default_value:"#B0BEC5"}}]}),hL=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:yL});const gL=w({props:{value:{type:String,default:null},icon:{type:Boolean,default:!1}},setup(e){const t=T(e).value,{info:l}=Xt(t);return{info:l}}}),bL={key:1};var kL=nl({id:"collection",name:"$t:displays.collection.collection",description:"$t:displays.collection.description",types:["string"],icon:"label",handler:F_(gL,[["render",function(e,t,l,a,i,n){const o=S("value-null"),s=S("v-icon");return null!==e.value&&e.info?(E(),P("div",bL,[e.icon?(E(),A(s,{key:0,name:e.info.icon,left:"",small:""},null,8,["name"])):B("",!0),N(" "+U(e.info.name),1)])):(E(),A(o,{key:0}))}]]),options:[{field:"icon",name:"$t:icon",type:"boolean",meta:{interface:"boolean",options:{label:"$t:displays.collection.icon_label"}},schema:{default_value:!1}}]}),wL=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:kL});function xL(e){return/^#(([a-f\d]{2}){3,4})$/i.test(e)}const VL=w({props:{value:{type:String,default:null},defaultColor:{type:String,default:"#B0BEC5",validator:e=>null===e||xL(e)||e.startsWith("var(--")}},setup(e){return{displayValue:V((()=>e.value)),styles:V((()=>{var l,a;const i=(null==(l=e.defaultColor)?void 0:l.startsWith("var("))?t(e.defaultColor):e.defaultColor,n=(null==(a=e.value)?void 0:a.startsWith("var("))?t(e.value):e.value,o={"background-color":i};null!==n&&(o["background-color"]=n);const s=t("var(--background-page)"),r=Vt(s);return Vt(null===n?i:n).contrast(r)<1.1&&(o.border="1px solid var(--border-normal)"),o}))};function t(e){return getComputedStyle(document.body).getPropertyValue(e.slice(4,-1)).trim()}}}),CL={class:"color-dot"};var SL=nl({id:"color",name:"$t:displays.color.color",description:"$t:displays.color.description",types:["string"],icon:"flag",handler:F_(VL,[["render",function(e,t,l,a,i,n){const o=S("value-null");return E(),P("div",CL,[null===e.value&&null===e.defaultColor?(E(),A(o,{key:0})):B("",!0),j("div",{class:"dot",style:Ue(e.styles)},null,4)])}],["__scopeId","data-v-37c4bfe4"]]),options:[{field:"defaultColor",name:"$t:displays.color.default_color",type:"string",meta:{interface:"select-color",width:"half"},schema:{default_value:"#B0BEC5"}}]}),EL=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:SL});const AL=w({props:{value:{type:String,required:!0},type:{type:String,required:!0,validator:e=>["dateTime","date","time","timestamp"].includes(e)},format:{type:String,default:"long"},relative:{type:Boolean,default:!1}},setup(e){const{t:t}=x(),l=V((()=>e.value?"timestamp"===e.type?St(e.value):"dateTime"===e.type?Et(e.value,"yyyy-MM-dd'T'HH:mm:ss",new Date):"date"===e.type?Et(e.value,"yyyy-MM-dd",new Date):"time"===e.type?Et(e.value,"HH:mm:ss",new Date):null:null)),a=F(null);return O(l,(async l=>{if(null!==l)if(e.relative)a.value=await(async(e,t,l)=>Ct(e,t,r(s({},l),{locale:await vh()})))(l,new Date,{addSuffix:!0});else{let i;"long"===e.format?(i=`${t("date-fns_date")} ${t("date-fns_time")}`,"date"===e.type&&(i=String(t("date-fns_date"))),"time"===e.type&&(i=String(t("date-fns_time")))):"short"===e.format?(i=`${t("date-fns_date_short")} ${t("date-fns_time_short")}`,"date"===e.type&&(i=String(t("date-fns_date_short"))),"time"===e.type&&(i=String(t("date-fns_time_short")))):i=e.format,a.value=await _h(l,i)}else a.value=null}),{immediate:!0}),{displayValue:a}}}),DL={class:"datetime"};var IL=nl({id:"datetime",name:"$t:displays.datetime.datetime",description:"$t:displays.datetime.description",icon:"query_builder",handler:F_(AL,[["render",function(e,t,l,a,i,n){return E(),P("span",DL,U(e.displayValue),1)}],["__scopeId","data-v-7df33e0f"]]),options:[{field:"format",name:"$t:displays.datetime.format",type:"string",meta:{interface:"select-dropdown",width:"half",options:{choices:[{text:"$t:displays.datetime.long",value:"long"},{text:"$t:displays.datetime.short",value:"short"}],allowOther:!0},note:"$t:displays.datetime.format_note"},schema:{default_value:"long"}},{field:"relative",name:"$t:displays.datetime.relative",type:"boolean",meta:{width:"half",interface:"boolean",options:{label:"$t:displays.datetime.relative_label"}},schema:{default_value:!1}}],types:["dateTime","date","time","timestamp"]}),FL=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:IL});const OL=w({props:{value:{type:Object,default:null}},setup(e){const t=F(),l=F(!1),a=V((()=>e.value?ok(e.value.type,!0):null)),i=V((()=>e.value?e.value.type.includes("svg")?uI(Jh()+`assets/${e.value.id}`):!1===e.value.type.includes("image")?null:uI(Jh()+`assets/${e.value.id}?key=system-small-cover`):null)),{height:n}=Fw(t);return{fileExtension:a,imageThumbnail:i,previewEl:t,height:n,imgError:l}}}),$L=["src","alt"],TL={key:1,ref:"previewEl",class:"preview"},PL={key:0,class:"extension"};var jL=nl({id:"file",name:"$t:displays.file.file",description:"$t:displays.file.description",icon:"insert_drive_file",handler:F_(OL,[["render",function(e,t,l,a,i,n){const o=S("v-icon");return e.imageThumbnail&&!e.imgError?(E(),P("img",{key:0,src:e.imageThumbnail,class:H({"is-svg":e.value&&e.value.type.includes("svg")}),alt:e.value.title,onError:t[0]||(t[0]=t=>e.imgError=!0)},null,42,$L)):(E(),P("div",TL,[e.fileExtension?(E(),P("span",PL,U(e.fileExtension),1)):(E(),A(o,{key:1,name:"folder_open"}))],512))}],["__scopeId","data-v-3d2d9adb"]]),types:["uuid"],options:[],fields:["id","type","title"]}),LL=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:jL});var RL=nl({id:"filesize",name:"$t:displays.filesize.filesize",description:"$t:displays.filesize.description",icon:"description",handler:function(e){return Te(e,{decimalPlaces:0})},options:[],types:["integer"]}),ML=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:RL});const UL=w({props:{value:{type:[Object,Array],default:null},format:{type:String,default:null}},setup(e){const{t:t}=x();return{displayValue:V((()=>{if(!e.value)return null;try{return Array.isArray(e.value)?e.value.map((t=>Ce(e.format||"",t))):[Ce(e.format||"",e.value)]}catch{return null}})),t:t}}}),NL=["onClick"],BL={class:"label"},qL={key:2};var zL=nl({id:"formatted-json-value",name:"$t:displays.formatted-json-value.formatted-json-value",description:"$t:displays.formatted-json-value.description",types:["json","geometry"],icon:"settings_ethernet",handler:F_(UL,[["render",function(e,t,l,a,i,n){const o=S("value-null"),s=S("v-list-item-content"),r=S("v-list-item"),d=S("v-list"),c=S("v-menu");return e.displayValue?e.displayValue.length>1?(E(),A(c,{key:1,"show-arrow":""},{activator:D((({toggle:t})=>[j("span",{class:"toggle",onClick:X(t,["stop"])},[j("span",BL,U(e.displayValue.length)+" "+U(e.t("items")),1)],8,NL)])),default:D((()=>[I(d,{class:"links"},{default:D((()=>[(E(!0),P(R,null,M(e.displayValue,((e,t)=>(E(),A(r,{key:t},{default:D((()=>[I(s,null,{default:D((()=>[N(U(e),1)])),_:2},1024)])),_:2},1024)))),128))])),_:1})])),_:1})):(E(),P("span",qL,U(e.displayValue[0]),1)):(E(),A(o,{key:0}))}]]),options:[{field:"format",name:"$t:display_template",type:"string",meta:{width:"full",interface:"input",options:{placeholder:"{{ field }}"}}}]}),KL=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:zL});var WL=nl({id:"formatted-value",name:"$t:displays.formatted-value.formatted-value",description:"$t:displays.formatted-value.description",types:["string","text","integer","float","decimal","bigInteger"],icon:"text_format",handler:F_(w({props:{value:{type:[String,Number],default:null},formatTitle:{type:Boolean,default:!1},bold:{type:Boolean,default:!1},color:{type:String,default:null},font:{type:String,default:"sans-serif",validator:e=>["sans-serif","serif","monospace"].includes(e)}},setup(e){const{n:t}=x();return{displayValue:V((()=>{if(m.exports.isNil(e.value)||""===e.value)return null;if("number"==typeof e.value)return t(e.value);let l=String(e.value);return l=l.replace(/(<([^>]+)>)/gi,""),l=At(l),e.formatTitle&&(l=vV(l)),l}))}}}),[["render",function(e,t,l,a,i,n){const o=S("value-null");return null===e.displayValue||void 0===e.displayValue?(E(),A(o,{key:0})):(E(),P("span",{key:1,class:H(["display-formatted-text",[{bold:e.bold},e.font]]),style:Ue({color:e.color})},U(e.displayValue),7))}],["__scopeId","data-v-416d4750"]]),options:[{field:"formatTitle",name:"$t:displays.formatted-value.format_title",type:"boolean",meta:{width:"half",interface:"boolean",options:{label:"$t:displays.formatted-value.format_title_label"}},schema:{default_value:!1}},{field:"bold",name:"$t:bold",type:"boolean",meta:{width:"half",interface:"boolean",options:{label:"$t:displays.formatted-value.bold_label"}},schema:{default_value:!1}},{field:"color",name:"$t:color",meta:{width:"half",interface:"select-color"}},{field:"font",name:"$t:font",meta:{width:"half",interface:"select-dropdown",options:{choices:[{text:"$t:sans_serif",value:"sans-serif"},{text:"$t:serif",value:"serif"},{text:"$t:monospace",value:"monospace"}]}},schema:{default_value:"sans-serif"}}]}),HL=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:WL});var GL=nl({id:"icon",name:"$t:displays.icon.icon",description:"$t:displays.icon.description",icon:"insert_emoticon",handler:F_(w({name:"DisplayIcon",props:{value:{type:String,default:null},color:{type:String,default:null},filled:{type:Boolean,default:!1}},setup:e=>({style:V((()=>xL(e.color)?{"--v-icon-color":e.color}:{}))})}),[["render",function(e,t,l,a,i,n){const o=S("v-icon");return E(),A(o,{small:"",name:e.value,style:Ue(e.style),filled:e.filled},null,8,["name","style","filled"])}]]),options:[{field:"filled",name:"$t:displays.icon.filled",type:"boolean",meta:{interface:"boolean",width:"half",options:{label:"$t:displays.icon.filled_label"}},schema:{default_value:!1}},{field:"color",name:"$t:color",type:"string",meta:{interface:"select-color",width:"half"}}],types:["string"]}),QL=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:GL});const XL=w({components:{ValueNull:mE},props:{value:{type:Object,default:null},circle:{type:Boolean,default:!1}},setup(e){const t=F(!1);return{src:V((()=>{if(null===e.value)return null;return uI(Jh()+`assets/${e.value.id}?key=system-small-cover`)})),imageError:t}}}),JL=["src","alt"];var YL=nl({id:"image",name:"$t:displays.image.image",description:"$t:displays.image.description",types:["uuid"],icon:"insert_photo",handler:F_(XL,[["render",function(e,t,l,a,i,n){const o=S("v-icon"),s=S("value-null");return e.imageError?(E(),A(o,{key:0,name:"image"})):e.src?(E(),P("img",{key:1,src:e.src,role:"presentation",alt:e.value&&e.value.title,class:H({circle:e.circle}),onError:t[0]||(t[0]=t=>e.imageError=!0)},null,42,JL)):(E(),A(s,{key:2}))}],["__scopeId","data-v-e3df0200"]]),options:[{field:"circle",name:"$t:displays.image.circle",type:"boolean",meta:{width:"half",interface:"boolean",options:{label:"$t:displays.image.circle_label"}},schema:{default_value:!1}}],fields:["id","type","title"]}),ZL=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:YL});const eR=w({props:{value:{type:[String,Array],required:!0},format:{type:Boolean,default:!0},showAsDot:{type:Boolean,default:!1},choices:{type:Array,default:()=>[]},defaultBackground:{type:String,default:"#eceff1"},defaultForeground:{type:String,default:"#263238"},type:{type:String,required:!0,validator:e=>["text","string","json","csv"].includes(e)}},setup:e=>({items:V((()=>{let t;return t=null===e.value?[]:"string"===e.type?[e.value]:e.value,t.map((t=>{const l=(e.choices||[]).find((e=>e.value===t));let a;return a="object"==typeof t?JSON.stringify(t):e.format?vV(t):t,void 0===l?{value:t,text:a,foreground:e.defaultForeground,background:e.defaultBackground}:d_({value:t,text:l.text||a,foreground:l.foreground||e.defaultForeground,background:l.background||e.defaultBackground})}))}))})}),tR={class:"display-labels"};var lR=nl({id:"labels",name:"$t:displays.labels.labels",description:"$t:displays.labels.description",types:["string","json","csv"],icon:"flag",handler:F_(eR,[["render",function(e,t,l,a,i,n){const o=S("v-chip"),s=S("display-color"),r=q("tooltip");return E(),P("div",tR,[e.showAsDot?(E(!0),P(R,{key:1},M(e.items,(t=>z((E(),A(s,{key:t.value,value:t.background,"default-color":e.defaultBackground},null,8,["value","default-color"])),[[r,t.text]]))),128)):(E(!0),P(R,{key:0},M(e.items,(e=>(E(),A(o,{key:e.value,style:Ue({"--v-chip-color":e.foreground,"--v-chip-background-color":e.background}),small:"",disabled:"",label:""},{default:D((()=>[N(U(e.text),1)])),_:2},1032,["style"])))),128))])}],["__scopeId","data-v-66100426"]]),options:[{field:"defaultForeground",name:"$t:displays.labels.default_foreground",type:"string",meta:{interface:"select-color",width:"half"},schema:{default_value:"#263238"}},{field:"defaultBackground",name:"$t:displays.labels.default_background",type:"string",meta:{interface:"select-color",width:"half"},schema:{default_value:"#eceff1"}},{field:"format",name:"$t:format_text",type:"boolean",meta:{width:"half",interface:"boolean",options:{label:"$t:displays.labels.format_label"}},schema:{default_value:!0}},{field:"showAsDot",name:"$t:displays.labels.show_as_dot",type:"boolean",meta:{width:"half",interface:"boolean"},schema:{default_value:!1}},{field:"choices",name:"$t:choices",type:"json",meta:{interface:"list",options:{template:"{{text}}",fields:[{field:"text",name:"$t:text",type:"string",meta:{interface:"input",width:"half",options:{placeholder:"$t:displays.labels.choices_text_placeholder"}}},{field:"value",name:"$t:value",type:"string",meta:{interface:"input",options:{font:"monospace",placeholder:"$t:displays.labels.choices_value_placeholder"},width:"half"}},{field:"foreground",name:"$t:foreground_color",type:"string",meta:{interface:"select-color",width:"half"}},{field:"background",name:"$t:background_color",type:"string",meta:{interface:"select-color",width:"half"}}]}}}]}),aR=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:lR}),iR=nl({id:"mime-type",name:"$t:displays.mime-type.mime-type",description:"$t:displays.mime-type.description",icon:"picture_as_pdf",options:[{field:"showAsExtension",name:"$t:displays.mime-type.extension_only",type:"boolean",meta:{interface:"boolean",options:{label:"$t:displays.mime-type.extension_only_label"}},schema:{default_value:!1}}],types:["string"],handler:(e,t)=>t&&t.showAsExtension?Dt.getExtension(e):ok(e)}),nR=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:iR});const oR=w({props:{value:{type:[String,Number],default:null},simple:{type:Boolean,default:!1},interfaceOptions:{type:Object,default:null}},setup(e){const t=V((()=>null===e.interfaceOptions?5:Math.ceil(e.interfaceOptions.maxValue))),l=V((()=>({width:Number(e.value)/t.value*100+"%"})));return{starCount:t,ratingPercentage:l}}}),sR={key:0,class:"rating simple"},rR={key:1,class:"rating detailed"},dR={class:"inactive"};var cR=nl({id:"rating",name:"$t:displays.rating.rating",description:"$t:displays.rating.description",icon:"star",handler:F_(oR,[["render",function(e,t,l,a,i,n){const o=S("v-icon"),s=q("tooltip");return e.simple?(E(),P("span",sR,[I(o,{small:"",name:"star"}),N(" "+U(e.value),1)])):z((E(),P("div",rR,[j("div",{class:"active",style:Ue(e.ratingPercentage)},[(E(!0),P(R,null,M(e.starCount,(e=>(E(),A(o,{key:e,small:"",name:"star"})))),128))],4),j("div",dR,[(E(!0),P(R,null,M(e.starCount,(e=>(E(),A(o,{key:e,small:"",name:"star"})))),128))])],512)),[[s,e.value,void 0,{bottom:!0,start:!0}]])}],["__scopeId","data-v-51c07d78"]]),options:[{field:"simple",name:"$t:displays.rating.simple",type:"boolean",meta:{interface:"boolean",width:"half",options:{label:"$t:displays.rating.simple_label"}},schema:{default_value:!1}}],types:["integer","decimal","float"]}),uR=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:cR}),pR=nl({id:"raw",name:"$t:displays.raw.raw",icon:"code",handler:e=>e,options:[],types:["alias","bigInteger","boolean","date","dateTime","decimal","float","integer","json","string","text","time","timestamp","binary","uuid","hash","csv","geometry","unknown"]}),mR=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:pR});function fR(e,t){const l=VI(),a=vI(),i=l.getRelationsForField(e,t),n=a.getField(e,t).type.toLowerCase();return["o2m","m2m","m2a","alias","translations","files"].includes(n)?i[0].collection:i[0].related_collection}const vR=w({props:{value:{type:Object,default:null},fieldData:{type:Object,default:null},relations:{type:Array,default:()=>[]},collection:{type:String,default:null}},emits:["input"],setup(e,{emit:t}){const{t:l}=x();return{t:l,template:V({get(){var t;return null==(t=e.value)?void 0:t.template},set(l){t("input",r(s({},e.value||{}),{template:l}))}}),relatedCollection:V((()=>{if(!e.fieldData||!e.relations||0===e.relations.length)return null;const{field:t}=e.fieldData,l=e.relations.find((l=>l.collection===e.collection&&l.field===t)),a=e.relations.find((l=>{var a;return l.related_collection===e.collection&&(null==(a=l.meta)?void 0:a.one_field)===t}));return void 0!==l?(null==l?void 0:l.related_collection)||null:void 0!==a&&(null==a?void 0:a.collection)||null}))}}}),_R={key:1,class:"form-grid"},yR={class:"field full"},hR={class:"type-label"};var gR=F_(vR,[["render",function(e,t,l,a,i,n){const o=S("v-notice"),s=S("v-field-template");return null===e.collection?(E(),A(o,{key:0,type:"warning"},{default:D((()=>[N(U(e.t("interfaces.list-o2m.no_collection")),1)])),_:1})):(E(),P("div",_R,[j("div",yR,[j("p",hR,U(e.t("display_template")),1),I(s,{modelValue:e.template,"onUpdate:modelValue":t[0]||(t[0]=t=>e.template=t),collection:e.relatedCollection,depth:2},null,8,["modelValue","collection"])])]))}]]);const bR=w({components:{ValueNull:mE},props:{collection:{type:String,required:!0},field:{type:String,required:!0},value:{type:[Array,Object],default:null},template:{type:String,default:null},type:{type:String,required:!0}},setup(e){const{t:t,te:l}=x(),a=V((()=>fR(e.collection,e.field))),{primaryKeyField:i}=Xt(a),n=V((()=>e.template||`{{ ${i.value.field} }}`)),o=V((()=>Array.isArray(e.value)?1===e.value.length?l(`collection_names_singular.${a.value}`)?t(`collection_names_singular.${a.value}`):t("item"):l(`collection_names_plural.${a.value}`)?t(`collection_names_plural.${a.value}`):t("items"):null));return{relatedCollection:a,primaryKeyField:i,getLinkForItem:function(e){if(!a.value||!i.value)return null;const t=e[i.value.field];return`/collections/${a.value}/${encodeURIComponent(t)}`},internalTemplate:n,unit:o}}}),kR=["onClick"],wR={class:"label"},xR=N("+");var VR=nl({id:"related-values",name:"$t:displays.related-values.related-values",description:"$t:displays.related-values.description",icon:"settings_ethernet",handler:F_(bR,[["render",function(e,t,l,a,i,n){const o=S("value-null"),s=S("render-template"),r=S("v-list-item-content"),d=S("v-icon"),c=S("router-link"),u=S("v-list-item-icon"),p=S("v-list-item"),m=S("v-list"),f=S("v-menu");return e.relatedCollection?["o2m","m2m","m2a","translations","files"].includes(e.type.toLowerCase())?(E(),A(f,{key:1,"show-arrow":"",disabled:0===e.value.length},{activator:D((({toggle:t})=>[j("span",{class:H(["toggle",{subdued:0===e.value.length}]),onClick:X(t,["stop"])},[j("span",wR,[N(U(e.value.length)+" ",1),e.value.length>=100?(E(),P(R,{key:0},[xR],64)):B("",!0),N(" "+U(e.unit),1)])],10,kR)])),default:D((()=>[I(m,{class:"links"},{default:D((()=>[(E(!0),P(R,null,M(e.value,(t=>(E(),A(p,{key:t[e.primaryKeyField]},{default:D((()=>[I(r,null,{default:D((()=>[I(s,{template:e.internalTemplate,item:t,collection:e.relatedCollection},null,8,["template","item","collection"])])),_:2},1024),I(u,null,{default:D((()=>[I(c,{to:e.getLinkForItem(t)},{default:D((()=>[I(d,{name:"launch",small:""})])),_:2},1032,["to"])])),_:2},1024)])),_:2},1024)))),128))])),_:1})])),_:1},8,["disabled"])):(E(),A(s,{key:2,template:e.internalTemplate,item:e.value,collection:e.relatedCollection},null,8,["template","item","collection"])):(E(),A(o,{key:0}))}],["__scopeId","data-v-55daff52"]]),options:gR,types:["alias","string","uuid","integer","bigInteger","json"],groups:["m2m","m2o","o2m"],fields:(e,{field:t,collection:l})=>{const a=fR(l,t),i=vI().getPrimaryKeyFieldForCollection(a);if(!a)return[];const n=(null==e?void 0:e.template)?Qj(el(e.template),a):[];return i&&!n.includes(i.field)&&n.push(i.field),n}}),CR=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:VR});const SR=w({props:{value:{type:Object,default:null},display:{type:String,default:"both"},circle:{type:Boolean,default:!1}},setup:e=>({src:V((()=>{var t;if(null===e.value)return null;if(null==(t=e.value.avatar)?void 0:t.id){return uI(`${Jh()}assets/${e.value.avatar.id}?key=system-small-cover`)}return null})),userName:D_})}),ER=["src","alt"],AR=["alt"],DR={key:2};var IR=nl({id:"user",name:"$t:displays.user.user",description:"$t:displays.user.description",types:["uuid"],icon:"person",handler:F_(SR,[["render",function(e,t,l,a,i,n){const o=S("user-popover");return e.value?(E(),A(o,{key:0,user:e.value.id},{default:D((()=>[j("div",{class:H(["user",e.display])},["avatar"!==e.display&&"both"!==e.display||!e.src?"avatar"!==e.display&&"both"!==e.display||null!==e.src?B("",!0):(E(),P("img",{key:1,src:"assets/avatar-placeholder.446bf113.svg",role:"presentation",alt:e.value&&e.userName(e.value),class:H({circle:e.circle})},null,10,AR)):(E(),P("img",{key:0,src:e.src,role:"presentation",alt:e.value&&e.userName(e.value),class:H({circle:e.circle})},null,10,ER)),"name"===e.display||"both"===e.display?(E(),P("span",DR,U(e.userName(e.value)),1)):B("",!0)],2)])),_:1},8,["user"])):B("",!0)}],["__scopeId","data-v-1e6e7370"]]),options:[{field:"display",name:"$t:display",type:"string",meta:{width:"half",interface:"select-dropdown",options:{choices:[{text:"$t:displays.user.avatar",value:"avatar"},{text:"$t:displays.user.name",value:"name"},{text:"$t:displays.user.both",value:"both"}]}},schema:{default_value:"both"}},{field:"circle",name:"$t:circle",type:"boolean",meta:{width:"half",interface:"boolean",options:{label:"$t:displays.user.circle_label"}},schema:{default_value:!1}}],fields:["id","avatar.id","email","first_name","last_name"]}),FR=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:IR});const{displaysRaw:OR}=fl();async function $R(e){const t={"./boolean/index.ts":hL,"./collection/index.ts":wL,"./color/index.ts":EL,"./datetime/index.ts":FL,"./file/index.ts":LL,"./filesize/index.ts":ML,"./formatted-json-value/index.ts":KL,"./formatted-value/index.ts":HL,"./icon/index.ts":QL,"./image/index.ts":ZL,"./labels/index.ts":aR,"./mime-type/index.ts":nR,"./rating/index.ts":uR,"./raw/index.ts":mR,"./related-values/index.ts":CR,"./user/index.ts":FR},l=Object.values(t).map((e=>e.default));try{const e=await ul((()=>import(`${Jh()}extensions/displays/index.js`)),[]);l.push(...e.default)}catch(a){console.warn("Couldn't load custom displays"),console.warn(a)}OR.value=l,OR.value.forEach((t=>{"function"!=typeof t.handler&&e.component("display-"+t.id,t.handler),"function"!=typeof t.options&&null!==t.options&&e.component("display-options-"+t.id,t.options)}))}var TR=ol({id:"boolean",name:"$t:interfaces.boolean.toggle",description:"$t:interfaces.boolean.description",icon:"check_box",component:F_(w({props:{value:{type:Boolean,default:null},disabled:{type:Boolean,default:!1},label:{type:String,default:o_.global.t("enabled")},iconOn:{type:String,default:"check_box"},iconOff:{type:String,default:"check_box_outline_blank"},color:{type:String,default:"#00C897"}},emits:["input"]}),[["render",function(e,t,l,a,i,n){const o=S("v-checkbox");return E(),A(o,{block:"","icon-on":e.iconOn,"icon-off":e.iconOff,label:e.label,"model-value":e.value,indeterminate:null===e.value,disabled:e.disabled,style:Ue({"--v-checkbox-color":e.color}),"onUpdate:modelValue":t[0]||(t[0]=t=>e.$emit("input",t))},null,8,["icon-on","icon-off","label","model-value","indeterminate","disabled","style"])}]]),types:["boolean"],recommendedDisplays:["boolean"],options:[{field:"iconOn",name:"$t:icon_on",type:"string",meta:{width:"half",interface:"select-icon"},schema:{default_value:"check_box"}},{field:"iconOff",name:"$t:icon_off",type:"string",meta:{width:"half",interface:"select-icon"},schema:{default_value:"check_box_outline_blank"}},{field:"label",name:"$t:label",type:"string",meta:{width:"half",interface:"input",options:{placeholder:"$t:interfaces.boolean.label_placeholder"}},schema:{default_value:"$t:interfaces.boolean.label_default"}},{field:"color",name:"$t:color",type:"string",meta:{width:"half",interface:"select-color"},schema:{default_value:"#00C897"}}]}),PR=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:TR});const jR=w({props:{disabled:{type:Boolean,default:!1},value:{type:String,default:null},type:{type:String,required:!0,validator:e=>["dateTime","date","time","timestamp"].includes(e)},includeSeconds:{type:Boolean,default:!1},use24:{type:Boolean,default:!0}},emits:["input"],setup(e,{emit:t}){const{t:l}=x(),{internalValue:a,year:i,month:n,date:o,hours:s,minutes:r,seconds:d,period:c}=function(){const l=V({get:()=>e.value?"timestamp"===e.type?St(e.value):"dateTime"===e.type?Et(e.value,"yyyy-MM-dd'T'HH:mm:ss",new Date):"date"===e.type?Et(e.value,"yyyy-MM-dd",new Date):"time"===e.type?Et(e.value,"HH:mm:ss",new Date):null:null,set(l){if(null===l)return t("input",null);"timestamp"===e.type?t("input",Ft(l)):"dateTime"===e.type?t("input",ue(l,"yyyy-MM-dd'T'HH:mm:ss")):"date"===e.type?t("input",ue(l,"yyyy-MM-dd")):"time"===e.type&&t("input",ue(l,"HH:mm:ss"))}}),a=V({get:()=>l.value?l.value.getFullYear():null,set(e){const t=l.value?new Date(l.value):new Date(0);t.setFullYear(e||0),l.value=t}}),i=V({get:()=>l.value?l.value.getMonth():null,set(e){const t=l.value?new Date(l.value):new Date;t.setMonth(e||0),l.value=t}}),n=V({get:()=>l.value?l.value.getDate():null,set(e){const t=l.value?new Date(l.value):new Date;t.setDate(e||1),l.value=t}}),o=V({get(){if(!l.value)return null;const t=l.value.getHours();return!1===e.use24?t%12:t},set(e){const t=l.value?new Date(l.value):new Date;t.setHours(e||0),l.value=t}}),s=V({get:()=>l.value?l.value.getMinutes():null,set(e){const t=l.value?new Date(l.value):new Date;t.setMinutes(e||0),l.value=t}}),r=V({get:()=>l.value?l.value.getSeconds():null,set(e){const t=l.value?new Date(l.value):new Date;t.setSeconds(e||0),l.value=t}}),d=V({get:()=>l.value?l.value.getHours()>=12?"pm":"am":null,set(e){const t=l.value?new Date(l.value):new Date;(t.getHours()>=12?"pm":"am")!==e&&("am"===e?t.setHours(t.getHours()-12):t.setHours(t.getHours()+12)),l.value=t}});return{internalValue:l,year:a,month:i,date:n,hours:o,minutes:s,seconds:r,period:d}}(),{yearItems:u,monthItems:p,dateItems:m,hourItems:f,minutesSecondItems:v}=function(){const t=V((()=>{var e;const t=(null==(e=a.value)?void 0:e.getFullYear())||(new Date).getFullYear(),l=[];for(let a=t-5;a<=t+5;a++)l.push({text:String(a),value:a});return l})),i=V((()=>[l("months.january"),l("months.february"),l("months.march"),l("months.april"),l("months.may"),l("months.june"),l("months.july"),l("months.august"),l("months.september"),l("months.october"),l("months.november"),l("months.december")].map(((e,t)=>({text:e,value:t}))))),n=V((()=>{const e=[];for(let t=1;t<=31;t++)e.push(`${t}`);return e})),o=V((()=>{const t=[],l=e.use24?24:12;for(let e=0;e<l;e++){let l=String(e);1===l.length&&(l="0"+l),t.push({text:l,value:e})}return t})),s=V((()=>{const e=[];for(let t=0;t<60;t++){let l=String(t);1===l.length&&(l="0"+l),e.push({text:l,value:t})}return e}));return{yearItems:t,monthItems:i,dateItems:n,hourItems:o,minutesSecondItems:s}}(),{displayValue:_}=function(){const t=F(null);return O(a,(async function(){if(!e.value||!a.value)return void(t.value=null);const i=e.includeSeconds?"date-fns_time":"date-fns_time_no_seconds";let n=`${l("date-fns_date")} ${l(i)}`;"date"===e.type&&(n=String(l("date-fns_date")));"time"===e.type&&(n=String(l(i)));t.value=await _h(a.value,n)}),{immediate:!0}),{displayValue:t}}();return{t:l,year:i,month:n,date:o,hours:s,minutes:r,seconds:d,period:c,setToNow:function(){a.value=e.includeSeconds?new Date:It(new Date,0)},yearItems:u,monthItems:p,dateItems:m,hourItems:f,minutesSecondItems:v,displayValue:_,unsetValue:function(){t("input",null)}}}}),LR={key:0,class:"date-selects"},RR={class:"month"},MR={class:"date"},UR={class:"year"},NR={class:"hour"},BR={class:"minutes"},qR={key:0,class:"seconds"},zR={key:1,class:"period"};var KR=ol({id:"datetime",name:"$t:interfaces.datetime.datetime",description:"$t:interfaces.datetime.description",icon:"today",component:F_(jR,[["render",function(e,t,l,a,i,n){const o=S("v-icon"),s=S("v-input"),r=S("v-select"),d=S("v-divider"),c=S("v-menu");return E(),A(c,{"close-on-content-click":!1,attached:"",disabled:e.disabled},{activator:D((({toggle:t,active:l})=>[I(s,{active:l,clickable:"",readonly:"","model-value":e.displayValue,disabled:e.disabled,placeholder:e.t("enter_a_value"),onClick:t},G({_:2},[e.disabled?void 0:{name:"append",fn:D((()=>[I(o,{name:e.value?"close":"today",class:H({active:l}),onClick:X(e.unsetValue,["stop"])},null,8,["name","class","onClick"])]))}]),1032,["active","model-value","disabled","placeholder","onClick"])])),default:D((()=>["timestamp"===e.type||"dateTime"===e.type||"date"===e.type?(E(),P("div",LR,[j("div",RR,[I(r,{modelValue:e.month,"onUpdate:modelValue":t[0]||(t[0]=t=>e.month=t),placeholder:e.t("month"),items:e.monthItems},null,8,["modelValue","placeholder","items"])]),j("div",MR,[I(r,{modelValue:e.date,"onUpdate:modelValue":t[1]||(t[1]=t=>e.date=t),placeholder:e.t("date"),items:e.dateItems},null,8,["modelValue","placeholder","items"])]),j("div",UR,[I(r,{modelValue:e.year,"onUpdate:modelValue":t[2]||(t[2]=t=>e.year=t),placeholder:e.t("year"),items:e.yearItems,"allow-other":""},null,8,["modelValue","placeholder","items"])])])):B("",!0),"timestamp"===e.type||"dateTime"===e.type?(E(),A(d,{key:1})):B("",!0),"timestamp"===e.type||"dateTime"===e.type||"time"===e.type?(E(),P("div",{key:2,class:H(["time-selects",{seconds:e.includeSeconds,"use-24":e.use24}])},[j("div",NR,[I(r,{modelValue:e.hours,"onUpdate:modelValue":t[3]||(t[3]=t=>e.hours=t),items:e.hourItems},null,8,["modelValue","items"])]),j("div",BR,[I(r,{modelValue:e.minutes,"onUpdate:modelValue":t[4]||(t[4]=t=>e.minutes=t),items:e.minutesSecondItems},null,8,["modelValue","items"])]),e.includeSeconds?(E(),P("div",qR,[I(r,{modelValue:e.seconds,"onUpdate:modelValue":t[5]||(t[5]=t=>e.seconds=t),items:e.minutesSecondItems},null,8,["modelValue","items"])])):B("",!0),!1===e.use24?(E(),P("div",zR,[I(r,{modelValue:e.period,"onUpdate:modelValue":t[6]||(t[6]=t=>e.period=t),items:["am","pm"]},null,8,["modelValue"])])):B("",!0)],2)):B("",!0),I(d),j("button",{class:"to-now",onClick:t[7]||(t[7]=(...t)=>e.setToNow&&e.setToNow(...t))},U(e.t("interfaces.datetime.set_to_now")),1)])),_:1},8,["disabled"])}],["__scopeId","data-v-7f92f354"]]),types:["dateTime","date","time","timestamp"],options:[{field:"includeSeconds",name:"$t:interfaces.datetime.include_seconds",type:"boolean",meta:{width:"half",interface:"boolean"},schema:{default_value:!1}},{field:"use24",name:"$t:interfaces.datetime.use_24",type:"boolean",meta:{width:"half",interface:"boolean"},schema:{default_value:!0}}],recommendedDisplays:["datetime"]}),WR=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:KR});const HR=w({components:{DrawerCollection:hj,DrawerItem:Gj},props:{value:{type:[String,Object],default:null},disabled:{type:Boolean,default:!1},folder:{type:String,default:void 0}},emits:["input"],setup(e,{emit:t}){const{t:l}=x(),a=F(null),{loading:i,file:n,fetchFile:o}=function(){const t=F(!1),l=F(null);return{loading:t,file:l,fetchFile:async function(){var a;if(null===e.value)return l.value=null,void(t.value=!1);t.value=!0;try{const i="string"==typeof e.value?e.value:null==(a=e.value)?void 0:a.id,n=await dI.get(`/files/${i}`,{params:{fields:["id","title","type","filename_download"]}});null!==e.value&&"object"==typeof e.value?l.value=s(s({},n.data.data),e.value):l.value=n.data.data}catch(i){jy(i)}finally{t.value=!1}}}}();O((()=>e.value),o,{immediate:!0});const r=V((()=>null===n.value?null:ok(n.value.type,!0))),d=V((()=>{var t;const l="string"==typeof e.value?e.value:null==(t=e.value)?void 0:t.id;return uI(Jh()+`assets/${l}`)})),c=V((()=>null===n.value||null===e.value?null:n.value.type.includes("svg")?d.value:!1===n.value.type.includes("image")?null:Dy(d.value,{key:"system-small-cover"}))),{edits:u,stageEdits:p}={edits:V((()=>e.value&&"object"==typeof e.value?e.value:{})),stageEdits:function(e){n.value&&t("input",s({id:n.value.id},e))}},{url:m,isValidURL:f,loading:v,importFromURL:_}=function(){const l=F(""),i=F(!1),o=V((()=>{try{return new URL(l.value),!0}catch{return!1}}));return{url:l,loading:i,isValidURL:o,importFromURL:async function(){var o;i.value=!0;try{const s=await dI.post("/files/import",{url:l.value,data:{folder:e.folder}});n.value=s.data.data,a.value=null,l.value="",t("input",null==(o=n.value)?void 0:o.id)}catch(s){jy(s)}finally{i.value=!1}}}}(),y=F(!1);return{t:l,activeDialog:a,setSelection:function(e){e[0]?t("input",e[0]):t("input",null)},loading:i,file:n,fileExtension:r,imageThumbnail:c,onUpload:function(e){n.value=e,a.value=null,t("input",e.id)},url:m,urlLoading:v,importFromURL:_,isValidURL:f,assetURL:d,editDrawerActive:y,edits:u,stageEdits:p}}}),GR={class:"file"},QR=["src","alt"],XR={key:1,class:"extension"};var JR=ol({id:"file",name:"$t:interfaces.file.file",description:"$t:interfaces.file.description",icon:"note_add",component:F_(HR,[["render",function(e,t,l,a,i,n){const o=S("v-skeleton-loader"),s=S("v-icon"),r=S("v-input"),d=S("v-list-item-icon"),c=S("v-list-item-content"),u=S("v-list-item"),p=S("v-divider"),m=S("v-list"),f=S("v-menu"),v=S("drawer-item"),_=S("v-card-title"),y=S("v-upload"),h=S("v-card-text"),g=S("v-button"),b=S("v-card-actions"),k=S("v-card"),w=S("v-dialog"),x=S("drawer-collection"),V=q("tooltip");return E(),P("div",GR,[I(f,{attached:"",disabled:e.loading},{activator:D((({toggle:l})=>[j("div",null,[e.loading?(E(),A(o,{key:0,type:"input"})):(E(),A(r,{key:1,clickable:"",readonly:"",placeholder:e.t("no_file_selected"),"model-value":e.file&&e.file.title,onClick:l},{prepend:D((()=>{var t,l;return[j("div",{class:H(["preview",{"has-file":e.file,"is-svg":null==(l=null==(t=e.file)?void 0:t.type)?void 0:l.includes("svg")}])},[e.imageThumbnail?(E(),P("img",{key:0,src:e.imageThumbnail,alt:e.file.title},null,8,QR)):e.fileExtension?(E(),P("span",XR,U(e.fileExtension),1)):(E(),A(s,{key:2,name:"folder_open"}))],2)]})),append:D((()=>[e.file?(E(),P(R,{key:0},[z(I(s,{name:"open_in_new",class:"edit",onClick:t[0]||(t[0]=X((t=>e.editDrawerActive=!0),["stop"]))},null,512),[[V,e.t("edit")]]),e.disabled?B("",!0):z((E(),A(s,{key:0,class:"deselect",name:"close",onClick:t[1]||(t[1]=X((t=>e.$emit("input",null)),["stop"]))},null,512)),[[V,e.t("deselect")]])],64)):(E(),A(s,{key:1,name:"attach_file"}))])),_:2},1032,["placeholder","model-value","onClick"]))])])),default:D((()=>[I(m,null,{default:D((()=>[e.file?(E(),P(R,{key:0},[I(u,{download:e.file.filename_download,href:e.assetURL},{default:D((()=>[I(d,null,{default:D((()=>[I(s,{name:"get_app"})])),_:1}),I(c,null,{default:D((()=>[N(U(e.t("download_file")),1)])),_:1})])),_:1},8,["download","href"]),e.disabled?B("",!0):(E(),A(p,{key:0}))],64)):B("",!0),e.disabled?B("",!0):(E(),P(R,{key:1},[I(u,{clickable:"",onClick:t[2]||(t[2]=t=>e.activeDialog="upload")},{default:D((()=>[I(d,null,{default:D((()=>[I(s,{name:"phonelink"})])),_:1}),I(c,null,{default:D((()=>[N(U(e.t(e.file?"replace_from_device":"upload_from_device")),1)])),_:1})])),_:1}),I(u,{clickable:"",onClick:t[3]||(t[3]=t=>e.activeDialog="choose")},{default:D((()=>[I(d,null,{default:D((()=>[I(s,{name:"folder_open"})])),_:1}),I(c,null,{default:D((()=>[N(U(e.t(e.file?"replace_from_library":"choose_from_library")),1)])),_:1})])),_:1}),I(u,{clickable:"",onClick:t[4]||(t[4]=t=>e.activeDialog="url")},{default:D((()=>[I(d,null,{default:D((()=>[I(s,{name:"link"})])),_:1}),I(c,null,{default:D((()=>[N(U(e.t(e.file?"replace_from_url":"import_from_url")),1)])),_:1})])),_:1})],64))])),_:1})])),_:1},8,["disabled"]),e.file?(E(),A(v,{key:0,active:e.editDrawerActive,"onUpdate:active":t[5]||(t[5]=t=>e.editDrawerActive=t),collection:"directus_files","primary-key":e.file.id,edits:e.edits,onInput:e.stageEdits},null,8,["active","primary-key","edits","onInput"])):B("",!0),I(w,{"model-value":"upload"===e.activeDialog,onEsc:t[7]||(t[7]=t=>e.activeDialog=null),"onUpdate:modelValue":t[8]||(t[8]=t=>e.activeDialog=null)},{default:D((()=>[I(k,null,{default:D((()=>[I(_,null,{default:D((()=>[N(U(e.t("upload_from_device")),1)])),_:1}),I(h,null,{default:D((()=>[I(y,{"from-url":"",folder:e.folder,onInput:e.onUpload},null,8,["folder","onInput"])])),_:1}),I(b,null,{default:D((()=>[I(g,{secondary:"",onClick:t[6]||(t[6]=t=>e.activeDialog=null)},{default:D((()=>[N(U(e.t("cancel")),1)])),_:1})])),_:1})])),_:1})])),_:1},8,["model-value"]),I(x,{collection:"directus_files",active:"choose"===e.activeDialog,"onUpdate:active":t[9]||(t[9]=t=>e.activeDialog=null),onInput:e.setSelection},null,8,["active","onInput"]),I(w,{"model-value":"url"===e.activeDialog,persistent:e.urlLoading,"onUpdate:modelValue":t[12]||(t[12]=t=>e.activeDialog=null),onEsc:t[13]||(t[13]=t=>e.activeDialog=null)},{default:D((()=>[I(k,null,{default:D((()=>[I(_,null,{default:D((()=>[N(U(e.t("import_from_url")),1)])),_:1}),I(h,null,{default:D((()=>[I(r,{modelValue:e.url,"onUpdate:modelValue":t[10]||(t[10]=t=>e.url=t),placeholder:e.t("url"),nullable:!1,disabled:e.urlLoading},null,8,["modelValue","placeholder","disabled"])])),_:1}),I(b,null,{default:D((()=>[I(g,{disabled:e.urlLoading,secondary:"",onClick:t[11]||(t[11]=t=>e.activeDialog=null)},{default:D((()=>[N(U(e.t("cancel")),1)])),_:1},8,["disabled"]),I(g,{loading:e.urlLoading,disabled:!1===e.isValidURL,onClick:e.importFromURL},{default:D((()=>[N(U(e.t("import_label")),1)])),_:1},8,["loading","disabled","onClick"])])),_:1})])),_:1})])),_:1},8,["model-value","persistent"])])}],["__scopeId","data-v-38e09eb2"]]),types:["uuid"],groups:["file"],relational:!0,options:[{field:"folder",name:"$t:interfaces.system-folder.folder",type:"uuid",meta:{width:"full",interface:"system-folder",note:"$t:interfaces.system-folder.field_hint"},schema:{default_value:void 0}}],recommendedDisplays:["file"]}),YR=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:JR});function ZR(e=0,t=!0){const l=t?1e3:1024;if(!1===Boolean(e))return"--";if(Math.abs(e)<l)return`${e} B`;const a=t?["kB","MB","GB","TB","PB","EB","ZB","YB"]:["KiB","MiB","GiB","TiB","PiB","EiB","ZiB","YiB"];let i=-1,n=e;do{n/=l,i+=1}while(Math.abs(n)>=l&&i<a.length-1);return`${n.toFixed(1)} ${a[i]}`}const eM=w({components:{FilePreview:Nb},props:{id:{type:String,required:!0},modelValue:{type:Boolean,default:void 0}},emits:["update:modelValue"],setup(e,{emit:t}){const l=F(!1),a=V({get:()=>void 0===e.modelValue?l.value:e.modelValue,set(e){l.value=e,t("update:modelValue",e)}}),i=F(!1),n=F(null),o=F(C()),s=V((()=>uI(Jh()+`assets/${e.id}?cache-buster=${o.value}`)));return O((()=>e.id),((t,l)=>{t&&t!==l&&async function(){o.value=C(),i.value=!0;try{const t=await dI.get(`/files/${e.id}`,{params:{fields:["type","width","height","title"]}});n.value=t.data.data}catch(t){jy(t)}finally{i.value=!1}}()}),{immediate:!0}),{internalActive:a,cacheBuster:o,loading:i,file:n,fileSrc:s}}});const tM=w({components:{FileLightbox:F_(eM,[["render",function(e,t,l,a,i,n){const o=S("v-progress-circular"),s=S("file-preview"),r=S("v-icon"),d=S("v-button"),c=S("v-dialog");return E(),A(c,{modelValue:e.internalActive,"onUpdate:modelValue":t[2]||(t[2]=t=>e.internalActive=t),onEsc:t[3]||(t[3]=t=>e.internalActive=!1)},{activator:D((t=>[Q(e.$slots,"activator",J(Y(t)),void 0,!0)])),default:D((()=>[e.loading?(E(),A(o,{key:0,indeterminate:""})):e.file?(E(),A(s,{key:1,src:e.fileSrc,mime:e.file.type,width:e.file.width,height:e.file.height,title:e.file.title,"in-modal":"",onClick:t[0]||(t[0]=t=>e.internalActive=!1)},null,8,["src","mime","width","height","title"])):B("",!0),I(d,{class:"close",icon:"",rounded:"",onClick:t[1]||(t[1]=t=>e.internalActive=!1)},{default:D((()=>[I(r,{name:"close"})])),_:1})])),_:3},8,["modelValue"])}],["__scopeId","data-v-57968292"]]),DrawerItem:Gj},props:{value:{type:[String,Object],default:null},disabled:{type:Boolean,default:!1},folder:{type:String,default:void 0}},emits:["input"],setup(e,{emit:t}){const{t:l,n:a,te:i}=x(),n=F(!1),o=F(null),r=F(!1),d=F(!1),c=F(null),u=F(C()),p=V((()=>{if(!o.value)return null;if(o.value.type.includes("svg"))return uI(Jh()+`assets/${o.value.id}`);if(o.value.type.includes("image")){return uI(Jh()+`assets/${o.value.id}?key=system-large-cover&cache-buster=${u.value}`)}return null})),m=V((()=>o.value?uI(Jh()+`assets/${o.value.id}`):null)),f=V((()=>{if(!o.value)return null;const{filesize:e,width:t,height:l,type:i}=o.value;return t&&l?`${a(t)}x${a(l)} • ${ZR(e)} • ${i}`:`${ZR(e)} • ${i}`}));O((()=>e.value),((t,l)=>{t!==l&&(t&&async function(){var t;n.value=!0;try{const l="string"==typeof e.value?e.value:null==(t=e.value)?void 0:t.id,a=await dI.get(`/files/${l}`,{params:{fields:["id","title","width","height","filesize","type","filename_download"]}});null!==e.value&&"object"==typeof e.value?o.value=s(s({},a.data.data),e.value):o.value=a.data.data}catch(l){jy(l)}finally{n.value=!1}}(),l&&null===t&&y())}),{immediate:!0});const{edits:v,stageEdits:_}={edits:V((()=>e.value&&"object"==typeof e.value?e.value:{})),stageEdits:function(e){o.value&&t("input",s({id:o.value.id},e))}};return{t:l,loading:n,image:o,src:p,imageError:c,imageErrorHandler:async function(){var e,t,l,a;if(!p.value)return;try{await dI.get(p.value)}catch(n){c.value=null==(a=null==(l=null==(t=null==(e=n.response)?void 0:e.data)?void 0:t.errors[0])?void 0:l.extensions)?void 0:a.code,c.value&&i("errors."+c.value)||(c.value="UNKNOWN")}},meta:f,lightboxActive:r,editDrawerActive:d,changeCacheBuster:function(){u.value=C()},setImage:function(e){o.value=e,t("input",e.id)},deselect:y,downloadSrc:m,edits:v,stageEdits:_};function y(){t("input",null),n.value=!1,o.value=null,r.value=!1,d.value=!1}}}),lM={class:"image"},aM={key:0,class:"image-error"},iM={class:"message"},nM=["src"],oM=(e=>(K("data-v-53b725e5"),e=e(),W(),e))((()=>j("div",{class:"shadow"},null,-1))),sM={key:2,class:"actions"},rM={class:"info"},dM={class:"title"},cM={class:"meta"};var uM=ol({id:"file-image",name:"$t:interfaces.file-image.image",description:"$t:interfaces.file-image.description",icon:"insert_photo",component:F_(tM,[["render",function(e,t,l,a,i,n){const o=S("v-skeleton-loader"),s=S("v-notice"),r=S("v-icon"),d=S("v-button"),c=S("drawer-item"),u=S("file-lightbox"),p=S("v-upload"),m=q("tooltip");return E(),P("div",lM,[e.loading?(E(),A(o,{key:0,type:"input-tall"})):e.disabled&&!e.image?(E(),A(s,{key:1,class:"disabled-placeholder",center:"",icon:"block"},{default:D((()=>[N(U(e.t("disabled")),1)])),_:1})):e.image?(E(),P("div",{key:2,class:H(["image-preview",{"is-svg":e.image.type&&e.image.type.includes("svg")}])},[e.imageError?(E(),P("div",aM,[I(r,{large:"",name:"UNKNOWN"===e.imageError?"error_outline":"info_outline"},null,8,["name"]),j("span",iM,U(e.t(`errors.${e.imageError}`)),1)])):(E(),P("img",{key:1,src:e.src,alt:"",role:"presentation",onError:t[0]||(t[0]=(...t)=>e.imageErrorHandler&&e.imageErrorHandler(...t))},null,40,nM)),oM,e.disabled?B("",!0):(E(),P("div",sM,[z(I(d,{icon:"",rounded:"",onClick:t[1]||(t[1]=t=>e.lightboxActive=!0)},{default:D((()=>[I(r,{name:"zoom_in"})])),_:1},512),[[m,e.t("zoom")]]),z(I(d,{icon:"",rounded:"",href:e.downloadSrc,download:e.image.filename_download},{default:D((()=>[I(r,{name:"get_app"})])),_:1},8,["href","download"]),[[m,e.t("download")]]),z(I(d,{icon:"",rounded:"",onClick:t[2]||(t[2]=t=>e.editDrawerActive=!0)},{default:D((()=>[I(r,{name:"open_in_new"})])),_:1},512),[[m,e.t("edit")]]),z(I(d,{icon:"",rounded:"",onClick:e.deselect},{default:D((()=>[I(r,{name:"close"})])),_:1},8,["onClick"]),[[m,e.t("deselect")]])])),j("div",rM,[j("div",dM,U(e.image.title),1),j("div",cM,U(e.meta),1)]),!e.disabled&&e.image?(E(),A(c,{key:3,active:e.editDrawerActive,"onUpdate:active":t[3]||(t[3]=t=>e.editDrawerActive=t),collection:"directus_files","primary-key":e.image.id,edits:e.edits,onInput:e.stageEdits},null,8,["active","primary-key","edits","onInput"])):B("",!0),I(u,{id:e.image.id,modelValue:e.lightboxActive,"onUpdate:modelValue":t[4]||(t[4]=t=>e.lightboxActive=t)},null,8,["id","modelValue"])],2)):(E(),A(p,{key:3,"from-library":"","from-url":"",folder:e.folder,onInput:e.setImage},null,8,["folder","onInput"]))])}],["__scopeId","data-v-53b725e5"]]),types:["uuid"],groups:["file"],relational:!0,options:[{field:"folder",name:"$t:interfaces.system-folder.folder",type:"uuid",meta:{width:"full",interface:"system-folder",note:"$t:interfaces.system-folder.field_hint"},schema:{default_value:void 0}}],recommendedDisplays:["image"]}),pM=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:uM});function mM(e,t,l){return{getJunctionItem:function(l){const{junctionPkField:a}=t.value;return null===e.value?null:e.value.find((e=>m.exports.get(e,a)===l||e===l))||null},getNewSelectedItems:function(){const{junctionField:l}=t.value;return null===e.value||null===l?[]:e.value.filter((e=>"object"==typeof e&&l in e&&"object"!=typeof e[l]))},getNewItems:function(){const{junctionField:l,relationPkField:a}=t.value;return null===e.value||null===l?[]:e.value.filter((e=>"object"==typeof m.exports.get(e,l)&&!1===m.exports.has(e,[l,a])))},getUpdatedItems:function(){const{junctionField:l,relationPkField:a}=t.value;return null===e.value||null===l?[]:e.value.filter((e=>m.exports.has(e,[l,a])))},getExistingItems:function(){return null===e.value?[]:e.value.filter((e=>["string","number"].includes(typeof e)))},getPrimaryKeys:function(){const{junctionPkField:l}=t.value;return null===e.value?[]:e.value.reduce(((e,t)=>{const a=m.exports.get(t,[l]);return["string","number"].includes(typeof t)?e.push(t):void 0!==a&&e.push(a),e}),[])},getRelatedPrimaryKeys:function(){if(null===e.value)return[];const{junctionField:l,relationPkField:a}=t.value;return e.value.reduce(((e,t)=>{const i=m.exports.get(t,l),n=m.exports.get(t,[l,a]);return void 0!==i?e.push(i):void 0!==n&&e.push(n),e}),[])},getJunctionFromRelatedId:function(e,l){const{relationPkField:a,junctionField:i}=t.value;return l.find((t=>m.exports.get(t,[i,a])===e))||null},deleteItem:function(a){if(null===e.value)return;const{junctionField:i,relationPkField:n,junctionPkField:o}=t.value,s=m.exports.get(a,o),r=m.exports.get(a,[i,n]),d=e.value.filter((e=>{if(void 0!==s)return"object"==typeof e?m.exports.get(e,[o])!==s:e!==s;if(void 0!==r){const t=m.exports.get(e,[i,n]);if(["string","number"].includes(typeof t))return t!==r;const l=m.exports.get(e,[i]);if(["string","number"].includes(typeof l))return l!==r}return!1===m.exports.isEqual(e,a)}));l(d)}}}function fM(e,t){const l=VI(),a=pI(),i=V((()=>l.getRelationsForField(e.value,t.value))),n=V((()=>i.value.find((l=>{var a;return l.related_collection===e.value&&(null==(a=l.meta)?void 0:a.one_field)===t.value})))),o=V((()=>i.value.find((e=>{var t;return e.collection===n.value.collection&&e.field!==n.value.field&&e.field===(null==(t=n.value.meta)?void 0:t.junction_field)})))),s=V((()=>a.getCollection(n.value.collection))),r=V((()=>a.getCollection(o.value.related_collection))),{primaryKeyField:d}=Xt(s.value.collection),{primaryKeyField:c}=Xt(r.value.collection),u=V((()=>{var e,t,l,a;return{junctionPkField:null==(e=d.value)?void 0:e.field,relationPkField:null==(t=c.value)?void 0:t.field,junctionField:null==(l=n.value.meta)?void 0:l.junction_field,sortField:null==(a=n.value.meta)?void 0:a.sort_field,junctionCollection:s.value.collection,relationCollection:r.value.collection}}));return{junction:n,junctionCollection:s,relation:o,relationCollection:r,relationInfo:u,junctionPrimaryKeyField:d,relationPrimaryKeyField:c}}function vM(e,t){var l;if(!(null==t?void 0:t.length))return[];const a=vI(),i=[];for(const n of t){if(i.push(n),!n.includes("."))continue;const t=n.split("."),o=a.getField(e,n),s=a.getPrimaryKeyFieldForCollection(null!=(l=null==o?void 0:o.collection)?l:""),r=t.slice(0,-1).concat(s.field).join(".");i.includes(r)||i.push(r)}return i}function _M(e,t,l,a,i,n,o){const s=vI(),r=F([]),d=F(!1),c=F([]),u=F(null);return O((()=>e.value),(async e=>{if(null===e)return void(c.value=[]);d.value=!0;const{junctionField:s,relationPkField:r,junctionPkField:_,relationCollection:y}=l.value;if(null===s)return;const h=await async function(){const{junctionPkField:e,junctionField:n,relationPkField:s,junctionCollection:r}=l.value;try{let d=[];const c=o();if(c.length>0){const a=(t.value||[]).filter((e=>!1===e.includes(".")));!1===a.includes(e)&&a.push(e),!1===a.includes(n)&&a.push(n),null!==l.value.sortField&&!1===a.includes(l.value.sortField)&&a.push(l.value.sortField),d=await f(r,a,e,c)}const u=i().map((e=>({[n]:e[n][s]})));return d.concat(...a(),...u)}catch(d){u.value=d}return[]}(),g=h.reduce(((e,t)=>{const l=m.exports.get(t,s);return null!==l&&e.push(l),e}),[]),b=[...t.value.length>0?p(t.value):v()];!1===b.includes(r)&&b.push(r);try{let e=[];g.length>0&&(e=await f(y,b,r,g)),e=e.map((e=>{const t=m.exports.get(e,r),l=h.find((e=>e[s]===t));if(void 0===l||void 0===t)return;const a=m.exports.cloneDeep(l);return a[s]=e,a}));const t=i(),l=n();e=e.map((e=>{const l=t.find((t=>m.exports.get(t,[s,_])===m.exports.get(e,[s,_])));return void 0!==l?m.exports.merge(e,l):e})).concat(...l),c.value=e}catch(k){u.value=k}finally{d.value=!1}}),{immediate:!0}),O((()=>t.value),(()=>{const{junctionField:e,junctionCollection:a}=l.value;r.value=(t.value.length>0?t.value:v().map((t=>`${e}.${t}`))).map((e=>{var t,l,i,n;const o=s.getField(a,e);if(!o)return null;return{text:o.name,value:e,align:"left",sortable:!0,width:null,field:{display:null==(t=o.meta)?void 0:t.display,displayOptions:null==(l=o.meta)?void 0:l.display_options,interface:null==(i=o.meta)?void 0:i.interface,interfaceOptions:null==(n=o.meta)?void 0:n.options,type:o.type,field:o.field}}})).filter((e=>e))}),{immediate:!0}),{tableHeaders:r,items:c,loading:d,error:u};function p(e){const{junctionField:t}=l.value;return e.reduce(((e,l)=>{const a=l.split(".");return t===a[0]&&a.length>=2&&e.push(a.slice(1).join(".")),e}),[])}async function f(e,t,l,a){if(null===t||0===t.length||null===a||0===a.length)return[];const i=vM(e,t),n=await dI.get(_g(e),{params:{fields:i,[`filter[${l}][_in]`]:a.join(",")}});return null==n?void 0:n.data.data}function v(){return s.getFieldsForCollection(l.value.relationCollection).slice(0,3).map((e=>e.field))}}function yM(e,t,l){const a=F(!1),i=F(null),n=F(null),o=F({});function s(){a.value=!1,o.value={},i.value=null,n.value=null}return{currentlyEditing:i,editItem:function(e){const{relationPkField:l,junctionField:s,junctionPkField:r}=t.value;a.value=!0,o.value=e,i.value=m.exports.get(e,[r],null),n.value=m.exports.get(e,[s,l],null)},editsAtStart:o,stageEdits:function(a){const{relationPkField:r,junctionField:d,junctionPkField:c}=t.value,u=(e.value||[]).map((e=>{if(null!==i.value){const t=i.value;if("object"==typeof e&&c in e){if(e[c]===t)return a}else if(["number","string"].includes(typeof e)&&e===t)return a}if(null!=n.value){const t=n.value;if(m.exports.get(e,[d],null)===t)return a;if(m.exports.get(e,[d,r],null)===t)return a}return m.exports.isEqual(o.value,e)?a:e}));null===n.value&&null===i.value&&!1===u.includes(a)&&u.push(a),0===u.length?l(null):l(u),s()},cancelEdit:s,relatedPrimaryKey:n,editModalActive:a}}function hM(e,t,l){return{stageSelection:function(e){const{junctionField:a}=t.value,i=e.map((e=>({[a]:e})));0===i.length?l(null):l(i)},selectModalActive:F(!1),selectedPrimaryKeys:V((()=>{if(null===e.value)return[];const{relationPkField:l,junctionField:a}=t.value;return e.value.reduce(((e,t)=>{const i=m.exports.get(t,[a,l]);return void 0!==i&&e.push(i),e}),[])}))}}function gM(e,t,l,a){const i=F({by:e.value.sortField||t.value[0],desc:!1}),n=V((()=>{const t=e.value.sortField;if(null===t||i.value.by!==t)return l.value;const a=i.value.desc,n=m.exports.sortBy(l.value,[t]);return a?n.reverse():n}));return{sort:i,sortItems:function(t){const l=e.value.sortField;if(null===l)return;const i=t.map(((e,t)=>(e[l]=t,e)));a(i)},sortedItems:n}}function bM(e,t){const l=gI(),a=I_();return{createAllowed:V((()=>{var i;if(!0===(null==(i=a.currentUser)?void 0:i.role.admin_access))return!0;const n=!!l.permissions.find((t=>"create"===t.action&&t.collection===e.value.collection)),o=!!l.permissions.find((e=>"create"===e.action&&e.collection===t.value.collection));return n&&o})),selectAllowed:V((()=>{var t;if(!0===(null==(t=a.currentUser)?void 0:t.role.admin_access))return!0;return!!l.permissions.find((t=>"create"===t.action&&t.collection===e.value.collection))}))}}const kM=w({components:{DrawerItem:Gj,DrawerCollection:hj,Draggable:Be},props:{value:{type:Array,default:null},primaryKey:{type:[Number,String],required:!0},collection:{type:String,required:!0},field:{type:String,required:!0},template:{type:String,default:null},disabled:{type:Boolean,default:!1},enableCreate:{type:Boolean,default:!0},enableSelect:{type:Boolean,default:!0}},emits:["input"],setup(e,{emit:t}){const{t:l}=x(),{value:a,collection:i,field:n}=T(e),{junction:o,junctionCollection:s,relation:r,relationCollection:d,relationInfo:c}=fM(i,n),u=V((()=>{var t,l;if(e.template)return e.template;if(null==(t=s.value.meta)?void 0:t.display_template)return s.value.meta.display_template;let a=null==(l=d.value.meta)?void 0:l.display_template;if(a){const e=/({{.*?}})/g,t=a.split(e).filter((e=>e));for(const l of t){if(!1===l.startsWith("{{"))continue;const e=l.replace(/{{/g,"").replace(/}}/g,"").trim(),t=`{{${r.value.field}.${e}}}`;a=a.replace(l,t)}return a}return`{{${r.value.field}.${c.value.relationPkField}}}`})),p=V((()=>Qj(el(u.value),s.value.collection))),{deleteItem:f,getUpdatedItems:v,getNewItems:_,getPrimaryKeys:y,getNewSelectedItems:h}=mM(a,c,z),{tableHeaders:g,items:b,loading:k}=_M(a,p,c,h,v,_,y),{currentlyEditing:w,editItem:C,editsAtStart:S,stageEdits:E,cancelEdit:A,relatedPrimaryKey:D,editModalActive:I}=yM(a,c,z),{stageSelection:O,selectModalActive:$,selectionFilters:P}=hM(a,b,c),{sort:j,sortItems:L,sortedItems:R}=gM(c,p,b,z),{createAllowed:M,selectAllowed:U}=bM(s,d),{showUpload:N,onUpload:B}=function(){const l=F(!1);return{showUpload:l,onUpload:function(a){if(l.value=!1,0===a.length)return;const{junctionField:i}=c.value,n=a.map((e=>({[i]:e.id})));t("input",[...e.value||[],...n])}}}(),q=V((()=>{if(null!==D.value&&"directus_files"===d.value.collection)return uI(Jh()+`assets/${D.value}`)}));return{t:l,junction:o,relation:r,tableHeaders:g,loading:k,currentlyEditing:w,editItem:C,junctionCollection:s,relationCollection:d,editsAtStart:S,stageEdits:E,cancelEdit:A,stageSelection:O,selectModalActive:$,deleteItem:f,selectionFilters:P,items:b,relationInfo:c,relatedPrimaryKey:D,get:m.exports.get,editModalActive:I,sort:j,sortItems:L,sortedItems:R,templateWithDefaults:u,createAllowed:M,selectAllowed:U,onUpload:B,showUpload:N,downloadUrl:q};function z(e){t("input",e)}}}),wM={key:1,class:"many-to-many"},xM=(e=>(K("data-v-6367a9ac"),e=e(),W(),e))((()=>j("div",{class:"spacer"},null,-1))),VM={key:3,class:"actions"};var CM=F_(kM,[["render",function(e,t,l,a,i,n){const o=S("v-notice"),s=S("v-skeleton-loader"),r=S("v-icon"),d=S("render-template"),c=S("v-list-item"),u=S("draggable"),p=S("v-list"),m=S("v-button"),f=S("drawer-item"),v=S("drawer-collection"),_=S("v-card-title"),y=S("v-upload"),h=S("v-card-text"),g=S("v-card-actions"),b=S("v-card"),k=S("v-dialog");return e.junction&&e.relation?(E(),P("div",wM,[e.loading?(E(!0),P(R,{key:0},M((e.value||[]).length||3,(t=>(E(),A(s,{key:t,type:(e.value||[]).length>4?"block-list-item-dense":"block-list-item"},null,8,["type"])))),128)):0===e.sortedItems.length?(E(),A(o,{key:1},{default:D((()=>[N(U(e.t("no_items")),1)])),_:1})):(E(),A(p,{key:2},{default:D((()=>[I(u,{"force-fallback":!0,"model-value":e.sortedItems,"item-key":"id",handle:".drag-handle",disabled:!e.junction.meta.sort_field,"onUpdate:modelValue":t[1]||(t[1]=t=>e.sortItems(t))},{item:D((({element:l})=>[I(c,{dense:e.sortedItems.length>4,block:"",clickable:"",onClick:t=>e.editItem(l)},{default:D((()=>[e.junction.meta.sort_field?(E(),A(r,{key:0,name:"drag_handle",class:"drag-handle",left:"",onClick:t[0]||(t[0]=X((()=>{}),["stop"]))})):B("",!0),I(d,{collection:e.junctionCollection.collection,item:l,template:e.templateWithDefaults},null,8,["collection","item","template"]),xM,e.disabled?B("",!0):(E(),A(r,{key:1,name:"close",onClick:X((t=>e.deleteItem(l)),["stop"])},null,8,["onClick"]))])),_:2},1032,["dense","onClick"])])),_:1},8,["model-value","disabled"])])),_:1})),e.disabled?B("",!0):(E(),P("div",VM,[e.enableCreate&&e.createAllowed?(E(),A(m,{key:0,onClick:t[2]||(t[2]=t=>e.showUpload=!0)},{default:D((()=>[N(U(e.t("upload_file")),1)])),_:1})):B("",!0),e.enableSelect&&e.selectAllowed?(E(),A(m,{key:1,onClick:t[3]||(t[3]=t=>e.selectModalActive=!0)},{default:D((()=>[N(U(e.t("add_existing")),1)])),_:1})):B("",!0)])),e.disabled?B("",!0):(E(),A(f,{key:4,active:e.editModalActive,collection:e.relationInfo.junctionCollection,"primary-key":e.currentlyEditing||"+","related-primary-key":e.relatedPrimaryKey||"+","junction-field":e.relationInfo.junctionField,edits:e.editsAtStart,"circular-field":e.junction.field,onInput:e.stageEdits,"onUpdate:active":e.cancelEdit},{actions:D((()=>["+"!==e.currentlyEditing&&"directus_files"===e.relationCollection.collection?(E(),A(m,{key:0,secondary:"",rounded:"",icon:"",download:"",href:e.downloadUrl},{default:D((()=>[I(r,{name:"download"})])),_:1},8,["href"])):B("",!0)])),_:1},8,["active","collection","primary-key","related-primary-key","junction-field","edits","circular-field","onInput","onUpdate:active"])),e.disabled?B("",!0):(E(),A(v,{key:5,active:e.selectModalActive,"onUpdate:active":t[4]||(t[4]=t=>e.selectModalActive=t),collection:e.relationCollection.collection,selection:[],filters:e.selectionFilters,multiple:"",onInput:e.stageSelection},null,8,["active","collection","filters","onInput"])),e.disabled?B("",!0):(E(),A(k,{key:6,modelValue:e.showUpload,"onUpdate:modelValue":t[6]||(t[6]=t=>e.showUpload=t)},{default:D((()=>[I(b,null,{default:D((()=>[I(_,null,{default:D((()=>[N(U(e.t("upload_file")),1)])),_:1}),I(h,null,{default:D((()=>[I(y,{multiple:"","from-url":"",onInput:e.onUpload},null,8,["onInput"])])),_:1}),I(g,null,{default:D((()=>[I(m,{onClick:t[5]||(t[5]=t=>e.showUpload=!1)},{default:D((()=>[N(U(e.t("done")),1)])),_:1})])),_:1})])),_:1})])),_:1},8,["modelValue"]))])):(E(),A(o,{key:0,type:"warning"},{default:D((()=>[N(U(e.t("relationship_not_setup")),1)])),_:1}))}],["__scopeId","data-v-6367a9ac"]]);const SM=w({props:{collection:{type:String,required:!0},fieldData:{type:Object,default:null},relations:{type:Array,default:()=>[]},value:{type:Object,default:null},newCollections:{type:Array,default:()=>[]},newFields:{type:Array,default:()=>[]}},emits:["input"],setup(e,{emit:t}){const{t:l}=x(),a=pI(),i=V({get(){var t;return null==(t=e.value)?void 0:t.template},set(l){t("input",r(s({},e.value||{}),{template:l}))}}),n=V({get(){var t,l;return null==(l=null==(t=e.value)?void 0:t.enableCreate)||l},set(l){t("input",r(s({},e.value||{}),{enableCreate:l}))}}),o=V({get(){var t,l;return null==(l=null==(t=e.value)?void 0:t.enableSelect)||l},set(l){t("input",r(s({},e.value||{}),{enableSelect:l}))}}),d=V((()=>{if(!e.fieldData||!e.relations||0===e.relations.length)return null;const{field:t}=e.fieldData,l=e.relations.find((l=>{var a;return l.related_collection===e.collection&&(null==(a=l.meta)?void 0:a.one_field)===t}));return(null==l?void 0:l.collection)||null})),c=V((()=>d.value?a.getCollection(d.value):null));return{t:l,template:i,enableCreate:n,enableSelect:o,junctionCollection:d,junctionCollectionInfo:c}}}),EM={key:1,class:"form-grid"},AM={class:"field full"},DM={class:"type-label"},IM={class:"field half-left"},FM={class:"type-label"},OM={class:"field half-right"},$M={class:"type-label"};var TM=F_(SM,[["render",function(e,t,l,a,i,n){const o=S("v-notice"),s=S("v-field-template"),r=S("v-checkbox");return null===e.junctionCollection?(E(),A(o,{key:0,type:"warning"},{default:D((()=>[N(U(e.t("interfaces.list-o2m.no_collection")),1)])),_:1})):(E(),P("div",EM,[j("div",AM,[j("p",DM,U(e.t("display_template")),1),I(s,{modelValue:e.template,"onUpdate:modelValue":t[0]||(t[0]=t=>e.template=t),collection:e.junctionCollection,depth:2,inject:e.junctionCollectionInfo?null:{fields:e.newFields,collections:e.newCollections,relations:e.relations},placeholder:e.junctionCollectionInfo&&e.junctionCollectionInfo.meta&&e.junctionCollectionInfo.meta.display_template},null,8,["modelValue","collection","inject","placeholder"])]),j("div",IM,[j("p",FM,U(e.t("creating_items")),1),I(r,{modelValue:e.enableCreate,"onUpdate:modelValue":t[1]||(t[1]=t=>e.enableCreate=t),block:"",label:e.t("enable_create_button")},null,8,["modelValue","label"])]),j("div",OM,[j("p",$M,U(e.t("selecting_items")),1),I(r,{modelValue:e.enableSelect,"onUpdate:modelValue":t[2]||(t[2]=t=>e.enableSelect=t),block:"",label:e.t("enable_select_button")},null,8,["modelValue","label"])])]))}]]),PM=ol({id:"files",name:"$t:interfaces.files.files",description:"$t:interfaces.files.description",icon:"note_add",component:CM,relational:!0,types:["alias"],groups:["files"],options:TM,recommendedDisplays:["related-values"]}),jM=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:PM});const LM=w({name:"AccordionSection",props:{field:{type:Object,required:!0},fields:{type:Array,required:!0},values:{type:Object,required:!0},initialValues:{type:Object,required:!0},disabled:{type:Boolean,default:!1},batchMode:{type:Boolean,default:!1},batchActiveFields:{type:Array,default:()=>[]},primaryKey:{type:[Number,String],required:!0},loading:{type:Boolean,default:!1},validationErrors:{type:Array,default:()=>[]},group:{type:String,required:!0},multiple:{type:Boolean,default:!1}},emits:["apply","toggleAll"],setup(e,{emit:t}){const{t:l}=x();return{fieldsInSection:V((()=>e.fields.filter((t=>{var l,a,i;return(null==(l=t.meta)?void 0:l.group)!==e.group||(null==(a=t.meta)?void 0:a.id)===(null==(i=e.field.meta)?void 0:i.id)})).map((t=>{var l,a;return(null==(l=t.meta)?void 0:l.id)===(null==(a=e.field.meta)?void 0:a.id)?m.exports.merge({},t,{hideLabel:!0}):t})))),handleModifier:function(l,a){if(!1===e.multiple)return void a();l.shiftKey?t("toggleAll"):a()},validationMessage:V((()=>{const t=e.validationErrors.find((t=>t.field===e.field.field));if(void 0!==t)return"RECORD_NOT_UNIQUE"===t.code?l("validationError.unique"):l(`validationError.${t.type}`,t)}))}}}),RM=["onClick"],MM={key:0,class:"fields"};var UM=ol({id:"group-accordion",name:"$t:interfaces.group-accordion.name",description:"$t:interfaces.group-accordion.description",icon:"horizontal_split",component:F_(w({name:"InterfaceGroupAccordion",components:{AccordionSection:F_(LM,[["render",function(e,t,l,a,i,n){const o=S("v-icon"),s=S("v-form"),r=S("transition-expand"),d=S("v-item"),c=q("tooltip");return E(),A(d,{value:e.field.field,scope:"group-accordion",class:"accordion-section"},{default:D((({active:l,toggle:a})=>[j("div",{class:H(["label type-title",{active:l}]),onClick:t=>e.handleModifier(t,a)},[I(o,{class:H(["icon",{active:l}]),name:"expand_more"},null,8,["class"]),N(" "+U(e.field.name)+" ",1),!l&&e.validationMessage?z((E(),A(o,{key:0,class:"warning",name:"error_outline",small:""},null,512)),[[c,e.validationMessage]]):B("",!0)],10,RM),I(r,null,{default:D((()=>[l?(E(),P("div",MM,[I(s,{"initial-values":e.initialValues,fields:e.fieldsInSection,"model-value":e.values,"primary-key":e.primaryKey,group:e.group,"validation-errors":e.validationErrors,loading:e.loading,"batch-mode":e.batchMode,"onUpdate:modelValue":t[0]||(t[0]=t=>e.$emit("apply",t))},null,8,["initial-values","fields","model-value","primary-key","group","validation-errors","loading","batch-mode"])])):B("",!0)])),_:2},1024)])),_:1},8,["value"])}],["__scopeId","data-v-2ba1fbc5"]])},props:{field:{type:Object,required:!0},fields:{type:Array,required:!0},values:{type:Object,required:!0},initialValues:{type:Object,required:!0},disabled:{type:Boolean,default:!1},batchMode:{type:Boolean,default:!1},batchActiveFields:{type:Array,default:()=>[]},primaryKey:{type:[Number,String],required:!0},loading:{type:Boolean,default:!1},validationErrors:{type:Array,default:()=>[]},accordionMode:{type:Boolean,default:!0},start:{type:String,enum:["opened","closed","first"],default:"closed"}},emits:["apply"],setup(e){const t=V((()=>e.fields.filter((t=>{var l,a;return(null==(l=t.meta)?void 0:l.group)===(null==(a=e.field.meta)?void 0:a.field)})))),l=F([]);return O((()=>e.start),(e=>{"opened"===e&&(l.value=t.value.map((e=>e.field))),"first"===e&&(l.value=[t.value[0].field])}),{immediate:!0}),{rootFields:t,selection:l,toggleAll:function(){if(!0===e.accordionMode)return;l.value.length===t.value.length?l.value=[]:l.value=t.value.map((e=>e.field))}}}}),[["render",function(e,t,l,a,i,n){const o=S("accordion-section"),s=S("v-item-group");return E(),A(s,{modelValue:e.selection,"onUpdate:modelValue":t[1]||(t[1]=t=>e.selection=t),scope:"group-accordion",class:"group-accordion",multiple:!1===e.accordionMode},{default:D((()=>[(E(!0),P(R,null,M(e.rootFields,(l=>(E(),A(o,{key:l.field,field:l,fields:e.fields,values:e.values,"initial-values":e.initialValues,disabled:e.disabled,"batch-mode":e.batchMode,"batch-active-fields":e.batchActiveFields,"primary-key":e.primaryKey,loading:e.loading,"validation-errors":e.validationErrors,group:e.field.meta.field,multiple:!1===e.accordionMode,onApply:t[0]||(t[0]=t=>e.$emit("apply",t)),onToggleAll:e.toggleAll},null,8,["field","fields","values","initial-values","disabled","batch-mode","batch-active-fields","primary-key","loading","validation-errors","group","multiple","onToggleAll"])))),128))])),_:1},8,["modelValue","multiple"])}]]),hideLabel:!0,hideLoader:!0,types:["alias"],groups:["group"],options:[{field:"accordionMode",type:"boolean",name:"$t:interfaces.group-accordion.accordion_mode",meta:{interface:"boolean",options:{label:"$t:interfaces.group-accordion.max_one_section_open"},width:"half"},schema:{default_value:!0}},{field:"start",type:"string",name:"$t:start",schema:{default_value:"closed"},meta:{width:"half",interface:"select-dropdown",options:{choices:[{text:"$t:interfaces.group-accordion.all_closed",value:"closed"},{text:"$t:interfaces.group-accordion.first_opened",value:"first"}]},conditions:[{rule:{accordionMode:{_eq:!1}},options:{choices:[{text:"$t:interfaces.group-accordion.all_closed",value:"closed"},{text:"$t:interfaces.group-accordion.first_opened",value:"first"},{text:"$t:interfaces.group-accordion.all_opened",value:"opened"}]}}]}}]}),NM=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:UM});const BM=w({name:"InterfaceGroupDetail",props:{field:{type:Object,required:!0},fields:{type:Array,required:!0},values:{type:Object,required:!0},initialValues:{type:Object,required:!0},disabled:{type:Boolean,default:!1},batchMode:{type:Boolean,default:!1},batchActiveFields:{type:Array,default:()=>[]},primaryKey:{type:[Number,String],required:!0},loading:{type:Boolean,default:!1},validationErrors:{type:Array,default:()=>[]},start:{type:String,enum:["open","closed"],default:"open"},headerIcon:{type:String,default:null},headerColor:{type:String,default:null}},emits:["apply"],setup(e){const{t:t}=x();return{validationMessages:V((()=>{if(!e.validationErrors)return;const l=e.fields.map((e=>e.field)),a=e.validationErrors.reduce(((e,a)=>(!1===l.includes(a.field)||("RECORD_NOT_UNIQUE"===a.code?e.push(`${vV(a.field)} ${t("validationError.unique").toLowerCase()}`):e.push(`${vV(a.field)} ${t(`validationError.${a.type}`,a).toLowerCase()}`)),e)),[]);return 0!==a.length?a.join("\n"):void 0}))}}}),qM={key:0,class:"title"};var zM=ol({id:"group-detail",name:"$t:interfaces.group-detail.name",description:"$t:interfaces.group-detail.description",icon:"menu_open",component:F_(BM,[["render",function(e,t,l,a,i,n){const o=S("v-icon"),s=S("v-divider"),r=S("v-form"),d=S("v-detail"),c=q("tooltip");return E(),A(d,{"start-open":"open"===e.start,class:"group-detail"},{activator:D((({toggle:t,active:l})=>[I(s,{style:Ue({"--v-divider-label-color":e.headerColor}),class:H({active:l}),"inline-title":!1,large:"",onClick:t},G({default:D((()=>[e.field.name?(E(),P("span",qM,U(e.field.name),1)):B("",!0),!l&&e.validationMessages?z((E(),A(o,{key:1,class:"warning",name:"error_outline",small:""},null,512)),[[c,e.validationMessages]]):B("",!0),I(o,{class:"expand-icon",name:"expand_more"})])),_:2},[e.headerIcon?{name:"icon",fn:D((()=>[I(o,{name:e.headerIcon,class:"header-icon"},null,8,["name"])]))}:void 0]),1032,["style","class","onClick"])])),default:D((()=>[I(r,{"initial-values":e.initialValues,fields:e.fields,"model-value":e.values,"primary-key":e.primaryKey,group:e.field.meta.field,"validation-errors":e.validationErrors,loading:e.loading,"batch-mode":e.batchMode,"onUpdate:modelValue":t[0]||(t[0]=t=>e.$emit("apply",t))},null,8,["initial-values","fields","model-value","primary-key","group","validation-errors","loading","batch-mode"])])),_:1},8,["start-open"])}],["__scopeId","data-v-2875ec12"]]),groups:["group"],types:["alias"],options:[{field:"start",name:"$t:start",type:"string",schema:{default_value:"open"},meta:{interface:"select-dropdown",width:"full",options:{choices:[{text:"$t:interfaces.group-detail.start_open",value:"open"},{text:"$t:interfaces.group-detail.start_closed",value:"closed"}]}}},{field:"headerIcon",name:"$t:interfaces.group-detail.header_icon",type:"string",meta:{interface:"select-icon",width:"half"}},{field:"headerColor",name:"$t:interfaces.group-detail.header_color",type:"string",meta:{interface:"select-color",width:"half"}}]}),KM=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:zM});const WM=w({name:"InterfaceGroupRaw",props:{field:{type:Object,required:!0},fields:{type:Array,required:!0},values:{type:Object,required:!0},initialValues:{type:Object,required:!0},disabled:{type:Boolean,default:!1},batchMode:{type:Boolean,default:!1},batchActiveFields:{type:Array,default:()=>[]},primaryKey:{type:[Number,String],required:!0},loading:{type:Boolean,default:!1},validationErrors:{type:Array,default:()=>[]}},emits:["apply"]}),HM={class:"group-raw"};var GM=ol({id:"group-raw",name:"$t:interfaces.group-raw.name",description:"$t:interfaces.group-raw.description",icon:"view_in_ar",component:F_(WM,[["render",function(e,t,l,a,i,n){const o=S("v-form");return E(),P("div",HM,[I(o,{"initial-values":e.initialValues,fields:e.fields,"model-value":e.values,"primary-key":e.primaryKey,group:e.field.meta.field,"validation-errors":e.validationErrors,loading:e.loading,"onUpdate:modelValue":t[0]||(t[0]=t=>e.$emit("apply",t))},null,8,["initial-values","fields","model-value","primary-key","group","validation-errors","loading"])])}]]),groups:["group"],types:["alias"],options:[]}),QM=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:GM});var XM=ol({id:"input",name:"$t:interfaces.input.input",description:"$t:interfaces.input.description",icon:"text_fields",component:F_(w({props:{value:{type:[String,Number],default:null},type:{type:String,default:null},clear:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},placeholder:{type:String,default:null},masked:{type:Boolean,default:!1},iconLeft:{type:String,default:null},iconRight:{type:String,default:null},trim:{type:Boolean,default:!0},font:{type:String,default:"sans-serif"},length:{type:Number,default:null},dbSafe:{type:Boolean,default:!1},autofocus:{type:Boolean,default:!1},slug:{type:Boolean,default:!1},min:{type:Number,default:null},max:{type:Number,default:null},step:{type:Number,default:1}},emits:["input"],setup(e){const t=V((()=>"number"==typeof e.value?null:e.length&&e.value?+e.length-e.value.length:null)),l=V((()=>"number"==typeof e.value?null:e.length&&e.value?100-e.value.length/+e.length*100:null));return{inputType:V((()=>e.masked?"password":["bigInteger","integer","float","decimal"].includes(e.type)?"number":"text")),charsRemaining:t,percentageRemaining:l}}}),[["render",function(e,t,l,a,i,n){const o=S("v-icon"),s=S("v-input");return E(),A(s,{autofocus:e.autofocus,"model-value":e.value,nullable:!e.clear,placeholder:e.placeholder,disabled:e.disabled,trim:e.trim,type:e.inputType,class:H(e.font),"db-safe":e.dbSafe,slug:e.slug,min:e.min,max:e.max,step:e.step,"onUpdate:modelValue":t[0]||(t[0]=t=>e.$emit("input",t))},G({_:2},[e.iconLeft?{name:"prepend",fn:D((()=>[I(o,{name:e.iconLeft},null,8,["name"])]))}:void 0,e.percentageRemaining&&e.percentageRemaining<=20||e.iconRight?{name:"append",fn:D((()=>[e.percentageRemaining&&e.percentageRemaining<=20?(E(),P("span",{key:0,class:H(["remaining",{warning:e.percentageRemaining<10,danger:e.percentageRemaining<5}])},U(e.charsRemaining),3)):B("",!0),e.iconRight?(E(),A(o,{key:1,class:H({hide:e.percentageRemaining&&e.percentageRemaining<=20}),name:e.iconRight},null,8,["class","name"])):B("",!0)]))}:void 0]),1032,["autofocus","model-value","nullable","placeholder","disabled","trim","type","class","db-safe","slug","min","max","step"])}],["__scopeId","data-v-2d088068"]]),types:["string","uuid","bigInteger","integer","float","decimal","text"],options:F_(w({props:{fieldData:{type:Object,default:null},value:{type:Object,default:null}},emits:["input"],setup(e,{emit:t}){const l=V({get:()=>e.value||{},set(e){t("input",e)}}),a=[{field:"placeholder",name:"$t:placeholder",meta:{width:"half",interface:"input",options:{placeholder:"$t:enter_a_placeholder"}}},{field:"font",name:"$t:font",type:"string",meta:{width:"half",interface:"select-dropdown",options:{choices:[{text:"$t:sans_serif",value:"sans-serif"},{text:"$t:monospace",value:"monospace"},{text:"$t:serif",value:"serif"}]}},schema:{default_value:"sans-serif"}},{field:"iconLeft",name:"$t:icon_left",type:"string",meta:{width:"half",interface:"select-icon"}},{field:"iconRight",name:"$t:icon_right",type:"string",meta:{width:"half",interface:"select-icon"}},{field:"trim",name:"$t:interfaces.input.trim",type:"boolean",meta:{width:"half",interface:"boolean",options:{label:"$t:interfaces.input.trim_label"}},schema:{default_value:!1}},{field:"masked",name:"$t:interfaces.input.mask",type:"boolean",meta:{width:"half",interface:"boolean",options:{label:"$t:interfaces.input.mask_label"}},schema:{default_value:!1}},{field:"clear",name:"$t:interfaces.input.clear",type:"boolean",meta:{width:"half",interface:"boolean",options:{label:"$t:interfaces.input.clear_label"}},schema:{default_value:!1}},{field:"slug",name:"$t:interfaces.input.slug",type:"boolean",meta:{width:"half",interface:"boolean",options:{label:"$t:interfaces.input.slug_label"}},schema:{default_value:!1}}],i=[{field:"min",name:"$t:interfaces.input.minimum_value",type:"integer",meta:{width:"half",interface:"input"}},{field:"max",name:"$t:interfaces.input.maximum_value",type:"integer",meta:{width:"half",interface:"input"}},{field:"step",name:"$t:interfaces.input.step_interval",type:"integer",meta:{width:"half",interface:"input"},schema:{default_value:1}},{field:"placeholder",name:"$t:placeholder",type:"string",meta:{width:"half",interface:"input",options:{placeholder:"$t:enter_a_placeholder"}}},{field:"iconLeft",name:"$t:icon_left",type:"string",meta:{width:"half",interface:"select-icon"}},{field:"iconRight",name:"$t:icon_right",type:"string",meta:{width:"half",interface:"select-icon"}},{field:"font",name:"$t:font",type:"string",meta:{width:"half",interface:"select-dropdown",options:{choices:[{text:"$t:sans_serif",value:"sans-serif"},{text:"$t:monospace",value:"monospace"},{text:"$t:serif",value:"serif"}]}},schema:{default_value:"sans-serif"}}];return{fields:V((()=>{var t;return["bigInteger","integer","float","decimal"].includes(null==(t=e.fieldData)?void 0:t.type)?i:a})),options:l}}}),[["render",function(e,t,l,a,i,n){const o=S("v-form");return E(),P("div",null,[I(o,{modelValue:e.options,"onUpdate:modelValue":t[0]||(t[0]=t=>e.options=t),fields:e.fields},null,8,["modelValue","fields"])])}]])}),JM=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:XM});const YM=w({props:{value:{type:[String,Number],default:null},url:{type:String,default:null},resultsPath:{type:String,default:null},valuePath:{type:String,default:null},trigger:{type:String,default:"throttle"},rate:{type:[Number,String],default:500},placeholder:{type:String,default:null},iconLeft:{type:String,default:null},iconRight:{type:String,default:null},font:{type:String,default:"sans-serif"},disabled:{type:Boolean,default:!1}},emits:["input"],setup(e,{emit:t}){const{t:l}=x(),a=F([]),i=async t=>{if(!t)return void(a.value=[]);const l=Ce(e.url,{value:t});try{const t=await ze.get(l),i=e.resultsPath?m.exports.get(t.data,e.resultsPath):t.data;if(!1===Array.isArray(i))return void console.warn(`Expected results type of array, "${typeof i}" received`);a.value=i.map((t=>e.valuePath?m.exports.get(t,e.valuePath):t)).filter((e=>e))}catch(i){console.warn(i)}},n="debounce"===e.trigger?m.exports.debounce(i,Number(e.rate)):m.exports.throttle(i,Number(e.rate));return{t:l,results:a,onInput:function(e){o(e),n(e)},emitValue:o};function o(e){t("input",e)}}}),ZM={key:1};var eU=ol({id:"input-autocomplete-api",name:"$t:interfaces.input-autocomplete-api.input-autocomplete-api",description:"$t:interfaces.input-autocomplete-api.description",icon:"find_in_page",component:F_(YM,[["render",function(e,t,l,a,i,n){const o=S("v-notice"),s=S("v-icon"),r=S("v-input"),d=S("v-list-item-content"),c=S("v-list-item"),u=S("v-list"),p=S("v-menu");return e.url?(E(),P("div",ZM,[I(p,{attached:"",disabled:e.disabled},{activator:D((({activate:t,deactivate:l})=>[I(r,{placeholder:e.placeholder,disabled:e.disabled,class:H(e.font),"model-value":e.value,"onUpdate:modelValue":e.onInput,onFocus:t,onBlur:l},G({_:2},[e.iconLeft?{name:"prepend",fn:D((()=>[I(s,{name:e.iconLeft},null,8,["name"])]))}:void 0,e.iconRight?{name:"append",fn:D((()=>[I(s,{name:e.iconRight},null,8,["name"])]))}:void 0]),1032,["placeholder","disabled","class","model-value","onUpdate:modelValue","onFocus","onBlur"])])),default:D((()=>[e.results.length>0?(E(),A(u,{key:0},{default:D((()=>[(E(!0),P(R,null,M(e.results,(t=>(E(),A(c,{key:t,onClick:()=>e.emitValue(t)},{default:D((()=>[I(d,null,{default:D((()=>[N(U(t),1)])),_:2},1024)])),_:2},1032,["onClick"])))),128))])),_:1})):B("",!0)])),_:1},8,["disabled"])])):(E(),A(o,{key:0,type:"warning"},{default:D((()=>[N(U(e.t("one_or_more_options_are_missing")),1)])),_:1}))}],["__scopeId","data-v-10e66f47"]]),types:["string","text"],groups:["standard"],recommendedDisplays:["formatted-value"],options:[{field:"url",name:"$t:url",type:"string",meta:{interface:"input",options:{placeholder:"https://example.com/search?q={{value}}",font:"monospace"},width:"full"}},{field:"resultsPath",name:"$t:interfaces.input-autocomplete-api.results_path",type:"string",meta:{interface:"input",options:{placeholder:"result.predictions",font:"monospace"},width:"half"}},{field:"valuePath",name:"$t:interfaces.input-autocomplete-api.value_path",type:"string",meta:{interface:"input",options:{placeholder:"structured_main_text",font:"monospace"},width:"half"}},{field:"trigger",name:"$t:interfaces.input-autocomplete-api.trigger",type:"string",schema:{default_value:"throttle"},meta:{width:"half",interface:"select-dropdown",options:{choices:[{text:"Throttle",value:"throttle"},{text:"Debounce",value:"debounce"}]}}},{field:"rate",name:"$t:interfaces.input-autocomplete-api.rate",type:"integer",schema:{default_value:500},meta:{width:"half",interface:"input"}},{field:"placeholder",name:"$t:placeholder",meta:{width:"half",interface:"input",options:{placeholder:"$t:enter_a_placeholder"}}},{field:"font",name:"$t:font",type:"string",meta:{width:"half",interface:"select-dropdown",options:{choices:[{text:"$t:sans_serif",value:"sans-serif"},{text:"$t:monospace",value:"monospace"},{text:"$t:serif",value:"serif"}]}},schema:{default_value:"sans-serif"}},{field:"iconLeft",name:"$t:icon_left",type:"string",meta:{width:"half",interface:"select-icon"}},{field:"iconRight",name:"$t:icon_right",type:"string",meta:{width:"half",interface:"select-icon"}}]}),tU=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:eU});function lU(e){switch(e){case"apl":return ul((()=>import("./assets/apl.b61e8e98.js").then((function(e){return e.a}))),["assets/apl.b61e8e98.js","assets/vendor.162b55e9.js","assets/vendor.de5758fd.css"]);case"asciiarmor":return ul((()=>import("./assets/asciiarmor.e1a7923a.js").then((function(e){return e.a}))),["assets/asciiarmor.e1a7923a.js","assets/vendor.162b55e9.js","assets/vendor.de5758fd.css"]);case"asn.1":return ul((()=>import("./assets/asn.1.1d8454d2.js").then((function(e){return e.a}))),["assets/asn.1.1d8454d2.js","assets/vendor.162b55e9.js","assets/vendor.de5758fd.css"]);case"asterisk":return ul((()=>import("./assets/asterisk.f908d70e.js").then((function(e){return e.a}))),["assets/asterisk.f908d70e.js","assets/vendor.162b55e9.js","assets/vendor.de5758fd.css"]);case"brainfuck":return ul((()=>import("./assets/brainfuck.49b37050.js").then((function(e){return e.b}))),["assets/brainfuck.49b37050.js","assets/vendor.162b55e9.js","assets/vendor.de5758fd.css"]);case"clike":return ul((()=>import("./assets/clike.c04bb493.js").then((function(e){return e.c}))),["assets/clike.c04bb493.js","assets/vendor.162b55e9.js","assets/vendor.de5758fd.css"]);case"clojure":return ul((()=>import("./assets/clojure.c7922fd3.js").then((function(e){return e.c}))),["assets/clojure.c7922fd3.js","assets/vendor.162b55e9.js","assets/vendor.de5758fd.css"]);case"cmake":return ul((()=>import("./assets/cmake.55c6435b.js").then((function(e){return e.c}))),["assets/cmake.55c6435b.js","assets/vendor.162b55e9.js","assets/vendor.de5758fd.css"]);case"cobol":return ul((()=>import("./assets/cobol.cfa306e9.js").then((function(e){return e.c}))),["assets/cobol.cfa306e9.js","assets/vendor.162b55e9.js","assets/vendor.de5758fd.css"]);case"coffeescript":return ul((()=>import("./assets/coffeescript.5a63d460.js").then((function(e){return e.c}))),["assets/coffeescript.5a63d460.js","assets/vendor.162b55e9.js","assets/vendor.de5758fd.css"]);case"commonlisp":return ul((()=>import("./assets/commonlisp.21382087.js").then((function(e){return e.c}))),["assets/commonlisp.21382087.js","assets/vendor.162b55e9.js","assets/vendor.de5758fd.css"]);case"crystal":return ul((()=>import("./assets/crystal.62191776.js").then((function(e){return e.c}))),["assets/crystal.62191776.js","assets/vendor.162b55e9.js","assets/vendor.de5758fd.css"]);case"css":return ul((()=>import("./assets/css.1ecfc9b7.js").then((function(e){return e.c}))),["assets/css.1ecfc9b7.js","assets/vendor.162b55e9.js","assets/vendor.de5758fd.css"]);case"cypher":return ul((()=>import("./assets/cypher.643749a5.js").then((function(e){return e.c}))),["assets/cypher.643749a5.js","assets/vendor.162b55e9.js","assets/vendor.de5758fd.css"]);case"d":return ul((()=>import("./assets/d.51946d62.js").then((function(e){return e.d}))),["assets/d.51946d62.js","assets/vendor.162b55e9.js","assets/vendor.de5758fd.css"]);case"dart":return ul((()=>import("./assets/dart.227a1387.js").then((function(e){return e.d}))),["assets/dart.227a1387.js","assets/vendor.162b55e9.js","assets/vendor.de5758fd.css","assets/clike.c04bb493.js"]);case"diff":return ul((()=>import("./assets/diff.9f6590ed.js").then((function(e){return e.d}))),["assets/diff.9f6590ed.js","assets/vendor.162b55e9.js","assets/vendor.de5758fd.css"]);case"django":return ul((()=>import("./assets/django.7cfaea44.js").then((function(e){return e.d}))),["assets/django.7cfaea44.js","assets/vendor.162b55e9.js","assets/vendor.de5758fd.css","assets/htmlmixed.876e155e.js","assets/javascript.81dfece7.js","assets/css.1ecfc9b7.js","assets/overlay.210e58e9.js"]);case"dockerfile":return ul((()=>import("./assets/dockerfile.f447b23e.js").then((function(e){return e.d}))),["assets/dockerfile.f447b23e.js","assets/vendor.162b55e9.js","assets/vendor.de5758fd.css","assets/simple.203b9956.js"]);case"dtd":return ul((()=>import("./assets/dtd.ee90fa71.js").then((function(e){return e.d}))),["assets/dtd.ee90fa71.js","assets/vendor.162b55e9.js","assets/vendor.de5758fd.css"]);case"dylan":return ul((()=>import("./assets/dylan.77db4af8.js").then((function(e){return e.d}))),["assets/dylan.77db4af8.js","assets/vendor.162b55e9.js","assets/vendor.de5758fd.css"]);case"ebnf":return ul((()=>import("./assets/ebnf.d92860df.js").then((function(e){return e.e}))),["assets/ebnf.d92860df.js","assets/vendor.162b55e9.js","assets/vendor.de5758fd.css"]);case"ecl":return ul((()=>import("./assets/ecl.22b7e5c2.js").then((function(e){return e.e}))),["assets/ecl.22b7e5c2.js","assets/vendor.162b55e9.js","assets/vendor.de5758fd.css"]);case"eiffel":return ul((()=>import("./assets/eiffel.62404979.js").then((function(e){return e.e}))),["assets/eiffel.62404979.js","assets/vendor.162b55e9.js","assets/vendor.de5758fd.css"]);case"elm":return ul((()=>import("./assets/elm.d28487a2.js").then((function(e){return e.e}))),["assets/elm.d28487a2.js","assets/vendor.162b55e9.js","assets/vendor.de5758fd.css"]);case"erlang":return ul((()=>import("./assets/erlang.736da790.js").then((function(e){return e.e}))),["assets/erlang.736da790.js","assets/vendor.162b55e9.js","assets/vendor.de5758fd.css"]);case"factor":return ul((()=>import("./assets/factor.5b7539bc.js").then((function(e){return e.f}))),["assets/factor.5b7539bc.js","assets/vendor.162b55e9.js","assets/vendor.de5758fd.css","assets/simple.203b9956.js"]);case"fcl":return ul((()=>import("./assets/fcl.361239b6.js").then((function(e){return e.f}))),["assets/fcl.361239b6.js","assets/vendor.162b55e9.js","assets/vendor.de5758fd.css"]);case"forth":return ul((()=>import("./assets/forth.2e2f760e.js").then((function(e){return e.f}))),["assets/forth.2e2f760e.js","assets/vendor.162b55e9.js","assets/vendor.de5758fd.css"]);case"fortran":return ul((()=>import("./assets/fortran.992afc8b.js").then((function(e){return e.f}))),["assets/fortran.992afc8b.js","assets/vendor.162b55e9.js","assets/vendor.de5758fd.css"]);case"gas":return ul((()=>import("./assets/gas.f0660792.js").then((function(e){return e.g}))),["assets/gas.f0660792.js","assets/vendor.162b55e9.js","assets/vendor.de5758fd.css"]);case"gfm":return ul((()=>import("./assets/gfm.ee352930.js").then((function(e){return e.g}))),["assets/gfm.ee352930.js","assets/vendor.162b55e9.js","assets/vendor.de5758fd.css","assets/overlay.210e58e9.js"]);case"gherkin":return ul((()=>import("./assets/gherkin.feedeb7f.js").then((function(e){return e.g}))),["assets/gherkin.feedeb7f.js","assets/vendor.162b55e9.js","assets/vendor.de5758fd.css"]);case"go":return ul((()=>import("./assets/go.8db31059.js").then((function(e){return e.g}))),["assets/go.8db31059.js","assets/vendor.162b55e9.js","assets/vendor.de5758fd.css"]);case"groovy":return ul((()=>import("./assets/groovy.aac399d4.js").then((function(e){return e.g}))),["assets/groovy.aac399d4.js","assets/vendor.162b55e9.js","assets/vendor.de5758fd.css"]);case"haml":return ul((()=>import("./assets/haml.acd17a89.js").then((function(e){return e.h}))),["assets/haml.acd17a89.js","assets/vendor.162b55e9.js","assets/vendor.de5758fd.css","assets/htmlmixed.876e155e.js","assets/javascript.81dfece7.js","assets/css.1ecfc9b7.js","assets/ruby.d14caaaa.js"]);case"handlebars":return ul((()=>import("./assets/handlebars.b348743e.js").then((function(e){return e.h}))),["assets/handlebars.b348743e.js","assets/vendor.162b55e9.js","assets/vendor.de5758fd.css","assets/simple.203b9956.js","assets/multiplex.23decf85.js"]);case"haskell":return ul((()=>import("./assets/haskell.dc155b74.js").then((function(e){return e.h}))),["assets/haskell.dc155b74.js","assets/vendor.162b55e9.js","assets/vendor.de5758fd.css"]);case"haskell-literate":return ul((()=>import("./assets/haskell-literate.34ce86c2.js").then((function(e){return e.h}))),["assets/haskell-literate.34ce86c2.js","assets/vendor.162b55e9.js","assets/vendor.de5758fd.css","assets/haskell.dc155b74.js"]);case"haxe":return ul((()=>import("./assets/haxe.f7aaacdf.js").then((function(e){return e.h}))),["assets/haxe.f7aaacdf.js","assets/vendor.162b55e9.js","assets/vendor.de5758fd.css"]);case"htmlembedded":return ul((()=>import("./assets/htmlembedded.49f6be42.js").then((function(e){return e.h}))),["assets/htmlembedded.49f6be42.js","assets/vendor.162b55e9.js","assets/vendor.de5758fd.css","assets/htmlmixed.876e155e.js","assets/javascript.81dfece7.js","assets/css.1ecfc9b7.js","assets/multiplex.23decf85.js"]);case"htmlmixed":return ul((()=>import("./assets/htmlmixed.876e155e.js").then((function(e){return e.h}))),["assets/htmlmixed.876e155e.js","assets/vendor.162b55e9.js","assets/vendor.de5758fd.css","assets/javascript.81dfece7.js","assets/css.1ecfc9b7.js"]);case"http":return ul((()=>import("./assets/http.910108e0.js").then((function(e){return e.h}))),["assets/http.910108e0.js","assets/vendor.162b55e9.js","assets/vendor.de5758fd.css"]);case"idl":return ul((()=>import("./assets/idl.4db6652a.js").then((function(e){return e.i}))),["assets/idl.4db6652a.js","assets/vendor.162b55e9.js","assets/vendor.de5758fd.css"]);case"javascript":return ul((()=>import("./assets/javascript.81dfece7.js").then((function(e){return e.j}))),["assets/javascript.81dfece7.js","assets/vendor.162b55e9.js","assets/vendor.de5758fd.css"]);case"jinja2":return ul((()=>import("./assets/jinja2.03d8231f.js").then((function(e){return e.j}))),["assets/jinja2.03d8231f.js","assets/vendor.162b55e9.js","assets/vendor.de5758fd.css"]);case"jsx":return ul((()=>import("./assets/jsx.0e47dc7e.js").then((function(e){return e.j}))),["assets/jsx.0e47dc7e.js","assets/vendor.162b55e9.js","assets/vendor.de5758fd.css","assets/javascript.81dfece7.js"]);case"julia":return ul((()=>import("./assets/julia.812b7478.js").then((function(e){return e.j}))),["assets/julia.812b7478.js","assets/vendor.162b55e9.js","assets/vendor.de5758fd.css"]);case"livescript":return ul((()=>import("./assets/livescript.e96f4bca.js").then((function(e){return e.l}))),["assets/livescript.e96f4bca.js","assets/vendor.162b55e9.js","assets/vendor.de5758fd.css"]);case"lua":return ul((()=>import("./assets/lua.a1a0cfdf.js").then((function(e){return e.l}))),["assets/lua.a1a0cfdf.js","assets/vendor.162b55e9.js","assets/vendor.de5758fd.css"]);case"markdown":return ul((()=>import("./assets/vendor.162b55e9.js").then((function(e){return e.a}))),["assets/vendor.162b55e9.js","assets/vendor.de5758fd.css"]);case"mathematica":return ul((()=>import("./assets/mathematica.1b29a94f.js").then((function(e){return e.m}))),["assets/mathematica.1b29a94f.js","assets/vendor.162b55e9.js","assets/vendor.de5758fd.css"]);case"mbox":return ul((()=>import("./assets/mbox.3162c6c9.js").then((function(e){return e.m}))),["assets/mbox.3162c6c9.js","assets/vendor.162b55e9.js","assets/vendor.de5758fd.css"]);case"mirc":return ul((()=>import("./assets/mirc.df3716f3.js").then((function(e){return e.m}))),["assets/mirc.df3716f3.js","assets/vendor.162b55e9.js","assets/vendor.de5758fd.css"]);case"mllike":return ul((()=>import("./assets/mllike.dd48ab92.js").then((function(e){return e.m}))),["assets/mllike.dd48ab92.js","assets/vendor.162b55e9.js","assets/vendor.de5758fd.css"]);case"modelica":return ul((()=>import("./assets/modelica.35d40b2b.js").then((function(e){return e.m}))),["assets/modelica.35d40b2b.js","assets/vendor.162b55e9.js","assets/vendor.de5758fd.css"]);case"mscgen":return ul((()=>import("./assets/mscgen.52f75d33.js").then((function(e){return e.m}))),["assets/mscgen.52f75d33.js","assets/vendor.162b55e9.js","assets/vendor.de5758fd.css"]);case"mumps":return ul((()=>import("./assets/mumps.9c84a328.js").then((function(e){return e.m}))),["assets/mumps.9c84a328.js","assets/vendor.162b55e9.js","assets/vendor.de5758fd.css"]);case"nginx":return ul((()=>import("./assets/nginx.2d48e566.js").then((function(e){return e.n}))),["assets/nginx.2d48e566.js","assets/vendor.162b55e9.js","assets/vendor.de5758fd.css"]);case"nsis":return ul((()=>import("./assets/nsis.51b33ffc.js").then((function(e){return e.n}))),["assets/nsis.51b33ffc.js","assets/vendor.162b55e9.js","assets/vendor.de5758fd.css","assets/simple.203b9956.js"]);case"ntriples":return ul((()=>import("./assets/ntriples.ebedd88a.js").then((function(e){return e.n}))),["assets/ntriples.ebedd88a.js","assets/vendor.162b55e9.js","assets/vendor.de5758fd.css"]);case"octave":return ul((()=>import("./assets/octave.15645ab2.js").then((function(e){return e.o}))),["assets/octave.15645ab2.js","assets/vendor.162b55e9.js","assets/vendor.de5758fd.css"]);case"oz":return ul((()=>import("./assets/oz.73c95c37.js").then((function(e){return e.o}))),["assets/oz.73c95c37.js","assets/vendor.162b55e9.js","assets/vendor.de5758fd.css"]);case"pascal":return ul((()=>import("./assets/pascal.944438fa.js").then((function(e){return e.p}))),["assets/pascal.944438fa.js","assets/vendor.162b55e9.js","assets/vendor.de5758fd.css"]);case"pegjs":return ul((()=>import("./assets/pegjs.65c44544.js").then((function(e){return e.p}))),["assets/pegjs.65c44544.js","assets/vendor.162b55e9.js","assets/vendor.de5758fd.css","assets/javascript.81dfece7.js"]);case"perl":return ul((()=>import("./assets/perl.439f3bae.js").then((function(e){return e.p}))),["assets/perl.439f3bae.js","assets/vendor.162b55e9.js","assets/vendor.de5758fd.css"]);case"php":return ul((()=>import("./assets/php.5521c91a.js").then((function(e){return e.p}))),["assets/php.5521c91a.js","assets/vendor.162b55e9.js","assets/vendor.de5758fd.css","assets/htmlmixed.876e155e.js","assets/javascript.81dfece7.js","assets/css.1ecfc9b7.js","assets/clike.c04bb493.js"]);case"pig":return ul((()=>import("./assets/pig.fa59b71b.js").then((function(e){return e.p}))),["assets/pig.fa59b71b.js","assets/vendor.162b55e9.js","assets/vendor.de5758fd.css"]);case"powershell":return ul((()=>import("./assets/powershell.32c92a25.js").then((function(e){return e.p}))),["assets/powershell.32c92a25.js","assets/vendor.162b55e9.js","assets/vendor.de5758fd.css"]);case"properties":return ul((()=>import("./assets/properties.258f258c.js").then((function(e){return e.p}))),["assets/properties.258f258c.js","assets/vendor.162b55e9.js","assets/vendor.de5758fd.css"]);case"protobuf":return ul((()=>import("./assets/protobuf.5d37f905.js").then((function(e){return e.p}))),["assets/protobuf.5d37f905.js","assets/vendor.162b55e9.js","assets/vendor.de5758fd.css"]);case"pug":return ul((()=>import("./assets/pug.f4272ad7.js").then((function(e){return e.p}))),["assets/pug.f4272ad7.js","assets/vendor.162b55e9.js","assets/vendor.de5758fd.css","assets/javascript.81dfece7.js","assets/css.1ecfc9b7.js","assets/htmlmixed.876e155e.js"]);case"puppet":return ul((()=>import("./assets/puppet.568c3b8f.js").then((function(e){return e.p}))),["assets/puppet.568c3b8f.js","assets/vendor.162b55e9.js","assets/vendor.de5758fd.css"]);case"python":return ul((()=>import("./assets/python.7eeb0e26.js").then((function(e){return e.p}))),["assets/python.7eeb0e26.js","assets/vendor.162b55e9.js","assets/vendor.de5758fd.css"]);case"q":return ul((()=>import("./assets/q.9eabb0b5.js").then((function(e){return e.q}))),["assets/q.9eabb0b5.js","assets/vendor.162b55e9.js","assets/vendor.de5758fd.css"]);case"r":return ul((()=>import("./assets/r.618c9876.js").then((function(e){return e.r}))),["assets/r.618c9876.js","assets/vendor.162b55e9.js","assets/vendor.de5758fd.css"]);case"rpm":return ul((()=>import("./assets/rpm.aabea0ac.js").then((function(e){return e.r}))),["assets/rpm.aabea0ac.js","assets/vendor.162b55e9.js","assets/vendor.de5758fd.css"]);case"rst":return ul((()=>import("./assets/rst.b6bc4638.js").then((function(e){return e.r}))),["assets/rst.b6bc4638.js","assets/vendor.162b55e9.js","assets/vendor.de5758fd.css","assets/python.7eeb0e26.js","assets/stex.26183c37.js","assets/overlay.210e58e9.js"]);case"ruby":return ul((()=>import("./assets/ruby.d14caaaa.js").then((function(e){return e.r}))),["assets/ruby.d14caaaa.js","assets/vendor.162b55e9.js","assets/vendor.de5758fd.css"]);case"rust":return ul((()=>import("./assets/rust.fb6d57ec.js").then((function(e){return e.r}))),["assets/rust.fb6d57ec.js","assets/vendor.162b55e9.js","assets/vendor.de5758fd.css","assets/simple.203b9956.js"]);case"sas":return ul((()=>import("./assets/sas.f242f5c5.js").then((function(e){return e.s}))),["assets/sas.f242f5c5.js","assets/vendor.162b55e9.js","assets/vendor.de5758fd.css"]);case"sass":return ul((()=>import("./assets/sass.3268aa78.js").then((function(e){return e.s}))),["assets/sass.3268aa78.js","assets/vendor.162b55e9.js","assets/vendor.de5758fd.css","assets/css.1ecfc9b7.js"]);case"scheme":return ul((()=>import("./assets/scheme.44b753a8.js").then((function(e){return e.s}))),["assets/scheme.44b753a8.js","assets/vendor.162b55e9.js","assets/vendor.de5758fd.css"]);case"shell":return ul((()=>import("./assets/shell.f03d268d.js").then((function(e){return e.s}))),["assets/shell.f03d268d.js","assets/vendor.162b55e9.js","assets/vendor.de5758fd.css"]);case"sieve":return ul((()=>import("./assets/sieve.c770ebc7.js").then((function(e){return e.s}))),["assets/sieve.c770ebc7.js","assets/vendor.162b55e9.js","assets/vendor.de5758fd.css"]);case"slim":return ul((()=>import("./assets/slim.09d77b66.js").then((function(e){return e.s}))),["assets/slim.09d77b66.js","assets/vendor.162b55e9.js","assets/vendor.de5758fd.css","assets/htmlmixed.876e155e.js","assets/javascript.81dfece7.js","assets/css.1ecfc9b7.js","assets/ruby.d14caaaa.js"]);case"smalltalk":return ul((()=>import("./assets/smalltalk.00da19cd.js").then((function(e){return e.s}))),["assets/smalltalk.00da19cd.js","assets/vendor.162b55e9.js","assets/vendor.de5758fd.css"]);case"smarty":return ul((()=>import("./assets/smarty.0fc95257.js").then((function(e){return e.s}))),["assets/smarty.0fc95257.js","assets/vendor.162b55e9.js","assets/vendor.de5758fd.css"]);case"solr":return ul((()=>import("./assets/solr.ab8c8267.js").then((function(e){return e.s}))),["assets/solr.ab8c8267.js","assets/vendor.162b55e9.js","assets/vendor.de5758fd.css"]);case"soy":return ul((()=>import("./assets/soy.653aa02e.js").then((function(e){return e.s}))),["assets/soy.653aa02e.js","assets/vendor.162b55e9.js","assets/vendor.de5758fd.css","assets/htmlmixed.876e155e.js","assets/javascript.81dfece7.js","assets/css.1ecfc9b7.js"]);case"sparql":return ul((()=>import("./assets/sparql.e2a6f435.js").then((function(e){return e.s}))),["assets/sparql.e2a6f435.js","assets/vendor.162b55e9.js","assets/vendor.de5758fd.css"]);case"spreadsheet":return ul((()=>import("./assets/spreadsheet.d3dcf4ef.js").then((function(e){return e.s}))),["assets/spreadsheet.d3dcf4ef.js","assets/vendor.162b55e9.js","assets/vendor.de5758fd.css"]);case"sql":return ul((()=>import("./assets/sql.b2978c68.js").then((function(e){return e.s}))),["assets/sql.b2978c68.js","assets/vendor.162b55e9.js","assets/vendor.de5758fd.css"]);case"stex":return ul((()=>import("./assets/stex.26183c37.js").then((function(e){return e.s}))),["assets/stex.26183c37.js","assets/vendor.162b55e9.js","assets/vendor.de5758fd.css"]);case"stylus":return ul((()=>import("./assets/stylus.dbe4fa45.js").then((function(e){return e.s}))),["assets/stylus.dbe4fa45.js","assets/vendor.162b55e9.js","assets/vendor.de5758fd.css"]);case"swift":return ul((()=>import("./assets/swift.c7521069.js").then((function(e){return e.s}))),["assets/swift.c7521069.js","assets/vendor.162b55e9.js","assets/vendor.de5758fd.css"]);case"tcl":return ul((()=>import("./assets/tcl.c8755c25.js").then((function(e){return e.t}))),["assets/tcl.c8755c25.js","assets/vendor.162b55e9.js","assets/vendor.de5758fd.css"]);case"textile":return ul((()=>import("./assets/textile.bf3d1200.js").then((function(e){return e.t}))),["assets/textile.bf3d1200.js","assets/vendor.162b55e9.js","assets/vendor.de5758fd.css"]);case"tiddlywiki":return ul((()=>import("./assets/tiddlywiki.b2d1a9ba.js").then((function(e){return e.t}))),["assets/tiddlywiki.b2d1a9ba.js","assets/vendor.162b55e9.js","assets/vendor.de5758fd.css"]);case"tiki":return ul((()=>import("./assets/tiki.a09d40dc.js").then((function(e){return e.t}))),["assets/tiki.a09d40dc.js","assets/vendor.162b55e9.js","assets/vendor.de5758fd.css"]);case"toml":return ul((()=>import("./assets/toml.9cf6abe4.js").then((function(e){return e.t}))),["assets/toml.9cf6abe4.js","assets/vendor.162b55e9.js","assets/vendor.de5758fd.css"]);case"tornado":return ul((()=>import("./assets/tornado.fafce983.js").then((function(e){return e.t}))),["assets/tornado.fafce983.js","assets/vendor.162b55e9.js","assets/vendor.de5758fd.css","assets/htmlmixed.876e155e.js","assets/javascript.81dfece7.js","assets/css.1ecfc9b7.js","assets/overlay.210e58e9.js"]);case"troff":return ul((()=>import("./assets/troff.e1f1ea4b.js").then((function(e){return e.t}))),["assets/troff.e1f1ea4b.js","assets/vendor.162b55e9.js","assets/vendor.de5758fd.css"]);case"ttcn":return ul((()=>import("./assets/ttcn.4e5a4d7d.js").then((function(e){return e.t}))),["assets/ttcn.4e5a4d7d.js","assets/vendor.162b55e9.js","assets/vendor.de5758fd.css"]);case"ttcn-cfg":return ul((()=>import("./assets/ttcn-cfg.0644f474.js").then((function(e){return e.t}))),["assets/ttcn-cfg.0644f474.js","assets/vendor.162b55e9.js","assets/vendor.de5758fd.css"]);case"turtle":return ul((()=>import("./assets/turtle.9f376d11.js").then((function(e){return e.t}))),["assets/turtle.9f376d11.js","assets/vendor.162b55e9.js","assets/vendor.de5758fd.css"]);case"twig":return ul((()=>import("./assets/twig.ccb384ba.js").then((function(e){return e.t}))),["assets/twig.ccb384ba.js","assets/vendor.162b55e9.js","assets/vendor.de5758fd.css","assets/multiplex.23decf85.js"]);case"vb":return ul((()=>import("./assets/vb.d92ea443.js").then((function(e){return e.v}))),["assets/vb.d92ea443.js","assets/vendor.162b55e9.js","assets/vendor.de5758fd.css"]);case"vbscript":return ul((()=>import("./assets/vbscript.29c2f3a9.js").then((function(e){return e.v}))),["assets/vbscript.29c2f3a9.js","assets/vendor.162b55e9.js","assets/vendor.de5758fd.css"]);case"velocity":return ul((()=>import("./assets/velocity.d898c024.js").then((function(e){return e.v}))),["assets/velocity.d898c024.js","assets/vendor.162b55e9.js","assets/vendor.de5758fd.css"]);case"verilog":return ul((()=>import("./assets/verilog.1d5033da.js").then((function(e){return e.v}))),["assets/verilog.1d5033da.js","assets/vendor.162b55e9.js","assets/vendor.de5758fd.css"]);case"vhdl":return ul((()=>import("./assets/vhdl.15da4436.js").then((function(e){return e.v}))),["assets/vhdl.15da4436.js","assets/vendor.162b55e9.js","assets/vendor.de5758fd.css"]);case"vue":return ul((()=>import("./assets/vue.0b090c59.js").then((function(e){return e.v}))),["assets/vue.0b090c59.js","assets/vendor.162b55e9.js","assets/vendor.de5758fd.css","assets/overlay.210e58e9.js","assets/javascript.81dfece7.js","assets/coffeescript.5a63d460.js","assets/css.1ecfc9b7.js","assets/sass.3268aa78.js","assets/stylus.dbe4fa45.js","assets/pug.f4272ad7.js","assets/htmlmixed.876e155e.js","assets/handlebars.b348743e.js","assets/simple.203b9956.js","assets/multiplex.23decf85.js"]);case"wast":return ul((()=>import("./assets/wast.47090908.js").then((function(e){return e.w}))),["assets/wast.47090908.js","assets/vendor.162b55e9.js","assets/vendor.de5758fd.css","assets/simple.203b9956.js"]);case"webidl":return ul((()=>import("./assets/webidl.5a2e7b02.js").then((function(e){return e.w}))),["assets/webidl.5a2e7b02.js","assets/vendor.162b55e9.js","assets/vendor.de5758fd.css"]);case"xml":return ul((()=>import("./assets/vendor.162b55e9.js").then((function(e){return e.x}))),["assets/vendor.162b55e9.js","assets/vendor.de5758fd.css"]);case"xquery":return ul((()=>import("./assets/xquery.52d1bfd8.js").then((function(e){return e.x}))),["assets/xquery.52d1bfd8.js","assets/vendor.162b55e9.js","assets/vendor.de5758fd.css"]);case"yacas":return ul((()=>import("./assets/yacas.f88b4c63.js").then((function(e){return e.y}))),["assets/yacas.f88b4c63.js","assets/vendor.162b55e9.js","assets/vendor.de5758fd.css"]);case"yaml":return ul((()=>import("./assets/yaml.9db6cc42.js").then((function(e){return e.y}))),["assets/yaml.9db6cc42.js","assets/vendor.162b55e9.js","assets/vendor.de5758fd.css"]);case"yaml-frontmatter":return ul((()=>import("./assets/yaml-frontmatter.290e5577.js").then((function(e){return e.y}))),["assets/yaml-frontmatter.290e5577.js","assets/vendor.162b55e9.js","assets/vendor.de5758fd.css","assets/yaml.9db6cc42.js"]);case"z80":return ul((()=>import("./assets/z80.3c2e6d02.js").then((function(e){return e.z}))),["assets/z80.3c2e6d02.js","assets/vendor.162b55e9.js","assets/vendor.de5758fd.css"]);default:return Promise.resolve()}}const aU=w({props:{disabled:{type:Boolean,default:!1},value:{type:[String,Object,Array],default:null},altOptions:{type:Object,default:null},template:{type:String,default:null},lineNumber:{type:Boolean,default:!0},placeholder:{type:String,default:null},language:{type:String,default:"plaintext"},type:{type:String,default:null}},emits:["input"],setup(e,{emit:t}){const{t:l}=x(),a=F(null);let i;ee((async()=>{a.value&&(await d(p.value),await lU(p.value.mode),i=Ot(a.value,r(s({},p.value),{value:n.value})),i.setOption("mode",{name:"javascript "}),await o(),i.on("change",((l,{origin:a})=>{if("setValue"===a)return;const i=l.getValue();if("json"===e.type){if(0===i.length)return t("input",null);try{t("input",JSON.parse(i))}catch{}}else t("input",i)})))}));const n=V((()=>null===e.value?"":"object"==typeof e.value?JSON.stringify(e.value,null,4):e.value));async function o(){if(i){const t=e.language.toLowerCase();if("json"===t){await ul((()=>import("./assets/javascript.81dfece7.js").then((function(e){return e.j}))),["assets/javascript.81dfece7.js","assets/vendor.162b55e9.js","assets/vendor.de5758fd.css"]);const e=await ul((()=>import("./assets/jsonlint.47937558.js").then((function(e){return e.j}))),[]);i.setOption("mode",{name:"javascript",json:!0}),Ot.registerHelper("lint","json",(t=>{const l=[];if(e.parser.parseError=(e,t)=>{const a=t.loc;l.push({from:Ot.Pos(a.first_line-1,a.first_column),to:Ot.Pos(a.last_line-1,a.last_column),message:e})},t.length>0)try{e.parse(t)}catch{}return l}))}else"plaintext"===t?i.setOption("mode",{name:"plaintext"}):(await lU(t),i.setOption("mode",{name:t}))}}async function d(e){const t=[];e&&e.size>0&&(e.styleActiveLine&&t.push(ul((()=>import("./assets/active-line.54bf9884.js").then((function(e){return e.a}))),["assets/active-line.54bf9884.js","assets/vendor.162b55e9.js","assets/vendor.de5758fd.css"])),e.markSelection&&t.push(ul((()=>import("./assets/mark-selection.2d4fe000.js").then((function(e){return e.m}))),["assets/mark-selection.2d4fe000.js","assets/vendor.162b55e9.js","assets/vendor.de5758fd.css"])),e.highlightSelectionMatches&&t.push(ul((()=>import("./assets/match-highlighter.1b6fbf95.js").then((function(e){return e.m}))),["assets/match-highlighter.1b6fbf95.js","assets/vendor.162b55e9.js","assets/vendor.de5758fd.css"])),e.autoRefresh&&t.push(ul((()=>import("./assets/autorefresh.363d5074.js").then((function(e){return e.a}))),["assets/autorefresh.363d5074.js","assets/vendor.162b55e9.js","assets/vendor.de5758fd.css"])),e.matchBrackets&&t.push(ul((()=>import("./assets/vendor.162b55e9.js").then((function(e){return e.m}))),["assets/vendor.162b55e9.js","assets/vendor.de5758fd.css"])),(e.hintOptions||e.showHint)&&(t.push(ul((()=>import("./assets/show-hint.a4fafd36.js").then((function(e){return e.s}))),["assets/show-hint.a4fafd36.js","assets/vendor.162b55e9.js","assets/vendor.de5758fd.css"])),t.push(ul((()=>Promise.resolve({})),["assets/show-hint.a1d6f238.css"])),t.push(ul((()=>import("./assets/javascript-hint.11deed5c.js").then((function(e){return e.j}))),["assets/javascript-hint.11deed5c.js","assets/vendor.162b55e9.js","assets/vendor.de5758fd.css"]))),await Promise.all(t))}O((()=>e.language),(()=>{o()})),O(n,(()=>{(null==i?void 0:i.getValue())!==n.value&&(null==i||i.setValue(n.value||""))}));const c=V((()=>i?i.lineCount():0)),u={tabSize:4,autoRefresh:!0,indentUnit:4,styleActiveLine:!0,highlightSelectionMatches:{showToken:/\w/,annotateScrollbar:!0,delay:100},hintOptions:{completeSingle:!0,hint:()=>{}},matchBrackets:!0,showCursorWhenSelecting:!0,theme:"default",extraKeys:{Ctrl:"autocomplete"},lint:!0,gutters:["CodeMirror-lint-markers"]},p=V((()=>Object.assign({},u,{lineNumbers:e.lineNumber,readOnly:!1,mode:e.language,placeholder:e.placeholder},e.altOptions?e.altOptions:{})));return O((()=>e.disabled),(e=>{null==i||i.setOption("readOnly",!!e&&"nocursor")}),{immediate:!0}),O((()=>e.altOptions),(async e=>{if(e&&0!==e.size){await d(e);for(const t in e)null==i||i.setOption(t,e[t])}})),O((()=>e.lineNumber),(e=>{null==i||i.setOption("lineNumbers",e)})),{t:l,cmOptions:p,lineCount:c,codemirrorEl:a,stringValue:n,fillTemplate:function(){if("json"===e.type)try{t("input",JSON.parse(e.template))}finally{}else t("input",e.template)},formatTitle:vV}}}),iU={ref:"codemirrorEl"};var nU=F_(aU,[["render",function(e,t,l,a,i,n){const o=S("v-icon"),s=S("v-button"),r=q("tooltip");return E(),P("div",{class:H(["input-code codemirror-custom-styles",{disabled:e.disabled}])},[j("div",iU,null,512),e.template?z((E(),A(s,{key:0,small:"",icon:"",secondary:"",onClick:e.fillTemplate},{default:D((()=>[I(o,{name:"playlist_add"})])),_:1},8,["onClick"])),[[r,e.t("fill_template"),void 0,{left:!0}]]):B("",!0)],2)}],["__scopeId","data-v-25e0f268"]]);const oU=Ot.modeInfo.reduce(((e,t)=>["JSON","JSON-LD"].includes(t.name)?(e.JSON="JSON",e):(null!=t.mode&&"null"!=t.mode||(t.mode="plaintext"),t.mode in e?e[t.mode]+=" / "+t.name:e[t.mode]=t.name,e)),{});var sU=ol({id:"input-code",name:"$t:interfaces.input-code.code",description:"$t:interfaces.input-code.description",icon:"code",component:nU,types:["string","json","text","geometry"],options:[{field:"language",name:"$t:language",type:"string",meta:{width:"half",interface:"select-dropdown",options:{choices:Object.entries(oU).map((([e,t])=>({text:t,value:e})))}}},{field:"lineNumber",name:"$t:interfaces.input-code.line_number",type:"boolean",meta:{width:"half",interface:"boolean"},schema:{default_value:!1}},{field:"template",name:"$t:template",type:"text",meta:{width:"full",interface:"input-code",options:{placeholder:"$t:interfaces.input-code.placeholder"}},schema:{default_value:null}}]}),rU=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:sU});var dU=ol({id:"input-hash",name:"$t:interfaces.input-hash.hash",description:"$t:interfaces.input-hash.description",icon:"fingerprint",component:F_(w({props:{value:{type:String,default:null},disabled:{type:Boolean,default:!1},placeholder:{type:String,default:null},masked:{type:Boolean,default:!1}},emits:["input"],setup(e,{emit:t}){const{t:l}=x(),a=F(!1),i=F(null),n=V((()=>a.value?l("value_hashed"):e.placeholder));return O((()=>e.value),(()=>{a.value=!!(e.value&&e.value.length>0)}),{immediate:!0}),{internalPlaceholder:n,isHashed:a,localValue:i,emitValue:function(e){t("input",e),i.value=e}}}}),[["render",function(e,t,l,a,i,n){const o=S("v-icon"),s=S("v-input");return E(),A(s,{placeholder:e.internalPlaceholder,disabled:e.disabled,type:e.masked?"password":"text","model-value":e.localValue,class:H({hashed:e.isHashed&&!e.localValue}),"onUpdate:modelValue":e.emitValue},{append:D((()=>[I(o,{class:"lock",name:e.isHashed&&!e.localValue?"lock":"lock_open"},null,8,["name"])])),_:1},8,["placeholder","disabled","type","model-value","class","onUpdate:modelValue"])}],["__scopeId","data-v-f5661292"]]),types:["hash"],options:[{field:"placeholder",name:"$t:placeholder",type:"string",meta:{width:"half",interface:"input",options:{placeholder:"$t:enter_a_placeholder"}}},{field:"masked",name:"$t:interfaces.input-hash.masked",type:"boolean",meta:{width:"half",interface:"boolean",options:{label:"$t:interfaces.input-hash.masked_label"}},schema:{default_value:!1}}]}),cU=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:dU});var uU=ol({id:"input-multiline",name:"$t:interfaces.input-multiline.textarea",description:"$t:interfaces.input-multiline.description",icon:"text_fields",component:F_(w({props:{value:{type:String,default:null},clear:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},placeholder:{type:String,default:null},trim:{type:Boolean,default:!0},font:{type:String,default:"sans-serif"}},emits:["input"]}),[["render",function(e,t,l,a,i,n){const o=S("v-textarea");return E(),A(o,Z({placeholder:e.placeholder,trim:e.trim},{"model-value":e.value,nullable:!e.clear,disabled:e.disabled,class:e.font,"onUpdate:modelValue":t[0]||(t[0]=t=>e.$emit("input",t))}),null,16,["model-value","nullable","disabled","class"])}],["__scopeId","data-v-9aaedf94"]]),types:["text"],options:[{field:"placeholder",name:"$t:placeholder",type:"string",meta:{width:"full",interface:"input",options:{placeholder:"$t:enter_a_placeholder"}}},{field:"trim",name:"$t:interfaces.input.trim",type:"boolean",meta:{width:"half",interface:"boolean",options:{label:"$t:interfaces.input.trim_label"}},schema:{default_value:!1}},{field:"font",name:"$t:font",type:"string",meta:{width:"half",interface:"select-dropdown",options:{choices:[{text:"$t:sans_serif",value:"sans-serif"},{text:"$t:monospace",value:"monospace"},{text:"$t:serif",value:"serif"}]}},schema:{default_value:"sans-serif"}},{field:"clear",name:"$t:interfaces.input.clear",type:"boolean",meta:{width:"half",interface:"boolean",options:{label:"$t:interfaces.input.clear_label"}},schema:{default_value:!1}}]}),pU=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:uU});var mU=ol({id:"input-rich-text-html",name:"$t:interfaces.input-rich-text-html.wysiwyg",description:"$t:interfaces.input-rich-text-html.description",icon:"format_quote",component:Ee((()=>ul((()=>import("./assets/input-rich-text-html.76a51190.js")),["assets/input-rich-text-html.76a51190.js","assets/input-rich-text-html.e8d4bd2f.css","assets/vendor.162b55e9.js","assets/vendor.de5758fd.css","assets/use-sync.6d51d5e5.js"]))),types:["text"],options:[{field:"toolbar",name:"$t:interfaces.input-rich-text-html.toolbar",type:"json",schema:{default_value:["bold","italic","underline","removeformat","customLink","bullist","numlist","blockquote","h1","h2","h3","customImage","customMedia","hr","code","fullscreen"]},meta:{width:"half",interface:"select-multiple-dropdown",options:{choices:[{value:"aligncenter",text:"$t:wysiwyg_options.aligncenter"},{value:"alignjustify",text:"$t:wysiwyg_options.alignjustify"},{value:"alignleft",text:"$t:wysiwyg_options.alignleft"},{value:"alignnone",text:"$t:wysiwyg_options.alignnone"},{value:"alignright",text:"$t:wysiwyg_options.alignright"},{value:"forecolor",text:"$t:wysiwyg_options.forecolor"},{value:"backcolor",text:"$t:wysiwyg_options.backcolor"},{value:"bold",text:"$t:wysiwyg_options.bold"},{value:"italic",text:"$t:wysiwyg_options.italic"},{value:"underline",text:"$t:wysiwyg_options.underline"},{value:"strikethrough",text:"$t:wysiwyg_options.strikethrough"},{value:"subscript",text:"$t:wysiwyg_options.subscript"},{value:"superscript",text:"$t:wysiwyg_options.superscript"},{value:"blockquote",text:"$t:wysiwyg_options.blockquote"},{value:"bullist",text:"$t:wysiwyg_options.bullist"},{value:"numlist",text:"$t:wysiwyg_options.numlist"},{value:"hr",text:"$t:wysiwyg_options.hr"},{value:"customLink",text:"$t:wysiwyg_options.link"},{value:"unlink",text:"$t:wysiwyg_options.unlink"},{value:"customMedia",text:"$t:wysiwyg_options.media"},{value:"customImage",text:"$t:wysiwyg_options.image"},{value:"copy",text:"$t:wysiwyg_options.copy"},{value:"cut",text:"$t:wysiwyg_options.cut"},{value:"paste",text:"$t:wysiwyg_options.paste"},{value:"h1",text:"$t:wysiwyg_options.h1"},{value:"h2",text:"$t:wysiwyg_options.h2"},{value:"h3",text:"$t:wysiwyg_options.h3"},{value:"h4",text:"$t:wysiwyg_options.h4"},{value:"h5",text:"$t:wysiwyg_options.h5"},{value:"h6",text:"$t:wysiwyg_options.h6"},{value:"fontselect",text:"$t:wysiwyg_options.fontselect"},{value:"fontsizeselect",text:"$t:wysiwyg_options.fontsizeselect"},{value:"indent",text:"$t:wysiwyg_options.indent"},{value:"outdent",text:"$t:wysiwyg_options.outdent"},{value:"undo",text:"$t:wysiwyg_options.undo"},{value:"redo",text:"$t:wysiwyg_options.redo"},{value:"remove",text:"$t:wysiwyg_options.remove"},{value:"removeformat",text:"$t:wysiwyg_options.removeformat"},{value:"selectall",text:"$t:wysiwyg_options.selectall"},{value:"table",text:"$t:wysiwyg_options.table"},{value:"visualaid",text:"$t:wysiwyg_options.visualaid"},{value:"code",text:"$t:wysiwyg_options.source_code"},{value:"fullscreen",text:"$t:wysiwyg_options.fullscreen"},{value:"ltr rtl",text:"$t:wysiwyg_options.directionality"}]}}},{field:"font",name:"$t:font",type:"string",meta:{width:"half",interface:"select-dropdown",options:{choices:[{text:"$t:sans_serif",value:"sans-serif"},{text:"$t:monospace",value:"monospace"},{text:"$t:serif",value:"serif"}]}},schema:{default_value:"sans-serif"}},{field:"customFormats",name:"$t:interfaces.input-rich-text-html.custom_formats",type:"json",meta:{interface:"code",options:{language:"json",template:JSON.stringify([{title:"My Custom Format",inline:"span",classes:"custom-wrapper",styles:{color:"#00ff00","font-size":"20px"},attributes:{title:"My Custom Wrapper"}}],null,4)}}},{field:"tinymceOverrides",name:"$t:interfaces.input-rich-text-html.options_override",type:"json",meta:{interface:"code",options:{language:"json"}}},{field:"imageToken",name:"$t:interfaces.input-rich-text-md.imageToken",type:"string",meta:{note:"$t:interfaces.input-rich-text-md.imageToken_label",width:"full",interface:"input"}}]}),fU=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:mU});const vU={heading(e,{cursorTo:t},l){const a=(null==l?void 0:l.level)||3;let i=e;const n=t,o="#".repeat(a)+" ";return e.startsWith(o)?i=e.substring(o.length):(i=`${o}${e}`,n.ch=n.ch+o.length),{newSelection:i,newCursor:n}},bold(e,{cursorTo:t}){let l=e;const a=t;return e.startsWith("**")&&e.endsWith("**")?l=e.substring(2,e.length-2):(l=`**${e}**`,a.ch=a.ch+2),{newSelection:l,newCursor:a}},italic(e,{cursorTo:t}){let l=e;const a=t;return e.startsWith("*")&&e.endsWith("*")?l=e.substring(1,e.length-1):(l=`*${e}*`,a.ch=a.ch+1),{newSelection:l,newCursor:a}},strikethrough(e,{cursorTo:t}){let l=e;const a=t;return e.startsWith("~~")&&e.endsWith("~~")?l=e.substring(2,e.length-2):(l=`~~${e}~~`,a.ch=a.ch+2),{newSelection:l,newCursor:a}},listBulleted(e,{cursorTo:t}){let l=e;const a=t,i=e.split("\n");return l=i.every((e=>e.startsWith("- ")))?i.map((e=>e.substring(2))).join("\n"):i.map((e=>`- ${e}`)).join("\n"),e||(a.ch=a.ch+2),{newSelection:l,newCursor:a}},listNumbered(e,{cursorTo:t}){let l=e;const a=t,i=e.split("\n");return l=i.every(((e,t)=>e.startsWith(`${t+1}.`)))?i.map((e=>e.substring(3))).join("\n"):i.map(((e,t)=>`${t+1}. ${e}`)).join("\n"),e||(a.ch=a.ch+2),{newSelection:l,newCursor:a}},blockquote(e,{cursorTo:t}){let l=e;const a=t,i=e.split("\n");return l=i.every((e=>e.startsWith("> ")))?i.map((e=>e.substring(2))).join("\n"):i.map((e=>`> ${e}`)).join("\n"),e||(a.ch=a.ch+2),{newSelection:l,newCursor:a}},code(e,{cursorTo:t}){if(e.includes("\n")){let l=e;const a=t;return e.startsWith("```")&&e.endsWith("```")?l=e.substring(3,e.length-3):(l="```\n"+l+"\n```",a.line=a.line+1),{newSelection:l,newCursor:a}}{let l=e;const a=t;return e.startsWith("`")&&e.endsWith("`")?l=e.substring(1,e.length-1):(l=`\`${e}\``,a.ch=a.ch+1),{newSelection:l,newCursor:a}}},link(e,{cursorFrom:t,cursorTo:l}){let a=e;const i=l;let n;return e.endsWith("](url)")?a=e.substring(1,e.length-6):e.startsWith("http")?(a=`[](${e})`,i.ch=t.ch+1):(a=`[${e}](url)`,e?n={from:r(s({},m.exports.cloneDeep(i)),{ch:i.ch+3}),to:r(s({},m.exports.cloneDeep(i)),{ch:i.ch+6})}:i.ch=t.ch+1),{newSelection:a,newCursor:i,highlight:n}},table(e,t,l){if(!l)return{newSelection:e,newCursor:t.cursorFrom};let a="";const i=[];for(let n=0;n<l.columns;n++)i.push("Header");a+=`| ${i.join(" | ")} |`,a+=`\n| ${i.map((()=>"------")).join(" | ")} |`;for(let n=0;n<l.rows;n++)a+=`\n| ${i.map((()=>"Cell")).join("   | ")}   |`;return{newSelection:a,newCursor:t.cursorFrom}},custom(e,{cursorTo:t,cursorHead:l},a){if(!a)return{newSelection:e,newCursor:l};if("block"===a.box){let l=e;const i=t;return e.startsWith(a.prefix)&&e.endsWith(a.suffix)?l=e.substring(a.prefix.length,e.length-a.suffix.length):(l=`${a.prefix}\n${l}\n${a.suffix}`,i.line=i.line+1),{newSelection:l,newCursor:i}}{let l=e;const i=t;return e.startsWith(a.prefix)&&e.endsWith(a.suffix)?l=e.substring(1,e.length-1):(l=`${a.prefix}${e}${a.suffix}`,i.ch=i.ch+1),{newSelection:l,newCursor:i}}}};const _U=w({props:{value:{type:String,default:null},disabled:{type:Boolean,default:!1},placeholder:{type:String,default:null},customSyntax:{type:Array,default:()=>[]},imageToken:{type:String,default:void 0}},emits:["input"],setup(e,{emit:t}){const{t:l}=x(),a=F(),i=F();let n=null;const o=F(["editor"]),s=F(!1);ee((async()=>{i.value&&(n=Ot(i.value,{mode:"markdown",configureMouse:()=>({addNew:!1}),lineWrapping:!0,placeholder:e.placeholder,value:e.value||""}),n.on("change",((e,{origin:l})=>{if("setValue"===l)return;const a=e.getValue();t("input",a)})))})),O((()=>e.value),(e=>{if(!n)return;n.getValue()!==e&&(n.setValue(""),n.clearHistory(),n.setValue(null!=e?e:""),n.refresh())}));const r=V((()=>{let t=e.value||"";if(!e.imageToken){const e=Yh()+"assets/",l=new RegExp(`\\]\\((${$t(e)}[^\\s\\)]*)`,"gm"),a=Array.from(t.matchAll(l));for(const i of a)t=t.replace(i[1],uI(i[1]))}return t})),d=$({rows:4,columns:4});return Hh("meta+b",(()=>c("bold")),a),Hh("meta+i",(()=>c("italic")),a),Hh("meta+k",(()=>c("link")),a),Hh("meta+alt+d",(()=>c("strikethrough")),a),Hh("meta+alt+q",(()=>c("blockquote")),a),Hh("meta+alt+c",(()=>c("code")),a),Hh("meta+alt+1",(()=>c("heading",{level:1})),a),Hh("meta+alt+2",(()=>c("heading",{level:2})),a),Hh("meta+alt+3",(()=>c("heading",{level:3})),a),Hh("meta+alt+4",(()=>c("heading",{level:4})),a),Hh("meta+alt+5",(()=>c("heading",{level:5})),a),Hh("meta+alt+6",(()=>c("heading",{level:6})),a),{t:l,codemirrorEl:i,edit:c,view:o,markdownString:r,table:d,onImageUpload:function(t){if(!n)return;let l=Yh()+"assets/"+t.id;e.imageToken&&(l+="?access_token="+e.imageToken);n.replaceSelection(`![](${l})`),s.value=!1},imageDialogOpen:s,useShortcut:Hh,translateShortcut:bg,markdownInterface:a};function c(e,t){n&&function(e,t,l){if(e){const a=e.getCursor("head"),i=e.getCursor("from"),n=e.getCursor("to"),o=e.findWordAt(a),s=e.getRange(o.anchor,o.head).trim(),r=e.getSelection(),{newSelection:d,newCursor:c,highlight:u}=vU[t](r||s,{cursorFrom:m.exports.cloneDeep(r?i:o.anchor),cursorTo:m.exports.cloneDeep(r?n:o.head),cursorHead:a},l);s&&!r?e.replaceRange(d,o.anchor,o.head):e.replaceSelection(d),e.setCursor(c),u&&e.setSelection(u.from,u.to),e.focus()}}(n,e,t)}}}),yU=e=>(K("data-v-d0a4bd4a"),e=e(),W(),e),hU={class:"toolbar"},gU={class:"table-options"},bU={class:"field half"},kU={class:"type-label"},wU={class:"field half"},xU={class:"type-label"},VU={class:"field full"},CU=N(" Create "),SU=yU((()=>j("div",{class:"spacer"},null,-1))),EU=N("Editor"),AU=N("Preview"),DU={ref:"codemirrorEl"},IU={key:0,class:"preview-box"};var FU=ol({id:"input-rich-text-md",name:"$t:interfaces.input-rich-text-md.markdown",description:"$t:interfaces.input-rich-text-md.description",icon:"functions",component:F_(_U,[["render",function(e,t,l,a,i,n){const o=S("v-icon"),s=S("v-button"),r=S("v-text-overflow"),d=S("v-list-item-content"),c=S("v-list-item-hint"),u=S("v-list-item"),p=S("v-list"),m=S("v-menu"),f=S("v-input"),v=S("v-item-group"),_=S("v-card-title"),y=S("v-upload"),h=S("v-card-text"),g=S("v-card-actions"),b=S("v-card"),k=S("v-dialog"),w=q("tooltip"),x=q("md");return E(),P("div",{ref:"markdownInterface",class:H(["interface-input-rich-text-md",e.view[0]])},[j("div",hU,[I(m,{"show-arrow":"",placement:"bottom-start"},{activator:D((({toggle:t})=>[z(I(s,{small:"",icon:"",onClick:t},{default:D((()=>[I(o,{name:"title"})])),_:2},1032,["onClick"]),[[w,e.t("wysiwyg_options.heading")]])])),default:D((()=>[I(p,null,{default:D((()=>[(E(),P(R,null,M(6,(t=>I(u,{key:t,clickable:"",onClick:l=>e.edit("heading",{level:t})},{default:D((()=>[I(d,null,{default:D((()=>[I(r,{text:e.t(`wysiwyg_options.h${t}`)},null,8,["text"])])),_:2},1024),I(c,null,{default:D((()=>[N(U(e.translateShortcut(["meta","alt"]))+" "+U(t),1)])),_:2},1024)])),_:2},1032,["onClick"]))),64))])),_:1})])),_:1}),z(I(s,{small:"",icon:"",onClick:t[0]||(t[0]=t=>e.edit("bold"))},{default:D((()=>[I(o,{name:"format_bold"})])),_:1},512),[[w,e.t("wysiwyg_options.bold")+" - "+e.translateShortcut(["meta","b"])]]),z(I(s,{small:"",icon:"",onClick:t[1]||(t[1]=t=>e.edit("italic"))},{default:D((()=>[I(o,{name:"format_italic"})])),_:1},512),[[w,e.t("wysiwyg_options.italic")+" - "+e.translateShortcut(["meta","i"])]]),z(I(s,{small:"",icon:"",onClick:t[2]||(t[2]=t=>e.edit("strikethrough"))},{default:D((()=>[I(o,{name:"format_strikethrough"})])),_:1},512),[[w,e.t("wysiwyg_options.strikethrough")+" - "+e.translateShortcut(["meta","alt","d"])]]),z(I(s,{small:"",icon:"",onClick:t[3]||(t[3]=t=>e.edit("listBulleted"))},{default:D((()=>[I(o,{name:"format_list_bulleted"})])),_:1},512),[[w,e.t("wysiwyg_options.bullist")]]),z(I(s,{small:"",icon:"",onClick:t[4]||(t[4]=t=>e.edit("listNumbered"))},{default:D((()=>[I(o,{name:"format_list_numbered"})])),_:1},512),[[w,e.t("wysiwyg_options.numlist")]]),z(I(s,{small:"",icon:"",onClick:t[5]||(t[5]=t=>e.edit("blockquote"))},{default:D((()=>[I(o,{name:"format_quote"})])),_:1},512),[[w,e.t("wysiwyg_options.blockquote")+" - "+e.translateShortcut(["meta","alt","q"])]]),z(I(s,{small:"",icon:"",onClick:t[6]||(t[6]=t=>e.edit("code"))},{default:D((()=>[I(o,{name:"code"})])),_:1},512),[[w,e.t("wysiwyg_options.codeblock")+" - "+e.translateShortcut(["meta","alt","c"])]]),z(I(s,{small:"",icon:"",onClick:t[7]||(t[7]=t=>e.edit("link"))},{default:D((()=>[I(o,{name:"insert_link"})])),_:1},512),[[w,e.t("wysiwyg_options.link")+" - "+e.translateShortcut(["meta","k"])]]),I(m,{"show-arrow":"","close-on-content-click":!1},{activator:D((({toggle:t})=>[z(I(s,{small:"",icon:"",onClick:t},{default:D((()=>[I(o,{name:"table_chart"})])),_:2},1032,["onClick"]),[[w,e.t("wysiwyg_options.table")]])])),default:D((({deactivate:l})=>[j("div",gU,[j("div",bU,[j("p",kU,U(e.t("rows")),1),I(f,{modelValue:e.table.rows,"onUpdate:modelValue":t[8]||(t[8]=t=>e.table.rows=t),min:1,type:"number"},null,8,["modelValue"])]),j("div",wU,[j("p",xU,U(e.t("columns")),1),I(f,{modelValue:e.table.columns,"onUpdate:modelValue":t[9]||(t[9]=t=>e.table.columns=t),min:1,type:"number"},null,8,["modelValue"])]),j("div",VU,[I(s,{"full-width":"",onClick:()=>{e.edit("table",e.table),l()}},{default:D((()=>[CU])),_:2},1032,["onClick"])])])])),_:1}),z(I(s,{small:"",icon:"",onClick:t[10]||(t[10]=t=>e.imageDialogOpen=!0)},{default:D((()=>[I(o,{name:"insert_photo"})])),_:1},512),[[w,e.t("wysiwyg_options.image")]]),(E(!0),P(R,null,M(e.customSyntax,(t=>z((E(),A(s,{key:t.name,small:"",icon:"",onClick:l=>e.edit("custom",t)},{default:D((()=>[I(o,{name:t.icon},null,8,["name"])])),_:2},1032,["onClick"])),[[w,t.name]]))),128)),SU,I(v,{modelValue:e.view,"onUpdate:modelValue":t[11]||(t[11]=t=>e.view=t),class:"view",mandatory:"",rounded:""},{default:D((()=>[I(s,{"x-small":"",value:"editor"},{default:D((()=>[EU])),_:1}),I(s,{"x-small":"",value:"preview"},{default:D((()=>[AU])),_:1})])),_:1},8,["modelValue"])]),j("div",DU,null,512),"preview"===e.view[0]?z((E(),P("div",IU,null,512)),[[x,e.markdownString]]):B("",!0),I(k,{"model-value":e.imageDialogOpen,onEsc:t[13]||(t[13]=t=>e.imageDialogOpen=null),"onUpdate:modelValue":t[14]||(t[14]=t=>e.imageDialogOpen=null)},{default:D((()=>[I(b,null,{default:D((()=>[I(_,null,{default:D((()=>[N(U(e.t("upload_from_device")),1)])),_:1}),I(h,null,{default:D((()=>[I(y,{"from-url":"","from-library":"",onInput:e.onImageUpload},null,8,["onInput"])])),_:1}),I(g,null,{default:D((()=>[I(s,{secondary:"",onClick:t[12]||(t[12]=t=>e.imageDialogOpen=null)},{default:D((()=>[N(U(e.t("cancel")),1)])),_:1})])),_:1})])),_:1})])),_:1},8,["model-value"])],2)}],["__scopeId","data-v-d0a4bd4a"]]),types:["text"],options:[{field:"placeholder",name:"$t:placeholder",type:"string",meta:{width:"full",interface:"input-multiline",options:{placeholder:"$t:enter_a_placeholder"}}},{field:"customSyntax",name:"$t:interfaces.input-rich-text-md.customSyntax",type:"json",meta:{note:"$t:interfaces.input-rich-text-md.customSyntax_label",width:"full",interface:"list",options:{addLabel:"$t:interfaces.input-rich-text-md.customSyntax_add",template:"{{ name }}",fields:[{field:"name",type:"string",name:"$t:name",meta:{interface:"input",width:"half"}},{field:"icon",type:"string",name:"$t:icon",meta:{interface:"select-icon",width:"half"}},{field:"prefix",type:"string",name:"$t:prefix",meta:{interface:"input",width:"half"}},{field:"suffix",type:"string",name:"$t:suffix",meta:{interface:"input",width:"half"}},{field:"box",type:"string",name:"$t:interfaces.input-rich-text-md.box",meta:{interface:"select-radio",width:"half",options:{choices:[{text:"$t:inline",value:"inline"},{text:"$t:block",value:"block"}]}},schema:{default_value:"inline"}}]}}},{field:"imageToken",name:"$t:interfaces.input-rich-text-md.imageToken",type:"string",meta:{note:"$t:interfaces.input-rich-text-md.imageToken_label",width:"full",interface:"input"}}]}),OU=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:FU});const $U=w({components:{Draggable:Be},props:{value:{type:Array,default:null},fields:{type:Array,default:()=>[]},template:{type:String,default:null},addLabel:{type:String,default:o_.global.t("create_new")},limit:{type:Number,default:null},disabled:{type:Boolean,default:!1},headerPlaceholder:{type:String,default:o_.global.t("empty_item")},collection:{type:String,default:null}},emits:["input"],setup(e,{emit:t}){const{t:l}=x(),a=F(null),i=V((()=>null!==a.value)),{value:n}=T(e),o=V((()=>e.template||`{{${e.fields[0].field}}}`)),d=V((()=>!e.disabled&&(null===e.value||(null===e.limit||!!(Array.isArray(e.value)&&e.value.length<e.limit))))),c=V((()=>null!==a.value?_.value:null)),{displayValue:u}=Dg(o,c),p=V((()=>{var t,l;const a={};for(const i of e.fields)void 0!==(null==(t=i.schema)?void 0:t.default_value)&&null!==(null==(l=i.schema)?void 0:l.default_value)&&(a[i.field]=i.schema.default_value);return a})),f=V((()=>{var t;return null==(t=e.fields)?void 0:t.map((e=>r(s({},e),{name:vV(e.field)})))})),v=F(!1),_=F({}),y=F(!1);return{t:l,updateValues:h,removeItem:function(t){n.value?g(e.value.filter((e=>e!==t))):g(null)},addNew:function(){v.value=!0;const t={};e.fields.forEach((e=>{var l;t[e.field]=null==(l=e.schema)?void 0:l.default_value})),null!==e.value?g([...e.value,t]):g([t]);_.value=s({},t),a.value=(e.value||[]).length},showAddNew:d,hideDragImage:VS,active:a,drawerOpen:i,displayValue:u,activeItem:c,closeDrawer:b,onSort:function(e){if(null===e||0===e.length)return t("input",null);return t("input",e)},templateWithDefaults:o,defaults:p,fieldsWithNames:f,isNewItem:v,edits:_,confirmDiscard:y,openItem:function(t){v.value=!1,_.value=s({},e.value[t]),a.value=t},saveItem:function(e){v.value=!1,h(e,_.value),b()},trackEdits:function(e){Object.assign(_.value,e)},checkDiscard:function(){null===a.value||m.exports.isEqual(_.value,e.value[a.value])?b():y.value=!0},discardAndLeave:function(){b(),y.value=!1}};function h(t,l){g(e.value.map(((e,a)=>a===t?l:e)))}function g(e){return null===e||0===e.length?t("input",null):t("input",e)}function b(){v.value&&g(e.value.slice(0,-1)),a.value=null}}}),TU={class:"repeater"},PU=(e=>(K("data-v-21267acb"),e=e(),W(),e))((()=>j("div",{class:"spacer"},null,-1))),jU={class:"type-title"},LU={class:"drawer-item-content"};var RU=F_($U,[["render",function(e,t,l,a,i,n){const o=S("v-notice"),r=S("v-icon"),d=S("render-template"),c=S("v-list-item"),u=S("draggable"),p=S("v-list"),m=S("v-button"),f=S("v-form"),v=S("v-drawer"),_=S("v-card-title"),y=S("v-card-text"),h=S("v-card-actions"),g=S("v-card"),b=S("v-dialog"),k=q("tooltip");return E(),P("div",TU,[e.value&&0!==e.value.length?B("",!0):(E(),A(o,{key:0},{default:D((()=>[N(U(e.t("no_items")),1)])),_:1})),e.value&&e.value.length>0?(E(),A(p,{key:1},{default:D((()=>[I(u,{disabled:e.disabled,"force-fallback":!0,"model-value":e.value,"item-key":"id",handle:".drag-handle","onUpdate:modelValue":t[1]||(t[1]=t=>e.$emit("input",t))},{item:D((({element:l,index:a})=>[I(c,{dense:e.value.length>4,block:"",onClick:t=>e.openItem(a)},{default:D((()=>[e.disabled?B("",!0):(E(),A(r,{key:0,name:"drag_handle",class:"drag-handle",left:"",onClick:t[0]||(t[0]=X((()=>{}),["stop"]))})),I(d,{fields:e.fields,item:s(s({},e.defaults),l),template:e.templateWithDefaults},null,8,["fields","item","template"]),PU,e.disabled?B("",!0):(E(),A(r,{key:1,name:"close",onClick:X((t=>e.removeItem(l)),["stop"])},null,8,["onClick"]))])),_:2},1032,["dense","onClick"])])),_:1},8,["disabled","model-value"])])),_:1})):B("",!0),e.showAddNew?(E(),A(m,{key:2,class:"add-new",onClick:e.addNew},{default:D((()=>[N(U(e.addLabel),1)])),_:1},8,["onClick"])):B("",!0),I(v,{"model-value":e.drawerOpen,title:e.displayValue||e.headerPlaceholder,persistent:"","onUpdate:modelValue":t[4]||(t[4]=t=>e.checkDiscard()),onCancel:t[5]||(t[5]=t=>e.checkDiscard())},{title:D((()=>[j("h1",jU,[I(d,{fields:e.fields,item:e.activeItem,template:e.templateWithDefaults},null,8,["fields","item","template"])])])),actions:D((()=>[z(I(m,{icon:"",rounded:"",onClick:t[2]||(t[2]=t=>e.saveItem(e.active))},{default:D((()=>[I(r,{name:"check"})])),_:1},512),[[k,e.t("save"),void 0,{bottom:!0}]])])),default:D((()=>[j("div",LU,[I(f,{disabled:e.disabled,fields:e.fieldsWithNames,"model-value":e.activeItem,"primary-key":"+","onUpdate:modelValue":t[3]||(t[3]=t=>e.trackEdits(t))},null,8,["disabled","fields","model-value"])])])),_:1},8,["model-value","title"]),I(b,{modelValue:e.confirmDiscard,"onUpdate:modelValue":t[8]||(t[8]=t=>e.confirmDiscard=t),onEsc:t[9]||(t[9]=t=>e.confirmDiscard=!1)},{default:D((()=>[I(g,null,{default:D((()=>[I(_,null,{default:D((()=>[N(U(e.t("unsaved_changes")),1)])),_:1}),I(y,null,{default:D((()=>[N(U(e.t("unsaved_changes_copy")),1)])),_:1}),I(h,null,{default:D((()=>[I(m,{secondary:"",onClick:t[6]||(t[6]=t=>e.discardAndLeave())},{default:D((()=>[N(U(e.t("discard_changes")),1)])),_:1}),I(m,{onClick:t[7]||(t[7]=t=>e.confirmDiscard=!1)},{default:D((()=>[N(U(e.t("keep_editing")),1)])),_:1})])),_:1})])),_:1})])),_:1},8,["modelValue"])])}],["__scopeId","data-v-21267acb"]]);const MU=w({components:{Repeater:RU},props:{value:{type:Object,default:null}},emits:["input"],setup(e,{emit:t}){const{t:l}=x(),a=V({get(){var t,l;return null==(l=null==(t=e.value)?void 0:t.fields)?void 0:l.map((e=>e.meta))},set(l){const a=(l||[]).map((e=>({field:e.field,name:e.name||e.field,type:e.type,meta:e})));t("input",r(s({},e.value||{}),{fields:a}))}}),i=[{name:l("field",1),field:"field",type:"string",meta:{interface:"input",width:"half",sort:2,options:{dbSafe:!0,font:"monospace",placeholder:l("interfaces.list.field_name_placeholder")}},schema:null},{name:l("field_width"),field:"width",type:"string",meta:{interface:"select-dropdown",width:"half",sort:3,options:{choices:[{value:"half",text:l("half_width")},{value:"full",text:l("full_width")}]}},schema:null},{name:l("type"),field:"type",type:"string",meta:{interface:"select-dropdown",width:"half",sort:4,options:{choices:d_(xx)}},schema:null},{name:l("interface_label"),field:"interface",type:"string",meta:{interface:"system-interface",width:"half",sort:5,options:{typeField:"type"}},schema:null},{name:l("note"),field:"note",type:"string",meta:{interface:"input",width:"full",sort:6,options:{placeholder:l("interfaces.list.field_note_placeholder")}},schema:null},{name:l("options"),field:"options",type:"string",meta:{interface:"system-interface-options",width:"full",sort:7,options:{interfaceField:"interface"}}}];return{t:l,repeaterValue:a,repeaterFields:i,template:V({get(){var t;return null==(t=e.value)?void 0:t.template},set(l){t("input",r(s({},e.value||{}),{template:l}))}}),addLabel:V({get(){var t;return null==(t=e.value)?void 0:t.addLabel},set(l){t("input",r(s({},e.value||{}),{addLabel:l}))}})}}}),UU={class:"grid"},NU={class:"grid-element half"},BU={class:"type-label"},qU={class:"grid-element half"},zU={class:"type-label"},KU={class:"grid-element full"},WU={class:"type-label"};var HU=ol({id:"list",name:"$t:interfaces.list.repeater",description:"$t:interfaces.list.description",icon:"replay",component:RU,types:["json"],options:F_(MU,[["render",function(e,t,l,a,i,n){const o=S("v-input"),s=S("repeater");return E(),P("div",UU,[j("div",NU,[j("p",BU,U(e.t("template")),1),I(o,{modelValue:e.template,"onUpdate:modelValue":t[0]||(t[0]=t=>e.template=t),class:"input",placeholder:"{{ field }}"},null,8,["modelValue"])]),j("div",qU,[j("p",zU,U(e.t("interfaces.list.add_label")),1),I(o,{modelValue:e.addLabel,"onUpdate:modelValue":t[1]||(t[1]=t=>e.addLabel=t),class:"input",placeholder:e.t("create_new")},null,8,["modelValue","placeholder"])]),j("div",KU,[j("p",WU,U(e.t("interfaces.list.edit_fields")),1),I(s,{value:e.repeaterValue,template:"{{ field }} — {{ interface }}",fields:e.repeaterFields,onInput:t[2]||(t[2]=t=>e.repeaterValue=t)},null,8,["value","fields"])])])}],["__scopeId","data-v-7f210cfb"]])}),GU=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:HU});const QU=w({components:{DrawerCollection:hj,DrawerItem:Gj,Draggable:Be},props:{collection:{type:String,required:!0},field:{type:String,required:!0},value:{type:Array,default:null},disabled:{type:Boolean,default:!1},primaryKey:{type:[String,Number],required:!0},enableCreate:{type:Boolean,default:!0},enableSelect:{type:Boolean,default:!0}},emits:["input"],setup(e,{emit:t}){const{t:l}=x(),a=VI(),i=vI(),n=pI(),{o2mRelation:o,anyRelation:d,allowedCollections:c,o2mRelationPrimaryKeyField:u}=function(){const t=V((()=>a.getRelationsForField(e.collection,e.field))),l=V((()=>t.value.find((e=>null!==e.related_collection)))),n=V((()=>t.value.find((e=>null===e.related_collection)))),o=V((()=>i.getPrimaryKeyFieldForCollection(l.value.collection).field)),s=V((()=>n.value.meta.one_allowed_collections));return{relationsForField:t,o2mRelation:l,anyRelation:n,allowedCollections:s,o2mRelationPrimaryKeyField:o}}(),{fetchValues:p,previewValues:f,loading:v,junctionRowMap:_,relatedItemValues:y}=function(){const t=F(!1),l=F({}),a=F();return{fetchValues:async function(){var i;if(null===e.value)return;t.value=!0;try{const n=[],c={};for(const e of Object.values(h.value))c[e.collection]=[];for(const t of e.value||[])if("string"==typeof t||"number"==typeof t)n.push(t);else if(d.value.meta.one_collection_field in t==!1)n.push(t[u.value]);else{const e=t[d.value.meta.one_collection_field],l=b.value[e],a=m.exports.isPlainObject(t[d.value.field])?t[d.value.field][l]:t[d.value.field];a&&c[e].push(a)}if(n.length>0){const e=await dI.get(`/items/${o.value.collection}`,{params:{filter:{[u.value]:{_in:n}},fields:[u.value,d.value.field,d.value.meta.one_collection_field,null==(i=o.value.meta)?void 0:i.sort_field]}});for(const t of e.data.data){const e=t[d.value.meta.one_collection_field];e in c&&c[e].push(t[d.value.field])}a.value=e.data.data}else a.value=[];const p=await Promise.all(Object.entries(c).map((([e,t])=>{if(0===t.length)return Promise.resolve({data:{data:[]}});const l=el(g.value[e]);return!1===l.includes(b.value[e])&&l.push(b.value[e]),dI.get(_g(e),{params:{filter:{[b.value[e]]:{_in:t}},fields:l}})})));l.value||(l.value={});for(let e=0;e<Object.keys(c).length;e++){const t=Object.keys(c)[e];l.value=r(s({},l.value),{[t]:p[e].data.data})}}catch(n){jy(n)}finally{t.value=!1}},previewValues:V((()=>{var t,i;if(void 0===a.value)return[];const n=m.exports.cloneDeep(e.value||[]).map(((e,t)=>{const l=m.exports.isPlainObject(e)?e[u.value]:e,i=(a.value||[]).find((e=>e[u.value]===l));return m.exports.isPlainObject(e)?r(s(s({},i),e),{$index:t}):void 0===i?null:r(s({},i),{$index:t})})).filter((e=>e)).map((e=>{var t;const a=e[d.value.meta.one_collection_field],i=m.exports.isPlainObject(e[d.value.field])?e[d.value.field][b.value[a]]:e[d.value.field],n=null==(t=l.value[a])?void 0:t.find((e=>e[b.value[a]]==i));return i&&n&&(m.exports.isPlainObject(e[d.value.field])?e[d.value.field]=s(s({},n),e[d.value.field]):e[d.value.field]=m.exports.cloneDeep(n)),e}));return(null==(i=null==(t=o.value)?void 0:t.meta)?void 0:i.sort_field)?[...n.filter((e=>o.value.meta.sort_field in e)).sort(((e,t)=>e[o.value.meta.sort_field]-t[o.value.meta.sort_field])),...n.filter((e=>o.value.meta.sort_field in e==!1)).sort(((e,t)=>e.$index-t.$index))]:[...n.sort(((e,t)=>e.$index-t.$index))]})),loading:t,junctionRowMap:a,relatedItemValues:l}}(),{collections:h,templates:g,primaryKeys:b}=function(){const e=V((()=>{const e={},t=c.value.map((e=>n.getCollection(e))).filter((e=>e));for(const l of t)e[l.collection]=l;return e})),t=V((()=>{const t={};for(const l of Object.values(e.value))t[l.collection]=i.getPrimaryKeyFieldForCollection(l.collection).field;return t})),l=V((()=>{var t;const l={};for(const a of Object.values(e.value)){const e=i.getPrimaryKeyFieldForCollection(a.collection);l[a.collection]=(null==(t=a.meta)?void 0:t.display_template)||`{{${e.field}}}`}return l}));return{collections:e,primaryKeys:t,templates:l}}(),{selectingFrom:k,stageSelection:w,deselect:C}=function(){const l=F(null);return{selectingFrom:l,stageSelection:function(a){const{field:i}=d.value,n=d.value.meta.one_collection_field,o=e.value||[],s=a.map((e=>({[n]:l.value,[i]:e})));t("input",[...o,...s])},deselect:function(l){t("input",(e.value||[]).filter((e=>e!==l)))}}}(),{currentlyEditing:S,relatedPrimaryKey:E,editsAtStart:A,stageEdits:D,cancelEdit:I,editExisting:$,createNew:T}=function(){const l=F(null),a=F(null),i=F({});return{currentlyEditing:l,relatedPrimaryKey:a,editsAtStart:i,stageEdits:function(n){const o=e.value||[],s=o.includes(i.value)||o.includes(l.value);"+"===l.value&&"+"===a.value&&!1===s?t("input",[...o,n]):t("input",o.map((e=>e===i.value||e==l.value?n:e)))},cancelEdit:function(){l.value=null,a.value=null,i.value={}},editExisting:function(e){var t,n,s;if("string"==typeof e||"number"==typeof e){const r=(_.value||[]).find((t=>t[u.value]==e)),c=r[d.value.meta.one_collection_field],p=m.exports.isPlainObject(r[d.value.field])?r[d.value.field][b.value[c]]:r[d.value.field];return i.value={[u.value]:e,[d.value.meta.one_collection_field]:c,[d.value.field]:{[b.value[c]]:p}},(null==(t=o.value.meta)?void 0:t.sort_field)&&(i.value[null==(n=o.value.meta)?void 0:n.sort_field]=r[null==(s=o.value.meta)?void 0:s.sort_field]),a.value=p||"+",void(l.value=e)}const r=e[u.value],c=e[d.value.meta.one_collection_field];let p=e[d.value.field];m.exports.isPlainObject(p)&&(p=e[d.value.field][b.value[c]]);i.value=e,a.value=p||"+",l.value=r||"+"},createNew:function(e){var t,n;const s={[d.value.meta.one_collection_field]:e,[d.value.field]:{}};if(f.value&&(null==(n=null==(t=o.value)?void 0:t.meta)?void 0:n.sort_field)){const e=Math.max(-1,...f.value.map((e=>e[o.value.meta.sort_field])));s[o.value.meta.sort_field]=e+1}i.value=s,a.value="+",l.value="+"}}}(),{onSort:P}={onSort:function(l){t("input",e.value.map(((e,t)=>{var a,i,n;if(!(null==(a=o.value.meta)?void 0:a.sort_field))return e;const d=l.findIndex((e=>e.$index===t));return m.exports.isPlainObject(e)?r(s({},e),{[null==(i=o.value.meta)?void 0:i.sort_field]:d+1}):r(s({},l[d]),{[u.value]:e,[null==(n=o.value.meta)?void 0:n.sort_field]:d+1})})))}};return O(e,p,{immediate:!0,deep:!0}),{t:l,previewValues:f,collections:h,selectingFrom:k,stageSelection:w,templates:g,o2mRelation:o,anyRelation:d,currentlyEditing:S,relatedPrimaryKey:E,editsAtStart:A,stageEdits:D,cancelEdit:I,editExisting:$,createNew:T,previewLoading:v,deselect:C,relatedItemValues:y,hideDragImage:VS,onSort:P,allowedCollections:c}}}),XU=e=>(K("data-v-78acc1a9"),e=e(),W(),e),JU={class:"m2a-builder"},YU={key:0,class:"loader"},ZU={class:"collection"},eN={key:1},tN=XU((()=>j("div",{class:"spacer"},null,-1))),lN=XU((()=>j("div",{class:"spacer"},null,-1))),aN={class:"buttons"};var iN=ol({id:"list-m2a",name:"$t:list-m2a",icon:"note_add",component:F_(QU,[["render",function(e,t,l,a,i,n){const o=S("v-skeleton-loader"),s=S("v-notice"),r=S("v-icon"),d=S("render-template"),c=S("v-list-item"),u=S("draggable"),p=S("v-list"),m=S("v-button"),f=S("v-list-item-icon"),v=S("v-text-overflow"),_=S("v-menu"),y=S("drawer-collection"),h=S("drawer-item");return E(),P("div",JU,[e.previewLoading&&!e.previewValues?(E(),P("div",YU,[(E(!0),P(R,null,M((e.value||[]).length,(e=>(E(),A(o,{key:e})))),128))])):(E(),A(p,{key:1},{default:D((()=>[0===e.previewValues.length?(E(),A(s,{key:0},{default:D((()=>[N(U(e.t("no_items")),1)])),_:1})):B("",!0),I(u,{"force-fallback":!0,"model-value":e.previewValues,"item-key":"$index","set-data":e.hideDragImage,disabled:!e.o2mRelation.meta||!e.o2mRelation.meta.sort_field,"onUpdate:modelValue":e.onSort},{item:D((({element:l})=>[e.allowedCollections.includes(l[e.anyRelation.meta.one_collection_field])?(E(),A(c,{key:0,block:"",dense:e.previewValues.length>4,onClick:t=>e.editExisting((e.value||[])[l.$index])},{default:D((()=>[e.o2mRelation.meta&&e.o2mRelation.meta.sort_field?(E(),A(r,{key:0,class:"drag-handle",left:"",name:"drag_handle",onClick:t[0]||(t[0]=X((()=>{}),["stop"]))})):B("",!0),j("span",ZU,U(e.collections[l[e.anyRelation.meta.one_collection_field]].name)+":",1),"number"==typeof l[e.anyRelation.field]||"string"==typeof l[e.anyRelation.field]?(E(),P("span",eN,U(l[e.anyRelation.field]),1)):(E(),A(d,{key:2,collection:l[e.anyRelation.meta.one_collection_field],template:e.templates[l[e.anyRelation.meta.one_collection_field]],item:l[e.anyRelation.field]},null,8,["collection","template","item"])),tN,e.disabled?B("",!0):(E(),A(r,{key:3,class:"clear-icon",name:"clear",onClick:X((t=>e.deselect((e.value||[])[l.$index])),["stop"])},null,8,["onClick"]))])),_:2},1032,["dense","onClick"])):(E(),A(c,{key:1,block:""},{default:D((()=>[I(r,{class:"invalid-icon",name:"warning",left:""}),j("span",null,U(e.t("invalid_item")),1),lN,e.disabled?B("",!0):(E(),A(r,{key:0,class:"clear-icon",name:"clear",onClick:X((t=>e.deselect((e.value||[])[l.$index])),["stop"])},null,8,["onClick"]))])),_:2},1024))])),_:1},8,["model-value","set-data","disabled","onUpdate:modelValue"])])),_:1})),j("div",aN,[e.enableCreate?(E(),A(_,{key:0,"show-arrow":""},{activator:D((({toggle:t})=>[I(m,{onClick:t},{default:D((()=>[N(U(e.t("create_new"))+" ",1),I(r,{name:"arrow_drop_down",right:""})])),_:2},1032,["onClick"])])),default:D((()=>[I(p,null,{default:D((()=>[(E(!0),P(R,null,M(e.collections,(t=>(E(),A(c,{key:t.collection,clickable:"",onClick:l=>e.createNew(t.collection)},{default:D((()=>[I(f,null,{default:D((()=>[I(r,{name:t.icon},null,8,["name"])])),_:2},1024),I(v,{text:t.name},null,8,["text"])])),_:2},1032,["onClick"])))),128))])),_:1})])),_:1})):B("",!0),e.enableSelect?(E(),A(_,{key:1,"show-arrow":""},{activator:D((({toggle:t})=>[I(m,{class:"existing",onClick:t},{default:D((()=>[N(U(e.t("add_existing"))+" ",1),I(r,{name:"arrow_drop_down",right:""})])),_:2},1032,["onClick"])])),default:D((()=>[I(p,null,{default:D((()=>[(E(!0),P(R,null,M(e.collections,(t=>(E(),A(c,{key:t.collection,clickable:"",onClick:l=>e.selectingFrom=t.collection},{default:D((()=>[I(f,null,{default:D((()=>[I(r,{name:t.icon},null,8,["name"])])),_:2},1024),I(v,{text:t.name},null,8,["text"])])),_:2},1032,["onClick"])))),128))])),_:1})])),_:1})):B("",!0)]),!e.disabled&&e.selectingFrom?(E(),A(y,{key:2,multiple:"",active:!!e.selectingFrom,collection:e.selectingFrom,selection:[],onInput:e.stageSelection,"onUpdate:active":t[1]||(t[1]=t=>e.selectingFrom=null)},null,8,["active","collection","onInput"])):B("",!0),e.disabled?B("",!0):(E(),A(h,{key:3,active:!!e.currentlyEditing,collection:e.o2mRelation.collection,"primary-key":e.currentlyEditing||"+","related-primary-key":e.relatedPrimaryKey||"+","junction-field":e.o2mRelation.meta.junction_field,edits:e.editsAtStart,"circular-field":e.o2mRelation.field,onInput:e.stageEdits,"onUpdate:active":e.cancelEdit},null,8,["active","collection","primary-key","related-primary-key","junction-field","edits","circular-field","onInput","onUpdate:active"]))])}],["__scopeId","data-v-78acc1a9"]]),relational:!0,types:["alias"],groups:["m2a"],options:[{field:"enableSelect",name:"$t:selecting_items",schema:{default_value:!0},meta:{interface:"boolean",options:{label:"$t:enable_select_button"},width:"half"}},{field:"enableCreate",name:"$t:creating_items",schema:{default_value:!0},meta:{interface:"boolean",options:{label:"$t:enable_create_button"},width:"half"}}]}),nN=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:iN});const oN=w({components:{DrawerItem:Gj,DrawerCollection:hj,Draggable:Be},props:{value:{type:Array,default:null},primaryKey:{type:[Number,String],required:!0},collection:{type:String,required:!0},field:{type:String,required:!0},template:{type:String,default:null},disabled:{type:Boolean,default:!1},enableCreate:{type:Boolean,default:!0},enableSelect:{type:Boolean,default:!0}},emits:["input"],setup(e,{emit:t}){const{t:l}=x(),{value:a,collection:i,field:n}=T(e),{junction:o,junctionCollection:s,relation:r,relationCollection:d,relationInfo:c}=fM(i,n),u=V((()=>{var t,l;if(e.template)return e.template;if(null==(t=s.value.meta)?void 0:t.display_template)return s.value.meta.display_template;let a=null==(l=d.value.meta)?void 0:l.display_template;if(a){const e=/({{.*?}})/g,t=a.split(e).filter((e=>e));for(const l of t){if(!1===l.startsWith("{{"))continue;const e=l.replace(/{{/g,"").replace(/}}/g,"").trim(),t=`{{${r.value.field}.${e}}}`;a=a.replace(l,t)}return a}return`{{${r.value.field}.${c.value.relationPkField}}}`})),p=V((()=>Qj(el(u.value),s.value.collection))),{deleteItem:f,getUpdatedItems:v,getNewItems:_,getPrimaryKeys:y,getNewSelectedItems:h}=mM(a,c,U),{tableHeaders:g,items:b,loading:k}=_M(a,p,c,h,v,_,y),{currentlyEditing:w,editItem:C,editsAtStart:S,stageEdits:E,cancelEdit:A,relatedPrimaryKey:D,editModalActive:I}=yM(a,c,U),{stageSelection:F,selectModalActive:O,selectedPrimaryKeys:$}=hM(b,c,U),{sort:P,sortItems:j,sortedItems:L}=gM(c,p,b,U),{createAllowed:R,selectAllowed:M}=bM(s,d);return{t:l,junction:o,relation:r,tableHeaders:g,loading:k,currentlyEditing:w,editItem:C,junctionCollection:s,relationCollection:d,editsAtStart:S,stageEdits:E,cancelEdit:A,stageSelection:F,selectModalActive:O,deleteItem:f,selectedPrimaryKeys:$,items:b,relationInfo:c,relatedPrimaryKey:D,get:m.exports.get,editModalActive:I,sort:P,sortItems:j,sortedItems:L,templateWithDefaults:u,createAllowed:R,selectAllowed:M};function U(e){t("input",e)}}}),sN={key:1,class:"many-to-many"},rN=(e=>(K("data-v-cea0a58e"),e=e(),W(),e))((()=>j("div",{class:"spacer"},null,-1))),dN={key:3,class:"actions"};var cN=ol({id:"list-m2m",name:"$t:interfaces.list-m2m.many-to-many",description:"$t:interfaces.list-m2m.description",icon:"note_add",component:F_(oN,[["render",function(e,t,l,a,i,n){const o=S("v-notice"),s=S("v-skeleton-loader"),r=S("v-icon"),d=S("render-template"),c=S("v-list-item"),u=S("draggable"),p=S("v-list"),m=S("v-button"),f=S("drawer-item"),v=S("drawer-collection");return e.junction&&e.relation?(E(),P("div",sN,[e.loading?(E(!0),P(R,{key:0},M((e.value||[]).length||3,(t=>(E(),A(s,{key:t,type:(e.value||[]).length>4?"block-list-item-dense":"block-list-item"},null,8,["type"])))),128)):0===e.sortedItems.length?(E(),A(o,{key:1},{default:D((()=>[N(U(e.t("no_items")),1)])),_:1})):(E(),A(p,{key:2},{default:D((()=>[I(u,{"force-fallback":!0,"model-value":e.sortedItems,"item-key":"id",handle:".drag-handle",disabled:!e.junction.meta.sort_field,"onUpdate:modelValue":t[1]||(t[1]=t=>e.sortItems(t))},{item:D((({element:l})=>[I(c,{dense:e.sortedItems.length>4,block:"",clickable:"",onClick:t=>e.editItem(l)},{default:D((()=>[e.junction.meta.sort_field?(E(),A(r,{key:0,name:"drag_handle",class:"drag-handle",left:"",onClick:t[0]||(t[0]=X((()=>{}),["stop"]))})):B("",!0),I(d,{collection:e.junctionCollection.collection,item:l,template:e.templateWithDefaults},null,8,["collection","item","template"]),rN,e.disabled?B("",!0):(E(),A(r,{key:1,name:"close",onClick:X((t=>e.deleteItem(l)),["stop"])},null,8,["onClick"]))])),_:2},1032,["dense","onClick"])])),_:1},8,["model-value","disabled"])])),_:1})),e.disabled?B("",!0):(E(),P("div",dN,[e.enableCreate&&e.createAllowed?(E(),A(m,{key:0,onClick:t[2]||(t[2]=t=>e.editModalActive=!0)},{default:D((()=>[N(U(e.t("create_new")),1)])),_:1})):B("",!0),e.enableSelect&&e.selectAllowed?(E(),A(m,{key:1,onClick:t[3]||(t[3]=t=>e.selectModalActive=!0)},{default:D((()=>[N(U(e.t("add_existing")),1)])),_:1})):B("",!0)])),e.disabled?B("",!0):(E(),A(f,{key:4,active:e.editModalActive,collection:e.relationInfo.junctionCollection,"primary-key":e.currentlyEditing||"+","related-primary-key":e.relatedPrimaryKey||"+","junction-field":e.relationInfo.junctionField,edits:e.editsAtStart,"circular-field":e.junction.field,onInput:e.stageEdits,"onUpdate:active":e.cancelEdit},null,8,["active","collection","primary-key","related-primary-key","junction-field","edits","circular-field","onInput","onUpdate:active"])),e.disabled?B("",!0):(E(),A(v,{key:5,active:e.selectModalActive,"onUpdate:active":t[4]||(t[4]=t=>e.selectModalActive=t),collection:e.relationCollection.collection,selection:e.selectedPrimaryKeys,multiple:"",onInput:e.stageSelection},null,8,["active","collection","selection","onInput"]))])):(E(),A(o,{key:0,type:"warning"},{default:D((()=>[N(U(e.t("relationship_not_setup")),1)])),_:1}))}],["__scopeId","data-v-cea0a58e"]]),relational:!0,types:["alias"],groups:["m2m"],options:TM,recommendedDisplays:["related-values"]}),uN=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:cN});const pN=w({components:{DrawerItem:Gj,DrawerCollection:hj,Draggable:Be},props:{value:{type:Array,default:null},primaryKey:{type:[Number,String],required:!0},collection:{type:String,required:!0},field:{type:String,required:!0},template:{type:String,default:null},disabled:{type:Boolean,default:!1},enableCreate:{type:Boolean,default:!0},enableSelect:{type:Boolean,default:!0}},emits:["input"],setup(e,{emit:t}){const{t:l}=x(),a=VI(),i=pI(),n=vI(),o=gI(),r=I_(),{relation:d,relatedCollection:c,relatedPrimaryKeyField:u}=function(){const t=V((()=>{var t;return null==(t=a.getRelationsForField(e.collection,e.field))?void 0:t[0]})),l=V((()=>i.getCollection(t.value.collection))),{primaryKeyField:n}=Xt(l.value.collection);return{relation:t,relatedCollection:l,relatedPrimaryKeyField:n}}(),p=V((()=>{var t;return e.template||(null==(t=c.value.meta)?void 0:t.display_template)||`{{${n.getPrimaryKeyFieldForCollection(d.value.collection).field}}}`})),f=V((()=>Qj(el(p.value),c.value.collection))),{items:v,loading:_}=function(){const t=F(!1),l=F([]);return O((()=>e.value),(async(a,i)=>{var n,o;if(m.exports.isEqual(a,i))return;t.value=!0;const r=null==(n=u.value)?void 0:n.field;if(!r)return;const p=[...f.value.length>0?f.value:$()];!1===p.includes(r)&&p.push(r),(null==(o=d.value.meta)?void 0:o.sort_field)&&!1===p.includes(d.value.meta.sort_field)&&p.push(d.value.meta.sort_field);const v=vM(c.value.collection,p);try{const a=c.value.collection.startsWith("directus_")?`/${c.value.collection.substring(9)}`:`/items/${c.value.collection}`,i=function(){var t;const l=null==(t=u.value)?void 0:t.field;return null!==e.value&&l?e.value.map((e=>"object"!=typeof e?e:l in e?e[l]:void 0)).filter((e=>e)):[]}();let n=[];if(i&&i.length>0){n=(await dI.get(a,{params:{fields:v,[`filter[${r}][_in]`]:i.join(",")}})).data.data}const o=function(){var t;const l=null==(t=u.value)?void 0:t.field;return null!==e.value&&l?e.value.filter((e=>"object"==typeof e&&l in e==!0)):[]}(),d=function(){var t;const l=null==(t=u.value)?void 0:t.field;return null!==e.value&&l?e.value.filter((e=>"object"==typeof e&&l in e==!1)):[]}();l.value=n.map((e=>{const t=o.find((t=>t[r]===e[r]));return void 0!==t?s(s({},e),t):e})).concat(...d)}catch(_){jy(_)}finally{t.value=!1}}),{immediate:!0}),{items:l,loading:t}}(),{currentlyEditing:y,editItem:h,editsAtStart:g,stageEdits:b,cancelEdit:k}=function(){const l=F(null),a=F({});return{currentlyEditing:l,editItem:function(t){var i;const n=null==(i=u.value)?void 0:i.field;if(!n)return;const o=n in t,s=(e.value||[]).find((e=>{var l,a,i;return"object"==typeof e&&(null==(l=u.value)?void 0:l.field)&&e[null==(a=u.value)?void 0:a.field]===t[null==(i=u.value)?void 0:i.field]}));a.value=s||{[n]:t[n]||{}},l.value=o?t[n]:"+"},editsAtStart:a,stageEdits:function(l){var i;const n=null==(i=u.value)?void 0:i.field;if(!n)return;const o=(e.value||[]).map((e=>e&&"object"==typeof e&&n in e&&n in l&&e[n]===l[n]||e===l[n]||a.value===e?l:e));!1===o.includes(l)&&o.push(l);0===o.length?t("input",null):t("input",o)},cancelEdit:function(){a.value={},l.value=null}}}(),{selectModalActive:w,selectedPrimaryKeys:C}=function(){const e=F(!1),t=V((()=>{var e;const t=null==(e=u.value)?void 0:e.field;return null!==v.value&&t?v.value.filter((e=>t in e)).map((e=>e[t])):[]}));return{selectModalActive:e,selectedPrimaryKeys:t}}(),{sort:S,sortItems:E,sortedItems:A}=function(){var e;const l=F({by:(null==(e=d.value.meta)?void 0:e.sort_field)||f.value[0],desc:!1});const a=V((()=>{var e,t;if(!(null==(e=d.value.meta)?void 0:e.sort_field)||l.value.by!==(null==(t=d.value.meta)?void 0:t.sort_field))return v.value;const a=l.value.desc,i=m.exports.sortBy(v.value,[d.value.meta.sort_field]);return a?i.reverse():i}));return{sort:l,sortItems:function(e){var l;if(!(null==(l=d.value.meta)?void 0:l.sort_field))return;const a=e.map(((e,t)=>(e[d.value.meta.sort_field]=t,e)));t("input",a)},sortedItems:a}}(),{createAllowed:D,updateAllowed:I}=function(){const e=V((()=>{var e;return!(!0!==(null==(e=r.currentUser)?void 0:e.role.admin_access))||!!o.permissions.find((e=>"create"===e.action&&e.collection===c.value.collection))})),t=V((()=>{var e;return!(!0!==(null==(e=r.currentUser)?void 0:e.role.admin_access))||!!o.permissions.find((e=>"update"===e.action&&e.collection===c.value.collection))}));return{createAllowed:e,updateAllowed:t}}();return{t:l,relation:d,loading:_,currentlyEditing:y,editItem:h,relatedCollection:c,editsAtStart:g,stageEdits:b,cancelEdit:k,selectModalActive:w,deleteItem:function(l){var a;const i=null==(a=u.value)?void 0:a.field;if(null===e.value||!i)return;if(i in l==!1)return void t("input",e.value.filter((e=>!1===m.exports.isEqual(l,e))));const n=l[i];t("input",e.value.filter((e=>"number"==typeof e||"string"==typeof e?e!==n:"object"!=typeof e||!(i in e)||e[i]!==n)))},items:v,sortItems:E,selectedPrimaryKeys:C,sort:S,sortedItems:A,get:m.exports.get,getItemFromIndex:function(e){return(A.value||v.value)[e]},templateWithDefaults:p,createAllowed:D,updateAllowed:I};function $(){return n.getFieldsForCollection(c.value.collection).slice(0,3).map((e=>e.field))}}}),mN={key:1,class:"one-to-many"},fN=(e=>(K("data-v-3072ea08"),e=e(),W(),e))((()=>j("div",{class:"spacer"},null,-1))),vN={key:3,class:"actions"};var _N=F_(pN,[["render",function(e,t,l,a,i,n){const o=S("v-notice"),s=S("v-skeleton-loader"),r=S("v-icon"),d=S("render-template"),c=S("v-list-item"),u=S("draggable"),p=S("v-list"),m=S("v-button"),f=S("drawer-item"),v=S("drawer-collection");return e.relation?(E(),P("div",mN,[e.loading?(E(!0),P(R,{key:0},M((e.value||[]).length||3,(t=>(E(),A(s,{key:t,type:(e.value||[]).length>4?"block-list-item-dense":"block-list-item"},null,8,["type"])))),128)):0===e.sortedItems.length?(E(),A(o,{key:1},{default:D((()=>[N(U(e.t("no_items")),1)])),_:1})):(E(),A(p,{key:2},{default:D((()=>[I(u,{"force-fallback":!0,"model-value":e.sortedItems,"item-key":"id",handle:".drag-handle",disabled:!e.relation.meta.sort_field,"onUpdate:modelValue":t[1]||(t[1]=t=>e.sortItems(t))},{item:D((({element:l})=>[I(c,{dense:e.sortedItems.length>4,block:"",disabled:e.disabled||!1===e.updateAllowed,onClick:t=>e.editItem(l)},{default:D((()=>[e.relation.meta.sort_field?(E(),A(r,{key:0,name:"drag_handle",class:"drag-handle",left:"",onClick:t[0]||(t[0]=X((()=>{}),["stop"]))})):B("",!0),I(d,{collection:e.relation.collection,item:l,template:e.templateWithDefaults},null,8,["collection","item","template"]),fN,!e.disabled&&e.updateAllowed?(E(),A(r,{key:1,name:"close",onClick:X((t=>e.deleteItem(l)),["stop"])},null,8,["onClick"])):B("",!0)])),_:2},1032,["dense","disabled","onClick"])])),_:1},8,["model-value","disabled"])])),_:1})),e.disabled?B("",!0):(E(),P("div",vN,[e.enableCreate&&e.createAllowed&&e.updateAllowed?(E(),A(m,{key:0,onClick:t[2]||(t[2]=t=>e.currentlyEditing="+")},{default:D((()=>[N(U(e.t("create_new")),1)])),_:1})):B("",!0),e.enableSelect&&e.updateAllowed?(E(),A(m,{key:1,onClick:t[3]||(t[3]=t=>e.selectModalActive=!0)},{default:D((()=>[N(U(e.t("add_existing")),1)])),_:1})):B("",!0)])),e.disabled?B("",!0):(E(),A(f,{key:4,active:null!==e.currentlyEditing,collection:e.relatedCollection.collection,"primary-key":e.currentlyEditing||"+",edits:e.editsAtStart,"circular-field":e.relation.field,onInput:e.stageEdits,"onUpdate:active":e.cancelEdit},null,8,["active","collection","primary-key","edits","circular-field","onInput","onUpdate:active"])),e.disabled?B("",!0):(E(),A(v,{key:5,active:e.selectModalActive,"onUpdate:active":t[4]||(t[4]=t=>e.selectModalActive=t),collection:e.relatedCollection.collection,selection:e.selectedPrimaryKeys,multiple:"",onInput:t[5]||(t[5]=t=>e.$emit("input",t.length>0?t:null))},null,8,["active","collection","selection"]))])):(E(),A(o,{key:0,type:"warning"},{default:D((()=>[N(U(e.t("relationship_not_setup")),1)])),_:1}))}],["__scopeId","data-v-3072ea08"]]);const yN=w({props:{collection:{type:String,required:!0},fieldData:{type:Object,default:null},relations:{type:Array,default:()=>[]},value:{type:Object,default:null},newCollections:{type:Array,default:()=>[]},newFields:{type:Array,default:()=>[]}},emits:["input"],setup(e,{emit:t}){const{t:l}=x(),a=pI(),i=V({get(){var t;return null==(t=e.value)?void 0:t.template},set(l){t("input",r(s({},e.value||{}),{template:l}))}}),n=V({get(){var t,l;return null==(l=null==(t=e.value)?void 0:t.enableCreate)||l},set(l){t("input",r(s({},e.value||{}),{enableCreate:l}))}}),o=V({get(){var t,l;return null==(l=null==(t=e.value)?void 0:t.enableSelect)||l},set(l){t("input",r(s({},e.value||{}),{enableSelect:l}))}}),d=V((()=>{if(!e.fieldData||!e.relations||0===e.relations.length)return null;const{field:t}=e.fieldData,l=e.relations.find((l=>{var a;return l.related_collection===e.collection&&(null==(a=l.meta)?void 0:a.one_field)===t}));return(null==l?void 0:l.collection)||null})),c=V((()=>d.value?a.getCollection(d.value):null));return{t:l,template:i,enableCreate:n,enableSelect:o,relatedCollection:d,relatedCollectionInfo:c}}}),hN={key:1,class:"form-grid"},gN={class:"field full"},bN={class:"type-label"},kN={class:"field half-left"},wN={class:"type-label"},xN={class:"field half-right"},VN={class:"type-label"};var CN=ol({id:"list-o2m",name:"$t:interfaces.list-o2m.one-to-many",description:"$t:interfaces.list-o2m.description",icon:"arrow_right_alt",component:_N,types:["alias"],groups:["o2m"],relational:!0,options:F_(yN,[["render",function(e,t,l,a,i,n){const o=S("v-notice"),s=S("v-field-template"),r=S("v-checkbox");return null===e.relatedCollection?(E(),A(o,{key:0,type:"warning"},{default:D((()=>[N(U(e.t("interfaces.list-o2m.no_collection")),1)])),_:1})):(E(),P("div",hN,[j("div",gN,[j("p",bN,U(e.t("display_template")),1),I(s,{modelValue:e.template,"onUpdate:modelValue":t[0]||(t[0]=t=>e.template=t),collection:e.relatedCollection,depth:2,inject:e.relatedCollectionInfo?null:{fields:e.newFields,collections:e.newCollections,relations:e.relations},placeholder:e.relatedCollectionInfo&&e.relatedCollectionInfo.meta&&e.relatedCollectionInfo.meta.display_template},null,8,["modelValue","collection","inject","placeholder"])]),j("div",kN,[j("p",wN,U(e.t("creating_items")),1),I(r,{modelValue:e.enableCreate,"onUpdate:modelValue":t[1]||(t[1]=t=>e.enableCreate=t),block:"",label:e.t("enable_create_button")},null,8,["modelValue","label"])]),j("div",xN,[j("p",VN,U(e.t("selecting_items")),1),I(r,{modelValue:e.enableSelect,"onUpdate:modelValue":t[2]||(t[2]=t=>e.enableSelect=t),block:"",label:e.t("enable_select_button")},null,8,["modelValue","label"])])]))}]]),recommendedDisplays:["related-values"]}),SN=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:CN});const EN=w({props:{collection:{type:String,required:!0},fieldData:{type:Object,default:null},relations:{type:Array,default:()=>[]},value:{type:Object,default:null}},emits:["input"],setup(e,{emit:t}){const{t:l}=x();return{t:l,template:V({get(){var t;return null==(t=e.value)?void 0:t.displayTemplate},set(l){t("input",r(s({},e.value||{}),{displayTemplate:l}))}}),enableCreate:V({get(){var t,l;return null==(l=null==(t=e.value)?void 0:t.enableCreate)||l},set(l){t("input",r(s({},e.value||{}),{enableCreate:l}))}}),enableSelect:V({get(){var t,l;return null==(l=null==(t=e.value)?void 0:t.enableSelect)||l},set(l){t("input",r(s({},e.value||{}),{enableSelect:l}))}})}}}),AN={key:1,class:"form-grid"},DN={class:"field full"},IN={class:"type-label"},FN={class:"field half-left"},ON={class:"type-label"},$N={class:"field half-right"},TN={class:"type-label"};var PN=F_(EN,[["render",function(e,t,l,a,i,n){const o=S("v-notice"),s=S("v-field-template"),r=S("v-checkbox");return null===e.collection?(E(),A(o,{key:0,class:"full",type:"warning"},{default:D((()=>[N(U(e.t("interfaces.list-o2m.no_collection")),1)])),_:1})):(E(),P("div",AN,[j("div",DN,[j("p",IN,U(e.t("interfaces.select-dropdown-m2o.display_template")),1),I(s,{modelValue:e.template,"onUpdate:modelValue":t[0]||(t[0]=t=>e.template=t),collection:e.collection,depth:1},null,8,["modelValue","collection"])]),j("div",FN,[j("p",ON,U(e.t("creating_items")),1),I(r,{modelValue:e.enableCreate,"onUpdate:modelValue":t[1]||(t[1]=t=>e.enableCreate=t),block:"",label:e.t("enable_create_button")},null,8,["modelValue","label"])]),j("div",$N,[j("p",TN,U(e.t("selecting_items")),1),I(r,{modelValue:e.enableSelect,"onUpdate:modelValue":t[2]||(t[2]=t=>e.enableSelect=t),block:"",label:e.t("enable_select_button")},null,8,["modelValue","label"])])]))}]]);const jN=w({components:{DrawerItem:Gj},props:{collection:{type:String,required:!0},template:{type:String,required:!0},item:{type:Object,required:!0},primaryKeyField:{type:String,required:!0},disabled:{type:Boolean,default:!1},parentField:{type:String,required:!0}},emits:["deselect","input"],setup(){const{t:e}=x();return{t:e,editActive:F(!1)}}}),LN={class:"preview"},RN=(e=>(K("data-v-569bebef"),e=e(),W(),e))((()=>j("div",{class:"spacer"},null,-1))),MN={key:0,class:"actions"};const UN=w({name:"NestedDraggable",components:{Draggable:Be,ItemPreview:F_(jN,[["render",function(e,t,l,a,i,n){const o=S("render-template"),s=S("v-icon"),r=S("drawer-item"),d=q("tooltip");return E(),P("div",LN,[I(o,{collection:e.collection,template:e.template,item:e.item},null,8,["collection","template","item"]),RN,e.disabled?B("",!0):(E(),P("div",MN,[z(I(s,{name:"launch",clickable:"",onClick:t[0]||(t[0]=t=>e.editActive=!0)},null,512),[[d,e.t("edit")]]),z(I(s,{name:"clear",clickable:"",onClick:t[1]||(t[1]=t=>e.$emit("deselect"))},null,512),[[d,e.t("deselect")]])])),I(r,{active:e.editActive,"onUpdate:active":t[2]||(t[2]=t=>e.editActive=t),collection:e.collection,"primary-key":e.item[e.primaryKeyField]||"+",edits:e.item,"circular-field":e.parentField,onInput:t[3]||(t[3]=t=>e.$emit("input",t))},null,8,["active","collection","primary-key","edits","circular-field"])])}],["__scopeId","data-v-569bebef"]])},props:{tree:{required:!0,type:Array,default:()=>[]},root:{type:Boolean,default:!1},collection:{type:String,required:!0},template:{type:String,required:!0},primaryKeyField:{type:String,required:!0},parentField:{type:String,required:!0},childrenField:{type:String,required:!0},disabled:{type:Boolean,default:!1}},emits:["change","input"],setup:(e,{emit:t})=>({drag:F(!1),hideDragImage:VS,editActive:F(!1),dragOptions:{animation:150,group:"description",disabled:!1,ghostClass:"ghost"},replaceItem:function(l,a){t("input",e.tree.map(((e,t)=>t===l?a:e)))},removeItem:function(l){t("input",e.tree.filter(((e,t)=>t!==l)))},replaceChildren:function(l,a){t("input",e.tree.map(((t,i)=>i===l?r(s({},t),{[e.childrenField]:a}):t)))}})}),NN={class:"row"};const BN=w({components:{NestedDraggable:F_(UN,[["render",function(e,t,l,a,i,n){const o=S("item-preview"),s=S("nested-draggable",!0),r=S("draggable");return E(),A(r,Z(e.dragOptions,{class:["drag-area",{root:e.root,drag:e.drag}],tag:"ul",list:e.tree,group:{name:"g1"},"item-key":"id",draggable:".row","set-data":e.hideDragImage,disabled:e.disabled,"force-fallback":!0,onStart:t[1]||(t[1]=t=>e.drag=!0),onEnd:t[2]||(t[2]=t=>e.drag=!1),onChange:t[3]||(t[3]=t=>e.$emit("change",t))}),{item:D((({element:l,index:a})=>[j("li",NN,[I(o,{item:l,template:e.template,collection:e.collection,"primary-key-field":e.primaryKeyField,disabled:e.disabled,"parent-field":e.parentField,onInput:t=>e.replaceItem(a,t),onDeselect:t=>e.removeItem(a)},null,8,["item","template","collection","primary-key-field","disabled","parent-field","onInput","onDeselect"]),I(s,{tree:l[e.childrenField]||[],template:e.template,collection:e.collection,"primary-key-field":e.primaryKeyField,"parent-field":e.parentField,"children-field":e.childrenField,disabled:e.disabled,onChange:t[0]||(t[0]=t=>e.$emit("change",t)),onInput:t=>e.replaceChildren(a,t)},null,8,["tree","template","collection","primary-key-field","parent-field","children-field","disabled","onInput"])])])),_:1},16,["class","list","set-data","disabled"])}],["__scopeId","data-v-44b865b0"]]),DrawerCollection:hj,DrawerItem:Gj},props:{value:{type:Array,default:null},displayTemplate:{type:String,default:void 0},disabled:{type:Boolean,default:!1},collection:{type:String,required:!0},field:{type:String,required:!0},primaryKey:{type:[String,Number],default:void 0},enableCreate:{type:Boolean,default:!0},enableSelect:{type:Boolean,default:!0}},emits:["input"],setup(e,{emit:t}){const{t:l}=x(),a=VI(),i=F([]),{relation:n}={relation:V((()=>{var t;return null==(t=a.getRelationsForField(e.collection,e.field))?void 0:t[0]}))},{info:o,primaryKeyField:d}=Xt(n.value.related_collection),{loading:c,error:u,stagedValues:p,fetchValues:m,emitValue:f}=function(){const l=F(!1),a=F(null),i=F([]);return{loading:l,error:a,stagedValues:i,fetchValues:async function(){var t,s,r;if(!e.primaryKey||!n.value||"+"===e.primaryKey)return;if((null==(t=e.value)?void 0:t.length)>0&&e.value.every((e=>"object"==typeof e)))return void(i.value=e.value);l.value=!0;try{const t=await dI.get(`/items/${e.collection}/${encodeURIComponent(e.primaryKey)}`,{params:{fields:o()}});i.value=null!=(r=null==(s=t.data.data)?void 0:s[n.value.meta.one_field])?r:[]}catch(d){a.value=d}finally{l.value=!1}},emitValue:function(e){var l;if(i.value=e,null==(l=n.value.meta)?void 0:l.sort_field)return t("input",a(e));function a(e){return(e||[]).map(((e,t)=>r(s({},e),{[n.value.meta.sort_field]:t+1,[n.value.meta.one_field]:a(e[n.value.meta.one_field])})))}t("input",e)},getFieldsToFetch:o};function o(){var e;const t=[...new Set([null==(e=d.value)?void 0:e.field,n.value.meta.one_field,...el(b.value)])],l=[],a=`${n.value.meta.one_field}.`;for(let i=1;i<=5;i++)for(const e of t)l.push(`${a.repeat(i)}${e}`);return l}}(),{stageSelection:v,selectDrawer:_,selectionFilters:y}=function(){const t=F(!1),l=V((()=>{var t;const l=null==(t=d.value)?void 0:t.field;return null!==p.value&&l&&e.primaryKey?[e.primaryKey,...function e(t){const a=[];if(l)for(const i of t){if(!i[l])continue;a.push(i[l]);const t=e(i[n.value.meta.one_field]);a.push(...t)}return a}(p.value)]:[]})),a=V((()=>{var e;const t=null==(e=d.value)?void 0:e.field;return 0===l.value.length?[]:[{key:"selection",field:t,operator:"nin",value:l.value.join(","),locked:!0},{key:"parent",field:n.value.field,operator:"null",value:!0,locked:!0}]}));return{stageSelection:async function(t){var a,i,o;c.value=!0;const s=t.filter((e=>!1===l.value.includes(e))),r=[...new Set([null==(a=d.value)?void 0:a.field,n.value.meta.one_field,...el(b.value)])],u=[],m=`${n.value.meta.one_field}.`;for(let e=1;e<=5;e++)for(const t of r)u.push(`${m.repeat(e)}${t}`);if(!(null==(i=d.value)?void 0:i.field))return;const v=[...(await dI.get(`/items/${e.collection}`,{params:{fields:[...r,...u],filter:{[null==(o=d.value)?void 0:o.field]:{_in:s}}}})).data.data,...p.value];0===v.length?f([]):f(v);c.value=!1},selectDrawer:t,selectionFilters:a}}(),{addNewActive:h,addNew:g}={addNewActive:F(!1),addNew:function(e){f([...p.value,e])}},b=V((()=>{var t,l,a;return e.displayTemplate||(null==(l=null==(t=o.value)?void 0:t.meta)?void 0:l.display_template)||`{{${null==(a=d.value)?void 0:a.field}}}`}));ee(m),O((()=>e.primaryKey),m,{immediate:!0});const k=F(!1);return{t:l,relation:n,openItems:i,template:b,loading:c,error:u,stagedValues:p,fetchValues:m,primaryKeyField:d,onDraggableChange:function(){f(p.value)},hideDragImage:VS,dragging:k,emitValue:f,stageSelection:v,selectDrawer:_,selectionFilters:y,addNewActive:h,addNew:g}}}),qN={key:1,class:"tree-view"},zN={key:0,class:"actions"};var KN=ol({id:"list-o2m-tree-view",name:"$t:tree_view",description:"$t:interfaces.list-o2m-tree-view.description",icon:"account_tree",types:["alias"],groups:["o2m"],relational:!0,component:F_(BN,[["render",function(e,t,l,a,i,n){const o=S("v-notice"),s=S("nested-draggable"),r=S("v-button"),d=S("drawer-item"),c=S("drawer-collection");return e.relation.collection!==e.relation.related_collection?(E(),A(o,{key:0,type:"warning"},{default:D((()=>[N(U(e.t("interfaces.list-o2m-tree-view.recursive_only")),1)])),_:1})):(E(),P("div",qN,[I(s,{template:e.template,collection:e.collection,tree:e.stagedValues||[],"primary-key-field":e.primaryKeyField.field,"children-field":e.relation.meta.one_field,"parent-field":e.relation.field,disabled:e.disabled,root:"",onChange:e.onDraggableChange,onInput:e.emitValue},null,8,["template","collection","tree","primary-key-field","children-field","parent-field","disabled","onChange","onInput"]),e.disabled?B("",!0):(E(),P("div",zN,[e.enableCreate?(E(),A(r,{key:0,onClick:t[0]||(t[0]=t=>e.addNewActive=!0)},{default:D((()=>[N(U(e.t("create_new")),1)])),_:1})):B("",!0),e.enableSelect?(E(),A(r,{key:1,onClick:t[1]||(t[1]=t=>e.selectDrawer=!0)},{default:D((()=>[N(U(e.t("add_existing")),1)])),_:1})):B("",!0)])),e.disabled?B("",!0):(E(),A(d,{key:1,active:e.addNewActive,collection:e.collection,"primary-key":"+",edits:{},"circular-field":e.relation.field,onInput:e.addNew,"onUpdate:active":t[2]||(t[2]=t=>e.addNewActive=!1)},null,8,["active","collection","circular-field","onInput"])),e.disabled?B("",!0):(E(),A(c,{key:2,active:e.selectDrawer,"onUpdate:active":t[3]||(t[3]=t=>e.selectDrawer=t),collection:e.collection,selection:[],filters:e.selectionFilters,multiple:"",onInput:e.stageSelection},null,8,["active","collection","filters","onInput"]))]))}],["__scopeId","data-v-1eef408c"]]),options:PN}),WN=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:KN});class HN{constructor(e,t){d(this,"active"),d(this,"element"),d(this,"groupElement"),this.className=e,this.callback=t,this.element=document.createElement("button"),this.element.className=this.className,this.element.onclick=t,this.active=!1}click(...e){this.callback(...e)}activate(e){this.element.classList[e?"add":"remove"]("active"),this.active=e}show(e){this.element.classList[e?"remove":"add"]("hidden")}onAdd(){return this.groupElement=document.createElement("div"),this.groupElement.className="mapboxgl-ctrl mapboxgl-ctrl-group",this.groupElement.appendChild(this.element),this.groupElement}onRemove(){var e;this.element.remove(),null==(e=this.groupElement)||e.remove()}}class GN{constructor(e){var t,l,a,i,n;d(this,"groupElement"),d(this,"boxElement"),d(this,"selectButton"),d(this,"unselectButton"),d(this,"map"),d(this,"layers"),d(this,"selecting",!1),d(this,"shiftPressed",!1),d(this,"startPos"),d(this,"lastPos"),d(this,"onKeyDownHandler"),d(this,"onKeyUpHandler"),d(this,"onMouseDownHandler"),d(this,"onMouseMoveHandler"),d(this,"onMouseUpHandler"),this.layers=null!=(t=null==e?void 0:e.layers)?t:[],this.boxElement=document.createElement("div"),this.boxElement.className=null!=(l=null==e?void 0:e.boxElementClass)?l:"selection-box",this.groupElement=document.createElement("div"),this.groupElement.className=null!=(a=null==e?void 0:e.groupElementClass)?a:"mapboxgl-ctrl mapboxgl-ctrl-group",this.selectButton=new HN(null!=(i=null==e?void 0:e.selectButtonClass)?i:"ctrl-select",(()=>{this.activate(!this.shiftPressed)})),this.unselectButton=new HN(null!=(n=null==e?void 0:e.unselectButtonClass)?n:"ctrl-unselect",(()=>{this.reset(),this.activate(!1),this.map.fire("select.end",{features:[]})})),this.groupElement.appendChild(this.selectButton.element),this.groupElement.appendChild(this.unselectButton.element),this.onKeyDownHandler=this.onKeyDown.bind(this),this.onKeyUpHandler=this.onKeyUp.bind(this),this.onMouseDownHandler=this.onMouseDown.bind(this),this.onMouseMoveHandler=this.onMouseMove.bind(this),this.onMouseUpHandler=this.onMouseUp.bind(this)}onAdd(e){return this.map=e,this.map.boxZoom.disable(),this.map.getContainer().appendChild(this.boxElement),this.map.getContainer().addEventListener("pointerdown",this.onMouseDownHandler,!0),document.addEventListener("keydown",this.onKeyDownHandler),document.addEventListener("keyup",this.onKeyUpHandler),this.groupElement}onRemove(){this.map.boxZoom.enable(),this.boxElement.remove(),this.groupElement.remove(),this.map.getContainer().removeEventListener("pointerdown",this.onMouseDownHandler),document.removeEventListener("keydown",this.onKeyDownHandler),document.removeEventListener("keyup",this.onKeyUpHandler)}active(){return this.shiftPressed||this.selecting}getMousePosition(e){const t=this.map.getContainer(),l=t.getBoundingClientRect();return new Tt.exports.Point(e.clientX-l.left-t.clientLeft,e.clientY-l.top-t.clientTop)}onKeyDown(e){"Shift"==e.key&&this.activate(!0),"Escape"==e.key&&(this.reset(),this.activate(!1),this.map.fire("select.end",{features:[]}))}activate(e){this.shiftPressed=e,this.selectButton.activate(e),this.map.fire("select."+(e?"enable":"disable"))}onKeyUp(e){"Shift"==e.key&&this.activate(!1)}onMouseDown(e){this.shiftPressed&&0===e.button&&(this.selecting=!0,this.map.dragPan.disable(),this.startPos=this.getMousePosition(e),this.lastPos=this.startPos,document.addEventListener("pointermove",this.onMouseMoveHandler),document.addEventListener("pointerup",this.onMouseUpHandler),this.map.fire("select.start"))}onMouseMove(e){this.lastPos=this.getMousePosition(e);const t=Math.min(this.startPos.x,this.lastPos.x),l=Math.max(this.startPos.x,this.lastPos.x),a=Math.min(this.startPos.y,this.lastPos.y),i=`translate(${t}px, ${a}px)`,n=l-t+"px",o=Math.max(this.startPos.y,this.lastPos.y)-a+"px";this.updateBoxStyle({transform:i,width:n,height:o})}onMouseUp(e){this.reset();const t=this.map.queryRenderedFeatures([this.startPos,this.lastPos],{layers:this.layers});this.map.fire("select.end",{features:t,alt:e.altKey})}reset(){this.selecting=!1,this.updateBoxStyle({width:"0",height:"0",transform:""}),document.removeEventListener("pointermove",this.onMouseMoveHandler),document.removeEventListener("pointerup",this.onMouseUpHandler),this.map.dragPan.enable()}updateBoxStyle(e){this.boxElement.style.transform=e.transform,this.boxElement.style.width=e.width,this.boxElement.style.height=e.height}}function QN(e,t){return[Math.min(e[0],t[0]),Math.min(e[1],t[1]),Math.max(e[2],t[0]),Math.max(e[3],t[1])]}function XN(e){let t=[1/0,1/0,-1/0,-1/0];return Pt(e,(e=>{t=QN(t,e)})),t}function JN(e){switch(e){case"geometry":return"native";case"json":return"geojson";case"text":case"string":return"wkt";case"csv":return"lnglat";default:return}}function YN(e){const t=function(e){const{geometryFormat:t}=e;switch(t){case"native":case"geojson":return e=>e;case"wkt":return e=>Lt(e);case"lnglat":return e=>({type:"Point",coordinates:[Number(e[0]),Number(e[1])]});default:throw new Error(o_.global.t("interfaces.map.invalid_format",{format:t}))}}(e);return function(l){const a=l[e.geometryField],i=a&&t(a);if(i)return i.bbox=XN(i),i}}function ZN(e){if(!e)return[];if("GeometryCollection"==e.type)return e.geometries.flatMap(ZN);if(e.type.startsWith("Multi")){const t=e.type.replace("Multi","");return e.coordinates.map((e=>({type:t,coordinates:e})))}return[e]}var eB=[{id:"directus-polygon-fill-inactive",type:"fill",filter:["all",["==","active","false"],["==","$type","Polygon"],["!=","mode","static"]],paint:{"fill-color":"#3bb2d0","fill-outline-color":"#3bb2d0","fill-opacity":.1}},{id:"directus-polygon-fill-active",type:"fill",filter:["all",["==","active","true"],["==","$type","Polygon"]],paint:{"fill-color":"#fbb03b","fill-outline-color":"#fbb03b","fill-opacity":.1}},{id:"directus-polygon-midpoint",type:"circle",filter:["all",["==","$type","Point"],["==","meta","midpoint"]],paint:{"circle-radius":3,"circle-color":"#fbb03b"}},{id:"directus-polygon-stroke-inactive",type:"line",filter:["all",["==","active","false"],["==","$type","Polygon"],["!=","mode","static"]],layout:{"line-cap":"round","line-join":"round"},paint:{"line-color":"#3bb2d0","line-width":2}},{id:"directus-polygon-stroke-active",type:"line",filter:["all",["==","active","true"],["==","$type","Polygon"]],layout:{"line-cap":"round","line-join":"round"},paint:{"line-color":"#fbb03b","line-dasharray":[.2,2],"line-width":2}},{id:"directus-line-inactive",type:"line",filter:["all",["==","active","false"],["==","$type","LineString"],["!=","mode","static"]],layout:{"line-cap":"round","line-join":"round"},paint:{"line-color":"#3bb2d0","line-width":2}},{id:"directus-line-active",type:"line",filter:["all",["==","$type","LineString"],["==","active","true"]],layout:{"line-cap":"round","line-join":"round"},paint:{"line-color":"#fbb03b","line-dasharray":[.2,2],"line-width":2}},{id:"directus-polygon-and-line-vertex-stroke-inactive",type:"circle",filter:["all",["==","meta","vertex"],["==","$type","Point"],["!=","mode","static"]],paint:{"circle-radius":5,"circle-color":"#fff"}},{id:"directus-polygon-and-line-vertex-inactive",type:"circle",filter:["all",["==","meta","vertex"],["==","$type","Point"],["!=","mode","static"]],paint:{"circle-radius":3,"circle-color":"#fbb03b"}},{id:"directus-points-shadow",filter:["all",["==","active","false"],["==","$type","Point"],["==","meta","feature"],["!=","meta","midpoint"]],type:"circle",paint:{"circle-pitch-alignment":"map","circle-blur":1,"circle-opacity":.5,"circle-radius":6}},{id:"directus-point-inactive",filter:["all",["==","$type","Point"],["==","active","false"],["==","meta","feature"],["!=","meta","midpoint"]],type:"symbol",layout:{"icon-image":"place","icon-anchor":"bottom","icon-allow-overlap":!0,"icon-size":1,"icon-offset":[0,3]},paint:{"icon-color":"#3bb2d0"}},{id:"directus-point-active",filter:["all",["==","$type","Point"],["==","active","true"],["==","meta","feature"],["!=","meta","midpoint"]],type:"symbol",layout:{"icon-image":"place","icon-anchor":"bottom","icon-allow-overlap":!0,"icon-size":1,"icon-offset":[0,3]},paint:{"icon-color":"#fbb03b"}},{id:"directus-point-static",type:"symbol",filter:["all",["==","$type","Point"],["==","mode","static"],["==","meta","feature"],["!=","meta","midpoint"]],layout:{"icon-image":"place","icon-anchor":"bottom","icon-allow-overlap":!0,"icon-size":1,"icon-offset":[0,3]},paint:{"icon-color":"#404040"}},{id:"directus-polygon-fill-static",type:"fill",filter:["all",["==","mode","static"],["==","$type","Polygon"]],paint:{"fill-color":"#404040","fill-outline-color":"#404040","fill-opacity":.1}},{id:"directus-polygon-stroke-static",type:"line",filter:["all",["==","mode","static"],["==","$type","Polygon"]],layout:{"line-cap":"round","line-join":"round"},paint:{"line-color":"#404040","line-width":2}},{id:"directus-line-static",type:"line",filter:["all",["==","mode","static"],["==","$type","LineString"]],layout:{"line-cap":"round","line-join":"round"},paint:{"line-color":"#404040","line-width":2}}];const tB=w({props:{type:{type:String,default:null},fieldData:{type:Object,default:void 0},value:{type:[Object,Array,String],default:null},loading:{type:Boolean,default:!0},disabled:{type:Boolean,default:!1},geometryFormat:{type:String,default:void 0},geometryType:{type:String,default:void 0},defaultView:{type:Object,default:()=>({})}},emits:["input"],setup(e,{emit:t}){var l,a,i;const{t:n}=x(),o=F(null);let r,d,c=F(!0);const u=F(),p=F(),f=null!=(i=null==(a=null==(l=e.fieldData)?void 0:l.schema)?void 0:a.geometry_type)?i:e.geometryType,v=e.geometryFormat||JN(e.type),_=ND(),y=dl(),{basemap:h}=T(y),g=V((()=>{var e;const t=null!=(e=_.find((e=>e.name==h.value)))?e:_[0];return h.value,BD(t)}));let b,k;try{b=YN({geometryFormat:v,geometryField:"value"}),k=function(e){const{geometryFormat:t}=e;switch(t){case"native":case"geojson":return e=>e;case"wkt":return e=>jt(e);case"lnglat":return e=>e.coordinates;default:throw new Error(o_.global.t("interfaces.map.invalid_format",{format:t}))}}({geometryFormat:v,geometryField:"value"})}catch(j){u.value=j}const w=RD("mapbox_key"),C={draw:new Rt(A(f)),fitData:new HN("mapboxgl-ctrl-fitdata",E),navigation:new Tt.exports.NavigationControl,geolocate:new Tt.exports.GeolocateControl};return ee((()=>{!function(){r=new Tt.exports.Map(s(s({container:o.value,style:g.value,attributionControl:!1,logoPosition:"bottom-right"},e.defaultView),w?{accessToken:w}:{})),r.addControl(C.navigation,"top-left"),r.addControl(C.geolocate,"top-left"),r.addControl(C.fitData,"top-left"),r.addControl(C.draw,"top-left"),w&&r.addControl(new Mt({accessToken:w,marker:!1}),"top-right");r.on("load",(async()=>{r.resize(),c.value=!1,await S(),r.on("basemapselect",(()=>{r.once("styledata",(async()=>{await S()}))})),r.on("draw.create",P),r.on("draw.delete",P),r.on("draw.update",P),r.on("draw.modechange",$)})),O((()=>e.value),(t=>{if(t)m.exports.isEqual(t,d&&k(d))||(D(),C.draw.changeMode("simple_select"));else if(C.draw.deleteAll(),d=null,f){const e=`draw_${m.exports.snakeCase(f.replace("Multi",""))}`;C.draw.changeMode(e)}e.disabled&&C.draw.changeMode("static")}),{immediate:!0}),O((()=>g.value),(async()=>{r.removeControl(C.draw),r.setStyle(g.value,{diff:!1}),C.draw=new Rt(A(f)),await S(),r.addControl(C.draw,"top-left"),D()})),O((()=>e.disabled),(()=>{r.removeControl(C.draw),C.draw=new Rt(A(f)),r.addControl(C.draw,"top-left"),D()}))}()})),he((()=>{r.remove()})),{t:n,container:o,mapLoading:c,resetValue:function(e){p.value=void 0,e&&t("input",null)},geometryParsingError:p,geometryOptionsError:u,basemaps:_,basemap:h};function S(){return new Promise(((e,t)=>{r.loadImage("https://cdn.jsdelivr.net/gh/google/material-design-icons/png/maps/place/materialicons/24dp/2x/baseline_place_black_24dp.png",((l,a)=>{l&&t(l),r.addImage("place",a,{sdf:!0}),e(!0)}))}))}function E(e){r&&d&&r.fitBounds(d.bbox,s({padding:80,maxZoom:8},e))}function A(t){const l={styles:eB,controls:{},userProperties:!0,displayControlsDefault:!1,modes:Object.assign(Rt.modes,{static:Ut})};if(e.disabled)return l;if(t){const e=m.exports.snakeCase(t.replace("Multi",""));return l.controls[e]=!0,l.controls.trash=!0,l}return l.controls.line_string=!0,l.controls.polygon=!0,l.controls.point=!0,l.controls.trash=!0,l}function D(){try{C.draw.deleteAll();const a=b(e);if(!a)return;!e.disabled&&(t=f,l=a.type,t&&l&&(t.startsWith("Multi")?t.replace("Multi","")!=l.replace("Multi",""):t!=l))&&(p.value=n("interfaces.map.unexpected_geometry",{expected:f,got:a.type}));const i=ZN(a);for(const e of i)C.draw.add(e);if(d=I(),d.bbox=XN(d),p.value){const e=XN(a);r.fitBounds(e,{padding:0,maxZoom:8,duration:0})}else E({duration:0})}catch(j){p.value=j}var t,l}function I(){const e=C.draw.getAll().features.map((e=>e.geometry));let t;if(0==e.length)return null;if(f)if(f.startsWith("Multi")){const l=e.filter((({type:e})=>`Multi${e}`==f)).map((({coordinates:e})=>e));t={type:f,coordinates:l}}else t=e[e.length-1];else t=e.length>1?{type:"GeometryCollection",geometries:e}:e[0];return t.bbox=XN(t),t}function $(t){if(!e.disabled&&t.mode.startsWith("draw")&&f&&!f.startsWith("Multi"))for(const e of C.draw.getAll().features.slice(0,-1))C.draw.delete(e.id)}function P(){d=I(),d?t("input",k(d)):(C.draw.deleteAll(),t("input",null))}}}),lB={class:"interface-map"},aB={ref:"container"},iB={class:"mapboxgl-ctrl-group mapboxgl-ctrl mapboxgl-ctrl-dropdown basemap-select"};var nB=F_(tB,[["render",function(e,t,l,a,i,n){const o=S("v-icon"),s=S("v-select"),r=S("v-notice"),d=S("v-info"),c=S("v-button"),u=S("v-card-actions");return E(),P("div",lB,[j("div",{class:H(["map",{loading:e.mapLoading,error:e.geometryParsingError||e.geometryOptionsError}])},[j("div",aB,null,512)],2),j("div",iB,[I(o,{name:"map"}),I(s,{modelValue:e.basemap,"onUpdate:modelValue":t[0]||(t[0]=t=>e.basemap=t),inline:"",items:e.basemaps.map((e=>({text:e.name,value:e.name})))},null,8,["modelValue","items"])]),I(We,{name:"fade"},{default:D((()=>[e.geometryOptionsError?(E(),A(d,{key:0,icon:"error",center:"",type:"danger",title:e.t("interfaces.map.invalid_options")},{default:D((()=>[I(r,{type:"danger",icon:!1},{default:D((()=>[N(U(e.geometryOptionsError),1)])),_:1})])),_:1},8,["title"])):e.geometryParsingError?(E(),A(d,{key:1,icon:"error",center:"",type:"warning",title:e.t("layouts.map.invalid_geometry")},{append:D((()=>[I(u,null,{default:D((()=>[I(c,{small:"",secondary:"",onClick:t[1]||(t[1]=t=>e.resetValue(!1))},{default:D((()=>[N(U(e.t("continue")),1)])),_:1}),I(c,{small:"",kind:"danger",onClick:t[2]||(t[2]=t=>e.resetValue(!0))},{default:D((()=>[N(U(e.t("reset")),1)])),_:1})])),_:1})])),default:D((()=>[I(r,{type:"warning",icon:!1},{default:D((()=>[N(U(e.geometryParsingError),1)])),_:1})])),_:1},8,["title"])):B("",!0)])),_:1})])}],["__scopeId","data-v-f06c7250"]]);const oB=w({props:{collection:{type:String,required:!0},fieldData:{type:Object,default:null},value:{type:Object,default:null}},emits:["input"],setup(e,{emit:t}){var l,a;const{t:i}=x(),n="geometry"==e.fieldData.type,o=n?e.fieldData.schema.geometry_type:void 0,r=n?"native":JN(e.fieldData.type),d=F(r),c=F("lnglat"==d.value?"Point":null!=o?o:null==(l=e.value)?void 0:l.geometryType),u=F(null==(a=e.value)?void 0:a.defaultView);O([d,c,u],(()=>{const e="lnglat"==d.value?"Point":c;t("input",{defaultView:u,geometryFormat:d,geometryType:e})}),{immediate:!0});const p=F(null);let m;const f=RD("mapbox_key"),v=ND(),_=dl(),{basemap:y}=T(_),h=V((()=>{var e;return BD(null!=(e=v.find((e=>e.name==y.value)))?e:v[0])}));return ee((()=>{m=new Tt.exports.Map(s(s({container:p.value,style:h.value,attributionControl:!1},u.value||{}),f?{accessToken:f}:{})),m.on("moveend",(()=>{u.value={center:m.getCenter(),zoom:m.getZoom(),bearing:m.getBearing(),pitch:m.getPitch()}}))})),he((()=>{m.remove()})),{t:i,isGeometry:n,nativeGeometryType:o,compatibleFormat:r,geometryFormat:d,GEOMETRY_TYPES:V_,geometryType:c,mapContainer:p}}}),sB={class:"form-grid"},rB={class:"field half-left"},dB={class:"type-label"},cB={class:"field half-right"},uB={class:"type-label"},pB={class:"field"},mB={class:"type-label"},fB={ref:"mapContainer",class:"map"};var vB=ol({id:"map",name:"$t:interfaces.map.map",description:"$t:interfaces.map.description",icon:"map",component:nB,types:["geometry","json","string","text","binary","csv"],options:F_(oB,[["render",function(e,t,l,a,i,n){const o=S("v-input"),s=S("v-select");return E(),P("div",sB,[j("div",rB,[j("div",dB,U(e.t("interfaces.map.geometry_format")),1),I(o,{modelValue:e.geometryFormat,"onUpdate:modelValue":t[0]||(t[0]=t=>e.geometryFormat=t),disabled:!0,value:e.t(`interfaces.map.${e.compatibleFormat}`)},null,8,["modelValue","value"])]),j("div",cB,[j("div",uB,U(e.t("interfaces.map.geometry_type")),1),I(s,{modelValue:e.geometryType,"onUpdate:modelValue":t[1]||(t[1]=t=>e.geometryType=t),placeholder:e.t("any"),"show-deselect":!0,disabled:!!e.nativeGeometryType||"lnglat"==e.geometryFormat,items:e.GEOMETRY_TYPES.map((e=>({value:e,text:e})))},null,8,["modelValue","placeholder","disabled","items"])]),j("div",pB,[j("div",mB,U(e.t("interfaces.map.default_view")),1),j("div",fB,null,512)])])}],["__scopeId","data-v-0becc90b"]]),recommendedDisplays:[]}),_B=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:vB});var yB=ol({id:"presentation-divider",name:"$t:interfaces.presentation-divider.divider",description:"$t:interfaces.presentation-divider.description",icon:"remove",component:F_(w({props:{color:{type:String,default:null},icon:{type:String,default:null},title:{type:String,default:null},inlineTitle:{type:Boolean,default:!1}}}),[["render",function(e,t,l,a,i,n){const o=S("v-icon"),s=S("v-divider");return E(),A(s,{class:H({margin:e.icon||e.title}),style:Ue({"--v-divider-label-color":e.color,"--v-divider-color":"var(--border-subdued)"}),large:"","inline-title":e.inlineTitle},G({_:2},[e.icon?{name:"icon",fn:D((()=>[I(o,{name:e.icon},null,8,["name"])]))}:void 0,e.title?{name:"default",fn:D((()=>[N(U(e.title),1)]))}:void 0]),1032,["class","style","inline-title"])}],["__scopeId","data-v-17e1ad5a"]]),hideLabel:!0,hideLoader:!0,types:["alias"],groups:["presentation"],options:[{field:"color",name:"$t:color",type:"string",meta:{width:"half",interface:"select-color"}},{field:"icon",name:"$t:icon",type:"string",meta:{width:"half",interface:"select-icon"}},{field:"title",name:"$t:title",type:"string",meta:{width:"full",interface:"input",options:{placeholder:"$t:interfaces.presentation-divider.title_placeholder"}}},{field:"marginTop",name:"$t:interfaces.presentation-divider.margin_top",type:"boolean",meta:{width:"half",interface:"boolean",options:{label:"$t:interfaces.presentation-divider.margin_top_label"}},schema:{default_value:!1}},{field:"inlineTitle",name:"$t:interfaces.presentation-divider.inline_title",type:"boolean",meta:{width:"half",interface:"boolean",options:{label:"$t:interfaces.presentation-divider.inline_title_label"}},schema:{default_value:!1}}]}),hB=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:yB});const gB=w({props:{disabled:{type:Boolean,default:!1},links:{type:Array,default:null}},setup(e){const t=ae("values",F({}));return{linksParsed:V((()=>e.links.map((e=>{var l;return r(s({},e),{url:Ce(null!=(l=e.url)?l:"",t.value)})}))))}}}),bB={class:"presentation-links"},kB={key:1};var wB=ol({id:"presentation-links",name:"$t:interfaces.presentation-links.presentation-links",description:"$t:interfaces.presentation-links.description",icon:"smart_button",component:F_(gB,[["render",function(e,t,l,a,i,n){const o=S("v-icon"),s=S("v-button");return E(),P("div",bB,[(E(!0),P(R,null,M(e.linksParsed,((t,l)=>(E(),A(s,{key:l,class:H(["action",[t.type]]),secondary:"primary"!==t.type,disabled:e.disabled,icon:!t.label,href:t.url},{default:D((()=>[t.icon?(E(),A(o,{key:0,left:"",name:t.icon},null,8,["name"])):B("",!0),t.label?(E(),P("span",kB,U(t.label),1)):B("",!0)])),_:2},1032,["class","secondary","disabled","icon","href"])))),128))])}],["__scopeId","data-v-43780fec"]]),hideLabel:!0,hideLoader:!0,types:["alias"],groups:["presentation"],options:[{field:"links",type:"json",name:"$t:interfaces.presentation-links.links",meta:{width:"full",interface:"list",options:{placeholder:"$t:title",template:"{{ label }}",fields:[{field:"label",type:"string",name:"$t:label",meta:{width:"full",interface:"input",options:{placeholder:"$t:label"}}},{field:"icon",name:"$t:icon",type:"string",meta:{width:"half",interface:"select-icon"}},{field:"type",name:"$t:type",type:"string",meta:{width:"half",interface:"select-dropdown",default_value:"normal",options:{choices:[{text:"$t:primary",value:"primary"},{text:"$t:normal",value:"normal"},{text:"$t:info",value:"info"},{text:"$t:success",value:"success"},{text:"$t:warning",value:"warning"},{text:"$t:danger",value:"danger"}]}},schema:{default_value:"normal"}},{field:"url",type:"string",name:"$t:url",meta:{width:"full",interface:"input",options:{font:"monospace",placeholder:"https://example.com/articles/{{ id }}/{{ slug }}"}}}]}}}]}),xB=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:wB});const VB=w({props:{color:{type:String,default:"normal"},icon:{type:String,default:"info"},text:{type:String,default:"No text configured..."}}}),CB={class:"presentation-notice"};var SB=ol({id:"presentation-notice",name:"$t:interfaces.presentation-notice.notice",description:"$t:interfaces.presentation-notice.description",icon:"info",component:F_(VB,[["render",function(e,t,l,a,i,n){const o=S("v-notice"),s=q("md");return E(),P("div",CB,[I(o,{icon:e.icon,type:e.color},{default:D((()=>[z(j("div",null,null,512),[[s,e.text]])])),_:1},8,["icon","type"])])}]]),hideLabel:!0,hideLoader:!0,types:["alias"],groups:["presentation"],options:[{field:"color",name:"$t:color",type:"string",meta:{width:"half",interface:"select-dropdown",options:{choices:[{text:"$t:normal",value:"normal"},{text:"$t:info",value:"info"},{text:"$t:success",value:"success"},{text:"$t:warning",value:"warning"},{text:"$t:danger",value:"danger"}]}},schema:{default_value:"normal"}},{field:"icon",name:"$t:icon",type:"string",meta:{width:"half",interface:"select-icon"}},{field:"text",name:"$t:text",type:"string",meta:{width:"full",interface:"input-multiline",options:{placeholder:"$t:interfaces.presentation-notice.text"}}}]}),EB=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:SB});const AB=w({props:{disabled:{type:Boolean,default:!1},value:{type:String,default:null,validator:e=>null===e||""===e||xL(e)},placeholder:{type:String,default:null},presets:{type:Array,default:()=>[{name:"Red",color:"#E35169"},{name:"Orange",color:"#F7971C"},{name:"Yellow",color:"#F2C94C"},{name:"Green",color:"#00C897"},{name:"Blue",color:"#68B0F4"},{name:"Purple",color:"#9E8DE4"},{name:"Gray",color:"#607D8B"},{name:"Light Gray",color:"#ECEFF1"},{name:"White",color:"#FFFFFF"}]},width:{type:String,required:!0}},emits:["input"],setup(e,{emit:t}){const{t:l}=x(),a=F(null),i=F("RGB");function n(){t("input",null)}const o=V((()=>null!==d.value&&null!==e.value)),s=V((()=>{if(null===u.value)return!0;const e=getComputedStyle(document.body).getPropertyValue("--background-page").trim(),t=Vt(e);return u.value.contrast(t)<1.1})),{hsl:r,rgb:d,hex:c,color:u}=function(){const l=F(null);O((()=>e.value),(e=>{l.value=null!==e?Vt(e):null}),{immediate:!0});const a=V({get:()=>null!==l.value?l.value.rgb().array().map(Math.round):[0,0,0],set(e){s(Vt.rgb(e))}}),i=V({get:()=>null!==l.value?l.value.hsl().array().map(Math.round):[0,0,0],set(e){s(Vt.hsl(e))}}),o=V({get:()=>null!==l.value?l.value.hex():null,set(e){if(null===e||""===e)n();else{if(!1===xL(e))return;s(Vt(e))}}});return{rgb:a,hsl:i,hex:o,color:l};function s(e){l.value=e,null===e?n():t("input",e.hex())}}();return{t:l,colorTypes:["RGB","HSL"],colorType:i,rgb:d,hsl:r,hex:c,htmlColorInput:a,activateColorPicker:function(){var e;(null==(e=a.value)?void 0:e.$el).getElementsByTagName("input")[0].click()},isValidColor:o,Color:Vt,setValue:function(e,t,l){if("rgb"===e){const e=[...d.value];e[t]=l,d.value=e}else{const e=[...r.value];e[t]=l,r.value=e}},lowContrast:s,unsetColor:n}}}),DB={class:"color-data-input color-type"},IB={key:0,class:"presets"};var FB=ol({id:"select-color",name:"$t:interfaces.select-color.color",description:"$t:interfaces.select-color.description",icon:"palette",component:F_(AB,[["render",function(e,t,l,a,i,n){const o=S("v-input"),s=S("v-icon"),r=S("v-button"),d=S("v-select"),c=S("v-menu"),u=q("tooltip");return E(),A(c,{attached:"",disabled:e.disabled,"close-on-content-click":!1},{activator:D((({activate:l})=>[I(o,{modelValue:e.hex,"onUpdate:modelValue":t[1]||(t[1]=t=>e.hex=t),disabled:e.disabled,placeholder:e.placeholder||e.t("interfaces.select-color.placeholder"),pattern:/#([a-f\d]{2}){3}/i,class:"color-input",maxlength:"7",onFocus:l},{prepend:D((()=>[I(o,{ref:"htmlColorInput",modelValue:e.hex,"onUpdate:modelValue":t[0]||(t[0]=t=>e.hex=t),type:"color",class:"html-color-select"},null,8,["modelValue"]),I(r,{class:"swatch",icon:!0,style:Ue({"--v-button-background-color":e.isValidColor?e.hex:"transparent",border:!1===e.lowContrast?"none":"var(--border-width) solid var(--border-normal)"}),onClick:e.activateColorPicker},{default:D((()=>[e.isValidColor?B("",!0):(E(),A(s,{key:0,name:"colorize"}))])),_:1},8,["style","onClick"])])),append:D((()=>[I(s,{name:e.isValidColor?"close":"palette",clickable:"",onClick:e.unsetColor},null,8,["name","onClick"])])),_:2},1032,["modelValue","disabled","placeholder","pattern","onFocus"])])),default:D((()=>[j("div",{class:H(["color-data-inputs",{stacked:"half"===e.width}])},[j("div",DB,[I(d,{modelValue:e.colorType,"onUpdate:modelValue":t[2]||(t[2]=t=>e.colorType=t),items:e.colorTypes},null,8,["modelValue","items"])]),"RGB"===e.colorType?(E(!0),P(R,{key:0},M(e.rgb,((t,l)=>(E(),A(o,{key:l,type:"number","model-value":t,class:"color-data-input",pattern:"\\d*",min:0,max:255,step:1,maxlength:"3","onUpdate:modelValue":t=>e.setValue("rgb",l,t)},null,8,["model-value","onUpdate:modelValue"])))),128)):B("",!0),"HSL"===e.colorType?(E(!0),P(R,{key:1},M(e.hsl,((t,l)=>(E(),A(o,{key:l,type:"number","model-value":t,class:"color-data-input",pattern:"\\d*",min:0,max:0===l?360:100,step:1,maxlength:"3","onUpdate:modelValue":t=>e.setValue("hsl",l,t)},null,8,["model-value","max","onUpdate:modelValue"])))),128)):B("",!0)],2),e.presets?(E(),P("div",IB,[(E(!0),P(R,null,M(e.presets,(t=>z((E(),A(r,{key:t.color,class:"preset",rounded:"",icon:"",style:Ue({"--v-button-background-color":t.color}),onClick:()=>e.hex=t.color},null,8,["style","onClick"])),[[u,t.name]]))),128))])):B("",!0)])),_:1},8,["disabled"])}],["__scopeId","data-v-72f9a081"]]),types:["string"],recommendedDisplays:["color"],options:[{field:"presets",name:"$t:interfaces.select-color.preset_colors",type:"string",meta:{width:"full",interface:"list",options:{addLabel:"$t:interfaces.select-color.preset_colors_add_label",template:"{{ name }} - {{ color }}",fields:[{field:"name",type:"string",name:"$t:name",meta:{interface:"input",width:"half",options:{placeholder:"$t:interfaces.select-color.name_placeholder"}}},{field:"color",type:"string",name:"$t:color",meta:{interface:"select-color",width:"half"}}]}}}]}),OB=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:FB});var $B=ol({id:"select-dropdown",name:"$t:dropdown",description:"$t:interfaces.select-dropdown.description",icon:"arrow_drop_down_circle",component:F_(w({props:{disabled:{type:Boolean,default:!1},value:{type:String,default:null},choices:{type:Array,default:null},icon:{type:String,default:null},allowNone:{type:Boolean,default:!1},placeholder:{type:String,default:o_.global.t("select_an_item")},allowOther:{type:Boolean,default:!1}},emits:["input"],setup(){const{t:e}=x();return{t:e}}}),[["render",function(e,t,l,a,i,n){const o=S("v-notice"),s=S("v-icon"),r=S("v-select");return e.choices?(E(),A(r,{key:1,"model-value":e.value,items:e.choices,disabled:e.disabled,"show-deselect":e.allowNone,placeholder:e.placeholder,"allow-other":e.allowOther,"onUpdate:modelValue":t[0]||(t[0]=t=>e.$emit("input",t))},G({_:2},[e.icon?{name:"prepend",fn:D((()=>[I(s,{name:e.icon},null,8,["name"])]))}:void 0]),1032,["model-value","items","disabled","show-deselect","placeholder","allow-other"])):(E(),A(o,{key:0,type:"warning"},{default:D((()=>[N(U(e.t("choices_option_configured_incorrectly")),1)])),_:1}))}]]),types:["string"],options:[{field:"choices",type:"json",name:"$t:choices",meta:{width:"full",interface:"list",options:{placeholder:"$t:interfaces.select-dropdown.choices_placeholder",template:"{{ text }}",fields:[{field:"text",type:"string",name:"$t:text",meta:{interface:"input",width:"half",options:{placeholder:"$t:interfaces.select-dropdown.choices_name_placeholder"}}},{field:"value",type:"string",name:"$t:value",meta:{interface:"input",options:{font:"monospace",placeholder:"$t:interfaces.select-dropdown.choices_value_placeholder"},width:"half"}}]}}},{field:"allowOther",name:"$t:interfaces.select-dropdown.allow_other",type:"boolean",meta:{width:"half",interface:"boolean",options:{label:"$t:interfaces.select-dropdown.allow_other_label"}},schema:{default_value:!1}},{field:"allowNone",name:"$t:interfaces.select-dropdown.allow_none",type:"boolean",meta:{width:"half",interface:"boolean",options:{label:"$t:interfaces.select-dropdown.allow_none_label"}},schema:{default_value:!1}},{field:"icon",name:"$t:icon",type:"string",meta:{width:"half",interface:"select-icon"}},{field:"placeholder",name:"$t:placeholder",type:"string",meta:{width:"half",interface:"input",options:{placeholder:"$t:enter_a_placeholder"}}}],recommendedDisplays:["labels"]}),TB=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:$B});const PB=w({components:{DrawerItem:Gj,DrawerCollection:hj},props:{value:{type:[Number,String,Object],default:null},collection:{type:String,required:!0},field:{type:String,required:!0},template:{type:String,default:null},selectMode:{type:String,default:"auto"},disabled:{type:Boolean,default:!1}},emits:["input"],setup(e,{emit:t}){const{t:l}=x(),{collection:a}=T(e),i=VI(),n=pI(),{relation:o,relatedCollection:r,relatedPrimaryKeyField:d}=function(){const t=V((()=>{var t;return null==(t=i.getRelationsForField(e.collection,e.field))?void 0:t[0]})),l=V((()=>{var e;return(null==(e=t.value)?void 0:e.related_collection)?n.getCollection(t.value.related_collection):null})),a=V((()=>{var e,t;return null!=(t=null==(e=l.value)?void 0:e.collection)?t:null})),{primaryKeyField:o}=Xt(a);return{relation:t,relatedCollection:l,relatedPrimaryKeyField:o}}(),{usesMenu:c,menuActive:u}=P(),{info:p}=Xt(a),{selection:m,stageSelection:f,selectModalActive:v}=function(){const l=F(!1);return{selection:V((()=>{var t;return e.value&&d.value?"object"==typeof e.value&&d.value.field in(null!=(t=e.value)?t:{})?[e.value[d.value.field]]:"string"==typeof e.value||"number"==typeof e.value?[e.value]:[]:[]})),stageSelection:function(e){0===e.length?t("input",null):t("input",e[0])},selectModalActive:l}}(),{displayTemplate:_,onPreviewClick:y,requiredFields:h}=function(){const t=V((()=>{var t,l,a;return null!==e.template?e.template:(null==(l=null==(t=p.value)?void 0:t.meta)?void 0:l.display_template)||`{{ ${(null==(a=null==d?void 0:d.value)?void 0:a.field)||""} }}`})),l=V((()=>t.value&&r.value?Qj(el(t.value),r.value.collection):null));return{onPreviewClick:function(){if(e.disabled)return;if(!0===c.value){const e=!u.value;u.value=e,!0===e&&k()}else v.value=!0},displayTemplate:t,requiredFields:l}}(),{totalCount:g,loading:b,fetchItems:k,items:w}=function(){const e=F(null),t=F(null),l=F(!1);return O(r,(()=>{!async function(){if(!r.value)return;const t=r.value.collection.startsWith("directus_")?`/${r.value.collection.substring(9)}`:`/items/${r.value.collection}`,l=await dI.get(t,{params:{limit:0,meta:"total_count"}});e.value=l.data.meta.total_count}(),t.value=null})),{totalCount:e,fetchItems:async function(){if(null!==t.value)return;if(!r.value||!d.value)return;l.value=!0;const e=h.value||[];!1===e.includes(d.value.field)&&e.push(d.value.field);try{const a=r.value.collection.startsWith("directus_")?`/${r.value.collection.substring(9)}`:`/items/${r.value.collection}`,i=await dI.get(a,{params:{fields:e,limit:-1}});t.value=i.data.data}catch(a){jy(a)}finally{l.value=!1}},items:t,loading:l}}(),{setCurrent:C,currentItem:S,loading:E,currentPrimaryKey:A}=function(){const l=F(null),a=F(!1);O((()=>e.value),(t=>{var i;null===t||t===(null==(i=l.value)?void 0:i[d.value.field])||"string"!=typeof t&&"number"!=typeof t||async function(){if(!d.value||!r.value)return;a.value=!0;const t=h.value||[];!1===t.includes(d.value.field)&&t.push(d.value.field);try{const i=r.value.collection.startsWith("directus_")?`/${r.value.collection.substring(9)}/${e.value}`:`/items/${r.value.collection}/${encodeURIComponent(e.value)}`,n=await dI.get(i,{params:{fields:t}});l.value=n.data.data}catch(i){jy(i)}finally{a.value=!1}}(),null===t&&(l.value=null)}),{immediate:!0});const i=V((()=>{var t,a,i;return l.value&&e.value&&d.value?"number"==typeof e.value||"string"==typeof e.value?e.value:"object"==typeof e.value&&d.value.field in(null!=(t=e.value)?t:{})&&null!=(i=null==(a=e.value)?void 0:a[d.value.field])?i:"+":"+"}));return{setCurrent:function(e){if(!d.value)return;l.value=e,t("input",e[d.value.field])},currentItem:l,loading:a,currentPrimaryKey:i}}(),{edits:D,stageEdits:I}={edits:V((()=>e.value&&"object"==typeof e.value?e.value:{})),stageEdits:function(e){d.value&&(A.value&&"+"!==A.value?t("input",s({[d.value.field]:A.value},e)):(d.value.field in e&&"+"===e[d.value.field]&&delete e[d.value.field],t("input",e)),S.value=s(s({},S.value),e))}},$=F(!1);return{t:l,collectionInfo:p,currentItem:S,displayTemplate:_,items:w,itemsLoading:b,loadingCurrent:E,menuActive:u,onPreviewClick:y,relatedCollection:r,relation:o,selection:m,selectModalActive:v,setCurrent:C,totalCount:g,stageSelection:f,useMenu:P,currentPrimaryKey:A,edits:D,stageEdits:I,editModalActive:$,relatedPrimaryKeyField:d};function P(){return{menuActive:F(!1),usesMenu:V((()=>"modal"!==e.selectMode&&("dropdown"===e.selectMode||null!==g.value&&g.value<=100)))}}}}),jB={key:2,class:"many-to-one"},LB={class:"preview"};var RB=F_(PB,[["render",function(e,t,l,a,i,n){var o;const s=S("v-notice"),r=S("v-skeleton-loader"),d=S("render-template"),c=S("v-icon"),u=S("v-input"),p=S("v-list-item-content"),m=S("v-list-item"),f=S("v-list"),v=S("v-menu"),_=S("drawer-item"),y=S("drawer-collection"),h=q("tooltip");return e.relation?e.displayTemplate?(E(),P("div",jB,[I(v,{modelValue:e.menuActive,"onUpdate:modelValue":t[3]||(t[3]=t=>e.menuActive=t),attached:"",disabled:e.disabled},{activator:D((({active:l})=>[e.loadingCurrent?(E(),A(r,{key:0,type:"input"})):(E(),A(u,{key:1,active:l,clickable:"",placeholder:e.t("select_an_item"),disabled:e.disabled,onClick:e.onPreviewClick},G({_:2},[e.currentItem?{name:"input",fn:D((()=>[j("div",LB,[I(d,{collection:e.relatedCollection.collection,item:e.currentItem,template:e.displayTemplate},null,8,["collection","item","template"])])]))}:void 0,e.disabled?void 0:{name:"append",fn:D((()=>[e.currentItem?(E(),P(R,{key:0},[z(I(c,{name:"open_in_new",class:"edit",onClick:t[0]||(t[0]=X((t=>e.editModalActive=!0),["stop"]))},null,512),[[h,e.t("edit")]]),z(I(c,{name:"close",class:"deselect",onClick:t[1]||(t[1]=X((t=>e.$emit("input",null)),["stop"]))},null,512),[[h,e.t("deselect")]])],64)):(E(),P(R,{key:1},[z(I(c,{class:"add",name:"add",onClick:t[2]||(t[2]=X((t=>e.editModalActive=!0),["stop"]))},null,512),[[h,e.t("create_item")]]),I(c,{class:H(["expand",{active:l}]),name:"expand_more"},null,8,["class"])],64))]))}]),1032,["active","placeholder","disabled","onClick"]))])),default:D((()=>[I(f,null,{default:D((()=>[e.itemsLoading?(E(),P(R,{key:0},M(10,(e=>I(m,{key:`loader-${e}`},{default:D((()=>[I(p,null,{default:D((()=>[I(r,{type:"text"})])),_:1})])),_:2},1024))),64)):(E(!0),P(R,{key:1},M(e.items,(t=>(E(),A(m,{key:t[e.relatedPrimaryKeyField.field],active:e.value===t[e.relatedPrimaryKeyField.field],clickable:"",onClick:l=>e.setCurrent(t)},{default:D((()=>[I(p,null,{default:D((()=>[I(d,{collection:e.relatedCollection.collection,template:e.displayTemplate,item:t},null,8,["collection","template","item"])])),_:2},1024)])),_:2},1032,["active","onClick"])))),128))])),_:1})])),_:1},8,["modelValue","disabled"]),e.disabled?B("",!0):(E(),A(_,{key:0,active:e.editModalActive,"onUpdate:active":t[4]||(t[4]=t=>e.editModalActive=t),collection:e.relatedCollection.collection,"primary-key":e.currentPrimaryKey,edits:e.edits,"circular-field":null==(o=e.relation.meta)?void 0:o.one_field,onInput:e.stageEdits},null,8,["active","collection","primary-key","edits","circular-field","onInput"])),e.disabled?B("",!0):(E(),A(y,{key:1,active:e.selectModalActive,"onUpdate:active":t[5]||(t[5]=t=>e.selectModalActive=t),collection:e.relatedCollection.collection,selection:e.selection,onInput:e.stageSelection},null,8,["active","collection","selection","onInput"]))])):(E(),A(s,{key:1,type:"warning"},{default:D((()=>[N(U(e.t("display_template_not_setup")),1)])),_:1})):(E(),A(s,{key:0,type:"warning"},{default:D((()=>[N(U(e.t("relationship_not_setup")),1)])),_:1}))}],["__scopeId","data-v-35d9910c"]]);const MB=w({props:{collection:{type:String,required:!0},fieldData:{type:Object,default:null},relations:{type:Array,default:()=>[]},value:{type:Object,default:null}},emits:["input"],setup(e,{emit:t}){const{t:l}=x();return{t:l,template:V({get(){var t;return null==(t=e.value)?void 0:t.template},set(l){t("input",r(s({},e.value||{}),{template:l}))}}),relatedCollection:V((()=>{if(!e.fieldData||!e.relations||0===e.relations.length)return null;const{field:t}=e.fieldData,l=e.relations.find((l=>l.collection===e.collection&&l.field===t));return(null==l?void 0:l.related_collection)||null}))}}}),UB={key:1,class:"form-grid"},NB={class:"field full"},BB={class:"type-label"};var qB=ol({id:"select-dropdown-m2o",name:"$t:interfaces.select-dropdown-m2o.many-to-one",description:"$t:interfaces.select-dropdown-m2o.description",icon:"arrow_right_alt",component:RB,types:["uuid","string","text","integer","bigInteger"],relational:!0,groups:["m2o"],options:F_(MB,[["render",function(e,t,l,a,i,n){const o=S("v-notice"),s=S("v-field-template");return null===e.collection?(E(),A(o,{key:0,class:"full",type:"warning"},{default:D((()=>[N(U(e.t("interfaces.list-o2m.no_collection")),1)])),_:1})):(E(),P("div",UB,[j("div",NB,[j("p",BB,U(e.t("interfaces.select-dropdown-m2o.display_template")),1),I(s,{modelValue:e.template,"onUpdate:modelValue":t[0]||(t[0]=t=>e.template=t),collection:e.relatedCollection,depth:2},null,8,["modelValue","collection"])])]))}]]),recommendedDisplays:["related-values"]}),zB=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:qB}),KB=[{name:"action",icons:["3d_rotation","accessibility","accessibility_new","accessible","accessible_forward","account_balance","account_balance_wallet","account_box","account_circle","add_shopping_cart","addchart","admin_panel_settings","alarm","alarm_add","alarm_off","alarm_on","all_inbox","all_out","analytics","anchor","android","announcement","api","app_blocking","arrow_circle_down","arrow_circle_up","arrow_right_alt","article","aspect_ratio","assessment","assignment","assignment_ind","assignment_late","assignment_return","assignment_returned","assignment_turned_in","autorenew","backup","backup_table","batch_prediction","book","book_online","bookmark","bookmark_border","bookmarks","bug_report","build","build_circle","cached","calendar_today","calendar_view_day","camera_enhance","cancel_schedule_send","card_giftcard","card_membership","card_travel","change_history","check_circle","check_circle_outline","chrome_reader_mode","class","close_fullscreen","code","comment_bank","commute","compare_arrows","contact_support","contactless","copyright","credit_card","dashboard","date_range","delete","delete_forever","delete_outline","description","dns","done","done_all","done_outline","donut_large","donut_small","drag_indicator","dynamic_form","eco","eject","euro_symbol","event","event_seat","exit_to_app","explore","explore_off","extension","face","fact_check","favorite","favorite_border","feedback","filter_alt","find_in_page","find_replace","fingerprint","flaky","flight_land","flight_takeoff","flip_to_back","flip_to_front","g_translate","gavel","get_app","gif","grade","grading","group_work","help","help_center","help_outline","highlight_alt","highlight_off","history","history_toggle_off","home","horizontal_split","hourglass_disabled","hourglass_empty","hourglass_full","http","https","important_devices","info","input","integration_instructions","invert_colors","label","label_important","label_off","language","launch","line_style","line_weight","list","lock","lock_open","login","loyalty","markunread_mailbox","maximize","mediation","minimize","motorcycle","note_add","offline_bolt","offline_pin","online_prediction","opacity","open_in_browser","open_in_full","open_in_new","open_with","outlet","pageview","pan_tool","payment","pending","pending_actions","perm_camera_mic","perm_contact_calendar","perm_data_setting","perm_device_information","perm_identity","perm_media","perm_phone_msg","perm_scan_wifi","pets","picture_in_picture","picture_in_picture_alt","plagiarism","play_for_work","polymer","power_settings_new","pregnant_woman","preview","print","privacy_tip","query_builder","question_answer","quickreply","receipt","record_voice_over","redeem","remove_shopping_cart","reorder","report_problem","request_page","restore","restore_from_trash","restore_page","room","rounded_corner","rowing","rule","schedule","search","search_off","settings","settings_applications","settings_backup_restore","settings_bluetooth","settings_brightness","settings_cell","settings_ethernet","settings_input_antenna","settings_input_component","settings_input_composite","settings_input_hdmi","settings_input_svideo","settings_overscan","settings_phone","settings_power","settings_remote","settings_voice","shop","shop_two","shopping_bag","shopping_basket","shopping_cart","smart_button","source","speaker_notes","speaker_notes_off","spellcheck","star_rate","stars","store","subject","subtitles_off","supervised_user_circle","supervisor_account","support","swap_horiz","swap_horizontal_circle","swap_vert","swap_vertical_circle","sync_alt","system_update_alt","tab","tab_unselected","table_view","text_rotate_up","text_rotate_vertical","text_rotation_angledown","text_rotation_angleup","text_rotation_down","text_rotation_none","theaters","thumb_down","thumb_up","thumbs_up_down","timeline","toc","today","toll","touch_app","tour","track_changes","translate","trending_down","trending_flat","trending_up","turned_in","turned_in_not","update","upgrade","verified","verified_user","vertical_split","view_agenda","view_array","view_carousel","view_column","view_day","view_headline","view_list","view_module","view_quilt","view_sidebar","view_stream","view_week","visibility","visibility_off","voice_over_off","watch_later","wifi_protected_setup","work","work_off","work_outline","wysiwyg","youtube_searched_for","zoom_in","zoom_out"]},{name:"alert",icons:["add_alert","auto_delete","error","error_outline","notification_important","warning"]},{name:"av",icons:["4k","5g","add_to_queue","airplay","album","art_track","av_timer","branding_watermark","call_to_action","closed_caption","closed_caption_disabled","control_camera","equalizer","explicit","fast_forward","fast_rewind","featured_play_list","featured_video","fiber_dvr","fiber_manual_record","fiber_new","fiber_pin","fiber_smart_record","forward_10","forward_30","forward_5","games","hd","hearing","hearing_disabled","high_quality","library_add","library_add_check","library_books","library_music","loop","mic","mic_none","mic_off","missed_video_call","movie","music_video","new_releases","not_interested","note","pause","pause_circle_filled","pause_circle_outline","play_arrow","play_circle_filled","play_circle_filled_white","play_circle_outline","playlist_add","playlist_add_check","playlist_play","queue","queue_music","queue_play_next","radio","recent_actors","remove_from_queue","repeat","repeat_one","replay","replay_10","replay_30","replay_5","shuffle","skip_next","skip_previous","slow_motion_video","snooze","sort_by_alpha","speed","stop","stop_circle","subscriptions","subtitles","surround_sound","video_call","video_label","video_library","video_settings","videocam","videocam_off","volume_down","volume_mute","volume_off","volume_up","web","web_asset"]},{name:"communication",icons:["add_ic_call","alternate_email","business","call","call_end","call_made","call_merge","call_missed","call_missed_outgoing","call_received","call_split","cancel_presentation","wifi","chat","chat_bubble","chat_bubble_outline","clear_all","comment","contact_mail","contact_phone","contacts","desktop_access_disabled","dialer_sip","dialpad","domain_disabled","domain_verification","duo","email","forum","forward_to_inbox","hourglass_bottom","hourglass_top","import_contacts","import_export","invert_colors_off","list_alt","live_help","location_off","location_on","mail_outline","mark_chat_read","mark_chat_unread","mark_email_read","mark_email_unread","message","mobile_screen_share","more_time","nat","no_sim","pause_presentation","person_add_disabled","person_search","phone","phone_disabled","phone_enabled","phonelink_erase","phonelink_lock","phonelink_ring","phonelink_setup","portable_wifi_off","present_to_all","print_disabled","qr_code","qr_code_scanner","read_more","ring_volume","rss_feed","screen_share","sentiment_satisfied_alt","speaker_phone","stay_current_landscape","stay_current_portrait","stay_primary_landscape","stay_primary_portrait","stop_screen_share","swap_calls","textsms","unsubscribe","voicemail","vpn_key","wifi_calling"]},{name:"content",icons:["add","add_box","add_circle","add_circle_outline","amp_stories","archive","backspace","ballot","biotech","block","calculate","clear","content_copy","content_cut","content_paste","create","delete_sweep","drafts","dynamic_feed","file_copy","filter_list","flag","font_download","forward","gesture","how_to_reg","how_to_vote","inbox","insights","link","link_off","low_priority","mail","markunread","move_to_inbox","next_week","outlined_flag","policy","push_pin","redo","remove","remove_circle","remove_circle_outline","reply","reply_all","report","report_off","save","save_alt","select_all","send","sort","square_foot","text_format","unarchive","undo","waves","weekend","where_to_vote"]},{name:"device",icons:["access_alarm","access_alarms","access_time","ad_units","add_alarm","add_to_home_screen","airplanemode_active","airplanemode_inactive","battery_alert","battery_charging_full","battery_full","battery_unknown","bluetooth","bluetooth_connected","bluetooth_disabled","bluetooth_searching","brightness_auto","brightness_high","brightness_low","brightness_medium","data_usage","developer_mode","devices","dvr","gps_fixed","graphic_eq","location_disabled","location_searching","mobile_friendly","mobile_off","nfc","screen_lock_landscape","screen_lock_portrait","screen_lock_rotation","screen_rotation","sd_storage","settings_system_daydream","signal_cellular_alt","signal_cellular_no_sim","signal_cellular_null","signal_cellular_off","signal_wifi_off","storage","usb","wallpaper","widgets","wifi_lock","wifi_tethering"]},{name:"editor",icons:["add_comment","attach_file","attach_money","bar_chart","border_all","border_bottom","border_clear","border_horizontal","border_inner","border_left","border_outer","border_right","border_style","border_top","border_vertical","bubble_chart","drag_handle","format_align_center","format_align_justify","format_align_left","format_align_right","format_bold","format_clear","format_color_reset","format_indent_decrease","format_indent_increase","format_italic","format_line_spacing","format_list_bulleted","format_list_numbered","format_list_numbered_rtl","format_paint","format_quote","format_shapes","format_size","format_strikethrough","format_textdirection_l_to_r","format_textdirection_r_to_l","format_underlined","functions","height","highlight","horizontal_rule","insert_chart","insert_comment","insert_drive_file","insert_emoticon","insert_invitation","insert_link","insert_photo","linear_scale","merge_type","mode_comment","monetization_on","money_off","multiline_chart","notes","pie_chart","post_add","publish","scatter_plot","score","short_text","show_chart","space_bar","strikethrough_s","subscript","superscript","table_chart","table_rows","text_fields","title","vertical_align_bottom","vertical_align_center","vertical_align_top","wrap_text"]},{name:"file",icons:["attach_email","attachment","cloud","cloud_circle","cloud_done","cloud_download","cloud_off","cloud_queue","cloud_upload","create_new_folder","folder","folder_open","folder_shared","request_quote","rule_folder","snippet_folder","text_snippet","topic"]},{name:"hardware",icons:["browser_not_supported","cast","cast_connected","cast_for_education","computer","desktop_mac","desktop_windows","developer_board","device_hub","device_unknown","devices_other","dock","gamepad","headset","headset_mic","keyboard","keyboard_arrow_down","keyboard_arrow_left","keyboard_arrow_right","keyboard_arrow_up","keyboard_backspace","keyboard_capslock","keyboard_hide","keyboard_return","keyboard_tab","keyboard_voice","laptop","laptop_chromebook","laptop_mac","laptop_windows","memory","mouse","phone_android","phone_iphone","phonelink","phonelink_off","point_of_sale","power_input","router","scanner","security","sim_card","smartphone","speaker","speaker_group","tablet","tablet_android","tablet_mac","toys","tv","videogame_asset","watch"]},{name:"home",icons:["sensor_door","sensor_window"]},{name:"image",icons:["add_a_photo","add_photo_alternate","add_to_photos","adjust","assistant","assistant_photo","audiotrack","bedtime","blur_circular","blur_linear","blur_off","blur_on","brightness_1","brightness_2","brightness_3","brightness_4","brightness_5","brightness_6","brightness_7","broken_image","brush","burst_mode","camera","camera_alt","camera_front","camera_rear","camera_roll","center_focus_strong","center_focus_weak","collections","collections_bookmark","color_lens","colorize","compare","control_point","control_point_duplicate","crop","crop_16_9","crop_3_2","crop_5_4","crop_7_5","crop_din","crop_free","crop_landscape","crop_original","crop_portrait","crop_rotate","crop_square","dehaze","details","edit","euro","exposure","exposure_neg_1","exposure_neg_2","exposure_plus_1","exposure_plus_2","exposure_zero","filter","filter_1","filter_2","filter_3","filter_4","filter_5","filter_6","filter_7","filter_8","filter_9","filter_9_plus","filter_b_and_w","filter_center_focus","filter_drama","filter_frames","filter_hdr","filter_none","filter_tilt_shift","filter_vintage","flare","flash_auto","flash_off","flash_on","flip","flip_camera_android","flip_camera_ios","gradient","grain","grid_off","grid_on","hdr_off","hdr_on","hdr_strong","hdr_weak","healing","image","image_aspect_ratio","image_not_supported","image_search","iso","landscape","leak_add","leak_remove","lens","linked_camera","looks","looks_3","looks_4","looks_5","looks_6","looks_one","looks_two","loupe","monochrome_photos","motion_photos_on","motion_photos_paused","movie_creation","movie_filter","music_note","music_off","nature","nature_people","navigate_before","navigate_next","palette","panorama","panorama_fish_eye","panorama_horizontal","panorama_vertical","panorama_wide_angle","photo","photo_album","photo_camera","photo_filter","photo_library","photo_size_select_actual","photo_size_select_large","photo_size_select_small","picture_as_pdf","portrait","receipt_long","remove_red_eye","rotate_90_degrees_ccw","rotate_left","rotate_right","shutter_speed","slideshow","straighten","style","switch_camera","switch_video","tag_faces","texture","timelapse","timer","timer_10","timer_3","timer_off","tonality","transform","tune","view_comfy","view_compact","vignette","wb_auto","wb_cloudy","wb_incandescent","wb_iridescent","wb_sunny"]},{name:"maps",icons:["360","add_business","add_location","add_location_alt","add_road","agriculture","alt_route","atm","beenhere","bike_scooter","category","cleaning_services","compass_calibration","departure_board","design_services","directions","directions_bike","directions_boat","directions_bus","directions_car","directions_railway","directions_run","directions_subway","directions_transit","directions_walk","edit_attributes","edit_location","edit_road","electric_bike","electric_car","electric_moped","electric_scooter","electrical_services","ev_station","fastfood","flight","handyman","home_repair_service","hotel","hvac","layers","layers_clear","local_activity","local_airport","local_atm","local_bar","local_cafe","local_car_wash","local_convenience_store","local_dining","local_drink","local_fire_department","local_florist","local_gas_station","local_grocery_store","local_hospital","local_hotel","local_laundry_service","local_library","local_mall","local_movies","local_offer","local_parking","local_pharmacy","local_phone","local_pizza","local_play","local_police","local_post_office","local_printshop","local_see","local_shipping","local_taxi","map","maps_ugc","medical_services","menu_book","miscellaneous_services","money","moped","multiple_stop","museum","my_location","navigation","near_me","no_meals","no_transfer","not_listed_location","pedal_bike","person_pin","person_pin_circle","pest_control","pest_control_rodent","pin_drop","place","plumbing","rate_review","restaurant","restaurant_menu","run_circle","satellite","store_mall_directory","streetview","subway","terrain","traffic","train","tram","transfer_within_a_station","transit_enterexit","trip_origin","two_wheeler","wrong_location","zoom_out_map"]},{name:"navigation",icons:["app_settings_alt","apps","arrow_back","arrow_back_ios","arrow_downward","arrow_drop_down","arrow_drop_down_circle","arrow_drop_up","arrow_forward","arrow_forward_ios","arrow_left","arrow_right","arrow_upward","campaign","cancel","check","chevron_left","chevron_right","close","double_arrow","east","expand_less","expand_more","first_page","fullscreen","fullscreen_exit","home_work","last_page","legend_toggle","menu","menu_open","more_horiz","more_vert","north","north_east","north_west","payments","refresh","south","south_east","south_west","subdirectory_arrow_left","subdirectory_arrow_right","switch_left","switch_right","unfold_less","unfold_more","west"]},{name:"notification",icons:["account_tree","adb","airline_seat_flat","airline_seat_flat_angled","airline_seat_individual_suite","airline_seat_legroom_extra","airline_seat_legroom_normal","airline_seat_legroom_reduced","airline_seat_recline_extra","airline_seat_recline_normal","bluetooth_audio","confirmation_number","directions_off","disc_full","drive_eta","enhanced_encryption","event_available","event_busy","event_note","folder_special","live_tv","mms","more","network_check","network_locked","no_encryption","ondemand_video","personal_video","phone_bluetooth_speaker","phone_callback","phone_forwarded","phone_in_talk","phone_locked","phone_missed","phone_paused","power","power_off","priority_high","sd_card","sms","sms_failed","support_agent","sync","sync_disabled","sync_problem","system_update","tap_and_play","time_to_leave","tv_off","vibration","voice_chat","vpn_lock","wc","wifi","wifi_off"]},{name:"places",icons:["ac_unit","airport_shuttle","all_inclusive","apartment","baby_changing_station","backpack","bathtub","beach_access","business_center","casino","charging_station","checkroom","child_care","child_friendly","corporate_fare","do_not_step","do_not_touch","dry","elevator","escalator","escalator_warning","family_restroom","fire_extinguisher","fitness_center","free_breakfast","golf_course","grass","hot_tub","house","kitchen","meeting_room","no_cell","no_drinks","no_flash","no_food","no_meeting_room","no_photography","no_stroller","pool","room_preferences","room_service","rv_hookup","smoke_free","smoking_rooms","soap","spa","stairs","storefront","stroller","tty","umbrella","wash","wheelchair_pickup"]},{name:"social",icons:["6_ft_apart","architecture","cake","clean_hands","construction","deck","domain","emoji_emotions","emoji_events","emoji_flags","emoji_food_beverage","emoji_nature","emoji_objects","emoji_people","emoji_symbols","emoji_transportation","engineering","fireplace","group","group_add","history_edu","king_bed","location_city","luggage","military_tech","mood","mood_bad","nights_stay","no_luggage","notifications","notifications_active","notifications_none","notifications_off","notifications_paused","outdoor_grill","pages","party_mode","people","people_alt","person","person_add","person_add_alt_1","person_outline","person_remove","plus_one","poll","psychology","public","public_off","school","science","self_improvement","sentiment_dissatisfied","sentiment_satisfied","sentiment_very_dissatisfied","sentiment_very_satisfied","share","single_bed","sports","sports_baseball","sports_basketball","sports_cricket","sports_esports","sports_football","sports_golf","sports_handball","sports_hockey","sports_kabaddi","sports_mma","sports_motorsports","sports_rugby","sports_soccer","sports_tennis","sports_volleyball","thumb_down_alt","thumb_up_alt","whatshot"]},{name:"toggle",icons:["check_box","check_box_outline_blank","indeterminate_check_box","radio_button_checked","radio_button_unchecked","star","star_border","star_half","toggle_off","toggle_on"]}];const WB=w({props:{value:{type:String,default:null},disabled:{type:Boolean,default:!1},width:{type:String,default:"half"}},emits:["input"],setup(e,{emit:t}){const{t:l}=x(),a=F(""),i=V((()=>KB.map((e=>{if(0===a.value.length)return e;const t=e.icons.filter((e=>e.includes(a.value.toLowerCase())));return r(s({},e),{icons:t,length:t.length})}))));return{t:l,icons:KB,setIcon:function(e){a.value="",t("input",e)},searchQuery:a,filteredIcons:i,formatTitle:vV}}}),HB={key:0,class:"icons"};var GB=ol({id:"select-icon",name:"$t:interfaces.select-icon.icon",description:"$t:interfaces.select-icon.description",icon:"insert_emoticon",component:F_(WB,[["render",function(e,t,l,a,i,n){const o=S("v-icon"),s=S("v-input"),r=S("v-divider"),d=S("v-menu");return E(),A(d,{attached:"",disabled:e.disabled},{activator:D((({active:l,activate:a})=>[I(s,{modelValue:e.searchQuery,"onUpdate:modelValue":t[1]||(t[1]=t=>e.searchQuery=t),disabled:e.disabled,placeholder:e.value?e.formatTitle(e.value):e.t("interfaces.select-icon.search_for_icon"),class:H({"has-value":e.value}),nullable:!1,onFocus:a},G({append:D((()=>[null!==e.value?(E(),A(o,{key:0,clickable:"",name:"close",onClick:t[0]||(t[0]=t=>e.setIcon(null))})):(E(),A(o,{key:1,clickable:"",name:"expand_more",class:H(["open-indicator",{open:l}]),onClick:a},null,8,["class","onClick"]))])),_:2},[e.value?{name:"prepend",fn:D((()=>[I(o,{clickable:"",name:e.value,class:H({active:e.value}),onClick:a},null,8,["name","class","onClick"])]))}:void 0]),1032,["modelValue","disabled","placeholder","class","onFocus"])])),default:D((()=>[j("div",{class:H(["content",e.width])},[(E(!0),P(R,null,M(e.filteredIcons,((t,l)=>(E(),P(R,{key:t.name},[t.icons.length>0?(E(),P("div",HB,[(E(!0),P(R,null,M(t.icons,(t=>(E(),A(o,{key:t,name:t,class:H({active:t===e.value}),clickable:"",onClick:l=>e.setIcon(t)},null,8,["name","class","onClick"])))),128))])):B("",!0),t.icons.length>0&&l!==e.filteredIcons.length-1?(E(),A(r,{key:1})):B("",!0)],64)))),128))],2)])),_:1},8,["disabled"])}],["__scopeId","data-v-80080b9a"]]),types:["string"],options:[],recommendedDisplays:["icon"]}),QB=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:GB});const XB=w({props:{disabled:{type:Boolean,default:!1},value:{type:Array,default:null},choices:{type:Array,default:null},allowOther:{type:Boolean,default:!1},width:{type:String,default:null},iconOn:{type:String,default:"check_box"},iconOff:{type:String,default:"check_box_outline_blank"},color:{type:String,default:"var(--primary)"},itemsShown:{type:Number,default:8}},emits:["input"],setup(e,{emit:t}){const{t:l}=x(),{choices:a,value:i}=T(e),n=F(!1),o=V((()=>e.choices.length>e.itemsShown)),s=V((()=>n.value||!1===o.value?e.choices:e.choices.slice(0,e.itemsShown))),r=V((()=>e.choices.length-e.itemsShown)),d=V((()=>{var t;if(null===a.value)return null;const l=a.value.reduce(((e,t)=>(t.text.length>e.length&&(e=t.text),e)),"").length;return(null==(t=e.width)?void 0:t.startsWith("half"))?l<=10?"grid-2":"grid-1":l<=10?"grid-4":l>10&&l<=15?"grid-3":l>15&&l<=25?"grid-2":"grid-1"})),{otherValues:c,addOtherValue:u,setOtherValue:p}=rP(i,a,(e=>t("input",e)));return{t:l,gridClass:d,otherValues:c,addOtherValue:u,setOtherValue:p,choicesDisplayed:s,hideChoices:o,showAll:n,hiddenCount:r}}}),JB=["disabled"];var YB=ol({id:"select-multiple-checkbox",name:"$t:interfaces.select-multiple-checkbox.checkboxes",icon:"check_box",component:F_(XB,[["render",function(e,t,l,a,i,n){const o=S("v-notice"),s=S("v-checkbox"),r=S("v-detail"),d=S("v-icon");return e.choices?(E(),P("div",{key:1,class:H(["checkboxes",e.gridClass]),style:Ue({"--v-checkbox-color":e.color})},[(E(!0),P(R,null,M(e.choicesDisplayed,(l=>(E(),A(s,{key:l.value,block:"",value:l.value,label:l.text,disabled:e.disabled,"icon-on":e.iconOn,"icon-off":e.iconOff,"model-value":e.value||[],"onUpdate:modelValue":t[0]||(t[0]=t=>e.$emit("input",t))},null,8,["value","label","disabled","icon-on","icon-off","model-value"])))),128)),e.hideChoices&&!1===e.showAll?(E(),A(r,{key:0,class:H(e.gridClass),label:e.t("interfaces.select-multiple-checkbox.show_more",{count:e.hiddenCount}),"onUpdate:modelValue":t[1]||(t[1]=t=>e.showAll=!0)},null,8,["class","label"])):B("",!0),e.allowOther?(E(),P(R,{key:1},[(E(!0),P(R,null,M(e.otherValues,(l=>(E(),A(s,{key:l.key,block:"","custom-value":"",value:l.value,disabled:e.disabled,"icon-on":e.iconOn,"icon-off":e.iconOff,"model-value":e.value||[],"onUpdate:value":t=>e.setOtherValue(l.key,t),"onUpdate:modelValue":t[2]||(t[2]=t=>e.$emit("input",t))},null,8,["value","disabled","icon-on","icon-off","model-value","onUpdate:value"])))),128)),e.allowOther?(E(),P("button",{key:0,disabled:e.disabled,class:"add-new custom",align:"left",outlined:"",dashed:"",secondary:"",onClick:t[3]||(t[3]=t=>e.addOtherValue())},[I(d,{name:"add"}),N(" "+U(e.t("other")),1)],8,JB)):B("",!0)],64)):B("",!0)],6)):(E(),A(o,{key:0,type:"warning"},{default:D((()=>[N(U(e.t("choices_option_configured_incorrectly")),1)])),_:1}))}],["__scopeId","data-v-eb2534aa"]]),description:"$t:interfaces.select-multiple-checkbox.description",types:["json","csv"],options:[{field:"choices",type:"json",name:"$t:choices",meta:{width:"full",interface:"list",options:{template:"{{ text }}",fields:[{field:"text",type:"string",name:"$t:text",meta:{width:"half",interface:"input",options:{placeholder:"$t:interfaces.select-dropdown.choices_name_placeholder"}}},{field:"value",type:"string",name:"$t:value",meta:{width:"half",interface:"input",options:{font:"monospace",placeholder:"$t:interfaces.select-dropdown.choices_name_placeholder"}}}]}}},{field:"allowOther",name:"$t:interfaces.select-multiple-checkbox.allow_other",type:"boolean",meta:{width:"half",interface:"boolean",options:{label:"$t:enable_custom_values"}},schema:{default_value:!1}},{field:"color",name:"$t:color",type:"string",meta:{width:"half",interface:"select-color"},schema:{default_value:"#00C897"}},{field:"iconOn",name:"$t:icon_on",type:"string",meta:{width:"half",interface:"select-icon"},schema:{default_value:"check_box"}},{field:"iconOff",name:"$t:icon_off",type:"string",meta:{width:"half",interface:"select-icon"},schema:{default_value:"check_box_outline_blank"}},{field:"itemsShown",name:"$t:interfaces.select-multiple-checkbox.items_shown",type:"integer",meta:{width:"half",interface:"input"},schema:{default_value:8}}],recommendedDisplays:["labels"]}),ZB=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:YB});const eq=w({props:{value:{type:Array,default:()=>[]},disabled:{type:Boolean,default:!1},choices:{type:Array,default:()=>[]},valueCombining:{type:String,default:"all"}},emits:["input"],setup(){const{t:e}=x(),t=F(""),l=F(!1),a=m.exports.debounce((e=>{i.value=e}),250);O(t,a);const i=F("");return{search:t,t:e,searchDebounced:i,showSelectionOnly:l}}}),tq={class:"select-multiple-checkbox-tree"},lq={class:"search"},aq={class:"footer"},iq=N(" / ");const nq=[{field:"text",type:"string",name:"$t:text",meta:{width:"half",interface:"input",options:{placeholder:"$t:interfaces.select-dropdown.choices_name_placeholder"}}},{field:"value",type:"string",name:"$t:value",meta:{width:"half",interface:"input",options:{font:"monospace",placeholder:"$t:interfaces.select-dropdown.choices_name_placeholder"}}}],oq={field:"children",type:"json",name:"$t:children",meta:{width:"full",interface:"list",options:{fields:nq}}};var sq=ol({id:"select-multiple-checkbox-tree",name:"$t:interfaces.select-multiple-checkbox-tree.name",icon:"account_tree",component:F_(eq,[["render",function(e,t,l,a,i,n){const o=S("v-icon"),s=S("v-input"),r=S("v-checkbox-tree");return E(),P("div",tq,[j("div",lq,[I(s,{modelValue:e.search,"onUpdate:modelValue":t[1]||(t[1]=t=>e.search=t),class:"input",type:"text",placeholder:e.t("search")},G({prepend:D((()=>[I(o,{name:"search"})])),_:2},[e.search?{name:"append",fn:D((()=>[I(o,{name:"clear",clickable:"",onClick:t[0]||(t[0]=t=>e.search="")})]))}:void 0]),1032,["modelValue","placeholder"])]),I(r,{"model-value":e.value,search:e.searchDebounced,disabled:e.disabled,choices:e.choices,"value-combining":e.valueCombining,"show-selection-only":e.showSelectionOnly,"onUpdate:modelValue":t[2]||(t[2]=t=>e.$emit("input",t))},null,8,["model-value","search","disabled","choices","value-combining","show-selection-only"]),j("div",aq,[j("span",{class:H({active:!1===e.showSelectionOnly}),onClick:t[3]||(t[3]=t=>e.showSelectionOnly=!1)},U(e.t("interfaces.select-multiple-checkbox-tree.show_all")),3),iq,j("span",{class:H({active:!0===e.showSelectionOnly}),onClick:t[4]||(t[4]=t=>e.showSelectionOnly=!0)},U(e.t("interfaces.select-multiple-checkbox-tree.show_selected")),3)])])}],["__scopeId","data-v-4588d42a"]]),description:"$t:interfaces.select-multiple-checkbox-tree.description",types:["json","csv"],options:[{field:"choices",type:"json",name:"$t:choices",meta:{width:"full",interface:"list",options:{template:"{{ text }}",fields:function e(t=0,l=3){return t<l?[...nq,r(s({},oq),{meta:r(s({},oq.meta),{options:{fields:e(t+1)}})})]:nq}()}}},{field:"valueCombining",type:"string",name:"$t:interfaces.select-multiple-checkbox-tree.value_combining",schema:{default_value:"all"},meta:{note:"$t:interfaces.select-multiple-checkbox-tree.value_combining_note",interface:"select-dropdown",options:{choices:[{text:"$t:all",value:"all"},{text:"$t:branch",value:"branch"},{text:"$t:leaf",value:"leaf"},{text:"$t:indeterminate",value:"indeterminate"},{text:"$t:exclusive",value:"exclusive"}]}}}],recommendedDisplays:["labels"]}),rq=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:sq});var dq=ol({id:"select-multiple-dropdown",name:"$t:interfaces.select-multiple-dropdown.select-multiple-dropdown",description:"$t:interfaces.select-multiple-dropdown.description",icon:"arrow_drop_down_circle",component:F_(w({props:{disabled:{type:Boolean,default:!1},value:{type:Array,default:null},choices:{type:Array,default:null},icon:{type:String,default:null},allowNone:{type:Boolean,default:!1},placeholder:{type:String,default:null},allowOther:{type:Boolean,default:!1}},emits:["input"],setup(){const{t:e}=x();return{t:e}}}),[["render",function(e,t,l,a,i,n){const o=S("v-notice"),s=S("v-icon"),r=S("v-select");return e.choices?(E(),A(r,{key:1,multiple:"","model-value":e.value,items:e.choices,disabled:e.disabled,"show-deselect":e.allowNone,placeholder:e.placeholder,"allow-other":e.allowOther,"close-on-content-click":!1,"onUpdate:modelValue":t[0]||(t[0]=t=>e.$emit("input",t))},G({_:2},[e.icon?{name:"prepend",fn:D((()=>[I(s,{name:e.icon},null,8,["name"])]))}:void 0]),1032,["model-value","items","disabled","show-deselect","placeholder","allow-other"])):(E(),A(o,{key:0,type:"warning"},{default:D((()=>[N(U(e.t("choices_option_configured_incorrectly")),1)])),_:1}))}]]),types:["json","csv"],options:[{field:"choices",type:"json",name:"$t:choices",meta:{width:"full",interface:"list",options:{placeholder:"$t:interfaces.select-dropdown.choices_placeholder",template:"{{ text }}",fields:[{field:"text",type:"string",name:"$t:text",meta:{width:"half",interface:"input",options:{placeholder:"$t:interfaces.select-dropdown.choices_name_placeholder"}}},{field:"value",type:"string",name:"$t:value",meta:{width:"half",interface:"input",options:{font:"monospace",placeholder:"$t:interfaces.select-dropdown.choices_value_placeholder"}}}]}}},{field:"allowOther",name:"$t:interfaces.select-dropdown.allow_other",type:"boolean",meta:{width:"half",interface:"boolean",options:{label:"$t:interfaces.select-dropdown.allow_other_label"}},schema:{default_value:!1}},{field:"allowNone",name:"$t:interfaces.select-dropdown.allow_none",type:"boolean",meta:{width:"half",interface:"boolean",options:{label:"$t:interfaces.select-dropdown.allow_none_label"}},schema:{default_value:!1}},{field:"placeholder",name:"$t:placeholder",type:"string",meta:{width:"half",interface:"input",options:{placeholder:"$t:enter_a_placeholder"}}},{field:"icon",name:"$t:icon",type:"string",meta:{width:"half",interface:"select-icon"}}],recommendedDisplays:["labels"]}),cq=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:dq});const uq=w({props:{disabled:{type:Boolean,default:!1},value:{type:String,default:null},choices:{type:Array,default:null},allowOther:{type:Boolean,default:!1},width:{type:String,default:null},iconOn:{type:String,default:"radio_button_checked"},iconOff:{type:String,default:"radio_button_unchecked"},color:{type:String,default:"var(--primary)"}},emits:["input"],setup(e,{emit:t}){const{t:l}=x(),{choices:a,value:i}=T(e),n=V((()=>{var t;if(null===a.value)return null;const l=a.value.reduce(((e,t)=>(t.text.length>e.length&&(e=t.text),e)),"").length;return(null==(t=e.width)?void 0:t.startsWith("half"))?l<=10?"grid-2":"grid-1":l<=10?"grid-4":l>10&&l<=15?"grid-3":l>15&&l<=25?"grid-2":"grid-1"})),{otherValue:o,usesOtherValue:s}=sP(i,a,(e=>t("input",e))),r=V((()=>o.value?o.value&&!0===s.value?e.iconOn:e.iconOff:"add"));return{t:l,gridClass:n,otherValue:o,usesOtherValue:s,customIcon:r}}}),pq=["placeholder","disabled"];var mq=ol({id:"select-radio",name:"$t:interfaces.select-radio.radio-buttons",description:"$t:interfaces.select-radio.description",icon:"radio_button_checked",component:F_(uq,[["render",function(e,t,l,a,i,n){const o=S("v-notice"),s=S("v-radio"),r=S("v-icon");return e.choices?(E(),P("div",{key:1,class:H(["radio-buttons",e.gridClass]),style:Ue({"--v-radio-color":e.color})},[(E(!0),P(R,null,M(e.choices,(l=>(E(),A(s,{key:l.value,block:"",value:l.value,label:l.text,disabled:e.disabled,"icon-on":e.iconOn,"icon-off":e.iconOff,"model-value":e.value,"onUpdate:modelValue":t[0]||(t[0]=t=>e.$emit("input",t))},null,8,["value","label","disabled","icon-on","icon-off","model-value"])))),128)),e.allowOther?(E(),P("div",{key:0,class:H(["custom",{active:!e.disabled&&e.usesOtherValue,"has-value":!e.disabled&&e.otherValue,disabled:e.disabled}])},[I(r,{disabled:e.disabled,name:e.customIcon,clickable:"",onClick:t[1]||(t[1]=t=>e.$emit("input",e.otherValue))},null,8,["disabled","name"]),z(j("input",{"onUpdate:modelValue":t[2]||(t[2]=t=>e.otherValue=t),placeholder:e.t("other"),disabled:e.disabled,onFocus:t[3]||(t[3]=t=>e.$emit("input",e.otherValue))},null,40,pq),[[Je,e.otherValue]])],2)):B("",!0)],6)):(E(),A(o,{key:0,type:"warning"},{default:D((()=>[N(U(e.t("choices_option_configured_incorrectly")),1)])),_:1}))}],["__scopeId","data-v-3c9fc610"]]),types:["string"],recommendedDisplays:["badge"],options:[{field:"choices",type:"json",name:"$t:choices",meta:{width:"full",interface:"list",options:{template:"{{ text }}",fields:[{field:"text",type:"string",name:"$t:text",meta:{width:"half",interface:"input"}},{field:"value",type:"string",name:"$t:value",meta:{width:"half",interface:"input",options:{font:"monospace"}}}]}}},{field:"iconOn",name:"$t:icon_on",type:"string",meta:{width:"half",interface:"select-icon"},schema:{default_value:"radio_button_checked"}},{field:"iconOff",name:"$t:icon_off",type:"string",meta:{width:"half",interface:"select-icon"},schema:{default_value:"radio_button_unchecked"}},{field:"color",name:"$t:color",type:"string",meta:{width:"half",interface:"select-color"}},{field:"allowOther",name:"$t:interfaces.select-dropdown.allow_other",type:"string",meta:{width:"half",interface:"boolean",options:{label:"$t:interfaces.select-dropdown.allow_other_label"}},schema:{default_value:!1}}]}),fq=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:mq});var vq=ol({id:"slider",name:"$t:interfaces.slider.slider",description:"$t:interfaces.slider.description",icon:"linear_scale",component:F_(w({props:{value:{type:Number,default:null},disabled:{type:Boolean,default:!1},minValue:{type:Number,default:0},maxValue:{type:Number,default:100},stepInterval:{type:Number,default:1},alwaysShowValue:{type:Boolean,default:!1}},emits:["input"]}),[["render",function(e,t,l,a,i,n){const o=S("v-slider");return E(),A(o,{"model-value":e.value,disabled:e.disabled,min:e.minValue,max:e.maxValue,step:e.stepInterval,"always-show-value":e.alwaysShowValue,"show-thumb-label":"","show-ticks":"","onUpdate:modelValue":t[0]||(t[0]=t=>e.$emit("input",t))},null,8,["model-value","disabled","min","max","step","always-show-value"])}],["__scopeId","data-v-26b36e86"]]),types:["integer","decimal","float","bigInteger"],options:[{field:"minValue",name:"$t:interfaces.input.minimum_value",type:"integer",meta:{width:"half",interface:"input"}},{field:"maxValue",name:"$t:interfaces.input.maximum_value",type:"integer",meta:{width:"half",interface:"input"}},{field:"stepInterval",name:"$t:interfaces.input.step_interval",type:"integer",meta:{width:"half",interface:"input"}},{field:"alwaysShowValue",name:"$t:interfaces.slider.always_show_value",type:"boolean",meta:{width:"half",interface:"boolean"}}]}),_q=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:vq});const yq=w({props:{disabled:{type:Boolean,default:!1},value:{type:Array,default:null},placeholder:{type:String,default:null},whitespace:{type:String,default:null},capitalization:{type:String,default:null},alphabetize:{type:Boolean,default:!1},iconLeft:{type:String,default:null},iconRight:{type:String,default:"local_offer"},presets:{type:Array,default:null},allowCustom:{type:Boolean,default:!0}},emits:["input"],setup(e,{emit:t}){const{t:l}=x(),a=V((()=>null!==e.presets?s(e.presets):[])),i=F(s(e.value||[]));O((()=>e.value),(e=>{Array.isArray(e)&&(i.value=s(e)),null===e&&(i.value=[])}));const n=V((()=>{let t=s(i.value);return e.allowCustom||(t=t.filter((e=>a.value.includes(e)))),t})),o=V((()=>n.value.filter((e=>!a.value.includes(e)))));function s(t){return t=t.map((t=>{t=t.trim(),"uppercase"===e.capitalization&&(t=t.toUpperCase()),"lowercase"===e.capitalization&&(t=t.toLowerCase());const l=null===e.whitespace?" ":e.whitespace;return"auto-format"===e.capitalization&&(t=vV(t,new RegExp(l))),t=t.replace(/ +/g,l)})),e.alphabetize&&(t=t.concat().sort()),t=[...new Set(t)]}return{t:l,onInput:function(e){!e.target||"Enter"!==e.key&&","!==e.key||(e.preventDefault(),r(e.target.value),e.target.value="")},addTag:r,removeTag:d,toggleTag:function(e){n.value.includes(e)?d(e):r(e)},presetVals:a,customVals:o,selectedVals:n};function r(e){e&&""!==e&&(e=e.trim(),i.value.push(e),c())}function d(e){i.value=i.value.filter((t=>t!==e)),c()}function c(){t("input",n.value)}}}),hq={class:"interface-tags"},gq={key:1,class:"tags"},bq={key:0,class:"presets tag-container"},kq={key:1,class:"custom tag-container"};var wq=ol({id:"tags",name:"$t:interfaces.tags.tags",description:"$t:interfaces.tags.description",icon:"local_offer",component:F_(yq,[["render",function(e,t,l,a,i,n){const o=S("v-icon"),s=S("v-input"),r=S("v-chip");return E(),P("div",hq,[e.allowCustom?(E(),A(s,{key:0,placeholder:e.placeholder||e.t("interfaces.tags.add_tags"),disabled:e.disabled,onKeydown:e.onInput},G({append:D((()=>[I(o,{name:e.iconRight},null,8,["name"])])),_:2},[e.iconLeft?{name:"prepend",fn:D((()=>[I(o,{name:e.iconLeft},null,8,["name"])]))}:void 0]),1032,["placeholder","disabled","onKeydown"])):B("",!0),e.presetVals.length>0||e.customVals.length>0?(E(),P("div",gq,[e.presetVals.length>0?(E(),P("span",bq,[(E(!0),P(R,null,M(e.presetVals,(t=>(E(),A(r,{key:t,class:H(["tag",{inactive:!e.selectedVals.includes(t)}]),disabled:e.disabled,small:"",label:"",clickable:"",onClick:l=>e.toggleTag(t)},{default:D((()=>[N(U(t),1)])),_:2},1032,["class","disabled","onClick"])))),128))])):B("",!0),e.customVals.length>0&&e.allowCustom?(E(),P("span",kq,[e.presetVals.length>0?(E(),A(o,{key:0,class:"custom-tags-delimeter",name:"chevron_right"})):B("",!0),(E(!0),P(R,null,M(e.customVals,(t=>(E(),A(r,{key:t,disabled:e.disabled,class:"tag",small:"",label:"",clickable:"",onClick:l=>e.removeTag(t)},{default:D((()=>[N(U(t),1)])),_:2},1032,["disabled","onClick"])))),128))])):B("",!0)])):B("",!0)])}],["__scopeId","data-v-5f85ff84"]]),types:["json","csv"],options:[{field:"presets",name:"$t:presets",type:"string",meta:{width:"full",interface:"tags"}},{field:"placeholder",name:"$t:placeholder",type:"string",meta:{width:"full",interface:"input",options:{placeholder:"$t:enter_a_placeholder"}}},{field:"alphabetize",name:"$t:interfaces.tags.alphabetize",type:"boolean",meta:{width:"half",interface:"boolean",options:{label:"$t:interfaces.tags.alphabetize_label"}},schema:{default_value:!1}},{field:"allowCustom",name:"$t:interfaces.select-dropdown.allow_other",type:"boolean",meta:{width:"half",interface:"boolean",options:{label:"$t:interfaces.select-dropdown.allow_other_label"}},schema:{default_value:!1}},{field:"whitespace",name:"$t:interfaces.tags.whitespace",type:"string",meta:{width:"half",interface:"select-dropdown",options:{allowNone:!0,choices:[{text:"$t:interfaces.tags.hyphen",value:"-"},{text:"$t:interfaces.tags.underscore",value:"_"},{text:"$t:interfaces.tags.remove",value:""}]}}},{field:"capitalization",name:"$t:interfaces.tags.capitalization",type:"string",meta:{width:"half",interface:"select-dropdown",options:{allowNone:!0,choices:[{text:"$t:interfaces.tags.uppercase",value:"uppercase"},{text:"$t:interfaces.tags.lowercase",value:"lowercase"},{text:"$t:interfaces.tags.auto_formatter",value:"auto-format"}]}}},{field:"iconLeft",name:"$t:icon_left",type:"string",meta:{width:"half",interface:"select-icon"}},{field:"iconRight",name:"$t:icon_right",type:"string",meta:{width:"half",interface:"select-icon"}}],recommendedDisplays:["labels"]}),xq=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:wq});const Vq=w({props:{collection:{type:String,required:!0},fieldData:{type:Object,default:null},relations:{type:Array,default:()=>[]},value:{type:Object,default:null}},emits:["input"],setup(e,{emit:t}){const{t:l}=x(),a=vI(),i=V({get(){var t;return null==(t=e.value)?void 0:t.languageField},set(l){t("input",r(s({},e.value||{}),{languageField:l}))}}),n=V((()=>{var t;if(!e.fieldData||!e.relations||0===e.relations.length)return null;const{field:l}=e.fieldData;return null!=(t=e.relations.find((t=>{var a;return t.related_collection===e.collection&&(null==(a=t.meta)?void 0:a.one_field)===l})))?t:null})),o=V((()=>{var t;return e.fieldData&&e.relations&&0!==e.relations.length&&n.value&&null!=(t=e.relations.find((e=>{var t,l,a;return e.collection===(null==(t=n.value)?void 0:t.collection)&&(null==(l=e.meta)?void 0:l.junction_field)===(null==(a=n.value)?void 0:a.field)})))?t:null})),d=V((()=>{var e,t;return null!=(t=null==(e=o.value)?void 0:e.related_collection)?t:null})),c=V((()=>d.value?a.getFieldsForCollection(d.value):[]));return{t:l,languageField:i,languageCollection:d,languageCollectionFields:c}}}),Cq={key:1,class:"form-grid"},Sq={class:"field half"},Eq={class:"type-label"};var Aq=F_(Vq,[["render",function(e,t,l,a,i,n){const o=S("v-notice"),s=S("v-select");return null===e.collection?(E(),A(o,{key:0,class:"full",type:"warning"},{default:D((()=>[N(U(e.t("interfaces.translations.no_collection")),1)])),_:1})):(E(),P("div",Cq,[j("div",Sq,[j("p",Eq,U(e.t("interfaces.translations.language_field")),1),I(s,{modelValue:e.languageField,"onUpdate:modelValue":t[0]||(t[0]=t=>e.languageField=t),items:e.languageCollectionFields,"item-text":"name","item-value":"field"},null,8,["modelValue","items"])])]))}]]);const Dq=w({components:{},props:{modelValue:{type:String,default:null},items:{type:Array,default:()=>[]},secondary:{type:Boolean,default:!1}},emits:["update:modelValue"],setup:e=>({displayValue:V((()=>{var t;const l=e.items.find((t=>t.value===e.modelValue));return null!=(t=null==l?void 0:l.text)?t:e.modelValue}))})}),Iq=["onClick"],Fq={class:"display-value"},Oq={class:"append-slot"},$q={class:"start"},Tq={class:"end"};var Pq=ol({id:"translations",name:"$t:translations",icon:"replay",types:["alias"],relational:!0,component:F_(w({components:{LanguageSelect:F_(Dq,[["render",function(e,t,l,a,i,n){const o=S("v-icon"),s=S("v-progress-linear"),r=S("v-list-item"),d=S("v-list"),c=S("v-menu"),u=q("tooltip");return E(),A(c,{attached:"",class:H(["language-select",{secondary:e.secondary}])},{activator:D((({toggle:t,active:l})=>[j("button",{class:"toggle",onClick:t},[I(o,{class:"translate",name:"translate"}),j("span",Fq,U(e.displayValue),1),I(o,{name:"expand_more",class:H({active:l})},null,8,["class"]),j("span",Oq,[Q(e.$slots,"append",{},void 0,!0)])],8,Iq)])),default:D((()=>[I(d,null,{default:D((()=>[(E(!0),P(R,null,M(e.items,((t,l)=>(E(),A(r,{key:l,onClick:l=>e.$emit("update:modelValue",t.value)},{default:D((()=>[j("div",$q,[j("div",{class:H(["dot",{show:t.edited}])},null,2),N(" "+U(t.text),1)]),j("div",Tq,[z(I(s,{value:t.progress,rounded:"",colorful:""},null,8,["value"]),[[u,`${Math.round(t.current/t.max*100)}%`]])])])),_:2},1032,["onClick"])))),128))])),_:1})])),_:3},8,["class"])}],["__scopeId","data-v-0ebb08d8"]])},props:{collection:{type:String,required:!0},field:{type:String,required:!0},primaryKey:{type:[Number,String],required:!0},languageField:{type:String,default:null},value:{type:Array,default:null}},emits:["input"],setup(e,{emit:t}){const{collection:l}=T(e),a=vI(),i=VI(),{t:n}=x(),o=I_(),{width:d}=function(e={throttle:100}){const t=F(0),l=F(0);function a(){t.value=window.innerWidth,l.value=window.innerHeight}const i=m.exports.throttle(a,e.throttle);return be(a),ee((()=>{window.addEventListener("resize",i,{passive:!0})})),he((()=>{window.removeEventListener("resize",i)})),{width:t,height:l}}(),c=F(!1),u=F(),p=F(),{info:f}=Xt(l);O(c,(e=>{const t=C.value;e&&p.value===u.value&&(p.value=t[0].value===u.value?t[1].value:t[0].value)}));const{relationsForField:v,translationsRelation:_,translationsCollection:y,translationsPrimaryKeyField:h,languagesRelation:g,languagesCollection:b,languagesPrimaryKeyField:k,translationsLanguageField:w}=function(){const t=V((()=>i.getRelationsForField(e.collection,e.field))),l=V((()=>t.value&&t.value.find((t=>{var l;return t.related_collection===e.collection&&(null==(l=t.meta)?void 0:l.one_field)===e.field}))||null)),n=V((()=>l.value?l.value.collection:null)),o=V((()=>l.value?a.getPrimaryKeyFieldForCollection(l.value.collection).field:null)),s=V((()=>t.value&&t.value.find((e=>e!==l.value))||null)),r=V((()=>s.value?s.value.related_collection:null)),d=V((()=>s.value&&s.value.related_collection?a.getPrimaryKeyFieldForCollection(s.value.related_collection).field:null)),c=V((()=>s.value?s.value.field:null));return{relationsForField:t,translationsRelation:l,translationsCollection:n,translationsPrimaryKeyField:o,languagesRelation:s,languagesCollection:r,languagesPrimaryKeyField:d,translationsLanguageField:c}}(),{languageOptions:C,loading:S}=function(){const t=F([]),l=F(!1),a=F(null);O(b,(async function(){var a,i,n,s,r;if(!b.value||!k.value)return;const d=new Set;null!==e.languageField&&d.add(e.languageField);d.add(k.value),l.value=!0;try{const c=await dI.get(`/items/${b.value}`,{params:{fields:Array.from(d),limit:-1,sort:null!=(a=e.languageField)?a:k.value}});if(t.value=c.data.data,!u.value){const e=c.data.data,t=null==(i=null==e?void 0:e.find((e=>e[k.value]===o.currentUser.language)))?void 0:i[k.value];u.value=null!=t?t:null==(n=null==e?void 0:e[0])?void 0:n[k.value]}p.value||(p.value=null==(r=null==(s=c.data.data)?void 0:s[1])?void 0:r[k.value])}catch(c){jy(c)}finally{l.value=!1}}),{immediate:!0});return{languageOptions:V((()=>{const l=w.value;if(null===l)return[];const a=L.value.filter((e=>{var t;return"alias"!==e.type&&!1===(null==(t=e.meta)?void 0:t.hidden)&&!1===e.meta.readonly})),i=a.length;return t.value.map((t=>{var n,o,r;if(null===k.value)return t;const d=t[k.value],c=null!=(n=E.value.find((e=>e[l]===d)))?n:{},u=null==(o=e.value)?void 0:o.find((e=>"object"==typeof e&&e[l]===d)),p=s(s({},c),null!=u?u:{}),m=a.filter((e=>e.field in p&&Iw(p[e.field]))).length;return{text:t[null!=(r=e.languageField)?r:k.value],value:d,edited:void 0!==u,progress:m/i*100,max:i,current:m}}))})),loading:l,error:a}}(),{items:E,firstItem:A,loading:D,updateValue:I,secondItem:$,firstItemInitial:P,secondItemInitial:j}=function(){const l=F([]),a=F(!1),i=F(null),n=V((()=>g(u))),o=V((()=>g(p))),d=V((()=>v(u))),c=V((()=>v(p)));O((()=>e.value),((t,n)=>{t&&t!==n&&(null==t?void 0:t.every((e=>"string"==typeof e||"number"==typeof e)))&&async function(){var t;if(!(null==(t=_.value)?void 0:t.field)||"+"===e.primaryKey)return;a.value=!0;try{const t=await dI.get(`/items/${y.value}`,{params:{fields:"*",limit:-1,filter:{[_.value.field]:{_eq:e.primaryKey}}}});l.value=t.data.data}catch(n){i.value=n,jy(n)}finally{a.value=!1}}(),null!==t&&0!==t.length||(l.value=[])}),{immediate:!0});const f=V((()=>{var t;const a=h.value;if(null===a)return[];const i=[...l.value.map((e=>e[a]))];return null==(t=e.value)||t.forEach((e=>{if("object"==typeof e)if(a in e){const t=i.findIndex((t=>t===e[a]));i[t]=e}else i.push(e)})),i}));return{items:l,firstItem:n,updateValue:function(e,a){var i;const n=h.value,o=w.value,d=v(a),c=m.exports.assign({},d,e);if(null===n||null===o)return;let u=m.exports.cloneDeep(null!=(i=f.value)?i:[]);if(n in c==!1){const e=u.findIndex((e=>"object"==typeof e&&e[o]===a));-1!==e?1===Object.keys(c).length&&o in c?u.splice(e,1):u[e]=c:u.push(r(s({},c),{[o]:a}))}else{const e=l.value.find((e=>e[o]===a));u=u.map((t=>"number"==typeof t||"string"==typeof t?c[n]===t?c:t:c[n]===t[n]?m.exports.isEqual(e,s(s({},e),c))?c[n]:c:t))}t("input",u)},secondItem:o,firstItemInitial:d,secondItemInitial:c,loading:a,error:i};function v(e){var t;const a=we(e),i=w.value;return null===i?{}:null!=(t=l.value.find((e=>e[i]===a)))?t:{}}function g(t){var l,a;const i=we(t),n=w.value;return null===n?{}:null!=(a=null==(l=e.value)?void 0:l.find((e=>"object"==typeof e&&e[n]===i)))?a:{}}}(),L=V((()=>null===y.value?[]:a.getFieldsForCollection(y.value))),R=V((()=>d.value>960&&C.value.length>1)),M=V((()=>R.value&&c.value));return{collectionInfo:f,splitView:c,firstLang:u,secondLang:p,t:n,languageOptions:C,fields:L,relationsForField:v,translationsRelation:_,translationsCollection:y,translationsPrimaryKeyField:h,languagesRelation:g,languagesCollection:b,languagesPrimaryKeyField:k,translationsLanguageField:w,items:E,firstItem:A,secondItem:$,updateValue:I,relationsStore:i,firstItemInitial:P,secondItemInitial:j,splitViewAvailable:R,splitViewEnabled:M,languagesLoading:S,valuesLoading:D}}}),[["render",function(e,t,l,a,i,n){var o,s;const r=S("v-icon"),d=S("language-select"),c=S("v-form"),u=S("v-divider"),p=q("tooltip");return E(),P("div",{class:H(["translations",{split:e.splitViewEnabled}])},[j("div",{class:H(["primary",e.splitViewEnabled?"half":"full"])},[I(d,{modelValue:e.firstLang,"onUpdate:modelValue":t[1]||(t[1]=t=>e.firstLang=t),items:e.languageOptions},{append:D((()=>[e.splitViewAvailable&&!e.splitViewEnabled?z((E(),A(r,{key:0,name:"flip",clickable:"",onClick:t[0]||(t[0]=X((t=>e.splitView=!0),["stop"]))},null,512)),[[p,e.t("interfaces.translations.toggle_split_view")]]):B("",!0)])),_:1},8,["modelValue","items"]),I(c,{loading:e.valuesLoading,fields:e.fields,"model-value":e.firstItem,"initial-values":e.firstItemInitial,badge:null==(o=e.languageOptions.find((t=>t.value===e.firstLang)))?void 0:o.text,"onUpdate:modelValue":t[2]||(t[2]=t=>e.updateValue(t,e.firstLang))},null,8,["loading","fields","model-value","initial-values","badge"]),I(u)],2),e.splitViewEnabled?(E(),P("div",{key:0,class:H(["secondary",e.splitViewEnabled?"half":"full"])},[I(d,{modelValue:e.secondLang,"onUpdate:modelValue":t[4]||(t[4]=t=>e.secondLang=t),items:e.languageOptions,secondary:""},{append:D((()=>[z(I(r,{name:"close",clickable:"",onClick:t[3]||(t[3]=X((t=>e.splitView=!e.splitView),["stop"]))},null,512),[[p,e.t("interfaces.translations.toggle_split_view")]])])),_:1},8,["modelValue","items"]),I(c,{loading:e.valuesLoading,"initial-values":e.secondItemInitial,fields:e.fields,badge:null==(s=e.languageOptions.find((t=>t.value===e.secondLang)))?void 0:s.text,"model-value":e.secondItem,"onUpdate:modelValue":t[5]||(t[5]=t=>e.updateValue(t,e.secondLang))},null,8,["loading","initial-values","fields","badge","model-value"]),I(u)],2)):B("",!0)],2)}],["__scopeId","data-v-034e1589"]]),options:Aq}),jq=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:Pq});var Lq=ol({id:"system-collection",name:"$t:interfaces.system-collection.collection",description:"$t:interfaces.system-collection.description",icon:"featured_play_list",component:F_(w({props:{value:{type:String,default:null},disabled:{type:Boolean,default:!1},includeSystem:{type:Boolean,default:!1}},emits:["input"],setup(e){const{t:t}=x(),l=pI(),a=V((()=>[...l.collections.filter((e=>!1===e.collection.startsWith("directus_"))),...e.includeSystem?l.crudSafeSystemCollections:[]]));return{items:V((()=>a.value.map((e=>({text:e.name,value:e.collection}))))),t:t}}}),[["render",function(e,t,l,a,i,n){const o=S("v-select");return E(),A(o,{"model-value":e.value,disabled:e.disabled,items:e.items,placeholder:e.t("select_a_collection"),"onUpdate:modelValue":t[0]||(t[0]=t=>e.$emit("input",t))},null,8,["model-value","disabled","items","placeholder"])}]]),types:["string"],options:[{field:"includeSystem",name:"$t:system",type:"boolean",meta:{width:"half",interface:"boolean",options:{label:"$t:interfaces.system-collection.include_system_collections"}},schema:{default_value:!1}}],system:!0,recommendedDisplays:["collection"]}),Rq=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:Lq});var Mq=ol({id:"system-collections",name:"$t:interfaces.system-collections.collections",description:"$t:interfaces.system-collections.description",icon:"featured_play_list",component:F_(w({props:{value:{type:Array,default:null},disabled:{type:Boolean,default:!1},includeSystem:{type:Boolean,default:!1}},emits:["input"],setup(e){const{t:t}=x(),l=pI(),a=V((()=>e.includeSystem?l.collections:l.collections.filter((e=>!1===e.collection.startsWith("directus_")))));return{t:t,items:V((()=>a.value.map((e=>({text:e.name,value:e.collection})))))}}}),[["render",function(e,t,l,a,i,n){const o=S("v-notice"),s=S("interface-select-multiple-checkbox");return 0===e.items.length?(E(),A(o,{key:0},{default:D((()=>[N(U(e.t("no_collections")),1)])),_:1})):(E(),A(s,{key:1,choices:e.items,value:e.value,disabled:e.disabled,onInput:t[0]||(t[0]=t=>e.$emit("input",t))},null,8,["choices","value","disabled"]))}]]),types:["json","csv"],options:[{field:"includeSystem",name:"$t:system",type:"boolean",meta:{width:"half",interface:"boolean",options:{label:"$t:interfaces.system-collections.include_system_collections"}},schema:{default_value:!1}}],system:!0,recommendedDisplays:["labels"]}),Uq=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:Mq});const Nq=w({props:{disabled:{type:Boolean,default:!1},value:{type:String,default:null},collectionField:{type:String,default:null}},emits:["input"],setup(e){const{t:t}=x(),l=pI(),a=ae("values",F({}));return{t:t,collection:V((()=>{if(!e.collectionField)return null;const t=a.value[e.collectionField];return!1===!!l.collections.find((e=>e.collection===t))?null:t}))}}}),Bq={class:"system-display-template"};var qq=ol({id:"system-display-template",name:"$t:interfaces.system-display-template.display-template",description:"$t:interfaces.system-display-template.description",icon:"arrow_drop_down_circle",component:F_(Nq,[["render",function(e,t,l,a,i,n){const o=S("v-notice"),s=S("v-field-template");return E(),P("div",Bq,[e.collectionField?null===e.collection?(E(),A(o,{key:1,type:"warning"},{default:D((()=>[N(U(e.t("interfaces.system-display-template.select_a_collection")),1)])),_:1})):(E(),A(s,{key:2,collection:e.collection,"model-value":e.value,disabled:e.disabled,"onUpdate:modelValue":t[0]||(t[0]=t=>e.$emit("input",t))},null,8,["collection","model-value","disabled"])):(E(),A(o,{key:0,type:"warning"},{default:D((()=>[N(U(e.t("interfaces.system-display-template.collection_field_not_setup")),1)])),_:1}))])}]]),types:["string"],system:!0,options:[{field:"collectionField",name:"$t:interfaces.system-display-template.collection_field",type:"string",meta:{width:"full",interface:"input"},schema:{default_value:null}}]}),zq=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:qq});var Kq=ol({id:"system-field",name:"$t:field",icon:"box",component:F_(w({props:{collectionField:{type:String,default:null},collection:{type:String,default:null},typeAllowList:{type:Array,default:()=>[]},value:{type:String,default:null},disabled:{type:Boolean,default:!1},placeholder:{type:String,default:null},allowNone:{type:Boolean,default:!1},allowPrimaryKey:{type:Boolean,default:!1}},emits:["input"],setup(e,{emit:t}){const{t:l}=x(),a=vI(),i=ae("values",F({})),n=V((()=>i.value[e.collectionField]||e.collection)),o=V((()=>e.collectionField||e.collection?a.getFieldsForCollection(n.value):[]));O(n,((e,l)=>{null!==l&&e!==l&&t("input",null)}));return{t:l,selectItems:V((()=>o.value.map((t=>{var l;let a=!1;return!1===e.allowPrimaryKey&&!0===(null==(l=null==t?void 0:t.schema)?void 0:l.is_primary_key)&&(a=!0),e.typeAllowList.length>0&&!1===e.typeAllowList.includes(t.type)&&(a=!0),{text:t.name,value:t.field,disabled:a}})))),values:i,fields:o}}}),[["render",function(e,t,l,a,i,n){const o=S("v-notice"),s=S("v-select");return e.collectionField||e.collection?0===e.selectItems.length?(E(),A(o,{key:1,type:"warning"},{default:D((()=>[N(U(e.t("select_a_collection")),1)])),_:1})):(E(),A(s,{key:2,"show-deselect":e.allowNone,"model-value":e.value,disabled:e.disabled,items:e.selectItems,placeholder:e.placeholder||e.t("select_a_field"),"onUpdate:modelValue":t[0]||(t[0]=t=>e.$emit("input",t))},null,8,["show-deselect","model-value","disabled","items","placeholder"])):(E(),A(o,{key:0,type:"warning"},{default:D((()=>[N(U(e.t("collection_field_not_setup")),1)])),_:1}))}]]),types:["string"],options:[],system:!0}),Wq=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:Kq});const Hq=w({props:{collectionField:{type:String,default:null},collection:{type:String,default:null},value:{type:Array,default:null},disabled:{type:Boolean,default:!1},placeholder:{type:String,default:null},allowNone:{type:Boolean,default:!1}},emits:["input"],setup(e){const{t:t}=x(),l=ae("values",F({})),a=V((()=>l.value[e.collectionField]||e.collection)),{tree:i}=ty(a);return{t:t,values:l,tree:i,chosenCollection:a}}}),Gq={key:2,class:"system-field-tree"};var Qq=ol({id:"system-field-tree",name:"$t:field",icon:"box",component:F_(Hq,[["render",function(e,t,l,a,i,n){const o=S("v-notice"),s=S("v-checkbox-tree");return e.collectionField||e.collection?e.chosenCollection?(E(),P("div",Gq,[I(s,{"model-value":e.value,disabled:e.disabled,choices:e.tree,"item-text":"name","item-value":"key","value-combining":"exclusive","onUpdate:modelValue":t[0]||(t[0]=t=>e.$emit("input",t))},null,8,["model-value","disabled","choices"])])):(E(),A(o,{key:1,type:"warning"},{default:D((()=>[N(U(e.t("select_a_collection")),1)])),_:1})):(E(),A(o,{key:0,type:"warning"},{default:D((()=>[N(U(e.t("collection_field_not_setup")),1)])),_:1}))}],["__scopeId","data-v-6f501a21"]]),types:["string"],options:[],system:!0}),Xq=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:Qq});const Jq=w({name:"FolderListItem",props:{folder:{type:Object,required:!0},currentFolder:{type:String,default:null},disabled:{type:Boolean,default:!1},disabledFolders:{type:Array,default:()=>[]}},emits:["click"]});var Yq=ol({id:"system-folder",name:"$t:interfaces.system-folder.folder",description:"$t:interfaces.system-folder.description",icon:"folder",component:F_(w({components:{FolderListItem:F_(Jq,[["render",function(e,t,l,a,i,n){const o=S("v-icon"),s=S("v-list-item-icon"),r=S("v-list-item-content"),d=S("v-list-item"),c=S("folder-list-item",!0),u=S("v-list-group");return e.folder.children&&0!==e.folder.children.length?(E(),A(u,{key:1,clickable:"",active:e.currentFolder===e.folder.id,disabled:e.disabled,onClick:t[2]||(t[2]=t=>e.$emit("click",e.folder.id))},{activator:D((()=>[I(s,null,{default:D((()=>[I(o,{name:e.currentFolder===e.folder.id?"folder_open":"folder"},null,8,["name"])])),_:1}),I(r,null,{default:D((()=>[N(U(e.folder.name),1)])),_:1})])),default:D((()=>[(E(!0),P(R,null,M(e.folder.children,(l=>(E(),A(c,{key:l.id,folder:l,"current-folder":e.currentFolder,disabled:e.disabledFolders.includes(l.id),"disabled-folders":e.disabledFolders,onClick:t[1]||(t[1]=t=>e.$emit("click",t))},null,8,["folder","current-folder","disabled","disabled-folders"])))),128))])),_:1},8,["active","disabled"])):(E(),A(d,{key:0,active:e.currentFolder===e.folder.id,disabled:e.disabled,clickable:"",onClick:t[0]||(t[0]=t=>e.$emit("click",e.folder.id))},{default:D((()=>[I(s,null,{default:D((()=>[I(o,{name:e.currentFolder===e.folder.id?"folder_open":"folder"},null,8,["name"])])),_:1}),I(r,null,{default:D((()=>[N(U(e.folder.name),1)])),_:1})])),_:1},8,["active","disabled"]))}]])},props:{value:{type:String,default:void 0},disabledFolders:{type:Array,default:()=>[]},disabled:{type:Boolean,default:!1},placeholder:{type:String,default:""}},emits:["input"],setup(e,{emit:t}){const{t:l}=x(),{nestedFolders:a,folders:i,loading:n}=ub();return{emitValue:function(e){return t("input",e)},loading:n,folderPath:V((()=>{if(!e.value||!i.value)return l("interfaces.system-folder.root_name");const t=i.value.find((t=>t.id===e.value));return t?function(e,t){const l=new Map(t.map((e=>[e.id,e]))),a=e=>(l.has(e.parent)?a(l.get(e.parent)):[]).concat(e);return a(e)}(t,i.value).map((e=>e.name)).join(" / "):e.value})),nestedFolders:a,onFolderSelect:function(l){if(e.disabled)return;t("input",l)},t:l}}}),[["render",function(e,t,l,a,i,n){const o=S("v-skeleton-loader"),s=S("v-icon"),r=S("v-input"),d=S("v-list-item-icon"),c=S("v-list-item-content"),u=S("v-list-item"),p=S("v-divider"),m=S("folder-list-item"),f=S("v-list"),v=S("v-menu");return e.loading?(E(),A(o,{key:0})):(E(),A(v,{key:1,class:"v-select",attached:!0,"show-arrow":!1,disabled:e.disabled,"close-on-content-click":!0},{activator:D((({toggle:t,active:l})=>[I(r,{readonly:"",active:l,"model-value":e.folderPath,placeholder:e.placeholder,disabled:e.disabled,onClick:t},{prepend:D((()=>[I(s,{name:e.value?"folder_open":"folder_special"},null,8,["name"])])),append:D((()=>[I(s,{name:"expand_more",class:H({active:l})},null,8,["class"])])),_:2},1032,["active","model-value","placeholder","disabled","onClick"])])),default:D((()=>[I(f,null,{default:D((()=>[I(u,{clickable:"",active:!e.value,onClick:t[0]||(t[0]=t=>e.emitValue(null))},{default:D((()=>[I(d,null,{default:D((()=>[I(s,{name:"folder_special"})])),_:1}),I(c,null,{default:D((()=>[N(U(e.t("interfaces.system-folder.root_name")),1)])),_:1})])),_:1},8,["active"]),e.nestedFolders&&e.nestedFolders.length>0?(E(),A(p,{key:0})):B("",!0),(E(!0),P(R,null,M(e.nestedFolders,(t=>(E(),A(m,{key:t.id,clickbable:"",folder:t,"current-folder":e.value,disabled:e.disabledFolders.includes(t.id),"disabled-folders":e.disabledFolders,onClick:e.emitValue},null,8,["folder","current-folder","disabled","disabled-folders","onClick"])))),128))])),_:1})])),_:1},8,["disabled"]))}],["__scopeId","data-v-243bccaf"]]),types:["uuid"],options:[],system:!0,recommendedDisplays:["raw"]}),Zq=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:Yq});var ez=ol({id:"system-interface",name:"$t:interfaces.system-interface.interface",description:"$t:interfaces.system-interface.description",icon:"box",component:F_(w({props:{value:{type:String,default:null},typeField:{type:String,default:null}},emits:["input"],setup(e,{emit:t}){const{t:l}=x(),{interfaces:a}=yl(),i=ae("values",F({})),n=V((()=>{if(null!==e.typeField&&i.value[e.typeField])return i.value[e.typeField]}));O((()=>i.value[e.typeField]),(()=>{t("input",null)}));return{t:l,items:V((()=>a.value.filter((e=>!0!==e.relational&&!0!==e.system)).filter((e=>void 0===n.value||e.types.includes(n.value))).map((e=>({text:e.name,value:e.id}))))),selectedType:n,values:i}}}),[["render",function(e,t,l,a,i,n){const o=S("v-notice"),s=S("v-select");return void 0===e.selectedType?(E(),A(o,{key:0},{default:D((()=>[N(U(e.t("select_field_type")),1)])),_:1})):(E(),A(s,{key:1,items:e.items,"model-value":e.value,placeholder:e.t("interfaces.system-interface.placeholder"),"onUpdate:modelValue":t[0]||(t[0]=t=>e.$emit("input",t))},null,8,["items","model-value","placeholder"]))}]]),types:["string"],system:!0,options:[]}),tz=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:ez});const lz=w({props:{value:{type:Object,default:null},interfaceField:{type:String,default:null},interface:{type:String,default:null}},emits:["input"],setup(e){const{t:t}=x(),{interfaces:l}=yl(),a=ae("values",F({}));return{t:t,selectedInterface:V((()=>e.interface?l.value.find((t=>t.id===e.interface)):a.value[e.interfaceField]?l.value.find((t=>t.id===a.value[e.interfaceField])):void 0)),values:a}}}),az={key:2,class:"inset"};var iz=ol({id:"system-interface-options",name:"$t:interfaces.system-interface-options.interface-options",description:"$t:interfaces.system-interface-options.description",icon:"box",component:F_(lz,[["render",function(e,t,l,a,i,n){const o=S("v-notice"),s=S("v-form");return e.selectedInterface?e.selectedInterface.options?(E(),P("div",az,[Array.isArray(e.selectedInterface.options)?(E(),A(s,{key:0,fields:e.selectedInterface.options,"primary-key":"+","model-value":e.value,"onUpdate:modelValue":t[0]||(t[0]=t=>e.$emit("input",t))},null,8,["fields","model-value"])):(E(),A(L(`interface-options-${e.selectedInterface.id}`),{key:1,value:e.value,onInput:t[1]||(t[1]=t=>e.$emit("input",t))},null,8,["value"]))])):(E(),A(o,{key:1},{default:D((()=>[N(U(e.t("no_options_available")),1)])),_:1})):(E(),A(o,{key:0},{default:D((()=>[N(U(e.t("select_interface")),1)])),_:1}))}],["__scopeId","data-v-0e50e755"]]),types:["string"],options:[],system:!0}),nz=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:iz});var oz=ol({id:"system-language",name:"$t:language",icon:"translate",component:F_(w({props:{disabled:{type:Boolean,default:!1},value:{type:String,default:null}},emits:["input"],setup:()=>({languages:Object.entries(c_).map((([e,t])=>({text:t,value:e})))})}),[["render",function(e,t,l,a,i,n){const o=S("v-select");return E(),A(o,{"model-value":e.value,items:e.languages,disabled:e.disabled,"onUpdate:modelValue":t[0]||(t[0]=t=>e.$emit("input",t))},null,8,["model-value","items","disabled"])}]]),system:!0,types:["string"],options:[]}),sz=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:oz});const rz=w({props:{value:{type:String,default:null},primaryKey:{type:String,default:null}},setup(e){const{t:t}=x(),l=I_(),a=F(!!e.value),i=F(!1),n=F(!1),o=F(!1),s=F(!1),r=C(),d=F(),c=F(""),u=F(),p=F("");ee((()=>{p.value=""})),O((()=>e.value),(()=>{a.value=!!e.value}),{immediate:!0});const m=V((()=>{var t;return(null==(t=l.currentUser)?void 0:t.id)===e.primaryKey}));return{t:t,tfaEnabled:a,tfaGenerated:i,generateTFA:async function(){if(!0===s.value)return;s.value=!0;try{const e=await dI.post("/users/me/tfa/generate",{password:p.value}),t=e.data.data.otpauth_url;d.value=e.data.data.secret,await Nt.toCanvas(document.getElementById(r),t),i.value=!0,u.value=null}catch(e){u.value=e}finally{s.value=!1}},cancelAndClose:function(){i.value=!1,n.value=!1,p.value="",c.value="",d.value=""},enableTFA:async function(){if(!0===s.value)return;s.value=!0;try{await dI.post("/users/me/tfa/enable",{otp:c.value,secret:d.value}),a.value=!0,i.value=!1,n.value=!1,p.value="",c.value="",d.value="",u.value=null}catch(e){u.value=e}finally{s.value=!1}},toggle:function(){!1===a.value?n.value=!0:o.value=!0},password:p,enableActive:n,disableActive:o,loading:s,canvasID:r,secret:d,disableTFA:async function(){s.value=!0;try{await dI.post("/users/me/tfa/disable",{otp:c.value}),a.value=!1,o.value=!1,c.value=""}catch(e){u.value=e}finally{s.value=!1}},otp:c,error:u,isCurrentUser:m}}}),dz=(e=>(K("data-v-72d3e712"),e=e(),W(),e))((()=>j("div",{class:"spacer"},null,-1))),cz=["id"],uz={class:"secret selectable"};var pz=ol({id:"system-mfa-setup",name:"mfa-setup",icon:"box",component:F_(rz,[["render",function(e,t,l,a,i,n){const o=S("v-icon"),s=S("v-checkbox"),r=S("v-card-title"),d=S("v-input"),c=S("v-error"),u=S("v-card-text"),p=S("v-button"),m=S("v-card-actions"),f=S("v-progress-circular"),v=S("v-card"),_=S("v-dialog");return E(),P("div",null,[I(s,{block:"","model-value":e.tfaEnabled,disabled:!e.isCurrentUser,onClick:e.toggle},{append:D((()=>[I(o,{name:"launch",class:H(["checkbox-icon",{enabled:e.tfaEnabled}])},null,8,["class"])])),default:D((()=>[N(U(e.tfaEnabled?e.t("enabled"):e.t("disabled"))+" ",1),dz])),_:1},8,["model-value","disabled","onClick"]),I(_,{modelValue:e.enableActive,"onUpdate:modelValue":t[4]||(t[4]=t=>e.enableActive=t),persistent:"",onEsc:e.cancelAndClose},{default:D((()=>[I(v,null,{default:D((()=>[!1===e.tfaEnabled&&!1===e.tfaGenerated&&!1===e.loading?(E(),P("form",{key:0,onSubmit:t[1]||(t[1]=X(((...t)=>e.generateTFA&&e.generateTFA(...t)),["prevent"]))},[I(r,null,{default:D((()=>[N(U(e.t("enter_password_to_enable_tfa")),1)])),_:1}),I(u,null,{default:D((()=>[I(d,{modelValue:e.password,"onUpdate:modelValue":t[0]||(t[0]=t=>e.password=t),nullable:!1,type:"password",placeholder:e.t("password")},null,8,["modelValue","placeholder"]),e.error?(E(),A(c,{key:0,error:e.error},null,8,["error"])):B("",!0)])),_:1}),I(m,null,{default:D((()=>[I(p,{type:"button",secondary:"",onClick:e.cancelAndClose},{default:D((()=>[N(U(e.t("cancel")),1)])),_:1},8,["onClick"]),I(p,{type:"submit",loading:e.loading},{default:D((()=>[N(U(e.t("next")),1)])),_:1},8,["loading"])])),_:1})],32)):!0===e.loading?(E(),A(f,{key:1,class:"loader",indeterminate:""})):B("",!0),z(j("div",null,[j("form",{onSubmit:t[3]||(t[3]=X(((...t)=>e.enableTFA&&e.enableTFA(...t)),["prevent"]))},[I(r,null,{default:D((()=>[N(U(e.t("tfa_scan_code")),1)])),_:1}),I(u,null,{default:D((()=>[j("canvas",{id:e.canvasID,class:"qr"},null,8,cz),j("output",uz,U(e.secret),1),I(d,{modelValue:e.otp,"onUpdate:modelValue":t[2]||(t[2]=t=>e.otp=t),type:"text",placeholder:e.t("otp"),nullable:!1},null,8,["modelValue","placeholder"]),e.error?(E(),A(c,{key:0,error:e.error},null,8,["error"])):B("",!0)])),_:1}),I(m,null,{default:D((()=>[I(p,{type:"button",secondary:"",onClick:e.cancelAndClose},{default:D((()=>[N(U(e.t("cancel")),1)])),_:1},8,["onClick"]),I(p,{type:"submit",disabled:6!==e.otp.length,onClick:e.enableTFA},{default:D((()=>[N(U(e.t("done")),1)])),_:1},8,["disabled","onClick"])])),_:1})],32)],512),[[ce,!1===e.tfaEnabled&&!0===e.tfaGenerated&&!1===e.loading]])])),_:1})])),_:1},8,["modelValue","onEsc"]),I(_,{modelValue:e.disableActive,"onUpdate:modelValue":t[7]||(t[7]=t=>e.disableActive=t),onEsc:t[8]||(t[8]=t=>e.disableActive=!1)},{default:D((()=>[I(v,null,{default:D((()=>[j("form",{onSubmit:t[6]||(t[6]=X(((...t)=>e.disableTFA&&e.disableTFA(...t)),["prevent"]))},[I(r,null,{default:D((()=>[N(U(e.t("enter_otp_to_disable_tfa")),1)])),_:1}),I(u,null,{default:D((()=>[I(d,{modelValue:e.otp,"onUpdate:modelValue":t[5]||(t[5]=t=>e.otp=t),type:"text",placeholder:e.t("otp"),nullable:!1},null,8,["modelValue","placeholder"]),e.error?(E(),A(c,{key:0,error:e.error},null,8,["error"])):B("",!0)])),_:1}),I(m,null,{default:D((()=>[I(p,{type:"submit",kind:"warning",loading:e.loading,disabled:6!==e.otp.length},{default:D((()=>[N(U(e.t("disable_tfa")),1)])),_:1},8,["loading","disabled"])])),_:1})],32)])),_:1})])),_:1},8,["modelValue"])])}],["__scopeId","data-v-72d3e712"]]),types:["text"],options:[],system:!0}),mz=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:pz});const fz=[{field:"name",name:"$t:name",meta:{required:!0,interface:"input",width:"half-left",options:{placeholder:"$t:enter_a_name"}}},{field:"icon",name:"$t:icon",meta:{required:!0,interface:"select-icon",width:"half-right"}},{field:"url",name:"$t:url",meta:{required:!0,interface:"input",options:{placeholder:"https://example.com"}}}],vz=w({name:"SystemModules",components:{Draggable:Be},props:{value:{type:Array,default:()=>oh}},emits:["input"],setup(e,{emit:t}){const{t:l}=x(),a=F(),i=F(),n=F(),{modules:o}=Sl(),d=V((()=>o.value.filter((e=>!0!==e.hidden)).map((e=>({type:"module",id:e.id,enabled:!1}))))),c=V({get(){var t,l;const a=(null!=(t=e.value)?t:oh).filter((e=>"module"===e.type)).map((e=>e.id));return[...null!=(l=e.value)?l:oh,...d.value.filter((e=>!1===a.includes(e.id)))].filter((e=>"link"===e.type||!!o.value.find((t=>t.id===e.id)))).map((e=>{if("link"===e.type)return r(s({},e),{to:e.url,icon:e.icon,name:e.name});const t=o.value.find((t=>t.id===e.id));return r(s({},e),{to:void 0===t.link?`/${t.id}`:"",name:t.name,icon:t.icon})}))},set(e){t("input",e.map((e=>{if("link"===e.type){const{type:t,id:l,name:a,url:i,icon:n,enabled:o,locked:s}=e;return{type:t,id:l,name:a,url:i,icon:n,enabled:o,locked:s}}const{type:t,id:l,enabled:a,locked:i}=e;return{type:t,id:l,enabled:a,locked:i}})))}});return{t:l,editing:a,valuesWithData:c,hideDragImage:VS,updateItem:function(e,t){c.value=c.value.map((l=>l===e?m.exports.assign({},e,t):l))},edit:function(t){var l;let o;a.value=t,o="+"!==t?(null!=(l=e.value)?l:oh).find((e=>e.id===t)):{id:C(),type:"link",enabled:!0,url:"",name:"",icon:""};i.value=o,n.value=o},linkFields:fz,save:function(){var l,n;"+"===a.value?t("input",[...null!=(l=e.value)?l:oh,i.value]):t("input",(null!=(n=e.value)?n:oh).map((e=>e.id===a.value?i.value:e)));i.value=null,a.value=null},values:i,remove:function(l){var a;t("input",(null!=(a=e.value)?a:oh).filter((e=>e.id!==l)))},initialValues:n}}}),_z={class:"system-modules"},yz={class:"info"},hz={class:"name"},gz={class:"to"},bz=(e=>(K("data-v-307a7c7f"),e=e(),W(),e))((()=>j("div",{class:"spacer"},null,-1))),kz={class:"drawer-content"};var wz=ol({id:"system-modules",name:"$t:module_bar",icon:"arrow_drop_down_circle",component:F_(vz,[["render",function(e,t,l,a,i,n){const o=S("v-icon"),s=S("v-list-item"),r=S("draggable"),d=S("v-list"),c=S("v-button"),u=S("v-form"),p=S("v-drawer"),m=q("tooltip");return E(),P("div",_z,[I(d,{class:"list"},{default:D((()=>[I(r,{modelValue:e.valuesWithData,"onUpdate:modelValue":t[0]||(t[0]=t=>e.valuesWithData=t),"force-fallback":!0,"set-data":e.hideDragImage,"item-key":"id",handle:".drag-handle",animation:150},{item:D((({element:t})=>[I(s,{block:"",class:H({enabled:t.enabled}),clickable:"link"===t.type,onClick:l=>"link"===t.type?e.edit(t.id):void 0},{default:D((()=>[I(o,{class:"drag-handle",name:"drag_handle"}),I(o,{class:"icon",name:t.icon},null,8,["name"]),j("div",yz,[j("div",hz,U(t.name),1),j("div",gz,U(t.to),1)]),bz,!0===t.locked?(E(),A(o,{key:0,name:"lock"})):"link"===t.type?(E(),A(o,{key:1,name:"clear",onClick:X((l=>e.remove(t.id)),["stop"])},null,8,["onClick"])):(E(),A(o,{key:2,name:t.enabled?"check_box":"check_box_outline_blank",clickable:"",onClick:X((l=>e.updateItem(t,{enabled:!t.enabled})),["stop"])},null,8,["name","onClick"]))])),_:2},1032,["class","clickable","onClick"])])),_:1},8,["modelValue","set-data"])])),_:1}),I(c,{onClick:t[1]||(t[1]=t=>e.edit("+"))},{default:D((()=>[N(U(e.t("add_link")),1)])),_:1}),I(p,{title:e.t("custom_link"),"model-value":!!e.editing,icon:"link","onUpdate:modelValue":t[3]||(t[3]=t=>e.editing=null),onCancel:t[4]||(t[4]=t=>e.editing=null)},{actions:D((()=>[z(I(c,{icon:"",rounded:"",onClick:e.save},{default:D((()=>[I(o,{name:"check"})])),_:1},8,["onClick"]),[[m,e.t("save"),void 0,{bottom:!0}]])])),default:D((()=>[j("div",kz,[I(u,{modelValue:e.values,"onUpdate:modelValue":t[2]||(t[2]=t=>e.values=t),"initial-values":e.initialValues,fields:e.linkFields},null,8,["modelValue","initial-values","fields"])])])),_:1},8,["title","model-value"])])}],["__scopeId","data-v-307a7c7f"]]),types:["json"],options:[],system:!0}),xz=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:wz});var Vz=ol({id:"system-scope",name:"$t:scope",icon:"arrow_drop_down_circle",component:F_(w({components:{DrawerCollection:hj},props:{value:{type:String,default:null}},emits:["input"],setup(e,{emit:t}){const{t:l}=x(),a=F(null),i=F(null),n=F(!1),o=V((()=>null!==e.value&&(e.value.startsWith("role_")||e.value.startsWith("user_"))));O((()=>e.value),s),s();return{options:V((()=>{let t=[{text:l("global")+": "+l("all_users"),value:"all"},{text:l("user")+": "+l("select"),value:"directus_users"},{text:l("role")+": "+l("select"),value:"directus_roles"}];if(o.value){const[a,n]=e.value.split("_");t=[{text:l(a)+": "+(i.value||n),value:e.value},{divider:!0},...t]}return t})),collection:a,onSelect:function(e){if("all"===e)return a.value=null,t("input","all");a.value=e},onSelectItem:function(e){if("directus_users"===a.value)return t("input","user_"+e[0]);if("directus_roles"===a.value)return t("input","role_"+e[0])},loading:n};async function s(){if(!o.value)return void(i.value=null);n.value=!0;const[t,l]=e.value.split("_");if("role"===t){const e=await dI.get("/roles/"+l,{params:{fields:["id","name"]}});i.value=e.data.data.name}else if("user"===t){const e=await dI.get("/users/"+l,{params:{fields:["id","first_name","last_name","email"]}});i.value=D_(e.data.data)}n.value=!1}}}),[["render",function(e,t,l,a,i,n){const o=S("v-skeleton-loader"),s=S("v-select"),r=S("drawer-collection");return E(),P("div",null,[e.loading?(E(),A(o,{key:0})):(E(),A(s,{key:1,"model-value":e.value,items:e.options,"onUpdate:modelValue":e.onSelect},null,8,["model-value","items","onUpdate:modelValue"])),null!==e.collection?(E(),A(r,{key:2,active:null!==e.collection,collection:e.collection,"onUpdate:active":t[0]||(t[0]=t=>e.collection=null),onInput:e.onSelectItem},null,8,["active","collection","onInput"])):B("",!0)])}]]),types:["string"],options:[],system:!0}),Cz=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:Vz});const{interfacesRaw:Sz}=yl();async function Ez(e){const t={"./boolean/index.ts":PR,"./datetime/index.ts":WR,"./file/index.ts":YR,"./file-image/index.ts":pM,"./files/index.ts":jM,"./group-accordion/index.ts":NM,"./group-detail/index.ts":KM,"./group-raw/index.ts":QM,"./input/index.ts":JM,"./input-autocomplete-api/index.ts":tU,"./input-code/index.ts":rU,"./input-hash/index.ts":cU,"./input-multiline/index.ts":pU,"./input-rich-text-html/index.ts":fU,"./input-rich-text-md/index.ts":OU,"./list/index.ts":GU,"./list-m2a/index.ts":nN,"./list-m2m/index.ts":uN,"./list-o2m/index.ts":SN,"./list-o2m-tree-view/index.ts":WN,"./map/index.ts":_B,"./presentation-divider/index.ts":hB,"./presentation-links/index.ts":xB,"./presentation-notice/index.ts":EB,"./select-color/index.ts":OB,"./select-dropdown/index.ts":TB,"./select-dropdown-m2o/index.ts":zB,"./select-icon/index.ts":QB,"./select-multiple-checkbox/index.ts":ZB,"./select-multiple-checkbox-tree/index.ts":rq,"./select-multiple-dropdown/index.ts":cq,"./select-radio/index.ts":fq,"./slider/index.ts":_q,"./tags/index.ts":xq,"./translations/index.ts":jq,"./_system/system-collection/index.ts":Rq,"./_system/system-collections/index.ts":Uq,"./_system/system-display-template/index.ts":zq,"./_system/system-field/index.ts":Wq,"./_system/system-field-tree/index.ts":Xq,"./_system/system-folder/index.ts":Zq,"./_system/system-interface/index.ts":tz,"./_system/system-interface-options/index.ts":nz,"./_system/system-language/index.ts":sz,"./_system/system-mfa-setup/index.ts":mz,"./_system/system-modules/index.ts":xz,"./_system/system-scope/index.ts":Cz},l=Object.values(t).map((e=>e.default));try{const e=await ul((()=>import(`${Jh()}extensions/interfaces/index.js`)),[]);l.push(...e.default)}catch(a){console.warn("Couldn't load custom interfaces"),console.warn(a)}Sz.value=l,Sz.value.forEach((t=>{e.component("interface-"+t.id,t.component),"function"!=typeof t.options&&!1===Array.isArray(t.options)&&null!==t.options&&e.component(`interface-options-${t.id}`,t.options)}))}function Az(e){switch(e){case"af":return ul((()=>import("./assets/af.d1f025e4.js").then((function(e){return e.a}))),[]);case"ar-dz":return ul((()=>import("./assets/ar-dz.51626b08.js").then((function(e){return e.a}))),[]);case"ar-kw":return ul((()=>import("./assets/ar-kw.17661f3b.js").then((function(e){return e.a}))),[]);case"ar-ly":return ul((()=>import("./assets/ar-ly.680c2e68.js").then((function(e){return e.a}))),[]);case"ar-ma":return ul((()=>import("./assets/ar-ma.492fc7af.js").then((function(e){return e.a}))),[]);case"ar-sa":return ul((()=>import("./assets/ar-sa.8f7939ac.js").then((function(e){return e.a}))),[]);case"ar-tn":return ul((()=>import("./assets/ar-tn.790c4d93.js").then((function(e){return e.a}))),[]);case"ar":return ul((()=>import("./assets/ar.dccc5590.js").then((function(e){return e.a}))),[]);case"az":return ul((()=>import("./assets/az.d5aa7e5e.js").then((function(e){return e.a}))),[]);case"bg":return ul((()=>import("./assets/bg.39ff05d3.js").then((function(e){return e.b}))),[]);case"bn":return ul((()=>import("./assets/bn.302ece7d.js").then((function(e){return e.b}))),[]);case"bs":return ul((()=>import("./assets/bs.6f53d40f.js").then((function(e){return e.b}))),[]);case"ca":return ul((()=>import("./assets/ca.d109470e.js").then((function(e){return e.c}))),[]);case"cs":return ul((()=>import("./assets/cs.28f09710.js").then((function(e){return e.c}))),[]);case"cy":return ul((()=>import("./assets/cy.92581592.js").then((function(e){return e.c}))),[]);case"da":return ul((()=>import("./assets/da.cffb74a7.js").then((function(e){return e.d}))),[]);case"de-at":return ul((()=>import("./assets/de-at.938fb471.js").then((function(e){return e.d}))),[]);case"de":return ul((()=>import("./assets/de.2df4a32c.js").then((function(e){return e.d}))),[]);case"el":return ul((()=>import("./assets/el.62a64d86.js").then((function(e){return e.e}))),[]);case"en-au":return ul((()=>import("./assets/en-au.ff2c7348.js").then((function(e){return e.e}))),[]);case"en-gb":return ul((()=>import("./assets/en-gb.8ee01156.js").then((function(e){return e.e}))),[]);case"en-nz":return ul((()=>import("./assets/en-nz.2d0a89a1.js").then((function(e){return e.e}))),[]);case"eo":return ul((()=>import("./assets/eo.ba784812.js").then((function(e){return e.e}))),[]);case"es-us":return ul((()=>import("./assets/es-us.fa99d599.js").then((function(e){return e.e}))),[]);case"es":return ul((()=>import("./assets/es.849e0672.js").then((function(e){return e.e}))),[]);case"et":return ul((()=>import("./assets/et.f358f3b0.js").then((function(e){return e.e}))),[]);case"eu":return ul((()=>import("./assets/eu.ede53b69.js").then((function(e){return e.e}))),[]);case"fa":return ul((()=>import("./assets/fa.d30662e9.js").then((function(e){return e.f}))),[]);case"fi":return ul((()=>import("./assets/fi.ad13ab5f.js").then((function(e){return e.f}))),[]);case"fr-ca":return ul((()=>import("./assets/fr-ca.58676289.js").then((function(e){return e.f}))),[]);case"fr-ch":return ul((()=>import("./assets/fr-ch.ad94ac42.js").then((function(e){return e.f}))),[]);case"fr":return ul((()=>import("./assets/fr.f75029e5.js").then((function(e){return e.f}))),[]);case"gl":return ul((()=>import("./assets/gl.d71b5372.js").then((function(e){return e.g}))),[]);case"he":return ul((()=>import("./assets/he.b4d4ce9e.js").then((function(e){return e.h}))),[]);case"hi":return ul((()=>import("./assets/hi.d515a5fb.js").then((function(e){return e.h}))),[]);case"hr":return ul((()=>import("./assets/hr.8f3a8f28.js").then((function(e){return e.h}))),[]);case"hu":return ul((()=>import("./assets/hu.58a03c77.js").then((function(e){return e.h}))),[]);case"hy-am":return ul((()=>import("./assets/hy-am.a9251255.js").then((function(e){return e.h}))),[]);case"id":return ul((()=>import("./assets/id.874a2211.js").then((function(e){return e.i}))),[]);case"is":return ul((()=>import("./assets/is.6f2fb7dc.js").then((function(e){return e.i}))),[]);case"it":return ul((()=>import("./assets/it.1f877773.js").then((function(e){return e.i}))),[]);case"ja":return ul((()=>import("./assets/ja.daee375c.js").then((function(e){return e.j}))),[]);case"ka":return ul((()=>import("./assets/ka.25489f01.js").then((function(e){return e.k}))),[]);case"kk":return ul((()=>import("./assets/kk.0d581723.js").then((function(e){return e.k}))),[]);case"ko":return ul((()=>import("./assets/ko.37ba2137.js").then((function(e){return e.k}))),[]);case"lb":return ul((()=>import("./assets/lb.54077437.js").then((function(e){return e.l}))),[]);case"lt":return ul((()=>import("./assets/lt.5b3565fb.js").then((function(e){return e.l}))),[]);case"lv":return ul((()=>import("./assets/lv.7cedd6c7.js").then((function(e){return e.l}))),[]);case"mk":return ul((()=>import("./assets/mk.825f1d14.js").then((function(e){return e.m}))),[]);case"ms":return ul((()=>import("./assets/ms.d1e95708.js").then((function(e){return e.m}))),[]);case"nb":return ul((()=>import("./assets/nb.6e3050d1.js").then((function(e){return e.n}))),[]);case"ne":return ul((()=>import("./assets/ne.dd77750a.js").then((function(e){return e.n}))),[]);case"nl":return ul((()=>import("./assets/nl.122f2678.js").then((function(e){return e.n}))),[]);case"nn":return ul((()=>import("./assets/nn.d227a471.js").then((function(e){return e.n}))),[]);case"pl":return ul((()=>import("./assets/pl.83ceb435.js").then((function(e){return e.p}))),[]);case"pt-br":return ul((()=>import("./assets/pt-br.970a9f10.js").then((function(e){return e.p}))),[]);case"pt":return ul((()=>import("./assets/pt.cdeaa807.js").then((function(e){return e.p}))),[]);case"ro":return ul((()=>import("./assets/ro.3546faad.js").then((function(e){return e.r}))),[]);case"ru":return ul((()=>import("./assets/ru.0a169a44.js").then((function(e){return e.r}))),[]);case"sk":return ul((()=>import("./assets/sk.3293bdaf.js").then((function(e){return e.s}))),[]);case"sl":return ul((()=>import("./assets/sl.c2e613d5.js").then((function(e){return e.s}))),[]);case"sq":return ul((()=>import("./assets/sq.b81a8e91.js").then((function(e){return e.s}))),[]);case"sr-cyrl":return ul((()=>import("./assets/sr-cyrl.de91b907.js").then((function(e){return e.s}))),[]);case"sr":return ul((()=>import("./assets/sr.09267bda.js").then((function(e){return e.s}))),[]);case"sv":return ul((()=>import("./assets/sv.343a5b1c.js").then((function(e){return e.s}))),[]);case"ta-in":return ul((()=>import("./assets/ta-in.b7dc8a97.js").then((function(e){return e.t}))),[]);case"th":return ul((()=>import("./assets/th.981ce805.js").then((function(e){return e.t}))),[]);case"tr":return ul((()=>import("./assets/tr.17b11796.js").then((function(e){return e.t}))),[]);case"ug":return ul((()=>import("./assets/ug.40c679dd.js").then((function(e){return e.u}))),[]);case"uk":return ul((()=>import("./assets/uk.bc3bab47.js").then((function(e){return e.u}))),[]);case"uz":return ul((()=>import("./assets/uz.2b2e9831.js").then((function(e){return e.u}))),[]);case"vi":return ul((()=>import("./assets/vi.f786c3c8.js").then((function(e){return e.v}))),[]);case"zh-cn":return ul((()=>import("./assets/zh-cn.36b5a283.js").then((function(e){return e.z}))),[]);case"zh-tw":return ul((()=>import("./assets/zh-tw.f3b4c6d2.js").then((function(e){return e.z}))),[]);default:return Promise.resolve()}}const Dz=w({inheritAttrs:!1,props:{itemCount:{type:Number,default:null},showingCount:{type:String,default:null}}}),Iz={key:0,class:"item-count"};var Fz=F_(Dz,[["render",function(e,t,l,a,i,n){return E(),A(We,{name:"fade"},{default:D((()=>[e.itemCount?(E(),P("span",Iz,U(e.showingCount),1)):B("",!0)])),_:1})}],["__scopeId","data-v-ceefb89c"]]);const Oz=w({inheritAttrs:!1,props:{createCalendar:{type:Function,required:!0},destroyCalendar:{type:Function,required:!0}},setup(e){const t=F();return ee((()=>{e.createCalendar(t.value)})),he((()=>{e.destroyCalendar()})),{calendarElement:t}}}),$z={class:"calendar-layout"},Tz={ref:"calendarElement"};var Pz=F_(Oz,[["render",function(e,t,l,a,i,n){return E(),P("div",$z,[j("div",Tz,null,512)])}],["__scopeId","data-v-1b062ccb"]]);const jz=w({inheritAttrs:!1,props:{collection:{type:String,required:!0},template:{type:String,default:null},dateFields:{type:Array,required:!0},startDateField:{type:String,default:null},endDateField:{type:String,default:null}},emits:["update:template","update:startDateField","update:endDateField"],setup(e,{emit:t}){const{t:l}=x();return{t:l,templateWritable:Yt(e,"template",t),startDateFieldWritable:Yt(e,"startDateField",t),endDateFieldWritable:Yt(e,"endDateField",t)}}}),Lz={class:"field"},Rz={class:"type-label"},Mz={class:"field"},Uz={class:"type-label"},Nz={class:"field"},Bz={class:"type-label"};var qz=sl({id:"calendar",name:"$t:layouts.calendar.calendar",icon:"event",component:Pz,slots:{options:F_(jz,[["render",function(e,t,l,a,i,n){const o=S("v-field-template"),s=S("v-select");return E(),P(R,null,[j("div",Lz,[j("div",Rz,U(e.t("display_template")),1),I(o,{modelValue:e.templateWritable,"onUpdate:modelValue":t[0]||(t[0]=t=>e.templateWritable=t),collection:e.collection},null,8,["modelValue","collection"])]),j("div",Mz,[j("div",Uz,U(e.t("layouts.calendar.start_date_field")),1),I(s,{modelValue:e.startDateFieldWritable,"onUpdate:modelValue":t[1]||(t[1]=t=>e.startDateFieldWritable=t),"show-deselect":"",items:e.dateFields,"item-text":"name","item-value":"field"},null,8,["modelValue","items"])]),j("div",Nz,[j("div",Bz,U(e.t("layouts.calendar.end_date_field")),1),I(s,{modelValue:e.endDateFieldWritable,"onUpdate:modelValue":t[2]||(t[2]=t=>e.endDateFieldWritable=t),"show-deselect":"",items:e.dateFields,"item-text":"name","item-value":"field"},null,8,["modelValue","items"])])],64)}]]),sidebar:F_(w({inheritAttrs:!1,props:{collection:{type:String,required:!0},filters:{type:Array,default:()=>[]},searchQuery:{type:String,default:null},loading:{type:Boolean,required:!0},filtersWithCalendarView:{type:Array,required:!0}},emits:["update:filters"],setup:(e,{emit:t})=>({filtersWritable:Yt(e,"filters",t)})}),[["render",function(e,t,l,a,i,n){const o=S("filter-sidebar-detail"),s=S("export-sidebar-detail");return E(),P(R,null,[I(o,{modelValue:e.filtersWritable,"onUpdate:modelValue":t[0]||(t[0]=t=>e.filtersWritable=t),collection:e.collection,loading:e.loading},null,8,["modelValue","collection","loading"]),I(s,{filters:e.filtersWithCalendarView,"search-query":e.searchQuery,collection:e.collection},null,8,["filters","search-query","collection"])],64)}]]),actions:Fz},setup(e,{emit:t}){const{t:l,locale:a}=x(),i=F(),n=dl(),o=Yt(e,"layoutOptions",t),d=Yt(e,"filters",t),c=Yt(e,"searchQuery",t),{selection:u,collection:p}=T(e),{primaryKeyField:m,fields:f}=Xt(p),v=V((()=>f.value.filter((e=>["timestamp","dateTime","date"].includes(e.type))))),_=V((()=>i.value&&g.value?[...d.value,{key:"start_date",field:g.value,operator:"gte",value:Ft(i.value.view.currentStart),hidden:!0},{key:"end_date",field:g.value,operator:"lte",value:Ft(i.value.view.currentEnd),hidden:!0}]:d.value)),y=V({get(){var e,t;return null!=(t=null==(e=o.value)?void 0:e.template)?t:null},set(e){o.value=r(s({},o.value||{}),{template:null!=e?e:void 0})}}),h=V({get(){var e;return null==(e=o.value)?void 0:e.viewInfo},set(e){o.value=r(s({},o.value||{}),{viewInfo:e})}}),g=V({get(){var e,t;return null!=(t=null==(e=o.value)?void 0:e.startDateField)?t:null},set(e){o.value=r(s({},o.value||{}),{startDateField:null!=e?e:void 0})}}),b=V((()=>f.value.find((e=>e.field===g.value)))),k=V({get(){var e,t;return null!=(t=null==(e=o.value)?void 0:e.endDateField)?t:null},set(e){o.value=r(s({},o.value||{}),{endDateField:null!=e?e:void 0})}}),w=V((()=>f.value.find((e=>e.field===k.value)))),{items:C,loading:S,error:E,totalPages:A,itemCount:D,totalCount:I,changeManualSort:$,getItems:P}=rl(p,{sort:V((()=>{var e;return(null==(e=m.value)?void 0:e.field)||""})),page:F(1),limit:F(-1),fields:V((()=>{if(!m.value)return[];const e=[m.value.field];return y.value&&e.push(...el(y.value)),g.value&&e.push(g.value),k.value&&e.push(k.value),e})),filters:_,searchQuery:c},!1),j=V((()=>C.value.map((e=>function(e){if(!g.value||!m.value)return null;let t;const l=w.value&&"date"===w.value.type;if(k.value)if(l){const l=Et(e[k.value],"yyyy-MM-dd",new Date);l.setDate(l.getDate()+1),t=ue(l,"yyyy-MM-dd")}else t=e[k.value];return{id:e[m.value.field],title:Ig(y.value||`{{ ${m.value.field} }}`,e)||void 0,start:e[g.value],end:t,allDay:l,className:u.value.includes(e)?"selected":void 0}}(e))).filter((e=>e))||[])),L=V((()=>{var t,l,a,i,n,o;const d={editable:!0,eventStartEditable:!0,eventResizableFromStart:!0,eventDurationEditable:!0,dayMaxEventRows:!0,contentHeight:800,nextDayThreshold:"01:00:00",plugins:[Bt,qt,zt,Kt],initialView:null!=(l=null==(t=h.value)?void 0:t.type)?l:"dayGridMonth",headerToolbar:{left:"prevYear,prev,next,nextYear today",center:"title",right:"dayGridMonth,dayGridWeek,dayGridDay,listWeek"},events:j.value,initialDate:null!=(i=null==(a=h.value)?void 0:a.startDateStr)?i:Ft(new Date),eventClick(t){var l;if(p.value)if(e.selectMode||(null==(l=u.value)?void 0:l.length)>0){const e=C.value.find((e=>e[m.value.field]==t.event.id));e&&(u.value.includes(e)?u.value=u.value.filter((t=>t!==e)):u.value=[...u.value,e],M())}else{const e=t.event.id,l=p.value.startsWith("directus")?p.value.substring(9):`collections/${p.value}`;uw.push(`/${l}/${e}`)}},async eventChange(e){if(!p.value||!g.value||!b.value)return;const t={[g.value]:U(e.event.startStr,b.value.type)};k.value&&w.value&&e.event.endStr&&(t[k.value]=U(e.event.endStr,w.value.type));const l=p.value.startsWith("directus")?p.value.substring(9):`/items/${p.value}`;try{await dI.patch(`${l}/${e.event.id}`,t)}catch(a){jy(a)}}};return"dateTime"!==(null==(n=b.value)?void 0:n.type)&&"timestamp"!==(null==(o=b.value)?void 0:o.type)||(d.headerToolbar=r(s({},d.headerToolbar),{right:"dayGridMonth,timeGridWeek,timeGridDay,listWeek"})),d}));O((()=>n.sidebarOpen),(()=>setTimeout((()=>{var e;return null==(e=i.value)?void 0:e.updateSize()}),300))),O(L,(()=>M()),{deep:!0,immediate:!0}),O([i,a],(async()=>{if(i.value){const e=await async function(e){const t=[e,e.split("-")[0],"en-US"];let l;for(const a of t)try{const e=await Az(a);l=e.default.default||e.default;break}catch{continue}return l}(a.value);i.value.setOption("locale",e)}}),{immediate:!0});const R=V((()=>D.value?l("item_count",D.value):null));return{items:C,loading:S,error:E,totalPages:A,itemCount:D,totalCount:I,changeManualSort:$,getItems:P,filtersWithCalendarView:_,template:y,dateFields:v,startDateField:g,endDateField:k,showingCount:R,createCalendar:function(e){i.value=new Wt(e,L.value),i.value.on("datesSet",(e=>{h.value={type:e.view.type,startDateStr:Ft(e.view.currentStart)}})),i.value.render()},destroyCalendar:function(){var e;null==(e=i.value)||e.destroy()}};function M(){i.value&&(i.value.pauseRendering(),i.value.resetOptions(L.value),i.value.resumeRendering(),i.value.render())}function U(e,t){return"dateTime"===t?e.substring(0,19):e}}}),zz=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:qz});const Kz=w({props:{icon:{type:String,default:"box"},file:{type:Object,default:null},crop:{type:Boolean,default:!1},loading:{type:Boolean,default:!1},item:{type:Object,default:null},modelValue:{type:Array,default:()=>[]},selectMode:{type:Boolean,default:!1},to:{type:String,default:""},readonly:{type:Boolean,default:!1},itemKey:{type:String,required:!0}},emits:["update:modelValue"],setup(e,{emit:t}){const l=ie(),a=F(!1),i=V((()=>e.file&&e.file.type?!a.value&&e.file.type.startsWith("image")?null:ok(e.file.type,!0):null));return{imageSource:V((()=>{if(!e.file||!e.file.type)return null;if(!1===e.file.type.startsWith("image"))return null;if(e.file.type.includes("svg"))return null;let t="system-medium-cover";!1===e.crop&&(t="system-medium-contain");return uI(Jh()+`assets/${e.file.id}?key=${t}&modified=${e.file.modified_on}`)})),svgSource:V((()=>{if(!e.file||!e.file.type)return null;if(!1===e.file.type.startsWith("image"))return null;if(!1===e.file.type.includes("svg"))return null;return uI(Jh()+`assets/${e.file.id}?modified=${e.file.modified_on}`)})),type:i,selectionIcon:V((()=>e.item&&e.modelValue.includes(e.item[e.itemKey])?"check_circle":"radio_button_unchecked")),toggleSelection:n,handleClick:function(){!0===e.selectMode?n():l.push(e.to)},imgError:a};function n(){if(!e.item)return null;e.modelValue.includes(e.item[e.itemKey])?t("update:modelValue",e.modelValue.filter((t=>t!==e.item[e.itemKey]))):t("update:modelValue",[...e.modelValue,e.item[e.itemKey]])}}}),Wz={class:"header"},Hz=(e=>(K("data-v-6184ebe2"),e=e(),W(),e))((()=>j("div",{class:"selection-fade"},null,-1))),Gz={key:0,class:"type type-title"},Qz=["src"],Xz=["src"],Jz={key:0,class:"title"},Yz={key:1,class:"subtitle"};var Zz=F_(Kz,[["render",function(e,t,l,a,i,n){const o=S("v-icon"),s=S("v-skeleton-loader");return E(),P("div",{class:H(["card",{loading:e.loading,readonly:e.readonly,selected:e.item&&e.modelValue.includes(e.item[e.itemKey]),"select-mode":e.selectMode}]),onClick:t[2]||(t[2]=(...t)=>e.handleClick&&e.handleClick(...t))},[I(o,{class:"selector",name:e.selectionIcon,onClick:X(e.toggleSelection,["stop"])},null,8,["name","onClick"]),j("div",Wz,[Hz,e.loading?(E(),A(s,{key:0})):(E(),P(R,{key:1},[e.type||e.imgError?(E(),P("p",Gz,U(e.type),1)):(E(),P(R,{key:1},[e.imageSource?(E(),P("img",{key:0,class:"image",loading:"lazy",src:e.imageSource,alt:"",role:"presentation",onError:t[0]||(t[0]=t=>e.imgError=!0)},null,40,Qz)):e.svgSource?(E(),P("img",{key:1,class:"svg",src:e.svgSource,alt:"",role:"presentation",onError:t[1]||(t[1]=t=>e.imgError=!0)},null,40,Xz)):(E(),A(o,{key:2,large:"",name:e.icon},null,8,["name"]))],64))],64))]),e.loading?(E(),A(s,{key:0,type:"text"})):(E(),P(R,{key:1},[e.$slots.title?(E(),P("div",Jz,[Q(e.$slots,"title",{},void 0,!0)])):B("",!0),e.$slots.subtitle?(E(),P("div",Yz,[Q(e.$slots,"subtitle",{},void 0,!0)])):B("",!0)],64))],2)}],["__scopeId","data-v-6184ebe2"]]);const eK=w({props:{fields:{type:Array,required:!0},size:{type:Number,required:!0},sort:{type:String,required:!0},selection:{type:Array,default:()=>[]}},emits:["select-all","update:size","update:sort","update:selection"],setup(e,{emit:t}){const{t:l}=x(),a=Yt(e,"size",t),i=Yt(e,"sort",t),n=Yt(e,"selection",t),o=V((()=>e.sort.startsWith("-"))),s=V((()=>e.sort.startsWith("-")?e.sort.substring(1):e.sort)),r=V((()=>e.fields.find((e=>e.field===s.value)))),d=V((()=>e.fields.filter((e=>!1===e.field.startsWith("$"))).map((e=>({field:e.field,name:e.name,disabled:["json","o2m","m2o","m2a","file","files","alias","presentation"].includes(e.type)})))));return{t:l,toggleSize:function(){e.size>=2&&e.size<5?a.value++:a.value=2},descending:o,toggleDescending:function(){!0===o.value?i.value=i.value.substring(1):i.value="-"+i.value},sortField:r,internalSize:a,internalSort:i,internalSelection:n,sortKey:s,fieldsWithoutFake:d}}}),tK={class:"cards-header"},lK={class:"start"},aK={class:"label"},iK={class:"label"},nK={class:"end"},oK=["onClick"];const sK=w({components:{Card:Zz,CardsHeader:F_(eK,[["render",function(e,t,l,a,i,n){const o=S("v-icon"),s=S("v-list-item-content"),r=S("v-list-item"),d=S("v-list"),c=S("v-menu"),u=q("tooltip");return E(),P("div",tK,[j("div",lK,[e.internalSelection.length>0?(E(),P("div",{key:0,class:"selected",onClick:t[0]||(t[0]=t=>e.internalSelection=[])},[I(o,{name:"cancel",outline:""}),j("span",aK,U(e.t("n_items_selected",e.internalSelection.length)),1)])):(E(),P("button",{key:1,class:"select-all",onClick:t[1]||(t[1]=t=>e.$emit("select-all"))},[I(o,{name:"check_circle",outline:""}),j("span",iK,U(e.t("select_all")),1)]))]),j("div",nK,[z(I(o,{class:"size-selector",name:"grid_"+(7-e.size),clickable:"",onClick:e.toggleSize},null,8,["name","onClick"]),[[u,e.t("card_size"),void 0,{top:!0}]]),I(c,{"show-arrow":"",placement:"bottom"},{activator:D((({toggle:t})=>[z(j("div",{class:"sort-selector",onClick:t},[N(U(e.sortField&&e.sortField.name),1)],8,oK),[[u,e.t("sort_field"),void 0,{top:!0}]])])),default:D((()=>[I(d,null,{default:D((()=>[(E(!0),P(R,null,M(e.fieldsWithoutFake,(t=>(E(),A(r,{key:t.field,disabled:t.disabled,active:t.field===e.sortKey,clickable:"",onClick:l=>e.internalSort=t.field},{default:D((()=>[I(s,null,{default:D((()=>[N(U(t.name),1)])),_:2},1024)])),_:2},1032,["disabled","active","onClick"])))),128))])),_:1})])),_:1}),z(I(o,{class:H(["sort-direction",{descending:e.descending}]),name:"sort",clickable:"",onClick:e.toggleDescending},null,8,["class","onClick"]),[[u,e.t("sort_direction"),void 0,{top:!0}]])])])}],["__scopeId","data-v-0de8a1d0"]])},inheritAttrs:!1,props:{collection:{type:String,required:!0},selection:{type:Array,required:!0},selectMode:{type:Boolean,required:!0},readonly:{type:Boolean,required:!0},items:{type:Array,required:!0},loading:{type:Boolean,required:!0},error:{type:Object,default:null},totalPages:{type:Number,required:!0},page:{type:Number,required:!0},toPage:{type:Function,required:!0},itemCount:{type:Number,default:null},fieldsInCollection:{type:Array,required:!0},limit:{type:Number,required:!0},size:{type:Number,required:!0},primaryKeyField:{type:Object,default:null},icon:{type:String,required:!0},imageSource:{type:String,default:null},title:{type:String,default:null},subtitle:{type:String,default:null},getLinkForItem:{type:Function,required:!0},imageFit:{type:String,required:!0},sort:{type:String,required:!0},info:{type:Object,default:null},isSingleRow:{type:Boolean,required:!0},width:{type:Number,required:!0},activeFilterCount:{type:Number,required:!0},selectAll:{type:Function,required:!0},resetPresetAndRefresh:{type:Function,required:!0}},emits:["update:selection","update:limit","update:size","update:sort","update:width"],setup(e,{emit:t}){const{t:l}=x(),a=Yt(e,"selection",t),i=Yt(e,"limit",t),n=Yt(e,"size",t),o=Yt(e,"sort",t),s=F(),{width:r}=Fw(s);return O(r,(()=>{t("update:width",r.value)})),{t:l,selectionWritable:a,limitWritable:i,sizeWritable:n,sortWritable:o,layoutElement:s}}}),rK={class:"footer"},dK={class:"pagination"},cK={key:0,class:"per-page"};var uK=F_(sK,[["render",function(e,t,l,a,i,n){const o=S("cards-header"),s=S("card"),r=S("render-template"),d=S("v-pagination"),c=S("v-select"),u=S("v-error"),p=S("v-button"),m=S("v-info");return E(),P("div",{ref:"layoutElement",class:"layout-cards",style:Ue({"--size":40*e.size+"px"})},[e.loading||e.itemCount>0?(E(),P(R,{key:0},[I(o,{size:e.sizeWritable,"onUpdate:size":t[0]||(t[0]=t=>e.sizeWritable=t),selection:e.selectionWritable,"onUpdate:selection":t[1]||(t[1]=t=>e.selectionWritable=t),sort:e.sortWritable,"onUpdate:sort":t[2]||(t[2]=t=>e.sortWritable=t),fields:e.fieldsInCollection,onSelectAll:e.selectAll},null,8,["size","selection","sort","fields","onSelectAll"]),j("div",{class:H(["grid",{"single-row":e.isSingleRow}])},[e.loading?(E(),P(R,{key:0},M(6,(e=>I(s,{key:`loader-${e}`,"item-key":"loading",loading:""}))),64)):(E(!0),P(R,{key:1},M(e.items,(l=>(E(),A(s,{key:l[e.primaryKeyField.field],modelValue:e.selectionWritable,"onUpdate:modelValue":t[3]||(t[3]=t=>e.selectionWritable=t),"item-key":e.primaryKeyField.field,crop:"crop"===e.imageFit,icon:e.icon,file:e.imageSource?l[e.imageSource]:null,item:l,"select-mode":e.selectMode||e.selection&&e.selection.length>0,to:e.getLinkForItem(l),readonly:e.readonly},G({_:2},[e.title?{name:"title",fn:D((()=>[I(r,{collection:e.collection,item:l,template:e.title},null,8,["collection","item","template"])]))}:void 0,e.subtitle?{name:"subtitle",fn:D((()=>[I(r,{collection:e.collection,item:l,template:e.subtitle},null,8,["collection","item","template"])]))}:void 0]),1032,["modelValue","item-key","crop","icon","file","item","select-mode","to","readonly"])))),128))],2),j("div",rK,[j("div",dK,[e.totalPages>1?(E(),A(d,{key:0,length:e.totalPages,"total-visible":7,"show-first-last":"","model-value":e.page,"onUpdate:modelValue":e.toPage},null,8,["length","model-value","onUpdate:modelValue"])):B("",!0)]),!1===e.loading&&e.items.length>=25?(E(),P("div",cK,[j("span",null,U(e.t("per_page")),1),I(c,{"model-value":`${e.limit}`,items:["25","50","100","250","500","1000"],inline:"","onUpdate:modelValue":t[4]||(t[4]=t=>e.limitWritable=+t)},null,8,["model-value"])])):B("",!0)])],64)):e.error?(E(),A(m,{key:1,type:"danger",title:e.t("unexpected_error"),icon:"error",center:""},{append:D((()=>[I(u,{error:e.error},null,8,["error"]),I(p,{small:"",class:"reset-preset",onClick:e.resetPresetAndRefresh},{default:D((()=>[N(U(e.t("reset_page_preferences")),1)])),_:1},8,["onClick"])])),default:D((()=>[N(U(e.t("unexpected_error_copy"))+" ",1)])),_:1},8,["title"])):0===e.itemCount&&e.activeFilterCount>0?Q(e.$slots,"no-results",{key:2},void 0,!0):0===e.itemCount?Q(e.$slots,"no-items",{key:3},void 0,!0):B("",!0)],4)}],["__scopeId","data-v-1df73c23"]]);const pK=w({inheritAttrs:!1,props:{collection:{type:String,required:!0},icon:{type:String,required:!0},fileFields:{type:Array,required:!0},imageSource:{type:String,default:null},title:{type:String,default:null},subtitle:{type:String,default:null},imageFit:{type:String,required:!0}},emits:["update:icon","update:imageSource","update:title","update:subtitle","update:imageFit"],setup(e,{emit:t}){const{t:l}=x();return{t:l,iconWritable:Yt(e,"icon",t),imageSourceWritable:Yt(e,"imageSource",t),titleWritable:Yt(e,"title",t),subtitleWritable:Yt(e,"subtitle",t),imageFitWritable:Yt(e,"imageFit",t)}}}),mK={class:"field"},fK={class:"type-label"},vK={class:"field"},_K={class:"type-label"},yK={class:"field"},hK={class:"type-label"},gK={class:"nested-options"},bK={class:"field"},kK={class:"type-label"},wK={class:"field"},xK={class:"type-label"};var VK=F_(pK,[["render",function(e,t,l,a,i,n){const o=S("v-select"),s=S("v-field-template"),r=S("interface-select-icon"),d=S("v-detail");return E(),P(R,null,[j("div",mK,[j("div",fK,U(e.t("layouts.cards.image_source")),1),I(o,{modelValue:e.imageSourceWritable,"onUpdate:modelValue":t[0]||(t[0]=t=>e.imageSourceWritable=t),"show-deselect":"","item-value":"field","item-text":"name",items:e.fileFields},null,8,["modelValue","items"])]),j("div",vK,[j("div",_K,U(e.t("layouts.cards.title")),1),I(s,{modelValue:e.titleWritable,"onUpdate:modelValue":t[1]||(t[1]=t=>e.titleWritable=t),collection:e.collection},null,8,["modelValue","collection"])]),j("div",yK,[j("div",hK,U(e.t("layouts.cards.subtitle")),1),I(s,{modelValue:e.subtitleWritable,"onUpdate:modelValue":t[2]||(t[2]=t=>e.subtitleWritable=t),collection:e.collection},null,8,["modelValue","collection"])]),I(d,{class:"field"},{title:D((()=>[N(U(e.t("layout_setup")),1)])),default:D((()=>[j("div",gK,[j("div",bK,[j("div",kK,U(e.t("layouts.cards.image_fit")),1),I(o,{modelValue:e.imageFitWritable,"onUpdate:modelValue":t[3]||(t[3]=t=>e.imageFitWritable=t),disabled:null===e.imageSource,items:[{text:e.t("layouts.cards.crop"),value:"crop"},{text:e.t("layouts.cards.contain"),value:"contain"}]},null,8,["modelValue","disabled","items"])]),j("div",wK,[j("div",xK,U(e.t("fallback_icon")),1),I(r,{value:e.icon,onInput:t[4]||(t[4]=t=>e.iconWritable=t)},null,8,["value"])])])])),_:1})],64)}],["__scopeId","data-v-1167aeea"]]);var CK=F_(w({inheritAttrs:!1,props:{collection:{type:String,required:!0},layoutQuery:{type:Object,default:()=>({})},filters:{type:Array,default:()=>[]},searchQuery:{type:String,default:null},loading:{type:Boolean,required:!0}},emits:["update:filters"],setup:(e,{emit:t})=>({filtersWritable:Yt(e,"filters",t)})}),[["render",function(e,t,l,a,i,n){const o=S("filter-sidebar-detail"),s=S("export-sidebar-detail");return E(),P(R,null,[I(o,{modelValue:e.filtersWritable,"onUpdate:modelValue":t[0]||(t[0]=t=>e.filtersWritable=t),collection:e.collection,loading:e.loading},null,8,["modelValue","collection","loading"]),I(s,{"layout-query":e.layoutQuery,filters:e.filters,"search-query":e.searchQuery,collection:e.collection},null,8,["layout-query","filters","search-query","collection"])],64)}]]);const SK=w({inheritAttrs:!1,props:{itemCount:{type:Number,default:null},showingCount:{type:String,required:!0}}}),EK={key:0,class:"item-count"};var AK=sl({id:"cards",name:"$t:layouts.cards.cards",icon:"grid_4",component:uK,slots:{options:VK,sidebar:CK,actions:F_(SK,[["render",function(e,t,l,a,i,n){return E(),A(We,{name:"fade"},{default:D((()=>[e.itemCount?(E(),P("span",EK,U(e.showingCount),1)):B("",!0)])),_:1})}],["__scopeId","data-v-4039d1ee"]])},setup(e,{emit:t}){const{t:l,n:a}=x(),i=VI(),n=ae("main-element",F(null)),o=Yt(e,"selection",t),d=Yt(e,"layoutOptions",t),c=Yt(e,"layoutQuery",t),u=Yt(e,"filters",t),p=Yt(e,"searchQuery",t),{collection:f}=T(e),{info:v,primaryKeyField:_,fields:y}=Xt(f),h=V((()=>y.value.filter((t=>{if("$thumbnail"===t.field)return!0;return!!i.relations.find((l=>l.collection===e.collection&&l.field===t.field&&"directus_files"===l.related_collection))})))),{size:g,icon:b,imageSource:k,title:w,subtitle:C,imageFit:S}=function(){var e,t;const l=u("size",4),a=u("icon","box"),i=u("title",null),n=u("subtitle",null),o=u("imageSource",null!=(t=null==(e=h.value[0])?void 0:e.field)?t:null),c=u("imageFit","crop");return{size:l,icon:a,imageSource:o,title:i,subtitle:n,imageFit:c};function u(e,t){return V({get(){var l,a;return void 0!==(null==(l=d.value)?void 0:l[e])?null==(a=d.value)?void 0:a[e]:t},set(t){d.value=r(s({},d.value),{[e]:t})}})}}(),{sort:E,limit:A,page:D,fields:I}=function(){const t=V({get(){var e;return(null==(e=c.value)?void 0:e.page)||1},set(e){c.value=r(s({},c.value||{}),{page:e})}}),l=V({get(){var e,t;return(null==(e=c.value)?void 0:e.sort)||(null==(t=_.value)?void 0:t.field)||""},set(e){c.value=r(s({},c.value||{}),{page:1,sort:e})}}),a=V({get(){var e;return(null==(e=c.value)?void 0:e.limit)||25},set(e){c.value=r(s({},c.value||{}),{page:1,limit:e})}}),i=V((()=>{if(!_.value||!e.collection)return[];const t=[_.value.field];if(k.value&&(t.push(`${k.value}.modified_on`),t.push(`${k.value}.type`),t.push(`${k.value}.filename_disk`),t.push(`${k.value}.storage`),t.push(`${k.value}.id`)),"directus_files"===e.collection&&"$thumbnail"===k.value&&(t.push("modified_on"),t.push("type")),l.value){const e=l.value.startsWith("-")?l.value.substring(1):l.value;!1===t.includes(e)&&t.push(e)}const a=[];return w.value&&a.push(...el(w.value)),C.value&&a.push(...el(C.value)),[...t,...Qj(a,e.collection)]}));return{sort:l,limit:a,page:t,fields:i}}(),{items:O,loading:$,error:P,totalPages:j,itemCount:L,totalCount:R,getItems:M}=rl(f,{sort:E,limit:A,page:D,fields:I,filters:u,searchQuery:p}),U=V((()=>(L.value||0)<(R.value||0)?1===L.value?l("one_filtered_item"):l("start_end_of_count_filtered_items",{start:a((+D.value-1)*A.value+1),end:a(Math.min(D.value*A.value,L.value||0)),count:a(L.value||0)}):1===L.value?l("one_item"):l("start_end_of_count_items",{start:a((+D.value-1)*A.value+1),end:a(Math.min(D.value*A.value,L.value||0)),count:a(L.value||0)}))),N=F(0),B=V((()=>O.value.length*(40*g.value)+24*(O.value.length-1)<=N.value)),q=V((()=>u.value.filter((e=>!e.locked)).length));return{items:O,loading:$,error:P,totalPages:j,page:D,toPage:function(e){var t;D.value=e,null==(t=n.value)||t.scrollTo({top:0,behavior:"smooth"})},itemCount:L,totalCount:R,fieldsInCollection:y,limit:A,size:g,primaryKeyField:_,icon:b,fileFields:h,imageSource:k,title:w,subtitle:C,getLinkForItem:function(t){if(!_.value)return;return`/collections/${e.collection}/${encodeURIComponent(t[_.value.field])}`},imageFit:S,sort:E,info:v,showingCount:U,isSingleRow:B,width:N,activeFilterCount:q,refresh:z,selectAll:function(){if(!_.value)return;const e=_.value;o.value=m.exports.clone(O.value).map((t=>t[e.field]))},resetPresetAndRefresh:async function(){var t;await(null==(t=null==e?void 0:e.resetPreset)?void 0:t.call(e)),z()}};function z(){M()}}}),DK=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:AK});const IK=w({components:{},props:{data:{type:Object,required:!0},source:{type:Object,required:!0},layers:{type:Array,default:()=>[]},camera:{type:Object,default:()=>({})},bounds:{type:Array,default:void 0},featureId:{type:String,default:void 0},selection:{type:Array,default:()=>[]}},emits:["moveend","featureclick","featureselect","fitdata"],setup(e,{emit:t}){const l=dl();let a;const i=F(),n=F(),o=F(),d=F(),c=[],{sidebarOpen:u,basemap:p}=T(l),m=ND(),f=V((()=>{var e;return BD(null!=(e=m.find((e=>e.name===p.value)))?e:m[0])})),v=new Tt.exports.Popup({closeButton:!1,closeOnClick:!1,className:"mapboxgl-point-popup",maxWidth:"unset",offset:20}),_=new Tt.exports.AttributionControl({compact:!0}),y=new Tt.exports.NavigationControl,h=new Tt.exports.GeolocateControl,g=new HN("mapboxgl-ctrl-fitdata",(()=>{t("fitdata")})),b=new GN({boxElementClass:"selection-box",selectButtonClass:"mapboxgl-ctrl-select",unselectButtonClass:"mapboxgl-ctrl-unselect",layers:["__directus_polygons","__directus_points","__directus_lines"]}),k=RD("mapbox_key");return ee((()=>{!function(){a=new Tt.exports.Map(s(s({container:"map-container",style:f.value,attributionControl:!1},e.camera),k?{accessToken:k}:{})),k&&a.addControl(new Mt({accessToken:k,marker:!1}),"top-right");a.addControl(_,"top-right"),a.addControl(y,"top-left"),a.addControl(h,"top-left"),a.addControl(g,"top-left"),a.addControl(b,"top-left"),a.on("load",(()=>{O((()=>f.value),x),O((()=>e.bounds),w),a.on("click","__directus_polygons",I),a.on("mousemove","__directus_polygons",$),a.on("mouseleave","__directus_polygons",$),a.on("click","__directus_points",I),a.on("mousemove","__directus_points",$),a.on("mouseleave","__directus_points",$),a.on("click","__directus_lines",I),a.on("mousemove","__directus_lines",$),a.on("mouseleave","__directus_lines",$),a.on("click","__directus_clusters",P),a.on("mousemove","__directus_clusters",j),a.on("mouseleave","__directus_clusters",j),a.on("select.enable",(()=>o.value=!0)),a.on("select.disable",(()=>o.value=!1)),a.on("select.end",(e=>{var l;const a=null==(l=e.features)?void 0:l.map((e=>e.id));t("featureselect",{ids:a,replace:!e.alt})})),a.on("moveend",(e=>{e.originalEvent&&t("moveend",{center:a.getCenter(),zoom:a.getZoom(),bearing:a.getBearing(),pitch:a.getPitch(),bbox:a.getBounds().toArray().flat()})})),C()})),O((()=>u.value),(e=>{e||setTimeout((()=>a.resize()),300)})),setTimeout((()=>a.resize()),300)}()})),he((()=>{a.remove()})),{container:d,hoveredFeature:i,hoveredCluster:n,selectMode:o};function w(){const t=e.data.bbox;a&&t&&a.fitBounds(t,{padding:100,speed:1.3,maxZoom:14})}function x(e){c.forEach((e=>e())),c.length=0,a.setStyle(e,{diff:!1}),a.once("styledata",C)}function C(){c.push(O((()=>e.source),E,{immediate:!0}),O((()=>e.selection),D,{immediate:!0}),O((()=>e.layers),A),O((()=>e.data),S))}function S(t){a.getSource("__directus").setData(t),D(e.selection,void 0)}function E(t){var l,i;const n=new Set(null==(l=a.getStyle().layers)?void 0:l.map((({id:e})=>e)));for(const o of e.layers)n.has(o.id)&&a.removeLayer(o.id);e.featureId?t.promoteId=e.featureId:t.generateId=!0,(null==(i=a.getStyle().sources)?void 0:i.__directus)&&a.removeSource("__directus"),a.addSource("__directus",r(s({},t),{data:e.data})),a.once("sourcedata",(()=>{setTimeout((()=>e.layers.forEach((e=>a.addLayer(e)))))}))}function A(e,t){var l;const i=new Set(null==(l=a.getStyle().layers)?void 0:l.map((({id:e})=>e)));null==t||t.forEach((e=>{i.has(e.id)&&a.removeLayer(e.id)})),null==e||e.forEach((e=>{a.addLayer(e)}))}function D(e,t){null==t||t.forEach((e=>{a.setFeatureState({id:e,source:"__directus"},{selected:!1}),a.removeFeatureState({id:e,source:"__directus"})})),null==e||e.forEach((e=>{a.setFeatureState({id:e,source:"__directus"},{selected:!0})}))}function I(l){var a;const i=null==(a=l.features)?void 0:a[0],n=!l.originalEvent.altKey;i&&e.featureId&&(b.active()?t("featureselect",{ids:[i.id],replace:n}):t("featureclick",{id:i.id,replace:n}))}function $(e){var t;const l=a.queryRenderedFeatures(e.point,{layers:["__directus_polygons","__directus_points","__directus_lines"]})[0],n=null==(t=i.value)?void 0:t.id,o=n!==(null==l?void 0:l.id);n&&o&&a.setFeatureState({id:n,source:"__directus"},{hovered:!1}),l&&l.properties?("Point"===l.geometry.type?v.setLngLat(l.geometry.coordinates):v.setLngLat(e.lngLat),o&&(a.setFeatureState({id:l.id,source:"__directus"},{hovered:!0}),v.setHTML(l.properties.description).addTo(a),i.value=l)):o&&(i.value=l,v.remove())}function P(e){var t,l;const i=a.queryRenderedFeatures(e.point,{layers:["__directus_clusters"]}),n=null==(l=null==(t=i[0])?void 0:t.properties)?void 0:l.cluster_id;a.getSource("__directus").getClusterExpansionZoom(n,((e,t)=>{e||a.flyTo({center:i[0].geometry.coordinates,zoom:t,speed:1.3})}))}function j(e){"mousemove"==e.type?n.value=!0:n.value=!1}}});const FK=w({components:{MapComponent:F_(IK,[["render",function(e,t,l,a,i,n){return E(),P("div",{id:"map-container",ref:"container",class:H({select:e.selectMode,hover:e.hoveredFeature||e.hoveredCluster})},null,2)}],["__scopeId","data-v-2634906f"]])},inheritAttrs:!1,props:{selection:{type:Array,default:()=>[]},searchQuery:{type:String,default:null},loading:{type:Boolean,required:!0},error:{type:Object,default:null},geojsonError:{type:String,default:null},geometryOptions:{type:Object,default:void 0},geojson:{type:Object,required:!0},featureId:{type:String,default:null},geojsonBounds:{type:Object,default:void 0},directusSource:{type:Object,required:!0},directusLayers:{type:Array,required:!0},handleClick:{type:Function,required:!0},handleSelect:{type:Function,required:!0},cameraOptions:{type:Object,default:void 0},resetPresetAndRefresh:{type:Function,required:!0},geojsonLoading:{type:Boolean,required:!0},itemCount:{type:Number,default:null},activeFilterCount:{type:Number,required:!0},totalPages:{type:Number,required:!0},page:{type:Number,required:!0},toPage:{type:Function,required:!0},limit:{type:Number,required:!0},filters:{type:Array,required:!0},autoLocationFilter:{type:Boolean,default:void 0},locationFilterOutdated:{type:Boolean,required:!0},updateLocationFilter:{type:Function,required:!0},clearDataFilters:{type:Function,required:!0},clearLocationFilter:{type:Function,required:!0},isGeometryFieldNative:{type:Boolean,required:!0}},emits:["update:cameraOptions","update:limit"],setup(e,{emit:t}){const{t:l,n:a}=x();return{t:l,n:a,cameraOptionsWritable:Yt(e,"cameraOptions",t),limitWritable:Yt(e,"limit",t),locationFilterOutdatedWritable:Yt(e,"locationFilterOutdated",t)}}}),OK={class:"layout-map"},$K={key:1,class:"footer"},TK={class:"pagination"},PK={class:"mapboxgl-ctrl-dropdown"};var jK=F_(FK,[["render",function(e,t,l,a,i,n){const o=S("map-component"),s=S("v-button"),r=S("v-error"),d=S("v-info"),c=S("v-progress-circular"),u=S("v-card-actions"),p=S("v-pagination"),m=S("v-select");return E(),P("div",OK,[I(o,{ref:"map",class:H(["mapboxgl-map",{loading:e.loading,error:e.error||e.geojsonError||!e.geometryOptions}]),data:e.geojson,"feature-id":e.featureId,selection:e.selection,camera:e.cameraOptions,bounds:e.geojsonBounds,source:e.directusSource,layers:e.directusLayers,onFeatureclick:e.handleClick,onFeatureselect:e.handleSelect,onMoveend:t[0]||(t[0]=t=>e.cameraOptionsWritable=t),onFitdata:e.clearLocationFilter},null,8,["class","data","feature-id","selection","camera","bounds","source","layers","onFeatureclick","onFeatureselect","onFitdata"]),e.isGeometryFieldNative&&!e.autoLocationFilter&&e.locationFilterOutdatedWritable?(E(),A(s,{key:0,small:"",class:"location-filter",onClick:e.updateLocationFilter},{default:D((()=>[N(U(e.t("layouts.map.search_this_area")),1)])),_:1},8,["onClick"])):B("",!0),I(We,{name:"fade"},{default:D((()=>[e.error?(E(),A(d,{key:0,type:"danger",title:e.t("unexpected_error"),icon:"error",center:""},{append:D((()=>[I(r,{error:e.error},null,8,["error"]),I(s,{small:"",class:"reset-preset",onClick:e.resetPresetAndRefresh},{default:D((()=>[N(U(e.t("reset_page_preferences")),1)])),_:1},8,["onClick"])])),default:D((()=>[N(U(e.t("unexpected_error_copy"))+" ",1)])),_:1},8,["title"])):e.geojsonError?(E(),A(d,{key:1,type:"warning",icon:"wrong_location",center:"",title:e.t("layouts.map.invalid_geometry")},{default:D((()=>[N(U(e.geojsonError),1)])),_:1},8,["title"])):e.loading||e.geojsonLoading?(E(),A(c,{key:2,indeterminate:"","x-large":"",class:"center"})):0===e.itemCount&&(e.searchQuery||e.activeFilterCount>0||!e.locationFilterOutdated)?(E(),A(d,{key:3,icon:"search",center:"",title:e.t("no_results_here")},{append:D((()=>[I(u,null,{default:D((()=>[I(s,{disabled:!e.searchQuery&&!e.filters.filter((e=>"location-filter"!==e.key)).length,onClick:e.clearDataFilters},{default:D((()=>[N(U(e.t("clear_data_filters")),1)])),_:1},8,["disabled","onClick"]),I(s,{disabled:e.locationFilterOutdated,onClick:e.clearLocationFilter},{default:D((()=>[N(U(e.t("layouts.map.clear_location_filter")),1)])),_:1},8,["disabled","onClick"])])),_:1})])),_:1},8,["title"])):B("",!0)])),_:1}),e.loading||e.itemCount>0?(E(),P("div",$K,[j("div",TK,[e.totalPages>1?(E(),A(p,{key:0,length:e.totalPages,"total-visible":7,"show-first-last":"","model-value":e.page,"onUpdate:modelValue":e.toPage},null,8,["length","model-value","onUpdate:modelValue"])):B("",!0)]),j("div",PK,[j("span",null,U(e.t("limit")),1),I(m,{"model-value":e.limit,items:[{text:e.n(100),value:100},{text:e.n(1e3),value:1e3},{text:e.n(1e4),value:1e4},{text:e.n(1e5),value:1e5}],inline:"","onUpdate:modelValue":t[1]||(t[1]=t=>e.limitWritable=+t)},null,8,["model-value","items"])])])):B("",!0)])}],["__scopeId","data-v-67dd9b3d"]]);const LK=w({inheritAttrs:!1,props:{geometryFields:{type:Array,required:!0},geometryField:{type:String,default:void 0},autoLocationFilter:{type:Boolean,default:void 0},geometryOptions:{type:Object,default:void 0},clusterData:{type:Boolean,default:void 0},customLayerDrawerOpen:{type:Boolean,required:!0},resetLayers:{type:Function,required:!0},updateLayers:{type:Function,required:!0},customLayers:{type:Array,default:void 0}},emits:["update:geometryField","update:autoLocationFilter","update:clusterData","update:customLayerDrawerOpen","update:customLayers"],setup(e,{emit:t}){const{t:l}=x(),a=dl(),i=Yt(e,"geometryField",t),n=Yt(e,"autoLocationFilter",t),o=Yt(e,"clusterData",t),s=Yt(e,"customLayerDrawerOpen",t),r=Yt(e,"customLayers",t),d=ND(),{basemap:c}=T(a);return{t:l,geometryFieldWritable:i,autoLocationFilterWritable:n,clusterDataWritable:o,customLayerDrawerOpenWritable:s,customLayersWritable:r,basemaps:d,basemap:c}}}),RK={class:"field"},MK={class:"type-label"},UK={key:0,class:"field"},NK={key:1,class:"field"},BK={class:"type-label"},qK={class:"field"},zK={class:"field"};var KK=F_(LK,[["render",function(e,t,l,a,i,n){const o=S("v-select"),s=S("v-input"),r=S("v-checkbox");return E(),P(R,null,[j("div",RK,[j("div",MK,U(e.t("layouts.map.basemap")),1),I(o,{modelValue:e.basemap,"onUpdate:modelValue":t[0]||(t[0]=t=>e.basemap=t),items:e.basemaps.map((e=>({text:e.name,value:e.name})))},null,8,["modelValue","items"])]),0==e.geometryFields.length?(E(),P("div",UK,[I(s,{type:"text",disabled:"",prefix:"No compatible fields"})])):(E(),P("div",NK,[j("div",BK,U(e.t("layouts.map.field")),1),I(o,{modelValue:e.geometryFieldWritable,"onUpdate:modelValue":t[1]||(t[1]=t=>e.geometryFieldWritable=t),items:e.geometryFields.map((({name:e,field:t})=>({text:e,value:t})))},null,8,["modelValue","items"])])),j("div",qK,[I(r,{modelValue:e.autoLocationFilterWritable,"onUpdate:modelValue":t[2]||(t[2]=t=>e.autoLocationFilterWritable=t),label:e.t("layouts.map.auto_location_filter"),disabled:e.geometryOptions&&"native"!==e.geometryOptions.geometryFormat},null,8,["modelValue","label","disabled"])]),j("div",zK,[I(r,{modelValue:e.clusterDataWritable,"onUpdate:modelValue":t[3]||(t[3]=t=>e.clusterDataWritable=t),label:e.t("layouts.map.cluster"),disabled:e.geometryOptions&&"Point"!==e.geometryOptions.geometryType},null,8,["modelValue","label","disabled"])])],64)}]]);var WK=F_(w({inheritAttrs:!1,props:{collection:{type:String,required:!0},layoutQuery:{type:Object,default:()=>({})},filters:{type:Array,default:()=>[]},searchQuery:{type:String,default:null},loading:{type:Boolean,required:!0}},emits:["update:filters"],setup:(e,{emit:t})=>({filtersWritable:Yt(e,"filters",t)})}),[["render",function(e,t,l,a,i,n){const o=S("filter-sidebar-detail"),s=S("export-sidebar-detail");return E(),P(R,null,[I(o,{modelValue:e.filtersWritable,"onUpdate:modelValue":t[0]||(t[0]=t=>e.filtersWritable=t),collection:e.collection,loading:e.loading},null,8,["modelValue","collection","loading"]),I(s,{"layout-query":e.layoutQuery,filters:e.filters,"search-query":e.searchQuery,collection:e.collection},null,8,["layout-query","filters","search-query","collection"])],64)}]]);const HK=w({inheritAttrs:!1,props:{itemCount:{type:Number,default:null},showingCount:{type:String,required:!0}}}),GK={key:0,class:"item-count"};const QK=["case",["boolean",["feature-state","selected"],!1],"#FFA500","#09f"],XK=["case",["boolean",["feature-state","selected"],!1],"#FFA500",["boolean",["feature-state","hovered"],!1],"#FFA500","#09f"],JK=[{id:"__directus_polygons",type:"fill",source:"__directus",filter:["all",["!has","point_count"],["==","$type","Polygon"]],paint:{"fill-color":QK,"fill-opacity":.15}},{id:"__directus_polygons_outline",type:"line",source:"__directus",filter:["all",["!has","point_count"],["==","$type","Polygon"]],paint:{"line-color":XK,"line-width":2}},{id:"__directus_lines",type:"line",source:"__directus",filter:["all",["!has","point_count"],["==","$type","LineString"]],paint:{"line-color":XK,"line-width":2}},{id:"__directus_points",type:"circle",source:"__directus",filter:["all",["!has","point_count"],["==","$type","Point"]],layout:{},paint:{"circle-radius":5,"circle-color":QK,"circle-stroke-color":XK,"circle-stroke-width":3}},{id:"__directus_clusters",type:"circle",source:"__directus",filter:["has","point_count"],paint:{"circle-color":["step",["get","point_count"],"#51bbd6",100,"#f1f075",750,"#f28cb1"],"circle-radius":["step",["get","point_count"],20,100,30,750,40]}},{id:"__directus_cluster_count",type:"symbol",source:"__directus",filter:["has","point_count"],layout:{"text-field":"{point_count_abbreviated}","text-font":["Open Sans Semibold"],"text-size":["step",["get","point_count"],15,100,17,750,19]}}];var YK=sl({id:"map",name:"$t:layouts.map.map",icon:"map",smallHeader:!0,component:jK,slots:{options:KK,sidebar:WK,actions:F_(HK,[["render",function(e,t,l,a,i,n){return E(),A(We,{name:"fade"},{default:D((()=>[e.itemCount?(E(),P("span",GK,U(e.showingCount),1)):B("",!0)])),_:1})}],["__scopeId","data-v-08898882"]])},setup(e,{emit:t}){var l,a;const{t:i,n:n}=x(),o=ie(),d=Yt(e,"selection",t),c=Yt(e,"layoutOptions",t),u=Yt(e,"layoutQuery",t),p=Yt(e,"filters",t),f=Yt(e,"searchQuery",t),{collection:v}=T(e),{info:_,primaryKeyField:y,fields:h}=Xt(v),g=ce(u,"page",1),b=ce(u,"limit",1e3),k=ce(u,"sort",null==(a=null==(l=h.value)?void 0:l[0])?void 0:a.field),w=F(!1),C=ce(c,"cameraOptions",void 0),S=ce(c,"customLayers",JK),E=ce(c,"autoLocationFilter",!1),A=ce(c,"clusterData",!1),D=ce(c,"geometryField",void 0),I=V({get:()=>{var e;return null==(e=c.value)?void 0:e.geometryFormat},set(e){c.value=r(s({},c.value||{}),{geometryFormat:e,geometryField:void 0})}}),$=V((()=>h.value.find((e=>e.field==D.value)))),P=V((()=>{var e;return"geometry"==(null==(e=$.value)?void 0:e.type)})),j=V((()=>h.value.filter((({type:e,meta:t})=>"geometry"==e||"map"==(null==t?void 0:t.interface)))));O((()=>j.value),(e=>{!D.value&&e.length>0&&(D.value=e[0].field)}),{immediate:!0});const L=V((()=>{var e;const t=$.value;if(t)return P.value?{geometryField:t.field,geometryFormat:"native",geometryType:null==(e=t.schema)?void 0:e.geometry_type}:t.meta&&"map"==t.meta.interface&&t.meta.options?{geometryField:t.field,geometryFormat:t.meta.options.geometryFormat,geometryType:t.meta.options.geometryType}:void 0})),R=V((()=>{var e,t,l,a,i;return(null==(t=null==(e=_.value)?void 0:e.meta)?void 0:t.display_template)?null==(a=null==(l=_.value)?void 0:l.meta)?void 0:a.display_template:`{{ ${null==(i=y.value)?void 0:i.field} }}`})),M=V((()=>{var e;return[D.value,...el(R.value)].concat(null==(e=y.value)?void 0:e.field).filter((e=>!!e))})),U=F(!1);function N(){const e=function(){if(!P.value||!C.value)return;const e=C.value.bbox,t=[[e[0],e[1]],[e[2],e[1]],[e[2],e[3]],[e[0],e[3]],[e[0],e[1]]];return{key:"location-filter",field:D.value,operator:"intersects_bbox",value:{type:"Polygon",coordinates:[t]}}}();U.value=!1,p.value=p.value.filter((e=>"location-filter"!==e.key)).concat(null!=e?e:[])}const B=F(!1);O((()=>C.value),(()=>{B.value=!1,U.value=!0,E.value&&N()})),O((()=>E.value),(e=>{e&&N()}));const{items:q,loading:z,error:K,totalPages:W,itemCount:H,totalCount:G,getItems:Q}=rl(v,{sort:k,limit:b,page:g,filters:p,searchQuery:f,fields:M}),X=F({type:"FeatureCollection",features:[]}),J=F(),Y=F(null),Z=F(!1);function ee(){B.value=!0,Z.value=!1,g.value=1}O((()=>f.value),ee),O((()=>v.value),ee),O((()=>b.value),ee),O((()=>k.value),ee),O((()=>q.value),(function(){if(L.value)try{X.value={type:"FeatureCollection",features:[]},Z.value=!0,Y.value=null,X.value=function(e,t,l){const a=YN(t),i={type:"FeatureCollection",features:[],bbox:[1/0,1/0,-1/0,-1/0]};for(let n=0;n<e.length;n++){const o=a(e[n]);if(!o)continue;const[r,d,c,u]=o.bbox;i.bbox=QN(i.bbox,[r,d]),i.bbox=QN(i.bbox,[c,u]);const p=s({},e[n]);delete p[t.geometryField],p.description=Dg(l,e[n]).displayValue;const m={type:"Feature",properties:p,geometry:o};i.features.push(m)}return 0==i.features.length&&delete i.bbox,i}(q.value,L.value,R.value),Z.value=!1,C.value&&!B.value||(J.value=X.value.bbox)}catch(e){Z.value=!1,Y.value=e,X.value={type:"FeatureCollection",features:[]}}else X.value={type:"FeatureCollection",features:[]}})),O((()=>D.value),(()=>B.value=!0));const te=F(JK),le=F({type:"geojson",data:{type:"FeatureCollection",features:[]}});function ae(){var e;w.value=!1,te.value=null!=(e=S.value)?e:[]}function ne({ids:e,replace:t}){t?function(e){d.value=e}(e):function(e){d.value=Array.from(new Set(d.value.concat(e)))}(e)}O((()=>A.value),(function(){le.value=m.exports.merge({},le.value,{cluster:A.value})}),{immediate:!0}),ae();const oe=V((()=>{var t,l;return e.readonly?null:null!=(l=null==(t=y.value)?void 0:t.field)?l:null})),se=V((()=>(H.value||0)<(G.value||0)?1===H.value?i("one_filtered_item"):i("start_end_of_count_filtered_items",{start:n((+g.value-1)*b.value+1),end:n(Math.min(g.value*b.value,H.value||0)),count:n(H.value||0)}):1===H.value?i("one_item"):i("start_end_of_count_items",{start:n((+g.value-1)*b.value+1),end:n(Math.min(g.value*b.value,H.value||0)),count:n(H.value||0)}))),re=V((()=>p.value.filter((e=>!e.locked)).length));return{template:R,geojson:X,directusSource:le,directusLayers:te,customLayers:S,updateLayers:ae,resetLayers:function(){te.value=m.exports.cloneDeep(JK),S.value=te.value},featureId:oe,geojsonBounds:J,geojsonLoading:Z,geojsonError:Y,geometryOptions:L,handleClick:function({id:t,replace:l}){e.selectMode?ne({ids:[t],replace:l}):o.push(`/collections/${v.value}/${t}`)},handleSelect:ne,geometryFormat:I,geometryField:D,isGeometryFieldNative:P,cameraOptions:C,autoLocationFilter:E,clusterData:A,items:q,loading:z,error:K,totalPages:W,page:g,toPage:function(e){g.value=e},itemCount:H,fieldsInCollection:h,limit:b,filters:p,primaryKeyField:y,sort:k,info:_,showingCount:se,activeFilterCount:re,refresh:de,resetPresetAndRefresh:async function(){var t;await(null==(t=null==e?void 0:e.resetPreset)?void 0:t.call(e)),de()},geometryFields:j,customLayerDrawerOpen:w,locationFilterOutdated:U,updateLocationFilter:N,clearLocationFilter:function(){B.value=!0,U.value=!1,p.value=p.value.filter((e=>"location-filter"!==e.key)),X.value&&(J.value=X.value.bbox)},clearDataFilters:function(){p.value=p.value.filter((e=>"location-filter"===e.key)),f.value=null}};function de(){Q()}function ce(e,t,l){return V({get:()=>{var a,i;return null!=(i=null==(a=e.value)?void 0:a[t])?i:l},set:l=>{e.value=Object.assign({},e.value,{[t]:l})}})}}}),ZK=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:YK});const eW=w({inheritAttrs:!1,props:{collection:{type:String,required:!0},selection:{type:Array,default:()=>[]},readonly:{type:Boolean,required:!0},tableHeaders:{type:Array,required:!0},items:{type:Array,required:!0},loading:{type:Boolean,required:!0},error:{type:Object,default:null},totalPages:{type:Number,required:!0},tableSort:{type:Object,required:!0},onRowClick:{type:Function,required:!0},onSortChange:{type:Function,required:!0},tableRowHeight:{type:Number,required:!0},page:{type:Number,required:!0},toPage:{type:Function,required:!0},itemCount:{type:Number,default:null},fields:{type:Array,required:!0},limit:{type:Number,required:!0},primaryKeyField:{type:Object,default:null},info:{type:Object,default:null},sortField:{type:String,default:null},changeManualSort:{type:Function,required:!0},activeFilterCount:{type:Number,required:!0},resetPresetAndRefresh:{type:Function,required:!0},selectAll:{type:Function,required:!0}},emits:["update:selection","update:tableHeaders","update:limit"],setup(e,{emit:t}){const{t:l}=x(),a=Yt(e,"selection",t),i=Yt(e,"tableHeaders",t),n=Yt(e,"limit",t),o=F();return Hh("meta+a",(()=>{e.selectAll()}),o),{t:l,selectionWritable:a,tableHeadersWritable:i,limitWritable:n,table:o}}}),tW={class:"layout-tabular"},lW={class:"footer"},aW={class:"pagination"},iW={key:0,class:"per-page"};var nW=F_(eW,[["render",function(e,t,l,a,i,n){const o=S("render-display"),s=S("v-pagination"),r=S("v-select"),d=S("v-table"),c=S("v-error"),u=S("v-button"),p=S("v-info");return E(),P("div",tW,[e.loading||e.itemCount>0?(E(),A(d,{key:0,ref:"table",modelValue:e.selectionWritable,"onUpdate:modelValue":t[1]||(t[1]=t=>e.selectionWritable=t),headers:e.tableHeadersWritable,"onUpdate:headers":t[2]||(t[2]=t=>e.tableHeadersWritable=t),class:"table","fixed-header":"","show-select":!e.readonly&&void 0!==e.selection,"show-resize":"","must-sort":"",sort:e.tableSort,items:e.items,loading:e.loading,"row-height":e.tableRowHeight,"server-sort":e.itemCount===e.limit||e.totalPages>1,"item-key":e.primaryKeyField.field,"show-manual-sort":null!==e.sortField,"manual-sort-key":e.sortField,"selection-use-keys":"","onClick:row":e.onRowClick,"onUpdate:sort":e.onSortChange,onManualSort:e.changeManualSort},G({footer:D((()=>[j("div",lW,[j("div",aW,[e.totalPages>1?(E(),A(s,{key:0,length:e.totalPages,"total-visible":7,"show-first-last":"","model-value":e.page,"onUpdate:modelValue":e.toPage},null,8,["length","model-value","onUpdate:modelValue"])):B("",!0)]),!1===e.loading&&e.items.length>=25?(E(),P("div",iW,[j("span",null,U(e.t("per_page")),1),I(r,{"model-value":`${e.limit}`,items:["25","50","100","250","500"," 1000"],inline:"","onUpdate:modelValue":t[0]||(t[0]=t=>e.limitWritable=+t)},null,8,["model-value"])])):B("",!0)])])),_:2},[M(e.tableHeaders,(t=>({name:`item.${t.value}`,fn:D((({item:l})=>[I(o,{value:l[t.value],display:t.field.display,options:t.field.displayOptions,interface:t.field.interface,"interface-options":t.field.interfaceOptions,type:t.field.type,collection:e.collection,field:t.field.field},null,8,["value","display","options","interface","interface-options","type","collection","field"])]))})))]),1032,["modelValue","headers","show-select","sort","items","loading","row-height","server-sort","item-key","show-manual-sort","manual-sort-key","onClick:row","onUpdate:sort","onManualSort"])):e.error?(E(),A(p,{key:1,type:"danger",title:e.t("unexpected_error"),icon:"error",center:""},{append:D((()=>[I(c,{error:e.error},null,8,["error"]),I(u,{small:"",class:"reset-preset",onClick:e.resetPresetAndRefresh},{default:D((()=>[N(U(e.t("reset_page_preferences")),1)])),_:1},8,["onClick"])])),default:D((()=>[N(U(e.t("unexpected_error_copy"))+" ",1)])),_:1},8,["title"])):0===e.itemCount&&e.activeFilterCount>0?Q(e.$slots,"no-results",{key:2},void 0,!0):0===e.itemCount?Q(e.$slots,"no-items",{key:3},void 0,!0):B("",!0)])}],["__scopeId","data-v-5a5fa8a9"]]);const oW=w({components:{Draggable:Be},inheritAttrs:!1,props:{fields:{type:Array,required:!0},activeFields:{type:Array,required:!0},tableSpacing:{type:String,required:!0},hideDragImage:{type:Function,required:!0},availableFields:{type:Array,required:!0}},emits:["update:tableSpacing","update:activeFields","update:fields"],setup(e,{emit:t}){const{t:l}=x();return{t:l,fieldsWritable:Yt(e,"fields",t),activeFieldsWritable:Yt(e,"activeFields",t),tableSpacingWritable:Yt(e,"tableSpacing",t)}}}),sW={class:"field"},rW={class:"type-label"},dW={class:"field"},cW={class:"type-label"},uW=(e=>(K("data-v-4a9cb74e"),e=e(),W(),e))((()=>j("div",{class:"spacer"},null,-1)));var pW=F_(oW,[["render",function(e,t,l,a,i,n){const o=S("v-select"),s=S("v-icon"),r=S("v-checkbox"),d=S("draggable");return E(),P(R,null,[j("div",sW,[j("div",rW,U(e.t("layouts.tabular.spacing")),1),I(o,{modelValue:e.tableSpacingWritable,"onUpdate:modelValue":t[0]||(t[0]=t=>e.tableSpacingWritable=t),items:[{text:e.t("layouts.tabular.compact"),value:"compact"},{text:e.t("layouts.tabular.cozy"),value:"cozy"},{text:e.t("layouts.tabular.comfortable"),value:"comfortable"}]},null,8,["modelValue","items"])]),j("div",dW,[j("div",cW,U(e.t("layouts.tabular.fields")),1),I(d,{modelValue:e.activeFieldsWritable,"onUpdate:modelValue":t[3]||(t[3]=t=>e.activeFieldsWritable=t),"item-key":"field",handle:".drag-handle","set-data":e.hideDragImage,"force-fallback":!0},{item:D((({element:l})=>[I(r,{modelValue:e.fieldsWritable,"onUpdate:modelValue":t[2]||(t[2]=t=>e.fieldsWritable=t),value:l.field,label:l.name},{append:D((()=>[uW,I(s,{name:"drag_handle",class:"drag-handle",onClick:t[1]||(t[1]=X((()=>{}),["stop"]))})])),_:2},1032,["modelValue","value","label"])])),_:1},8,["modelValue","set-data"]),(E(!0),P(R,null,M(e.availableFields.filter((t=>!1===e.fields.includes(t.field))),(l=>(E(),A(r,{key:l.field,modelValue:e.fieldsWritable,"onUpdate:modelValue":t[4]||(t[4]=t=>e.fieldsWritable=t),value:l.field,label:l.name},null,8,["modelValue","value","label"])))),128))])],64)}],["__scopeId","data-v-4a9cb74e"]]);var mW=F_(w({inheritAttrs:!1,props:{collection:{type:String,required:!0},layoutQuery:{type:Object,default:()=>({})},filters:{type:Array,default:()=>[]},searchQuery:{type:String,default:null},loading:{type:Boolean,required:!0}},emits:["update:filters"],setup:(e,{emit:t})=>({filtersWritable:Yt(e,"filters",t)})}),[["render",function(e,t,l,a,i,n){const o=S("filter-sidebar-detail"),s=S("export-sidebar-detail");return E(),P(R,null,[I(o,{modelValue:e.filtersWritable,"onUpdate:modelValue":t[0]||(t[0]=t=>e.filtersWritable=t),collection:e.collection,loading:e.loading},null,8,["modelValue","collection","loading"]),I(s,{"layout-query":e.layoutQuery,filters:e.filters,"search-query":e.searchQuery,collection:e.collection},null,8,["layout-query","filters","search-query","collection"])],64)}]]);const fW=w({inheritAttrs:!1,props:{itemCount:{type:Number,default:null},showingCount:{type:String,required:!0}}}),vW={key:0,class:"item-count"};var _W=sl({id:"tabular",name:"$t:layouts.tabular.tabular",icon:"reorder",component:nW,slots:{options:pW,sidebar:mW,actions:F_(fW,[["render",function(e,t,l,a,i,n){return E(),A(We,{name:"fade"},{default:D((()=>[e.itemCount?(E(),P("span",vW,U(e.showingCount),1)):B("",!0)])),_:1})}],["__scopeId","data-v-34941803"]])},setup(e,{emit:t}){const{t:l,n:a}=x(),i=ie(),n=ae("main-element",F(null)),o=Yt(e,"selection",t),d=Yt(e,"layoutOptions",t),c=Yt(e,"layoutQuery",t),u=Yt(e,"filters",t),p=Yt(e,"searchQuery",t),{collection:f}=T(e),{info:v,primaryKeyField:_,fields:y,sortField:h}=Xt(f),{sort:g,limit:b,page:k,fields:w,fieldsWithRelational:C}=function(){const t=V({get(){var e;return(null==(e=c.value)?void 0:e.page)||1},set(e){c.value=r(s({},c.value||{}),{page:e})}}),l=V({get(){var e,t;return(null==(e=c.value)?void 0:e.sort)||(null==(t=_.value)?void 0:t.field)||""},set(e){c.value=r(s({},c.value||{}),{page:1,sort:e})}}),a=V({get(){var e;return(null==(e=c.value)?void 0:e.limit)||25},set(e){c.value=r(s({},c.value||{}),{page:1,limit:e})}}),i=V({get(){var e,t;if(null==(e=c.value)?void 0:e.fields){if("string"==typeof c.value.fields)return c.value.fields.split(",");if(Array.isArray(c.value.fields))return c.value.fields}return(null==(t=c.value)?void 0:t.fields)||y.value.filter((e=>{var t;return!1==!!(null==(t=e.meta)?void 0:t.hidden)})).slice(0,4).sort(((e,t)=>e.field<t.field?-1:(e.field,t.field,1))).map((({field:e})=>e))},set(e){c.value=r(s({},c.value||{}),{fields:e})}}),n=V((()=>e.collection?Qj(i.value,e.collection):[]));return{sort:l,limit:a,page:t,fields:i,fieldsWithRelational:n}}(),{items:S,loading:E,error:A,totalPages:D,itemCount:I,totalCount:$,changeManualSort:P,getItems:j}=rl(f,{sort:g,limit:b,page:k,fields:C,filters:u,searchQuery:p}),{tableSort:L,tableHeaders:R,tableRowHeight:M,onRowClick:U,onSortChange:N,activeFields:B,tableSpacing:q}=function(){const t=V((()=>{var e;return(null==(e=g.value)?void 0:e.startsWith("-"))?{by:g.value.substring(1),desc:!0}:{by:g.value,desc:!1}})),l=F({});O((()=>d.value),(()=>{l.value={}}));const a=m.exports.debounce((()=>{d.value=r(s({},d.value||{}),{widths:l.value})}),350),n=V({get:()=>w.value.map((e=>y.value.find((t=>t.field===e)))).filter((e=>e)),set(e){w.value=e.map((e=>e.field))}}),c=V({get:()=>n.value.map((e=>{var t,a,i,n,o,s;return{text:e.name,value:e.field,width:l.value[e.field]||(null==(a=null==(t=d.value)?void 0:t.widths)?void 0:a[e.field])||null,field:{display:(null==(i=e.meta)?void 0:i.display)||UI(e.type),displayOptions:null==(n=e.meta)?void 0:n.display_options,interface:null==(o=e.meta)?void 0:o.interface,interfaceOptions:null==(s=e.meta)?void 0:s.options,type:e.type,field:e.field},sortable:!1===["json","o2m","m2o","m2m","m2a","file","files","alias","presentation","translations"].includes(e.type)}})),set(e){const t={};e.forEach((e=>{e.width&&(t[e.value]=e.width)})),l.value=t,a()}}),u=V({get(){var e;return(null==(e=d.value)?void 0:e.spacing)||"cozy"},set(e){d.value=r(s({},d.value||{}),{spacing:e})}}),p=V((()=>{switch(u.value){case"compact":return 32;case"cozy":default:return 48;case"comfortable":return 64}}));return{tableSort:t,tableHeaders:c,tableSpacing:u,tableRowHeight:p,onRowClick:function(t){var l,a;if(!0===e.readonly||!_.value)return;const n=t[_.value.field];e.selectMode||(null==(l=o.value)?void 0:l.length)>0?!1===(null==(a=o.value)?void 0:a.includes(n))?o.value.push(n):o.value=o.value.filter((e=>e!==n)):i.push(`/collections/${f.value}/${encodeURIComponent(n)}`)},onSortChange:function(e){let t=e.by;!0===e.desc&&(t="-"+t);g.value=t},activeFields:n,getFieldDisplay:function(e){var t,l,a;const i=y.value.find((t=>t.field===e));return void 0===i?null:(null==(t=i.meta)?void 0:t.display)?{display:null==(l=i.meta)?void 0:l.display,options:null==(a=i.meta)?void 0:a.display_options}:null}}}(),z=V((()=>(I.value||0)<($.value||0)?1===I.value?l("one_filtered_item"):l("start_end_of_count_filtered_items",{start:a((+k.value-1)*b.value+1),end:a(Math.min(k.value*b.value,I.value||0)),count:a(I.value||0)}):1===I.value?l("one_item"):l("start_end_of_count_items",{start:a((+k.value-1)*b.value+1),end:a(Math.min(k.value*b.value,I.value||0)),count:a(I.value||0)}))),K=V((()=>{let e=u.value.filter((e=>!e.locked)).length;return p.value&&p.value.length>0&&e++,e})),W=V((()=>y.value.filter((e=>{var t,l;return!0!==(null==(l=null==(t=e.meta)?void 0:t.special)?void 0:l.includes("no-data"))}))));return{tableHeaders:R,items:S,loading:E,error:A,totalPages:D,tableSort:L,onRowClick:U,onSortChange:N,tableRowHeight:M,page:k,toPage:function(e){var t;k.value=e,null==(t=n.value)||t.scrollTo({top:0,behavior:"smooth"})},itemCount:I,totalCount:$,fieldsInCollection:y,fields:w,limit:b,activeFields:B,tableSpacing:q,primaryKeyField:_,info:v,showingCount:z,sortField:h,changeManualSort:P,hideDragImage:VS,activeFilterCount:K,refresh:H,resetPresetAndRefresh:async function(){var t;await(null==(t=null==e?void 0:e.resetPreset)?void 0:t.call(e)),H()},selectAll:function(){if(!_.value)return;const e=_.value;o.value=m.exports.clone(S.value).map((t=>t[e.field]))},availableFields:W};function H(){j()}}}),yW=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:_W});const{layoutsRaw:hW}=xl();async function gW(e){const t={"./calendar/index.ts":zz,"./cards/index.ts":DK,"./map/index.ts":ZK,"./tabular/index.ts":yW},l=Object.values(t).map((e=>e.default));try{const e=await ul((()=>import(`${Jh()}extensions/layouts/index.js`)),[]);l.push(...e.default)}catch(a){console.warn("Couldn't load custom layouts"),console.warn(a)}hW.value=l,hW.value.forEach((t=>{e.component("layout-"+t.id,t.component),e.component("layout-options-"+t.id,t.slots.options),e.component("layout-sidebar-"+t.id,t.slots.sidebar),e.component("layout-actions-"+t.id,t.slots.actions)}))}const bW=w({props:{wide:{type:Boolean,default:!1}},setup(){var e;const t=SI(),l=V((()=>{var e,l;return!!(null==(l=null==(e=t.info)?void 0:e.project)?void 0:l.project_color)})),a=V((()=>{var e,l,a,i,n;if(null==(l=null==(e=t.info)?void 0:e.project)?void 0:l.public_background){return`url(${Jh()+`assets/${null==(a=t.info.project)?void 0:a.public_background}`})`}return(null==(n=null==(i=t.info)?void 0:i.project)?void 0:n.project_color)||"#263238"})),i=V((()=>({background:a.value,backgroundSize:"cover",backgroundPosition:"center center"}))),n=V((()=>{var e,l,a;return(null==(l=null==(e=t.info)?void 0:e.project)?void 0:l.public_foreground)?Jh()+`assets/${null==(a=t.info.project)?void 0:a.public_foreground}`:null})),o=V((()=>{var e,l,a;return(null==(l=null==(e=t.info)?void 0:e.project)?void 0:l.project_logo)?Jh()+`assets/${null==(a=t.info.project)?void 0:a.project_logo}`:null}));return{version:"9.0.0-rc.95",artStyles:i,branding:null==(e=t.info)?void 0:e.project,foregroundURL:n,logoURL:o,isBranded:l}}}),kW=e=>(K("data-v-468d0212"),e=e(),W(),e),wW={class:"title-box"},xW=["src","alt"],VW=[kW((()=>j("img",{src:"assets/logo-light.1a93a59d.svg",alt:"Directus",class:"directus-logo"},null,-1)))],CW={class:"title"},SW={class:"type-title"},EW=kW((()=>j("p",{class:"subtitle"},"Admin App",-1))),AW={class:"content"},DW={class:"notice"},IW=["src","alt"],FW={class:"note-container"},OW={key:0,class:"note"};var $W=F_(bW,[["render",function(e,t,l,a,i,n){const o=q("md");return E(),P("div",{class:H(["public-view",{branded:e.isBranded}])},[j("div",{class:H(["container",{wide:e.wide}])},[j("div",wW,[e.branding&&e.branding.project_logo?(E(),P("div",{key:0,class:"logo",style:Ue({backgroundColor:e.branding.project_color})},[j("img",{src:e.logoURL,alt:e.branding.project_name||"Logo"},null,8,xW)],4)):(E(),P("div",{key:1,class:"logo",style:Ue({backgroundColor:e.branding.project_color})},VW,4)),j("div",CW,[j("h1",SW,U(e.branding&&e.branding.project_name),1),EW])]),j("div",AW,[Q(e.$slots,"default")]),j("div",DW,[Q(e.$slots,"notice")])],2),j("div",{class:"art",style:Ue(e.artStyles)},[I(We,{name:"scale"},{default:D((()=>[e.foregroundURL?(E(),P("img",{key:0,class:"foreground",src:e.foregroundURL,alt:e.branding&&e.branding.project_name},null,8,IW)):B("",!0)])),_:1}),j("div",FW,[e.branding&&e.branding.public_note?z((E(),P("div",OW,null,512)),[[o,e.branding.public_note]]):B("",!0)])],4)],2)}],["__scopeId","data-v-468d0212"]]);const TW=Ee((()=>ul((()=>import("./assets/index.51b4d02e.js")),["assets/index.51b4d02e.js","assets/index.c13dc7ae.css","assets/vendor.162b55e9.js","assets/vendor.de5758fd.css","assets/use-sync.6d51d5e5.js"])));!async function(){console.log("\n\n⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠻⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣶⣦⣤⣀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀\n⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⢀⠀⠻⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣷⣦⣀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀\n⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠙⣿⣿⣿⣷⣾⣿⣿⣿⣿⣿⣿⣿⣿⣿⡿⣿⣿⣿⣿⣿⣿⣿⣿⣷⣄⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀\n⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⣤⣿⣄⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠉⠛⠛⠿⠿⠿⠿⠿⠛⠛⠉⠀⢰⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣷⣄⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀\n⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⢰⣿⣿⣿⣿⣶⣄⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣄⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀\n⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣶⣶⣦⣤⣄⠀⠀⠀⠀⠀⠀⠀⠀⠀⣾⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⠁⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀\n⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠈⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣷⣶⣶⣶⣾⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⡿⠿⠿⠛⠉⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀\n⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⠋⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀\n⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⢸⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀\n⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⢀⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⡌⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀\n⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⢀⣤⣶⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⠁⠛⠛⠿⢿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣶⣶⣤⣤⣀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀\n⠀⠀⠀⠀⠀⠀⠀⠀⢀⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⠟⠁⠀⠀⠀⠀⠀⠀⠀⠉⠛⣿⣿⣿⣿⣿⡆⢿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣶⣄⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀\n⠀⠀⠀⠀⠀⠀⠀⠀⣿⣿⣿⣿⣿⣿⣿⡿⠿⠛⠛⠋⠉⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠉⠛⠿⣿⣄⠈⠻⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣦⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀\n⠀⠀⠀⠀⠀⠀⠀⣾⣿⣿⣿⣿⠋⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠉⠉⠉⠉⠉⠀⠀⠀⠀⠀⠀⠀⠉⢿⣿⣿⣿⣷⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀\n⠀⠀⠀⠀⠀⣤⣿⣿⣿⣿⠟⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠉⠉⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀\n⠀⠀⠀⣴⣿⣿⣿⣿⠟⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀\n⠀⠀⠀⠀⠉⠉⠁⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀\n\n"),console.info("Hey! Interested in helping build this open-source data management platform?\nIf so, join our growing team of contributors at: https://directus.chat"),console.info("%c🐰 Starting Directus...","color:Green"),console.time("🕓 Application Loaded");const e=Ht(FI);e.use(uw),e.use(o_),e.use(Gt()),function(e){e.directive("focus",Oj),e.directive("tooltip",jj),e.directive("click-outside",Fj),e.directive("md",Bj)}(e),function(e){e.component("VAvatar",pF),e.component("VBadge",vF),e.component("VBreadcrumb",gF),e.component("VButton",wF),e.component("VCardActions",VF),e.component("VCardSubtitle",SF),e.component("VCardText",AF),e.component("VCardTitle",IF),e.component("VCard",FF),e.component("VCheckbox",jF),e.component("VCheckboxTree",RF),e.component("VChip",NF),e.component("VDetail",zF),e.component("VDialog",HF),e.component("VDivider",YF),e.component("VError",yO),e.component("VFancySelect",CO),e.component("VFieldTemplate",OO),e.component("VFieldSelect",EO),e.component("VForm",BO),e.component("VHover",qO),e.component("VHighlight",zO),e.component("VIcon",sT),e.component("VInfo",pT),e.component("VInput",wT),e.component("VItemGroup",CT),e.component("VItem",AT),e.component("VListGroup",OT),e.component("VListItemContent",TT),e.component("VListItemHint",PT),e.component("VListItemIcon",jT),e.component("VListItem",LT),e.component("VList",RT),e.component("VMenu",NT),e.component("VDrawer",fO),e.component("VNotice",BT),e.component("VOverlay",WT),e.component("VPagination",YT),e.component("VProgressCircular",tP),e.component("VProgressLinear",lP),e.component("VRadio",oP),e.component("VSelect",yP),e.component("VSheet",bP),e.component("VSkeletonLoader",CP),e.component("VSlider",$P),e.component("VSwitch",RP),e.component("VTabItem",ij),e.component("VTab",nj),e.component("VTable",tj),e.component("VTabsItems",oj),e.component("VTabs",dj),e.component("VTextarea",yj),e.component("VTextOverflow",pj),e.component("VUpload",Ej),e.component("TransitionBounce",sF),e.component("TransitionDialog",rF),e.component("TransitionExpand",dF),e.component("RenderDisplay",RI),e.component("RenderTemplate",KI),e.component("FilterSidebarDetail",ly),e.component("ExportSidebarDetail",LI),e.component("SidebarDetail",YI),e.component("UserPopover",oF),e.component("ValueNull",mE)}(e),function(e){e.component("PublicView",$W),e.component("PrivateView",TW)}(e),await Promise.all([Ez(e),fL(e),$R(e),gW(e),LD()]),e.mount("#app"),console.timeEnd("🕓 Application Loaded"),console.group("%c✨ Project Information","color:DodgerBlue"),console.info("%cEnvironment: production","color:DodgerBlue"),console.groupEnd(),window.addEventListener("dragover",(e=>e.preventDefault()),!1),window.addEventListener("drop",(e=>e.preventDefault()),!1)}();export{sO as H,oh as M,F_ as _,EI as a,uI as b,I_ as c,Sl as d,yI as e,SI as f,Jh as g,hI as h,dl as i,Yw as j,Eg as k,o_ as l,Yh as m,cI as n,d_ as t,CI as u};
