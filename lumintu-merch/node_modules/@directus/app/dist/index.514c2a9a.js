var Mi=Object.defineProperty,Ui=Object.defineProperties;var Ni=Object.getOwnPropertyDescriptors;var Ra=Object.getOwnPropertySymbols;var Bi=Object.prototype.hasOwnProperty,qi=Object.prototype.propertyIsEnumerable;var Ul=(e,t,o)=>t in e?Mi(e,t,{enumerable:!0,configurable:!0,writable:!0,value:o}):e[t]=o,X=(e,t)=>{for(var o in t||(t={}))Bi.call(t,o)&&Ul(e,o,t[o]);if(Ra)for(var o of Ra(t))qi.call(t,o)&&Ul(e,o,t[o]);return e},ye=(e,t)=>Ui(e,Ni(t));var ft=(e,t,o)=>(Ul(e,typeof t!="symbol"?t+"":t,o),o);import{d as Vt,s as Dt,c as zi,l as H,b as Ki,e as Wi,f as Hi,g as Gi,h as Qi,i as Xi,j as Ji,k as Yi,n as K,u as ae,o as E,r as u,p as m,q as F,w as a,t as n,v as D,y as _e,z as Bt,A as Re,B as S,C as h,D as Ne,E as $e,F as Ce,G as te,H as Ie,I as N,J as Et,K as re,L as Ue,M as Qe,N as Ze,O as ct,P as O,Q as rt,R as At,S as Jt,T as ht,U as et,V as I,W as Ma,X as Zi,Y as oe,Z as Yt,_ as gn,$ as he,a0 as ln,a1 as He,a2 as Ge,a3 as xi,a4 as es,a5 as ts,a6 as ns,a7 as Ua,a8 as Na,a9 as Ba,aa as Ct,ab as qa,ac as za,ad as Nl,ae as pl,af as ls,ag as as,ah as Mn,ai as Ot,aj as Ka,ak as Bl,al as Un,am as Wa,an as os,ao as is,ap as bt,aq as ss,ar as rs,as as ds,at as us,au as cs,av as Ke,aw as Ha,ax as ps,ay as wt,az as ms,aA as Ga,aB as fs,aC as qt,aD as ql,aE as zl,aF as Kl,aG as Qa,aH as Wl,aI as Xa,aJ as _s,aK as vs,aL as ys,aM as gs,aN as hs,aO as bs,aP as $s,aQ as ks,aR as ws,aS as Cs,aT as Ss,aU as Fs,aV as Vs,aW as Es,aX as Is,aY as As,aZ as Ds,a_ as Os,a$ as Ps,b0 as Ts,b1 as Ls,b2 as js,b3 as Rs,b4 as Ms,b5 as Us,b6 as Ns,b7 as Bs,b8 as qs,b9 as zs,ba as Ks,bb as zt,bc as Ws,bd as Ja,be as an,bf as Hs,bg as Gs,bh as Qs,bi as Nn,bj as hn,bk as Ya,bl as Xs,bm as Kt,bn as Js,bo as Ys,bp as Zs,bq as ml,br as Za,bs as xs,bt as er,bu as tr,bv as nr,bw as lr,bx as ar,by as or,bz as ir,bA as sr}from"./assets/vendor.a626ab9c.js";import{g as rr,u as Pe,d as on,a as at,b as vt,S as dr,A as ur,c as cr,e as fl,f as yt,h as Me,i as _l,j as vl}from"./assets/use-sync.fa2fe3b0.js";const pr=function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const d of document.querySelectorAll('link[rel="modulepreload"]'))l(d);new MutationObserver(d=>{for(const c of d)if(c.type==="childList")for(const i of c.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&l(i)}).observe(document,{childList:!0,subtree:!0});function o(d){const c={};return d.integrity&&(c.integrity=d.integrity),d.referrerpolicy&&(c.referrerPolicy=d.referrerpolicy),d.crossorigin==="use-credentials"?c.credentials="include":d.crossorigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function l(d){if(d.ep)return;d.ep=!0;const c=o(d);fetch(d.href,c)}};pr();const xa="9.0.0-rc.99",$t=Vt({id:"appStore",state:()=>({sidebarOpen:!1,fullScreen:!1,hydrated:!1,hydrating:!1,error:null,authenticated:!1,accessTokenExpiry:0,basemap:"OpenStreetMap"})}),mr="modulepreload",eo={},fr="",j=function(t,o){return!o||o.length===0?t():Promise.all(o.map(l=>{if(l=`${fr}${l}`,l in eo)return;eo[l]=!0;const d=l.endsWith(".css"),c=d?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${c}`))return;const i=document.createElement("link");if(i.rel=d?"stylesheet":mr,d||(i.as="script",i.crossOrigin=""),i.href=l,document.head.appendChild(i),d)return new Promise((s,r)=>{i.addEventListener("load",s),i.addEventListener("error",r)})})).then(()=>t())},_r=Dt([]),vr=Dt([]);function sn(){return{displays:vr,displaysRaw:_r}}const yr=Dt([]),gr=Dt([]);function Rt(){return{interfaces:gr,interfacesRaw:yr}}const hr=Dt([]),br=Dt([]);function yl(){return{panels:br,panelsRaw:hr}}const $r=Dt([]),kr=Dt([]);function rn(){return{layouts:kr,layoutsRaw:$r}}const wr=Dt([]),Cr=Dt([]);function Hl(){return{modules:Cr,modulesRaw:wr}}var Sr={"en-US":{short:{year:"numeric",month:"short",day:"numeric"},long:{year:"numeric",month:"short",day:"numeric",weekday:"short",hour:"numeric",minute:"numeric",hour12:!0}},"bg-BG":{short:{year:"numeric",month:"numeric",day:"numeric"},long:{year:"numeric",month:"short",day:"numeric",weekday:"short",hour:"numeric",minute:"numeric",hour12:!1}},"cs-CZ":{short:{year:"numeric",month:"short",day:"numeric"},long:{year:"numeric",month:"short",day:"numeric",weekday:"short",hour:"numeric",minute:"numeric",hour12:!1}},"de-DE":{short:{year:"numeric",month:"short",day:"numeric"},long:{year:"numeric",month:"short",day:"numeric",weekday:"short",hour:"numeric",minute:"numeric",hour12:!1}},"fr-FR":{short:{year:"numeric",month:"short",day:"numeric"},long:{year:"numeric",month:"short",day:"numeric",weekday:"short",hour:"numeric",minute:"numeric",hour12:!1}},"it-IT":{short:{year:"numeric",month:"short",day:"numeric"},long:{year:"numeric",month:"short",day:"numeric",weekday:"short",hour:"numeric",minute:"numeric",hour12:!1}},"ms-MY":{short:{year:"numeric",month:"short",day:"numeric"},long:{year:"numeric",month:"short",day:"numeric",weekday:"short",hour:"numeric",minute:"numeric",hour12:!1}},"nl-NL":{short:{year:"numeric",month:"short",day:"numeric"},long:{year:"numeric",month:"short",day:"numeric",weekday:"short",hour:"numeric",minute:"numeric",hour12:!1}},"pl-PL":{short:{year:"numeric",month:"short",day:"numeric"},long:{year:"numeric",month:"short",day:"numeric",weekday:"short",hour:"numeric",minute:"numeric",hour12:!1}},"pt-BR":{short:{year:"numeric",month:"short",day:"numeric"},long:{year:"numeric",month:"short",day:"numeric",weekday:"short",hour:"numeric",minute:"numeric",hour12:!1}},"ru-RU":{short:{year:"numeric",month:"short",day:"numeric"},long:{year:"numeric",month:"short",day:"numeric",weekday:"short",hour:"numeric",minute:"numeric",hour12:!1}},"zh-CN":{short:{year:"numeric",month:"short",day:"numeric"},long:{year:"numeric",month:"short",day:"numeric",weekday:"short",hour:"numeric",minute:"numeric",hour12:!0}}},Fr={"en-US":{currency:{style:"currency",currency:"USD",notation:"standard"},decimal:{style:"decimal",minimumFractionDigits:2,maximumFractionDigits:2},percent:{style:"percent",useGrouping:!1}}},C={avatar:"Avatar",default_provider:"Default",published:"Published",draft:"Draft",archived:"Archived",modules:"Modules",module_bar:"Module Bar",tile_size:"Tile Size",edit_field:"Edit Field",conditions:"Conditions",maps:"Maps",item_creation:"Item Creation",item_revision:"Item Revision",enter_a_name:"Enter a Name...",duplicate_field:"Duplicate Field",half_width:"Half Width",full_width:"Full Width",group:"Group",and:"And",or:"Or",fill_width:"Fill Width",field_name_translations:"Field Name Translations",enter_password_to_enable_tfa:"Enter your password to enable Two-Factor Authentication",add_field:"Add Field",role_name:"Role Name",branch:"Branch",leaf:"Leaf",indeterminate:"Indeterminate",edit_collection:"Edit Collection",exclusive:"Exclusive",children:"Children",db_only_click_to_configure:"Database Only: Click to Configure",show_archived_items:"Show Archived Items",edited:"Value Edited",required:"Required",required_for_app_access:"Required for App Access",requires_value:"Requires value",create_preset:"Create Preset",create_panel:"Create Panel",create_role:"Create Role",create_user:"Create User",delete_panel:"Delete Panel",create_webhook:"Create Webhook",invite_users:"Invite Users",invite:"Invite",email_already_invited:'Email "{email}" has already been invited',emails:"Emails",connection_excellent:"Excellent Connection",connection_good:"Good Connection",connection_fair:"Fair Connection",connection_poor:"Poor Connection",primary:"Primary",rename_folder:"Rename Folder",delete_folder:"Delete Folder",prefix:"Prefix",suffix:"Suffix",reset_bookmark:"Reset Bookmark",rename_bookmark:"Rename Bookmark",update_bookmark:"Update Bookmark",delete_bookmark:"Delete Bookmark",delete_bookmark_copy:'Are you sure you want to delete the "{bookmark}" bookmark? This action cannot be undone.',logoutReason:{SIGN_OUT:"Signed out",SESSION_EXPIRED:"Session expired"},public_label:"Public",public_description:"Controls what API data is available without authenticating.",not_allowed:"Not Allowed",directus_version:"Directus Version",node_version:"Node Version",node_uptime:"Node Uptime",os_type:"OS Type",os_version:"OS Version",os_uptime:"OS Uptime",os_totalmem:"OS Memory",archive:"Archive",archive_confirm:"Are you sure you want to archive this item?",archive_confirm_count:"No Items Selected | Are you sure you want to archive this item? | Are you sure you want to archive these {count} items?",reset_system_permissions_to:"Reset System Permissions to:",reset_system_permissions_copy:"This action will overwrite any custom permissions you may have applied to the system collections. Are you sure?",the_following_are_minimum_permissions:'The following are minimum permissions required when "App Access" is enabled. You can extend permissions beyond this, but not below.',app_access_minimum:"App Access Minimum",recommended_defaults:"Recommended Defaults",unarchive:"Unarchive",unarchive_confirm:"Are you sure you want to unarchive this item?",nested_files_folders_will_be_moved:"Nested files and folders will be moved one level up.",unknown_validation_errors:"There were validation errors for the following hidden fields:",validationError:{eq:"Value has to be {valid}",neq:"Value can't be {invalid}",in:"Value has to be one of {valid}",nin:"Value can't be one of {invalid}",contains:"Value has to contain {substring}",ncontains:"Value can't contain {substring}",gt:"Value has to be greater than {valid}",gte:"Value has to be greater than or equal to {valid}",lt:"Value has to be less than {valid}",lte:"Value has to be less than or equal to {valid}",empty:"Value has to be empty",nempty:"Value can't be empty",null:"Value has to be null",nnull:"Value can't be null",required:"Value is required",unique:"Value has to be unique",regex:"Value doesn't have the correct format"},all_access:"All Access",no_access:"No Access",use_custom:"Use Custom",nullable:"Nullable",allow_null_value:"Allow NULL value",allow_multiple:"Allow Multiple",allow_multiple_to_be_open:"Allow Multiple to be Opened",enter_value_to_replace_nulls:"Please enter a new value to replace any NULLs currently within this field.",field_standard:"Standard",field_presentation:"Presentation & Aliases",field_file:"Single File",field_files:"Multiple Files",field_m2o:"M2O Relationship",field_m2a:"M2A Relationship",field_o2m:"O2M Relationship",field_m2m:"M2M Relationship",field_translations:"Translations",field_group:"Field Group",item_permissions:"Item Permissions",field_permissions:"Field Permissions",field_validation:"Field Validation",field_presets:"Field Presets",permissions_for_role:"Items the {role} Role can {action}.",fields_for_role:"Fields the {role} Role can {action}.",validation_for_role:"Field {action} rules the {role} Role must obey.",presets_for_role:"Field value defaults for the {role} Role.",presentation_and_aliases:"Presentation & Aliases",revision_post_create:"Here is what this item looked like when it was created.",revision_post_update:"Here is what this item looked like after the update.",changes_made:"Below are the specific changes made in this revision.",no_relational_data:"Keep in mind that relational data is not included here.",hide_field_on_detail:"Hide Field on Detail",show_field_on_detail:"Show Field on Detail",delete_field:"Delete Field",fields_and_layout:"Fields & Layout",field_create_success:'Created Field: "{field}"',field_update_success:'Updated Field: "{field}"',duplicate_where_to:"Where would you like to duplicate this field to?",language:"Language",aggregate_function:"Aggregate Function",aggregate_precision:"Aggregate Precision",group_aggregation:"Group Aggregation",group_precision:"Group Precision",global:"Global",admins_have_all_permissions:"Admins have all permissions",camera:"Camera",show_zero:"Show Zero",sum:"Sum",sum_distinct:"Sum Distinct",avg:"Average",avg_distinct:"Average Distinct",count:"Count",count_distinct:"Count Distinct",min:"Min",max:"Max",exposure:"Exposure",shutter:"Shutter",iso:"ISO",focal_length:"Focal Length",schema_setup_key:"This field's database column name and API key",create_field:"Create Field",creating_new_field:"New Field ({collection})",field_in_collection:"{field} ({collection})",reset_page_preferences:"Reset Page Preferences",hidden_field:"Hidden Field",hidden_on_detail:"Hidden on Detail",disabled_editing_value:"Disable editing value",key:"Key",alias:"Alias",bigInteger:"Big Integer",boolean:"Boolean",date:"Date",date_range:"Date Range",datetime:"DateTime",precision:"Precision",decimal:"Decimal",float:"Float",integer:"Integer",json:"JSON",xml:"XML",string:"String",text:"Text",time:"Time",timestamp:"Timestamp",uuid:"UUID",hash:"Hash",geometry:"Geometry",not_available_for_type:"Not Available for this Type",create_translations:"Create Translations",auto_refresh:"Auto Refresh",refresh_interval:"Refresh Interval",no_refresh:"Do not refresh",refresh_interval_seconds:"Refresh Instantly | Every Second | Every {seconds} Seconds",refresh_interval_minutes:"Every Minute | Every {minutes} Minutes",auto_generate:"Auto-Generate",this_will_auto_setup_fields_relations:"This will automatically setup all required fields and relations.",click_here:"Click here",to_manually_setup_translations:"to manually setup translations.",click_to_manage_translated_fields:"There are no translated fields yet. Click here to create them. | There is one translated field. Click here to manage it. | There are {count} translated fields. Click here to manage them.",fields_group:"Fields Group",no_collections_found:"No collections found.",new_data_alert:"The following will be created within your Data Model:",search_collection:"Search Collection...",new_field:"New Field",new_collection:"New Collection",add_m2o_to_collection:'Add Many-to-One to "{collection}"',add_o2m_to_collection:'Add One-to-Many to "{collection}"',add_m2m_to_collection:'Add Many-to-Many to "{collection}"',choose_a_type:"Choose a Type...",determined_by_relationship:"Determined by Relationship",add_note:"Add a helpful note for users...",add_link:"Add Link",custom_link:"Custom Link",default_value:"Default Value",standard_field:"Standard Field",single_file:"Single File",multiple_files:"Multiple Files",m2o_relationship:"Many to One Relationship",o2m_relationship:"One to Many Relationship",m2m_relationship:"Many to Many Relationship",m2a_relationship:"Many to Any Relationship",invalid_item:"Invalid Item",next:"Next",field_name:"Field Name",translations:"Translations",no_translations:"No Translations",note:"Note",enter_a_value:"Enter a value...",enter_a_placeholder:"Enter a placeholder...",length:"Length",precision_scale:"Precision & Scale",readonly:"Readonly",unique:"Unique",updated_on:"Updated On",updated_by:"Updated By",primary_key:"Primary Key",foreign_key:"Foreign Key",finish_setup:"Finish Setup",dismiss:"Dismiss",raw_value:"Raw value",edit_raw_value:"Edit Raw Value",enter_raw_value:"Enter raw value...",clear_value:"Clear value",clear_changes:"Clear Changes",reset_to_default:"Reset to default",undo_changes:"Undo changes",notifications:"Notifications",show_all_activity:"Show All Activity",page_not_found:"Page Not Found",page_not_found_body:"The page you are looking for doesn't seem to exist.",confirm_revert:"Confirm Revert",confirm_revert_body:"This will revert the item to the selected state.",display:"Display",settings_update_success:"Settings updated",title:"Title",revision_delta_created:"Created",revision_delta_created_externally:"Created Externally",revision_delta_updated:"Updated 1 Field | Updated {count} Fields",revision_delta_deleted:"Deleted",revision_delta_reverted:"Reverted",revision_delta_other:"Revision",revision_delta_by:"{date} by {user}",private_user:"Private User",creation_preview:"Creation Preview",revision_preview:"Revision Preview",updates_made:"Updates Made",leave_comment:"Leave a comment...",post_comment_success:"Comment posted",item_create_success:"Item Created | Items Created",item_update_success:"Item Updated | Items Updated",item_delete_success:"Item Deleted | Items Deleted",this_collection:"This Collection",related_collection:"Related Collection",related_collections:"Related Collections",translations_collection:"Translation Collection",languages_collection:"Languages Collection",export_data:"Export Data",format:"Format",use_current_filters_settings:"Use Current Filters & Settings",export_collection:"Export {collection}",last_page:"Last Page",last_access:"Last Access",fill_template:"Fill with Template Value",a_unique_table_name:"A unique table name...",a_unique_column_name:"A unique column name...",enable_custom_values:"Enable custom values",submit:"Submit",move_to_folder:"Move to Folder",move:"Move",system:"System",add_field_related:"Add Field to Related Collection",interface_label:"Interface",today:"Today",yesterday:"Yesterday",delete_comment:"Delete Comment","date-fns_date":"PPP","date-fns_time":"h:mm:ss a","date-fns_time_no_seconds":"h:mm a","date-fns_date_short":"MMM d, u","date-fns_time_short":"h:mma","date-fns_date_short_no_year":"MMM d",minutes:"Minutes",hours:"Hours",month:"Month",year:"Year",select_all:"Select All",months:{january:"January",february:"February",march:"March",april:"April",may:"May",june:"June",july:"July",august:"August",september:"September",october:"October",november:"November",december:"December"},drag_mode:"Drag Mode",cancel_crop:"Cancel Crop",original:"Original",url:"URL",import_label:"Import",file_details:"File Details",dimensions:"Dimensions",size:"Size",created:"Created",modified:"Modified",checksum:"Checksum",owner:"Owner",edited_by:"Edited by",folder:"Folder",zoom:"Zoom",download:"Download",open:"Open",open_in_new_window:"Open in New Window",open_folder:'Open "{folder}" folder',foreground_color:"Foreground Color",background_color:"Background Color",upload_from_device:"Upload File from Device",choose_from_library:"Choose File from Library",import_from_url:"Import File from URL",replace_from_device:"Replace File from Device",replace_from_library:"Replace File from Library",replace_from_url:"Replace File from URL",no_file_selected:"No File Selected",download_file:"Download File",collection_key:"Collection Key",name:"Name",primary_key_field:"Primary Key Field",type:"Type",creating_new_collection:"Creating New Collection",created_by:"Created By",created_on:"Created On",creating_collection_info:"Name the collection and setup its unique \u201Ckey\u201D field...",creating_collection_system:"Enable and rename any of these optional fields.",auto_increment_integer:"Auto-incremented integer",generated_uuid:"Generated UUID",manual_string:"Manually entered string",save_and_create_new:"Save and Create New",save_and_stay:"Save and Stay",save_as_copy:"Save as Copy",add_existing:"Add Existing",creating_items:"Creating Items",enable_create_button:"Enable Create Button",selecting_items:"Selecting Items",enable_select_button:"Enable Select Button",comments:"Comments",no_comments:"No Comments Yet",click_to_expand:"Click to Expand",select_item:"Select Item",no_items:"No items",search_items:"Search items...",disabled:"Disabled",information:"Information",report_bug:"Report Bug",request_feature:"Request Feature",interface_not_found:'Interface "{interface}" not found.',reset_interface:"Reset Interface",display_not_found:'Display "{display}" not found.',reset_display:"Reset Display","list-m2a":"Builder (M2A)",item_count:"No Items | One Item | {count} Items",no_items_copy:"There are no items in this collection yet.",file_count:"No Files | One File | {count} Files",no_files_copy:"There are no files here.",user_count:"No Users | One User | {count} Users",no_users_copy:"There are no users in this role yet.",webhooks_count:"No Webhooks | One Webhook | {count} Webhooks",no_webhooks_copy:"No webhooks have been configured yet. Get started by creating one below.",all_items:"All Items",any:"Any",csv:"CSV",no_collections:"No Collections",create_collection:"Create Collection",no_collections_copy_admin:"You don\u2019t have any Collections yet. Click the button below to get started.",no_collections_copy:"You don\u2019t have any Collections yet. Please contact your system administrator.",relationship_not_setup:"The relationship hasn't been configured correctly",display_template_not_setup:"The display template option is misconfigured",collection_field_not_setup:"The collection field option is misconfigured",select_a_collection:"Select a Collection",select_a_field:"Select a Field",active:"Active",move_to:"Move To...",copy:"Copy",copy_to:"Copy To...",no_other_dashboards_copy:"You don't have any other Dashboards yet.",inactive:"Inactive",users:"Users",activity:"Activity",activity_item:"Activity Item",action:"Action",ip_address:"IP Address",user_agent:"User Agent",webhooks:"Webhooks",decimals:"Decimals",value_decimals:"Value Decimals",min_value:"Min Value",max_value:"Max Value",automatic:"Automatic",field_width:"Field Width",add_filter:"Add Filter",upper_limit:"Upper limit...",lower_limit:"Lower limit...",user_directory:"User Directory",documentation:"Documentation",sidebar:"Sidebar",duration:"Duration",charset:"Charset",second:"second",file_moved:"File Moved",collection_created:"Collection Created",modified_on:"Modified On",card_size:"Card Size",sort_field:"Sort Field",add_sort_field:"Add Sort Field",sort:"Sort",status:"Status",remove:"Remove",toggle_manual_sorting:"Toggle Manual Sorting",bookmark_doesnt_exist:"Bookmark Doesn't Exist",bookmark_doesnt_exist_copy:"The bookmark you're trying to open couldn't be found.",bookmark_doesnt_exist_cta:"Return to collection",select_an_item:"Select an item...",edit:"Edit",enabled:"Enabled",disable_tfa:"Disable 2FA",tfa_scan_code:"Scan the code in your authenticator app to finish setting up 2FA",enter_otp_to_disable_tfa:"Enter the OTP to disable 2FA",create_account:"Create Account",account_created_successfully:"Account Created Successfully",auto_fill:"Auto Fill",corresponding_field:"Corresponding Field",errors:{COLLECTION_NOT_FOUND:"Collection doesn't exist",FIELD_NOT_FOUND:"Field not found",FORBIDDEN:"Forbidden",INVALID_CREDENTIALS:"Wrong username or password",INVALID_OTP:"Wrong one-time password",INVALID_PAYLOAD:"Invalid payload",INVALID_QUERY:"Invalid query",ITEM_LIMIT_REACHED:"Item limit reached",ITEM_NOT_FOUND:"Item not found",ROUTE_NOT_FOUND:"Not found",RECORD_NOT_UNIQUE:"Duplicate value detected",USER_SUSPENDED:"User Suspended",CONTAINS_NULL_VALUES:"Field contains null values",UNPROCESSABLE_ENTITY:"Unprocessable entity",INTERNAL_SERVER_ERROR:"Unexpected Error",NOT_NULL_VIOLATION:"Value can't be null",ILLEGAL_ASSET_TRANSFORMATION:"Image source too large to preview",UNKNOWN:"Unexpected Error"},security:"Security",value_hashed:"Value Securely Hashed",bookmark_name:"Bookmark name...",create_bookmark:"Create Bookmark",edit_bookmark:"Edit Bookmark",bookmarks:"Bookmarks",presets:"Presets",unexpected_error:"Unexpected Error",unexpected_error_copy:"An unexpected error has occurred. Please try again later.",copy_details:"Copy Details",no_app_access:"No App Access",no_app_access_copy:"This user isn't allowed to use the admin app.",password_reset_sent:"We've sent you a secure link to reset your password",password_reset_successful:"Password successfully reset",back:"Back",filter:"Filter",editing_image:"Editing Image",square:"Square",free:"Free",flip_horizontal:"Flip Horizontal",flip_vertical:"Flip Vertical",aspect_ratio:"Aspect Ratio",rotate:"Rotate",all_users:"All Users",delete_collection:"Delete Collection",update_collection_success:"Updated Collection",delete_collection_success:"Deleted Collection",make_collection_visible:"Make Collection Visible",make_collection_hidden:"Make Collection Hidden",start_end_of_count_items:"{start}-{end} of {count} items",start_end_of_count_filtered_items:"{start}-{end} of {count} filtered items",one_item:"1 item",one_filtered_item:"1 filtered item",delete_collection_are_you_sure:"Are you sure you want to delete this collection? This will delete the collection and all items in it. This action is permanent.",collections_shown:"Collections Shown",visible_collections:"Visible Collections",hidden_collections:"Hidden Collections",show_hidden_collections:"Show Hidden Collections",hide_hidden_collections:"Hide Hidden Collections",show_header:"Show Header",unmanaged_collections:"Unconfigured Collections",system_collections:"System Collections",placeholder:"Placeholder",icon_left:"Icon Left",icon_right:"Icon Right",count_other_revisions:"{count} Other Revisions",font:"Font",sans_serif:"Sans Serif",serif:"Serif",monospace:"Monospace",divider:"Divider",color:"Color",circle:"Circle",empty_item:"Empty Item",log_in_with:"Log In with {provider}",conditional_styles:"Conditional Styles",advanced_settings:"Advanced Settings",advanced_filter:"Advanced Filter",delete_advanced_filter:"Delete Filter",change_advanced_filter_operator:"Change Operator",operators:{eq:"Equals",neq:"Doesn't equal",lt:"Less than",gt:"Greater than",lte:"Less than or equal to",gte:"Greater than or equal to",in:"Is one of",nin:"Is not one of",null:"Is null",nnull:"Isn't null",contains:"Contains",ncontains:"Doesn't contain",starts_with:"Starts with",nstarts_with:"Doesn't start with",ends_with:"Ends with",nends_with:"Doesn't end with",between:"Is between",nbetween:"Isn't between",empty:"Is empty",nempty:"Isn't empty",all:"Contains these keys",has:"Contains some of these keys",intersects:"Intersects",nintersects:"Doesn't intersect",intersects_bbox:"Intersects bounding box",nintersects_bbox:"Doesn't intersect bounding box"},loading:"Loading...",drop_to_upload:"Drop to Upload",item:"Item",items:"Items",upload_file:"Upload File",upload_file_indeterminate:"Uploading File...",upload_file_success:"File Uploaded",upload_files_indeterminate:"Uploading files {done}/{total}",upload_files_success:"{count} Files Uploaded",upload_pending:"Upload Pending",drag_file_here:"Drag & Drop a File Here",click_to_browse:"Click to Browse",interface_options:"Interface Options",layout_options:"Layout Options",rows:"Rows",columns:"Columns",collection_setup:"Collection Setup",optional_system_fields:"Optional System Fields",value_unique:"Value has to be unique",all_activity:"All Activity",create_item:"Create Item",display_template:"Display Template",language_display_template:"Language Display Template",translations_display_template:"Translations Display Template",n_items_selected:"No Items Selected | 1 Item Selected | {n} Items Selected",per_page:"Per Page",all_files:"All Files",my_files:"My Files",recent_files:"Recent Files",create_folder:"Create Folder",edit_folder:"Edit Folder",folder_name:"Folder Name...",folder_key:"Folder Key...",add_file:"Add File",replace_file:"Replace File",no_results:"No Results",no_results_copy:"Adjust or clear search filters to see results.",clear_filters:"Clear Filters",saves_automatically:"Saves Automatically",role:"Role",rule:"Rule",user:"User",no_presets:"No Presets",no_presets_copy:"No presets or bookmarks have been saved yet.",no_presets_cta:"Add Preset",presets_only:"Presets Only",create:"Create",on_create:"On Create",on_update:"On Update",read:"Read",update:"Update",select_fields:"Select Fields",format_text:"Format Text",format_value:"Format Value",abbreviate_value:"Abbreviate Value",operator:"Operator",bold:"Bold",toggle:"Toggle",icon_on:"Icon On",icon_off:"Icon Off",label:"Label",insights:"Insights (Beta)",dashboard:"Dashboard",panel:"Panel",panel_options:"Panel Options",panel_header:"Panel Header",panel_name_placeholder:"Name this panel...",panel_note_placeholder:"Optional details about this panel...",panel_delete_confirm:"Are you sure you want to delete this panel? This action can not be undone.",dashboard_delete_confirm:"Are you sure you want to delete this dashboard? This action can not be undone.",edit_dashboard:"Edit Dashboard",delete_dashboard:"Delete Dashboard",visible:"Visible",prefix_placeholder:"Text before value...",suffix_placeholder:"Text after value...",decimals_placeholder:"Number of decimal places...",no_dashboards:"No Dashboards",no_dashboards_copy:"You don\u2019t have any Dashboards yet.",no_data:"No Data",create_dashboard:"Create Dashboard",dashboard_name:"Dashboard Name",full_screen:"Full Screen",edit_panels:"Edit Panels",fit_to_screen:"Fit to Screen",image_url:"Image Url",alt_text:"Alternative Text",media:"Media",quality:"Quality",width:"Width",height:"Height",source:"Source",url_placeholder:"Enter an url...",display_text:"Display Text",display_text_placeholder:"Enter a display text...",tooltip:"Tooltip",tooltip_placeholder:"Enter a tooltip...",unlimited:"Unlimited",open_link_in:"Open link in",new_tab:"New tab",current_tab:"Current tab",wysiwyg_options:{aligncenter:"Align Center",alignjustify:"Align Justify",alignleft:"Align Left",alignnone:"Align None",alignright:"Align Right",forecolor:"Foreground Color",backcolor:"Background Color",bold:"Bold",italic:"Italic",underline:"Underline",strikethrough:"Strikethrough",subscript:"Subscript",superscript:"Superscript",codeblock:"Code",blockquote:"Blockquote",bullist:"Bullet List",numlist:"Numbered List",hr:"Horizontal Rule",link:"Add/Edit Link",unlink:"Remove Link",media:"Add/Edit Media",image:"Add/Edit Image",copy:"Copy",cut:"Cut",paste:"Paste",heading:"Heading",h1:"Heading 1",h2:"Heading 2",h3:"Heading 3",h4:"Heading 4",h5:"Heading 5",h6:"Heading 6",fontselect:"Select Font",fontsizeselect:"Select Font Size",indent:"Indent",outdent:"Outdent",undo:"Undo",redo:"Redo",remove:"Remove",removeformat:"Remove Format",selectall:"Select All",table:"Table",visualaid:"View invisible elements",source_code:"Edit Source Code",fullscreen:"Full Screen",directionality:"Directionality"},dropdown:"Dropdown",choices:"Choices",choices_option_configured_incorrectly:"Choices configured incorrectly",deselect:"Deselect",deselect_all:"Deselect All",other:"Other...",adding_user:"Adding User",unknown_user:"Unknown User",creating_in:"Creating Item in {collection}",editing_in:"Editing Item in {collection}",creating_unit:"Creating {unit}",editing_unit:"Editing {unit}",editing_in_batch:"Batch Editing {count} Items",no_options_available:"No options available",settings_data_model:"Data Model",settings_permissions:"Roles & Permissions",settings_project:"Project Settings",settings_webhooks:"Webhooks",settings_presets:"Presets & Bookmarks",one_or_more_options_are_missing:"One or more options are missing",scope:"Scope",select:"Select...",layout:"Layout",tree_view:"Tree View",changes_are_permanent:"Changes are permanent",preset_name_placeholder:"Serves as default when empty...",preset_search_placeholder:"Search query...",editing_preset:"Editing Preset",layout_preview:"Layout Preview",layout_setup:"Layout Setup",unsaved_changes:"Unsaved Changes",unsaved_changes_copy:"Are you sure you want to leave this page?",discard_changes:"Discard Changes",discard_changes_copy:"Are you sure you want to discard all the changes made?",show_x_axis:"Show X Axis",show_y_axis:"Show Y Axis",keep_editing:"Keep Editing",page_help_collections_overview:"**Collections Overview** \u2014 List of all collections you have access to.",page_help_collections_collection:"**Browse Items** \u2014 Lists all {collection} items you have access to. Customize layout, filters, and sorting to tailor your view, and even save bookmarks of these different configurations for quick access.",page_help_collections_item:"**Item Detail** \u2014 A form for viewing and managing this item. This sidebar also contains a full history of revisions, and embedded comments.",page_help_activity_collection:"**Browse Activity** \u2014 A comprehensive listing of all your user's system and content activity.",page_help_docs_global:"**Documentation Overview** \u2014 Docs tailored specifically to this project's version and schema.",page_help_files_collection:"**File Library** \u2014 Lists all file assets uploaded to this project. Customize layout, filters, and sorting to tailor your view, and even save bookmarks of these different configurations for quick access.",page_help_files_item:"**File Detail** \u2014 A form for managing file metadata, editing the original asset, and updating access settings.",page_help_settings_project:"**Project Settings** \u2014 Your project's global configuration options.",page_help_settings_datamodel_collections:"**Data Model: Collections** \u2014 Lists all collections available. This includes visible, hidden, and system collections, as well as unmanaged database tables that can be added.",page_help_settings_datamodel_fields:"**Data Model: Collection** \u2014 A form for managing this collection and its fields.",page_help_settings_roles_collection:"**Browse Roles** \u2014 Lists the Admin, Public and custom User Roles.",page_help_settings_roles_item:"**Role Detail** \u2014 Manage a role's permissions and other settings.",page_help_settings_presets_collection:"**Browse Presets** \u2014 Lists all presets in the project, including: user, role, and global bookmarks, as well as default views.",page_help_settings_presets_item:"**Preset Detail** \u2014 A form for managing bookmarks and default collection presets.",page_help_settings_webhooks_collection:"**Browse Webhooks** \u2014 Lists all webhooks within the project.",page_help_settings_webhooks_item:"**Webhook Detail** \u2014 A form for creating and managing project webhooks.",page_help_users_collection:"**User Directory** \u2014 Lists all system users within this project.",page_help_users_item:"**User Detail** \u2014 Manage your account information, or view the details of other users.",page_help_insights_overview:"**Insights** \u2014 List of dashboards you have access to.",page_help_insights_dashboard:"**Dashboard** \u2014 Workspace for managing one or more panels",activity_feed:"Activity Feed",add_new:"Add New",create_new:"Create New",all:"All",none:"None",no_layout_collection_selected_yet:"No layout/collection selected yet",batch_delete_confirm:"No items have been selected | Are you sure you want to delete this item? This action can not be undone. | Are you sure you want to delete these {count} items? This action can not be undone.",cancel:"Cancel",no_upscale:"Don't upscale images",collection:"Collection",collections:"Collections",singleton:"Singleton",singleton_label:"Treat as single object",system_fields_locked:"System fields are locked and can't be edited",directus_collection:{directus_activity:"Accountability logs for all events",directus_collections:"Additional collection configuration and metadata",directus_dashboards:"Dashboards within the Insights module",directus_fields:"Additional field configuration and metadata",directus_files:"Metadata for all managed file assets",directus_folders:"Provides virtual directories for files",directus_migrations:"What version of the database you're using",directus_panels:"Individual panels within Insights dashboards",directus_permissions:"Access permissions for each role",directus_presets:"Presets for collection defaults and bookmarks",directus_relations:"Relationship configuration and metadata",directus_revisions:"Data snapshots for all activity",directus_roles:"Permission groups for system users",directus_sessions:"User session information",directus_settings:"Project configuration options",directus_users:"System users for the platform",directus_webhooks:"Configuration for event-based HTTP requests"},fields:{directus_activity:{item:"Item Primary Key",action:"Action",collection:"Collection",timestamp:"Action On",user:"Action By",comment:"Comment",user_agent:"User Agent",ip:"IP Address",revisions:"Revisions"},directus_collections:{collection:"Collection",icon:"Icon",note:"Note",color:"Color",display_template:"Display Template",hidden:"Hidden",singleton:"Singleton",translations:"Collection Naming Translations",archive_app_filter:"Archive App Filter",archive_value:"Archive Value",unarchive_value:"Unarchive Value",sort_field:"Sort Field",accountability:"Activity & Revision Tracking"},directus_files:{$thumbnail:"Thumbnail",title:"Title",description:"Description",tags:"Tags",location:"Location",storage:"Storage",filename_disk:"Filename (Disk)",filename_download:"Filename (Download)",metadata:"Metadata",type:"Mime Type",filesize:"Filesize",modified_by:"Modified By",modified_on:"Modified On",created_on:"Created On",created_by:"Created By",embed:"Embed",uploaded_by:"Uploaded By",folder:"Folder",width:"Width",uploaded_on:"Uploaded On",height:"Height",charset:"Charset",duration:"Duration"},directus_users:{first_name:"First Name",last_name:"Last Name",email:"Email",password:"Password",avatar:"Avatar",location:"Location",title:"Title",description:"Description",tags:"Tags",user_preferences:"User Preferences",language:"Language",theme:"Theme",theme_auto:"Automatic (Based on System)",theme_light:"Light Mode",theme_dark:"Dark Mode",tfa_secret:"Two-Factor Authentication",admin_options:"Admin Options",status:"Status",status_draft:"Draft",status_invited:"Invited",status_active:"Active",status_suspended:"Suspended",status_archived:"Archived",role:"Role",token:"Token",token_placeholder:"Enter a secure access token...",provider:"Provider",external_identifier:"External Identifier",last_page:"Last Page",last_access:"Last Access"},directus_settings:{jpg:"JPEG",png:"PNG",webP:"WebP",tiff:"Tiff",basemaps:"Basemaps",basemaps_raster:"Raster",basemaps_tile:"Raster TileJSON",basemaps_style:"Mapbox Style",mapbox_key:"Mapbox Access Token",mapbox_placeholder:"pk.eyJ1Ijo.....",transforms_note:"The Sharp method name and its arguments. See https://sharp.pixelplumbing.com/api-constructor for more information.",additional_transforms:"Additional Transformations",project_name:"Project Name",project_url:"Project URL",project_color:"Project Color",project_logo:"Project Logo",public_pages:"Public Pages",public_foreground:"Public Foreground",public_background:"Public Background",public_note:"Public Note",auth_password_policy:"Auth Password Policy",auth_login_attempts:"Auth Login Attempts",files_and_thumbnails:"Files & Thumbnails",storage_default_folder:"Storage Default Folder",storage_asset_presets:"Storage Asset Presets",storage_asset_transform:"Storage Asset Transform",overrides:"App Overrides",custom_css:"Custom CSS"},directus_fields:{collection:"Collection Name",icon:"Collection Icon",note:"Note",hidden:"Hidden",singleton:"Singleton",translation:"Field Name Translations",display_template:"Template"},directus_roles:{name:"Role Name",icon:"Role Icon",description:"Description",app_access:"App Access",admin_access:"Admin Access",ip_access:"IP Access",enforce_tfa:"Require 2FA",users:"Users in Role",module_list:"Module Navigation",collection_list:"Collection Navigation"},directus_webhooks:{name:"Name",method:"Method",status:"Status",data:"Data",data_label:"Send Event Data",triggers:"Triggers",actions:"Actions"}},field_options:{directus_settings:{project_name_placeholder:"My project...",project_logo_note:"Login & Logo Background",public_note_placeholder:"A short, public message that supports markdown formatting...",security_divider_title:"Security",auth_password_policy:{none_text:"None \u2013 Not Recommended",weak_text:"Weak \u2013 Minimum 8 Characters",strong_text:"Strong \u2013 Upper / Lowercase / Numbers / Special"},storage_asset_presets:{fit:{contain_text:"Contain (preserve aspect ratio)",cover_text:"Cover (forces exact size)",fit_text:"Fit inside",outside_text:"Fit outside"}},additional_transforms:"Additional Transformations",transforms_note:"The Sharp method name and its arguments. See https://sharp.pixelplumbing.com/api-constructor for more information.",mapbox_key:"Mapbox Access Token",mapbox_placeholder:"pk.eyJ1Ijo.....",basemaps:"Basemaps",basemaps_raster:"Raster",basemaps_tile:"Raster TileJSON",basemaps_style:"Mapbox Style",files_divider_title:"Files & Thumbnails",overrides_divider_title:"App Overrides"},directus_activity:{login:"Login",create:"Create",update:"Update",delete:"Delete"},directus_collections:{track_activity_revisions:"Track Activity & Revisions",only_track_activity:"Only Track Activity",do_not_track_anything:"Do Not Track Anything",collection_setup:"Collection Setup",note_placeholder:"A description of this collection...",hidden_label:"Hide within the App",singleton:"Treat as single object",language:"Language",translation:"Translation",translation_placeholder:"Enter a translation...",collection_name:"Collection Name",singular_unit:"Singular Unit",plural_unit:"Plural Unit",archive_divider:"Archive",archive_field:"Archive Field",archive_field_placeholder:"Choose a field...",archive_app_filter:"Enable App Archive Filter",archive_value:"Value set when archiving...",unarchive_value:"Value set when unarchiving...",sort_divider:"Sort",sort_field:"Choose a field...",accountability_divider:"Accountability",duplication_divider:"Duplication",item_duplication_fields:"Item Duplication Fields"},directus_files:{title:"A unique title...",description:"An optional description...",location:"An optional location...",storage_divider:"File Naming",filename_disk:"Name on disk storage...",filename_download:"Name when downloading..."},directus_roles:{name:"The unique name for this role...",description:"A description of this role...",ip_access:"Add allowed IP addresses, leave empty to allow all...",fields:{icon_name:"Icon",name_name:"Name",name_placeholder:"Enter a title...",link_name:"Link",link_placeholder:"Relative or absolute URL..."},collection_list:{group_name_addLabel:"Add New Group...",fields:{group_name:"Group Name",group_placeholder:"Label this group...",type_name:"Type",choices_always:"Always Open",choices_start_open:"Start Open",choices_start_collapsed:"Start Collapsed"}},collections_name:"Collections",collections_addLabel:"Add Collection..."},directus_users:{preferences_divider:"User Preferences",dropdown_auto:"Automatic (Based on System)",dropdown_light:"Light Mode",dropdown_dark:"Dark Mode",admin_divider:"Admin Options",status_dropdown_draft:"Draft",status_dropdown_invited:"Invited",status_dropdown_active:"Active",status_dropdown_suspended:"Suspended",status_dropdown_archived:"Archived",token:"Enter a secure access token..."},directus_webhooks:{status_options_active:"Active",status_options_inactive:"Inactive",data_label:"Send Event Data",triggers_divider:"Triggers",actions_create:"Create",actions_update:"Update",actions_delete:"Delete",actions_login:"Login"}},no_fields_in_collection:'There are no fields in "{collection}" yet',no_value:"No value",do_nothing:"Do Nothing",generate_and_save_uuid:"Generate and Save UUID",save_current_user_id:"Save Current User ID",save_current_user_role:"Save Current User Role",save_current_datetime:"Save Current Date/Time",always_open:"Always Open",start_open:"Start Open",start_collapsed:"Start Collapsed",block:"Block",inline:"Inline",comment:"Comment",relational_triggers:"Relational Triggers",referential_action_field_label_m2o:"On Delete of {collection}...",referential_action_field_label_o2m:"On Deselect of {collection}...",referential_action_no_action:"Prevent the deletion",referential_action_cascade:"Delete the {collection} item (cascade)",referential_action_set_null:"Nullify the {field} field",referential_action_set_default:"Set {field} to its default value",choose_action:"Choose Action",continue_label:"Continue",continue_as:"{name} is currently authenticated. If you recognize this account, press continue.",editing_role:"{role} Role",creating_webhook:"Creating Webhook",default_label:"Default",delete_label:"Delete",delete_are_you_sure:"This action is permanent and can not be undone. Are you sure you would like to proceed?",delete_field_are_you_sure:'Are you sure you want to delete the field "{field}"? This action can not be undone.',description:"Description",done:"Done",duplicate:"Duplicate",limit:"Limit",email:"Email",embed:"Embed",fallback_icon:"Fallback Icon",field:"Field | Fields",file:"File",file_library:"File Library",forgot_password:"Forgot Password",hidden:"Hidden",icon:"Icon",info:"Info",normal:"Normal",success:"Success",warning:"Warning",danger:"Danger",junction_collection:"Junction Collection",latency:"Latency",login:"Log in",my_activity:"My Activity",not_authenticated:"Not Authenticated",authenticated:"Authenticated",options:"Options",otp:"One-Time Password",password:"Password",permissions:"Permissions",relationship:"Relationship",reset:"Reset",reset_password:"Reset Password",revisions:"Revisions",revert:"Revert",save:"Save",schema:"Schema",search:"Search",select_existing:"Select Existing",select_field_type:"Select a field type",select_interface:"Select an interface",settings:"Settings",sign_in:"Sign In",sign_out:"Sign Out",sign_out_confirm:"Are you sure you want to sign out?",something_went_wrong:"Something went wrong.",sort_direction:"Sort Direction",sort_asc:"Sort Ascending",sort_desc:"Sort Descending",template:"Template",require_value_to_be_set:"Require value to be set",translation:"Translation",translation_placeholder:"Enter a translation...",value:"Value",view_project:"View Project",weeks:{},report_error:"Report Error",start:"Start",interfaces:{filter:{name:"Filter",description:"Configure a filter object.",add_filter:"Add Filter",add_group:"And / Or group",add_value:"Add Value",all:"All",any:"Any",and:"and",of_the_following:"of the following",no_rules:"No configured rules",change_value:"Click to change value",placeholder:"Drag rules here"},"group-accordion":{name:"Accordion",description:"Display fields or groups as accordion sections",start:"Start",all_closed:"All Closed",first_opened:"First Opened",all_opened:"All Opened",accordion_mode:"Accordion Mode",max_one_section_open:"Max 1 Section Open"},"presentation-links":{"presentation-links":"Button Links",links:"Links",description:"Configurable link buttons for launching dynamic URLs",style:"Style",primary:"Primary",link:"Links",button:"Buttons",error:"Cannot perform action"},"select-multiple-checkbox":{checkboxes:"Checkboxes",description:"Choose between multiple options via checkboxes",allow_other:"Allow Other",show_more:"Show {count} more",items_shown:"Items Shown"},"select-multiple-checkbox-tree":{name:"Checkboxes (Tree)",description:"Choose between multiple options via nested checkboxes",value_combining:"Value Combining",value_combining_note:"Controls what value is stored when nested selections are made.",show_all:"Show All",show_selected:"Show Selected"},"input-code":{code:"Code",description:"Write or share code snippets",line_number:"Line Number",placeholder:"Enter code here..."},"system-collection":{collection:"Collection",description:"Select between existing collections",include_system_collections:"Include System Collections"},"system-collections":{collections:"Collections",description:"Select between existing collections",include_system_collections:"Include System Collections"},"select-color":{color:"Color",description:"Enter or select a color value",placeholder:"Choose a color...",preset_colors:"Preset Colors",preset_colors_add_label:"Add new color...",name_placeholder:"Enter color name..."},datetime:{datetime:"Datetime",description:"Enter dates and times",include_seconds:"Include Seconds",set_to_now:"Set to Now",use_24:"Use 24-Hour Format"},"system-display-template":{"display-template":"Display Template",description:"Mix static text and dynamic field values",collection_field:"Collection field",collection_field_not_setup:"The collection field option is misconfigured",select_a_collection:"Select a Collection"},"presentation-divider":{divider:"Divider",description:"Label and divide fields into sections",title_placeholder:"Enter a title...",inline_title:"Inline Title",inline_title_label:"Show title inside line",margin_top:"Margin Top",margin_top_label:"Increase Top Margin"},"select-dropdown":{description:"Select a value from a dropdown",choices_placeholder:"Add a new choice",allow_other:"Allow Other",allow_other_label:"Allow Other Values",allow_none:"Allow None",allow_none_label:"Allow No Selection",choices_name_placeholder:"Enter a name...",choices_value_placeholder:"Enter a value..."},"select-multiple-dropdown":{"select-multiple-dropdown":"Dropdown (Multiple)",description:"Select multiple values from a dropdown"},file:{file:"File",description:"Select or upload a file"},files:{files:"Files",description:"Select or upload multiple files"},"input-hash":{hash:"Hash",description:"Enter a value to be hashed",masked:"Masked",masked_label:"Hide the true values"},"select-icon":{icon:"Icon",description:"Select an icon from a dropdown",search_for_icon:"Search for icon..."},"file-image":{image:"Image",description:"Select or upload an image"},"system-interface":{interface:"Interface",description:"Select an existing interface",placeholder:"Select an interface..."},"system-interface-options":{"interface-options":"Interface Options",description:"A modal for selecting options of an interface"},"list-m2m":{"many-to-many":"Many to Many",description:"Select multiple related junction items"},"select-dropdown-m2o":{"many-to-one":"Many to One",description:"Select a single related item",display_template:"Display Template"},"input-rich-text-md":{markdown:"Markdown",description:"Enter and preview markdown",customSyntax:"Custom Blocks",customSyntax_label:"Add custom syntax types",customSyntax_add:"Add custom syntax",box:"Block / Inline",imageToken:"Image Token",imageToken_label:"What (static) token to append to image sources"},map:{map:"Map",description:"Select a location on a map",zoom:"Zoom",geometry_type:"Geometry Type",geometry_format:"Geometry Format",default_view:"Default View",invalid_options:"Invalid options",invalid_format:"Invalid format ({format})",unexpected_geometry:"Expected {expected}, got {got}.",fit_bounds:"Fit view to data",native:"Native",geojson:"GeoJSON",lnglat:"Longitude, Latitude",wkt:"WKT",wkb:"WKB"},"presentation-notice":{notice:"Notice",description:"Display a short notice",text:"Enter notice content here..."},"list-o2m":{"one-to-many":"One to Many",description:"Select multiple related items",no_collection:"The collection could not be found"},"system-folder":{folder:"Folder",description:"Select a folder",field_hint:"Puts newly uploaded files in selected folder. Does not affect existing files that are selected.",root_name:"File Library Root",system_default:"System Defaults"},"select-radio":{"radio-buttons":"Radio Buttons",description:"Select one of multiple choices"},list:{repeater:"Repeater",description:"Create multiple entries of the same structure",edit_fields:"Edit Fields",add_label:'"Create New" Label',field_name_placeholder:"Enter field name...",field_note_placeholder:"Enter field note..."},slider:{slider:"Slider",description:"Select a number using a slider",always_show_value:"Always show value"},tags:{tags:"Tags",description:"Select or add tags",whitespace:"Whitespace",hyphen:"Replace with hyphen",underscore:"Replace with underscore",remove:"Remove whitespace",capitalization:"Capitalization",uppercase:"Convert Uppercase",lowercase:"Convert Lowercase",auto_formatter:"Use Title Auto-Formatter",alphabetize:"Alphabetize",alphabetize_label:"Force Alphabetical Order",add_tags:"Add tags..."},input:{input:"Input",description:"Manually enter a value",trim:"Trim",trim_label:"Trim the start and end",mask:"Masked",mask_label:"Hide the real value",clear:"Cleared Value",clear_label:"Save as empty string",minimum_value:"Minimum Value",maximum_value:"Maximum Value",step_interval:"Step Interval",slug:"Slugify",slug_label:"Make entered value URL safe"},"input-multiline":{textarea:"Textarea",description:"Enter multiline plain-text"},boolean:{toggle:"Toggle",description:"Switch between on and off",label_placeholder:"Enter a label...",label_default:"Enabled"},translations:{display_template:"Display Template",no_collection:"No Collection",toggle_split_view:"Toggle Split View",language_field:"Language Indicator Field"},"list-o2m-tree-view":{description:"Tree view for nested recursive one-to-many items",recursive_only:"The tree view interface only works for recursive relationships."},user:{user:"User",description:"Select an existing directus user",select_mode:"Select Mode",modes:{auto:"Auto",dropdown:"Dropdown",modal:"Modal"}},"input-rich-text-html":{wysiwyg:"WYSIWYG",description:"A rich-text editor writing HTML content",toolbar:"Toolbar",custom_formats:"Custom Formats",options_override:"Options Override"},"input-autocomplete-api":{"input-autocomplete-api":"Autocomplete Input (API)",description:"A search typeahead for external API values.",results_path:"Results Path",value_path:"Value Path",trigger:"Trigger",rate:"Rate"},"group-raw":{name:"Raw Group",description:"Render the fields as-is"},"group-detail":{name:"Detail Group",description:"Render the fields as a collapsable section",show_header:"Show Group Header",header_icon:"Header Icon",header_color:"Header Color",start_open:"Start Open",start_closed:"Start Closed"}},displays:{translations:{translations:"Translations",description:"Preview translations",enable:"Enable",user_language:"Use Current User Language",default_language:"Default Language",language_field:"Language Indicator Field"},boolean:{boolean:"Boolean",description:"Display on and off states",label_on:"Label On",label_on_placeholder:"Enter an on label...",label_off:"Label Off",label_off_placeholder:"Enter an off label...",icon_on:"Icon On",icon_off:"Icon Off",color_on:"Color On",color_off:"Color Off"},collection:{collection:"Collection",description:"Display a collection",icon_label:"Show the collection's icon"},color:{color:"Color",description:"Display a colored dot",default_color:"Default Color"},datetime:{datetime:"Datetime",description:"Display values related to time",format:"Format",format_note:"The custom format accepts the __[Date Field Symbol Table](https://www.unicode.org/reports/tr35/tr35-dates.html#Date_Field_Symbol_Table)__",long:"Long",short:"Short",relative:"Relative",relative_label:"Show relative time, eg: 5 minutes ago"},file:{file:"File",description:"Display files"},filesize:{filesize:"File Size",description:"Display the size of a file"},"formatted-value":{"formatted-value":"Formatted Value",description:"Display a formatted version of the text",format_title:"Format Title",format_title_label:"Auto-format casing",bold_label:"Use bold style"},"formatted-json-value":{"formatted-json-value":"Formatted JSON value",description:"Display a formatted version of the object"},icon:{icon:"Icon",description:"Display an icon",filled:"Filled",filled_label:"Use the filled variant"},image:{image:"Image",description:"Display a tiny image preview",circle:"Circle",circle_label:"Display as a circle"},labels:{labels:"Labels",description:"Display either a single or a list of labels",default_foreground:"Default Foreground",default_background:"Default Background",format_label:"Format each label",show_as_dot:"Show As Dot",choices_value_placeholder:"Enter a value...",choices_text_placeholder:"Enter a text..."},"mime-type":{"mime-type":"MIME Type",description:"Show the MIME-Type of a file",extension_only:"Extension Only",extension_only_label:"Only show the file extension"},rating:{rating:"Rating",description:"Visualize a number as stars relative to the max-value",simple:"Simple",simple_label:"Show stars in a simple format"},raw:{raw:"Raw Value"},"related-values":{"related-values":"Related Values",description:"Display relative values"},user:{user:"User",description:"Display a directus user",avatar:"Avatar",name:"Name",both:"Both",circle_label:"Show user in a circle"}},layouts:{cards:{cards:"Cards",image_source:"Image Source",image_fit:"Image Fit",crop:"Crop",contain:"Contain",title:"Title",subtitle:"Subtitle"},tabular:{tabular:"Table",fields:"Fields",spacing:"Spacing",comfortable:"Comfortable",compact:"Compact",cozy:"Cozy"},calendar:{calendar:"Calendar",start_date_field:"Start Date Field",end_date_field:"End Date Field"},map:{map:"Map",basemap:"Basemap",layers:"Layers",edit_custom_layers:"Edit Layers",cluster_options:"Clustering options",cluster:"Cluster Nearby Data",cluster_radius:"Cluster radius",cluster_minpoints:"Cluster minimum size",cluster_maxzoom:"Maximum zoom for clustering",field:"Geometry",invalid_geometry:"Invalid geometry",auto_location_filter:"Auto-Filter within View",search_this_area:"Search this area",clear_data_filter:"Clear data filter",clear_location_filter:"Clear location filter",no_results_here:"No results in this area"}},panels:{metric:{name:"Metric",description:"Show a single value based on a query",field:"Field"},time_series:{name:"Time Series",description:"Render a line chart based on values over time",date_field:"Date Field",value_field:"Value Field"},label:{name:"Label",description:"Show some text"},list:{name:"List",description:"Filter and list fields from a collection"}}},Vr=C.avatar,Er=C.default_provider,Ir=C.published,Ar=C.draft,Dr=C.archived,Or=C.modules,Pr=C.module_bar,Tr=C.tile_size,Lr=C.edit_field,jr=C.conditions,Rr=C.maps,Mr=C.item_creation,Ur=C.item_revision,Nr=C.enter_a_name,Br=C.duplicate_field,qr=C.half_width,zr=C.full_width,Kr=C.group,Wr=C.and,Hr=C.or,Gr=C.fill_width,Qr=C.field_name_translations,Xr=C.enter_password_to_enable_tfa,Jr=C.add_field,Yr=C.role_name,Zr=C.branch,xr=C.leaf,ed=C.indeterminate,td=C.edit_collection,nd=C.exclusive,ld=C.children,ad=C.db_only_click_to_configure,od=C.show_archived_items,id=C.edited,sd=C.required,rd=C.required_for_app_access,dd=C.requires_value,ud=C.create_preset,cd=C.create_panel,pd=C.create_role,md=C.create_user,fd=C.delete_panel,_d=C.create_webhook,vd=C.invite_users,yd=C.invite,gd=C.email_already_invited,hd=C.emails,bd=C.connection_excellent,$d=C.connection_good,kd=C.connection_fair,wd=C.connection_poor,Cd=C.primary,Sd=C.rename_folder,Fd=C.delete_folder,Vd=C.prefix,Ed=C.suffix,Id=C.reset_bookmark,Ad=C.rename_bookmark,Dd=C.update_bookmark,Od=C.delete_bookmark,Pd=C.delete_bookmark_copy,Td=C.logoutReason,Ld=C.public_label,jd=C.public_description,Rd=C.not_allowed,Md=C.directus_version,Ud=C.node_version,Nd=C.node_uptime,Bd=C.os_type,qd=C.os_version,zd=C.os_uptime,Kd=C.os_totalmem,Wd=C.archive,Hd=C.archive_confirm,Gd=C.archive_confirm_count,Qd=C.reset_system_permissions_to,Xd=C.reset_system_permissions_copy,Jd=C.the_following_are_minimum_permissions,Yd=C.app_access_minimum,Zd=C.recommended_defaults,xd=C.unarchive,eu=C.unarchive_confirm,tu=C.nested_files_folders_will_be_moved,nu=C.unknown_validation_errors,lu=C.validationError,au=C.all_access,ou=C.no_access,iu=C.use_custom,su=C.nullable,ru=C.allow_null_value,du=C.allow_multiple,uu=C.allow_multiple_to_be_open,cu=C.enter_value_to_replace_nulls,pu=C.field_standard,mu=C.field_presentation,fu=C.field_file,_u=C.field_files,vu=C.field_m2o,yu=C.field_m2a,gu=C.field_o2m,hu=C.field_m2m,bu=C.field_translations,$u=C.field_group,ku=C.item_permissions,wu=C.field_permissions,Cu=C.field_validation,Su=C.field_presets,Fu=C.permissions_for_role,Vu=C.fields_for_role,Eu=C.validation_for_role,Iu=C.presets_for_role,Au=C.presentation_and_aliases,Du=C.revision_post_create,Ou=C.revision_post_update,Pu=C.changes_made,Tu=C.no_relational_data,Lu=C.hide_field_on_detail,ju=C.show_field_on_detail,Ru=C.delete_field,Mu=C.fields_and_layout,Uu=C.field_create_success,Nu=C.field_update_success,Bu=C.duplicate_where_to,qu=C.language,zu=C.aggregate_function,Ku=C.aggregate_precision,Wu=C.group_aggregation,Hu=C.group_precision,Gu=C.global,Qu=C.admins_have_all_permissions,Xu=C.camera,Ju=C.show_zero,Yu=C.sum,Zu=C.sum_distinct,xu=C.avg,ec=C.avg_distinct,tc=C.count,nc=C.count_distinct,lc=C.min,ac=C.max,oc=C.exposure,ic=C.shutter,sc=C.iso,rc=C.focal_length,dc=C.schema_setup_key,uc=C.create_field,cc=C.creating_new_field,pc=C.field_in_collection,mc=C.reset_page_preferences,fc=C.hidden_field,_c=C.hidden_on_detail,vc=C.disabled_editing_value,yc=C.key,gc=C.alias,hc=C.bigInteger,bc=C.boolean,$c=C.date,kc=C.date_range,wc=C.datetime,Cc=C.precision,Sc=C.decimal,Fc=C.float,Vc=C.integer,Ec=C.json,Ic=C.xml,Ac=C.string,Dc=C.text,Oc=C.time,Pc=C.timestamp,Tc=C.uuid,Lc=C.hash,jc=C.geometry,Rc=C.not_available_for_type,Mc=C.create_translations,Uc=C.auto_refresh,Nc=C.refresh_interval,Bc=C.no_refresh,qc=C.refresh_interval_seconds,zc=C.refresh_interval_minutes,Kc=C.auto_generate,Wc=C.this_will_auto_setup_fields_relations,Hc=C.click_here,Gc=C.to_manually_setup_translations,Qc=C.click_to_manage_translated_fields,Xc=C.fields_group,Jc=C.no_collections_found,Yc=C.new_data_alert,Zc=C.search_collection,xc=C.new_field,ep=C.new_collection,tp=C.add_m2o_to_collection,np=C.add_o2m_to_collection,lp=C.add_m2m_to_collection,ap=C.choose_a_type,op=C.determined_by_relationship,ip=C.add_note,sp=C.add_link,rp=C.custom_link,dp=C.default_value,up=C.standard_field,cp=C.single_file,pp=C.multiple_files,mp=C.m2o_relationship,fp=C.o2m_relationship,_p=C.m2m_relationship,vp=C.m2a_relationship,yp=C.invalid_item,gp=C.next,hp=C.field_name,bp=C.translations,$p=C.no_translations,kp=C.note,wp=C.enter_a_value,Cp=C.enter_a_placeholder,Sp=C.length,Fp=C.precision_scale,Vp=C.readonly,Ep=C.unique,Ip=C.updated_on,Ap=C.updated_by,Dp=C.primary_key,Op=C.foreign_key,Pp=C.finish_setup,Tp=C.dismiss,Lp=C.raw_value,jp=C.edit_raw_value,Rp=C.enter_raw_value,Mp=C.clear_value,Up=C.clear_changes,Np=C.reset_to_default,Bp=C.undo_changes,qp=C.notifications,zp=C.show_all_activity,Kp=C.page_not_found,Wp=C.page_not_found_body,Hp=C.confirm_revert,Gp=C.confirm_revert_body,Qp=C.display,Xp=C.settings_update_success,Jp=C.title,Yp=C.revision_delta_created,Zp=C.revision_delta_created_externally,xp=C.revision_delta_updated,em=C.revision_delta_deleted,tm=C.revision_delta_reverted,nm=C.revision_delta_other,lm=C.revision_delta_by,am=C.private_user,om=C.creation_preview,im=C.revision_preview,sm=C.updates_made,rm=C.leave_comment,dm=C.post_comment_success,um=C.item_create_success,cm=C.item_update_success,pm=C.item_delete_success,mm=C.this_collection,fm=C.related_collection,_m=C.related_collections,vm=C.translations_collection,ym=C.languages_collection,gm=C.export_data,hm=C.format,bm=C.use_current_filters_settings,$m=C.export_collection,km=C.last_page,wm=C.last_access,Cm=C.fill_template,Sm=C.a_unique_table_name,Fm=C.a_unique_column_name,Vm=C.enable_custom_values,Em=C.submit,Im=C.move_to_folder,Am=C.move,Dm=C.system,Om=C.add_field_related,Pm=C.interface_label,Tm=C.today,Lm=C.yesterday,jm=C.delete_comment,Rm=C.minutes,Mm=C.hours,Um=C.month,Nm=C.year,Bm=C.select_all,qm=C.months,zm=C.drag_mode,Km=C.cancel_crop,Wm=C.original,Hm=C.url,Gm=C.import_label,Qm=C.file_details,Xm=C.dimensions,Jm=C.size,Ym=C.created,Zm=C.modified,xm=C.checksum,ef=C.owner,tf=C.edited_by,nf=C.folder,lf=C.zoom,af=C.download,of=C.open,sf=C.open_in_new_window,rf=C.open_folder,df=C.foreground_color,uf=C.background_color,cf=C.upload_from_device,pf=C.choose_from_library,mf=C.import_from_url,ff=C.replace_from_device,_f=C.replace_from_library,vf=C.replace_from_url,yf=C.no_file_selected,gf=C.download_file,hf=C.collection_key,bf=C.name,$f=C.primary_key_field,kf=C.type,wf=C.creating_new_collection,Cf=C.created_by,Sf=C.created_on,Ff=C.creating_collection_info,Vf=C.creating_collection_system,Ef=C.auto_increment_integer,If=C.generated_uuid,Af=C.manual_string,Df=C.save_and_create_new,Of=C.save_and_stay,Pf=C.save_as_copy,Tf=C.add_existing,Lf=C.creating_items,jf=C.enable_create_button,Rf=C.selecting_items,Mf=C.enable_select_button,Uf=C.comments,Nf=C.no_comments,Bf=C.click_to_expand,qf=C.select_item,zf=C.no_items,Kf=C.search_items,Wf=C.disabled,Hf=C.information,Gf=C.report_bug,Qf=C.request_feature,Xf=C.interface_not_found,Jf=C.reset_interface,Yf=C.display_not_found,Zf=C.reset_display,xf=C.item_count,e_=C.no_items_copy,t_=C.file_count,n_=C.no_files_copy,l_=C.user_count,a_=C.no_users_copy,o_=C.webhooks_count,i_=C.no_webhooks_copy,s_=C.all_items,r_=C.any,d_=C.csv,u_=C.no_collections,c_=C.create_collection,p_=C.no_collections_copy_admin,m_=C.no_collections_copy,f_=C.relationship_not_setup,__=C.display_template_not_setup,v_=C.collection_field_not_setup,y_=C.select_a_collection,g_=C.select_a_field,h_=C.active,b_=C.move_to,$_=C.copy,k_=C.copy_to,w_=C.no_other_dashboards_copy,C_=C.inactive,S_=C.users,F_=C.activity,V_=C.activity_item,E_=C.action,I_=C.ip_address,A_=C.user_agent,D_=C.webhooks,O_=C.decimals,P_=C.value_decimals,T_=C.min_value,L_=C.max_value,j_=C.automatic,R_=C.field_width,M_=C.add_filter,U_=C.upper_limit,N_=C.lower_limit,B_=C.user_directory,q_=C.documentation,z_=C.sidebar,K_=C.duration,W_=C.charset,H_=C.second,G_=C.file_moved,Q_=C.collection_created,X_=C.modified_on,J_=C.card_size,Y_=C.sort_field,Z_=C.add_sort_field,x_=C.sort,ev=C.status,tv=C.remove,nv=C.toggle_manual_sorting,lv=C.bookmark_doesnt_exist,av=C.bookmark_doesnt_exist_copy,ov=C.bookmark_doesnt_exist_cta,iv=C.select_an_item,sv=C.edit,rv=C.enabled,dv=C.disable_tfa,uv=C.tfa_scan_code,cv=C.enter_otp_to_disable_tfa,pv=C.create_account,mv=C.account_created_successfully,fv=C.auto_fill,_v=C.corresponding_field,vv=C.errors,yv=C.security,gv=C.value_hashed,hv=C.bookmark_name,bv=C.create_bookmark,$v=C.edit_bookmark,kv=C.bookmarks,wv=C.presets,Cv=C.unexpected_error,Sv=C.unexpected_error_copy,Fv=C.copy_details,Vv=C.no_app_access,Ev=C.no_app_access_copy,Iv=C.password_reset_sent,Av=C.password_reset_successful,Dv=C.back,Ov=C.filter,Pv=C.editing_image,Tv=C.square,Lv=C.free,jv=C.flip_horizontal,Rv=C.flip_vertical,Mv=C.aspect_ratio,Uv=C.rotate,Nv=C.all_users,Bv=C.delete_collection,qv=C.update_collection_success,zv=C.delete_collection_success,Kv=C.make_collection_visible,Wv=C.make_collection_hidden,Hv=C.start_end_of_count_items,Gv=C.start_end_of_count_filtered_items,Qv=C.one_item,Xv=C.one_filtered_item,Jv=C.delete_collection_are_you_sure,Yv=C.collections_shown,Zv=C.visible_collections,xv=C.hidden_collections,ey=C.show_hidden_collections,ty=C.hide_hidden_collections,ny=C.show_header,ly=C.unmanaged_collections,ay=C.system_collections,oy=C.placeholder,iy=C.icon_left,sy=C.icon_right,ry=C.count_other_revisions,dy=C.font,uy=C.sans_serif,cy=C.serif,py=C.monospace,my=C.divider,fy=C.color,_y=C.circle,vy=C.empty_item,yy=C.log_in_with,gy=C.conditional_styles,hy=C.advanced_settings,by=C.advanced_filter,$y=C.delete_advanced_filter,ky=C.change_advanced_filter_operator,wy=C.operators,Cy=C.loading,Sy=C.drop_to_upload,Fy=C.item,Vy=C.items,Ey=C.upload_file,Iy=C.upload_file_indeterminate,Ay=C.upload_file_success,Dy=C.upload_files_indeterminate,Oy=C.upload_files_success,Py=C.upload_pending,Ty=C.drag_file_here,Ly=C.click_to_browse,jy=C.interface_options,Ry=C.layout_options,My=C.rows,Uy=C.columns,Ny=C.collection_setup,By=C.optional_system_fields,qy=C.value_unique,zy=C.all_activity,Ky=C.create_item,Wy=C.display_template,Hy=C.language_display_template,Gy=C.translations_display_template,Qy=C.n_items_selected,Xy=C.per_page,Jy=C.all_files,Yy=C.my_files,Zy=C.recent_files,xy=C.create_folder,eg=C.edit_folder,tg=C.folder_name,ng=C.folder_key,lg=C.add_file,ag=C.replace_file,og=C.no_results,ig=C.no_results_copy,sg=C.clear_filters,rg=C.saves_automatically,dg=C.role,ug=C.rule,cg=C.user,pg=C.no_presets,mg=C.no_presets_copy,fg=C.no_presets_cta,_g=C.presets_only,vg=C.create,yg=C.on_create,gg=C.on_update,hg=C.read,bg=C.update,$g=C.select_fields,kg=C.format_text,wg=C.format_value,Cg=C.abbreviate_value,Sg=C.operator,Fg=C.bold,Vg=C.toggle,Eg=C.icon_on,Ig=C.icon_off,Ag=C.label,Dg=C.insights,Og=C.dashboard,Pg=C.panel,Tg=C.panel_options,Lg=C.panel_header,jg=C.panel_name_placeholder,Rg=C.panel_note_placeholder,Mg=C.panel_delete_confirm,Ug=C.dashboard_delete_confirm,Ng=C.edit_dashboard,Bg=C.delete_dashboard,qg=C.visible,zg=C.prefix_placeholder,Kg=C.suffix_placeholder,Wg=C.decimals_placeholder,Hg=C.no_dashboards,Gg=C.no_dashboards_copy,Qg=C.no_data,Xg=C.create_dashboard,Jg=C.dashboard_name,Yg=C.full_screen,Zg=C.edit_panels,xg=C.fit_to_screen,eh=C.image_url,th=C.alt_text,nh=C.media,lh=C.quality,ah=C.width,oh=C.height,ih=C.source,sh=C.url_placeholder,rh=C.display_text,dh=C.display_text_placeholder,uh=C.tooltip,ch=C.tooltip_placeholder,ph=C.unlimited,mh=C.open_link_in,fh=C.new_tab,_h=C.current_tab,vh=C.wysiwyg_options,yh=C.dropdown,gh=C.choices,hh=C.choices_option_configured_incorrectly,bh=C.deselect,$h=C.deselect_all,kh=C.other,wh=C.adding_user,Ch=C.unknown_user,Sh=C.creating_in,Fh=C.editing_in,Vh=C.creating_unit,Eh=C.editing_unit,Ih=C.editing_in_batch,Ah=C.no_options_available,Dh=C.settings_data_model,Oh=C.settings_permissions,Ph=C.settings_project,Th=C.settings_webhooks,Lh=C.settings_presets,jh=C.one_or_more_options_are_missing,Rh=C.scope,Mh=C.select,Uh=C.layout,Nh=C.tree_view,Bh=C.changes_are_permanent,qh=C.preset_name_placeholder,zh=C.preset_search_placeholder,Kh=C.editing_preset,Wh=C.layout_preview,Hh=C.layout_setup,Gh=C.unsaved_changes,Qh=C.unsaved_changes_copy,Xh=C.discard_changes,Jh=C.discard_changes_copy,Yh=C.show_x_axis,Zh=C.show_y_axis,xh=C.keep_editing,eb=C.page_help_collections_overview,tb=C.page_help_collections_collection,nb=C.page_help_collections_item,lb=C.page_help_activity_collection,ab=C.page_help_docs_global,ob=C.page_help_files_collection,ib=C.page_help_files_item,sb=C.page_help_settings_project,rb=C.page_help_settings_datamodel_collections,db=C.page_help_settings_datamodel_fields,ub=C.page_help_settings_roles_collection,cb=C.page_help_settings_roles_item,pb=C.page_help_settings_presets_collection,mb=C.page_help_settings_presets_item,fb=C.page_help_settings_webhooks_collection,_b=C.page_help_settings_webhooks_item,vb=C.page_help_users_collection,yb=C.page_help_users_item,gb=C.page_help_insights_overview,hb=C.page_help_insights_dashboard,bb=C.activity_feed,$b=C.add_new,kb=C.create_new,wb=C.all,Cb=C.none,Sb=C.no_layout_collection_selected_yet,Fb=C.batch_delete_confirm,Vb=C.cancel,Eb=C.no_upscale,Ib=C.collection,Ab=C.collections,Db=C.singleton,Ob=C.singleton_label,Pb=C.system_fields_locked,Tb=C.directus_collection,Lb=C.fields,jb=C.field_options,Rb=C.no_fields_in_collection,Mb=C.no_value,Ub=C.do_nothing,Nb=C.generate_and_save_uuid,Bb=C.save_current_user_id,qb=C.save_current_user_role,zb=C.save_current_datetime,Kb=C.always_open,Wb=C.start_open,Hb=C.start_collapsed,Gb=C.block,Qb=C.inline,Xb=C.comment,Jb=C.relational_triggers,Yb=C.referential_action_field_label_m2o,Zb=C.referential_action_field_label_o2m,xb=C.referential_action_no_action,e0=C.referential_action_cascade,t0=C.referential_action_set_null,n0=C.referential_action_set_default,l0=C.choose_action,a0=C.continue_label,o0=C.continue_as,i0=C.editing_role,s0=C.creating_webhook,r0=C.default_label,d0=C.delete_label,u0=C.delete_are_you_sure,c0=C.delete_field_are_you_sure,p0=C.description,m0=C.done,f0=C.duplicate,_0=C.limit,v0=C.email,y0=C.embed,g0=C.fallback_icon,h0=C.field,b0=C.file,$0=C.file_library,k0=C.forgot_password,w0=C.hidden,C0=C.icon,S0=C.info,F0=C.normal,V0=C.success,E0=C.warning,I0=C.danger,A0=C.junction_collection,D0=C.latency,O0=C.login,P0=C.my_activity,T0=C.not_authenticated,L0=C.authenticated,j0=C.options,R0=C.otp,M0=C.password,U0=C.permissions,N0=C.relationship,B0=C.reset,q0=C.reset_password,z0=C.revisions,K0=C.revert,W0=C.save,H0=C.schema,G0=C.search,Q0=C.select_existing,X0=C.select_field_type,J0=C.select_interface,Y0=C.settings,Z0=C.sign_in,x0=C.sign_out,e1=C.sign_out_confirm,t1=C.something_went_wrong,n1=C.sort_direction,l1=C.sort_asc,a1=C.sort_desc,o1=C.template,i1=C.require_value_to_be_set,s1=C.translation,r1=C.translation_placeholder,d1=C.value,u1=C.view_project,c1=C.weeks,p1=C.report_error,m1=C.start,f1=C.interfaces,_1=C.displays,v1=C.layouts,y1=C.panels,g1=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:C,avatar:Vr,default_provider:Er,published:Ir,draft:Ar,archived:Dr,modules:Or,module_bar:Pr,tile_size:Tr,edit_field:Lr,conditions:jr,maps:Rr,item_creation:Mr,item_revision:Ur,enter_a_name:Nr,duplicate_field:Br,half_width:qr,full_width:zr,group:Kr,and:Wr,or:Hr,fill_width:Gr,field_name_translations:Qr,enter_password_to_enable_tfa:Xr,add_field:Jr,role_name:Yr,branch:Zr,leaf:xr,indeterminate:ed,edit_collection:td,exclusive:nd,children:ld,db_only_click_to_configure:ad,show_archived_items:od,edited:id,required:sd,required_for_app_access:rd,requires_value:dd,create_preset:ud,create_panel:cd,create_role:pd,create_user:md,delete_panel:fd,create_webhook:_d,invite_users:vd,invite:yd,email_already_invited:gd,emails:hd,connection_excellent:bd,connection_good:$d,connection_fair:kd,connection_poor:wd,primary:Cd,rename_folder:Sd,delete_folder:Fd,prefix:Vd,suffix:Ed,reset_bookmark:Id,rename_bookmark:Ad,update_bookmark:Dd,delete_bookmark:Od,delete_bookmark_copy:Pd,logoutReason:Td,public_label:Ld,public_description:jd,not_allowed:Rd,directus_version:Md,node_version:Ud,node_uptime:Nd,os_type:Bd,os_version:qd,os_uptime:zd,os_totalmem:Kd,archive:Wd,archive_confirm:Hd,archive_confirm_count:Gd,reset_system_permissions_to:Qd,reset_system_permissions_copy:Xd,the_following_are_minimum_permissions:Jd,app_access_minimum:Yd,recommended_defaults:Zd,unarchive:xd,unarchive_confirm:eu,nested_files_folders_will_be_moved:tu,unknown_validation_errors:nu,validationError:lu,all_access:au,no_access:ou,use_custom:iu,nullable:su,allow_null_value:ru,allow_multiple:du,allow_multiple_to_be_open:uu,enter_value_to_replace_nulls:cu,field_standard:pu,field_presentation:mu,field_file:fu,field_files:_u,field_m2o:vu,field_m2a:yu,field_o2m:gu,field_m2m:hu,field_translations:bu,field_group:$u,item_permissions:ku,field_permissions:wu,field_validation:Cu,field_presets:Su,permissions_for_role:Fu,fields_for_role:Vu,validation_for_role:Eu,presets_for_role:Iu,presentation_and_aliases:Au,revision_post_create:Du,revision_post_update:Ou,changes_made:Pu,no_relational_data:Tu,hide_field_on_detail:Lu,show_field_on_detail:ju,delete_field:Ru,fields_and_layout:Mu,field_create_success:Uu,field_update_success:Nu,duplicate_where_to:Bu,language:qu,aggregate_function:zu,aggregate_precision:Ku,group_aggregation:Wu,group_precision:Hu,global:Gu,admins_have_all_permissions:Qu,camera:Xu,show_zero:Ju,sum:Yu,sum_distinct:Zu,avg:xu,avg_distinct:ec,count:tc,count_distinct:nc,min:lc,max:ac,exposure:oc,shutter:ic,iso:sc,focal_length:rc,schema_setup_key:dc,create_field:uc,creating_new_field:cc,field_in_collection:pc,reset_page_preferences:mc,hidden_field:fc,hidden_on_detail:_c,disabled_editing_value:vc,key:yc,alias:gc,bigInteger:hc,boolean:bc,date:$c,date_range:kc,datetime:wc,precision:Cc,decimal:Sc,float:Fc,integer:Vc,json:Ec,xml:Ic,string:Ac,text:Dc,time:Oc,timestamp:Pc,uuid:Tc,hash:Lc,geometry:jc,not_available_for_type:Rc,create_translations:Mc,auto_refresh:Uc,refresh_interval:Nc,no_refresh:Bc,refresh_interval_seconds:qc,refresh_interval_minutes:zc,auto_generate:Kc,this_will_auto_setup_fields_relations:Wc,click_here:Hc,to_manually_setup_translations:Gc,click_to_manage_translated_fields:Qc,fields_group:Xc,no_collections_found:Jc,new_data_alert:Yc,search_collection:Zc,new_field:xc,new_collection:ep,add_m2o_to_collection:tp,add_o2m_to_collection:np,add_m2m_to_collection:lp,choose_a_type:ap,determined_by_relationship:op,add_note:ip,add_link:sp,custom_link:rp,default_value:dp,standard_field:up,single_file:cp,multiple_files:pp,m2o_relationship:mp,o2m_relationship:fp,m2m_relationship:_p,m2a_relationship:vp,invalid_item:yp,next:gp,field_name:hp,translations:bp,no_translations:$p,note:kp,enter_a_value:wp,enter_a_placeholder:Cp,length:Sp,precision_scale:Fp,readonly:Vp,unique:Ep,updated_on:Ip,updated_by:Ap,primary_key:Dp,foreign_key:Op,finish_setup:Pp,dismiss:Tp,raw_value:Lp,edit_raw_value:jp,enter_raw_value:Rp,clear_value:Mp,clear_changes:Up,reset_to_default:Np,undo_changes:Bp,notifications:qp,show_all_activity:zp,page_not_found:Kp,page_not_found_body:Wp,confirm_revert:Hp,confirm_revert_body:Gp,display:Qp,settings_update_success:Xp,title:Jp,revision_delta_created:Yp,revision_delta_created_externally:Zp,revision_delta_updated:xp,revision_delta_deleted:em,revision_delta_reverted:tm,revision_delta_other:nm,revision_delta_by:lm,private_user:am,creation_preview:om,revision_preview:im,updates_made:sm,leave_comment:rm,post_comment_success:dm,item_create_success:um,item_update_success:cm,item_delete_success:pm,this_collection:mm,related_collection:fm,related_collections:_m,translations_collection:vm,languages_collection:ym,export_data:gm,format:hm,use_current_filters_settings:bm,export_collection:$m,last_page:km,last_access:wm,fill_template:Cm,a_unique_table_name:Sm,a_unique_column_name:Fm,enable_custom_values:Vm,submit:Em,move_to_folder:Im,move:Am,system:Dm,add_field_related:Om,interface_label:Pm,today:Tm,yesterday:Lm,delete_comment:jm,minutes:Rm,hours:Mm,month:Um,year:Nm,select_all:Bm,months:qm,drag_mode:zm,cancel_crop:Km,original:Wm,url:Hm,import_label:Gm,file_details:Qm,dimensions:Xm,size:Jm,created:Ym,modified:Zm,checksum:xm,owner:ef,edited_by:tf,folder:nf,zoom:lf,download:af,open:of,open_in_new_window:sf,open_folder:rf,foreground_color:df,background_color:uf,upload_from_device:cf,choose_from_library:pf,import_from_url:mf,replace_from_device:ff,replace_from_library:_f,replace_from_url:vf,no_file_selected:yf,download_file:gf,collection_key:hf,name:bf,primary_key_field:$f,type:kf,creating_new_collection:wf,created_by:Cf,created_on:Sf,creating_collection_info:Ff,creating_collection_system:Vf,auto_increment_integer:Ef,generated_uuid:If,manual_string:Af,save_and_create_new:Df,save_and_stay:Of,save_as_copy:Pf,add_existing:Tf,creating_items:Lf,enable_create_button:jf,selecting_items:Rf,enable_select_button:Mf,comments:Uf,no_comments:Nf,click_to_expand:Bf,select_item:qf,no_items:zf,search_items:Kf,disabled:Wf,information:Hf,report_bug:Gf,request_feature:Qf,interface_not_found:Xf,reset_interface:Jf,display_not_found:Yf,reset_display:Zf,item_count:xf,no_items_copy:e_,file_count:t_,no_files_copy:n_,user_count:l_,no_users_copy:a_,webhooks_count:o_,no_webhooks_copy:i_,all_items:s_,any:r_,csv:d_,no_collections:u_,create_collection:c_,no_collections_copy_admin:p_,no_collections_copy:m_,relationship_not_setup:f_,display_template_not_setup:__,collection_field_not_setup:v_,select_a_collection:y_,select_a_field:g_,active:h_,move_to:b_,copy:$_,copy_to:k_,no_other_dashboards_copy:w_,inactive:C_,users:S_,activity:F_,activity_item:V_,action:E_,ip_address:I_,user_agent:A_,webhooks:D_,decimals:O_,value_decimals:P_,min_value:T_,max_value:L_,automatic:j_,field_width:R_,add_filter:M_,upper_limit:U_,lower_limit:N_,user_directory:B_,documentation:q_,sidebar:z_,duration:K_,charset:W_,second:H_,file_moved:G_,collection_created:Q_,modified_on:X_,card_size:J_,sort_field:Y_,add_sort_field:Z_,sort:x_,status:ev,remove:tv,toggle_manual_sorting:nv,bookmark_doesnt_exist:lv,bookmark_doesnt_exist_copy:av,bookmark_doesnt_exist_cta:ov,select_an_item:iv,edit:sv,enabled:rv,disable_tfa:dv,tfa_scan_code:uv,enter_otp_to_disable_tfa:cv,create_account:pv,account_created_successfully:mv,auto_fill:fv,corresponding_field:_v,errors:vv,security:yv,value_hashed:gv,bookmark_name:hv,create_bookmark:bv,edit_bookmark:$v,bookmarks:kv,presets:wv,unexpected_error:Cv,unexpected_error_copy:Sv,copy_details:Fv,no_app_access:Vv,no_app_access_copy:Ev,password_reset_sent:Iv,password_reset_successful:Av,back:Dv,filter:Ov,editing_image:Pv,square:Tv,free:Lv,flip_horizontal:jv,flip_vertical:Rv,aspect_ratio:Mv,rotate:Uv,all_users:Nv,delete_collection:Bv,update_collection_success:qv,delete_collection_success:zv,make_collection_visible:Kv,make_collection_hidden:Wv,start_end_of_count_items:Hv,start_end_of_count_filtered_items:Gv,one_item:Qv,one_filtered_item:Xv,delete_collection_are_you_sure:Jv,collections_shown:Yv,visible_collections:Zv,hidden_collections:xv,show_hidden_collections:ey,hide_hidden_collections:ty,show_header:ny,unmanaged_collections:ly,system_collections:ay,placeholder:oy,icon_left:iy,icon_right:sy,count_other_revisions:ry,font:dy,sans_serif:uy,serif:cy,monospace:py,divider:my,color:fy,circle:_y,empty_item:vy,log_in_with:yy,conditional_styles:gy,advanced_settings:hy,advanced_filter:by,delete_advanced_filter:$y,change_advanced_filter_operator:ky,operators:wy,loading:Cy,drop_to_upload:Sy,item:Fy,items:Vy,upload_file:Ey,upload_file_indeterminate:Iy,upload_file_success:Ay,upload_files_indeterminate:Dy,upload_files_success:Oy,upload_pending:Py,drag_file_here:Ty,click_to_browse:Ly,interface_options:jy,layout_options:Ry,rows:My,columns:Uy,collection_setup:Ny,optional_system_fields:By,value_unique:qy,all_activity:zy,create_item:Ky,display_template:Wy,language_display_template:Hy,translations_display_template:Gy,n_items_selected:Qy,per_page:Xy,all_files:Jy,my_files:Yy,recent_files:Zy,create_folder:xy,edit_folder:eg,folder_name:tg,folder_key:ng,add_file:lg,replace_file:ag,no_results:og,no_results_copy:ig,clear_filters:sg,saves_automatically:rg,role:dg,rule:ug,user:cg,no_presets:pg,no_presets_copy:mg,no_presets_cta:fg,presets_only:_g,create:vg,on_create:yg,on_update:gg,read:hg,update:bg,select_fields:$g,format_text:kg,format_value:wg,abbreviate_value:Cg,operator:Sg,bold:Fg,toggle:Vg,icon_on:Eg,icon_off:Ig,label:Ag,insights:Dg,dashboard:Og,panel:Pg,panel_options:Tg,panel_header:Lg,panel_name_placeholder:jg,panel_note_placeholder:Rg,panel_delete_confirm:Mg,dashboard_delete_confirm:Ug,edit_dashboard:Ng,delete_dashboard:Bg,visible:qg,prefix_placeholder:zg,suffix_placeholder:Kg,decimals_placeholder:Wg,no_dashboards:Hg,no_dashboards_copy:Gg,no_data:Qg,create_dashboard:Xg,dashboard_name:Jg,full_screen:Yg,edit_panels:Zg,fit_to_screen:xg,image_url:eh,alt_text:th,media:nh,quality:lh,width:ah,height:oh,source:ih,url_placeholder:sh,display_text:rh,display_text_placeholder:dh,tooltip:uh,tooltip_placeholder:ch,unlimited:ph,open_link_in:mh,new_tab:fh,current_tab:_h,wysiwyg_options:vh,dropdown:yh,choices:gh,choices_option_configured_incorrectly:hh,deselect:bh,deselect_all:$h,other:kh,adding_user:wh,unknown_user:Ch,creating_in:Sh,editing_in:Fh,creating_unit:Vh,editing_unit:Eh,editing_in_batch:Ih,no_options_available:Ah,settings_data_model:Dh,settings_permissions:Oh,settings_project:Ph,settings_webhooks:Th,settings_presets:Lh,one_or_more_options_are_missing:jh,scope:Rh,select:Mh,layout:Uh,tree_view:Nh,changes_are_permanent:Bh,preset_name_placeholder:qh,preset_search_placeholder:zh,editing_preset:Kh,layout_preview:Wh,layout_setup:Hh,unsaved_changes:Gh,unsaved_changes_copy:Qh,discard_changes:Xh,discard_changes_copy:Jh,show_x_axis:Yh,show_y_axis:Zh,keep_editing:xh,page_help_collections_overview:eb,page_help_collections_collection:tb,page_help_collections_item:nb,page_help_activity_collection:lb,page_help_docs_global:ab,page_help_files_collection:ob,page_help_files_item:ib,page_help_settings_project:sb,page_help_settings_datamodel_collections:rb,page_help_settings_datamodel_fields:db,page_help_settings_roles_collection:ub,page_help_settings_roles_item:cb,page_help_settings_presets_collection:pb,page_help_settings_presets_item:mb,page_help_settings_webhooks_collection:fb,page_help_settings_webhooks_item:_b,page_help_users_collection:vb,page_help_users_item:yb,page_help_insights_overview:gb,page_help_insights_dashboard:hb,activity_feed:bb,add_new:$b,create_new:kb,all:wb,none:Cb,no_layout_collection_selected_yet:Sb,batch_delete_confirm:Fb,cancel:Vb,no_upscale:Eb,collection:Ib,collections:Ab,singleton:Db,singleton_label:Ob,system_fields_locked:Pb,directus_collection:Tb,fields:Lb,field_options:jb,no_fields_in_collection:Rb,no_value:Mb,do_nothing:Ub,generate_and_save_uuid:Nb,save_current_user_id:Bb,save_current_user_role:qb,save_current_datetime:zb,always_open:Kb,start_open:Wb,start_collapsed:Hb,block:Gb,inline:Qb,comment:Xb,relational_triggers:Jb,referential_action_field_label_m2o:Yb,referential_action_field_label_o2m:Zb,referential_action_no_action:xb,referential_action_cascade:e0,referential_action_set_null:t0,referential_action_set_default:n0,choose_action:l0,continue_label:a0,continue_as:o0,editing_role:i0,creating_webhook:s0,default_label:r0,delete_label:d0,delete_are_you_sure:u0,delete_field_are_you_sure:c0,description:p0,done:m0,duplicate:f0,limit:_0,email:v0,embed:y0,fallback_icon:g0,field:h0,file:b0,file_library:$0,forgot_password:k0,hidden:w0,icon:C0,info:S0,normal:F0,success:V0,warning:E0,danger:I0,junction_collection:A0,latency:D0,login:O0,my_activity:P0,not_authenticated:T0,authenticated:L0,options:j0,otp:R0,password:M0,permissions:U0,relationship:N0,reset:B0,reset_password:q0,revisions:z0,revert:K0,save:W0,schema:H0,search:G0,select_existing:Q0,select_field_type:X0,select_interface:J0,settings:Y0,sign_in:Z0,sign_out:x0,sign_out_confirm:e1,something_went_wrong:t1,sort_direction:n1,sort_asc:l1,sort_desc:a1,template:o1,require_value_to_be_set:i1,translation:s1,translation_placeholder:r1,value:d1,view_project:u1,weeks:c1,report_error:p1,start:m1,interfaces:f1,displays:_1,layouts:v1,panels:y1});const We=zi({legacy:!1,locale:"en-US",fallbackLocale:"en-US",messages:{"en-US":C},silentTranslationWarn:!0,datetimeFormats:Sr,numberFormats:Fr}),to=["en-US"];function bn(e){var c,i,s,r,p;const t=We.global.t("unexpected_error");let o=e;if(typeof e=="object"&&(o=(p=(r=(s=(i=(c=e==null?void 0:e.response)==null?void 0:c.data)==null?void 0:i.errors)==null?void 0:s[0])==null?void 0:r.extensions)==null?void 0:p.code),!e||!o===void 0)return t;const l=`errors.${o}`;return We.global.te(l)===!1?t:We.global.t(l)}function St(e){const t=H.exports.cloneDeep(e);return Object.entries(t).forEach(([o,l])=>{l&&typeof l=="object"&&(t[o]=St(l)),l&&typeof l=="string"&&l.startsWith("$t:")&&(t[o]=We.global.t(l.replace("$t:","")))}),t}var no={"af-ZA":"Afrikaans (South Africa)","ar-SA":"Arabic (Saudi Arabia)","bn-IN":"Bengali (India)","br-FR":"Breton (France)","bg-BG":"Bulgarian (Bulgaria)","ca-ES":"Catalan (Spain)","zh-CN":"Chinese (Simplified)","cs-CZ":"Czech (Czech Republic)","da-DK":"Danish (Denmark)","nl-NL":"Dutch (Netherlands)","en-US":"English (United States)","et-EE":"Estonian (Estonia)","fi-FI":"Finnish (Finland)","fr-FR":"French (France)","ka-GE":"Georgian (Georgia)","de-DE":"German (Germany)","el-GR":"Greek (Greece)","he-IL":"Hebrew (Israel)","hi-IN":"Hindi (India)","hu-HU":"Hungarian (Hungary)","is-IS":"Icelandic (Iceland)","id-ID":"Indonesian (Indonesia)","it-IT":"Italian (Italy)","ja-JP":"Japanese (Japan)","ko-KR":"Korean (Korea)","lt-LT":"Lithuanian (Lithuania)","ms-MY":"Malay (Malaysia)","no-NO":"Norwegian (Norway)","fa-IR":"Farci (Iran)","pl-PL":"Polish (Poland)","pt-BR":"Portuguese (Brazil)","pt-PT":"Portuguese (Portugal)","ro-RO":"Romanian (Romania)","ru-RU":"Russian (Russian Federation)","sr-SP":"Serbian (Cyrillic) (Serbia and Montenegro)","sr-CS":"Serbian (Latin) (Serbia and Montenegro)","si-LK":"Sinhala (Sri Lanka)","sk-SK":"Slovak (Slovakia)","sl-SI":"Slovenian (Slovenia)","es-ES":"Spanish (Spain)","es-419":"Spanish (Latin America)","es-cl":"Spanish (Chile)","sv-SE":"Swedish (Sweden)","zh-TW":"Taiwanese Mandarin (Taiwan)","th-TH":"Thai (Thailand)","tr-TR":"Turkish (Turkey)","uk-UA":"Ukrainian (Ukraine)","vi-VN":"Vietnamese (Vietnam)"};function h1(e){switch(e){case"./translations/af-ZA.yaml":return j(()=>import("./assets/af-ZA.5bc87dbc.js"),[]);case"./translations/ar-SA.yaml":return j(()=>import("./assets/ar-SA.a371322c.js"),[]);case"./translations/bg-BG.yaml":return j(()=>import("./assets/bg-BG.2207fa74.js"),[]);case"./translations/bn-IN.yaml":return j(()=>import("./assets/bn-IN.4b03e908.js"),[]);case"./translations/br-FR.yaml":return j(()=>import("./assets/br-FR.4052e8cf.js"),[]);case"./translations/ca-ES.yaml":return j(()=>import("./assets/ca-ES.3d1b82be.js"),[]);case"./translations/cs-CZ.yaml":return j(()=>import("./assets/cs-CZ.d7386f11.js"),[]);case"./translations/da-DK.yaml":return j(()=>import("./assets/da-DK.ba7d92ab.js"),[]);case"./translations/de-DE.yaml":return j(()=>import("./assets/de-DE.931c545a.js"),[]);case"./translations/el-GR.yaml":return j(()=>import("./assets/el-GR.aed67eec.js"),[]);case"./translations/en-US.yaml":return j(()=>Promise.resolve().then(function(){return g1}),void 0);case"./translations/es-419.yaml":return j(()=>import("./assets/es-419.3f7515fe.js"),[]);case"./translations/es-CL.yaml":return j(()=>import("./assets/es-CL.2f4a0192.js"),[]);case"./translations/es-ES.yaml":return j(()=>import("./assets/es-ES.19ff6dd8.js"),[]);case"./translations/et-EE.yaml":return j(()=>import("./assets/et-EE.3a774751.js"),[]);case"./translations/fa-IR.yaml":return j(()=>import("./assets/fa-IR.80f66fbe.js"),[]);case"./translations/fi-FI.yaml":return j(()=>import("./assets/fi-FI.e39eaaab.js"),[]);case"./translations/fr-FR.yaml":return j(()=>import("./assets/fr-FR.37e1725b.js"),[]);case"./translations/he-IL.yaml":return j(()=>import("./assets/he-IL.c8bffba0.js"),[]);case"./translations/hi-IN.yaml":return j(()=>import("./assets/hi-IN.efa784fd.js"),[]);case"./translations/hu-HU.yaml":return j(()=>import("./assets/hu-HU.5d357355.js"),[]);case"./translations/id-ID.yaml":return j(()=>import("./assets/id-ID.1e1ce3d0.js"),[]);case"./translations/is-IS.yaml":return j(()=>import("./assets/is-IS.35706417.js"),[]);case"./translations/it-IT.yaml":return j(()=>import("./assets/it-IT.8d1cfb8e.js"),[]);case"./translations/ja-JP.yaml":return j(()=>import("./assets/ja-JP.219f4ba2.js"),[]);case"./translations/ka-GE.yaml":return j(()=>import("./assets/ka-GE.eff8ef9c.js"),[]);case"./translations/ko-KR.yaml":return j(()=>import("./assets/ko-KR.735832c7.js"),[]);case"./translations/lt-LT.yaml":return j(()=>import("./assets/lt-LT.aaaba724.js"),[]);case"./translations/mn-MN.yaml":return j(()=>import("./assets/mn-MN.4a40eb3e.js"),[]);case"./translations/ms-MY.yaml":return j(()=>import("./assets/ms-MY.7729b3c2.js"),[]);case"./translations/nl-NL.yaml":return j(()=>import("./assets/nl-NL.8ff33a4a.js"),[]);case"./translations/no-NO.yaml":return j(()=>import("./assets/no-NO.4b695e2a.js"),[]);case"./translations/pl-PL.yaml":return j(()=>import("./assets/pl-PL.aa42a8e3.js"),[]);case"./translations/pt-BR.yaml":return j(()=>import("./assets/pt-BR.6f6696b5.js"),[]);case"./translations/pt-PT.yaml":return j(()=>import("./assets/pt-PT.09821f88.js"),[]);case"./translations/ro-RO.yaml":return j(()=>import("./assets/ro-RO.5d125b41.js"),[]);case"./translations/ru-RU.yaml":return j(()=>import("./assets/ru-RU.584918bc.js"),[]);case"./translations/si-LK.yaml":return j(()=>import("./assets/si-LK.2e97c6ef.js"),[]);case"./translations/sk-SK.yaml":return j(()=>import("./assets/sk-SK.8e0ff1f5.js"),[]);case"./translations/sl-SI.yaml":return j(()=>import("./assets/sl-SI.618a70c0.js"),[]);case"./translations/sr-CS.yaml":return j(()=>import("./assets/sr-CS.1840c0db.js"),[]);case"./translations/sr-SP.yaml":return j(()=>import("./assets/sr-SP.14a7c9db.js"),[]);case"./translations/sv-SE.yaml":return j(()=>import("./assets/sv-SE.9c2ab926.js"),[]);case"./translations/th-TH.yaml":return j(()=>import("./assets/th-TH.0289b52a.js"),[]);case"./translations/tr-TR.yaml":return j(()=>import("./assets/tr-TR.6bfa1c23.js"),[]);case"./translations/uk-UA.yaml":return j(()=>import("./assets/uk-UA.7ce8bb3e.js"),[]);case"./translations/vi-VN.yaml":return j(()=>import("./assets/vi-VN.f5523824.js"),[]);case"./translations/zh-CN.yaml":return j(()=>import("./assets/zh-CN.c589f085.js"),[]);case"./translations/zh-TW.yaml":return j(()=>import("./assets/zh-TW.49a10869.js"),[]);default:return new Promise(function(t,o){(typeof queueMicrotask=="function"?queueMicrotask:setTimeout)(o.bind(null,new Error("Unknown variable dynamic import: "+e)))})}}const{modules:b1,modulesRaw:$1}=Hl(),{layouts:k1,layoutsRaw:w1}=rn(),{interfaces:C1,interfacesRaw:S1}=Rt(),{panels:F1,panelsRaw:V1}=yl(),{displays:E1,displaysRaw:I1}=sn();async function lo(e){const t=qe(),o=ze();if(Object.keys(no).includes(e)===!1)console.warn(`"${e}" is not an available language in the Directus app.`);else{if(to.includes(e)===!1)try{const l=await h1(`./translations/${e}.yaml`);We.global.mergeLocaleMessage(e,l),to.push(e)}catch(l){console.warn(l)}We.global.locale.value=e,document.querySelector("html").setAttribute("lang",e)}return b1.value=St($1.value),k1.value=St(w1.value),C1.value=St(S1.value),F1.value=St(V1.value),E1.value=St(I1.value),t.translateCollections(),o.translateFields(),!0}function A1(e,t){var o;e=H.exports.clone(e);const l=/^((?:-|\+)?\d*?\.?\d+?) *?(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|months?|mth|mo|years?|yrs?|y)?$/i.exec(t.trim());if(!l||!l[1])return;const d=parseFloat(l[1]);switch(((o=l[2])!==null&&o!==void 0?o:"days").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return Yi(e,d);case"months":case"month":case"mth":case"mo":return Ji(e,d);case"weeks":case"week":case"w":return Xi(e,d);case"days":case"day":case"d":return Qi(e,d);case"hours":case"hour":case"hrs":case"hr":case"h":return Gi(e,d);case"minutes":case"minute":case"mins":case"min":case"m":return Hi(e,d);case"seconds":case"second":case"secs":case"sec":case"s":return Wi(e,d);case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return Ki(e,d);default:return}}function Bn(e,t,o){if(Array.isArray(e))return e.map(function(l,d){return H.exports.isObjectLike(l)?Bn(l,t,o):t.call(o,l,d)});if(H.exports.isObjectLike(e)){const l={};for(const d in e){const c=e[d];H.exports.isObjectLike(c)?l[d]=Bn(c,t,o):l[d]=t.call(o,c,d)}return l}else return e}function D1(e){return e.schema?"table":e.meta?"alias":"unknown"}function O1(e){switch(e){case"binary":case"hash":case"string":case"csv":return["contains","ncontains","starts_with","nstarts_with","ends_with","nends_with","eq","neq","empty","nempty","null","nnull","in","nin"];case"uuid":return["eq","neq","null","nnull","in","nin"];case"json":return["null","nnull"];case"boolean":return["eq","neq","null","nnull"];case"bigInteger":case"integer":case"decimal":case"float":return["eq","neq","lt","lte","gt","gte","between","nbetween","null","nnull","in","nin"];case"dateTime":case"date":case"time":return["eq","neq","null","nnull","lt","lte","gt","gte","between","nbetween","null","nnull","in","nin"];case"geometry":return["null","nnull","intersects","nintersects","intersects_bbox","nintersects_bbox"];default:return["eq","neq","lt","lte","gt","gte","contains","ncontains","between","nbetween","empty","nempty","null","nnull","in","nin"]}}const P1=["alias","bigInteger","boolean","date","dateTime","decimal","float","integer","json","string","text","time","timestamp","binary","uuid","hash","csv","geometry","unknown"],ao=["Point","LineString","Polygon","MultiPoint","MultiLineString","MultiPolygon"],T1=/\(([^)]+)\)/;function gl(e,t,o="and"){return e?t?{[`_${o}`]:[e,t]}:e:t}function hl(e){return typeof e=="string"?e.split(","):Array.isArray(e)?e:[e]}function L1(e,t){if(!e)return e;return Bn(e,o);function o(l,d){var c;if(l==="true")return!0;if(l==="false")return!1;if(l==="null"||l==="NULL")return null;if(["_in","_nin","_between","_nbetween"].includes(String(d)))return typeof l=="string"&&l.includes(",")?Bn(l.split(","),o):Bn(hl(l),o);if(l&&typeof l=="string"&&l.startsWith("$NOW")){if(l.includes("(")&&l.includes(")")){const i=(c=l.match(T1))===null||c===void 0?void 0:c[1];return i?A1(new Date,i):new Date}return new Date}return l==="$CURRENT_USER"?(t==null?void 0:t.user)||null:l==="$CURRENT_ROLE"?(t==null?void 0:t.role)||null:l}}function qn(e,t,o){const l=[];if(Object.keys(e)[0]==="_and"){const d=Object.values(e)[0],c=H.exports.flatten(d.map(i=>qn(i,t,o))).filter(i=>i);l.push(...c)}else if(Object.keys(e)[0]==="_or"){const d=Object.values(e)[0],c=H.exports.flatten(d.map(s=>qn(s,t,o)));d.length===c.length&&l.push(...c)}else{const d=rr(e,o),{error:c}=d.validate(t,{abortEarly:!1});c&&l.push(c)}return l}function Ft(e){return e.first_name&&e.last_name?`${e.first_name} ${e.last_name}`:e.first_name?e.first_name:e.email?e.email:We.global.t("unknown_user")}const xe=Vt({id:"userStore",state:()=>({currentUser:null,loading:!1,error:null}),getters:{fullName(){return this.currentUser===null?null:Ft(this.currentUser)},isAdmin(){var e;return((e=this.currentUser)==null?void 0:e.role.admin_access)===!0||!1}},actions:{async hydrate(){this.loading=!0;try{const{data:e}=await de.get("/users/me",{params:{fields:"*,avatar.id,role.*"}});this.currentUser=e.data}catch(e){this.error=e}finally{this.loading=!1}},async dehydrate(){this.$reset()},async trackPage(e){const t=wa(),o=performance.now();await de.patch("/users/me/track/page",{last_page:e});const l=performance.now();t.save({timestamp:new Date,latency:l-o}),this.currentUser&&(this.currentUser.last_page=e)}}});var q=(e,t)=>{for(const[o,l]of t)e[o]=l;return e};const j1=K({props:{filter:{type:Object,default:null}},emits:["update:filter"],setup(e,{emit:t}){const{t:o}=ae(),l=xe(),d=E(()=>{var p;return(p=l.currentUser)==null?void 0:p.id}),c=E(()=>{var p,f;return(f=Object.keys((p=e.filter)!=null?p:{})[0])!=null?f:null}),i=E(()=>{var p,f,v;return(v=(f=Object.values((p=e.filter)!=null?p:{})[0])==null?void 0:f._eq)!=null?v:null});return{t:o,currentUserID:d,setNavFilter:s,clearNavFilter:r,filterField:c,filterValue:i};function s(p,f){t("update:filter",{[p]:{_eq:f}})}function r(){t("update:filter",null)}}});function R1(e,t,o,l,d,c){const i=u("v-icon"),s=u("v-list-item-icon"),r=u("v-text-overflow"),p=u("v-list-item-content"),f=u("v-list-item"),v=u("v-divider"),_=u("v-list");return m(),F(_,{nav:""},{default:a(()=>[n(f,{clickable:"",active:!e.filterField,onClick:e.clearNavFilter},{default:a(()=>[n(s,null,{default:a(()=>[n(i,{name:"access_time"})]),_:1}),n(p,null,{default:a(()=>[n(r,{text:e.t("all_activity")},null,8,["text"])]),_:1})]),_:1},8,["active","onClick"]),n(f,{clickable:"",active:e.filterField==="user"&&e.filterValue===e.currentUserID,onClick:t[0]||(t[0]=y=>e.setNavFilter("user",e.currentUserID))},{default:a(()=>[n(s,null,{default:a(()=>[n(i,{name:"face"})]),_:1}),n(p,null,{default:a(()=>[n(r,{text:e.t("my_activity")},null,8,["text"])]),_:1})]),_:1},8,["active"]),n(v),n(f,{clickable:"",active:e.filterField==="action"&&e.filterValue==="create",onClick:t[1]||(t[1]=y=>e.setNavFilter("action","create"))},{default:a(()=>[n(s,null,{default:a(()=>[n(i,{name:"add"})]),_:1}),n(p,null,{default:a(()=>[n(r,{text:e.t("create")},null,8,["text"])]),_:1})]),_:1},8,["active"]),n(f,{clickable:"",active:e.filterField==="action"&&e.filterValue==="update",onClick:t[2]||(t[2]=y=>e.setNavFilter("action","update"))},{default:a(()=>[n(s,null,{default:a(()=>[n(i,{name:"check"})]),_:1}),n(p,null,{default:a(()=>[n(r,{text:e.t("update")},null,8,["text"])]),_:1})]),_:1},8,["active"]),n(f,{clickable:"",active:e.filterField==="action"&&e.filterValue==="delete",onClick:t[3]||(t[3]=y=>e.setNavFilter("action","delete"))},{default:a(()=>[n(s,null,{default:a(()=>[n(i,{name:"clear"})]),_:1}),n(p,null,{default:a(()=>[n(r,{text:e.t("delete_label")},null,8,["text"])]),_:1})]),_:1},8,["active"]),n(f,{clickable:"",active:e.filterField==="action"&&e.filterValue==="comment",onClick:t[4]||(t[4]=y=>e.setNavFilter("action","comment"))},{default:a(()=>[n(s,null,{default:a(()=>[n(i,{name:"chat_bubble_outline"})]),_:1}),n(p,null,{default:a(()=>[n(r,{text:e.t("comment")},null,8,["text"])]),_:1})]),_:1},8,["active"]),n(f,{clickable:"",active:e.filterField==="action"&&e.filterValue==="login",onClick:t[5]||(t[5]=y=>e.setNavFilter("action","login"))},{default:a(()=>[n(s,null,{default:a(()=>[n(i,{name:"login"})]),_:1}),n(p,null,{default:a(()=>[n(r,{text:e.t("login")},null,8,["text"])]),_:1})]),_:1},8,["active"])]),_:1})}var M1=q(j1,[["render",R1]]);function $n(e,t=D(null),o=!1){const l=On(),d=xe(),c=D(!1),i=E(()=>t.value?!!l.getBookmark(t.value):!1),s=D({});L();const r=D(!0),p=E(()=>s.value.user===d.currentUser.id),f=async T=>{if(o)return;c.value=!0;const U=await l.savePreset(T||s.value);return s.value=ye(X({},s.value),{id:U.id,user:U.user}),r.value=!0,c.value=!1,U},v=H.exports.debounce(async()=>{f()},450);function _(){if(i.value){const T=l.getBookmark(Number(t.value));r.value=H.exports.isEqual(s.value,T)}else v()}_e([e,t],()=>{L()});const y=E({get(){var T;return s.value.layout&&((T=s.value.layout_options)==null?void 0:T[s.value.layout])||null},set(T){if(!s.value.layout)return null;s.value=ye(X({},s.value),{layout_options:ye(X({},s.value.layout_options),{[s.value.layout]:T})}),_()}}),b=E({get(){var T;return s.value.layout&&((T=s.value.layout_query)==null?void 0:T[s.value.layout])||null},set(T){if(!s.value.layout)return null;s.value=ye(X({},s.value),{layout_query:ye(X({},s.value.layout_query),{[s.value.layout]:T})}),_()}}),w=E({get(){return s.value.layout||"tabular"},set(T){s.value=ye(X({},s.value),{layout:T}),_()}}),$=E({get(){var T;return(T=s.value.filter)!=null?T:null},set(T){s.value=ye(X({},s.value),{filter:T}),_()}}),k=E({get(){return s.value.refresh_interval||null},set(T){s.value=ye(X({},s.value),{refresh_interval:T}),_()}}),V=E({get(){return s.value.search||null},set(T){s.value=ye(X({},s.value),{search:T}),_()}}),g=E({get(){var T;return((T=s.value)==null?void 0:T.bookmark)||null},set(T){s.value=ye(X({},s.value),{bookmark:T}),f()}});return{bookmarkExists:i,layout:w,layoutOptions:y,layoutQuery:b,filter:$,search:V,refreshInterval:k,savePreset:f,saveCurrentAsBookmark:M,bookmarkTitle:g,resetPreset:R,bookmarkSaved:r,bookmarkIsMine:p,busy:c,clearLocalSave:A,localPreset:s};function A(){const T=l.getBookmark(Number(t.value));T&&(s.value=X({},T)),r.value=!0}async function R(){s.value=ye(X({},s.value),{layout_query:null,layout_options:null,layout:"tabular",filter:null,search:null,refresh_interval:null}),await f()}function L(){if(t.value===null)s.value=X({},l.getPresetForCollection(e.value));else{if(i.value===!1)return;s.value=X({},l.getBookmark(Number(t.value)))}s.value.layout||(s.value=ye(X({},s.value),{layout:"tabular"}))}async function M(T){const U=X(X({},s.value),T);return U.id&&delete U.id,U.user=d.currentUser.id,await f(U)}}const Gl="wrapper",oo=["selection","layoutOptions","layoutQuery"];function U1(e){return oo.includes(e)}function N1(e){return K({name:`${e.id}-${Gl}`,props:{collection:{type:String,required:!0},selection:{type:Array,default:()=>[]},layoutOptions:{type:Object,default:()=>({})},layoutQuery:{type:Object,default:()=>({})},filter:{type:Object,default:null},filterUser:{type:Object,default:null},filterSystem:{type:Object,default:null},search:{type:String,default:null},selectMode:{type:Boolean,default:!1},readonly:{type:Boolean,default:!1},resetPreset:{type:Function,default:null},clearFilters:{type:Function,default:null}},emits:oo.map(t=>`update:${t}`),setup(t,{emit:o}){const l=Bt(X(X({},e.setup(t,{emit:o})),Re(t)));for(const d in l)l[`onUpdate:${d}`]=c=>{U1(d)?o(`update:${d}`,c):Object.keys(t).includes(d)||(l[d]=c)};return{state:l}},render(t){return t.$slots.default!==void 0?t.$slots.default({layoutState:t.state}):null}})}function dn(e){const{layouts:t}=rn(),o=E(()=>t.value.map(d=>N1(d)));return{layoutWrapper:E(()=>{const d=o.value.find(c=>c.name===`${e.value}-${Gl}`);return d===void 0?o.value.find(c=>c.name===`tabular-${Gl}`):d})}}const B1=K({props:{modelValue:{type:String,default:"tabular"}},emits:["update:modelValue"],setup(e,{emit:t}){const{t:o}=ae(),{layouts:l}=rn(),d=E(()=>{const i=l.value.find(s=>s.id===e.modelValue);return i===void 0?l.value.find(s=>s.id==="tabular"):i}),c=Pe(e,"modelValue",t);return{t:o,currentLayout:d,layouts:l,layout:c}}}),q1={class:"layout-options"},z1={class:"field"},K1={class:"type-label"};function W1(e,t,o,l,d,c){const i=u("v-icon"),s=u("v-select"),r=u("sidebar-detail");return m(),F(r,{icon:"layers",title:e.t("layout_options")},{default:a(()=>[S("div",q1,[S("div",z1,[S("div",K1,h(e.t("layout")),1),n(s,{modelValue:e.layout,"onUpdate:modelValue":t[0]||(t[0]=p=>e.layout=p),items:e.layouts,"item-text":"name","item-value":"id","item-icon":"icon"},Ne({_:2},[e.currentLayout.icon?{name:"prepend",fn:a(()=>[n(i,{name:e.currentLayout.icon},null,8,["name"])])}:void 0]),1032,["modelValue","items"])]),$e(e.$slots,"default",{},void 0,!0)])]),_:3},8,["title"])}var zn=q(B1,[["render",W1],["__scopeId","data-v-0abace7d"]]);const H1=K({props:{modelValue:{type:String,default:null},collection:{type:String,required:!0},filter:{type:Object,default:null}},emits:["update:modelValue","update:filter"],setup(e,{emit:t}){const{t:o}=ae(),l=D(null),d=D(e.modelValue!==null),c=D(!1),i=D(!1);_e(d,_=>{_===!0&&l.value!==null&&l.value.focus()});const s=E(()=>{if(!e.filter)return 0;let _=[];return y(e.filter),_.length;function y(b){for(const[w,$]of Object.entries(b))w==="_and"||w==="_or"?$.forEach(y):w.startsWith("_")?_.push(w):H.exports.isObject($)&&y($)}}),r=H.exports.debounce(()=>v(),250);return{t:o,active:d,disable:f,input:l,emitValueDebounced:r,activeFilterCount:s,filterActive:c,onClickOutside:p,filterBorder:i};function p(_){return!(_.path||_.composedPath()).some(b=>{var w;return(w=b==null?void 0:b.classList)==null?void 0:w.contains("v-menu-content")})}function f(){d.value=!1,c.value=!1}function v(){var y;if(!l.value)return;const _=(y=l.value)==null?void 0:y.value;t("update:modelValue",_)}}}),G1=["value","placeholder"],Q1={class:"filter"};function X1(e,t,o,l,d,c){const i=u("v-icon"),s=u("interface-system-filter"),r=u("transition-expand"),p=u("v-badge"),f=Ce("tooltip"),v=Ce("click-outside");return m(),F(p,{bottom:"",right:"",class:"search-badge",value:e.activeFilterCount,disabled:!e.activeFilterCount||e.filterActive},{default:a(()=>[te(S("div",{class:re(["search-input",{active:e.active,"filter-active":e.filterActive,"has-content":!!e.modelValue,"filter-border":e.filterBorder}]),onClick:t[7]||(t[7]=_=>e.active=!0)},[te(n(i,{name:"search",class:"icon-search",clickable:!e.active},null,8,["clickable"]),[[f,e.active?null:e.t("search"),void 0,{bottom:!0}]]),S("input",{ref:"input",value:e.modelValue,placeholder:e.t("search_items"),onInput:t[0]||(t[0]=(..._)=>e.emitValueDebounced&&e.emitValueDebounced(..._)),onPaste:t[1]||(t[1]=(..._)=>e.emitValueDebounced&&e.emitValueDebounced(..._))},null,40,G1),e.modelValue?(m(),F(i,{key:0,clickable:"",class:"icon-empty",name:"close",onClick:t[2]||(t[2]=Ie(_=>e.$emit("update:modelValue",null),["stop"]))})):N("",!0),te(n(i,{clickable:"",class:"icon-filter",name:"filter_list",onClick:t[3]||(t[3]=_=>e.filterActive=!e.filterActive)},null,512),[[f,e.t("filter"),void 0,{bottom:!0}]]),n(r,{onBeforeEnter:t[5]||(t[5]=_=>e.filterBorder=!0),onAfterLeave:t[6]||(t[6]=_=>e.filterBorder=!1)},{default:a(()=>[te(S("div",Q1,[n(s,{class:"filter-input",inline:"",value:e.filter,"collection-name":e.collection,onInput:t[4]||(t[4]=_=>e.$emit("update:filter",_))},null,8,["value","collection-name"])],512),[[Et,e.filterActive]])]),_:1})],2),[[v,{handler:e.disable,middleware:e.onClickOutside}]])]),_:1},8,["value","disabled"])}var kn=q(H1,[["render",X1],["__scopeId","data-v-29d961bb"]]);const J1=K({name:"ActivityCollection",components:{ActivityNavigation:M1,LayoutSidebarDetail:zn,SearchInput:kn},props:{primaryKey:{type:String,default:null}},setup(){const{t:e}=ae(),{layout:t,layoutOptions:o,layoutQuery:l,filter:d,search:c}=$n(D("directus_activity")),{breadcrumb:i}=p(),{layoutWrapper:s}=dn(t),r=D(null);return{t:e,breadcrumb:i,layout:t,layoutWrapper:s,layoutOptions:o,layoutQuery:l,search:c,filter:d,roleFilter:r,mergeFilters:gl};function p(){return{breadcrumb:E(()=>[{name:e("collection",2),to:"/collections"}])}}}}),Y1={class:"page-description"};function Z1(e,t,o,l,d,c){const i=u("v-icon"),s=u("v-button"),r=u("search-input"),p=u("activity-navigation"),f=u("v-info"),v=u("router-view"),_=u("sidebar-detail"),y=u("layout-sidebar-detail"),b=u("private-view"),w=Ce("md");return m(),F(Ue(e.layoutWrapper),{"layout-options":e.layoutOptions,"onUpdate:layout-options":t[4]||(t[4]=$=>e.layoutOptions=$),"layout-query":e.layoutQuery,"onUpdate:layout-query":t[5]||(t[5]=$=>e.layoutQuery=$),filter:e.mergeFilters(e.filter,e.roleFilter),"filter-user":e.filter,"filter-system":e.roleFilter,search:e.search,collection:"directus_activity"},{default:a(({layoutState:$})=>[n(b,{title:e.t("activity_feed")},{"title-outer:prepend":a(()=>[n(s,{class:"header-icon",rounded:"",disabled:"",icon:"",secondary:""},{default:a(()=>[n(i,{name:"access_time"})]),_:1})]),"actions:prepend":a(()=>[(m(),F(Ue(`layout-actions-${e.layout}`),Qe(Ze($)),null,16))]),actions:a(()=>[n(r,{modelValue:e.search,"onUpdate:modelValue":t[0]||(t[0]=k=>e.search=k),filter:e.filter,"onUpdate:filter":t[1]||(t[1]=k=>e.filter=k),collection:"directus_activity"},null,8,["modelValue","filter"])]),navigation:a(()=>[n(p,{filter:e.roleFilter,"onUpdate:filter":t[2]||(t[2]=k=>e.roleFilter=k)},null,8,["filter"])]),sidebar:a(()=>[n(_,{icon:"info_outline",title:e.t("information"),close:""},{default:a(()=>[te(S("div",Y1,null,512),[[w,e.t("page_help_activity_collection")]])]),_:1},8,["title"]),n(y,{modelValue:e.layout,"onUpdate:modelValue":t[3]||(t[3]=k=>e.layout=k)},{default:a(()=>[(m(),F(Ue(`layout-options-${e.layout}`),Qe(Ze($)),null,16))]),_:2},1032,["modelValue"]),(m(),F(Ue(`layout-sidebar-${e.layout}`),Qe(Ze($)),null,16))]),default:a(()=>[(m(),F(Ue(`layout-${e.layout}`),ct($,{class:"layout"}),{"no-results":a(()=>[n(f,{title:e.t("no_results"),icon:"search",center:""},{default:a(()=>[O(h(e.t("no_results_copy")),1)]),_:1},8,["title"])]),"no-items":a(()=>[n(f,{title:e.t("item_count",0),icon:"access_time",center:""},{default:a(()=>[O(h(e.t("no_items_copy")),1)]),_:1},8,["title"])]),_:2},1040)),n(v,{name:"detail","primary-key":e.primaryKey},null,8,["primary-key"])]),_:2},1032,["title"])]),_:1},8,["layout-options","layout-query","filter","filter-user","filter-system","search"])}var x1=q(J1,[["render",Z1],["__scopeId","data-v-6193aa34"]]);const io=Symbol();function un(){const e=D(!1);let t;const o=new Promise(d=>{t=d});return rt(()=>{e.value=!0}),At(()=>(e.value=!1,o)),Jt(io,l),e;function l(){t()}}function e2(){return ht(io,void 0)}const t2=K({name:"ActivityDetail",props:{primaryKey:{type:String,required:!0}},setup(e){const{t,te:o}=ae(),l=et(),d=un(),c=D(),i=D(!1),s=D(null),r=E(()=>{if(!(!c.value||c.value.collection.startsWith("directus_")))return`/collections/${c.value.collection}/${encodeURIComponent(c.value.item)}`});return _e(()=>e.primaryKey,p,{immediate:!0}),{t,isOpen:d,item:c,loading:i,error:s,close:f,openItemLink:r,userName:Ft};async function p(){i.value=!0;try{const v=await de.get(`/activity/${e.primaryKey}`,{params:{fields:["user.id","user.email","user.first_name","user.last_name","action","timestamp","ip","user_agent","collection","item"]}});c.value=v.data.data,c.value&&(o(`field_options.directus_activity.${c.value.action}`)&&(c.value.action=t(`field_options.directus_activity.${c.value.action}`)),c.value.timestamp=new Date(c.value.timestamp).toLocaleString(We.global.locale.value))}catch(v){s.value=v}finally{i.value=!1}}function f(){l.push("/activity")}}}),n2={key:1,class:"content"},l2={key:2,class:"content"},a2={class:"type-label"},o2={class:"type-label"},i2={class:"type-label"},s2={class:"type-label"},r2={class:"type-label"},d2={class:"type-label"},u2={class:"type-label"};function c2(e,t,o,l,d,c){const i=u("v-progress-circular"),s=u("v-notice"),r=u("user-popover"),p=u("v-icon"),f=u("v-button"),v=u("v-drawer"),_=Ce("tooltip");return m(),F(v,{"model-value":e.isOpen,title:e.t("activity_item"),"onUpdate:modelValue":e.close,onCancel:e.close},{actions:a(()=>[e.openItemLink?te((m(),F(f,{key:0,to:e.openItemLink,icon:"",rounded:""},{default:a(()=>[n(p,{name:"launch"})]),_:1},8,["to"])),[[_,e.t("open"),void 0,{bottom:!0}]]):N("",!0),te(n(f,{to:"/activity",icon:"",rounded:""},{default:a(()=>[n(p,{name:"check"})]),_:1},512),[[_,e.t("done"),void 0,{bottom:!0}]])]),default:a(()=>[e.loading?(m(),F(i,{key:0,indeterminate:""})):e.error?(m(),I("div",n2,[n(s,{type:"danger"},{default:a(()=>[O(h(e.error),1)]),_:1})])):(m(),I("div",l2,[S("p",a2,h(e.t("user"))+":",1),e.item.user?(m(),F(r,{key:0,user:e.item.user.id},{default:a(()=>[O(h(e.userName(e.item.user)),1)]),_:1},8,["user"])):N("",!0),S("p",o2,h(e.t("action"))+":",1),S("p",null,h(e.item.action),1),S("p",i2,h(e.t("date"))+":",1),S("p",null,h(e.item.timestamp),1),S("p",s2,h(e.t("ip_address"))+":",1),S("p",null,h(e.item.ip),1),S("p",r2,h(e.t("user_agent"))+":",1),S("p",null,h(e.item.user_agent),1),S("p",d2,h(e.t("collection"))+":",1),S("p",null,h(e.item.collection),1),S("p",u2,h(e.t("item"))+":",1),S("p",null,h(e.item.item),1)]))]),_:1},8,["model-value","title","onUpdate:modelValue","onCancel"])}var p2=q(t2,[["render",c2],["__scopeId","data-v-98f2e818"]]),m2=on({id:"activity",hidden:!0,name:"$t:activity",icon:"notifications",routes:[{name:"activity-collection",path:"",component:x1,props:!0,children:[{name:"activity-item",path:":primaryKey",components:{detail:p2}}]}]}),f2=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:m2});function Ql(e,t){const o=[];for(const[l,d]of Object.entries(t))o.push(`${l}=${d}`);return e.includes("?")?`${e}&${o.join("&")}`:`${e}?${o.join("&")}`}const cn=()=>Ma(Zi);cn.displayName="router-passthrough";let Xl,wn;function so(e){const t=qe();return wn||(wn=D(t.collections.filter(o=>{var l,d;return((l=o.meta)==null?void 0:l.collapse)==="open"||((d=o.meta)==null?void 0:d.collapse)==="locked"}).map(({collection:o})=>o))),Xl===void 0&&(Xl=D(!1)),_e(e,o=>{var c;if(o===null)return;let l=t.getCollection(o);const d=[];for(;(c=l==null?void 0:l.meta)==null?void 0:c.group;)wn.value.includes(l.meta.group)===!1&&d.push(l.meta.group),l=t.getCollection(l.meta.group);wn.value=[...wn.value,...d]},{immediate:!0}),{showHidden:Xl,activeGroups:wn}}const _2=K({props:{icon:{type:String,default:"label"},color:{type:String,default:"var(--foreground-normal)"},name:{type:String,required:!0},search:{type:String,default:null}}});function v2(e,t,o,l,d,c){const i=u("v-icon"),s=u("v-list-item-icon"),r=u("v-text-overflow"),p=u("v-list-item-content");return m(),I(oe,null,[n(s,null,{default:a(()=>{var f;return[n(i,{name:(f=e.icon)!=null?f:"label",color:e.color},null,8,["name","color"])]}),_:1}),n(p,null,{default:a(()=>[n(r,{text:e.name,highlight:e.search},null,8,["text","highlight"])]),_:1})],64)}var y2=q(_2,[["render",v2]]);let Jl;function Fe(e){var l,d,c,i,s,r,p,f,v,_;Jl||(Jl=Al());const t=((s=(i=(c=(d=(l=e.response)==null?void 0:l.data)==null?void 0:d.errors)==null?void 0:c[0])==null?void 0:i.extensions)==null?void 0:s.code)||((r=e==null?void 0:e.extensions)==null?void 0:r.code)||"UNKNOWN",o=((_=(v=(f=(p=e.response)==null?void 0:p.data)==null?void 0:f.errors)==null?void 0:v[0])==null?void 0:_.message)||e.message||void 0;console.warn(e),Jl.add({title:We.global.t(`errors.${t}`),text:o,type:"error",dialog:!0,error:e})}const g2=K({props:{bookmark:{type:Object,required:!0}},setup(e){const{t}=ae(),o=et(),l=Yt(),d=D(),c=xe(),i=On(),s=E(()=>e.bookmark.user===c.currentUser.id),{renameActive:r,renameValue:p,renameSave:f,renameSaving:v}=$(),{deleteActive:_,deleteValue:y,deleteSave:b,deleteSaving:w}=k();return{t,contextMenu:d,isMine:s,renameActive:r,renameValue:p,renameSave:f,renameSaving:v,deleteActive:_,deleteValue:y,deleteSave:b,deleteSaving:w,activateContextMenu:V};function $(){const g=D(!1),A=D(e.bookmark.bookmark),R=D(!1);return{renameActive:g,renameValue:A,renameSave:L,renameSaving:R};async function L(){R.value=!0;try{await i.savePreset(ye(X({},e.bookmark),{bookmark:A.value})),g.value=!1}catch(M){Fe(M)}finally{R.value=!1}}}function k(){const g=D(!1),A=D(e.bookmark.bookmark),R=D(!1);return{deleteActive:g,deleteValue:A,deleteSave:L,deleteSaving:R};async function L(){var M;R.value=!0;try{let T=null;+((M=l.query)==null?void 0:M.bookmark)===e.bookmark.id&&(T=`/collections/${e.bookmark.collection}`),await i.delete(e.bookmark.id),g.value=!1,T&&o.push(T)}catch(T){Fe(T)}finally{R.value=!1}}}function V(g){d.value.activate(g)}}});function h2(e,t,o,l,d,c){const i=u("v-icon"),s=u("v-list-item-icon"),r=u("v-text-overflow"),p=u("v-list-item-content"),f=u("v-list-item"),v=u("v-list"),_=u("v-menu"),y=u("v-card-title"),b=u("v-input"),w=u("v-card-text"),$=u("v-button"),k=u("v-card-actions"),V=u("v-card"),g=u("v-dialog");return m(),F(f,{to:`/collections/${e.bookmark.collection}?bookmark=${e.bookmark.id}`,query:"",class:"bookmark",clickable:"",onContextmenu:Ie(e.activateContextMenu,["prevent","stop"])},{default:a(()=>[n(s,null,{default:a(()=>[n(i,{name:"bookmark_outline"})]),_:1}),n(p,null,{default:a(()=>[n(r,{text:e.bookmark.bookmark},null,8,["text"])]),_:1}),n(_,{ref:"contextMenu","show-arrow":"",placement:"bottom-start"},{default:a(()=>[n(v,null,{default:a(()=>[n(f,{clickable:"",disabled:e.isMine===!1,onClick:t[0]||(t[0]=A=>e.renameActive=!0)},{default:a(()=>[n(s,null,{default:a(()=>[n(i,{name:"edit",outline:""})]),_:1}),n(p,null,{default:a(()=>[n(r,{text:e.t("rename_bookmark")},null,8,["text"])]),_:1})]),_:1},8,["disabled"]),n(f,{clickable:"",class:"danger",disabled:e.isMine===!1,onClick:t[1]||(t[1]=A=>e.deleteActive=!0)},{default:a(()=>[n(s,null,{default:a(()=>[n(i,{name:"delete",outline:""})]),_:1}),n(p,null,{default:a(()=>[n(r,{text:e.t("delete_bookmark")},null,8,["text"])]),_:1})]),_:1},8,["disabled"])]),_:1})]),_:1},512),n(g,{modelValue:e.renameActive,"onUpdate:modelValue":t[4]||(t[4]=A=>e.renameActive=A),persistent:"",onEsc:t[5]||(t[5]=A=>e.renameActive=!1)},{default:a(()=>[n(V,null,{default:a(()=>[n(y,null,{default:a(()=>[O(h(e.t("rename_bookmark")),1)]),_:1}),n(w,null,{default:a(()=>[n(b,{modelValue:e.renameValue,"onUpdate:modelValue":t[2]||(t[2]=A=>e.renameValue=A),autofocus:"",onKeyup:gn(e.renameSave,["enter"])},null,8,["modelValue","onKeyup"])]),_:1}),n(k,null,{default:a(()=>[n($,{secondary:"",onClick:t[3]||(t[3]=A=>e.renameActive=!1)},{default:a(()=>[O(h(e.t("cancel")),1)]),_:1}),n($,{disabled:e.renameValue===null,loading:e.renameSaving,onClick:e.renameSave},{default:a(()=>[O(h(e.t("save")),1)]),_:1},8,["disabled","loading","onClick"])]),_:1})]),_:1})]),_:1},8,["modelValue"]),n(g,{modelValue:e.deleteActive,"onUpdate:modelValue":t[7]||(t[7]=A=>e.deleteActive=A),persistent:"",onEsc:t[8]||(t[8]=A=>e.deleteActive=!1)},{default:a(()=>[n(V,null,{default:a(()=>[n(y,null,{default:a(()=>[O(h(e.t("delete_bookmark_copy",{bookmark:e.bookmark.bookmark})),1)]),_:1}),n(k,null,{default:a(()=>[n($,{secondary:"",onClick:t[6]||(t[6]=A=>e.deleteActive=!1)},{default:a(()=>[O(h(e.t("cancel")),1)]),_:1}),n($,{loading:e.deleteSaving,kind:"danger",onClick:e.deleteSave},{default:a(()=>[O(h(e.t("delete_label")),1)]),_:1},8,["loading","onClick"])]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1},8,["to","onContextmenu"])}var b2=q(g2,[["render",h2],["__scopeId","data-v-5ac4dd1a"]]);const $2=K({name:"NavigationItem",components:{NavigationItemContent:y2,NavigationBookmark:b2},props:{collection:{type:Object,required:!0},showHidden:{type:Boolean,default:!1},search:{type:String,default:null}},setup(e){const{t}=ae(),o=qe(),l=On(),d=E(()=>v(e.collection)),c=E(()=>_(e.collection)),i=D(),s=E(()=>{var b,w;return((b=e.collection.meta)==null?void 0:b.archive_field)&&((w=e.collection.meta)==null?void 0:w.archive_app_filter)}),r=E(()=>d.value.length>0||c.value.length>0),p=E(()=>e.collection.schema?`/collections/${e.collection.collection}`:""),f=E(()=>{if(!e.search||e.search.length<3)return!0;const b=e.search.toLowerCase();return $(e.collection)||w(d.value,c.value);function w(V,g){return V.some(A=>{const R=v(A),L=_(A);return $(A)||w(R,L)})||g.some(A=>k(A))}function $(V){return V.collection.includes(b)||V.name.toLowerCase().includes(b)}function k(V){var g;return(g=V.bookmark)==null?void 0:g.toLowerCase().includes(b)}});return{childCollections:d,childBookmarks:c,isGroup:r,to:p,matchesSearch:f,contextMenu:i,activateContextMenu:y,t,hasArchive:s};function v(b){let w=o.collections.filter($=>{var k;return((k=$.meta)==null?void 0:k.group)===b.collection});return e.showHidden===!1&&(w=w.filter($=>{var k;return((k=$.meta)==null?void 0:k.hidden)!==!0})),H.exports.orderBy(w,["meta.sort","collection"])}function _(b){return l.bookmarks.filter(w=>w.collection===b.collection)}function y(b){s.value&&(i.value.activate(b),b.stopPropagation(),b.preventDefault())}}});function k2(e,t,o,l,d,c){var k,V;const i=u("navigation-item-content"),s=u("navigation-item",!0),r=u("navigation-bookmark"),p=u("v-list-group"),f=u("v-list-item"),v=u("v-icon"),_=u("v-list-item-icon"),y=u("v-text-overflow"),b=u("v-list-item-content"),w=u("v-list"),$=u("v-menu");return m(),I(oe,null,[e.isGroup&&e.matchesSearch?(m(),F(p,{key:0,to:e.to,scope:"collections-navigation",value:e.collection.collection,query:"","arrow-placement":((k=e.collection.meta)==null?void 0:k.collapse)==="locked"?!1:"after",onContextmenu:e.activateContextMenu},{activator:a(()=>{var g,A;return[n(i,{search:e.search,name:e.collection.name,icon:(g=e.collection.meta)==null?void 0:g.icon,color:(A=e.collection.meta)==null?void 0:A.color},null,8,["search","name","icon","color"])]}),default:a(()=>[(m(!0),I(oe,null,he(e.childCollections,g=>(m(),F(s,{key:g.collection,collection:g,search:e.search},null,8,["collection","search"]))),128)),(m(!0),I(oe,null,he(e.childBookmarks,g=>(m(),F(r,{key:g.id,bookmark:g},null,8,["bookmark"]))),128))]),_:1},8,["to","value","arrow-placement","onContextmenu"])):e.matchesSearch?(m(),F(f,{key:1,to:e.to,value:e.collection.collection,class:re({hidden:(V=e.collection.meta)==null?void 0:V.hidden}),query:"",onContextmenu:e.activateContextMenu},{default:a(()=>{var g,A;return[n(i,{search:e.search,name:e.collection.name,icon:(g=e.collection.meta)==null?void 0:g.icon,color:(A=e.collection.meta)==null?void 0:A.color},null,8,["search","name","icon","color"])]}),_:1},8,["to","value","class","onContextmenu"])):N("",!0),n($,{ref:"contextMenu","show-arrow":"",placement:"bottom-start"},{default:a(()=>[n(w,null,{default:a(()=>[n(f,{clickable:"",to:`/collections/${e.collection.collection}?archive`,exact:"",query:""},{default:a(()=>[n(_,null,{default:a(()=>[n(v,{name:"archive",outline:""})]),_:1}),n(b,null,{default:a(()=>[n(y,{text:e.t("show_archived_items")},null,8,["text"])]),_:1})]),_:1},8,["to"])]),_:1})]),_:1},512)],64)}var w2=q($2,[["render",k2],["__scopeId","data-v-c93e86b0"]]);const C2=K({components:{NavigationItem:w2},props:{currentCollection:{type:String,default:null}},setup(e){const{t}=ae(),{currentCollection:o}=Re(e),{activeGroups:l,showHidden:d}=so(o),c=D(""),i=qe(),s=D(),r=D(),p=E(()=>{const y=d.value?i.allCollections:i.visibleCollections;return H.exports.orderBy(y.filter(b=>{var w;return H.exports.isNil((w=b==null?void 0:b.meta)==null?void 0:w.group)}),["meta.sort","collection"])}),f=E(()=>i.visibleCollections.length>5),v=E(()=>i.visibleCollections.length>20);return{t,activeGroups:l,showHidden:d,rootItems:p,dense:f,activateContextMenu:_,contextMenu:s,contextMenuTarget:r,search:c,showSearch:v};function _(y,b){r.value=b,s.value.activate(y)}}}),S2={class:"collections-navigation-wrapper"},F2={key:0,class:"search-input"};function V2(e,t,o,l,d,c){const i=u("v-input"),s=u("navigation-item"),r=u("v-icon"),p=u("v-list-item-icon"),f=u("v-text-overflow"),v=u("v-list-item-content"),_=u("v-list-item"),y=u("v-menu"),b=u("v-list");return m(),I("div",S2,[e.showSearch?(m(),I("div",F2,[n(i,{modelValue:e.search,"onUpdate:modelValue":t[0]||(t[0]=w=>e.search=w),type:"search",placeholder:e.t("search_collection")},null,8,["modelValue","placeholder"])])):N("",!0),n(b,{modelValue:e.activeGroups,"onUpdate:modelValue":t[2]||(t[2]=w=>e.activeGroups=w),scope:"collections-navigation",class:"collections-navigation",nav:"",mandatory:!1,dense:e.dense,onContextmenu:Ie(e.activateContextMenu,["prevent","stop"])},{default:a(()=>[(m(!0),I(oe,null,he(e.rootItems,w=>(m(),F(s,{key:w.collection,"show-hidden":e.showHidden,collection:w,search:e.search},null,8,["show-hidden","collection","search"]))),128)),n(y,{ref:"contextMenu","show-arrow":"",placement:"bottom-start"},{default:a(()=>[n(_,{clickable:"",onClick:t[1]||(t[1]=w=>e.showHidden=!e.showHidden)},{default:a(()=>[n(p,null,{default:a(()=>[n(r,{name:e.showHidden?"visibility_off":"visibility"},null,8,["name"])]),_:1}),n(v,null,{default:a(()=>[n(f,{text:e.showHidden?e.t("hide_hidden_collections"):e.t("show_hidden_collections")},null,8,["text"])]),_:1})]),_:1})]),_:1},512)]),_:1},8,["modelValue","dense","onContextmenu"])])}var bl=q(C2,[["render",V2],["__scopeId","data-v-7fd2561a"]]);const E2=K({components:{CollectionsNavigation:bl},setup(){const{t:e}=ae();return{t:e}}}),I2={class:"not-found"};function A2(e,t,o,l,d,c){const i=u("collections-navigation"),s=u("v-info"),r=u("private-view");return m(),F(r,{title:e.t("page_not_found")},{navigation:a(()=>[n(i)]),default:a(()=>[S("div",I2,[n(s,{title:e.t("page_not_found"),icon:"not_interested"},{default:a(()=>[O(h(e.t("page_not_found_body")),1)]),_:1},8,["title"])])]),_:1},8,["title"])}var Yl=q(E2,[["render",A2],["__scopeId","data-v-08c08cfa"]]);const D2=K({props:{modelValue:{type:Number,default:null}},emits:["update:modelValue","refresh"],setup(e,{emit:t}){const{t:o}=ae(),l=E({get(){return e.modelValue},set(s){t("update:modelValue",s)}}),d=D(null);_e(l,s=>{d.value!==null&&clearInterval(d.value),s!==null&&s>0&&(d.value=setInterval(()=>{t("refresh")},s*1e3))},{immediate:!0});const c=E(()=>[null,10,30,60,300].map(r=>r===null?{text:o("no_refresh"),value:null}:r>=60&&r%60==0?{text:o("refresh_interval_minutes",{minutes:r/60},r/60),value:r}:{text:o("refresh_interval_seconds",{seconds:r},r),value:r})),i=E(()=>l.value!==null);return{t:o,active:i,interval:l,items:c}}}),O2={class:"fields"},P2={class:"field full"},T2={class:"type-label"};function L2(e,t,o,l,d,c){const i=u("v-select"),s=u("sidebar-detail");return m(),F(s,{icon:e.active?"sync":"sync_disabled",title:e.t("auto_refresh"),badge:e.active},{default:a(()=>[S("div",O2,[S("div",P2,[S("p",T2,h(e.t("refresh_interval")),1),n(i,{modelValue:e.interval,"onUpdate:modelValue":t[0]||(t[0]=r=>e.interval=r),items:e.items},null,8,["modelValue","items"])])])]),_:1},8,["icon","title","badge"])}var j2=q(D2,[["render",L2],["__scopeId","data-v-3c22b9bc"]]);const R2=K({props:{modelValue:{type:Boolean,default:!1},saving:{type:Boolean,default:!1}},emits:["save","update:modelValue"],setup(e,{emit:t}){const{t:o}=ae(),l=D(null);return{t:o,bookmarkName:l,cancel:d};function d(){l.value=null,t("update:modelValue",!1)}}});function M2(e,t,o,l,d,c){const i=u("v-card-title"),s=u("v-input"),r=u("v-card-text"),p=u("v-button"),f=u("v-card-actions"),v=u("v-card"),_=u("v-dialog");return m(),F(_,{"model-value":e.modelValue,persistent:"","onUpdate:modelValue":t[3]||(t[3]=y=>e.$emit("update:modelValue",y)),onEsc:e.cancel},{activator:a(y=>[$e(e.$slots,"activator",Qe(Ze(y)))]),default:a(()=>[n(v,null,{default:a(()=>[n(i,null,{default:a(()=>[O(h(e.t("create_bookmark")),1)]),_:1}),n(r,null,{default:a(()=>[n(s,{modelValue:e.bookmarkName,"onUpdate:modelValue":t[0]||(t[0]=y=>e.bookmarkName=y),autofocus:"",placeholder:e.t("bookmark_name"),onKeyup:t[1]||(t[1]=gn(y=>e.$emit("save",e.bookmarkName),["enter"]))},null,8,["modelValue","placeholder"])]),_:1}),n(f,null,{default:a(()=>[n(p,{secondary:"",onClick:e.cancel},{default:a(()=>[O(h(e.t("cancel")),1)]),_:1},8,["onClick"]),n(p,{disabled:e.bookmarkName===null||e.bookmarkName.length===0,loading:e.saving,onClick:t[2]||(t[2]=y=>e.$emit("save",e.bookmarkName))},{default:a(()=>[O(h(e.t("save")),1)]),_:1},8,["disabled","loading"])]),_:1})]),_:1})]),_:3},8,["model-value","onEsc"])}var U2=q(R2,[["render",M2]]);const N2=K({props:{modelValue:{type:Boolean,default:!1},saving:{type:Boolean,default:!1},name:{type:String,required:!0}},emits:["save","update:modelValue"],setup(e,{emit:t}){const{t:o}=ae(),l=D(e.name);return _e(()=>e.name,c=>l.value=c),{t:o,bookmarkName:l,cancel:d};function d(){t("update:modelValue",!1)}}});function B2(e,t,o,l,d,c){const i=u("v-card-title"),s=u("v-input"),r=u("v-card-text"),p=u("v-button"),f=u("v-card-actions"),v=u("v-card"),_=u("v-dialog");return m(),F(_,{"model-value":e.modelValue,persistent:"","onUpdate:modelValue":t[3]||(t[3]=y=>e.$emit("update:modelValue",y)),onEsc:e.cancel},{activator:a(y=>[$e(e.$slots,"activator",Qe(Ze(y)))]),default:a(()=>[n(v,null,{default:a(()=>[n(i,null,{default:a(()=>[O(h(e.t("edit_bookmark")),1)]),_:1}),n(r,null,{default:a(()=>[n(s,{modelValue:e.bookmarkName,"onUpdate:modelValue":t[0]||(t[0]=y=>e.bookmarkName=y),autofocus:"",placeholder:e.t("bookmark_name"),onKeyup:t[1]||(t[1]=gn(y=>e.$emit("save",e.bookmarkName),["enter"]))},null,8,["modelValue","placeholder"])]),_:1}),n(f,null,{default:a(()=>[n(p,{secondary:"",onClick:e.cancel},{default:a(()=>[O(h(e.t("cancel")),1)]),_:1},8,["onClick"]),n(p,{disabled:e.bookmarkName===null||e.bookmarkName.length===0,loading:e.saving,onClick:t[2]||(t[2]=y=>e.$emit("save",e.bookmarkName))},{default:a(()=>[O(h(e.t("save")),1)]),_:1},8,["disabled","loading"])]),_:1})]),_:1})]),_:3},8,["model-value","onEsc"])}var q2=q(N2,[["render",B2]]);const $l=["FAILED_VALIDATION","RECORD_NOT_UNIQUE"],z2=`

\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u283B\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28F6\u28E6\u28E4\u28C0\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800
\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2880\u2800\u283B\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28F7\u28E6\u28C0\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800
\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2819\u28FF\u28FF\u28FF\u28F7\u28FE\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u287F\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28F7\u28C4\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800
\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u28E4\u28FF\u28C4\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2809\u281B\u281B\u283F\u283F\u283F\u283F\u283F\u281B\u281B\u2809\u2800\u28B0\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28F7\u28C4\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800
\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u28B0\u28FF\u28FF\u28FF\u28FF\u28F6\u28C4\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28C4\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800
\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28F6\u28F6\u28E6\u28E4\u28C4\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u28FE\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u2801\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800
\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2808\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28F7\u28F6\u28F6\u28F6\u28FE\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u287F\u283F\u283F\u281B\u2809\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800
\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u280B\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800
\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u28B8\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800
\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2880\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u284C\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800
\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2880\u28E4\u28F6\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u2801\u281B\u281B\u283F\u28BF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28F6\u28F6\u28E4\u28E4\u28C0\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800
\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2880\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u281F\u2801\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2809\u281B\u28FF\u28FF\u28FF\u28FF\u28FF\u2846\u28BF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28F6\u28C4\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800
\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u287F\u283F\u281B\u281B\u280B\u2809\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2809\u281B\u283F\u28FF\u28C4\u2808\u283B\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28E6\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800
\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u28FE\u28FF\u28FF\u28FF\u28FF\u280B\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2809\u2809\u2809\u2809\u2809\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2809\u28BF\u28FF\u28FF\u28FF\u28F7\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800
\u2800\u2800\u2800\u2800\u2800\u28E4\u28FF\u28FF\u28FF\u28FF\u281F\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2809\u2809\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800
\u2800\u2800\u2800\u28F4\u28FF\u28FF\u28FF\u28FF\u281F\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800
\u2800\u2800\u2800\u2800\u2809\u2809\u2801\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800

`,K2=["directus_activity","directus_collections","directus_fields","directus_migrations","directus_relations","directus_revisions","directus_sessions","directus_settings"],pn=[{type:"module",id:"collections",enabled:!0},{type:"module",id:"users",enabled:!0},{type:"module",id:"files",enabled:!0},{type:"module",id:"insights",enabled:!1},{type:"module",id:"docs",enabled:!0},{type:"module",id:"settings",enabled:!0,locked:!0}],W2=["oauth2","openid"];const H2=K({props:{active:{type:Boolean,default:!1},collection:{type:String,required:!0},edits:{type:Object,default:void 0},primaryKeys:{type:Array,required:!0}},emits:["update:active","refresh"],setup(e,{emit:t}){const{t:o}=ae(),{internalEdits:l}=f(),{internalActive:d}=v(),{save:c,cancel:i,saving:s,validationErrors:r}=_(),{collection:p}=Re(e);return{t:o,internalActive:d,internalEdits:l,save:c,saving:s,cancel:i,validationErrors:r};function f(){const y=D({});return{internalEdits:E({get(){return e.edits!==void 0?X(X({},e.edits),y.value):y.value},set(w){y.value=w}})}}function v(){const y=D(!1);return{internalActive:E({get(){return e.active===void 0?y.value:e.active},set(w){y.value=w,t("update:active",w)}})}}function _(){const y=D(!1),b=D([]),w=E(()=>p.value.startsWith("directus_")?`/${p.value.substring(9)}`:`/items/${p.value}`);return{save:$,cancel:k,saving:y,validationErrors:b};async function $(){y.value=!0;try{await de.patch(w.value,{keys:e.primaryKeys,data:l.value}),t("refresh"),d.value=!1,l.value={}}catch(V){b.value=V.response.data.errors.filter(A=>{var R;return $l.includes((R=A==null?void 0:A.extensions)==null?void 0:R.code)}).map(A=>A.extensions);const g=V.response.data.errors.filter(A=>{var R;return $l.includes((R=A==null?void 0:A.extensions)==null?void 0:R.code)===!1});g.length>0&&g.forEach(Fe)}finally{y.value=!1}}function k(){d.value=!1,l.value={}}}}}),G2={class:"drawer-batch-content"};function Q2(e,t,o,l,d,c){const i=u("v-icon"),s=u("v-button"),r=u("v-form"),p=u("v-drawer"),f=Ce("tooltip");return m(),F(p,{modelValue:e.internalActive,"onUpdate:modelValue":t[1]||(t[1]=v=>e.internalActive=v),title:e.t("editing_in_batch",{count:e.primaryKeys.length}),persistent:"",onCancel:e.cancel},{actions:a(()=>[te(n(s,{icon:"",rounded:"",loading:e.saving,onClick:e.save},{default:a(()=>[n(i,{name:"check"})]),_:1},8,["loading","onClick"]),[[f,e.t("save"),void 0,{bottom:!0}]])]),default:a(()=>[S("div",G2,[n(r,{modelValue:e.internalEdits,"onUpdate:modelValue":t[0]||(t[0]=v=>e.internalEdits=v),collection:e.collection,"batch-mode":"","primary-key":"+","validation-errors":e.validationErrors},null,8,["modelValue","collection","validation-errors"])])]),_:1},8,["modelValue","title","onCancel"])}var Zl=q(H2,[["render",Q2],["__scopeId","data-v-5d0693b1"]]);const X2=K({name:"CollectionsCollection",components:{CollectionsNavigation:bl,CollectionsNotFound:Yl,LayoutSidebarDetail:zn,SearchInput:kn,BookmarkAdd:U2,BookmarkEdit:q2,DrawerBatch:Zl,RefreshSidebarDetail:j2},props:{collection:{type:String,required:!0},bookmark:{type:String,default:null},archive:{type:Boolean,default:!1}},setup(e){const{t}=ae(),o=et(),{layouts:l}=rn(),d=xe(),c=It(),i=D(),{collection:s}=Re(e),r=E(()=>e.bookmark?+e.bookmark:null),{selection:p}=Ae(),{info:f}=at(s),{addNewLink:v,currentCollectionLink:_}=lt(),{breadcrumb:y}=De(),{layout:b,layoutOptions:w,layoutQuery:$,filter:k,search:V,savePreset:g,bookmarkExists:A,saveCurrentAsBookmark:R,bookmarkTitle:L,resetPreset:M,bookmarkSaved:T,bookmarkIsMine:U,refreshInterval:B,busy:z,clearLocalSave:W}=$n(s,r),{layoutWrapper:J}=dn(b),{confirmDelete:Q,deleting:G,batchDelete:x,confirmArchive:ee,archive:ne,archiving:ie,error:pe,batchEditActive:Y}=Le(),{bookmarkDialogActive:Z,creatingBookmark:se,createBookmark:le,editingBookmark:ce,editBookmark:ve}=Oe(),ue=E(()=>l.value.find(Ve=>Ve.id===b.value));_e(s,()=>{b.value===null&&(b.value="tabular")},{immediate:!0});const{batchEditAllowed:ge,batchArchiveAllowed:fe,batchDeleteAllowed:me,createAllowed:ke}=Te(),be=E(()=>{var Be,Ye,it;if(!((Be=f.value)==null?void 0:Be.meta)||!((it=(Ye=f.value)==null?void 0:Ye.meta)==null?void 0:it.archive_app_filter))return null;const Ve=f.value.meta.archive_field;if(!Ve)return k.value;let we=f.value.meta.archive_value;return we==="true"&&(we=!0),we==="false"&&(we=!1),e.archive?{[Ve]:{_eq:we}}:{[Ve]:{_neq:we}}});return{t,addNewLink:v,batchDelete:x,batchEditActive:Y,confirmDelete:Q,currentCollection:f,deleting:G,filter:k,layoutRef:i,layoutWrapper:J,selection:p,layoutOptions:w,layoutQuery:$,layout:b,search:V,savePreset:g,bookmarkExists:A,currentCollectionLink:_,bookmarkDialogActive:Z,creatingBookmark:se,createBookmark:le,bookmarkTitle:L,editingBookmark:ce,editBookmark:ve,breadcrumb:y,clearFilters:je,confirmArchive:ee,archiveItems:ne,archiving:ie,batchEditAllowed:ge,batchArchiveAllowed:fe,batchDeleteAllowed:me,deleteError:pe,createAllowed:ke,resetPreset:M,bookmarkSaved:T,bookmarkIsMine:U,bookmarkSaving:z,clearLocalSave:W,refresh:Se,refreshInterval:B,currentLayout:ue,archiveFilter:be,mergeFilters:gl};async function Se(){var Ve,we,Be;await((Be=(we=(Ve=i.value)==null?void 0:Ve.state)==null?void 0:we.refresh)==null?void 0:Be.call(we))}function De(){return{breadcrumb:E(()=>{var we;return[{name:(we=f.value)==null?void 0:we.name,to:`/collections/${e.collection}`}]})}}function Ae(){const Ve=D([]);return _e(()=>e.collection,()=>Ve.value=[]),{selection:Ve}}function Le(){const Ve=D(!1),we=D(!1),Be=D(!1),Ye=D(!1),it=D(!1),ot=D(null);return{batchEditActive:Be,confirmDelete:Ve,deleting:we,batchDelete:nt,confirmArchive:Ye,archiving:it,archiveItems:pt,error:ot};async function nt(){we.value=!0;const mt=p.value;try{await de.delete(`/items/${e.collection}`,{data:mt}),await Se(),p.value=[],Ve.value=!1}catch(jt){ot.value=jt}finally{we.value=!1}}async function pt(){var jt,cl;if(!((cl=(jt=f.value)==null?void 0:jt.meta)==null?void 0:cl.archive_field))return;it.value=!0;let mt=f.value.meta.archive_value;mt==="true"&&(mt=!0),mt==="false"&&(mt=!1);try{await de.patch(`/items/${e.collection}`,{keys:p.value,data:{[f.value.meta.archive_field]:mt}}),Ye.value=!1,p.value=[],await Se()}catch(Ml){ot.value=Ml}finally{it.value=!1}}}function lt(){const Ve=E(()=>`/collections/${e.collection}/+`),we=E(()=>`/collections/${e.collection}`);return{addNewLink:Ve,currentCollectionLink:we}}function Oe(){const Ve=D(!1),we=D(!1),Be=D(!1);return{bookmarkDialogActive:Ve,creatingBookmark:we,createBookmark:Ye,editingBookmark:Be,editBookmark:it};async function Ye(ot){we.value=!0;try{const nt=await R({bookmark:ot});o.push(`/collections/${nt.collection}?bookmark=${nt.id}`),Ve.value=!1}catch(nt){Fe(nt)}finally{we.value=!1}}async function it(ot){L.value=ot,Ve.value=!1}}function je(){k.value=null,V.value=null}function Te(){const Ve=E(()=>{var nt;return((nt=d==null?void 0:d.currentUser)==null?void 0:nt.role.admin_access)===!0?!0:!!c.permissions.find(pt=>pt.action==="update"&&pt.collection===s.value)}),we=E(()=>{var nt,pt,mt;if(!((pt=(nt=f.value)==null?void 0:nt.meta)==null?void 0:pt.archive_field))return!1;if(((mt=d==null?void 0:d.currentUser)==null?void 0:mt.role.admin_access)===!0)return!0;const ot=c.permissions.find(jt=>jt.action==="update"&&jt.collection===s.value);return!ot||!ot.fields?!1:ot.fields.includes("*")?!0:ot.fields.includes(f.value.meta.archive_field)}),Be=E(()=>{var nt;return((nt=d==null?void 0:d.currentUser)==null?void 0:nt.role.admin_access)===!0?!0:!!c.permissions.find(pt=>pt.action==="delete"&&pt.collection===s.value)}),Ye=E(()=>{var nt;return((nt=d==null?void 0:d.currentUser)==null?void 0:nt.role.admin_access)===!0?!0:!!c.permissions.find(pt=>pt.action==="create"&&pt.collection===s.value)});return{batchEditAllowed:Ve,batchArchiveAllowed:we,batchDeleteAllowed:Be,createAllowed:Ye}}}}),J2={class:"bookmark-controls"},Y2={class:"page-description"};function Z2(e,t,o,l,d,c){const i=u("collections-not-found"),s=u("v-icon"),r=u("v-button"),p=u("v-breadcrumb"),f=u("bookmark-add"),v=u("search-input"),_=u("v-card-title"),y=u("v-card-actions"),b=u("v-card"),w=u("v-dialog"),$=u("collections-navigation"),k=u("v-info"),V=u("drawer-batch"),g=u("sidebar-detail"),A=u("layout-sidebar-detail"),R=u("refresh-sidebar-detail"),L=u("export-sidebar-detail"),M=u("v-error"),T=u("v-card-text"),U=u("private-view"),B=Ce("tooltip"),z=Ce("md");return m(),F(Ue(e.layoutWrapper),{ref:"layoutRef",selection:e.selection,"onUpdate:selection":t[16]||(t[16]=W=>e.selection=W),"layout-options":e.layoutOptions,"onUpdate:layout-options":t[17]||(t[17]=W=>e.layoutOptions=W),"layout-query":e.layoutQuery,"onUpdate:layout-query":t[18]||(t[18]=W=>e.layoutQuery=W),"filter-user":e.filter,"filter-system":e.archiveFilter,filter:e.mergeFilters(e.filter,e.archiveFilter),search:e.search,collection:e.collection,"reset-preset":e.resetPreset,"clear-filters":e.clearFilters},{default:a(({layoutState:W})=>{var J;return[!e.currentCollection||e.collection.startsWith("directus_")?(m(),F(i,{key:0})):(m(),F(U,{key:1,title:e.bookmark?e.bookmarkTitle:e.currentCollection.name,"small-header":(J=e.currentLayout)==null?void 0:J.smallHeader},{"title-outer:prepend":a(()=>[n(r,{class:re(["header-icon",{archive:e.archive}]),rounded:"",icon:"",secondary:"",disabled:""},{default:a(()=>[n(s,{name:e.archive?"archive":e.currentCollection.icon,color:e.currentCollection.color},null,8,["name","color"])]),_:1},8,["class"])]),headline:a(()=>[e.bookmark?(m(),F(p,{key:0,items:e.breadcrumb},null,8,["items"])):(m(),F(p,{key:1,items:[{name:e.t("collections"),to:"/collections"}]},null,8,["items"]))]),"title-outer:append":a(()=>[S("div",J2,[e.bookmark?e.bookmarkSaved?(m(),F(s,{key:1,class:"saved",name:"bookmark"})):e.bookmarkIsMine?te((m(),F(s,{key:2,class:"save",clickable:"",name:"bookmark_save",onClick:t[1]||(t[1]=Q=>e.savePreset())},null,512)),[[B,e.t("update_bookmark"),void 0,{bottom:!0}]]):(m(),F(f,{key:3,modelValue:e.bookmarkDialogActive,"onUpdate:modelValue":t[2]||(t[2]=Q=>e.bookmarkDialogActive=Q),class:"add",saving:e.creatingBookmark,onSave:e.createBookmark},{activator:a(({on:Q})=>[n(s,{class:"toggle",name:"bookmark_outline",clickable:"",onClick:Q},null,8,["onClick"])]),_:1},8,["modelValue","saving","onSave"])):(m(),F(f,{key:0,modelValue:e.bookmarkDialogActive,"onUpdate:modelValue":t[0]||(t[0]=Q=>e.bookmarkDialogActive=Q),class:"add",saving:e.creatingBookmark,onSave:e.createBookmark},{activator:a(({on:Q})=>[te(n(s,{class:"toggle",clickable:"",name:"bookmark_outline",onClick:Q},null,8,["onClick"]),[[B,e.t("create_bookmark"),void 0,{right:!0}]])]),_:1},8,["modelValue","saving","onSave"])),e.bookmark&&!e.bookmarkSaving&&e.bookmarkSaved===!1?te((m(),F(s,{key:4,name:"settings_backup_restore",clickable:"",class:"clear",onClick:e.clearLocalSave},null,8,["onClick"])),[[B,e.t("reset_bookmark"),void 0,{bottom:!0}]]):N("",!0)])]),"actions:prepend":a(()=>[(m(),F(Ue(`layout-actions-${e.layout||"tabular"}`),Qe(Ze(W)),null,16))]),actions:a(()=>[n(v,{modelValue:e.search,"onUpdate:modelValue":t[3]||(t[3]=Q=>e.search=Q),filter:e.filter,"onUpdate:filter":t[4]||(t[4]=Q=>e.filter=Q),collection:e.collection},null,8,["modelValue","filter","collection"]),e.selection.length>0?(m(),F(w,{key:0,modelValue:e.confirmDelete,"onUpdate:modelValue":t[6]||(t[6]=Q=>e.confirmDelete=Q),onEsc:t[7]||(t[7]=Q=>e.confirmDelete=!1)},{activator:a(({on:Q})=>[te(n(r,{disabled:e.batchDeleteAllowed!==!0,rounded:"",icon:"",class:"action-delete",onClick:Q},{default:a(()=>[n(s,{name:"delete",outline:""})]),_:2},1032,["disabled","onClick"]),[[B,e.batchDeleteAllowed?e.t("delete_label"):e.t("not_allowed"),void 0,{bottom:!0}]])]),default:a(()=>[n(b,null,{default:a(()=>[n(_,null,{default:a(()=>[O(h(e.t("batch_delete_confirm",e.selection.length)),1)]),_:1}),n(y,null,{default:a(()=>[n(r,{secondary:"",onClick:t[5]||(t[5]=Q=>e.confirmDelete=!1)},{default:a(()=>[O(h(e.t("cancel")),1)]),_:1}),n(r,{kind:"danger",loading:e.deleting,onClick:e.batchDelete},{default:a(()=>[O(h(e.t("delete_label")),1)]),_:1},8,["loading","onClick"])]),_:1})]),_:1})]),_:1},8,["modelValue"])):N("",!0),e.selection.length>0&&e.currentCollection.meta&&e.currentCollection.meta.archive_field?(m(),F(w,{key:1,modelValue:e.confirmArchive,"onUpdate:modelValue":t[9]||(t[9]=Q=>e.confirmArchive=Q),onEsc:t[10]||(t[10]=Q=>e.confirmArchive=!1)},{activator:a(({on:Q})=>[te(n(r,{disabled:e.batchArchiveAllowed!==!0,rounded:"",icon:"",class:"action-archive",onClick:Q},{default:a(()=>[n(s,{name:"archive",outline:""})]),_:2},1032,["disabled","onClick"]),[[B,e.batchArchiveAllowed?e.t("archive"):e.t("not_allowed"),void 0,{bottom:!0}]])]),default:a(()=>[n(b,null,{default:a(()=>[n(_,null,{default:a(()=>[O(h(e.t("archive_confirm_count",e.selection.length)),1)]),_:1}),n(y,null,{default:a(()=>[n(r,{secondary:"",onClick:t[8]||(t[8]=Q=>e.confirmArchive=!1)},{default:a(()=>[O(h(e.t("cancel")),1)]),_:1}),n(r,{kind:"warning",loading:e.archiving,onClick:e.archiveItems},{default:a(()=>[O(h(e.t("archive")),1)]),_:1},8,["loading","onClick"])]),_:1})]),_:1})]),_:1},8,["modelValue"])):N("",!0),e.selection.length>1?te((m(),F(r,{key:2,rounded:"",icon:"",class:"action-batch",disabled:e.batchEditAllowed===!1,onClick:t[11]||(t[11]=Q=>e.batchEditActive=!0)},{default:a(()=>[n(s,{name:"edit",outline:""})]),_:1},8,["disabled"])),[[B,e.batchEditAllowed?e.t("edit"):e.t("not_allowed"),void 0,{bottom:!0}]]):N("",!0),te(n(r,{rounded:"",icon:"",to:e.addNewLink,disabled:e.createAllowed===!1},{default:a(()=>[n(s,{name:"add"})]),_:1},8,["to","disabled"]),[[B,e.createAllowed?e.t("create_item"):e.t("not_allowed"),void 0,{bottom:!0}]])]),navigation:a(()=>[n($,{"current-collection":e.collection},null,8,["current-collection"])]),sidebar:a(()=>[n(g,{icon:"info_outline",title:e.t("information"),close:""},{default:a(()=>[te(S("div",Y2,null,512),[[z,e.t("page_help_collections_collection",{collection:e.currentCollection.name})]])]),_:1},8,["title"]),n(A,{modelValue:e.layout,"onUpdate:modelValue":t[13]||(t[13]=Q=>e.layout=Q)},{default:a(()=>[(m(),F(Ue(`layout-options-${e.layout||"tabular"}`),Qe(Ze(W)),null,16))]),_:2},1032,["modelValue"]),(m(),F(Ue(`layout-sidebar-${e.layout||"tabular"}`),Qe(Ze(W)),null,16)),n(R,{modelValue:e.refreshInterval,"onUpdate:modelValue":t[14]||(t[14]=Q=>e.refreshInterval=Q),onRefresh:e.refresh},null,8,["modelValue","onRefresh"]),n(L,{collection:e.collection,filter:e.mergeFilters(e.filter,e.archiveFilter),search:e.search},null,8,["collection","filter","search"])]),default:a(()=>[e.bookmark&&e.bookmarkExists===!1?(m(),F(k,{key:0,type:"warning",title:e.t("bookmark_doesnt_exist"),icon:"bookmark",center:""},{append:a(()=>[n(r,{to:e.currentCollectionLink},{default:a(()=>[O(h(e.t("bookmark_doesnt_exist_cta")),1)]),_:1},8,["to"])]),default:a(()=>[O(h(e.t("bookmark_doesnt_exist_copy"))+" ",1)]),_:1},8,["title"])):(m(),F(Ue(`layout-${e.layout||"tabular"}`),ct({key:1,class:"layout"},W),{"no-results":a(()=>[n(k,{title:e.t("no_results"),icon:"search",center:""},{append:a(()=>[n(r,{onClick:e.clearFilters},{default:a(()=>[O(h(e.t("clear_filters")),1)]),_:1},8,["onClick"])]),default:a(()=>[O(h(e.t("no_results_copy"))+" ",1)]),_:1},8,["title"])]),"no-items":a(()=>[n(k,{title:e.t("item_count",0),icon:e.currentCollection.icon,center:""},Ne({default:a(()=>[O(h(e.t("no_items_copy"))+" ",1)]),_:2},[e.createAllowed?{name:"append",fn:a(()=>[n(r,{to:`/collections/${e.collection}/+`},{default:a(()=>[O(h(e.t("create_item")),1)]),_:1},8,["to"])])}:void 0]),1032,["title","icon"])]),_:2},1040)),n(V,{active:e.batchEditActive,"onUpdate:active":t[12]||(t[12]=Q=>e.batchEditActive=Q),"primary-keys":e.selection,collection:e.collection,onRefresh:e.refresh},null,8,["active","primary-keys","collection","onRefresh"]),n(w,{"model-value":e.deleteError!==null},{default:a(()=>[n(b,null,{default:a(()=>[n(_,null,{default:a(()=>[O(h(e.t("something_went_wrong")),1)]),_:1}),n(T,null,{default:a(()=>[n(M,{error:e.deleteError},null,8,["error"])]),_:1}),n(y,null,{default:a(()=>[n(r,{onClick:t[15]||(t[15]=Q=>e.deleteError=null)},{default:a(()=>[O(h(e.t("done")),1)]),_:1})]),_:1})]),_:1})]),_:1},8,["model-value"])]),_:2},1032,["title","small-header"]))]}),_:1},8,["selection","layout-options","layout-query","filter-user","filter-system","filter","search","collection","reset-preset","clear-filters"])}var x2=q(X2,[["render",Z2],["__scopeId","data-v-da658f3c"]]);function e$(e){switch(e){case"af":return j(()=>import("./assets/index.fbfd2bd6.js").then(function(t){return t.i}),["assets/index.fbfd2bd6.js","assets/vendor.a626ab9c.js","assets/vendor.fe7856f0.css","assets/index.ffc6c203.js"]);case"ar-DZ":return j(()=>import("./assets/index.f99b041c.js").then(function(t){return t.i}),["assets/index.f99b041c.js","assets/vendor.a626ab9c.js","assets/vendor.fe7856f0.css","assets/index.ffc6c203.js"]);case"ar-MA":return j(()=>import("./assets/index.32a66f8e.js").then(function(t){return t.i}),["assets/index.32a66f8e.js","assets/vendor.a626ab9c.js","assets/vendor.fe7856f0.css","assets/index.ffc6c203.js"]);case"ar-SA":return j(()=>import("./assets/index.336d2876.js").then(function(t){return t.i}),["assets/index.336d2876.js","assets/vendor.a626ab9c.js","assets/vendor.fe7856f0.css","assets/index.ffc6c203.js"]);case"az":return j(()=>import("./assets/index.6a792b33.js").then(function(t){return t.i}),["assets/index.6a792b33.js","assets/vendor.a626ab9c.js","assets/vendor.fe7856f0.css","assets/index.ffc6c203.js"]);case"be":return j(()=>import("./assets/index.36d21aeb.js").then(function(t){return t.i}),["assets/index.36d21aeb.js","assets/vendor.a626ab9c.js","assets/vendor.fe7856f0.css","assets/index.ffc6c203.js","assets/index.dc71b91a.js"]);case"bg":return j(()=>import("./assets/index.c38b7f79.js").then(function(t){return t.i}),["assets/index.c38b7f79.js","assets/vendor.a626ab9c.js","assets/vendor.fe7856f0.css","assets/index.ffc6c203.js","assets/index.dc71b91a.js"]);case"bn":return j(()=>import("./assets/index.6dd016c8.js").then(function(t){return t.i}),["assets/index.6dd016c8.js","assets/vendor.a626ab9c.js","assets/vendor.fe7856f0.css","assets/index.ffc6c203.js"]);case"ca":return j(()=>import("./assets/index.c2c4a871.js").then(function(t){return t.i}),["assets/index.c2c4a871.js","assets/vendor.a626ab9c.js","assets/vendor.fe7856f0.css","assets/index.ffc6c203.js"]);case"cs":return j(()=>import("./assets/index.9bf6dfc7.js").then(function(t){return t.i}),["assets/index.9bf6dfc7.js","assets/vendor.a626ab9c.js","assets/vendor.fe7856f0.css","assets/index.ffc6c203.js"]);case"cy":return j(()=>import("./assets/index.5569aba4.js").then(function(t){return t.i}),["assets/index.5569aba4.js","assets/vendor.a626ab9c.js","assets/vendor.fe7856f0.css","assets/index.ffc6c203.js"]);case"da":return j(()=>import("./assets/index.4da7e0ab.js").then(function(t){return t.i}),["assets/index.4da7e0ab.js","assets/vendor.a626ab9c.js","assets/vendor.fe7856f0.css","assets/index.ffc6c203.js"]);case"de":return j(()=>import("./assets/index.63d11508.js").then(function(t){return t.i}),["assets/index.63d11508.js","assets/vendor.a626ab9c.js","assets/vendor.fe7856f0.css","assets/index.eedadecd.js","assets/index.ffc6c203.js"]);case"de-AT":return j(()=>import("./assets/index.2ecf1365.js").then(function(t){return t.i}),["assets/index.2ecf1365.js","assets/vendor.a626ab9c.js","assets/vendor.fe7856f0.css","assets/index.eedadecd.js","assets/index.ffc6c203.js"]);case"el":return j(()=>import("./assets/index.3dfc9f28.js").then(function(t){return t.i}),["assets/index.3dfc9f28.js","assets/vendor.a626ab9c.js","assets/vendor.fe7856f0.css","assets/index.ffc6c203.js"]);case"en-AU":return j(()=>import("./assets/index.ffd3af80.js").then(function(t){return t.i}),["assets/index.ffd3af80.js","assets/vendor.a626ab9c.js","assets/vendor.fe7856f0.css","assets/index.55d799e2.js","assets/index.ffc6c203.js","assets/index.7b2f54b1.js"]);case"en-CA":return j(()=>import("./assets/index.07865455.js").then(function(t){return t.i}),["assets/index.07865455.js","assets/vendor.a626ab9c.js","assets/vendor.fe7856f0.css","assets/index.7b2f54b1.js","assets/index.ffc6c203.js"]);case"en-GB":return j(()=>import("./assets/index.71f5e63c.js").then(function(t){return t.i}),["assets/index.71f5e63c.js","assets/vendor.a626ab9c.js","assets/vendor.fe7856f0.css","assets/index.55d799e2.js","assets/index.7b2f54b1.js","assets/index.ffc6c203.js"]);case"en-IN":return j(()=>import("./assets/index.944ed685.js").then(function(t){return t.i}),["assets/index.944ed685.js","assets/vendor.a626ab9c.js","assets/vendor.fe7856f0.css","assets/index.55d799e2.js","assets/index.7b2f54b1.js","assets/index.ffc6c203.js"]);case"en-NZ":return j(()=>import("./assets/index.7c0f84b2.js").then(function(t){return t.i}),["assets/index.7c0f84b2.js","assets/vendor.a626ab9c.js","assets/vendor.fe7856f0.css","assets/index.55d799e2.js","assets/index.7b2f54b1.js","assets/index.ffc6c203.js"]);case"en-US":return j(()=>import("./assets/index.872629ec.js").then(function(t){return t.i}),["assets/index.872629ec.js","assets/vendor.a626ab9c.js","assets/vendor.fe7856f0.css","assets/index.55d799e2.js","assets/index.ffc6c203.js","assets/index.7b2f54b1.js"]);case"en-ZA":return j(()=>import("./assets/index.129fb164.js").then(function(t){return t.i}),["assets/index.129fb164.js","assets/vendor.a626ab9c.js","assets/vendor.fe7856f0.css","assets/index.55d799e2.js","assets/index.7b2f54b1.js","assets/index.ffc6c203.js"]);case"eo":return j(()=>import("./assets/index.da1f65af.js").then(function(t){return t.i}),["assets/index.da1f65af.js","assets/vendor.a626ab9c.js","assets/vendor.fe7856f0.css","assets/index.ffc6c203.js"]);case"es":return j(()=>import("./assets/index.734a95e8.js").then(function(t){return t.i}),["assets/index.734a95e8.js","assets/vendor.a626ab9c.js","assets/vendor.fe7856f0.css","assets/index.ffc6c203.js"]);case"et":return j(()=>import("./assets/index.159d3509.js").then(function(t){return t.i}),["assets/index.159d3509.js","assets/vendor.a626ab9c.js","assets/vendor.fe7856f0.css","assets/index.ffc6c203.js"]);case"eu":return j(()=>import("./assets/index.7bee8c77.js").then(function(t){return t.i}),["assets/index.7bee8c77.js","assets/vendor.a626ab9c.js","assets/vendor.fe7856f0.css","assets/index.ffc6c203.js"]);case"fa-IR":return j(()=>import("./assets/index.a1b32348.js").then(function(t){return t.i}),["assets/index.a1b32348.js","assets/vendor.a626ab9c.js","assets/vendor.fe7856f0.css","assets/index.ffc6c203.js"]);case"fi":return j(()=>import("./assets/index.6819c895.js").then(function(t){return t.i}),["assets/index.6819c895.js","assets/vendor.a626ab9c.js","assets/vendor.fe7856f0.css","assets/index.ffc6c203.js"]);case"fr":return j(()=>import("./assets/index.e0a5d0dd.js").then(function(t){return t.i}),["assets/index.e0a5d0dd.js","assets/vendor.a626ab9c.js","assets/vendor.fe7856f0.css","assets/index.1b3cf886.js","assets/index.ffc6c203.js"]);case"fr-CA":return j(()=>import("./assets/index.123a36ac.js").then(function(t){return t.i}),["assets/index.123a36ac.js","assets/vendor.a626ab9c.js","assets/vendor.fe7856f0.css","assets/index.1b3cf886.js","assets/index.ffc6c203.js"]);case"fr-CH":return j(()=>import("./assets/index.3efbdb40.js").then(function(t){return t.i}),["assets/index.3efbdb40.js","assets/vendor.a626ab9c.js","assets/vendor.fe7856f0.css","assets/index.ffc6c203.js"]);case"gd":return j(()=>import("./assets/index.132ba1c4.js").then(function(t){return t.i}),["assets/index.132ba1c4.js","assets/vendor.a626ab9c.js","assets/vendor.fe7856f0.css","assets/index.ffc6c203.js"]);case"gl":return j(()=>import("./assets/index.12744d3d.js").then(function(t){return t.i}),["assets/index.12744d3d.js","assets/vendor.a626ab9c.js","assets/vendor.fe7856f0.css","assets/index.ffc6c203.js"]);case"gu":return j(()=>import("./assets/index.8d3e2c04.js").then(function(t){return t.i}),["assets/index.8d3e2c04.js","assets/vendor.a626ab9c.js","assets/vendor.fe7856f0.css","assets/index.ffc6c203.js"]);case"he":return j(()=>import("./assets/index.c8dd9a32.js").then(function(t){return t.i}),["assets/index.c8dd9a32.js","assets/vendor.a626ab9c.js","assets/vendor.fe7856f0.css","assets/index.ffc6c203.js"]);case"hi":return j(()=>import("./assets/index.1e395c13.js").then(function(t){return t.i}),["assets/index.1e395c13.js","assets/vendor.a626ab9c.js","assets/vendor.fe7856f0.css","assets/index.ffc6c203.js"]);case"hr":return j(()=>import("./assets/index.8e3e39ae.js").then(function(t){return t.i}),["assets/index.8e3e39ae.js","assets/vendor.a626ab9c.js","assets/vendor.fe7856f0.css","assets/index.ffc6c203.js"]);case"ht":return j(()=>import("./assets/index.eee4f224.js").then(function(t){return t.i}),["assets/index.eee4f224.js","assets/vendor.a626ab9c.js","assets/vendor.fe7856f0.css","assets/index.ffc6c203.js"]);case"hu":return j(()=>import("./assets/index.c16fb6fc.js").then(function(t){return t.i}),["assets/index.c16fb6fc.js","assets/vendor.a626ab9c.js","assets/vendor.fe7856f0.css","assets/index.ffc6c203.js"]);case"hy":return j(()=>import("./assets/index.d01ff2fc.js").then(function(t){return t.i}),["assets/index.d01ff2fc.js","assets/vendor.a626ab9c.js","assets/vendor.fe7856f0.css","assets/index.ffc6c203.js"]);case"id":return j(()=>import("./assets/index.671541d9.js").then(function(t){return t.i}),["assets/index.671541d9.js","assets/vendor.a626ab9c.js","assets/vendor.fe7856f0.css","assets/index.ffc6c203.js"]);case"is":return j(()=>import("./assets/index.39d438a3.js").then(function(t){return t.i}),["assets/index.39d438a3.js","assets/vendor.a626ab9c.js","assets/vendor.fe7856f0.css","assets/index.ffc6c203.js"]);case"it":return j(()=>import("./assets/index.2a965c68.js").then(function(t){return t.i}),["assets/index.2a965c68.js","assets/vendor.a626ab9c.js","assets/vendor.fe7856f0.css","assets/index.ffc6c203.js","assets/index.dc71b91a.js"]);case"ja":return j(()=>import("./assets/index.13149be9.js").then(function(t){return t.i}),["assets/index.13149be9.js","assets/vendor.a626ab9c.js","assets/vendor.fe7856f0.css","assets/index.ffc6c203.js"]);case"ka":return j(()=>import("./assets/index.48d93056.js").then(function(t){return t.i}),["assets/index.48d93056.js","assets/vendor.a626ab9c.js","assets/vendor.fe7856f0.css","assets/index.ffc6c203.js"]);case"kk":return j(()=>import("./assets/index.307681c6.js").then(function(t){return t.i}),["assets/index.307681c6.js","assets/vendor.a626ab9c.js","assets/vendor.fe7856f0.css","assets/index.ffc6c203.js","assets/index.dc71b91a.js"]);case"kn":return j(()=>import("./assets/index.b3861ec3.js").then(function(t){return t.i}),["assets/index.b3861ec3.js","assets/vendor.a626ab9c.js","assets/vendor.fe7856f0.css","assets/index.ffc6c203.js"]);case"ko":return j(()=>import("./assets/index.7d228c67.js").then(function(t){return t.i}),["assets/index.7d228c67.js","assets/vendor.a626ab9c.js","assets/vendor.fe7856f0.css","assets/index.ffc6c203.js"]);case"lb":return j(()=>import("./assets/index.4a1a5f7b.js").then(function(t){return t.i}),["assets/index.4a1a5f7b.js","assets/vendor.a626ab9c.js","assets/vendor.fe7856f0.css","assets/index.ffc6c203.js"]);case"lt":return j(()=>import("./assets/index.1010e9a5.js").then(function(t){return t.i}),["assets/index.1010e9a5.js","assets/vendor.a626ab9c.js","assets/vendor.fe7856f0.css","assets/index.ffc6c203.js"]);case"lv":return j(()=>import("./assets/index.b22d3b87.js").then(function(t){return t.i}),["assets/index.b22d3b87.js","assets/vendor.a626ab9c.js","assets/vendor.fe7856f0.css","assets/index.ffc6c203.js","assets/index.dc71b91a.js"]);case"mk":return j(()=>import("./assets/index.8fac67f3.js").then(function(t){return t.i}),["assets/index.8fac67f3.js","assets/vendor.a626ab9c.js","assets/vendor.fe7856f0.css","assets/index.ffc6c203.js","assets/index.dc71b91a.js"]);case"mn":return j(()=>import("./assets/index.a2724a18.js").then(function(t){return t.i}),["assets/index.a2724a18.js","assets/vendor.a626ab9c.js","assets/vendor.fe7856f0.css","assets/index.ffc6c203.js"]);case"ms":return j(()=>import("./assets/index.865af0fe.js").then(function(t){return t.i}),["assets/index.865af0fe.js","assets/vendor.a626ab9c.js","assets/vendor.fe7856f0.css","assets/index.ffc6c203.js"]);case"mt":return j(()=>import("./assets/index.156ad6a0.js").then(function(t){return t.i}),["assets/index.156ad6a0.js","assets/vendor.a626ab9c.js","assets/vendor.fe7856f0.css","assets/index.ffc6c203.js"]);case"nb":return j(()=>import("./assets/index.e7b321ba.js").then(function(t){return t.i}),["assets/index.e7b321ba.js","assets/vendor.a626ab9c.js","assets/vendor.fe7856f0.css","assets/index.ffc6c203.js"]);case"nl":return j(()=>import("./assets/index.54b89000.js").then(function(t){return t.i}),["assets/index.54b89000.js","assets/vendor.a626ab9c.js","assets/vendor.fe7856f0.css","assets/index.ffc6c203.js"]);case"nl-BE":return j(()=>import("./assets/index.ae39c45d.js").then(function(t){return t.i}),["assets/index.ae39c45d.js","assets/vendor.a626ab9c.js","assets/vendor.fe7856f0.css","assets/index.ffc6c203.js"]);case"nn":return j(()=>import("./assets/index.1fd08b8f.js").then(function(t){return t.i}),["assets/index.1fd08b8f.js","assets/vendor.a626ab9c.js","assets/vendor.fe7856f0.css","assets/index.ffc6c203.js"]);case"pl":return j(()=>import("./assets/index.ab7a9d20.js").then(function(t){return t.i}),["assets/index.ab7a9d20.js","assets/vendor.a626ab9c.js","assets/vendor.fe7856f0.css","assets/index.ffc6c203.js","assets/index.dc71b91a.js"]);case"pt":return j(()=>import("./assets/index.759611b6.js").then(function(t){return t.i}),["assets/index.759611b6.js","assets/vendor.a626ab9c.js","assets/vendor.fe7856f0.css","assets/index.ffc6c203.js"]);case"pt-BR":return j(()=>import("./assets/index.6281d871.js").then(function(t){return t.i}),["assets/index.6281d871.js","assets/vendor.a626ab9c.js","assets/vendor.fe7856f0.css","assets/index.ffc6c203.js"]);case"ro":return j(()=>import("./assets/index.5e9f194d.js").then(function(t){return t.i}),["assets/index.5e9f194d.js","assets/vendor.a626ab9c.js","assets/vendor.fe7856f0.css","assets/index.ffc6c203.js"]);case"ru":return j(()=>import("./assets/index.1380be04.js").then(function(t){return t.i}),["assets/index.1380be04.js","assets/vendor.a626ab9c.js","assets/vendor.fe7856f0.css","assets/index.ffc6c203.js","assets/index.dc71b91a.js"]);case"sk":return j(()=>import("./assets/index.ec71a491.js").then(function(t){return t.i}),["assets/index.ec71a491.js","assets/vendor.a626ab9c.js","assets/vendor.fe7856f0.css","assets/index.ffc6c203.js","assets/index.dc71b91a.js"]);case"sl":return j(()=>import("./assets/index.f757af12.js").then(function(t){return t.i}),["assets/index.f757af12.js","assets/vendor.a626ab9c.js","assets/vendor.fe7856f0.css","assets/index.ffc6c203.js"]);case"sq":return j(()=>import("./assets/index.271fc58d.js").then(function(t){return t.i}),["assets/index.271fc58d.js","assets/vendor.a626ab9c.js","assets/vendor.fe7856f0.css","assets/index.ffc6c203.js"]);case"sr":return j(()=>import("./assets/index.c6b3c631.js").then(function(t){return t.i}),["assets/index.c6b3c631.js","assets/vendor.a626ab9c.js","assets/vendor.fe7856f0.css","assets/index.ffc6c203.js"]);case"sr-Latn":return j(()=>import("./assets/index.5292cb2f.js").then(function(t){return t.i}),["assets/index.5292cb2f.js","assets/vendor.a626ab9c.js","assets/vendor.fe7856f0.css","assets/index.ffc6c203.js"]);case"sv":return j(()=>import("./assets/index.53d2e106.js").then(function(t){return t.i}),["assets/index.53d2e106.js","assets/vendor.a626ab9c.js","assets/vendor.fe7856f0.css","assets/index.ffc6c203.js"]);case"ta":return j(()=>import("./assets/index.7fbf2f6a.js").then(function(t){return t.i}),["assets/index.7fbf2f6a.js","assets/vendor.a626ab9c.js","assets/vendor.fe7856f0.css","assets/index.ffc6c203.js"]);case"te":return j(()=>import("./assets/index.b2ce5853.js").then(function(t){return t.i}),["assets/index.b2ce5853.js","assets/vendor.a626ab9c.js","assets/vendor.fe7856f0.css","assets/index.ffc6c203.js"]);case"th":return j(()=>import("./assets/index.975605c7.js").then(function(t){return t.i}),["assets/index.975605c7.js","assets/vendor.a626ab9c.js","assets/vendor.fe7856f0.css","assets/index.ffc6c203.js"]);case"tr":return j(()=>import("./assets/index.634af914.js").then(function(t){return t.i}),["assets/index.634af914.js","assets/vendor.a626ab9c.js","assets/vendor.fe7856f0.css","assets/index.ffc6c203.js"]);case"ug":return j(()=>import("./assets/index.68748c2d.js").then(function(t){return t.i}),["assets/index.68748c2d.js","assets/vendor.a626ab9c.js","assets/vendor.fe7856f0.css","assets/index.ffc6c203.js"]);case"uk":return j(()=>import("./assets/index.41239663.js").then(function(t){return t.i}),["assets/index.41239663.js","assets/vendor.a626ab9c.js","assets/vendor.fe7856f0.css","assets/index.ffc6c203.js","assets/index.dc71b91a.js"]);case"uz":return j(()=>import("./assets/index.76d07b62.js").then(function(t){return t.i}),["assets/index.76d07b62.js","assets/vendor.a626ab9c.js","assets/vendor.fe7856f0.css","assets/index.ffc6c203.js"]);case"vi":return j(()=>import("./assets/index.0b19be3f.js").then(function(t){return t.i}),["assets/index.0b19be3f.js","assets/vendor.a626ab9c.js","assets/vendor.fe7856f0.css","assets/index.ffc6c203.js"]);case"zh-CN":return j(()=>import("./assets/index.87a15825.js").then(function(t){return t.i}),["assets/index.87a15825.js","assets/vendor.a626ab9c.js","assets/vendor.fe7856f0.css","assets/index.ffc6c203.js","assets/index.dc71b91a.js"]);case"zh-TW":return j(()=>import("./assets/index.f3f4fbd9.js").then(function(t){return t.i}),["assets/index.f3f4fbd9.js","assets/vendor.a626ab9c.js","assets/vendor.fe7856f0.css","assets/index.ffc6c203.js"]);default:return Promise.resolve()}}async function ro(){const e=We.global.locale.value,t=[e,e.split("-")[0],"en-US"];let o;for(const l of t)try{o=(await e$(l)).default;break}catch{continue}return o}const Pt=async(e,t,o)=>ln(e,t,ye(X({},o),{locale:await ro()}));const t$=K({props:{revision:{type:Object,required:!0},last:{type:Boolean,default:!1}},emits:["click"],setup(e){const{t}=ae(),o=E(()=>Object.keys(e.revision.delta).length),l=E(()=>{switch(e.revision.activity.action.toLowerCase()){case"create":return t("revision_delta_created");case"update":return t("revision_delta_updated",o.value);case"delete":return t("revision_delta_deleted");case"revert":return t("revision_delta_reverted");default:return t("revision_delta_other")}}),d=E(()=>ln(new Date(e.revision.activity.timestamp),String(t("date-fns_time")))),c=E(()=>{var i,s;return((s=(i=e.revision)==null?void 0:i.activity)==null?void 0:s.user)&&typeof e.revision.activity.user=="object"?Ft(e.revision.activity.user):t("private_user")});return{t,headerMessage:l,time:d,user:c}}}),n$={class:"header"},l$={class:"content"},a$={class:"time"},o$=O(" \u2013 "),i$={key:1};function s$(e,t,o,l,d,c){const i=u("user-popover");return m(),I("div",{class:re(["revision-item",{last:e.last}]),onClick:t[0]||(t[0]=s=>e.$emit("click"))},[S("div",n$,[S("span",{class:re(["dot",e.revision.activity.action])},null,2),O(" "+h(e.headerMessage),1)]),S("div",l$,[S("span",a$,h(e.time),1),o$,e.revision.activity.user?(m(),F(i,{key:0,class:"user",user:e.revision.activity.user.id},{default:a(()=>[S("span",null,h(e.user),1)]),_:1},8,["user"])):(m(),I("span",i$,h(e.t("private_user")),1))])],2)}var r$=q(t$,[["render",s$],["__scopeId","data-v-552a0966"]]);const d$=K({components:{RevisionItem:r$},props:{group:{type:Object,required:!0}},emits:["click"],setup(){return{expand:D(!0)}}}),u$={class:"scroll-container"};function c$(e,t,o,l,d,c){const i=u("revision-item"),s=u("v-detail");return m(),F(s,{modelValue:e.expand,"onUpdate:modelValue":t[0]||(t[0]=r=>e.expand=r),label:e.group.dateFormatted,class:"revisions-date-group"},{default:a(()=>[te(S("div",u$,[(m(!0),I(oe,null,he(e.group.revisions,(r,p)=>(m(),F(i,{key:r.id,revision:r,last:p===e.group.revisions.length-1,onClick:f=>e.$emit("click",r.id)},null,8,["revision","last","onClick"]))),128))],512),[[Et,e.expand]])]),_:1},8,["modelValue","label"])}var p$=q(d$,[["render",c$],["__scopeId","data-v-dcd1ff74"]]);const m$=K({props:{revisions:{type:Array,required:!0},current:{type:Number,required:!0}},emits:["update:current"],setup(e,{emit:t}){const{t:o}=ae(),l=Pe(e,"current",t),d=D(null);_e(()=>e.revisions,async()=>{const s=[];for(const r of e.revisions){const p=await i(r);let f=o("private_user");if(typeof r.activity.user=="object"){const y=r.activity.user;f=Ft(y)}const v=String(o("revision_delta_by",{date:p,user:f})),_=r.id;s.push({text:v,value:_})}d.value=s},{immediate:!0});const c=E(()=>{var s;return(s=d.value)==null?void 0:s.find(r=>r.value===l.value)});return{internalCurrent:l,options:d,selectedOption:c};async function i(s){const r=await Pt(new Date(s.activity.timestamp),String(o("date-fns_date_short"))),p=await Pt(new Date(s.activity.timestamp),String(o("date-fns_time")));return`${r} (${p})`}}}),f$=["onClick"];function _$(e,t,o,l,d,c){const i=u("v-icon"),s=u("v-list-item-content"),r=u("v-list-item"),p=u("v-list"),f=u("v-menu");return m(),F(f,{"show-arrow":""},{activator:a(({toggle:v})=>[S("span",{class:"picker",onClick:v},[O(h(e.selectedOption&&e.selectedOption.text)+" ",1),n(i,{name:"expand_more",small:""})],8,f$)]),default:a(()=>[n(p,{class:"menu"},{default:a(()=>[(m(!0),I(oe,null,he(e.options,v=>(m(),F(r,{key:v.value,clickable:"",active:e.internalCurrent===v.value,onClick:_=>e.internalCurrent=v.value},{default:a(()=>[n(i,{name:"commit_node"}),n(s,null,{default:a(()=>[O(h(v.text),1)]),_:2},1024)]),_:2},1032,["active","onClick"]))),128))]),_:1})]),_:1})}var v$=q(m$,[["render",_$],["__scopeId","data-v-2f4d8b82"]]);const y$=K({props:{revision:{type:Object,required:!0}},setup(){const{t:e}=ae();return{t:e}}}),g$=e=>(He("data-v-2d744eb6"),e=e(),Ge(),e),h$=g$(()=>S("br",null,null,-1));function b$(e,t,o,l,d,c){const i=u("v-notice"),s=u("v-form");return m(),I("div",null,[n(i,{type:"info"},{default:a(()=>[O(h(e.revision.activity.action==="create"?e.t("revision_post_create"):e.t("revision_post_update"))+" ",1),h$,O(" "+h(e.t("no_relational_data")),1)]),_:1}),n(s,{disabled:"",collection:e.revision.collection,"primary-key":e.revision.item,"initial-values":e.revision.data},null,8,["collection","primary-key","initial-values"])])}var $$=q(y$,[["render",b$],["__scopeId","data-v-2d744eb6"]]);const k$=K({props:{changes:{type:Array,required:!0},added:{type:Boolean,default:!1},deleted:{type:Boolean,default:!1}},setup(e){const{t}=ae(),o=E(()=>e.changes.filter(d=>e.added===!0?d.removed!==!0:d.added!==!0)),l=E(()=>e.changes.length===2);return{t,changesFiltered:o,wholeThing:l}}}),w$={class:"delta"},C$={key:1,class:"no-value"};function S$(e,t,o,l,d,c){const i=u("v-icon");return m(),I("div",{class:re(["change-line",{added:e.added,deleted:e.deleted,"no-highlight":e.wholeThing}])},[n(i,{name:e.added?"add":"remove"},null,8,["name"]),S("div",w$,[(m(!0),I(oe,null,he(e.changesFiltered,(s,r)=>(m(),I("span",{key:r,class:re({changed:s.added||s.removed})},[s.value?(m(),I(oe,{key:0},[O(h(s.value),1)],64)):(m(),I("span",C$,h(e.t("no_value")),1))],2))),128))])],2)}var F$=q(k$,[["render",S$],["__scopeId","data-v-481ea258"]]);const V$=K({components:{RevisionsDrawerUpdatesChange:F$},props:{revision:{type:Object,required:!0},revisions:{type:Array,required:!0}},setup(e){const{t}=ae(),o=ze(),l=E(()=>{const c=e.revisions.findIndex(i=>i.id===e.revision.id);return e.revisions[c+1]}),d=E(()=>l.value?Object.keys(e.revision.delta).map(i=>{var v;const s=(v=o.getField(e.revision.collection,i))==null?void 0:v.name;if(!s)return null;const r=e.revision.delta[i],p=l.value.data[i];if(H.exports.isEqual(r,p))return null;let f;return typeof p=="string"&&typeof r=="string"&&r.length>25?f=xi(p,r):Array.isArray(p)&&Array.isArray(r)?f=es(p,r):p&&r&&typeof r=="object"&&typeof r=="object"?f=ts(p,r):f=[{removed:!0,value:p},{added:!0,value:r}],{name:s,changes:f}}).filter(i=>i):null);return{t,changes:d,previousRevision:l}}}),E$=e=>(He("data-v-09850b86"),e=e(),Ge(),e),I$={class:"updates"},A$=E$(()=>S("br",null,null,-1)),D$={class:"type-label"};function O$(e,t,o,l,d,c){const i=u("v-notice"),s=u("revisions-drawer-updates-change");return m(),I("div",I$,[n(i,{type:"info"},{default:a(()=>[O(h(e.t("changes_made"))+" ",1),A$,O(" "+h(e.t("no_relational_data")),1)]),_:1}),(m(!0),I(oe,null,he(e.changes,r=>(m(),I("div",{key:r.name,class:"change"},[S("div",D$,h(r.name),1),n(s,{deleted:"",changes:r.changes},null,8,["changes"]),n(s,{added:"",changes:r.changes},null,8,["changes"])]))),128))])}var P$=q(V$,[["render",O$],["__scopeId","data-v-09850b86"]]);const T$=K({components:{RevisionsDrawerPicker:v$,RevisionsDrawerPreview:$$,RevisionsDrawerUpdates:P$},props:{revisions:{type:Array,required:!0},current:{type:[Number,String],default:null},active:{type:Boolean,default:!1}},emits:["revert","update:active","update:current"],setup(e,{emit:t}){const{t:o}=ae(),l=Pe(e,"active",t),d=Pe(e,"current",t),c=D(["updates_made"]),i=E(()=>{var _;return((_=s.value)==null?void 0:_.activity.action)==="create"?o("item_creation"):o("item_revision")}),s=E(()=>e.revisions.find(_=>_.id===e.current)),r=E(()=>{const _=e.revisions.findIndex(y=>y.id===e.current);return e.revisions[_+1]}),p=E(()=>{var _;return((_=s.value)==null?void 0:_.activity.action)==="create"?[{text:o("creation_preview"),value:"revision_preview"}]:[{text:o("updates_made"),value:"updates_made"},{text:o("revision_preview"),value:"revision_preview"}]}),f=E(()=>{var _;return((_=s.value)==null?void 0:_.activity.action)!=="create"});return ns(()=>c.value=[p.value[0].value]),{t:o,internalActive:l,internalCurrent:d,title:i,currentRevision:s,currentTab:c,tabs:p,hasPastRevision:f,revert:v};function v(){var y,b;if(!s.value)return;const _={};for(const[w,$]of Object.entries(s.value.delta)){const k=(b=(y=r.value)==null?void 0:y.data[w])!=null?b:null;H.exports.isEqual($,k)||(_[w]=k)}t("revert",_),l.value=!1}}}),L$={class:"content"};function j$(e,t,o,l,d,c){const i=u("revisions-drawer-picker"),s=u("v-tab"),r=u("v-tabs"),p=u("revisions-drawer-updates"),f=u("revisions-drawer-preview"),v=u("v-icon"),_=u("v-button"),y=u("v-drawer"),b=Ce("tooltip");return m(),I("div",null,[n(y,{modelValue:e.internalActive,"onUpdate:modelValue":t[3]||(t[3]=w=>e.internalActive=w),title:e.title,icon:"change_history","sidebar-label":e.t(e.currentTab[0]),onCancel:t[4]||(t[4]=w=>e.internalActive=!1)},{subtitle:a(()=>[n(i,{current:e.internalCurrent,"onUpdate:current":t[0]||(t[0]=w=>e.internalCurrent=w),revisions:e.revisions},null,8,["current","revisions"])]),sidebar:a(()=>[n(r,{modelValue:e.currentTab,"onUpdate:modelValue":t[1]||(t[1]=w=>e.currentTab=w),vertical:""},{default:a(()=>[(m(!0),I(oe,null,he(e.tabs,w=>(m(),F(s,{key:w.value,value:w.value},{default:a(()=>[O(h(w.text),1)]),_:2},1032,["value"]))),128))]),_:1},8,["modelValue"])]),actions:a(()=>[e.hasPastRevision?te((m(),F(_,{key:0,class:"revert",icon:"",rounded:"",onClick:e.revert},{default:a(()=>[n(v,{name:"restore"})]),_:1},8,["onClick"])),[[b,e.t("revert"),void 0,{bottom:!0}]]):N("",!0),te(n(_,{icon:"",rounded:"",onClick:t[2]||(t[2]=w=>e.internalActive=!1)},{default:a(()=>[n(v,{name:"check"})]),_:1},512),[[b,e.t("done"),void 0,{bottom:!0}]])]),default:a(()=>[S("div",L$,[e.currentTab[0]==="updates_made"?(m(),F(p,{key:0,revision:e.currentRevision,revisions:e.revisions},null,8,["revision","revisions"])):N("",!0),e.currentTab[0]==="revision_preview"?(m(),F(f,{key:1,revision:e.currentRevision},null,8,["revision"])):N("",!0)])]),_:1},8,["modelValue","title","sidebar-label"])])}var R$=q(T$,[["render",j$],["__scopeId","data-v-ca277ace"]]);function xl(e,t=0,o=["K","M","B","T"]){const l=e<0;e=Math.abs(e);let d=String(e);if(e>=1e3){const c=Math.pow(10,t);for(let i=o.length-1;i>=0;i--){const s=Math.pow(10,(i+1)*3);if(s<=e){e=Math.round(e*c/s)/c,e===1e3&&i<o.length-1&&(e=1,i++),d=e.toFixed(t)+o[i];break}}}return l&&(d=`-${d}`),d}const M$=K({components:{RevisionsDrawer:R$,RevisionsDateGroup:p$},props:{collection:{type:String,required:!0},primaryKey:{type:[String,Number],required:!0}},emits:["revert"],setup(e){const{t}=ae(),{revisions:o,revisionsByDate:l,loading:d,refresh:c,revisionsCount:i,pagesCount:s,created:r}=y(e.collection,e.primaryKey),p=D(!1),f=D(null),v=D(1);return _e(()=>v.value,b=>{c(b)}),{t,revisions:o,revisionsByDate:l,loading:d,refresh:c,modalActive:p,modalCurrentRevision:f,openModal:_,revisionsCount:i,created:r,page:v,pagesCount:s,abbreviateNumber:xl};function _(b){f.value=b,p.value=!0}function y(b,w){const $=D(null),k=D(null),V=D(!1),g=D(0),A=D(),R=D(0);return L(),{created:A,revisions:$,revisionsByDate:k,loading:V,refresh:M,revisionsCount:g,pagesCount:R};async function L(T=0){var B;V.value=!0;const U=100;try{const z=await de.get("/revisions",{params:{filter:{collection:{_eq:b},item:{_eq:w}},sort:"-id",limit:U,page:T,fields:["id","data","delta","collection","item","activity.action","activity.timestamp","activity.user.id","activity.user.email","activity.user.first_name","activity.user.last_name","activity.ip","activity.user_agent"],meta:["filter_count"]}}),W=await de.get("/revisions",{params:{filter:{collection:{_eq:b},item:{_eq:w},activity:{action:{_eq:"create"}}},sort:"-id",limit:1,fields:["id","data","delta","collection","item","activity.action","activity.timestamp","activity.user.id","activity.user.email","activity.user.first_name","activity.user.last_name","activity.ip","activity.user_agent"],meta:["filter_count"]}});A.value=(B=W.data.data)==null?void 0:B[0];const J=H.exports.groupBy(z.data.data.filter(G=>!!G.activity),G=>new Date(new Date(G.activity.timestamp).toDateString())),Q=[];for(const[G,x]of Object.entries(J)){const ee=new Date(G),ne=Ua(ee),ie=Na(ee),pe=Ba(ee);let Y;ne?Y=t("today"):ie?Y=t("yesterday"):pe?Y=await Pt(ee,String(t("date-fns_date_short_no_year"))):Y=await Pt(ee,String(t("date-fns_date_short"))),Q.push({date:ee,dateFormatted:String(Y),revisions:H.exports.orderBy(x,["activity.timestamp"],["desc"])})}k.value=H.exports.orderBy(Q,["date"],["desc"]),$.value=H.exports.orderBy(z.data.data,["activity.timestamp"],["desc"]),g.value=z.data.meta.filter_count,R.value=Math.ceil(g.value/U)}catch(z){Fe(z)}finally{V.value=!1}}async function M(T=0){await L(T)}}}}),U$={class:"external"};function N$(e,t,o,l,d,c){const i=u("v-progress-linear"),s=u("RevisionsDateGroup"),r=u("v-divider"),p=u("v-pagination"),f=u("revisions-drawer"),v=u("sidebar-detail");return m(),F(v,{title:e.t("revisions"),icon:"change_history",badge:!e.loading&&e.revisions?e.abbreviateNumber(e.revisionsCount):null},{default:a(()=>[e.loading?(m(),F(i,{key:0,indeterminate:""})):(m(),I(oe,{key:1},[(m(!0),I(oe,null,he(e.revisionsByDate,_=>(m(),F(s,{key:_.date.toString(),group:_,onClick:e.openModal},null,8,["group","onClick"]))),128)),e.page==e.pagesCount&&!e.created?(m(),I(oe,{key:0},[e.revisionsByDate.length>0?(m(),F(r,{key:0})):N("",!0),S("div",U$,h(e.t("revision_delta_created_externally")),1)],64)):N("",!0),e.pagesCount>1?(m(),F(p,{key:1,modelValue:e.page,"onUpdate:modelValue":t[0]||(t[0]=_=>e.page=_),length:e.pagesCount,"total-visible":2},null,8,["modelValue","length"])):N("",!0)],64)),e.revisions?(m(),F(f,{key:2,current:e.modalCurrentRevision,"onUpdate:current":t[1]||(t[1]=_=>e.modalCurrentRevision=_),active:e.modalActive,"onUpdate:active":t[2]||(t[2]=_=>e.modalActive=_),revisions:e.revisions,onRevert:t[3]||(t[3]=_=>e.$emit("revert",_))},null,8,["current","active","revisions"])):N("",!0)]),_:1},8,["title","badge"])}var Kn=q(M$,[["render",N$],["__scopeId","data-v-427239ad"]]);const kl=new Set([]),Wt={};document.body.addEventListener("keydown",e=>{e.repeat||!e.key||(kl.add(B$(e)),q$(e))});document.body.addEventListener("keyup",e=>{e.repeat||!e.key||kl.clear()});function tt(e,t,o=D(document.body)){const l=(d,c)=>{if(!o.value)return;const i=o.value instanceof HTMLElement?o.value:o.value.$el;return document.activeElement===i||i.contains(document.activeElement)||document.activeElement===document.body?(d.preventDefault(),t(d,c)):!1};rt(()=>{[e].flat().forEach(d=>{d in Wt?Wt[d].unshift(l):Wt[d]=[l]})}),Ct(()=>{[e].flat().forEach(d=>{d in Wt&&(Wt[d]=Wt[d].filter(c=>c!==l),Wt[d].length===0&&delete Wt[d])})})}function B$(e){const t={Control:"meta",Command:"meta"},o=/^[a-zA-Z0-9]*?$/g;let l=e.key.match(o)===null?e.code.replace(/(Key|Digit)/g,""):e.key;return l=l in t?t[l]:l,l=l.toLowerCase(),l}function q$(e){Object.entries(Wt).forEach(([t,o])=>{const l=t.split("+");for(t of kl)if(l.includes(t)===!1)return;for(t of l)if(kl.has(t)===!1)return;for(let d=0;d<o.length;d++){let c=!1;if(o[d](e,()=>{c=!0}),typeof c=="boolean"&&c)break}})}let ea;function kt(e){ea||(ea=Al()),ea.add(e)}const z$=K({props:{refresh:{type:Function,required:!0},collection:{type:String,required:!0},primaryKey:{type:[Number,String],required:!0}},setup(e){const{t}=ae(),o=D();tt("meta+enter",c,o);const l=D(null),d=D(!1);return{t,newCommentContent:l,postComment:c,saving:d,textarea:o};async function c(){if(!(l.value===null||l.value.length===0)){d.value=!0;try{await de.post("/activity/comment",{collection:e.collection,item:e.primaryKey,comment:l.value}),await e.refresh(),l.value=null,kt({title:t("post_comment_success"),type:"success"})}catch(i){Fe(i)}finally{d.value=!1}}}}});function K$(e,t,o,l,d,c){const i=u("v-button"),s=u("v-textarea");return m(),F(s,{ref:"textarea",modelValue:e.newCommentContent,"onUpdate:modelValue":t[0]||(t[0]=r=>e.newCommentContent=r),class:"new-comment",placeholder:e.t("leave_comment"),"expand-on-focus":""},{append:a(()=>[n(i,{disabled:!e.newCommentContent||e.newCommentContent.length===0,loading:e.saving,class:"post-comment","x-small":"",onClick:e.postComment},{default:a(()=>[O(h(e.t("submit")),1)]),_:1},8,["disabled","loading","onClick"])]),_:1},8,["modelValue","placeholder"])}var W$=q(z$,[["render",K$],["__scopeId","data-v-67239b96"]]);function Xe(){const t=window.location.pathname.split("/"),o=t.indexOf("admin");return t.slice(0,o).join("/")+"/"}function uo(){const t=window.location.href.split("/"),o=t.indexOf("admin");return t.slice(0,o).join("/")+"/"}const H$=K({props:{activity:{type:Object,required:!0},refresh:{type:Function,required:!0}},emits:["edit"],setup(e){const{t}=ae(),o=E(()=>e.activity.timestamp?ln(new Date(e.activity.timestamp),String(t("date-fns_time_no_seconds"))):null),l=E(()=>{var r;return((r=e.activity.user)==null?void 0:r.avatar)?ut(Xe()+`assets/${e.activity.user.avatar.id}?key=system-small-cover`):null}),{confirmDelete:d,deleting:c,remove:i}=s();return{t,formattedTime:o,avatarSource:l,confirmDelete:d,deleting:c,remove:i,userName:Ft};function s(){const r=D(!1),p=D(!1);return{confirmDelete:r,deleting:p,remove:f};async function f(){p.value=!0;try{await de.delete(`/activity/comment/${e.activity.id}`),await e.refresh(),r.value=!1}catch(v){Fe(v)}finally{p.value=!1}}}}}),G$={class:"comment-header"},Q$=["src","alt"],X$={class:"name"},J$={class:"header-right"},Y$={class:"time"};function Z$(e,t,o,l,d,c){const i=u("v-icon"),s=u("v-avatar"),r=u("user-popover"),p=u("v-list-item-icon"),f=u("v-list-item-content"),v=u("v-list-item"),_=u("v-list"),y=u("v-menu"),b=u("v-card-title"),w=u("v-card-text"),$=u("v-button"),k=u("v-card-actions"),V=u("v-card"),g=u("v-dialog");return m(),I("div",G$,[n(s,{"x-small":""},{default:a(()=>[e.avatarSource?(m(),I("img",{key:0,src:e.avatarSource,alt:e.userName(e.activity.user)},null,8,Q$)):(m(),F(i,{key:1,name:"person_outline"}))]),_:1}),S("div",X$,[e.activity.user&&e.activity.user.id?(m(),F(r,{key:0,user:e.activity.user.id},{default:a(()=>[S("span",null,[e.activity.user&&e.activity.user?(m(),I(oe,{key:0},[O(h(e.userName(e.activity.user)),1)],64)):(m(),I(oe,{key:1},[O(h(e.t("private_user")),1)],64))])]),_:1},8,["user"])):N("",!0)]),S("div",J$,[n(y,{"show-arrow":"",placement:"bottom-end"},{activator:a(({toggle:A,active:R})=>[n(i,{class:re(["more",{active:R}]),name:"more_horiz",clickable:"",onClick:A},null,8,["class","onClick"]),S("div",Y$,h(e.formattedTime),1)]),default:a(()=>[n(_,null,{default:a(()=>[n(v,{clickable:"",onClick:t[0]||(t[0]=A=>e.$emit("edit"))},{default:a(()=>[n(p,null,{default:a(()=>[n(i,{name:"edit",outline:""})]),_:1}),n(f,null,{default:a(()=>[O(h(e.t("edit")),1)]),_:1})]),_:1}),n(v,{clickable:"",onClick:t[1]||(t[1]=A=>e.confirmDelete=!0)},{default:a(()=>[n(p,null,{default:a(()=>[n(i,{name:"delete",outline:""})]),_:1}),n(f,null,{default:a(()=>[O(h(e.t("delete_label")),1)]),_:1})]),_:1})]),_:1})]),_:1})]),n(g,{modelValue:e.confirmDelete,"onUpdate:modelValue":t[3]||(t[3]=A=>e.confirmDelete=A),onEsc:t[4]||(t[4]=A=>e.confirmDelete=!1)},{default:a(()=>[n(V,null,{default:a(()=>[n(b,null,{default:a(()=>[O(h(e.t("delete_comment")),1)]),_:1}),n(w,null,{default:a(()=>[O(h(e.t("delete_are_you_sure")),1)]),_:1}),n(k,null,{default:a(()=>[n($,{secondary:"",onClick:t[2]||(t[2]=A=>e.confirmDelete=!1)},{default:a(()=>[O(h(e.t("cancel")),1)]),_:1}),n($,{kind:"danger",loading:e.deleting,onClick:e.remove},{default:a(()=>[O(h(e.t("delete_label")),1)]),_:1},8,["loading","onClick"])]),_:1})]),_:1})]),_:1},8,["modelValue"])])}var x$=q(H$,[["render",Z$],["__scopeId","data-v-cb2ab15c"]]);const ek=K({components:{CommentItemHeader:x$},props:{activity:{type:Object,required:!0},refresh:{type:Function,required:!0}},setup(e){const{t}=ae(),o=D(),{edits:l,editing:d,savingEdits:c,saveEdits:i,cancelEditing:s}=r();return tt("meta+enter",i,o),{t,edits:l,editing:d,savingEdits:c,saveEdits:i,cancelEditing:s,textarea:o};function r(){const p=D(e.activity.comment),f=D(!1),v=D(!1);return _e(()=>e.activity,()=>p.value=e.activity.comment),{edits:p,editing:f,savingEdits:v,saveEdits:_,cancelEditing:y};async function _(){v.value=!0;try{await de.patch(`/activity/comment/${e.activity.id}`,{comment:p.value}),await e.refresh()}catch(b){Fe(b)}finally{v.value=!1,f.value=!1}}function y(){p.value=e.activity.comment,f.value=!1}}}}),tk={class:"comment-item"},nk={class:"buttons"},lk={key:1,class:"content"},ak={class:"selectable"};function ok(e,t,o,l,d,c){const i=u("comment-item-header"),s=u("v-button"),r=u("v-textarea"),p=Ce("md");return m(),I("div",tk,[n(i,{refresh:e.refresh,activity:e.activity,onEdit:t[0]||(t[0]=f=>e.editing=!0)},null,8,["refresh","activity"]),e.editing?(m(),F(r,{key:0,ref:"textarea",modelValue:e.edits,"onUpdate:modelValue":t[1]||(t[1]=f=>e.edits=f)},{append:a(()=>[S("div",nk,[n(s,{class:"cancel",secondary:"","x-small":"",onClick:e.cancelEditing},{default:a(()=>[O(h(e.t("cancel")),1)]),_:1},8,["onClick"]),n(s,{loading:e.savingEdits,class:"post-comment","x-small":"",disabled:e.edits===e.activity.comment,onClick:e.saveEdits},{default:a(()=>[O(h(e.t("save")),1)]),_:1},8,["loading","disabled","onClick"])])]),_:1},8,["modelValue"])):(m(),I("div",lk,[te(S("span",ak,null,512),[[p,e.activity.comment]])]))])}var ik=q(ek,[["render",ok],["__scopeId","data-v-2216c33f"]]);const sk=K({components:{CommentInput:W$,CommentItem:ik},props:{collection:{type:String,required:!0},primaryKey:{type:[String,Number],required:!0}},setup(e){const{t}=ae(),{activity:o,loading:l,error:d,refresh:c,count:i}=s(e.collection,e.primaryKey);return{t,activity:o,loading:l,error:d,refresh:c,count:i};function s(r,p){const f=D(null),v=D(0),_=D(null),y=D(!1);return b(),{activity:f,error:_,loading:y,refresh:w,count:v};async function b(){_.value=null,y.value=!0;try{const $=await de.get("/activity",{params:{"filter[collection][_eq]":r,"filter[item][_eq]":p,"filter[action][_in]":"comment",sort:"-id",fields:["id","action","timestamp","user.id","user.email","user.first_name","user.last_name","user.avatar.id","revisions.id","comment"]}});v.value=$.data.data.length;const k=H.exports.groupBy($.data.data,g=>new Date(new Date(g.timestamp).toDateString())),V=[];for(const[g,A]of Object.entries(k)){const R=new Date(g),L=Ua(R),M=Na(R),T=Ba(R);let U;L?U=t("today"):M?U=t("yesterday"):T?U=await Pt(R,String(t("date-fns_date_short_no_year"))):U=await Pt(R,String(t("date-fns_date_short"))),V.push({date:R,dateFormatted:String(U),activity:A})}f.value=H.exports.orderBy(V,["date"],["desc"])}catch($){$.value=$}finally{y.value=!1}}async function w(){await b()}}}}),rk={key:1,class:"empty"},dk={class:"content"};function uk(e,t,o,l,d,c){const i=u("comment-input"),s=u("v-progress-linear"),r=u("v-divider"),p=u("comment-item"),f=u("sidebar-detail");return m(),F(f,{title:e.t("comments"),icon:"chat_bubble_outline",badge:e.count||null},{default:a(()=>[n(i,{refresh:e.refresh,collection:e.collection,"primary-key":e.primaryKey},null,8,["refresh","collection","primary-key"]),e.loading?(m(),F(s,{key:0,indeterminate:""})):!e.activity||e.activity.length===0?(m(),I("div",rk,[S("div",dk,h(e.t("no_comments")),1)])):(m(!0),I(oe,{key:2},he(e.activity,v=>(m(),I(oe,{key:v.date.toString()},[n(r,null,{default:a(()=>[O(h(v.dateFormatted),1)]),_:2},1024),(m(!0),I(oe,null,he(v.activity,_=>(m(),F(p,{key:_.id,refresh:e.refresh,activity:_},null,8,["refresh","activity"]))),128))],64))),128))]),_:1},8,["title","badge"])}var ta=q(sk,[["render",uk],["__scopeId","data-v-6aeefb6c"]]);class ck extends Error{constructor(t,o,l,d){super(t);this.status=o,this.code=l,this.extensions=d||{}}}class pk extends ck{constructor(t){var o,l,d,c,i,s,r,p,f,v,_,y,b,w;const $={field:t.path[0]},k=t.type;if(k.endsWith("only"))if(((o=t.context)===null||o===void 0?void 0:o.valids.length)>1)$.type="in",$.valid=(l=t.context)===null||l===void 0?void 0:l.valids;else{const V=(d=t.context)===null||d===void 0?void 0:d.valids[0];V===null?$.type="null":V===""?$.type="empty":($.type="eq",$.valid=(c=t.context)===null||c===void 0?void 0:c.valids[0])}if(k.endsWith("invalid"))if(((i=t.context)===null||i===void 0?void 0:i.invalids.length)>1)$.type="nin",$.invalid=(s=t.context)===null||s===void 0?void 0:s.invalids;else{const V=(r=t.context)===null||r===void 0?void 0:r.invalids[0];V===null?$.type="nnull":V===""?$.type="nempty":($.type="neq",$.invalid=V)}k.endsWith("greater")&&($.type="gt",$.valid=(p=t.context)===null||p===void 0?void 0:p.limit),k.endsWith("min")&&($.type="gte",$.valid=(f=t.context)===null||f===void 0?void 0:f.limit),k.endsWith("less")&&($.type="lt",$.valid=(v=t.context)===null||v===void 0?void 0:v.limit),k.endsWith("max")&&($.type="lte",$.valid=(_=t.context)===null||_===void 0?void 0:_.limit),k.endsWith("contains")&&($.type="contains",$.substring=(y=t.context)===null||y===void 0?void 0:y.substring),k.endsWith("ncontains")&&($.type="ncontains",$.substring=(b=t.context)===null||b===void 0?void 0:b.substring),k.endsWith("required")&&($.type="required"),k.endsWith(".pattern.base")&&($.type="regex",$.invalid=(w=t.context)===null||w===void 0?void 0:w.value);super(t.message,400,"FAILED_VALIDATION",$)}}function Ht(e){return e.startsWith("directus_")?`/${e.substring(9)}`:`/items/${e}`}function Wn(e){const t=xe();if(!t.currentUser)return e;const o={role:t.currentUser.role.id,user:t.currentUser.id};return L1(e,o)}function Cn(e,t){const{info:o,primaryKeyField:l,fields:d}=at(e),c=D(null),i=D(null),s=D([]),r=D(!1),p=D(!1),f=D(!1),v=D(!1),_=D({}),y=E(()=>t.value==="+"),b=E(()=>typeof t.value=="string"&&t.value.includes(",")),w=E(()=>{var B,z;return!!((z=(B=o.value)==null?void 0:B.meta)==null?void 0:z.singleton)}),$=E(()=>{var B,z,W,J;return((z=(B=o.value)==null?void 0:B.meta)==null?void 0:z.archive_field)?o.value.meta.archive_value==="true"?((W=c.value)==null?void 0:W[o.value.meta.archive_field])===!0:((J=c.value)==null?void 0:J[o.value.meta.archive_field])===o.value.meta.archive_value:null}),k=E(()=>w.value?Ht(e.value):`${Ht(e.value)}/${encodeURIComponent(t.value)}`);return _e([e,t],M,{immediate:!0}),{edits:_,item:c,error:i,loading:r,saving:p,refresh:M,save:g,isNew:y,remove:L,deleting:f,archive:R,isArchived:$,archiving:v,saveAsCopy:A,isBatch:b,getItem:V,validationErrors:s};async function V(){r.value=!0,i.value=null;try{const B=await de.get(k.value);T(B)}catch(B){i.value=B}finally{r.value=!1}}async function g(){var z,W;p.value=!0,s.value=[];const B=U(_.value);if(B.length>0)throw s.value=B,p.value=!1,B;try{let J;return y.value===!0?(J=await de.post(Ht(e.value),_.value),kt({title:We.global.t("item_create_success",b.value?2:1),type:"success"})):(J=await de.patch(k.value,_.value),kt({title:We.global.t("item_update_success",b.value?2:1),type:"success"})),T(J),_.value={},J.data.data}catch(J){if((W=(z=J==null?void 0:J.response)==null?void 0:z.data)==null?void 0:W.errors){s.value=J.response.data.errors.filter(G=>{var x;return $l.includes((x=G==null?void 0:G.extensions)==null?void 0:x.code)}).map(G=>G.extensions);const Q=J.response.data.errors.filter(G=>{var x;return $l.includes((x=G==null?void 0:G.extensions)==null?void 0:x.code)===!1});Q.length>0&&Q.forEach(Fe)}else Fe(J);throw J}finally{p.value=!1}}async function A(){var Q,G,x,ee;p.value=!0,s.value=[];const B=((G=(Q=o.value)==null?void 0:Q.meta)==null?void 0:G.item_duplication_fields)||["*"],z=await de.get(k.value,{params:{fields:B}}),W=X(X({},z.data.data||{}),_.value);l.value&&l.value.field in W&&delete W[l.value.field];const J=U(W);if(J.length>0)throw s.value=J,p.value=!1,J;try{const ne=await de.post(Ht(e.value),W);return kt({title:We.global.t("item_create_success",1),type:"success"}),_.value={},l.value?ne.data.data[l.value.field]:null}catch(ne){if((ee=(x=ne==null?void 0:ne.response)==null?void 0:x.data)==null?void 0:ee.errors)s.value=ne.response.data.errors.filter(ie=>{var pe;return((pe=ie==null?void 0:ie.extensions)==null?void 0:pe.code)==="FAILED_VALIDATION"}).map(ie=>ie.extensions);else throw Fe(ne),ne}finally{p.value=!1}}async function R(){var J,Q;if(!((Q=(J=o.value)==null?void 0:J.meta)==null?void 0:Q.archive_field))return;v.value=!0;const B=o.value.meta.archive_field;let z=o.value.meta.archive_value;z==="true"&&(z=!0),z==="false"&&(z=!1);let W=o.value.meta.unarchive_value;W==="true"&&(W=!0),W==="false"&&(W=!1);try{let G=c.value&&c.value[B]===z?W:z;G==="true"&&(G=!0),G==="false"&&(G=!1),c.value=ye(X({},c.value),{[B]:G}),await de.patch(k.value,{[B]:G}),kt({title:We.global.t("item_delete_success",b.value?2:1),type:"success"})}catch(G){throw Fe(G),G}finally{v.value=!1}}async function L(){f.value=!0;try{await de.delete(k.value),c.value=null,kt({title:We.global.t("item_delete_success",b.value?2:1),type:"success"})}catch(B){throw Fe(B),B}finally{f.value=!1}}function M(){i.value=null,r.value=!1,p.value=!1,f.value=!1,y.value===!0?c.value=null:V()}function T(B){var z;if(((z=B.data.data.collection)==null?void 0:z.startsWith("directus_"))&&(B.data.data=St(B.data.data)),b.value===!1)c.value=B.data.data;else{const W=X({},B.data.data[0]);B.data.data.forEach(J=>{for(const[Q,G]of Object.entries(J))W[Q]!==G&&delete W[Q]}),c.value=W}}function U(B){var G;const z={_and:[]},W=x=>{var ee;if(x.meta&&Array.isArray((ee=x.meta)==null?void 0:ee.conditions)){const ie=[...x.meta.conditions].reverse().find(pe=>{if(!pe.rule||Object.keys(pe.rule).length!==1)return;const Y=Wn(pe.rule);return qn(Y,B,{requireAll:!0}).length===0});return ie?ye(X({},x),{meta:H.exports.merge({},x.meta||{},{readonly:ie.readonly,options:ie.options,hidden:ie.hidden,required:ie.required})}):x}else return x},Q=d.value.map(x=>W(x)).filter(x=>{var ee;return((ee=x.meta)==null?void 0:ee.required)===!0});for(const x of Q)y.value===!0&&H.exports.isNil((G=x.schema)==null?void 0:G.default_value)&&z._and.push({[x.field]:{_submitted:!0}}),z._and.push({[x.field]:{_nnull:!0}});return H.exports.flatten(qn(z,B).map(x=>x.details.map(ee=>new pk(ee).extensions)))}}function na(e){return e.charAt(0).toUpperCase()+e.slice(1)}function co(e){return navigator.platform.toLowerCase().startsWith("mac")||navigator.platform.startsWith("iP")?e.map(o=>o==="meta"?"\u2318":o==="option"?"\u2325":o==="shift"?"\u21E7":o==="alt"?"\u2325":na(o)).join(""):e.map(o=>o==="meta"?"Ctrl":na(o)).join("+")}const mk=K({props:{disabled:{type:Boolean,default:!1}},emits:["save-and-stay","save-and-add-new","save-as-copy"],setup(){const{t:e}=ae();return{t:e,translateShortcut:co}}});function fk(e,t,o,l,d,c){const i=u("v-icon"),s=u("v-list-item-icon"),r=u("v-list-item-content"),p=u("v-list-item-hint"),f=u("v-list-item"),v=u("v-list"),_=u("v-menu");return m(),F(_,{"show-arrow":"",disabled:e.disabled},{activator:a(({toggle:y})=>[n(i,{class:re({disabled:e.disabled}),name:"more_vert",clickable:"",onClick:y},null,8,["class","onClick"])]),default:a(()=>[n(v,null,{default:a(()=>[n(f,{disabled:e.disabled,clickable:"",onClick:t[0]||(t[0]=y=>e.$emit("save-and-stay"))},{default:a(()=>[n(s,null,{default:a(()=>[n(i,{name:"check"})]),_:1}),n(r,null,{default:a(()=>[O(h(e.t("save_and_stay")),1)]),_:1}),n(p,null,{default:a(()=>[O(h(e.translateShortcut(["meta","s"])),1)]),_:1})]),_:1},8,["disabled"]),n(f,{disabled:e.disabled,clickable:"",onClick:t[1]||(t[1]=y=>e.$emit("save-and-add-new"))},{default:a(()=>[n(s,null,{default:a(()=>[n(i,{name:"add"})]),_:1}),n(r,null,{default:a(()=>[O(h(e.t("save_and_create_new")),1)]),_:1}),n(p,null,{default:a(()=>[O(h(e.translateShortcut(["meta","shift","s"])),1)]),_:1})]),_:1},8,["disabled"]),n(f,{disabled:e.disabled,clickable:"",onClick:t[2]||(t[2]=y=>e.$emit("save-as-copy"))},{default:a(()=>[n(s,null,{default:a(()=>[n(i,{name:"done_all"})]),_:1}),n(r,null,{default:a(()=>[O(h(e.t("save_as_copy")),1)]),_:1})]),_:1},8,["disabled"])]),_:1})]),_:1},8,["disabled"])}var wl=q(mk,[["render",fk],["__scopeId","data-v-6cae65c2"]]);const dt=qa.extend({type:"string",base:qa.string(),messages:{"string.contains":"{{#label}} must contain [{{#substring}}]","string.ncontains":"{{#label}} can't contain [{{#substring}}]"},rules:{contains:{args:[{name:"substring",ref:!0,assert:e=>typeof e=="string",message:"must be a string"}],method(e){return this.$_addRule({name:"contains",args:{substring:e}})},validate(e,t,{substring:o}){return e.includes(o)===!1?t.error("string.contains",{substring:o}):e}},ncontains:{args:[{name:"substring",ref:!0,assert:e=>typeof e=="string",message:"must be a string"}],method(e){return this.$_addRule({name:"ncontains",args:{substring:e}})},validate(e,t,{substring:o}){return e.includes(o)===!0?t.error("string.ncontains",{substring:o}):e}}}}),_k={allowUnknown:!0,requireAll:!1};function vk(e,t){e=e||{},t=H.exports.merge({},_k,t);const o={};for(const[l,d]of Object.entries(e))if(l.startsWith("_")===!1){const i=Object.keys(d)[0];if(i==="_eq"&&(o[l]=dt.any().equal(Object.values(d)[0])),i==="_neq"&&(o[l]=dt.any().not(Object.values(d)[0])),i==="_contains"&&(o[l]=dt.string().contains(Object.values(d)[0])),i==="_ncontains"&&(o[l]=dt.string().ncontains(Object.values(d)[0])),i==="_starts_with"&&(o[l]=dt.string().pattern(new RegExp(`^${H.exports.escapeRegExp(Object.values(d)[0])}.*`),{name:"starts_with"})),i==="_nstarts_with"&&(o[l]=dt.string().pattern(new RegExp(`^${H.exports.escapeRegExp(Object.values(d)[0])}.*`),{name:"starts_with",invert:!0})),i==="_ends_with"&&(o[l]=dt.string().pattern(new RegExp(`.*${H.exports.escapeRegExp(Object.values(d)[0])}$`),{name:"ends_with"})),i==="_nends_with"&&(o[l]=dt.string().pattern(new RegExp(`.*${H.exports.escapeRegExp(Object.values(d)[0])}$`),{name:"ends_with",invert:!0})),i==="_in"&&(o[l]=dt.any().equal(...Object.values(d)[0])),i==="_nin"&&(o[l]=dt.any().not(...Object.values(d)[0])),i==="_gt"&&(o[l]=dt.number().greater(Number(Object.values(d)[0]))),i==="_gte"&&(o[l]=dt.number().min(Number(Object.values(d)[0]))),i==="_lt"&&(o[l]=dt.number().less(Number(Object.values(d)[0]))),i==="_lte"&&(o[l]=dt.number().max(Number(Object.values(d)[0]))),i==="_null"&&(o[l]=dt.any().valid(null)),i==="_nnull"&&(o[l]=dt.any().invalid(null)),i==="_empty"&&(o[l]=dt.any().valid("")),i==="_nempty"&&(o[l]=dt.any().invalid("")),i==="_between"){const s=Object.values(d)[0];o[l]=dt.number().greater(s[0]).less(s[1])}if(i==="_nbetween"){const s=Object.values(d)[0];o[l]=dt.number().less(s[0]).greater(s[1])}t.requireAll&&(o[l]=o[l].required())}return t.allowUnknown?dt.object(o).unknown():dt.object(o)}function Cl(e,t,o,l=!1){const d=It();if(xe().isAdmin===!0)return!0;const s=d.permissions.find(f=>f.action===t&&f.collection===e);if(!s||!s.fields)return!1;if(l&&s.fields.includes("*")===!1&&o){const f=s.fields;if(Object.keys(o).every(_=>f.includes(_))===!1)return!1}const r=vk(s.permissions,{allowUnknown:!0}),{error:p}=r.validate(o);return!p}function Hn(e,t,o){const l=xe(),d=It(),{info:c,fields:i}=at(e),s=E(()=>Cl(e.value,"delete",t.value)),r=E(()=>o.value?!0:Cl(e.value,"update",t.value)),p=E(()=>Cl(e.value,"update",t.value)),f=E(()=>{var y,b;return((b=(y=c.value)==null?void 0:y.meta)==null?void 0:b.archive_field)?Cl(e.value,"update",{[c.value.meta.archive_field]:c.value.meta.archive_value},!0):!1}),v=E(()=>{var w,$,k;let y=H.exports.cloneDeep(i.value);if((($=(w=l.currentUser)==null?void 0:w.role)==null?void 0:$.admin_access)===!0)return y;const b=d.getPermissionsForUser(e.value,o.value?"create":"update");return b&&(((k=b==null?void 0:b.fields)==null?void 0:k.includes("*"))===!1&&(y=y.map(V=>(b.fields.includes(V.field)===!1&&(V.meta=ye(X({},V.meta||{}),{readonly:!0})),V))),(b==null?void 0:b.presets)&&(y=y.map(V=>(V.field in b.presets&&(V.schema=ye(X({},V.schema||{}),{default_value:b.presets[V.field]})),V)))),y}),_=E(()=>{var y,b;return((b=(y=l.currentUser)==null?void 0:y.role)==null?void 0:b.admin_access)===!0?!0:!!d.permissions.find(w=>w.collection==="directus_revisions"&&w.action==="read")});return{deleteAllowed:s,saveAllowed:r,archiveAllowed:f,updateAllowed:p,fields:v,revisionsAllowed:_}}function Zt(e){za(()=>{window.addEventListener("beforeunload",t)}),Nl(()=>{window.removeEventListener("beforeunload",t)});function t(o){if(e.value)return o.preventDefault(),o.returnValue="",""}}function yk(e){if(e==null)return;const t=typeof e=="string"?D(e):e;return _e(t,(o,l)=>{typeof o=="string"&&l!==o&&(document.title=o)},{immediate:!0}),t}function gk(e,t){const o=as(t,e);return typeof o=="object"?JSON.stringify(o):o}function po(e,t){const o=pl(t),l=pl(e),d=E(()=>vt(l)),c=E(()=>{if(!o||!l||!d.value)return!1;try{return ls(l,gk,o,{propsExist:!0})}catch{return!1}});return{fieldsInTemplate:d,displayValue:c}}function hk(e,t){const o=vt(e);if(!t||!e||!o)return null;try{return Mn(e,t,{propsExist:!0})}catch{return null}}function mo(e,t){const o=D(),l=D(!1),d=D(null),c=E(()=>{var s,r;return((r=(s=e.value)==null?void 0:s.meta)==null?void 0:r.display_template)?vt(e.value.meta.display_template):null});return _e([e,t],i,{immediate:!0}),{templateData:o,loading:l,error:d};async function i(){if(!t.value||t.value==="+"||c.value===null||!e.value)return;l.value=!0;const s=e.value.collection.startsWith("directus_")?`/${e.value.collection.substring(9)}/${t.value}`:`/items/${e.value.collection}/${encodeURIComponent(t.value)}`;try{const r=await de.get(s,{params:{fields:c.value}});o.value=r.data.data}catch(r){d.value=r}finally{l.value=!1}}}const bk=K({name:"CollectionsItem",components:{CollectionsNavigation:bl,CollectionsNotFound:Yl,RevisionsDrawerDetail:Kn,CommentsSidebarDetail:ta,SaveOptions:wl},props:{collection:{type:String,required:!0},primaryKey:{type:String,default:null},singleton:{type:Boolean,default:!1}},setup(e){const{t,te:o}=ae(),l=et(),d=D(),{collection:c,primaryKey:i}=Re(e),{breadcrumb:s}=be(),r=D(null),{info:p,defaults:f,primaryKeyField:v,isSingleton:_,accountabilityScope:y}=at(c),{isNew:b,edits:w,item:$,saving:k,loading:V,error:g,save:A,remove:R,deleting:L,archive:M,archiving:T,isArchived:U,saveAsCopy:B,refresh:z,validationErrors:W}=Cn(c,i),{templateData:J,loading:Q}=mo(p,i),G=E(()=>Object.keys(w.value).length>0),x=E(()=>{var Ve,we,Be,Ye,it,ot;return ue.value===!1?!1:G.value===!0?!0:!((we=(Ve=v.value)==null?void 0:Ve.schema)==null?void 0:we.has_auto_increment)&&!((it=(Ye=(Be=v.value)==null?void 0:Be.meta)==null?void 0:Ye.special)==null?void 0:it.includes("uuid"))?!!((ot=w.value)==null?void 0:ot[v.value.field]):b.value===!0&&Object.keys(f.value).length>0||G.value});Zt(x);const ee=D(!1),ne=D(!1),ie=D(!1),pe=D(null),Y=E(()=>{var Ve,we;return o(`collection_names_singular.${e.collection}`)?b.value?t("creating_unit",{unit:t(`collection_names_singular.${e.collection}`)}):t("editing_unit",{unit:t(`collection_names_singular.${e.collection}`)}):b.value?t("creating_in",{collection:(Ve=p.value)==null?void 0:Ve.name}):t("editing_in",{collection:(we=p.value)==null?void 0:we.name})}),Z=E(()=>{var we;let Ve=(((we=p.value)==null?void 0:we.name)||"")+" | ";if(p.value&&p.value.meta){if(p.value.meta.singleton===!0)return Ve+p.value.name;if(b.value===!1&&p.value.meta.display_template){const{displayValue:Be}=po(p.value.meta.display_template,J);if(Be.value!==void 0)return Ve+Be.value}}return Ve+Y.value});yk(Z);const se=E(()=>ve.value===!1?t("not_allowed"):U.value===!0?t("unarchive"):t("archive"));tt("meta+s",De,d),tt("meta+shift+s",Ae,d);const le=Ve=>{if(G.value)return ie.value=!0,pe.value=Ve.fullPath,!1};Ot(le),At(le);const{deleteAllowed:ce,archiveAllowed:ve,saveAllowed:ue,updateAllowed:ge,fields:fe,revisionsAllowed:me}=Hn(c,$,b),ke=E(()=>{var Ve,we;return b.value?"+":_.value?(we=$.value)==null?void 0:we[(Ve=v.value)==null?void 0:Ve.field]:e.primaryKey});return{t,router:l,item:$,loading:V,error:g,isNew:b,edits:w,isSavable:x,hasEdits:G,saving:k,collectionInfo:p,saveAndQuit:Se,deleteAndQuit:lt,confirmDelete:ee,confirmArchive:ne,deleting:L,archiving:T,saveAndStay:De,saveAndAddNew:Ae,saveAsCopyAndNavigate:Le,templateData:J,templateDataLoading:Q,archiveTooltip:se,breadcrumb:s,title:Y,revisionsDrawerDetail:r,refresh:z,confirmLeave:ie,leaveTo:pe,discardAndLeave:je,deleteAllowed:ce,saveAllowed:ue,archiveAllowed:ve,isArchived:U,updateAllowed:ge,toggleArchive:Oe,validationErrors:W,form:d,fields:fe,isSingleton:_,internalPrimaryKey:ke,revisionsAllowed:me,revert:Te,accountabilityScope:y};function be(){return{breadcrumb:E(()=>{var we;return[{name:(we=p.value)==null?void 0:we.name,to:`/collections/${e.collection}`}]})}}async function Se(){if(x.value!==!1)try{await A(),e.singleton===!1&&l.push(`/collections/${e.collection}`)}catch{}}async function De(){var Ve,we;if(x.value!==!1)try{const Be=await A();if((we=(Ve=r.value)==null?void 0:Ve.refresh)==null||we.call(Ve),e.primaryKey==="+"){const Ye=Be[v.value.field];l.replace(`/collections/${e.collection}/${encodeURIComponent(Ye)}`)}}catch{}}async function Ae(){if(x.value!==!1)try{await A(),b.value===!0?z():l.push(`/collections/${e.collection}/+`)}catch{}}async function Le(){try{const Ve=await B();Ve&&l.push(`/collections/${e.collection}/${encodeURIComponent(Ve)}`)}catch{}}async function lt(){try{await R(),w.value={},l.push(`/collections/${e.collection}`)}catch{}}async function Oe(){try{await M(),U.value===!0?l.push(`/collections/${e.collection}`):ne.value=!1}catch{}}function je(){!pe.value||(w.value={},ie.value=!1,l.push(pe.value))}function Te(Ve){w.value=X(X({},w.value),Ve)}}}),$k={class:"type-title"},kk={class:"page-description"};function wk(e,t,o,l,d,c){const i=u("collections-not-found"),s=u("v-skeleton-loader"),r=u("render-template"),p=u("v-icon"),f=u("v-button"),v=u("v-breadcrumb"),_=u("v-card-title"),y=u("v-card-actions"),b=u("v-card"),w=u("v-dialog"),$=u("save-options"),k=u("collections-navigation"),V=u("v-form"),g=u("v-card-text"),A=u("sidebar-detail"),R=u("revisions-drawer-detail"),L=u("comments-sidebar-detail"),M=u("private-view"),T=Ce("tooltip"),U=Ce("md");return e.error||e.collectionInfo.meta&&e.collectionInfo.meta.singleton===!0&&e.primaryKey!==null?(m(),F(i,{key:0})):(m(),F(M,{key:1,title:e.title},Ne({"title-outer:prepend":a(()=>[e.collectionInfo.meta&&e.collectionInfo.meta.singleton===!0?(m(),F(f,{key:0,class:"header-icon",rounded:"",icon:"",secondary:"",disabled:""},{default:a(()=>[n(p,{name:e.collectionInfo.icon},null,8,["name"])]),_:1})):te((m(),F(f,{key:1,class:"header-icon",rounded:"",icon:"",secondary:"",exact:"",onClick:t[0]||(t[0]=B=>e.router.back())},{default:a(()=>[n(p,{name:"arrow_back"})]),_:1},512)),[[T,e.t("back"),void 0,{bottom:!0}]])]),headline:a(()=>[e.collectionInfo.meta&&e.collectionInfo.meta.singleton===!0?(m(),F(v,{key:0,items:[{name:e.t("collections"),to:"/collections"}]},null,8,["items"])):(m(),F(v,{key:1,items:e.breadcrumb},null,8,["items"]))]),actions:a(()=>[e.isNew?N("",!0):(m(),F(w,{key:0,modelValue:e.confirmDelete,"onUpdate:modelValue":t[2]||(t[2]=B=>e.confirmDelete=B),disabled:e.deleteAllowed===!1,onEsc:t[3]||(t[3]=B=>e.confirmDelete=!1)},{activator:a(({on:B})=>[e.collectionInfo.meta&&e.collectionInfo.meta.singleton===!1?te((m(),F(f,{key:0,rounded:"",icon:"",class:"action-delete",disabled:e.item===null||e.deleteAllowed!==!0,onClick:B},{default:a(()=>[n(p,{name:"delete",outline:""})]),_:2},1032,["disabled","onClick"])),[[T,e.deleteAllowed?e.t("delete_label"):e.t("not_allowed"),void 0,{bottom:!0}]]):N("",!0)]),default:a(()=>[n(b,null,{default:a(()=>[n(_,null,{default:a(()=>[O(h(e.t("delete_are_you_sure")),1)]),_:1}),n(y,null,{default:a(()=>[n(f,{secondary:"",onClick:t[1]||(t[1]=B=>e.confirmDelete=!1)},{default:a(()=>[O(h(e.t("cancel")),1)]),_:1}),n(f,{kind:"danger",loading:e.deleting,onClick:e.deleteAndQuit},{default:a(()=>[O(h(e.t("delete_label")),1)]),_:1},8,["loading","onClick"])]),_:1})]),_:1})]),_:1},8,["modelValue","disabled"])),e.collectionInfo.meta&&e.collectionInfo.meta.archive_field&&!e.isNew?(m(),F(w,{key:1,modelValue:e.confirmArchive,"onUpdate:modelValue":t[5]||(t[5]=B=>e.confirmArchive=B),disabled:e.archiveAllowed===!1,onEsc:t[6]||(t[6]=B=>e.confirmArchive=!1)},{activator:a(({on:B})=>[e.collectionInfo.meta&&e.collectionInfo.meta.singleton===!1?te((m(),F(f,{key:0,rounded:"",icon:"",class:"action-archive",disabled:e.item===null||e.archiveAllowed!==!0,onClick:B},{default:a(()=>[n(p,{name:e.isArchived?"unarchive":"archive",outline:""},null,8,["name"])]),_:2},1032,["disabled","onClick"])),[[T,e.archiveTooltip,void 0,{bottom:!0}]]):N("",!0)]),default:a(()=>[n(b,null,{default:a(()=>[n(_,null,{default:a(()=>[O(h(e.isArchived?e.t("unarchive_confirm"):e.t("archive_confirm")),1)]),_:1}),n(y,null,{default:a(()=>[n(f,{secondary:"",onClick:t[4]||(t[4]=B=>e.confirmArchive=!1)},{default:a(()=>[O(h(e.t("cancel")),1)]),_:1}),n(f,{kind:"warning",loading:e.archiving,onClick:e.toggleArchive},{default:a(()=>[O(h(e.isArchived?e.t("unarchive"):e.t("archive")),1)]),_:1},8,["loading","onClick"])]),_:1})]),_:1})]),_:1},8,["modelValue","disabled"])):N("",!0),te(n(f,{rounded:"",icon:"",loading:e.saving,disabled:e.isSavable===!1||e.saveAllowed===!1,onClick:e.saveAndQuit},{"append-outer":a(()=>[e.collectionInfo.meta&&e.collectionInfo.meta.singleton!==!0&&e.isSavable===!0?(m(),F($,{key:0,onSaveAndStay:e.saveAndStay,onSaveAndAddNew:e.saveAndAddNew,onSaveAsCopy:e.saveAsCopyAndNavigate},null,8,["onSaveAndStay","onSaveAndAddNew","onSaveAsCopy"])):N("",!0)]),default:a(()=>[n(p,{name:"check"})]),_:1},8,["loading","disabled","onClick"]),[[T,e.saveAllowed?e.t("save"):e.t("not_allowed"),void 0,{bottom:!0}]])]),navigation:a(()=>[n(k,{"current-collection":e.collection},null,8,["current-collection"])]),sidebar:a(()=>[n(A,{icon:"info_outline",title:e.t("information"),close:""},{default:a(()=>[te(S("div",kk,null,512),[[U,e.t("page_help_collections_item")]])]),_:1},8,["title"]),e.isNew===!1&&e.internalPrimaryKey&&e.revisionsAllowed&&e.accountabilityScope==="all"?(m(),F(R,{key:0,ref:"revisionsDrawerDetail",collection:e.collection,"primary-key":e.internalPrimaryKey,scope:e.accountabilityScope,onRevert:e.revert},null,8,["collection","primary-key","scope","onRevert"])):N("",!0),e.isNew===!1&&e.internalPrimaryKey?(m(),F(L,{key:1,collection:e.collection,"primary-key":e.internalPrimaryKey},null,8,["collection","primary-key"])):N("",!0)]),default:a(()=>[n(V,{ref:"form",key:e.collection,modelValue:e.edits,"onUpdate:modelValue":t[7]||(t[7]=B=>e.edits=B),disabled:e.isNew?!1:e.updateAllowed===!1,loading:e.loading,"initial-values":e.item,fields:e.fields,"primary-key":e.internalPrimaryKey,"validation-errors":e.validationErrors},null,8,["modelValue","disabled","loading","initial-values","fields","primary-key","validation-errors"]),n(w,{modelValue:e.confirmLeave,"onUpdate:modelValue":t[9]||(t[9]=B=>e.confirmLeave=B),onEsc:t[10]||(t[10]=B=>e.confirmLeave=!1)},{default:a(()=>[n(b,null,{default:a(()=>[n(_,null,{default:a(()=>[O(h(e.t("unsaved_changes")),1)]),_:1}),n(g,null,{default:a(()=>[O(h(e.t("unsaved_changes_copy")),1)]),_:1}),n(y,null,{default:a(()=>[n(f,{secondary:"",onClick:e.discardAndLeave},{default:a(()=>[O(h(e.t("discard_changes")),1)]),_:1},8,["onClick"]),n(f,{onClick:t[8]||(t[8]=B=>e.confirmLeave=!1)},{default:a(()=>[O(h(e.t("keep_editing")),1)]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:2},[e.collectionInfo.meta&&e.collectionInfo.meta.singleton===!0?{name:"title",fn:a(()=>[S("h1",$k,h(e.collectionInfo.name),1)])}:e.isNew===!1&&e.collectionInfo.meta&&e.collectionInfo.meta.display_template?{name:"title",fn:a(()=>[e.loading||e.templateDataLoading?(m(),F(s,{key:0,class:"title-loader",type:"text"})):(m(),I("h1",{key:1,class:"type-title"},[n(r,{collection:e.collectionInfo.collection,item:e.templateData,template:e.collectionInfo.meta.display_template},null,8,["collection","item","template"])]))])}:void 0]),1032,["title"]))}var fo=q(bk,[["render",wk],["__scopeId","data-v-71940df9"]]);const Ck=K({components:{CollectionRoute:x2,ItemRoute:fo},props:{collection:{type:String,required:!0},bookmark:{type:String,default:null},archive:{type:Boolean,default:!1}},setup(e){const t=qe();return{isSingleton:E(()=>{var d;const l=t.getCollection(e.collection);return!!((d=l==null?void 0:l.meta)==null?void 0:d.singleton)})}}});function Sk(e,t,o,l,d,c){return m(),F(Ue(e.isSingleton?"item-route":"collection-route"),{collection:e.collection,bookmark:e.bookmark,singleton:e.isSingleton?!0:void 0,archive:e.archive},null,8,["collection","bookmark","singleton","archive"])}var Fk=q(Ck,[["render",Sk]]);const Vk=K({name:"CollectionsOverview",components:{CollectionsNavigation:bl},props:{},setup(){const{t:e}=ae(),t=xe(),o=E(()=>{var l;return((l=t.currentUser)==null?void 0:l.role.admin_access)===!0});return{t:e,isAdmin:o}}}),Ek={class:"page-description"};function Ik(e,t,o,l,d,c){const i=u("v-icon"),s=u("v-button"),r=u("collections-navigation"),p=u("v-info"),f=u("sidebar-detail"),v=u("private-view"),_=Ce("md");return m(),F(v,{class:"collections-overview",title:e.t("collections")},{"title-outer:prepend":a(()=>[n(s,{class:"header-icon",rounded:"",disabled:"",icon:"",secondary:""},{default:a(()=>[n(i,{name:"box"})]),_:1})]),navigation:a(()=>[n(r)]),sidebar:a(()=>[n(f,{icon:"info_outline",title:e.t("information"),close:""},{default:a(()=>[te(S("div",Ek,null,512),[[_,e.t("page_help_collections_overview")]])]),_:1},8,["title"])]),default:a(()=>[n(p,{icon:"box",title:e.t("no_collections"),center:""},Ne({default:a(()=>[e.isAdmin?(m(),I(oe,{key:0},[O(h(e.t("no_collections_copy_admin")),1)],64)):(m(),I(oe,{key:1},[O(h(e.t("no_collections_copy")),1)],64))]),_:2},[e.isAdmin?{name:"append",fn:a(()=>[n(s,{to:"/settings/data-model/+"},{default:a(()=>[O(h(e.t("create_collection")),1)]),_:1})])}:void 0]),1032,["title"])]),_:1},8,["title"])}var Ak=q(Vk,[["render",Ik],["__scopeId","data-v-0b7f5748"]]);const la=(e,t)=>{var o;if(!!((o=e.params)==null?void 0:o.collection)){if(e.params.collection==="directus_users")return e.params.primaryKey?`/users/${e.params.primaryKey}`:"/users";if(e.params.collection==="directus_files")return e.params.primaryKey?`/files/${e.params.primaryKey}`:"/files";if(e.params.collection==="directus_activity")return e.params.primaryKey?`/activity/${e.params.primaryKey}`:"/activity";if(e.params.collection==="directus_webhooks")return e.params.primaryKey?`/settings/webhooks/${e.params.primaryKey}`:"/settings/webhooks";if("bookmark"in t.query&&typeof t.query.bookmark=="string"&&!("bookmark"in e.query)&&e.params.collection===t.params.collection)return Ql(e.fullPath,{bookmark:t.query.bookmark})}};var Dk=on({id:"collections",name:"$t:collections",icon:"box",routes:[{name:"no-collections",path:"",component:Ak,beforeEnter(){const e=qe(),{activeGroups:t}=so(D(null));if(e.visibleCollections.length===0)return;const o=H.exports.orderBy(e.visibleCollections.filter(c=>{var i;return H.exports.isNil((i=c==null?void 0:c.meta)==null?void 0:i.group)}),["meta.sort","collection"]);let l=d(o);if(l=d(o,{skipClosed:!1}),!l)return;return`/collections/${l.collection}`;function d(c,{skipClosed:i}={skipClosed:!0}){for(const s of c){if(s.schema)return s;if(i&&t.value.includes(s.collection)===!1)continue;const r=H.exports.orderBy(e.visibleCollections.filter(f=>{var v;return s.collection===((v=f.meta)==null?void 0:v.group)}),["meta.sort","collection"]),p=d(r);if(p)return p}}}},{path:":collection",component:cn,children:[{name:"collections-collection",path:"",component:Fk,props:e=>({collection:e.params.collection,bookmark:e.query.bookmark,archive:"archive"in e.query}),beforeEnter:la},{name:"collections-item",path:":primaryKey",component:fo,props:!0,beforeEnter:la}]},{name:"collections-item-not-found",path:":_(.+)+",component:Yl,beforeEnter:la}]}),Ok=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:Dk}),Pk=[{name:"concepts",path:"concepts",children:[{name:"activity",path:"concepts/activity",import:()=>j(()=>import("./assets/activity.9e4ec41d.js"),["assets/activity.9e4ec41d.js","assets/vendor.a626ab9c.js","assets/vendor.fe7856f0.css"])},{name:"application",path:"concepts/application",import:()=>j(()=>import("./assets/application.2534d8a1.js"),["assets/application.2534d8a1.js","assets/vendor.a626ab9c.js","assets/vendor.fe7856f0.css"])},{name:"collections",path:"concepts/collections",import:()=>j(()=>import("./assets/collections.14257f29.js"),["assets/collections.14257f29.js","assets/vendor.a626ab9c.js","assets/vendor.fe7856f0.css"])},{name:"databases",path:"concepts/databases",import:()=>j(()=>import("./assets/databases.2a42b1ba.js"),["assets/databases.2a42b1ba.js","assets/vendor.a626ab9c.js","assets/vendor.fe7856f0.css"])},{name:"displays",path:"concepts/displays",import:()=>j(()=>import("./assets/displays.d848b491.js"),["assets/displays.d848b491.js","assets/vendor.a626ab9c.js","assets/vendor.fe7856f0.css"])},{name:"extensions",path:"concepts/extensions",import:()=>j(()=>import("./assets/extensions.10d6f6c3.js"),["assets/extensions.10d6f6c3.js","assets/vendor.a626ab9c.js","assets/vendor.fe7856f0.css"])},{name:"fields",path:"concepts/fields",import:()=>j(()=>import("./assets/fields.3f49dba2.js"),["assets/fields.3f49dba2.js","assets/vendor.a626ab9c.js","assets/vendor.fe7856f0.css"])},{name:"files",path:"concepts/files",import:()=>j(()=>import("./assets/files.b8b17303.js"),["assets/files.b8b17303.js","assets/vendor.a626ab9c.js","assets/vendor.fe7856f0.css"])},{name:"interfaces",path:"concepts/interfaces",import:()=>j(()=>import("./assets/interfaces.4d9d8da8.js"),["assets/interfaces.4d9d8da8.js","assets/vendor.a626ab9c.js","assets/vendor.fe7856f0.css"])},{name:"items",path:"concepts/items",import:()=>j(()=>import("./assets/items.7db06a6b.js"),["assets/items.7db06a6b.js","assets/vendor.a626ab9c.js","assets/vendor.fe7856f0.css"])},{name:"layouts",path:"concepts/layouts",import:()=>j(()=>import("./assets/layouts.c52bbf71.js"),["assets/layouts.c52bbf71.js","assets/vendor.a626ab9c.js","assets/vendor.fe7856f0.css"])},{name:"modules",path:"concepts/modules",import:()=>j(()=>import("./assets/modules.43892717.js"),["assets/modules.43892717.js","assets/vendor.a626ab9c.js","assets/vendor.fe7856f0.css"])},{name:"permissions",path:"concepts/permissions",import:()=>j(()=>import("./assets/permissions.5186b062.js"),["assets/permissions.5186b062.js","assets/vendor.a626ab9c.js","assets/vendor.fe7856f0.css"])},{name:"projects",path:"concepts/projects",import:()=>j(()=>import("./assets/projects.54a55899.js"),["assets/projects.54a55899.js","assets/vendor.a626ab9c.js","assets/vendor.fe7856f0.css"])},{name:"relationships",path:"concepts/relationships",import:()=>j(()=>import("./assets/relationships.8c5c9d45.js"),["assets/relationships.8c5c9d45.js","assets/vendor.a626ab9c.js","assets/vendor.fe7856f0.css"])},{name:"revisions",path:"concepts/revisions",import:()=>j(()=>import("./assets/revisions.8430c29c.js"),["assets/revisions.8430c29c.js","assets/vendor.a626ab9c.js","assets/vendor.fe7856f0.css"])},{name:"roles",path:"concepts/roles",import:()=>j(()=>import("./assets/roles.a5d56e09.js"),["assets/roles.a5d56e09.js","assets/vendor.a626ab9c.js","assets/vendor.fe7856f0.css"])},{name:"translations",path:"concepts/translations",import:()=>j(()=>import("./assets/translations.d6de3905.js"),["assets/translations.d6de3905.js","assets/vendor.a626ab9c.js","assets/vendor.fe7856f0.css"])},{name:"types",path:"concepts/types",import:()=>j(()=>import("./assets/types.48124f27.js"),["assets/types.48124f27.js","assets/vendor.a626ab9c.js","assets/vendor.fe7856f0.css"])},{name:"users",path:"concepts/users",import:()=>j(()=>import("./assets/users.adf2a2c8.js"),["assets/users.adf2a2c8.js","assets/vendor.a626ab9c.js","assets/vendor.fe7856f0.css"])}]},{name:"contributing",path:"contributing",children:[{name:"codebase-overview",path:"contributing/codebase-overview",import:()=>j(()=>import("./assets/codebase-overview.e20f2975.js"),["assets/codebase-overview.e20f2975.js","assets/vendor.a626ab9c.js","assets/vendor.fe7856f0.css"])},{name:"github-ci",path:"contributing/github-ci",import:()=>j(()=>import("./assets/github-ci.1aafd624.js"),["assets/github-ci.1aafd624.js","assets/vendor.a626ab9c.js","assets/vendor.fe7856f0.css"])},{name:"introduction",path:"contributing/introduction",import:()=>j(()=>import("./assets/introduction.c36fa9ca.js"),["assets/introduction.c36fa9ca.js","assets/vendor.a626ab9c.js","assets/vendor.fe7856f0.css"])},{name:"running-locally",path:"contributing/running-locally",import:()=>j(()=>import("./assets/running-locally.6bd2f854.js"),["assets/running-locally.6bd2f854.js","assets/vendor.a626ab9c.js","assets/vendor.fe7856f0.css"])},{name:"translations",path:"contributing/translations",import:()=>j(()=>import("./assets/translations.8b18280d.js"),["assets/translations.8b18280d.js","assets/vendor.a626ab9c.js","assets/vendor.fe7856f0.css"])}]},{name:"getting-started",path:"getting-started",children:[{name:"backing-directus",path:"getting-started/backing-directus",import:()=>j(()=>import("./assets/backing-directus.58d18b0c.js"),["assets/backing-directus.58d18b0c.js","assets/vendor.a626ab9c.js","assets/vendor.fe7856f0.css"])},{name:"installation",path:"getting-started/installation",import:()=>j(()=>import("./assets/installation.c4bff2d4.js"),["assets/installation.c4bff2d4.js","assets/vendor.a626ab9c.js","assets/vendor.fe7856f0.css"])},{name:"introduction",path:"getting-started/introduction",import:()=>j(()=>import("./assets/introduction.36187581.js"),["assets/introduction.36187581.js","assets/vendor.a626ab9c.js","assets/vendor.fe7856f0.css"])},{name:"quickstart",path:"getting-started/quickstart",import:()=>j(()=>import("./assets/quickstart.39d64eea.js"),["assets/quickstart.39d64eea.js","assets/vendor.a626ab9c.js","assets/vendor.fe7856f0.css"])},{name:"support",path:"getting-started/support",import:()=>j(()=>import("./assets/support.046994af.js"),["assets/support.046994af.js","assets/vendor.a626ab9c.js","assets/vendor.fe7856f0.css"])}]},{name:"guides",path:"guides",children:[{name:"api-config",path:"guides/api-config",import:()=>j(()=>import("./assets/api-config.c76a6613.js"),["assets/api-config.c76a6613.js","assets/vendor.a626ab9c.js","assets/vendor.fe7856f0.css"])},{name:"api-endpoints",path:"guides/api-endpoints",import:()=>j(()=>import("./assets/api-endpoints.2f8fd276.js"),["assets/api-endpoints.2f8fd276.js","assets/vendor.a626ab9c.js","assets/vendor.fe7856f0.css"])},{name:"api-hooks",path:"guides/api-hooks",import:()=>j(()=>import("./assets/api-hooks.49e7891b.js"),["assets/api-hooks.49e7891b.js","assets/vendor.a626ab9c.js","assets/vendor.fe7856f0.css"])},{name:"collections",path:"guides/collections",import:()=>j(()=>import("./assets/collections.bd91de7e.js"),["assets/collections.bd91de7e.js","assets/vendor.a626ab9c.js","assets/vendor.fe7856f0.css"])},{name:"displays",path:"guides/displays",import:()=>j(()=>import("./assets/displays.ecc2c613.js"),["assets/displays.ecc2c613.js","assets/vendor.a626ab9c.js","assets/vendor.fe7856f0.css"])},{name:"email-templates",path:"guides/email-templates",import:()=>j(()=>import("./assets/email-templates.9cecf0b9.js"),["assets/email-templates.9cecf0b9.js","assets/vendor.a626ab9c.js","assets/vendor.fe7856f0.css"])},{name:"fields",path:"guides/fields",import:()=>j(()=>import("./assets/fields.17d2cea0.js"),["assets/fields.17d2cea0.js","assets/vendor.a626ab9c.js","assets/vendor.fe7856f0.css"])},{name:"files",path:"guides/files",import:()=>j(()=>import("./assets/files.04ffc317.js"),["assets/files.04ffc317.js","assets/vendor.a626ab9c.js","assets/vendor.fe7856f0.css"])},{name:"installation",path:"guides/installation",children:[{name:"aws",path:"guides/installation/aws",import:()=>j(()=>import("./assets/aws.fd25516a.js"),["assets/aws.fd25516a.js","assets/vendor.a626ab9c.js","assets/vendor.fe7856f0.css"])},{name:"cli",path:"guides/installation/cli",import:()=>j(()=>import("./assets/cli.1516127d.js"),["assets/cli.1516127d.js","assets/vendor.a626ab9c.js","assets/vendor.fe7856f0.css"])},{name:"digitalocean-app-platform",path:"guides/installation/digitalocean-app-platform",import:()=>j(()=>import("./assets/digitalocean-app-platform.70c21592.js"),["assets/digitalocean-app-platform.70c21592.js","assets/vendor.a626ab9c.js","assets/vendor.fe7856f0.css"])},{name:"docker",path:"guides/installation/docker",import:()=>j(()=>import("./assets/docker.6748365e.js"),["assets/docker.6748365e.js","assets/vendor.a626ab9c.js","assets/vendor.fe7856f0.css"])},{name:"iis",path:"guides/installation/iis",import:()=>j(()=>import("./assets/iis.fba7e919.js"),["assets/iis.fba7e919.js","assets/vendor.a626ab9c.js","assets/vendor.fe7856f0.css"])},{name:"manual",path:"guides/installation/manual",import:()=>j(()=>import("./assets/manual.bc0f8432.js"),["assets/manual.bc0f8432.js","assets/vendor.a626ab9c.js","assets/vendor.fe7856f0.css"])},{name:"plesk",path:"guides/installation/plesk",import:()=>j(()=>import("./assets/plesk.68b64f87.js"),["assets/plesk.68b64f87.js","assets/vendor.a626ab9c.js","assets/vendor.fe7856f0.css"])},{name:"ubuntu",path:"guides/installation/ubuntu",import:()=>j(()=>import("./assets/ubuntu.36ee13da.js"),["assets/ubuntu.36ee13da.js","assets/vendor.a626ab9c.js","assets/vendor.fe7856f0.css"])}]},{name:"interfaces",path:"guides/interfaces",import:()=>j(()=>import("./assets/interfaces.1e1a05f4.js"),["assets/interfaces.1e1a05f4.js","assets/vendor.a626ab9c.js","assets/vendor.fe7856f0.css"])},{name:"items",path:"guides/items",import:()=>j(()=>import("./assets/items.5eb4a489.js"),["assets/items.5eb4a489.js","assets/vendor.a626ab9c.js","assets/vendor.fe7856f0.css"])},{name:"layouts",path:"guides/layouts",import:()=>j(()=>import("./assets/layouts.5a85a5bc.js"),["assets/layouts.5a85a5bc.js","assets/vendor.a626ab9c.js","assets/vendor.fe7856f0.css"])},{name:"migrating-from-v8",path:"guides/migrating-from-v8",import:()=>j(()=>import("./assets/migrating-from-v8.667c19d3.js"),["assets/migrating-from-v8.667c19d3.js","assets/vendor.a626ab9c.js","assets/vendor.fe7856f0.css"])},{name:"migrations",path:"guides/migrations",import:()=>j(()=>import("./assets/migrations.33fd8fc8.js"),["assets/migrations.33fd8fc8.js","assets/vendor.a626ab9c.js","assets/vendor.fe7856f0.css"])},{name:"modules",path:"guides/modules",import:()=>j(()=>import("./assets/modules.17def569.js"),["assets/modules.17def569.js","assets/vendor.a626ab9c.js","assets/vendor.fe7856f0.css"])},{name:"permissions",path:"guides/permissions",import:()=>j(()=>import("./assets/permissions.1cc1e9ac.js"),["assets/permissions.1cc1e9ac.js","assets/vendor.a626ab9c.js","assets/vendor.fe7856f0.css"])},{name:"presets",path:"guides/presets",import:()=>j(()=>import("./assets/presets.83ef1429.js"),["assets/presets.83ef1429.js","assets/vendor.a626ab9c.js","assets/vendor.fe7856f0.css"])},{name:"projects",path:"guides/projects",import:()=>j(()=>import("./assets/projects.086e4104.js"),["assets/projects.086e4104.js","assets/vendor.a626ab9c.js","assets/vendor.fe7856f0.css"])},{name:"roles",path:"guides/roles",import:()=>j(()=>import("./assets/roles.ae48ac62.js"),["assets/roles.ae48ac62.js","assets/vendor.a626ab9c.js","assets/vendor.fe7856f0.css"])},{name:"styles",path:"guides/styles",import:()=>j(()=>import("./assets/styles.8f31dcd9.js"),["assets/styles.8f31dcd9.js","assets/vendor.a626ab9c.js","assets/vendor.fe7856f0.css"])},{name:"users",path:"guides/users",import:()=>j(()=>import("./assets/users.d8f130a3.js"),["assets/users.d8f130a3.js","assets/vendor.a626ab9c.js","assets/vendor.fe7856f0.css"])},{name:"webhooks",path:"guides/webhooks",import:()=>j(()=>import("./assets/webhooks.4bdd0741.js"),["assets/webhooks.4bdd0741.js","assets/vendor.a626ab9c.js","assets/vendor.fe7856f0.css"])}]},{name:"reference",path:"reference",children:[{name:"api",path:"reference/api",children:[{name:"assets",path:"reference/api/assets",import:()=>j(()=>import("./assets/assets.0e687e4a.js"),["assets/assets.0e687e4a.js","assets/vendor.a626ab9c.js","assets/vendor.fe7856f0.css"])},{name:"authentication",path:"reference/api/authentication",import:()=>j(()=>import("./assets/authentication.e8cf4d61.js"),["assets/authentication.e8cf4d61.js","assets/vendor.a626ab9c.js","assets/vendor.fe7856f0.css"])},{name:"introduction",path:"reference/api/introduction",import:()=>j(()=>import("./assets/introduction.5bfc6d93.js"),["assets/introduction.5bfc6d93.js","assets/vendor.a626ab9c.js","assets/vendor.fe7856f0.css"])},{name:"items",path:"reference/api/items",import:()=>j(()=>import("./assets/items.2ec3ef4a.js"),["assets/items.2ec3ef4a.js","assets/vendor.a626ab9c.js","assets/vendor.fe7856f0.css"])},{name:"query",path:"reference/api/query",import:()=>j(()=>import("./assets/query.eaa960f0.js"),["assets/query.eaa960f0.js","assets/vendor.a626ab9c.js","assets/vendor.fe7856f0.css"])},{name:"system",path:"reference/api/system",children:[{name:"activity",path:"reference/api/system/activity",import:()=>j(()=>import("./assets/activity.6ae38b0f.js"),["assets/activity.6ae38b0f.js","assets/vendor.a626ab9c.js","assets/vendor.fe7856f0.css"])},{name:"authentication",path:"reference/api/system/authentication",import:()=>j(()=>import("./assets/authentication.ad641e07.js"),["assets/authentication.ad641e07.js","assets/vendor.a626ab9c.js","assets/vendor.fe7856f0.css"])},{name:"collections",path:"reference/api/system/collections",import:()=>j(()=>import("./assets/collections.fdbdfe7d.js"),["assets/collections.fdbdfe7d.js","assets/vendor.a626ab9c.js","assets/vendor.fe7856f0.css"])},{name:"extensions",path:"reference/api/system/extensions",import:()=>j(()=>import("./assets/extensions.735e74b3.js"),["assets/extensions.735e74b3.js","assets/vendor.a626ab9c.js","assets/vendor.fe7856f0.css"])},{name:"fields",path:"reference/api/system/fields",import:()=>j(()=>import("./assets/fields.4933da97.js"),["assets/fields.4933da97.js","assets/vendor.a626ab9c.js","assets/vendor.fe7856f0.css"])},{name:"files",path:"reference/api/system/files",import:()=>j(()=>import("./assets/files.f9b3fda9.js"),["assets/files.f9b3fda9.js","assets/vendor.a626ab9c.js","assets/vendor.fe7856f0.css"])},{name:"folders",path:"reference/api/system/folders",import:()=>j(()=>import("./assets/folders.a05410b5.js"),["assets/folders.a05410b5.js","assets/vendor.a626ab9c.js","assets/vendor.fe7856f0.css"])},{name:"permissions",path:"reference/api/system/permissions",import:()=>j(()=>import("./assets/permissions.f9121dc8.js"),["assets/permissions.f9121dc8.js","assets/vendor.a626ab9c.js","assets/vendor.fe7856f0.css"])},{name:"presets",path:"reference/api/system/presets",import:()=>j(()=>import("./assets/presets.ac89e285.js"),["assets/presets.ac89e285.js","assets/vendor.a626ab9c.js","assets/vendor.fe7856f0.css"])},{name:"relations",path:"reference/api/system/relations",import:()=>j(()=>import("./assets/relations.30bf1e5e.js"),["assets/relations.30bf1e5e.js","assets/vendor.a626ab9c.js","assets/vendor.fe7856f0.css"])},{name:"revisions",path:"reference/api/system/revisions",import:()=>j(()=>import("./assets/revisions.78c66006.js"),["assets/revisions.78c66006.js","assets/vendor.a626ab9c.js","assets/vendor.fe7856f0.css"])},{name:"roles",path:"reference/api/system/roles",import:()=>j(()=>import("./assets/roles.b691aabb.js"),["assets/roles.b691aabb.js","assets/vendor.a626ab9c.js","assets/vendor.fe7856f0.css"])},{name:"server",path:"reference/api/system/server",import:()=>j(()=>import("./assets/server.b7e67b66.js"),["assets/server.b7e67b66.js","assets/vendor.a626ab9c.js","assets/vendor.fe7856f0.css"])},{name:"settings",path:"reference/api/system/settings",import:()=>j(()=>import("./assets/settings.076e3b15.js"),["assets/settings.076e3b15.js","assets/vendor.a626ab9c.js","assets/vendor.fe7856f0.css"])},{name:"users",path:"reference/api/system/users",import:()=>j(()=>import("./assets/users.d2e45508.js"),["assets/users.d2e45508.js","assets/vendor.a626ab9c.js","assets/vendor.fe7856f0.css"])},{name:"utilities",path:"reference/api/system/utilities",import:()=>j(()=>import("./assets/utilities.4d891c04.js"),["assets/utilities.4d891c04.js","assets/vendor.a626ab9c.js","assets/vendor.fe7856f0.css"])},{name:"webhooks",path:"reference/api/system/webhooks",import:()=>j(()=>import("./assets/webhooks.439c510a.js"),["assets/webhooks.439c510a.js","assets/vendor.a626ab9c.js","assets/vendor.fe7856f0.css"])}]}]},{name:"app",path:"reference/app",children:[{name:"app",path:"reference/app/app",import:()=>j(()=>import("./assets/app.ab10f7f0.js"),["assets/app.ab10f7f0.js","assets/vendor.a626ab9c.js","assets/vendor.fe7856f0.css"])},{name:"components",path:"reference/app/components",children:[{name:"index",path:"reference/app/components/index",import:()=>j(()=>import("./assets/index.ba6582ce.js"),["assets/index.ba6582ce.js","assets/vendor.a626ab9c.js","assets/vendor.fe7856f0.css"])},{name:"transition-bounce",path:"reference/app/components/transition-bounce",import:()=>j(()=>import("./assets/transition-bounce.52382bc3.js"),["assets/transition-bounce.52382bc3.js","assets/vendor.a626ab9c.js","assets/vendor.fe7856f0.css"])},{name:"transition-dialog",path:"reference/app/components/transition-dialog",import:()=>j(()=>import("./assets/transition-dialog.5f5e2d17.js"),["assets/transition-dialog.5f5e2d17.js","assets/vendor.a626ab9c.js","assets/vendor.fe7856f0.css"])},{name:"transition-expand",path:"reference/app/components/transition-expand",import:()=>j(()=>import("./assets/transition-expand.84ad1aa8.js"),["assets/transition-expand.84ad1aa8.js","assets/vendor.a626ab9c.js","assets/vendor.fe7856f0.css"])},{name:"v-avatar",path:"reference/app/components/v-avatar",import:()=>j(()=>import("./assets/v-avatar.00e9b8eb.js"),["assets/v-avatar.00e9b8eb.js","assets/vendor.a626ab9c.js","assets/vendor.fe7856f0.css"])},{name:"v-badge",path:"reference/app/components/v-badge",import:()=>j(()=>import("./assets/v-badge.7fc3bab4.js"),["assets/v-badge.7fc3bab4.js","assets/vendor.a626ab9c.js","assets/vendor.fe7856f0.css"])},{name:"v-breadcrumb",path:"reference/app/components/v-breadcrumb",import:()=>j(()=>import("./assets/v-breadcrumb.a2a2f370.js"),["assets/v-breadcrumb.a2a2f370.js","assets/vendor.a626ab9c.js","assets/vendor.fe7856f0.css"])},{name:"v-button",path:"reference/app/components/v-button",import:()=>j(()=>import("./assets/v-button.36e765a2.js"),["assets/v-button.36e765a2.js","assets/vendor.a626ab9c.js","assets/vendor.fe7856f0.css"])},{name:"v-card-actions",path:"reference/app/components/v-card-actions",import:()=>j(()=>import("./assets/v-card-actions.12455b5d.js"),["assets/v-card-actions.12455b5d.js","assets/vendor.a626ab9c.js","assets/vendor.fe7856f0.css"])},{name:"v-card-subtitle",path:"reference/app/components/v-card-subtitle",import:()=>j(()=>import("./assets/v-card-subtitle.b7280bd9.js"),["assets/v-card-subtitle.b7280bd9.js","assets/vendor.a626ab9c.js","assets/vendor.fe7856f0.css"])},{name:"v-card-text",path:"reference/app/components/v-card-text",import:()=>j(()=>import("./assets/v-card-text.095779dd.js"),["assets/v-card-text.095779dd.js","assets/vendor.a626ab9c.js","assets/vendor.fe7856f0.css"])},{name:"v-card-title",path:"reference/app/components/v-card-title",import:()=>j(()=>import("./assets/v-card-title.78e39c82.js"),["assets/v-card-title.78e39c82.js","assets/vendor.a626ab9c.js","assets/vendor.fe7856f0.css"])},{name:"v-card",path:"reference/app/components/v-card",import:()=>j(()=>import("./assets/v-card.e9191679.js"),["assets/v-card.e9191679.js","assets/vendor.a626ab9c.js","assets/vendor.fe7856f0.css"])},{name:"v-checkbox",path:"reference/app/components/v-checkbox",import:()=>j(()=>import("./assets/v-checkbox.f755b3db.js"),["assets/v-checkbox.f755b3db.js","assets/vendor.a626ab9c.js","assets/vendor.fe7856f0.css"])},{name:"v-chip",path:"reference/app/components/v-chip",import:()=>j(()=>import("./assets/v-chip.5f8fdbe9.js"),["assets/v-chip.5f8fdbe9.js","assets/vendor.a626ab9c.js","assets/vendor.fe7856f0.css"])},{name:"v-detail",path:"reference/app/components/v-detail",import:()=>j(()=>import("./assets/v-detail.70d83e7f.js"),["assets/v-detail.70d83e7f.js","assets/vendor.a626ab9c.js","assets/vendor.fe7856f0.css"])},{name:"v-dialog",path:"reference/app/components/v-dialog",import:()=>j(()=>import("./assets/v-dialog.5e7fff0c.js"),["assets/v-dialog.5e7fff0c.js","assets/vendor.a626ab9c.js","assets/vendor.fe7856f0.css"])},{name:"v-divider",path:"reference/app/components/v-divider",import:()=>j(()=>import("./assets/v-divider.9db45406.js"),["assets/v-divider.9db45406.js","assets/vendor.a626ab9c.js","assets/vendor.fe7856f0.css"])},{name:"v-drawer",path:"reference/app/components/v-drawer",import:()=>j(()=>import("./assets/v-drawer.9b03749d.js"),["assets/v-drawer.9b03749d.js","assets/vendor.a626ab9c.js","assets/vendor.fe7856f0.css"])},{name:"v-error",path:"reference/app/components/v-error",import:()=>j(()=>import("./assets/v-error.fb66a9e6.js"),["assets/v-error.fb66a9e6.js","assets/vendor.a626ab9c.js","assets/vendor.fe7856f0.css"])},{name:"v-fancy-select",path:"reference/app/components/v-fancy-select",import:()=>j(()=>import("./assets/v-fancy-select.b54085b1.js"),["assets/v-fancy-select.b54085b1.js","assets/vendor.a626ab9c.js","assets/vendor.fe7856f0.css"])},{name:"v-field-select",path:"reference/app/components/v-field-select",import:()=>j(()=>import("./assets/v-field-select.dd25033c.js"),["assets/v-field-select.dd25033c.js","assets/vendor.a626ab9c.js","assets/vendor.fe7856f0.css"])},{name:"v-field-template",path:"reference/app/components/v-field-template",import:()=>j(()=>import("./assets/v-field-template.9e342040.js"),["assets/v-field-template.9e342040.js","assets/vendor.a626ab9c.js","assets/vendor.fe7856f0.css"])},{name:"v-form",path:"reference/app/components/v-form",import:()=>j(()=>import("./assets/v-form.e08a28c3.js"),["assets/v-form.e08a28c3.js","assets/vendor.a626ab9c.js","assets/vendor.fe7856f0.css"])},{name:"v-hover",path:"reference/app/components/v-hover",import:()=>j(()=>import("./assets/v-hover.a44a3be2.js"),["assets/v-hover.a44a3be2.js","assets/vendor.a626ab9c.js","assets/vendor.fe7856f0.css"])},{name:"v-icon",path:"reference/app/components/v-icon",import:()=>j(()=>import("./assets/v-icon.4709fb88.js"),["assets/v-icon.4709fb88.js","assets/vendor.a626ab9c.js","assets/vendor.fe7856f0.css"])},{name:"v-info",path:"reference/app/components/v-info",import:()=>j(()=>import("./assets/v-info.73d1c44b.js"),["assets/v-info.73d1c44b.js","assets/vendor.a626ab9c.js","assets/vendor.fe7856f0.css"])},{name:"v-input",path:"reference/app/components/v-input",import:()=>j(()=>import("./assets/v-input.fda37db3.js"),["assets/v-input.fda37db3.js","assets/vendor.a626ab9c.js","assets/vendor.fe7856f0.css"])},{name:"v-item-group",path:"reference/app/components/v-item-group",import:()=>j(()=>import("./assets/v-item-group.76391fb0.js"),["assets/v-item-group.76391fb0.js","assets/vendor.a626ab9c.js","assets/vendor.fe7856f0.css"])},{name:"v-item",path:"reference/app/components/v-item",import:()=>j(()=>import("./assets/v-item.38e2a78e.js"),["assets/v-item.38e2a78e.js","assets/vendor.a626ab9c.js","assets/vendor.fe7856f0.css"])},{name:"v-list-group",path:"reference/app/components/v-list-group",import:()=>j(()=>import("./assets/v-list-group.e39085f1.js"),["assets/v-list-group.e39085f1.js","assets/vendor.a626ab9c.js","assets/vendor.fe7856f0.css"])},{name:"v-list-item-content",path:"reference/app/components/v-list-item-content",import:()=>j(()=>import("./assets/v-list-item-content.79e3ccea.js"),["assets/v-list-item-content.79e3ccea.js","assets/vendor.a626ab9c.js","assets/vendor.fe7856f0.css"])},{name:"v-list-item-hint",path:"reference/app/components/v-list-item-hint",import:()=>j(()=>import("./assets/v-list-item-hint.b72017df.js"),["assets/v-list-item-hint.b72017df.js","assets/vendor.a626ab9c.js","assets/vendor.fe7856f0.css"])},{name:"v-list-item-icon",path:"reference/app/components/v-list-item-icon",import:()=>j(()=>import("./assets/v-list-item-icon.a4d86111.js"),["assets/v-list-item-icon.a4d86111.js","assets/vendor.a626ab9c.js","assets/vendor.fe7856f0.css"])},{name:"v-list-item",path:"reference/app/components/v-list-item",import:()=>j(()=>import("./assets/v-list-item.aeb5be7e.js"),["assets/v-list-item.aeb5be7e.js","assets/vendor.a626ab9c.js","assets/vendor.fe7856f0.css"])},{name:"v-list",path:"reference/app/components/v-list",import:()=>j(()=>import("./assets/v-list.f09d5055.js"),["assets/v-list.f09d5055.js","assets/vendor.a626ab9c.js","assets/vendor.fe7856f0.css"])},{name:"v-menu",path:"reference/app/components/v-menu",import:()=>j(()=>import("./assets/v-menu.672ad2ec.js"),["assets/v-menu.672ad2ec.js","assets/vendor.a626ab9c.js","assets/vendor.fe7856f0.css"])},{name:"v-notice",path:"reference/app/components/v-notice",import:()=>j(()=>import("./assets/v-notice.ca244793.js"),["assets/v-notice.ca244793.js","assets/vendor.a626ab9c.js","assets/vendor.fe7856f0.css"])},{name:"v-overlay",path:"reference/app/components/v-overlay",import:()=>j(()=>import("./assets/v-overlay.b2e5ff6e.js"),["assets/v-overlay.b2e5ff6e.js","assets/vendor.a626ab9c.js","assets/vendor.fe7856f0.css"])},{name:"v-pagination",path:"reference/app/components/v-pagination",import:()=>j(()=>import("./assets/v-pagination.dc840ce8.js"),["assets/v-pagination.dc840ce8.js","assets/vendor.a626ab9c.js","assets/vendor.fe7856f0.css"])},{name:"v-progress-circular",path:"reference/app/components/v-progress-circular",import:()=>j(()=>import("./assets/v-progress-circular.822f61bb.js"),["assets/v-progress-circular.822f61bb.js","assets/vendor.a626ab9c.js","assets/vendor.fe7856f0.css"])},{name:"v-progress-linear",path:"reference/app/components/v-progress-linear",import:()=>j(()=>import("./assets/v-progress-linear.33cf976d.js"),["assets/v-progress-linear.33cf976d.js","assets/vendor.a626ab9c.js","assets/vendor.fe7856f0.css"])},{name:"v-radio",path:"reference/app/components/v-radio",import:()=>j(()=>import("./assets/v-radio.1aa97b7b.js"),["assets/v-radio.1aa97b7b.js","assets/vendor.a626ab9c.js","assets/vendor.fe7856f0.css"])},{name:"v-select",path:"reference/app/components/v-select",import:()=>j(()=>import("./assets/v-select.27ac4bef.js"),["assets/v-select.27ac4bef.js","assets/vendor.a626ab9c.js","assets/vendor.fe7856f0.css"])},{name:"v-sheet",path:"reference/app/components/v-sheet",import:()=>j(()=>import("./assets/v-sheet.c6ba4912.js"),["assets/v-sheet.c6ba4912.js","assets/vendor.a626ab9c.js","assets/vendor.fe7856f0.css"])},{name:"v-skeleton-loader",path:"reference/app/components/v-skeleton-loader",import:()=>j(()=>import("./assets/v-skeleton-loader.52915dd8.js"),["assets/v-skeleton-loader.52915dd8.js","assets/vendor.a626ab9c.js","assets/vendor.fe7856f0.css"])},{name:"v-slider",path:"reference/app/components/v-slider",import:()=>j(()=>import("./assets/v-slider.b989ae59.js"),["assets/v-slider.b989ae59.js","assets/vendor.a626ab9c.js","assets/vendor.fe7856f0.css"])},{name:"v-switch",path:"reference/app/components/v-switch",import:()=>j(()=>import("./assets/v-switch.de111eb9.js"),["assets/v-switch.de111eb9.js","assets/vendor.a626ab9c.js","assets/vendor.fe7856f0.css"])},{name:"v-tab-item",path:"reference/app/components/v-tab-item",import:()=>j(()=>import("./assets/v-tab-item.de7c0a28.js"),["assets/v-tab-item.de7c0a28.js","assets/vendor.a626ab9c.js","assets/vendor.fe7856f0.css"])},{name:"v-tab",path:"reference/app/components/v-tab",import:()=>j(()=>import("./assets/v-tab.40afffbf.js"),["assets/v-tab.40afffbf.js","assets/vendor.a626ab9c.js","assets/vendor.fe7856f0.css"])},{name:"v-table",path:"reference/app/components/v-table",import:()=>j(()=>import("./assets/v-table.9a5b33ab.js"),["assets/v-table.9a5b33ab.js","assets/vendor.a626ab9c.js","assets/vendor.fe7856f0.css"])},{name:"v-tabs-items",path:"reference/app/components/v-tabs-items",import:()=>j(()=>import("./assets/v-tabs-items.15506baf.js"),["assets/v-tabs-items.15506baf.js","assets/vendor.a626ab9c.js","assets/vendor.fe7856f0.css"])},{name:"v-tabs",path:"reference/app/components/v-tabs",import:()=>j(()=>import("./assets/v-tabs.c9489007.js"),["assets/v-tabs.c9489007.js","assets/vendor.a626ab9c.js","assets/vendor.fe7856f0.css"])},{name:"v-text-overflow",path:"reference/app/components/v-text-overflow",import:()=>j(()=>import("./assets/v-text-overflow.92c20f66.js"),["assets/v-text-overflow.92c20f66.js","assets/vendor.a626ab9c.js","assets/vendor.fe7856f0.css"])},{name:"v-textarea",path:"reference/app/components/v-textarea",import:()=>j(()=>import("./assets/v-textarea.4cced1c0.js"),["assets/v-textarea.4cced1c0.js","assets/vendor.a626ab9c.js","assets/vendor.fe7856f0.css"])},{name:"v-upload",path:"reference/app/components/v-upload",import:()=>j(()=>import("./assets/v-upload.ffe73a75.js"),["assets/v-upload.ffe73a75.js","assets/vendor.a626ab9c.js","assets/vendor.fe7856f0.css"])}]}]},{name:"command-line-interface",path:"reference/command-line-interface",import:()=>j(()=>import("./assets/command-line-interface.9a2a26c1.js"),["assets/command-line-interface.9a2a26c1.js","assets/vendor.a626ab9c.js","assets/vendor.fe7856f0.css"])},{name:"common-issues",path:"reference/common-issues",import:()=>j(()=>import("./assets/common-issues.b34d0ba5.js"),["assets/common-issues.b34d0ba5.js","assets/vendor.a626ab9c.js","assets/vendor.fe7856f0.css"])},{name:"config-files",path:"reference/config-files",import:()=>j(()=>import("./assets/config-files.ac74fea8.js"),["assets/config-files.ac74fea8.js","assets/vendor.a626ab9c.js","assets/vendor.fe7856f0.css"])},{name:"environment-variables",path:"reference/environment-variables",import:()=>j(()=>import("./assets/environment-variables.a5b5c0aa.js"),["assets/environment-variables.a5b5c0aa.js","assets/vendor.a626ab9c.js","assets/vendor.fe7856f0.css"])},{name:"error-codes",path:"reference/error-codes",import:()=>j(()=>import("./assets/error-codes.db5ba230.js"),["assets/error-codes.db5ba230.js","assets/vendor.a626ab9c.js","assets/vendor.fe7856f0.css"])},{name:"field-transforms",path:"reference/field-transforms",import:()=>j(()=>import("./assets/field-transforms.60165e8c.js"),["assets/field-transforms.60165e8c.js","assets/vendor.a626ab9c.js","assets/vendor.fe7856f0.css"])},{name:"filter-rules",path:"reference/filter-rules",import:()=>j(()=>import("./assets/filter-rules.780bde9f.js"),["assets/filter-rules.780bde9f.js","assets/vendor.a626ab9c.js","assets/vendor.fe7856f0.css"])},{name:"sdk",path:"reference/sdk",import:()=>j(()=>import("./assets/sdk.c46fe226.js"),["assets/sdk.c46fe226.js","assets/vendor.a626ab9c.js","assets/vendor.fe7856f0.css"])}]}];const Tk=K({name:"NavigationListItem",props:{section:{type:Object,default:null},dense:{type:Boolean,default:!1}}});function Lk(e,t,o,l,d,c){const i=u("v-divider"),s=u("v-icon"),r=u("v-list-item-icon"),p=u("v-text-overflow"),f=u("v-list-item-content"),v=u("navigation-list-item"),_=u("v-list-group"),y=u("v-list-item");return e.section.divider?(m(),F(i,{key:0})):e.section.children?(m(),F(_,{key:1,scope:"docs-navigation",dense:e.dense,multiple:!1,value:e.section.to},{activator:a(()=>[e.section.icon!==void 0?(m(),F(r,{key:0},{default:a(()=>[n(s,{name:e.section.icon},null,8,["name"])]),_:1})):N("",!0),n(f,null,{default:a(()=>[n(p,{text:e.section.name},null,8,["text"])]),_:1})]),default:a(()=>[(m(!0),I(oe,null,he(e.section.children,(b,w)=>(m(),F(v,{key:w,section:b,dense:""},null,8,["section"]))),128))]),_:1},8,["dense","value"])):(m(),F(y,{key:2,scope:"docs-navigation",to:`/docs${e.section.to}`,dense:e.dense,value:e.section.to},{default:a(()=>[e.section.icon!==void 0?(m(),F(r,{key:0},{default:a(()=>[n(s,{name:e.section.icon},null,8,["name"])]),_:1})):N("",!0),n(f,null,{default:a(()=>[n(p,{text:e.section.name},null,8,["text"])]),_:1})]),_:1},8,["to","dense","value"]))}var jk=q(Tk,[["render",Lk]]),Rk=[{name:"Getting Started",icon:"play_circle_outline",to:"/getting-started",children:[{to:"/getting-started/introduction",name:"Introduction"},{to:"/getting-started/support",name:"Help & Support"},{to:"/getting-started/backing-directus",name:"Backing Directus"}]},{name:"Concepts",icon:"school",to:"/concepts",children:[{to:"/concepts/activity",name:"Activity"},{to:"/concepts/application",name:"Application"},{to:"/concepts/collections",name:"Collections"},{to:"/concepts/databases",name:"Databases"},{to:"/concepts/displays",name:"Displays"},{to:"/concepts/extensions",name:"Extensions"},{to:"/concepts/fields",name:"Fields"},{to:"/concepts/files",name:"Files"},{to:"/concepts/interfaces",name:"Interfaces"},{to:"/concepts/items",name:"Items"},{to:"/concepts/layouts",name:"Layouts"},{to:"/concepts/modules",name:"Modules"},{to:"/concepts/permissions",name:"Permissions"},{to:"/concepts/projects",name:"Projects"},{to:"/concepts/relationships",name:"Relationships"},{to:"/concepts/revisions",name:"Revisions"},{to:"/concepts/roles",name:"Roles"},{to:"/concepts/translations",name:"Translations"},{to:"/concepts/types",name:"Types"},{to:"/concepts/users",name:"Users"}]},{name:"Guides",to:"/guides",icon:"article",children:[{to:"/guides/api-config",name:"API Config"},{to:"/guides/api-endpoints",name:"API Endpoints"},{to:"/guides/api-hooks",name:"API Hooks"},{to:"/guides/collections",name:"Collections"},{to:"/guides/displays",name:"Displays"},{to:"/guides/email-templates",name:"Email Templates"},{to:"/guides/fields",name:"Fields"},{to:"/guides/files",name:"Files"},{to:"/guides/interfaces",name:"Interfaces"},{to:"/guides/items",name:"Items"},{to:"/guides/layouts",name:"Layouts"},{to:"/guides/migrations",name:"Migrations"},{to:"/guides/modules",name:"Modules"},{to:"/guides/permissions",name:"Permissions"},{to:"/guides/presets",name:"Presets"},{to:"/guides/projects",name:"Projects"},{to:"/guides/roles",name:"Roles"},{to:"/guides/styles",name:"Styles"},{to:"/guides/users",name:"Users"},{to:"/guides/webhooks",name:"Webhooks"}]},{name:"Reference",icon:"code",to:"/reference",children:[{to:"/reference/command-line-interface",name:"Command Line Interface"},{to:"/reference/environment-variables",name:"Environment Variables"},{to:"/reference/config-files",name:"Config Files"},{to:"/reference/error-codes",name:"Error Codes"},{to:"/reference/field-transforms",name:"Field Transforms"},{to:"/reference/filter-rules",name:"Filter Rules"},{to:"/reference/sdk",name:"JavaScript SDK"}]},{name:"API Reference",icon:"api",to:"/reference/api",children:[{to:"/reference/api/introduction",name:"Introduction"},{to:"/reference/api/authentication",name:"Authentication"},{name:"Global Query Parameters",to:"/reference/api/query"},{name:"Data Access",to:"/reference/api/items"},{name:"Assets",to:"/reference/api/assets"},{name:"System",to:"/reference/api/system",children:[{to:"/reference/api/system/activity",name:"Activity"},{to:"/reference/api/system/authentication",name:"Authentication"},{to:"/reference/api/system/collections",name:"Collections"},{to:"/reference/api/system/extensions",name:"Extensions"},{to:"/reference/api/system/fields",name:"Fields"},{to:"/reference/api/system/files",name:"Files"},{to:"/reference/api/system/folders",name:"Folders"},{to:"/reference/api/system/permissions",name:"Permissions"},{to:"/reference/api/system/presets",name:"Presets"},{to:"/reference/api/system/relations",name:"Relations"},{to:"/reference/api/system/revisions",name:"Revisions"},{to:"/reference/api/system/roles",name:"Roles"},{to:"/reference/api/system/server",name:"Server"},{to:"/reference/api/system/settings",name:"Settings"},{to:"/reference/api/system/users",name:"Users"},{to:"/reference/api/system/utilities",name:"Utilities"},{to:"/reference/api/system/webhooks",name:"Webhooks"}]}]}];function Mk(e){const t=e.substr(1).split("/");if(t.length===0)return[];const o=["/"+t[0]];for(let l=1;l<t.length;l++)o.push(o[l-1]+"/"+t[l]);return o[0]==="/reference"&&o[1]==="/reference/api"&&o.shift(),o}const Uk=K({components:{NavigationItem:jk},props:{path:{type:String,default:"/docs"}},setup(e){const t=D(null);return _e(()=>e.path,o=>{o!==null&&(t.value=[...t.value||[],...Mk(o.replace("/docs",""))])},{immediate:!0}),{navSections:Rk,selection:t}}});function Nk(e,t,o,l,d,c){const i=u("navigation-item"),s=u("v-list");return m(),F(s,{modelValue:e.selection,"onUpdate:modelValue":t[0]||(t[0]=r=>e.selection=r),nav:"",mandatory:!1,scope:"docs-navigation"},{default:a(()=>[(m(!0),I(oe,null,he(e.navSections,r=>(m(),F(i,{key:r.name,section:r},null,8,["section"]))),128))]),_:1},8,["modelValue"])}var _o=q(Uk,[["render",Nk]]);const Bk=K({name:"NotFound",components:{DocsNavigation:_o},setup(){const{t:e}=ae(),t=Yt();return{t:e,route:t}}}),qk={class:"not-found"};function zk(e,t,o,l,d,c){const i=u("docs-navigation"),s=u("v-info"),r=u("private-view");return m(),F(r,{title:e.t("page_not_found")},{navigation:a(()=>[n(i,{path:e.route.path},null,8,["path"])]),default:a(()=>[S("div",qk,[n(s,{title:e.t("page_not_found"),icon:"not_interested"},{default:a(()=>[O(h(e.t("page_not_found_body")),1)]),_:1},8,["title"])])]),_:1},8,["title"])}var Kk=q(Bk,[["render",zk],["__scopeId","data-v-736afbfa"]]);const Wk=K({name:"StaticDocs",components:{DocsNavigation:_o},setup(){const{t:e}=ae(),t=Yt(),o=D("Test"),l=D(!1);return{t:e,route:t,title:o,modularExtension:l}}}),Hk={class:"type-title"},Gk=O("Modular Extension"),Qk={class:"docs-content selectable"},Xk={class:"page-description"};function Jk(e,t,o,l,d,c){const i=u("v-icon"),s=u("v-button"),r=u("v-chip"),p=u("docs-navigation"),f=u("router-view"),v=u("sidebar-detail"),_=u("private-view"),y=Ce("md");return m(),F(_,{title:e.title},{"title-outer:prepend":a(()=>[n(s,{rounded:"",disabled:"",icon:""},{default:a(()=>[n(i,{name:"info"})]),_:1})]),title:a(()=>[S("h1",Hk,h(e.title),1),e.modularExtension?(m(),F(r,{key:0,disabled:"",small:""},{default:a(()=>[Gk]),_:1})):N("",!0)]),navigation:a(()=>[n(p,{path:e.route.path},null,8,["path"])]),sidebar:a(()=>[n(v,{icon:"info_outline",title:e.t("information"),close:""},{default:a(()=>[te(S("div",Xk,null,512),[[y,e.t("page_help_docs_global")]])]),_:1},8,["title"])]),default:a(()=>[S("div",Qk,[n(f,{"onUpdate:title":t[0]||(t[0]=b=>e.title=b),"onUpdate:modularExtension":t[1]||(t[1]=b=>e.modularExtension=b)})])]),_:1},8,["title"])}var Yk=q(Wk,[["render",Jk],["__scopeId","data-v-3383fb1a"]]),Zk=on({id:"docs",name:"$t:documentation",icon:"info",routes:[{path:"",component:Yk,children:[{path:"",redirect:"/docs/getting-started/introduction/"},...vo(Pk)]},{path:":_(.+)+",component:Kk}]});function vo(e){const t=[];for(const o of e)"children"in o?(t.push({path:o.path,redirect:`/docs/${o.children[0].path}`}),t.push(...vo(o.children))):t.push({name:`docs-${o.path.replace("/","-")}`,path:o.path,component:o.import});return t}var xk=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:Zk});const ew=K({props:{folder:{type:String,default:null}},setup(e){const{t}=ae(),o=et(),l=un();return{t,isOpen:l,close:d};function d(){o.push(e.folder?{path:`/files/folders/${e.folder}`}:{path:"/files"})}}});function tw(e,t,o,l,d,c){const i=u("v-card-title"),s=u("v-upload"),r=u("v-card-text"),p=u("v-button"),f=u("v-card-actions"),v=u("v-card"),_=u("v-dialog");return m(),F(_,{"model-value":e.isOpen,"onUpdate:modelValue":e.close,onEsc:e.close},{default:a(()=>[n(v,null,{default:a(()=>[n(i,null,{default:a(()=>[O(h(e.t("add_file")),1)]),_:1}),n(r,null,{default:a(()=>[n(s,{preset:{folder:e.folder},multiple:"","from-url":"",onInput:e.close},null,8,["preset","onInput"])]),_:1}),n(f,null,{default:a(()=>[n(p,{secondary:"",onClick:e.close},{default:a(()=>[O(h(e.t("done")),1)]),_:1},8,["onClick"])]),_:1})]),_:1})]),_:1},8,["model-value","onUpdate:modelValue","onEsc"])}var yo=q(ew,[["render",tw]]);let mn=null,Sn=null,Gn=null,aa=null,Qn=null;function Xn(){return mn===null&&(mn=D(!1)),Sn===null&&(Sn=D(null)),Gn===null&&(Gn=D(null)),Qn===null&&(Qn=D(null)),aa===null&&(aa=D(["root"])),Sn.value===null&&mn.value===!1&&e(),{loading:mn,folders:Sn,nestedFolders:Gn,error:Qn,fetchFolders:e,openFolders:aa};async function e(){if(mn!==null&&Sn!==null&&Gn!==null&&Qn!==null){mn.value=!0;try{const t=await de.get("/folders",{params:{limit:-1,sort:"name"}});Sn.value=t.data.data,Gn.value=nw(t.data.data)}catch(t){Qn.value=t}finally{mn.value=!1}}}}function nw(e){return e.map(t=>go(t,e)).filter(t=>t.parent===null)}function go(e,t){const o=X({},e),l=t.filter(d=>d.parent===e.id&&d.id!==e.id).map(d=>go(d,t));return l.length>0&&(o.children=l),o}const lw=K({name:"FolderPickerListItem",props:{folder:{type:Object,required:!0},currentFolder:{type:String,default:null},clickHandler:{type:Function,default:()=>{}},disabled:{type:Boolean,default:!1},disabledFolders:{type:Array,default:()=>[]}}}),aw={class:"folder-picker-list-item"};function ow(e,t,o,l,d,c){const i=u("v-icon"),s=u("v-list-item-icon"),r=u("v-list-item-content"),p=u("v-list-item"),f=u("folder-picker-list-item",!0),v=u("v-list-group");return m(),I("div",aw,[e.folder.children.length===0?(m(),F(p,{key:0,clickable:"",active:e.currentFolder===e.folder.id,disabled:e.disabled,onClick:t[0]||(t[0]=_=>e.clickHandler(e.folder.id))},{default:a(()=>[n(s,null,{default:a(()=>[n(i,{name:e.currentFolder===e.folder.id?"folder_open":"folder"},null,8,["name"])]),_:1}),n(r,null,{default:a(()=>[O(h(e.folder.name),1)]),_:1})]),_:1},8,["active","disabled"])):(m(),F(v,{key:1,clickable:"",active:e.currentFolder===e.folder.id,disabled:e.disabled,onClick:t[1]||(t[1]=_=>e.clickHandler(e.folder.id))},{activator:a(()=>[n(s,null,{default:a(()=>[n(i,{name:e.currentFolder===e.folder.id?"folder_open":"folder"},null,8,["name"])]),_:1}),n(r,null,{default:a(()=>[O(h(e.folder.name),1)]),_:1})]),default:a(()=>[(m(!0),I(oe,null,he(e.folder.children,_=>(m(),F(f,{key:_.id,folder:_,"current-folder":e.currentFolder,"click-handler":e.clickHandler,disabled:e.disabledFolders.includes(_.id),"disabled-folders":e.disabledFolders},null,8,["folder","current-folder","click-handler","disabled","disabled-folders"]))),128))]),_:1},8,["active","disabled"]))])}var iw=q(lw,[["render",ow]]);const sw=K({components:{FolderPickerListItem:iw},props:{disabledFolders:{type:Array,default:()=>[]},modelValue:{type:String,default:null}},emits:["update:modelValue"],setup(e){const{t}=ae(),o=D(!1),l=D([]),d=E(()=>{return l.value.filter(y=>y.parent===null).map(y=>ye(X({},y),{children:_(y)}));function _(y){return l.value.filter(b=>b.parent===y.id).map(b=>ye(X({},b),{children:_(b)}))}}),c=[],i=l.value.find(_=>_.id===e.modelValue);i&&i.parent&&v(i.parent);const s=["root"];for(const _ of c)s.includes(_)===!1&&s.push(_);const r=E(()=>l.value.find(_=>_.id===e.modelValue)||{}),p=D(s);return f(),{t,loading:o,folders:l,tree:d,selectedFolder:r,openFolders:p};async function f(){if(!(l.value.length>0)){o.value=!0;try{const _=await de.get("/folders",{params:{limit:-1,sort:"name"}});l.value=_.data.data}catch(_){Fe(_)}finally{o.value=!1}}}function v(_){if(!l.value)return;c.push(_);const y=l.value.find(b=>b.id===_);y&&y.parent&&v(y.parent)}}}),rw={key:1,class:"folder-picker"};function dw(e,t,o,l,d,c){const i=u("v-skeleton-loader"),s=u("v-icon"),r=u("v-list-item-icon"),p=u("v-list-item-content"),f=u("folder-picker-list-item"),v=u("v-list-group"),_=u("v-item-group"),y=u("v-list");return e.loading?(m(),F(i,{key:0})):(m(),I("div",rw,[n(y,null,{default:a(()=>[n(_,{modelValue:e.openFolders,"onUpdate:modelValue":t[1]||(t[1]=b=>e.openFolders=b),scope:"folder-picker",multiple:""},{default:a(()=>[n(v,{"disable-groupable-parent":"",clickable:"",active:e.modelValue===null,scope:"folder-picker",value:"root",onClick:t[0]||(t[0]=b=>e.$emit("update:modelValue",null))},{activator:a(()=>[n(r,null,{default:a(()=>[n(s,{name:"folder_special",outline:""})]),_:1}),n(p,null,{default:a(()=>[O(h(e.t("file_library")),1)]),_:1})]),default:a(()=>[(m(!0),I(oe,null,he(e.tree,b=>(m(),F(f,{key:b.id,folder:b,"current-folder":e.modelValue,"click-handler":w=>e.$emit("update:modelValue",w),disabled:e.disabledFolders.includes(b.id),"disabled-folders":e.disabledFolders},null,8,["folder","current-folder","click-handler","disabled","disabled-folders"]))),128))]),_:1},8,["active"])]),_:1},8,["modelValue"])]),_:1})]))}var oa=q(sw,[["render",dw],["__scopeId","data-v-2293d565"]]);const uw=K({name:"NavigationFolder",components:{FolderPicker:oa},props:{folder:{type:Object,required:!0},currentFolder:{type:String,default:null},clickHandler:{type:Function,default:()=>{}}},setup(e){const{t}=ae(),o=et(),l=D(),{renameActive:d,renameValue:c,renameSave:i,renameSaving:s}=$(),{moveActive:r,moveValue:p,moveSave:f,moveSaving:v}=k(),{deleteActive:_,deleteSave:y,deleteSaving:b}=V(),{fetchFolders:w}=Xn();return{t,renameActive:d,renameValue:c,renameSave:i,renameSaving:s,moveActive:r,moveValue:p,moveSave:f,moveSaving:v,deleteActive:_,deleteSave:y,deleteSaving:b,contextMenu:l,activateContextMenu:g};function $(){const A=D(!1),R=D(e.folder.name),L=D(!1);return{renameActive:A,renameValue:R,renameSave:M,renameSaving:L};async function M(){L.value=!0;try{await de.patch(`/folders/${e.folder.id}`,{name:R.value})}catch(T){Fe(T)}finally{L.value=!1,await w(),A.value=!1}}}function k(){const A=D(!1),R=D(e.folder.parent),L=D(!1);return{moveActive:A,moveValue:R,moveSave:M,moveSaving:L};async function M(){L.value=!0;try{await de.patch(`/folders/${e.folder.id}`,{parent:R.value})}catch(T){Fe(T)}finally{L.value=!1,await w(),A.value=!1}}}function V(){const A=D(!1),R=D(!1);return{deleteActive:A,deleteSave:L,deleteSaving:R};async function L(){R.value=!0;try{const M=await de.get("/folders",{params:{filter:{parent:{_eq:e.folder.id}}}}),T=await de.get("/files",{params:{filter:{folder:{_eq:e.folder.id}}}}),U=e.folder.parent||null,B=M.data.data.map(W=>W.id),z=T.data.data.map(W=>W.id);B.length>0&&await de.patch("/folders",{keys:B,data:{parent:U}}),z.length>0&&await de.patch("/files",{keys:z,data:{folder:U}}),await de.delete(`/folders/${e.folder.id}`),U?o.push(`/files/folders/${U}`):o.push("/files"),A.value=!1}catch(M){Fe(M)}finally{await w(),R.value=!1}}}function g(A){l.value.activate(A)}}});function cw(e,t,o,l,d,c){const i=u("v-icon"),s=u("v-list-item-icon"),r=u("v-text-overflow"),p=u("v-list-item-content"),f=u("v-list-item"),v=u("navigation-folder",!0),_=u("v-list-group"),y=u("v-list"),b=u("v-menu"),w=u("v-card-title"),$=u("v-input"),k=u("v-card-text"),V=u("v-button"),g=u("v-card-actions"),A=u("v-card"),R=u("v-dialog"),L=u("folder-picker"),M=u("v-notice");return m(),I("div",null,[e.folder.children===void 0?(m(),F(f,{key:0,to:`/files/folders/${e.folder.id}`,active:e.currentFolder===e.folder.id,onContextmenu:Ie(e.activateContextMenu,["prevent","stop"])},{default:a(()=>[n(s,null,{default:a(()=>[n(i,{name:"folder"})]),_:1}),n(p,null,{default:a(()=>[n(r,{text:e.folder.name},null,8,["text"])]),_:1})]),_:1},8,["to","active","onContextmenu"])):(m(),F(_,{key:1,to:`/files/folders/${e.folder.id}`,active:e.currentFolder===e.folder.id,value:e.folder.id,scope:"files-navigation","disable-groupable-parent":"",onContextmenu:Ie(e.activateContextMenu,["prevent","stop"])},{activator:a(()=>[n(s,null,{default:a(()=>[n(i,{name:"folder"})]),_:1}),n(p,null,{default:a(()=>[n(r,{text:e.folder.name},null,8,["text"])]),_:1})]),default:a(()=>[(m(!0),I(oe,null,he(e.folder.children,T=>(m(),F(v,{key:T.id,folder:T,"current-folder":e.currentFolder,"click-handler":e.clickHandler},null,8,["folder","current-folder","click-handler"]))),128))]),_:1},8,["to","active","value","onContextmenu"])),n(b,{ref:"contextMenu","show-arrow":"",placement:"bottom-start"},{default:a(()=>[n(y,null,{default:a(()=>[n(f,{clickable:"",onClick:t[0]||(t[0]=T=>e.renameActive=!0)},{default:a(()=>[n(s,null,{default:a(()=>[n(i,{name:"edit",outline:""})]),_:1}),n(p,null,{default:a(()=>[n(r,{text:e.t("rename_folder")},null,8,["text"])]),_:1})]),_:1}),n(f,{clickable:"",onClick:t[1]||(t[1]=T=>e.moveActive=!0)},{default:a(()=>[n(s,null,{default:a(()=>[n(i,{name:"folder_move"})]),_:1}),n(p,null,{default:a(()=>[n(r,{text:e.t("move_to_folder")},null,8,["text"])]),_:1})]),_:1}),n(f,{clickable:"",onClick:t[2]||(t[2]=T=>e.deleteActive=!0)},{default:a(()=>[n(s,null,{default:a(()=>[n(i,{name:"delete",outline:""})]),_:1}),n(p,null,{default:a(()=>[n(r,{text:e.t("delete_folder")},null,8,["text"])]),_:1})]),_:1})]),_:1})]),_:1},512),n(R,{modelValue:e.renameActive,"onUpdate:modelValue":t[5]||(t[5]=T=>e.renameActive=T),persistent:"",onEsc:t[6]||(t[6]=T=>e.renameActive=!1)},{default:a(()=>[n(A,null,{default:a(()=>[n(w,null,{default:a(()=>[O(h(e.t("rename_folder")),1)]),_:1}),n(k,null,{default:a(()=>[n($,{modelValue:e.renameValue,"onUpdate:modelValue":t[3]||(t[3]=T=>e.renameValue=T),autofocus:"",onKeyup:gn(e.renameSave,["enter"])},null,8,["modelValue","onKeyup"])]),_:1}),n(g,null,{default:a(()=>[n(V,{secondary:"",onClick:t[4]||(t[4]=T=>e.renameActive=!1)},{default:a(()=>[O(h(e.t("cancel")),1)]),_:1}),n(V,{disabled:e.renameValue===null,loading:e.renameSaving,onClick:e.renameSave},{default:a(()=>[O(h(e.t("save")),1)]),_:1},8,["disabled","loading","onClick"])]),_:1})]),_:1})]),_:1},8,["modelValue"]),n(R,{modelValue:e.moveActive,"onUpdate:modelValue":t[9]||(t[9]=T=>e.moveActive=T),persistent:"",onEsc:t[10]||(t[10]=T=>e.moveActive=!1)},{default:a(()=>[n(A,null,{default:a(()=>[n(w,null,{default:a(()=>[O(h(e.t("move_to_folder")),1)]),_:1}),n(k,null,{default:a(()=>[n(L,{modelValue:e.moveValue,"onUpdate:modelValue":t[7]||(t[7]=T=>e.moveValue=T),"disabled-folders":[e.folder.id]},null,8,["modelValue","disabled-folders"])]),_:1}),n(g,null,{default:a(()=>[n(V,{secondary:"",onClick:t[8]||(t[8]=T=>e.moveActive=!1)},{default:a(()=>[O(h(e.t("cancel")),1)]),_:1}),n(V,{loading:e.moveSaving,onClick:e.moveSave},{default:a(()=>[O(h(e.t("save")),1)]),_:1},8,["loading","onClick"])]),_:1})]),_:1})]),_:1},8,["modelValue"]),n(R,{modelValue:e.deleteActive,"onUpdate:modelValue":t[12]||(t[12]=T=>e.deleteActive=T),persistent:"",onEsc:t[13]||(t[13]=T=>e.deleteActive=!1)},{default:a(()=>[n(A,null,{default:a(()=>[n(w,null,{default:a(()=>[O(h(e.t("delete_folder")),1)]),_:1}),n(k,null,{default:a(()=>[n(M,null,{default:a(()=>[O(h(e.t("nested_files_folders_will_be_moved")),1)]),_:1})]),_:1}),n(g,null,{default:a(()=>[n(V,{secondary:"",onClick:t[11]||(t[11]=T=>e.deleteActive=!1)},{default:a(()=>[O(h(e.t("cancel")),1)]),_:1}),n(V,{kind:"danger",loading:e.deleteSaving,onClick:e.deleteSave},{default:a(()=>[O(h(e.t("delete_label")),1)]),_:1},8,["loading","onClick"])]),_:1})]),_:1})]),_:1},8,["modelValue"])])}var pw=q(uw,[["render",cw]]);function mw(e,t){const o={};for(let l=0;l<e.length;l++){const d=e[l]+typeof e[l];o[d]=1}for(let l=0;l<t.length;l++){const d=t[l]+typeof t[l];if(!o[d])return!1;o[d]=2}for(const l in o)if(o[l]===1)return!1;return!0}const fw=K({components:{NavigationFolder:pw},props:{currentFolder:{type:String,default:null}},setup(e){const{t}=ae(),{nestedFolders:o,folders:l,error:d,loading:c,openFolders:i}=Xn();return s(),_e(()=>e.currentFolder,s),{t,folders:l,nestedFolders:o,error:d,loading:c,openFolders:i};function s(){if(!l.value)return[];if(!(i==null?void 0:i.value))return[];const r=[],p=l.value.find(_=>_.id===e.currentFolder);p&&p.parent&&v(p.parent);const f=[...i.value];for(const _ of r)f.includes(_)===!1&&f.push(_);f.length!==1&&mw(f,i.value)===!1&&(i.value=f);function v(_){if(!l.value)return;r.push(_);const y=l.value.find(b=>b.id===_);y&&y.parent&&v(y.parent)}}}}),_w={class:"folders"};function vw(e,t,o,l,d,c){const i=u("v-skeleton-loader"),s=u("v-list-item"),r=u("v-icon"),p=u("v-list-item-icon"),f=u("v-text-overflow"),v=u("v-list-item-content"),_=u("navigation-folder"),y=u("v-list-group"),b=u("v-item-group"),w=u("v-divider"),$=u("v-list");return m(),F($,{nav:""},{default:a(()=>[e.loading&&(e.nestedFolders===null||e.nestedFolders.length===0)?(m(),I(oe,{key:0},he(4,k=>n(s,{key:k},{default:a(()=>[n(i,{type:"list-item-icon"})]),_:2},1024)),64)):N("",!0),S("div",_w,[n(b,{modelValue:e.openFolders,"onUpdate:modelValue":t[0]||(t[0]=k=>e.openFolders=k),scope:"files-navigation",multiple:""},{default:a(()=>[n(y,{to:"/files",active:e.currentFolder===null,value:"root",scope:"files-navigation",exact:"","disable-groupable-parent":""},{activator:a(()=>[n(p,null,{default:a(()=>[n(r,{name:"folder_special",outline:""})]),_:1}),n(v,null,{default:a(()=>[n(f,{text:e.t("file_library")},null,8,["text"])]),_:1})]),default:a(()=>[(m(!0),I(oe,null,he(e.nestedFolders,k=>(m(),F(_,{key:k.id,folder:k,"current-folder":e.currentFolder},null,8,["folder","current-folder"]))),128))]),_:1},8,["active"])]),_:1},8,["modelValue"])]),n(w),n(s,{to:"/files/all"},{default:a(()=>[n(p,null,{default:a(()=>[n(r,{name:"file_copy",outline:""})]),_:1}),n(v,null,{default:a(()=>[n(f,{text:e.t("all_files")},null,8,["text"])]),_:1})]),_:1}),n(s,{to:"/files/mine"},{default:a(()=>[n(p,null,{default:a(()=>[n(r,{name:"folder_shared"})]),_:1}),n(v,null,{default:a(()=>[n(f,{text:e.t("my_files")},null,8,["text"])]),_:1})]),_:1}),n(s,{to:"/files/recent"},{default:a(()=>[n(p,null,{default:a(()=>[n(r,{name:"history"})]),_:1}),n(v,null,{default:a(()=>[n(f,{text:e.t("recent_files")},null,8,["text"])]),_:1})]),_:1})]),_:1})}var ia=q(fw,[["render",vw],["__scopeId","data-v-1c8d05c4"]]);const yw=K({props:{parent:{type:String,default:null},disabled:{type:Boolean,default:!1}},setup(e){const{t}=ae(),o=et(),l=D(!1),d=D(!1),c=D(null),{fetchFolders:i}=Xn();return{t,addFolder:s,dialogActive:l,newFolderName:c,saving:d};async function s(){d.value=!0;try{const r=await de.post("/folders",{name:c.value,parent:e.parent==="root"?null:e.parent});await i(),l.value=!1,c.value=null,o.push({path:`/files/folders/${r.data.data.id}`})}catch(r){Fe(r)}finally{d.value=!1}}}});function gw(e,t,o,l,d,c){const i=u("v-icon"),s=u("v-button"),r=u("v-card-title"),p=u("v-input"),f=u("v-card-text"),v=u("v-card-actions"),_=u("v-card"),y=u("v-dialog"),b=Ce("tooltip");return m(),F(y,{modelValue:e.dialogActive,"onUpdate:modelValue":t[2]||(t[2]=w=>e.dialogActive=w),onEsc:t[3]||(t[3]=w=>e.dialogActive=!1)},{activator:a(({on:w})=>[te(n(s,{rounded:"",icon:"",class:"add-new",disabled:e.disabled,onClick:w},{default:a(()=>[n(i,{name:"create_new_folder",outline:""})]),_:2},1032,["disabled","onClick"]),[[b,e.disabled?e.t("not_allowed"):e.t("create_folder"),void 0,{bottom:!0}]])]),default:a(()=>[n(_,null,{default:a(()=>[n(r,null,{default:a(()=>[O(h(e.t("create_folder")),1)]),_:1}),n(f,null,{default:a(()=>[n(p,{modelValue:e.newFolderName,"onUpdate:modelValue":t[0]||(t[0]=w=>e.newFolderName=w),autofocus:"",placeholder:e.t("folder_name"),onKeyup:gn(e.addFolder,["enter"])},null,8,["modelValue","placeholder","onKeyup"])]),_:1}),n(v,null,{default:a(()=>[n(s,{secondary:"",onClick:t[1]||(t[1]=w=>e.dialogActive=!1)},{default:a(()=>[O(h(e.t("cancel")),1)]),_:1}),n(s,{disabled:e.newFolderName===null,loading:e.saving,onClick:e.addFolder},{default:a(()=>[O(h(e.t("save")),1)]),_:1},8,["disabled","loading","onClick"])]),_:1})]),_:1})]),_:1},8,["modelValue"])}var hw=q(yw,[["render",gw],["__scopeId","data-v-51ae7fc6"]]);const Jn=Ka();var fn;(function(e){e.upload="upload"})(fn||(fn={}));function Fn(e,t,o,l){rt(()=>{(Bl(e)?e.value:e).addEventListener(t,o,l)}),Nl(()=>{(Bl(e)?e.value:e).removeEventListener(t,o,l)})}async function ho(e,t){const o=(t==null?void 0:t.onProgressChange)||(()=>{}),l=new FormData;if(t==null?void 0:t.preset)for(const[c,i]of Object.entries(t.preset))l.append(c,i);l.append("file",e);try{let c=null;return(t==null?void 0:t.fileId)?c=await de.patch(`/files/${t.fileId}`,l,{onUploadProgress:d}):c=await de.post("/files",l,{onUploadProgress:d}),(t==null?void 0:t.notifications)&&kt({title:We.global.t("upload_file_success"),type:"success"}),Jn.emit(fn.upload),c.data.data}catch(c){Fe(c)}function d(c){const i=Math.floor(c.loaded*100/c.total);o(i)}}async function bo(e,t){const o=(t==null?void 0:t.onProgressChange)||(()=>{}),l=e.map(()=>0);try{const d=await Promise.all(e.map((c,i)=>ho(c,ye(X({},t),{onProgressChange:s=>{l[i]=s,o(l)}}))));return(t==null?void 0:t.notifications)&&kt({title:We.global.t("upload_files_success",{count:e.length}),type:"success"}),d}catch(d){Fe(d)}}const bw=K({name:"FilesCollection",components:{FilesNavigation:ia,LayoutSidebarDetail:zn,AddFolder:hw,SearchInput:kn,FolderPicker:oa,DrawerBatch:Zl},props:{folder:{type:String,default:null},special:{type:String,default:null}},setup(e){const{t}=ae(),o=et(),l=Al(),d=It(),{folders:c}=Xn(),i=D(),s=D([]),r=xe(),{layout:p,layoutOptions:f,layoutQuery:v,filter:_,search:y,resetPreset:b}=$n(D("directus_files")),{confirmDelete:w,deleting:$,batchDelete:k,error:V,batchEditActive:g}=Z(),{breadcrumb:A,title:R}=se(),L=E(()=>{const fe={_and:[{type:{_nnull:!0}}]};return e.special===null&&(e.folder!==null?fe._and.push({folder:{_eq:e.folder}}):fe._and.push({folder:{_null:!0}})),e.special==="mine"&&r.currentUser&&fe._and.push({uploaded_by:{_eq:r.currentUser.id}}),e.special==="recent"&&fe._and.push({uploaded_on:{_gt:Wa(new Date,5).toISOString()}}),fe}),{layoutWrapper:M}=dn(p),{moveToDialogActive:T,moveToFolder:U,moving:B,selectedFolder:z}=le();rt(()=>Jn.on(fn.upload,ce)),Ct(()=>Jn.off(fn.upload,ce)),At(()=>{s.value=[]}),Ot(()=>{s.value=[]});const{onDragEnter:W,onDragLeave:J,onDrop:Q,onDragOver:G,showDropEffect:x,dragging:ee}=ge();Fn(window,"dragenter",W),Fn(window,"dragover",G),Fn(window,"dragleave",J),Fn(window,"drop",Q);const{batchEditAllowed:ne,batchDeleteAllowed:ie,createAllowed:pe,createFolderAllowed:Y}=ue();return{t,breadcrumb:A,title:R,layoutRef:i,layoutWrapper:M,selection:s,layoutOptions:f,layoutQuery:v,layout:p,folderTypeFilter:L,search:y,moveToDialogActive:T,moveToFolder:U,moving:B,selectedFolder:z,refresh:ce,clearFilters:ve,onDragEnter:W,onDragLeave:J,showDropEffect:x,onDrop:Q,dragging:ee,batchEditAllowed:ne,batchDeleteAllowed:ie,createAllowed:pe,createFolderAllowed:Y,resetPreset:b,confirmDelete:w,deleting:$,batchDelete:k,deleteError:V,batchEditActive:g,filter:_,mergeFilters:gl};function Z(){const fe=D(!1),me=D(!1),ke=D(!1),be=D();return{batchEditActive:ke,confirmDelete:fe,deleting:me,batchDelete:Se,error:be};async function Se(){me.value=!0;const De=s.value;try{await de.delete("/files",{data:De}),await ce(),s.value=[]}catch(Ae){Fe(Ae),be.value=Ae}finally{fe.value=!1,me.value=!1}}}function se(){const fe=E(()=>{var ke;if(e.special==="all")return t("all_files");if(e.special==="mine")return t("my_files");if(e.special==="recent")return t("recent_files");if(e.folder){const be=(ke=c.value)==null?void 0:ke.find(Se=>Se.id===e.folder);if(be)return be.name}return t("file_library")});return{breadcrumb:E(()=>fe.value!==t("file_library")?[{name:t("file_library"),to:"/files"}]:null),title:fe}}function le(){const fe=D(!1),me=D(!1),ke=D();return{moveToDialogActive:fe,moving:me,moveToFolder:be,selectedFolder:ke};async function be(){me.value=!0;try{await de.patch("/files",{keys:s.value,data:{folder:ke.value}}),s.value=[],ke.value&&o.push(`/files/folders/${ke.value}`),await Un(),await ce()}catch(Se){Fe(Se)}finally{fe.value=!1,me.value=!1}}}async function ce(){var fe,me,ke;await((ke=(me=(fe=i.value)==null?void 0:fe.state)==null?void 0:me.refresh)==null?void 0:ke.call(me))}function ve(){_.value=null,y.value=null}function ue(){const fe=E(()=>{var Ae;return((Ae=r==null?void 0:r.currentUser)==null?void 0:Ae.role.admin_access)===!0?!0:!!d.permissions.find(Le=>Le.action==="update"&&Le.collection==="directus_files")}),me=E(()=>{var Ae;return((Ae=r==null?void 0:r.currentUser)==null?void 0:Ae.role.admin_access)===!0?!0:!!d.permissions.find(Le=>Le.action==="delete"&&Le.collection==="directus_files")}),ke=E(()=>{var Ae;return((Ae=r==null?void 0:r.currentUser)==null?void 0:Ae.role.admin_access)===!0?!0:!!d.permissions.find(Le=>Le.action==="create"&&Le.collection==="directus_files")}),be=E(()=>{var Ae;return((Ae=r==null?void 0:r.currentUser)==null?void 0:Ae.role.admin_access)===!0?!0:!!d.permissions.find(Le=>Le.action==="create"&&Le.collection==="directus_folders")});return{batchEditAllowed:fe,batchDeleteAllowed:me,createAllowed:ke,createFolderAllowed:be}}function ge(){const fe=D(!1);let me,ke;const be=D(0),Se=E(()=>be.value>0);return{onDragEnter:Le,onDragLeave:Oe,onDrop:je,onDragOver:lt,showDropEffect:fe,dragging:Se};function De(){fe.value=!0,me=l.add({title:t("drop_to_upload"),icon:"cloud_upload",type:"info",persist:!0,closeable:!1})}function Ae(){fe.value=!1,me&&l.remove(me)}function Le(Te){var we,Be,Ye;if(!Te.dataTransfer||((we=Te.dataTransfer)==null?void 0:we.types.indexOf("Files"))===-1)return;Te.preventDefault(),be.value++;const Ve=Te.target&&((Ye=(Be=Te.target).getAttribute)==null?void 0:Ye.call(Be,"data-dropzone"))==="";be.value===1&&fe.value===!1&&Ve===!1&&De(),Ve&&(Ae(),be.value=0)}function lt(Te){var Ve;!Te.dataTransfer||((Ve=Te.dataTransfer)==null?void 0:Ve.types.indexOf("Files"))!==-1&&Te.preventDefault()}function Oe(Te){var Ve,we,Be;!Te.dataTransfer||((Ve=Te.dataTransfer)==null?void 0:Ve.types.indexOf("Files"))!==-1&&(Te.preventDefault(),be.value--,be.value===0&&Ae(),Te.target&&((Be=(we=Te.target).getAttribute)==null?void 0:Be.call(we,"data-dropzone"))===""&&(De(),be.value=1))}async function je(Te){var we;if(!Te.dataTransfer||((we=Te.dataTransfer)==null?void 0:we.types.indexOf("Files"))===-1)return;Te.preventDefault(),fe.value=!1,be.value=0,me&&l.remove(me);const Ve=[...Te.dataTransfer.files];ke=l.add({title:t("upload_files_indeterminate",{done:0,total:Ve.length},Ve.length),type:"info",persist:!0,closeable:!1,loading:!0}),await bo(Ve,{preset:{folder:e.folder},onProgressChange:Be=>{const Ye=Be.reduce((nt,pt)=>nt+=pt)/Be.length,it=Ve.length,ot=Be.filter(nt=>nt===100).length;l.update(ke,{title:t("upload_files_indeterminate",{done:ot,total:it},Ve.length),loading:!1,progress:Ye})}}),l.remove(ke),Jn.emit(fn.upload)}}}}),Sl=e=>(He("data-v-f242a114"),e=e(),Ge(),e),$w={class:"page-description"},kw=Sl(()=>S("div",{class:"drop-border top"},null,-1)),ww=Sl(()=>S("div",{class:"drop-border right"},null,-1)),Cw=Sl(()=>S("div",{class:"drop-border bottom"},null,-1)),Sw=Sl(()=>S("div",{class:"drop-border left"},null,-1));function Fw(e,t,o,l,d,c){const i=u("v-breadcrumb"),s=u("v-icon"),r=u("v-button"),p=u("search-input"),f=u("add-folder"),v=u("v-card-title"),_=u("folder-picker"),y=u("v-card-text"),b=u("v-card-actions"),w=u("v-card"),$=u("v-dialog"),k=u("files-navigation"),V=u("v-info"),g=u("router-view"),A=u("drawer-batch"),R=u("sidebar-detail"),L=u("layout-sidebar-detail"),M=u("export-sidebar-detail"),T=u("private-view"),U=Ce("tooltip"),B=Ce("md");return m(),F(Ue(e.layoutWrapper),{ref:"layoutRef",selection:e.selection,"onUpdate:selection":t[12]||(t[12]=z=>e.selection=z),"layout-options":e.layoutOptions,"onUpdate:layout-options":t[13]||(t[13]=z=>e.layoutOptions=z),"layout-query":e.layoutQuery,"onUpdate:layout-query":t[14]||(t[14]=z=>e.layoutQuery=z),filter:e.mergeFilters(e.filter,e.folderTypeFilter),"filter-user":e.filter,"filter-system":e.folderTypeFilter,search:e.search,collection:"directus_files","reset-preset":e.resetPreset},{default:a(({layoutState:z})=>[n(T,{title:e.title,class:re({dragging:e.dragging})},Ne({"title-outer:prepend":a(()=>[n(r,{class:"header-icon",rounded:"",disabled:"",icon:"",secondary:""},{default:a(()=>[n(s,{name:"folder",outline:""})]),_:1})]),"actions:prepend":a(()=>[(m(),F(Ue(`layout-actions-${e.layout}`),Qe(Ze(z)),null,16))]),actions:a(()=>[n(p,{modelValue:e.search,"onUpdate:modelValue":t[0]||(t[0]=W=>e.search=W),filter:e.filter,"onUpdate:filter":t[1]||(t[1]=W=>e.filter=W),collection:"directus_files"},null,8,["modelValue","filter"]),n(f,{parent:e.folder,disabled:e.createFolderAllowed!==!0},null,8,["parent","disabled"]),e.selection.length>0?(m(),F($,{key:0,modelValue:e.moveToDialogActive,"onUpdate:modelValue":t[4]||(t[4]=W=>e.moveToDialogActive=W),onEsc:t[5]||(t[5]=W=>e.moveToDialogActive=!1)},{activator:a(({on:W})=>[te(n(r,{rounded:"",icon:"",class:"folder",onClick:W},{default:a(()=>[n(s,{name:"folder_move"})]),_:2},1032,["onClick"]),[[U,e.t("move_to_folder"),void 0,{bottom:!0}]])]),default:a(()=>[n(w,null,{default:a(()=>[n(v,null,{default:a(()=>[O(h(e.t("move_to_folder")),1)]),_:1}),n(y,null,{default:a(()=>[n(_,{modelValue:e.selectedFolder,"onUpdate:modelValue":t[2]||(t[2]=W=>e.selectedFolder=W)},null,8,["modelValue"])]),_:1}),n(b,null,{default:a(()=>[n(r,{secondary:"",onClick:t[3]||(t[3]=W=>e.moveToDialogActive=!1)},{default:a(()=>[O(h(e.t("cancel")),1)]),_:1}),n(r,{loading:e.moving,onClick:e.moveToFolder},{default:a(()=>[O(h(e.t("move")),1)]),_:1},8,["loading","onClick"])]),_:1})]),_:1})]),_:1},8,["modelValue"])):N("",!0),e.selection.length>0?(m(),F($,{key:1,modelValue:e.confirmDelete,"onUpdate:modelValue":t[7]||(t[7]=W=>e.confirmDelete=W),onEsc:t[8]||(t[8]=W=>e.confirmDelete=!1)},{activator:a(({on:W})=>[te(n(r,{disabled:e.batchDeleteAllowed!==!0,rounded:"",icon:"",class:"action-delete",onClick:W},{default:a(()=>[n(s,{name:"delete",outline:""})]),_:2},1032,["disabled","onClick"]),[[U,e.batchDeleteAllowed?e.t("delete_label"):e.t("not_allowed"),void 0,{bottom:!0}]])]),default:a(()=>[n(w,null,{default:a(()=>[n(v,null,{default:a(()=>[O(h(e.t("batch_delete_confirm",e.selection.length)),1)]),_:1}),n(b,null,{default:a(()=>[n(r,{secondary:"",onClick:t[6]||(t[6]=W=>e.confirmDelete=!1)},{default:a(()=>[O(h(e.t("cancel")),1)]),_:1}),n(r,{kind:"danger",loading:e.deleting,onClick:e.batchDelete},{default:a(()=>[O(h(e.t("delete_label")),1)]),_:1},8,["loading","onClick"])]),_:1})]),_:1})]),_:1},8,["modelValue"])):N("",!0),e.selection.length>1?te((m(),F(r,{key:2,rounded:"",icon:"",class:"action-batch",disabled:e.batchEditAllowed===!1,onClick:t[9]||(t[9]=W=>e.batchEditActive=!0)},{default:a(()=>[n(s,{name:"edit",outline:""})]),_:1},8,["disabled"])),[[U,e.batchEditAllowed?e.t("edit"):e.t("not_allowed"),void 0,{bottom:!0}]]):N("",!0),te(n(r,{rounded:"",icon:"",class:"add-new",to:e.folder?{path:`/files/folders/${e.folder}/+`}:{path:"/files/+"},disabled:e.createAllowed===!1},{default:a(()=>[n(s,{name:"add"})]),_:1},8,["to","disabled"]),[[U,e.createAllowed?e.t("create_item"):e.t("not_allowed"),void 0,{bottom:!0}]])]),navigation:a(()=>[n(k,{"current-folder":e.folder},null,8,["current-folder"])]),sidebar:a(()=>[n(R,{icon:"info_outline",title:e.t("information"),close:""},{default:a(()=>[te(S("div",$w,null,512),[[B,e.t("page_help_files_collection")]])]),_:1},8,["title"]),n(L,{modelValue:e.layout,"onUpdate:modelValue":t[11]||(t[11]=W=>e.layout=W)},{default:a(()=>[(m(),F(Ue(`layout-options-${e.layout}`),Qe(Ze(z)),null,16))]),_:2},1032,["modelValue"]),(m(),F(Ue(`layout-sidebar-${e.layout}`),Qe(Ze(z)),null,16)),n(M,{collection:"directus_files",filter:e.mergeFilters(e.filter,e.folderTypeFilter),search:e.search},null,8,["filter","search"])]),default:a(()=>[(m(),F(Ue(`layout-${e.layout}`),ct({class:"layout"},z),{"no-results":a(()=>[!e.filter&&!e.search?(m(),F(V,{key:0,title:e.t("file_count",0),icon:"folder",center:""},{append:a(()=>[n(r,{to:e.folder?{path:`/files/folders/${e.folder}/+`}:{path:"/files/+"}},{default:a(()=>[O(h(e.t("add_file")),1)]),_:1},8,["to"])]),default:a(()=>[O(h(e.t("no_files_copy"))+" ",1)]),_:1},8,["title"])):(m(),F(V,{key:1,title:e.t("no_results"),icon:"search",center:""},{append:a(()=>[n(r,{onClick:e.clearFilters},{default:a(()=>[O(h(e.t("clear_filters")),1)]),_:1},8,["onClick"])]),default:a(()=>[O(h(e.t("no_results_copy"))+" ",1)]),_:1},8,["title"]))]),"no-items":a(()=>[n(V,{title:e.t("file_count",0),icon:"folder",center:""},{append:a(()=>[n(r,{to:e.folder?{path:`/files/folders/${e.folder}/+`}:{path:"/files/+"}},{default:a(()=>[O(h(e.t("add_file")),1)]),_:1},8,["to"])]),default:a(()=>[O(h(e.t("no_files_copy"))+" ",1)]),_:1},8,["title"])]),_:2},1040)),n(g,{name:"addNew",folder:e.folder,onUpload:e.refresh},null,8,["folder","onUpload"]),n(A,{active:e.batchEditActive,"onUpdate:active":t[10]||(t[10]=W=>e.batchEditActive=W),"primary-keys":e.selection,collection:"directus_files",onRefresh:e.refresh},null,8,["active","primary-keys","onRefresh"]),e.showDropEffect?(m(),I(oe,{key:0},[kw,ww,Cw,Sw],64)):N("",!0)]),_:2},[e.breadcrumb?{name:"headline",fn:a(()=>[n(i,{items:e.breadcrumb},null,8,["items"])])}:void 0]),1032,["title","class"])]),_:1},8,["selection","layout-options","layout-query","filter","filter-user","filter-system","search","reset-preset"])}var Yn=q(bw,[["render",Fw],["__scopeId","data-v-f242a114"]]);const Vw=K({props:{mime:{type:String,required:!0},width:{type:Number,default:null},height:{type:Number,default:null},src:{type:String,required:!0},title:{type:String,required:!0},inModal:{type:Boolean,default:!1}},emits:["click"],setup(e){const t=D(!1),o=E(()=>e.mime===null?null:e.mime.startsWith("image")?"image":e.mime.startsWith("video")?"video":e.mime.startsWith("audio")?"audio":null),l=E(()=>e.mime.includes("svg"));return{type:o,isSVG:l,imgError:t}}}),Ew={key:0,class:"file-preview"},Iw=["src","width","height","alt"],Aw=["src"],Dw=["src"];function Ow(e,t,o,l,d,c){const i=u("v-icon");return e.type&&!e.imgError?(m(),I("div",Ew,[e.type==="image"?(m(),I("div",{key:0,class:re(["image",{svg:e.isSVG,"max-size":e.inModal===!1}]),onClick:t[1]||(t[1]=s=>e.$emit("click"))},[S("img",{src:e.src,width:e.width,height:e.height,alt:e.title,onError:t[0]||(t[0]=s=>e.imgError=!0)},null,40,Iw),e.inModal===!1?(m(),F(i,{key:0,name:"upload"})):N("",!0)],2)):e.type==="video"?(m(),I("video",{key:1,controls:"",src:e.src},null,8,Aw)):e.type==="audio"?(m(),I("audio",{key:2,controls:"",src:e.src},null,8,Dw)):N("",!0)])):N("",!0)}var sa=q(Vw,[["render",Ow],["__scopeId","data-v-0eb2c919"]]);const Pw=K({props:{id:{type:String,required:!0},modelValue:{type:Boolean,default:void 0}},emits:["update:modelValue","refresh"],setup(e,{emit:t}){const{t:o,n:l}=ae(),d=D(!1),c=E({get(){return e.modelValue===void 0?d.value:e.modelValue},set(B){d.value=B,t("update:modelValue",B)}}),{loading:i,error:s,imageData:r,imageElement:p,save:f,saving:v,fetchImage:_,onImageLoad:y}=T(),{cropperInstance:b,initCropper:w,flip:$,rotate:k,aspectRatio:V,aspectRatioIcon:g,newDimensions:A,dragMode:R,cropping:L}=U();_e(c,B=>{B===!0?_():(b.value&&b.value.destroy(),i.value=!1,s.value=null,r.value=null)});const M=E(()=>ut(`${Xe()}assets/${e.id}?${bt()}`));return{t:o,n:l,internalActive:c,loading:i,error:s,imageData:r,imageElement:p,save:f,onImageLoad:y,flip:$,rotate:k,aspectRatio:V,aspectRatioIcon:g,saving:v,imageURL:M,newDimensions:A,dragMode:R,cropping:L};function T(){const B=D(!1),z=D(null),W=D(null),J=D(!1),Q=D(null);return{loading:B,error:z,imageData:W,saving:J,fetchImage:G,imageElement:Q,save:x,onImageLoad:ee};async function G(){try{B.value=!0;const ne=await de.get(`/files/${e.id}`,{params:{fields:["type","filesize","filename_download","width","height"]}});W.value=ne.data.data}catch(ne){z.value=ne}finally{B.value=!1}}function x(){var ne,ie;J.value=!0,(ie=b.value)==null||ie.getCroppedCanvas({imageSmoothingQuality:"high"}).toBlob(async pe=>{var Z;if(pe===null){J.value=!1;return}const Y=new FormData;Y.append("file",pe,(Z=W.value)==null?void 0:Z.filename_download);try{await de.patch(`/files/${e.id}`,Y),t("refresh"),c.value=!1}catch(se){Fe(se)}finally{J.value=!1}},(ne=W.value)==null?void 0:ne.type)}async function ee(){await Un(),w()}}function U(){const B=D(null),z=D(NaN),W=Bt({width:null,height:null});_e(r,()=>{!r.value||(z.value=r.value.width/r.value.height,W.width=r.value.width,W.height=r.value.height)});const J=E({get(){return z.value},set(Z){var se;z.value=Z,(se=B.value)==null||se.setAspectRatio(Z)}}),Q=E(()=>{if(!r.value)return"crop_original";switch(J.value){case 16/9:return"crop_16_9";case 3/2:return"crop_3_2";case 5/4:return"crop_5_4";case 7/5:return"crop_7_5";case 1/1:return"crop_square";case r.value.width/r.value.height:return"crop_original";default:return"crop_free"}}),G=D("move"),x=E({get(){return G.value},set(Z){var se;(se=B.value)==null||se.setDragMode(Z),G.value=Z}}),ee=D(!1),ne=E({get(){return ee.value},set(Z){var se;Z===!1&&((se=B.value)==null||se.clear()),ee.value=Z}});return{cropperInstance:B,initCropper:ie,flip:pe,rotate:Y,aspectRatio:J,aspectRatioIcon:Q,newDimensions:W,dragMode:x,cropping:ne};function ie(){p.value!==null&&(B.value&&B.value.destroy(),B.value=new os(p.value,{autoCrop:!1,toggleDragModeOnDblclick:!1,dragMode:"move",crop:is(Z=>{if(!r.value)return;ne.value===!1&&(Z.detail.width||Z.detail.height)&&(ne.value=!0);const se=Z.detail.width||r.value.width,le=Z.detail.height||r.value.height;Z.detail.rotate===0||Z.detail.rotate===-180?(W.width=Math.round(se),W.height=Math.round(le)):(W.height=Math.round(se),W.width=Math.round(le))},50)}))}function pe(Z){var se,le,ce,ve,ue,ge;Z==="vertical"&&(((se=B.value)==null?void 0:se.getData().scaleX)===-1?(le=B.value)==null||le.scaleX(1):(ce=B.value)==null||ce.scaleX(-1)),Z==="horizontal"&&(((ve=B.value)==null?void 0:ve.getData().scaleY)===-1?(ue=B.value)==null||ue.scaleY(1):(ge=B.value)==null||ge.scaleY(-1))}function Y(){var Z;(Z=B.value)==null||Z.rotate(-90)}}}}),Tw=e=>(He("data-v-d3866b64"),e=e(),Ge(),e),Lw={class:"warning"},jw={key:0,class:"loader"},Rw=O("error"),Mw={class:"editor-container"},Uw={class:"editor"},Nw=["src"],Bw={class:"toolbar"},qw=O("16:9"),zw=O("3:2"),Kw=O("5:4"),Ww=O("7:5"),Hw=Tw(()=>S("div",{class:"spacer"},null,-1)),Gw={key:0,class:"dimensions"};function Qw(e,t,o,l,d,c){const i=u("v-progress-circular"),s=u("v-notice"),r=u("v-icon"),p=u("v-list-item-icon"),f=u("v-list-item-content"),v=u("v-list-item"),_=u("v-list"),y=u("v-menu"),b=u("v-button"),w=u("v-drawer"),$=Ce("tooltip");return m(),F(w,{modelValue:e.internalActive,"onUpdate:modelValue":t[12]||(t[12]=k=>e.internalActive=k),class:"modal",title:e.t("editing_image"),persistent:"",onCancel:t[13]||(t[13]=k=>e.internalActive=!1)},{activator:a(k=>[$e(e.$slots,"activator",Qe(Ze(k)),void 0,!0)]),subtitle:a(()=>[S("span",Lw,h(e.t("changes_are_permanent")),1)]),actions:a(()=>[te(n(b,{loading:e.saving,icon:"",rounded:"",onClick:e.save},{default:a(()=>[n(r,{name:"check"})]),_:1},8,["loading","onClick"]),[[$,e.t("save"),void 0,{bottom:!0}]])]),default:a(()=>[e.loading?(m(),I("div",jw,[n(i,{indeterminate:""})])):e.error?(m(),F(s,{key:1,type:"error"},{default:a(()=>[Rw]),_:1})):N("",!0),te(S("div",Mw,[S("div",Uw,[S("img",{ref:"imageElement",src:e.imageURL,role:"presentation",alt:"",onLoad:t[0]||(t[0]=(...k)=>e.onImageLoad&&e.onImageLoad(...k))},null,40,Nw)]),S("div",Bw,[te(S("div",{class:"drag-mode toolbar-button",onClick:t[1]||(t[1]=k=>e.dragMode=e.dragMode==="crop"?"move":"crop")},[n(r,{name:"pan_tool",class:re({active:e.dragMode==="move"})},null,8,["class"]),n(r,{name:"crop",class:re({active:e.dragMode==="crop"})},null,8,["class"])],512),[[$,e.t("drag_mode"),void 0,{top:!0,inverted:!0}]]),te(n(r,{name:"rotate_90_degrees_ccw",clickable:"",onClick:e.rotate},null,8,["onClick"]),[[$,e.t("rotate"),void 0,{top:!0,inverted:!0}]]),te(n(r,{name:"flip_horizontal",clickable:"",onClick:t[2]||(t[2]=k=>e.flip("horizontal"))},null,512),[[$,e.t("flip_horizontal"),void 0,{top:!0,inverted:!0}]]),te(n(r,{name:"flip_vertical",clickable:"",onClick:t[3]||(t[3]=k=>e.flip("vertical"))},null,512),[[$,e.t("flip_vertical"),void 0,{top:!0,inverted:!0}]]),n(y,{placement:"top","show-arrow":""},{activator:a(({toggle:k})=>[te(n(r,{name:e.aspectRatioIcon,clickable:"",onClick:k},null,8,["name","onClick"]),[[$,e.t("aspect_ratio"),void 0,{top:!0,inverted:!0}]])]),default:a(()=>[n(_,null,{default:a(()=>[n(v,{clickable:"",active:e.aspectRatio===16/9,onClick:t[4]||(t[4]=k=>e.aspectRatio=16/9)},{default:a(()=>[n(p,null,{default:a(()=>[n(r,{name:"crop_16_9"})]),_:1}),n(f,null,{default:a(()=>[qw]),_:1})]),_:1},8,["active"]),n(v,{clickable:"",active:e.aspectRatio===3/2,onClick:t[5]||(t[5]=k=>e.aspectRatio=3/2)},{default:a(()=>[n(p,null,{default:a(()=>[n(r,{name:"crop_3_2"})]),_:1}),n(f,null,{default:a(()=>[zw]),_:1})]),_:1},8,["active"]),n(v,{clickable:"",active:e.aspectRatio===5/4,onClick:t[6]||(t[6]=k=>e.aspectRatio=5/4)},{default:a(()=>[n(p,null,{default:a(()=>[n(r,{name:"crop_5_4"})]),_:1}),n(f,null,{default:a(()=>[Kw]),_:1})]),_:1},8,["active"]),n(v,{clickable:"",active:e.aspectRatio===7/5,onClick:t[7]||(t[7]=k=>e.aspectRatio=7/5)},{default:a(()=>[n(p,null,{default:a(()=>[n(r,{name:"crop_7_5"})]),_:1}),n(f,null,{default:a(()=>[Ww]),_:1})]),_:1},8,["active"]),n(v,{clickable:"",active:e.aspectRatio===1/1,onClick:t[8]||(t[8]=k=>e.aspectRatio=1/1)},{default:a(()=>[n(p,null,{default:a(()=>[n(r,{name:"crop_square"})]),_:1}),n(f,null,{default:a(()=>[O(h(e.t("square")),1)]),_:1})]),_:1},8,["active"]),n(v,{clickable:"",active:e.aspectRatio===NaN,onClick:t[9]||(t[9]=k=>e.aspectRatio=NaN)},{default:a(()=>[n(p,null,{default:a(()=>[n(r,{name:"crop_free"})]),_:1}),n(f,null,{default:a(()=>[O(h(e.t("free")),1)]),_:1})]),_:1},8,["active"]),e.imageData?(m(),F(v,{key:0,clickable:"",active:e.aspectRatio===e.imageData.width/e.imageData.height,onClick:t[10]||(t[10]=k=>e.aspectRatio=e.imageData.width/e.imageData.height)},{default:a(()=>[n(p,null,{default:a(()=>[n(r,{name:"crop_original"})]),_:1}),n(f,null,{default:a(()=>[O(h(e.t("original")),1)]),_:1})]),_:1},8,["active"])):N("",!0)]),_:1})]),_:1}),Hw,e.imageData?(m(),I("div",Gw,[O(h(e.n(e.imageData.width))+"x"+h(e.n(e.imageData.height))+" ",1),e.imageData.width!==e.newDimensions.width||e.imageData.height!==e.newDimensions.height?(m(),I(oe,{key:0},[O(" -> "+h(e.n(e.newDimensions.width))+"x"+h(e.n(e.newDimensions.height)),1)],64)):N("",!0)])):N("",!0),te(S("button",{class:"toolbar-button cancel",onClick:t[11]||(t[11]=k=>e.cropping=!1)},h(e.t("cancel_crop")),513),[[Et,e.cropping]])])],512),[[Et,e.imageData&&!e.loading&&!e.error]])]),_:3},8,["modelValue","title"])}var Xw=q(Pw,[["render",Qw],["__scopeId","data-v-d3866b64"]]),Jw={"audio/aac":"aac","application/x-abiword":"abw","application/x-freearc":"arc","video/x-msvideo":"avi","application/vnd.amazon.ebook":"azw","application/octet-stream":"file","image/bmp":"bmp","application/x-bzip":"bz","application/x-bzip2":"bz2","application/x-csh":"csh","text/css":"css","text/csv":"csv","application/msword":"doc","application/sql":"sql","application/vnd.openxmlformats-officedocument.wordprocessingml.document":"docx","application/vnd.ms-fontobject":"eot","application/epub+zip":"epub","application/gzip":"gz","image/gif":"gif","text/html":"html","image/vnd.microsoft.icon":"ico","text/calendar":"ics","application/java-archive":"jar","image/jpeg":"jpg","text/javascript":"js","application/json":"json","application/ld+json":"jsonld","audio/midi audio/x-midi":"midi","audio/mpeg":"mp3","video/mpeg":"mpeg","application/vnd.apple.installer+xml":"mpkg","application/vnd.oasis.opendocument.presentation":"odp","application/vnd.oasis.opendocument.spreadsheet":"ods","application/vnd.oasis.opendocument.text":"odt","audio/ogg":"oga","video/ogg":"ogv","application/ogg":"ogx","audio/opus":"opus","font/otf":"otf","image/png":"png","application/pdf":"pdf","application/x-httpd-php":"php","application/vnd.ms-powerpoint":"ppt","application/vnd.openxmlformats-officedocument.presentationml.presentation":"pptx","application/vnd.rar":"rar","application/rtf":"rtf","application/x-sh":"sh","image/svg+xml":"svg","application/x-shockwave-flash":"swf","application/x-tar":"tar","image/tiff":"tiff","video/mp2t":"ts","font/ttf":"ttf","text/plain":"txt","application/vnd.visio":"vsd","audio/wav":"wav","audio/webm":"weba","video/webm":"webm","image/webp":"webp","font/woff":"woff","font/woff2":"woff2","application/xhtml+xml":"xhtml","application/vnd.ms-excel":"xls","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet":"xlsx","application/xml":"xml","application/vnd.mozilla.xul+xml":"xul","application/zip":"zip","video/3gpp":"3gp","video/3gpp2":"3g2","audio/3gpp":"3gp","audio/3gpp2":"3g2","application/x-7z-compressed":"7z"},Yw={"application/vnd.hzn-3d-crossword":"3D Crossword Plugin","video/3gpp":"3GP","video/3gpp2":"3GP2","application/vnd.mseq":"3GPP MSEQ File","application/vnd.3m.post-it-notes":"3M Post It Notes","application/vnd.3gpp.pic-bw-large":"3rd Generation Partnership Project - Pic Large","application/vnd.3gpp.pic-bw-small":"3rd Generation Partnership Project - Pic Small","application/vnd.3gpp.pic-bw-var":"3rd Generation Partnership Project - Pic Var","application/vnd.3gpp2.tcap":"3rd Generation Partnership Project - Transaction Capabilities Application Part","application/x-7z-compressed":"7-Zip","application/x-abiword":"AbiWord","application/x-ace-compressed":"Ace Archive","application/vnd.americandynamics.acc":"Active Content Compression","application/vnd.acucobol":"ACU Cobol","application/vnd.acucorp":"ACU Cobol","audio/adpcm":"Adaptive differential pulse-code modulation","application/x-authorware-bin":"Adobe (Macropedia) Authorware - Binary File","application/x-authorware-map":"Adobe (Macropedia) Authorware - Map","application/x-authorware-seg":"Adobe (Macropedia) Authorware - Segment File","application/vnd.adobe.air-application-installer-package+zip":"Adobe AIR Application","application/x-shockwave-flash":"Adobe Flash","application/vnd.adobe.fxp":"Adobe Flex Project","application/pdf":"PDF","application/sql":"SQL","application/vnd.cups-ppd":"Adobe PostScript Printer Description File Format","application/x-director":"Adobe Shockwave Player","application/vnd.adobe.xdp+xml":"Adobe XML Data Package","application/vnd.adobe.xfdf":"Adobe XML Forms Data Format","audio/x-aac":"Advanced Audio Coding (AAC)","application/vnd.ahead.space":"Ahead AIR Application","application/vnd.airzip.filesecure.azf":"AirZip FileSECURE","application/vnd.airzip.filesecure.azs":"AirZip FileSECURE","application/vnd.amazon.ebook":"Amazon Kindle eBook format","application/vnd.amiga.ami":"AmigaDE","application/andrew-inset":"Andrew Toolkit","application/vnd.android.package-archive":"Android Package Archive","application/vnd.anser-web-certificate-issue-initiation":"ANSER-WEB Terminal Client - Certificate Issue","application/vnd.anser-web-funds-transfer-initiation":"ANSER-WEB Terminal Client - Web Funds Transfer","application/vnd.antix.game-component":"Antix Game Player","application/x-apple-diskimage":"Apple Disk Image","application/vnd.apple.installer+xml":"Apple Installer Package","application/applixware":"Applixware","application/vnd.hhe.lesson-player":"Archipelago Lesson Player","application/vnd.aristanetworks.swi":"Arista Networks Software Image","text/x-asm":"Assembler Source File","application/atomcat+xml":"Atom Publishing Protocol","application/atomsvc+xml":"Atom Publishing Protocol Service Document","application/atom+xml":"Atom Syndication Format","application/pkix-attr-cert":"Attribute Certificate","audio/x-aiff":"AIFF","video/x-msvideo":"AVI","application/vnd.audiograph":"Audiograph","image/vnd.dxf":"AutoCAD DXF","model/vnd.dwf":"Autodesk Design Web Format (DWF)","text/plain-bas":"BAS Partitur Format","application/x-bcpio":"Binary CPIO Archive","application/octet-stream":"Binary Data","image/bmp":"Bitmap Image","application/x-bittorrent":"BitTorrent","application/vnd.rim.cod":"Blackberry COD File","application/vnd.blueice.multipass":"Blueice Research Multipass","application/vnd.bmi":"BMI Drawing Data Interchange","application/x-sh":"Bourne Shell Script","image/prs.btif":"BTIF","application/vnd.businessobjects":"BusinessObjects","application/x-bzip":"Bzip Archive","application/x-bzip2":"Bzip2 Archive","application/x-csh":"C Shell Script","text/x-c":"C Source File","application/vnd.chemdraw+xml":"CambridgeSoft Chem Draw","text/css":"Cascading Style Sheets (CSS)","chemical/x-cdx":"ChemDraw eXchange file","chemical/x-cml":"Chemical Markup Language","chemical/x-csml":"Chemical Style Markup Language","application/vnd.contact.cmsg":"CIM Database","application/vnd.claymore":"Claymore Data Files","application/vnd.clonk.c4group":"Clonk Game","image/vnd.dvb.subtitle":"Close Captioning - Subtitle","application/cdmi-capability":"Cloud Data Management Interface (CDMI) - Capability","application/cdmi-container":"Cloud Data Management Interface (CDMI) - Contaimer","application/cdmi-domain":"Cloud Data Management Interface (CDMI) - Domain","application/cdmi-object":"Cloud Data Management Interface (CDMI) - Object","application/cdmi-queue":"Cloud Data Management Interface (CDMI) - Queue","application/vnd.cluetrust.cartomobile-config":"ClueTrust CartoMobile - Config","application/vnd.cluetrust.cartomobile-config-pkg":"ClueTrust CartoMobile - Config Package","image/x-cmu-raster":"CMU Image","model/vnd.collada+xml":"COLLADA","text/csv":"CSV","application/mac-compactpro":"Compact Pro","application/vnd.wap.wmlc":"Compiled Wireless Markup Language (WMLC)","image/cgm":"Computer Graphics Metafile","x-conference/x-cooltalk":"CoolTalk","image/x-cmx":"Corel Metafile Exchange (CMX)","application/vnd.xara":"CorelXARA","application/vnd.cosmocaller":"CosmoCaller","application/x-cpio":"CPIO Archive","application/vnd.crick.clicker":"CrickSoftware - Clicker","application/vnd.crick.clicker.keyboard":"CrickSoftware - Clicker - Keyboard","application/vnd.crick.clicker.palette":"CrickSoftware - Clicker - Palette","application/vnd.crick.clicker.template":"CrickSoftware - Clicker - Template","application/vnd.crick.clicker.wordbank":"CrickSoftware - Clicker - Wordbank","application/vnd.criticaltools.wbs+xml":"Critical Tools - PERT Chart EXPERT","application/vnd.rig.cryptonote":"CryptoNote","chemical/x-cif":"Crystallographic Interchange Format","chemical/x-cmdf":"CrystalMaker Data Format","application/cu-seeme":"CU-SeeMe","application/prs.cww":"CU-Writer","text/vnd.curl":"Curl - Applet","text/vnd.curl.dcurl":"Curl - Detached Applet","text/vnd.curl.mcurl":"Curl - Manifest File","text/vnd.curl.scurl":"Curl - Source Code","application/vnd.curl.car":"CURL Applet","application/vnd.curl.pcurl":"CURL Applet","application/vnd.yellowriver-custom-menu":"CustomMenu","application/dssc+der":"Data Structure for the Security Suitability of Cryptographic Algorithms","application/dssc+xml":"Data Structure for the Security Suitability of Cryptographic Algorithms","application/x-debian-package":"Debian Package","audio/vnd.dece.audio":"DECE Audio","image/vnd.dece.graphic":"DECE Graphic","video/vnd.dece.hd":"DECE High Definition Video","video/vnd.dece.mobile":"DECE Mobile Video","video/vnd.uvvu.mp4":"DECE MP4","video/vnd.dece.pd":"DECE PD Video","video/vnd.dece.sd":"DECE SD Video","video/vnd.dece.video":"DECE Video","application/x-dvi":"DVI","application/vnd.fdsn.seed":"Digital Siesmograph Networks - SEED Datafiles","application/x-dtbook+xml":"Digital Talking Book","application/x-dtbresource+xml":"Digital Talking Book - Resource File","application/vnd.dvb.ait":"Digital Video Broadcasting","application/vnd.dvb.service":"Digital Video Broadcasting","audio/vnd.digital-winds":"Digital Winds Music","image/vnd.djvu":"DjVu","application/xml-dtd":"Document Type Definition","application/vnd.dolby.mlp":"Dolby Meridian Lossless Packing","application/x-doom":"Doom Video Game","application/vnd.dpgraph":"DPGraph","audio/vnd.dra":"DRA Audio","application/vnd.dreamfactory":"DreamFactory","audio/vnd.dts":"DTS Audio","audio/vnd.dts.hd":"DTS High Definition Audio","image/vnd.dwg":"DWG Drawing","application/vnd.dynageo":"DynaGeo","application/ecmascript":"ECMAScript","application/vnd.ecowin.chart":"EcoWin Chart","image/vnd.fujixerox.edmics-mmr":"EDMICS 2000","image/vnd.fujixerox.edmics-rlc":"EDMICS 2000","application/exi":"Efficient XML Interchange","application/vnd.proteus.magazine":"EFI Proteus","application/epub+zip":"Electronic Publication","message/rfc822":"Email Message","application/vnd.enliven":"Enliven Viewer","application/vnd.is-xpr":"Express by Infoseek","image/vnd.xiff":"eXtended Image File Format (XIFF)","application/vnd.xfdl":"Extensible Forms Description Language","application/emma+xml":"Extensible MultiModal Annotation","application/vnd.ezpix-album":"EZPix Secure Photo Album","application/vnd.ezpix-package":"EZPix Secure Photo Album","image/vnd.fst":"FAST Search & Transfer ASA","video/vnd.fvt":"FAST Search & Transfer ASA","image/vnd.fastbidsheet":"FastBid Sheet","application/vnd.denovo.fcselayout-link":"FCS Express Layout Link","video/x-f4v":"Flash Video","video/x-flv":"Flash Video","image/vnd.fpx":"FlashPix","image/vnd.net-fpx":"FlashPix","text/vnd.fmi.flexstor":"FLEXSTOR","video/x-fli":"FLI/FLC Animation Format","application/vnd.fluxtime.clip":"FluxTime Clip","application/vnd.fdf":"Forms Data Format","text/x-fortran":"Fortran Source File","application/vnd.mif":"FrameMaker Interchange Format","application/vnd.framemaker":"FrameMaker Normal Format","image/x-freehand":"FreeHand MX","application/vnd.fsc.weblaunch":"Friendly Software Corporation","application/vnd.frogans.fnc":"Frogans Player","application/vnd.frogans.ltf":"Frogans Player","application/vnd.fujixerox.ddd":"Fujitsu - Xerox 2D CAD Data","application/vnd.fujixerox.docuworks":"Fujitsu - Xerox DocuWorks","application/vnd.fujixerox.docuworks.binder":"Fujitsu - Xerox DocuWorks Binder","application/vnd.fujitsu.oasys":"Fujitsu Oasys","application/vnd.fujitsu.oasys2":"Fujitsu Oasys","application/vnd.fujitsu.oasys3":"Fujitsu Oasys","application/vnd.fujitsu.oasysgp":"Fujitsu Oasys","application/vnd.fujitsu.oasysprs":"Fujitsu Oasys","application/x-futuresplash":"FutureSplash Animator","application/vnd.fuzzysheet":"FuzzySheet","image/g3fax":"G3 Fax Image","application/vnd.gmx":"GameMaker ActiveX","model/vnd.gtw":"Gen-Trix Studio","application/vnd.genomatix.tuxedo":"Genomatix Tuxedo Framework","application/vnd.geogebra.file":"GeoGebra","application/vnd.geogebra.tool":"GeoGebra","model/vnd.gdl":"Geometric Description Language (GDL)","application/vnd.geometry-explorer":"GeoMetry Explorer","application/vnd.geonext":"GEONExT and JSXGraph","application/vnd.geoplan":"GeoplanW","application/vnd.geospace":"GeospacW","application/x-font-ghostscript":"Ghostscript Font","application/x-font-bdf":"Glyph Bitmap Distribution Format","application/x-gtar":"GNU Tar Files","application/x-texinfo":"GNU Texinfo Document","application/x-gnumeric":"Gnumeric","application/vnd.google-earth.kml+xml":"Google Earth - KML","application/vnd.google-earth.kmz":"Google Earth - Zipped KML","application/vnd.grafeq":"GrafEq","image/gif":"GIF","text/vnd.graphviz":"Graphviz","application/vnd.groove-account":"Groove - Account","application/vnd.groove-help":"Groove - Help","application/vnd.groove-identity-message":"Groove - Identity Message","application/vnd.groove-injector":"Groove - Injector","application/vnd.groove-tool-message":"Groove - Tool Message","application/vnd.groove-tool-template":"Groove - Tool Template","application/vnd.groove-vcard":"Groove - Vcard","video/h261":"H.261","video/h263":"H.263","video/h264":"H.264","application/vnd.hp-hpid":"Hewlett Packard Instant Delivery","application/vnd.hp-hps":"Hewlett-Packard's WebPrintSmart","application/x-hdf":"Hierarchical Data Format","audio/vnd.rip":"Hit'n'Mix","application/vnd.hbci":"Homebanking Computer Interface (HBCI)","application/vnd.hp-jlyt":"HP Indigo Digital Press - Job Layout Languate","application/vnd.hp-pcl":"HP Printer Command Language","application/vnd.hp-hpgl":"HP-GL/2 and HP RTL","application/vnd.yamaha.hv-script":"HV Script","application/vnd.yamaha.hv-dic":"HV Voice Dictionary","application/vnd.yamaha.hv-voice":"HV Voice Parameter","application/vnd.hydrostatix.sof-data":"Hydrostatix Master Suite","application/hyperstudio":"Hyperstudio","application/vnd.hal+xml":"Hypertext Application Language","text/html":"HTML","application/vnd.ibm.rights-management":"IBM DB2 Rights Manager","application/vnd.ibm.secure-container":"IBM Electronic Media Management System - Secure Container","text/calendar":"iCalendar","application/vnd.iccprofile":"ICC profile","image/x-icon":"Icon Image","application/vnd.igloader":"igLoader","image/ief":"Image Exchange Format","application/vnd.immervision-ivp":"ImmerVision PURE Players","application/vnd.immervision-ivu":"ImmerVision PURE Players","application/reginfo+xml":"IMS Networks","text/vnd.in3d.3dml":"In3D - 3DML","text/vnd.in3d.spot":"In3D - 3DML","model/iges":"Initial Graphics Exchange Specification (IGES)","application/vnd.intergeo":"Interactive Geometry Software","application/vnd.cinderella":"Interactive Geometry Software Cinderella","application/vnd.intercon.formnet":"Intercon FormNet","application/vnd.isac.fcs":"International Society for Advancement of Cytometry","application/ipfix":"Internet Protocol Flow Information Export","application/pkix-cert":"Internet Public Key Infrastructure - Certificate","application/pkixcmp":"Internet Public Key Infrastructure - Certificate Management Protocole","application/pkix-crl":"Internet Public Key Infrastructure - Certificate Revocation Lists","application/pkix-pkipath":"Internet Public Key Infrastructure - Certification Path","application/vnd.insors.igm":"IOCOM Visimeet","application/vnd.ipunplugged.rcprofile":"IP Unplugged Roaming Client","application/vnd.irepository.package+xml":"iRepository / Lucidoc Editor","text/vnd.sun.j2me.app-descriptor":"J2ME App Descriptor","application/java-archive":"Java Archive","application/java-vm":"Java Bytecode File","application/x-java-jnlp-file":"Java Network Launching Protocol","application/java-serialized-object":"Java Serialized Object","text/x-java-source,java":"Java Source File","application/javascript":"JavaScript","application/json":"JSON","application/vnd.joost.joda-archive":"Joda Archive","video/jpm":"JPG","image/jpeg":"JPG","image/x-citrix-jpeg":"JPG","image/pjpeg":"JPG","video/jpeg":"JPGVideo","application/vnd.kahootz":"Kahootz","application/vnd.chipnuts.karaoke-mmd":"Karaoke on Chipnuts Chipsets","application/vnd.kde.karbon":"KDE KOffice Office Suite - Karbon","application/vnd.kde.kchart":"KDE KOffice Office Suite - KChart","application/vnd.kde.kformula":"KDE KOffice Office Suite - Kformula","application/vnd.kde.kivio":"KDE KOffice Office Suite - Kivio","application/vnd.kde.kontour":"KDE KOffice Office Suite - Kontour","application/vnd.kde.kpresenter":"KDE KOffice Office Suite - Kpresenter","application/vnd.kde.kspread":"KDE KOffice Office Suite - Kspread","application/vnd.kde.kword":"KDE KOffice Office Suite - Kword","application/vnd.kenameaapp":"Kenamea App","application/vnd.kidspiration":"Kidspiration","application/vnd.kinar":"Kinar Applications","application/vnd.kodak-descriptor":"Kodak Storyshare","application/vnd.las.las+xml":"Laser App Enterprise","application/x-latex":"LaTeX","application/vnd.llamagraphics.life-balance.desktop":"Life Balance - Desktop Edition","application/vnd.llamagraphics.life-balance.exchange+xml":"Life Balance - Exchange Format","application/vnd.jam":"Lightspeed Audio Lab","application/vnd.lotus-1-2-3":"Lotus 1-2-3","application/vnd.lotus-approach":"Lotus Approach","application/vnd.lotus-freelance":"Lotus Freelance","application/vnd.lotus-notes":"Lotus Notes","application/vnd.lotus-organizer":"Lotus Organizer","application/vnd.lotus-screencam":"Lotus Screencam","application/vnd.lotus-wordpro":"Lotus Wordpro","audio/vnd.lucent.voice":"Lucent Voice","audio/x-mpegurl":"M3U (Multimedia Playlist)","video/x-m4v":"M4v","application/mac-binhex40":"Macintosh BinHex 4.0","application/vnd.macports.portpkg":"MacPorts Port System","application/vnd.osgeo.mapguide.package":"MapGuide DBXML","application/marc":"MARC Formats","application/marcxml+xml":"MARC21 XML Schema","application/mxf":"Material Exchange Format","application/vnd.wolfram.player":"Mathematica Notebook Player","application/mathematica":"Mathematica Notebooks","application/mathml+xml":"Mathematical Markup Language","application/mbox":"Mbox database files","application/vnd.medcalcdata":"MedCalc","application/mediaservercontrol+xml":"Media Server Control Markup Language","application/vnd.mediastation.cdkey":"MediaRemote","application/vnd.mfer":"Medical Waveform Encoding Format","application/vnd.mfmp":"Melody Format for Mobile Platform","model/mesh":"Mesh Data Type","application/mads+xml":"Metadata Authority  Description Schema","application/mets+xml":"Metadata Encoding and Transmission Standard","application/mods+xml":"Metadata Object Description Schema","application/metalink4+xml":"Metalink","application/vnd.mcd":"Micro CADAM Helix D&D","application/vnd.micrografx.flo":"Micrografx","application/vnd.micrografx.igx":"Micrografx iGrafx Professional","application/vnd.eszigno3+xml":"MICROSEC e-Szign\xA2","application/x-msaccess":"Access","video/x-ms-asf":"MS ASF","application/x-msdownload":"MS App","application/vnd.ms-artgalry":"MS Artgalry","application/vnd.ms-cab-compressed":"MS Cabinet File","application/vnd.ms-ims":"MS Class Server","application/x-ms-application":"MS ClickOnce","application/x-msclip":"MS Clipboard Clip","image/vnd.ms-modi":"MS Document Imaging Format","application/vnd.ms-fontobject":"MS Embedded OpenType","application/vnd.ms-excel":"Excel","application/vnd.ms-excel.addin.macroenabled.12":"MS Excel - Add-In File","application/vnd.ms-excel.sheet.binary.macroenabled.12":"MS Excel - Binary Workbook","application/vnd.ms-excel.template.macroenabled.12":"MS Excel - Macro-Enabled Template File","application/vnd.ms-excel.sheet.macroenabled.12":"MS Excel - Macro-Enabled Workbook","application/vnd.ms-htmlhelp":"MS Html Help File","application/x-mscardfile":"MS Information Card","application/vnd.ms-lrm":"MS Learning Resource Module","application/x-msmediaview":"MS MediaView","application/x-msmoney":"MS Money","application/vnd.openxmlformats-officedocument.presentationml.presentation":"MS Office - OOXML - Presentation","application/vnd.openxmlformats-officedocument.presentationml.slide":"MS Office - OOXML - Presentation (Slide)","application/vnd.openxmlformats-officedocument.presentationml.slideshow":"MS Office - OOXML - Presentation (Slideshow)","application/vnd.openxmlformats-officedocument.presentationml.template":"MS Office - OOXML - Presentation Template","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet":"MS Office - OOXML - Spreadsheet","application/vnd.openxmlformats-officedocument.spreadsheetml.template":"MS Office - OOXML - Spreadsheet Template","application/vnd.openxmlformats-officedocument.wordprocessingml.document":"MS Office - OOXML - Word Document","application/vnd.openxmlformats-officedocument.wordprocessingml.template":"MS Office - OOXML - Word Document Template","application/x-msbinder":"MS Office Binder","application/vnd.ms-officetheme":"MS Office System Release Theme","application/onenote":"OneNote","audio/vnd.ms-playready.media.pya":"MS PlayReady Ecosystem","video/vnd.ms-playready.media.pyv":"MS PlayReady Ecosystem Video","application/vnd.ms-powerpoint":"PowerPoint","application/vnd.ms-powerpoint.addin.macroenabled.12":"PowerPoint - Add-in file","application/vnd.ms-powerpoint.slide.macroenabled.12":"PowerPoint - Macro-Enabled Open XML Slide","application/vnd.ms-powerpoint.presentation.macroenabled.12":"PowerPoint - Macro-Enabled Presentation File","application/vnd.ms-powerpoint.slideshow.macroenabled.12":"PowerPoint - Macro-Enabled Slide Show File","application/vnd.ms-powerpoint.template.macroenabled.12":"PowerPoint - Macro-Enabled Template File","application/vnd.ms-project":"MS Project","application/x-mspublisher":"MS Publisher","application/x-msschedule":"MS Schedule+","application/x-silverlight-app":"MS Silverlight","application/vnd.ms-pki.stl":"MS Trust UI Provider - Certificate Trust Link","application/vnd.ms-pki.seccat":"MS Trust UI Provider - Security Catalog","application/vnd.visio":"Visio","application/vnd.visio2013":"Visio 2013","video/x-ms-wm":"MS Windows Media","audio/x-ms-wma":"WMA","audio/x-ms-wax":"MS Windows Media Audio Redirector","video/x-ms-wmx":"MS Windows Media Audio/Video Playlist","application/x-ms-wmd":"MS Windows Media Player Download Package","application/vnd.ms-wpl":"MS Windows Media Player Playlist","application/x-ms-wmz":"MS Windows Media Player Skin Package","video/x-ms-wmv":"WMV","video/x-ms-wvx":"MS Windows Media Video Playlist","application/x-msmetafile":"MS Windows Metafile","application/x-msterminal":"MS Windows Terminal Services","application/msword":"Word","application/vnd.ms-word.document.macroenabled.12":"MS Word - Macro-Enabled Document","application/vnd.ms-word.template.macroenabled.12":"MS Word - Macro-Enabled Template","application/x-mswrite":"MS Wordpad","application/vnd.ms-works":"MS Works","application/x-ms-xbap":"MS XAML Browser Application","application/vnd.ms-xpsdocument":"MS XML Paper Specification","audio/midi":"MIDI","application/vnd.ibm.minipay":"MiniPay","application/vnd.ibm.modcap":"MO:DCA-P","application/vnd.jcp.javame.midlet-rms":"Mobile Information Device Profile","application/vnd.tmobile-livetv":"MobileTV","application/x-mobipocket-ebook":"Mobipocket","application/vnd.mobius.mbk":"Mobius Management Systems - Basket file","application/vnd.mobius.dis":"Mobius Management Systems - Distribution Database","application/vnd.mobius.plc":"Mobius Management Systems - Policy Definition Language File","application/vnd.mobius.mqy":"Mobius Management Systems - Query File","application/vnd.mobius.msl":"Mobius Management Systems - Script Language","application/vnd.mobius.txf":"Mobius Management Systems - Topic Index File","application/vnd.mobius.daf":"Mobius Management Systems - UniversalArchive","text/vnd.fly":"mod_fly / fly.cgi","application/vnd.mophun.certificate":"Mophun Certificate","application/vnd.mophun.application":"Mophun VM","video/mj2":"Motion JPEG 2000","audio/mpeg":"MPEG Audio","video/vnd.mpegurl":"MPEG Url","video/mpeg":"MPEG","application/mp21":"MPEG-21","audio/mp4":"MP4 Audio","video/mp4":"MP4 Video","application/mp4":"MP4","application/vnd.apple.mpegurl":"Multimedia Playlist Unicode","application/vnd.musician":"MUsical Score Interpreted Code Invented for the ASCII designation of Notation","application/vnd.muvee.style":"Muvee Automatic Video Editing","application/xv+xml":"MXML","application/vnd.nokia.n-gage.data":"N-Gage Game Data","application/vnd.nokia.n-gage.symbian.install":"N-Gage Game Installer","application/x-dtbncx+xml":"Navigation Control file for XML (for ePub)","application/x-netcdf":"Network Common Data Form (NetCDF)","application/vnd.neurolanguage.nlu":"neuroLanguage","application/vnd.dna":"New Moon Liftoff/DNA","application/vnd.noblenet-directory":"NobleNet Directory","application/vnd.noblenet-sealer":"NobleNet Sealer","application/vnd.noblenet-web":"NobleNet Web","application/vnd.nokia.radio-preset":"Nokia Radio Application - Preset","application/vnd.nokia.radio-presets":"Nokia Radio Application - Preset","text/n3":"Notation3","application/vnd.novadigm.edm":"Novadigm's RADIA and EDM products","application/vnd.novadigm.edx":"Novadigm's RADIA and EDM products","application/vnd.novadigm.ext":"Novadigm's RADIA and EDM products","application/vnd.flographit":"NpGraphIt","audio/vnd.nuera.ecelp4800":"Nuera ECELP 4800","audio/vnd.nuera.ecelp7470":"Nuera ECELP 7470","audio/vnd.nuera.ecelp9600":"Nuera ECELP 9600","application/oda":"Office Document Architecture","application/ogg":"Ogg","audio/ogg":"Ogg Audio","video/ogg":"Ogg Video","application/vnd.oma.dd2+xml":"OMA Download Agents","application/vnd.oasis.opendocument.text-web":"Open Document Text Web","application/oebps-package+xml":"Open eBook Publication Structure","application/vnd.intu.qbo":"Open Financial Exchange","application/vnd.openofficeorg.extension":"Open Office Extension","application/vnd.yamaha.openscoreformat":"Open Score Format","audio/webm":"WebM Audio","video/webm":"WebM Video","application/vnd.oasis.opendocument.chart":"OpenDocument Chart","application/vnd.oasis.opendocument.chart-template":"OpenDocument Chart Template","application/vnd.oasis.opendocument.database":"OpenDocument Database","application/vnd.oasis.opendocument.formula":"OpenDocument Formula","application/vnd.oasis.opendocument.formula-template":"OpenDocument Formula Template","application/vnd.oasis.opendocument.graphics":"OpenDocument Graphics","application/vnd.oasis.opendocument.graphics-template":"OpenDocument Graphics Template","application/vnd.oasis.opendocument.image":"OpenDocument Image","application/vnd.oasis.opendocument.image-template":"OpenDocument Image Template","application/vnd.oasis.opendocument.presentation":"OpenDocument Presentation","application/vnd.oasis.opendocument.presentation-template":"OpenDocument Presentation Template","application/vnd.oasis.opendocument.spreadsheet":"OpenDocument Spreadsheet","application/vnd.oasis.opendocument.spreadsheet-template":"OpenDocument Spreadsheet Template","application/vnd.oasis.opendocument.text":"OpenDocument Text","application/vnd.oasis.opendocument.text-master":"OpenDocument Text Master","application/vnd.oasis.opendocument.text-template":"OpenDocument Text Template","image/ktx":"OpenGL Textures (KTX)","application/vnd.sun.xml.calc":"OpenOffice - Calc (Spreadsheet)","application/vnd.sun.xml.calc.template":"OpenOffice - Calc Template (Spreadsheet)","application/vnd.sun.xml.draw":"OpenOffice - Draw (Graphics)","application/vnd.sun.xml.draw.template":"OpenOffice - Draw Template (Graphics)","application/vnd.sun.xml.impress":"OpenOffice - Impress (Presentation)","application/vnd.sun.xml.impress.template":"OpenOffice - Impress Template (Presentation)","application/vnd.sun.xml.math":"OpenOffice - Math (Formula)","application/vnd.sun.xml.writer":"OpenOffice - Writer (Text - HTML)","application/vnd.sun.xml.writer.global":"OpenOffice - Writer (Text - HTML)","application/vnd.sun.xml.writer.template":"OpenOffice - Writer Template (Text - HTML)","application/x-font-otf":"OpenType Font File","application/vnd.yamaha.openscoreformat.osfpvg+xml":"OSFPVG","application/vnd.osgi.dp":"OSGi Deployment Package","application/vnd.palm":"PalmOS Data","text/x-pascal":"Pascal Source File","application/vnd.pawaafile":"PawaaFILE","application/vnd.hp-pclxl":"PCL 6 Enhanced (Formely PCL XL)","application/vnd.picsel":"Pcsel eFIF File","image/x-pcx":"PCX Image","image/vnd.adobe.photoshop":"Photoshop Document","application/pics-rules":"PICSRules","image/x-pict":"PICT Image","application/x-chat":"pIRCh","application/pkcs10":"PKCS #10 - Certification Request Standard","application/x-pkcs12":"PKCS #12 - Personal Information Exchange Syntax Standard","application/pkcs7-mime":"PKCS #7 - Cryptographic Message Syntax Standard","application/pkcs7-signature":"PKCS #7 - Cryptographic Message Syntax Standard","application/x-pkcs7-certreqresp":"PKCS #7 - Cryptographic Message Syntax Standard (Certificate Request Response)","application/x-pkcs7-certificates":"PKCS #7 - Cryptographic Message Syntax Standard (Certificates)","application/pkcs8":"PKCS #8 - Private-Key Information Syntax Standard","application/vnd.pocketlearn":"PocketLearn Viewers","image/x-portable-anymap":"Portable Anymap Image","image/x-portable-bitmap":"Portable Bitmap Format","application/x-font-pcf":"Portable Compiled Format","application/font-tdpfr":"Portable Font Resource","application/x-chess-pgn":"Portable Game Notation (Chess Games)","image/x-portable-graymap":"Portable Graymap Format","image/png":"PNG","image/x-citrix-png":"PNG","image/x-png":"PNG","image/x-portable-pixmap":"Portable Pixmap Format","application/pskc+xml":"Portable Symmetric Key Container","application/vnd.ctc-posml":"PosML","application/postscript":"PostScript","application/x-font-type1":"PostScript Fonts","application/vnd.powerbuilder6":"PowerBuilder","application/pgp-encrypted":"Pretty Good Privacy","application/pgp-signature":"Pretty Good Privacy - Signature","application/vnd.previewsystems.box":"Preview Systems ZipLock/VBox","application/vnd.pvi.ptid1":"Princeton Video Image","application/pls+xml":"Pronunciation Lexicon Specification","application/vnd.pg.format":"Proprietary P&G Standard Reporting System","application/vnd.pg.osasli":"Proprietary P&G Standard Reporting System","text/prs.lines.tag":"PRS Lines Tag","application/x-font-linux-psf":"PSF Fonts","application/vnd.publishare-delta-tree":"PubliShare Objects","application/vnd.pmi.widget":"Qualcomm's Plaza Mobile Internet","application/vnd.quark.quarkxpress":"QuarkXpress","application/vnd.epson.esf":"QUASS Stream Player","application/vnd.epson.msf":"QUASS Stream Player","application/vnd.epson.ssf":"QUASS Stream Player","application/vnd.epson.quickanime":"QuickAnime Player","application/vnd.intu.qfx":"Quicken","video/quicktime":"Quicktime Video","application/x-rar-compressed":"RAR Archive","audio/x-pn-realaudio":"Real Audio Sound","audio/x-pn-realaudio-plugin":"Real Audio Sound","application/rsd+xml":"Really Simple Discovery","application/vnd.rn-realmedia":"RealMedia","application/vnd.realvnc.bed":"RealVNC","application/vnd.recordare.musicxml":"Recordare Applications","application/vnd.recordare.musicxml+xml":"Recordare Applications","application/relax-ng-compact-syntax":"Relax NG Compact Syntax","application/vnd.data-vision.rdz":"RemoteDocs R-Viewer","application/rdf+xml":"Resource Description Framework","application/vnd.cloanto.rp9":"RetroPlatform Player","application/vnd.jisp":"RhymBox","application/rtf":"Rich Text","text/richtext":"Rich Text","application/vnd.route66.link66+xml":"ROUTE 66 Location Based Services","application/rss+xml":"RSS","application/shf+xml":"S Hexdump Format","application/vnd.sailingtracker.track":"SailingTracker","image/svg+xml":"SVG","application/vnd.sus-calendar":"ScheduleUs","application/sru+xml":"Search/Retrieve via URL Response Format","application/set-payment-initiation":"Secure Electronic Transaction - Payment","application/set-registration-initiation":"Secure Electronic Transaction - Registration","application/vnd.sema":"Secured eMail","application/vnd.semd":"Secured eMail","application/vnd.semf":"Secured eMail","application/vnd.seemail":"SeeMail","application/x-font-snf":"Server Normal Format","application/scvp-vp-request":"Server-Based Certificate Validation Protocol - Validation Policies - Request","application/scvp-vp-response":"Server-Based Certificate Validation Protocol - Validation Policies - Response","application/scvp-cv-request":"Server-Based Certificate Validation Protocol - Validation Request","application/scvp-cv-response":"Server-Based Certificate Validation Protocol - Validation Response","application/sdp":"Session Description Protocol","text/x-setext":"Setext","video/x-sgi-movie":"SGI Movie","application/vnd.shana.informed.formdata":"Shana Informed Filler","application/vnd.shana.informed.formtemplate":"Shana Informed Filler","application/vnd.shana.informed.interchange":"Shana Informed Filler","application/vnd.shana.informed.package":"Shana Informed Filler","application/thraud+xml":"Sharing Transaction Fraud Data","application/x-shar":"Shell Archive","image/x-rgb":"Silicon Graphics RGB Bitmap","application/vnd.epson.salt":"SimpleAnimeLite Player","application/vnd.accpac.simply.aso":"Simply Accounting","application/vnd.accpac.simply.imp":"Simply Accounting - Data Import","application/vnd.simtech-mindmapper":"SimTech MindMapper","application/vnd.commonspace":"Sixth Floor Media - CommonSpace","application/vnd.yamaha.smaf-audio":"SMAF Audio","application/vnd.smaf":"SMAF File","application/vnd.yamaha.smaf-phrase":"SMAF Phrase","application/vnd.smart.teacher":"SMART Technologies Apps","application/vnd.svd":"SourceView Document","application/sparql-query":"SPARQL - Query","application/sparql-results+xml":"SPARQL - Results","application/srgs":"Speech Recognition Grammar Specification","application/srgs+xml":"Speech Recognition Grammar Specification - XML","application/ssml+xml":"Speech Synthesis Markup Language","application/vnd.koan":"SSEYO Koan Play File","text/sgml":"SGML","application/vnd.stardivision.calc":"StarOffice - Calc","application/vnd.stardivision.draw":"StarOffice - Draw","application/vnd.stardivision.impress":"StarOffice - Impress","application/vnd.stardivision.math":"StarOffice - Math","application/vnd.stardivision.writer":"StarOffice - Writer","application/vnd.stardivision.writer-global":"StarOffice - Writer  (Global)","application/vnd.stepmania.stepchart":"StepMania","application/x-stuffit":"Stuffit Archive","application/x-stuffitx":"Stuffit Archive","application/vnd.solent.sdkm+xml":"SudokuMagic","application/vnd.olpc-sugar":"Sugar Linux Application Bundle","audio/basic":"Sun Audio - Au file format","application/vnd.wqd":"SundaHus WQ","application/vnd.symbian.install":"Symbian Install Package","application/smil+xml":"Synchronized Multimedia Integration Language","application/vnd.syncml+xml":"SyncML","application/vnd.syncml.dm+wbxml":"SyncML - Device Management","application/vnd.syncml.dm+xml":"SyncML - Device Management","application/x-sv4cpio":"System V Release 4 CPIO Archive","application/x-sv4crc":"System V Release 4 CPIO Checksum Data","application/sbml+xml":"Systems Biology Markup Language","text/tab-separated-values":"Tab Seperated Values","image/tiff":"TIFF","application/vnd.tao.intent-module-archive":"Tao Intent","application/x-tar":"Tar File","application/x-tcl":"Tcl Script","application/x-tex":"TeX","application/x-tex-tfm":"TeX Font Metric","application/tei+xml":"Text Encoding and Interchange","text/plain":"Text","application/vnd.spotfire.dxp":"TIBCO Spotfire","application/vnd.spotfire.sfs":"TIBCO Spotfire","application/timestamped-data":"Time Stamped Data Envelope","application/vnd.trid.tpt":"TRI Systems Config","application/vnd.triscape.mxs":"Triscape Map Explorer","text/troff":"troff","application/vnd.trueapp":"True BASIC","application/x-font-ttf":"TrueType Font","text/turtle":"Turtle (Terse RDF Triple Language)","application/vnd.umajin":"UMAJIN","application/vnd.uoml+xml":"Unique Object Markup Language","application/vnd.unity":"Unity 3d","application/vnd.ufdl":"Universal Forms Description Language","text/uri-list":"URI Resolution Services","application/vnd.uiq.theme":"User Interface Quartz - Theme (Symbian)","application/x-ustar":"Ustar (Uniform Standard Tape Archive)","text/x-uuencode":"UUEncode","text/x-vcalendar":"vCalendar","text/x-vcard":"vCard","application/x-cdlink":"Video CD","application/vnd.vsf":"Viewport+","model/vrml":"Virtual Reality Modeling Language","application/vnd.vcx":"VirtualCatalog","model/vnd.mts":"Virtue MTS","model/vnd.vtu":"Virtue VTU","application/vnd.visionary":"Visionary","video/vnd.vivo":"Vivo","application/ccxml+xml,":"Voice Browser Call Control","application/voicexml+xml":"VoiceXML","application/x-wais-source":"WAIS Source","application/vnd.wap.wbxml":"WAP Binary XML (WBXML)","image/vnd.wap.wbmp":"WBMP","audio/x-wav":"WAV","application/davmount+xml":"Web Distributed Authoring and Versioning","application/x-font-woff":"WOFF","application/wspolicy+xml":"Web Services Policy","image/webp":"WebP","application/vnd.webturbo":"WebTurbo","application/widget":"Widget Packaging and XML Configuration","application/winhlp":"WinHelp","text/vnd.wap.wml":"WML","text/vnd.wap.wmlscript":"WMLScript","application/vnd.wap.wmlscriptc":"WMLScript","application/vnd.wordperfect":"Wordperfect","application/vnd.wt.stf":"Worldtalk","application/wsdl+xml":"WSDL","image/x-xbitmap":"X BitMap","image/x-xpixmap":"X PixMap","image/x-xwindowdump":"X Window Dump","application/x-x509-ca-cert":"X.509 Certificate","application/x-xfig":"Xfig","application/xhtml+xml":"XHTML","application/xml":"XML","application/xcap-diff+xml":"XML Configuration Access Protocol - XCAP Diff","application/xenc+xml":"XML Encryption Syntax and Processing","application/patch-ops-error+xml":"XML Patch Framework","application/resource-lists+xml":"XML Resource Lists","application/rls-services+xml":"XML Resource Lists","application/resource-lists-diff+xml":"XML Resource Lists Diff","application/xslt+xml":"XML Transformations","application/xop+xml":"XML-Binary Optimized Packaging","application/x-xpinstall":"XPInstall - Mozilla","application/xspf+xml":"XSPF - XML Shareable Playlist Format","application/vnd.mozilla.xul+xml":"XUL - XML User Interface Language","chemical/x-xyz":"XYZ File Format","text/yaml":"YAML","application/yang":"YANG Data Modeling Language","application/yin+xml":"YIN (YANG - XML)","application/vnd.zul":"Z.U.L. Geometry","application/zip":"Zip Archive","application/vnd.handheld-entertainment+xml":"ZVUE Media Manager","application/vnd.zzazz.deck+xml":"Zzazz Deck"};function Zn(e,t=!1){return t?Jw[e]||null:Yw[e]||null}function Fl(e=0,t=!0){const o=t?1e3:1024;if(Boolean(e)===!1)return"--";if(Math.abs(e)<o)return`${e} B`;const l=t?["kB","MB","GB","TB","PB","EB","ZB","YB"]:["KiB","MiB","GiB","TiB","PiB","EiB","ZiB","YiB"];let d=-1,c=e;do c/=o,d+=1;while(Math.abs(c)>=o&&d<l.length-1);return`${c.toFixed(1)} ${l[d]}`}const Zw=K({props:{file:{type:Object,default:()=>({})},isNew:{type:Boolean,default:!1}},setup(e){const{t,n:o}=ae(),l=E(()=>e.isNew||!e.file||!e.file.filesize?null:Fl(e.file.filesize)),{creationDate:d,modificationDate:c}=v(),{userCreated:i,userModified:s}=_(),{folder:r,folderLink:p}=y(),f=E(()=>ut(`${Xe()}assets/${e.file.id}`));return{t,n:o,readableMimeType:Zn,size:l,creationDate:d,modificationDate:c,userCreated:i,userModified:s,folder:r,folderLink:p,getRootPath:Xe,fileLink:f};function v(){const b=D(null),w=D(null);return _e(()=>e.file,async()=>{if(!e.file)return null;b.value=await Pt(new Date(e.file.uploaded_on),String(t("date-fns_date_short"))),e.file.modified_on&&(w.value=await Pt(new Date(e.file.modified_on),String(t("date-fns_date_short"))))},{immediate:!0}),{creationDate:b,modificationDate:w}}function _(){const b=D(!1),w=D(null),$=D(null);return _e(()=>e.file,k,{immediate:!0}),{userCreated:w,userModified:$};async function k(){if(!e.file||!e.file.uploaded_by)return null;b.value=!0;try{const g=(await de.get(`/users/${e.file.uploaded_by}`,{params:{fields:["id","email","first_name","last_name","role"]}})).data.data;if(w.value={id:e.file.uploaded_by,name:Ft(g),link:`/users/${g.id}`},e.file.modified_by){const R=(await de.get(`/users/${e.file.modified_by}`,{params:{fields:["id","email","first_name","last_name","role"]}})).data.data;$.value={id:e.file.modified_by,name:Ft(R),link:`/users/${R.id}`}}}finally{b.value=!1}}}function y(){const b=D(!1),w=D(null),$=E(()=>w.value===null?"/files":`/files/folders/${w.value.id}`);return _e(()=>e.file,k,{immediate:!0}),{folder:w,folderLink:$};async function k(){if(!e.file)return null;if(!!e.file.folder){b.value=!0;try{const V=await de.get(`/folders/${e.file.folder}`,{params:{fields:["id","name"]}}),{name:g}=V.data.data;w.value={id:e.file.folder,name:g}}finally{b.value=!1}}}}}}),xw={key:0},e8={key:0},t8={key:1},n8={key:2},l8={key:3},a8={key:4},o8={key:5},i8={key:6},s8={key:7,class:"checksum"},r8={key:8},d8={key:9},u8={key:10},c8=["href"],p8={key:0},m8={key:1},f8={key:2},_8={key:3},v8={key:4},y8={class:"page-description"};function g8(e,t,o,l,d,c){const i=u("router-link"),s=u("user-popover"),r=u("v-divider"),p=u("sidebar-detail"),f=Ce("md");return m(),F(p,{icon:"info_outline",title:e.t("file_details"),close:""},{default:a(()=>{var v,_,y,b,w,$,k,V,g,A,R,L,M,T,U,B,z,W;return[e.file?(m(),I("dl",xw,[e.file.type?(m(),I("div",e8,[S("dt",null,h(e.t("type")),1),S("dd",null,h(e.readableMimeType(e.file.type)||e.file.type),1)])):N("",!0),e.file.width&&e.file.height?(m(),I("div",t8,[S("dt",null,h(e.t("dimensions")),1),S("dd",null,h(e.n(e.file.width))+" \xD7 "+h(e.n(e.file.height)),1)])):N("",!0),e.file.duration?(m(),I("div",n8,[S("dt",null,h(e.t("duration")),1),S("dd",null,h(e.n(e.file.duration)),1)])):N("",!0),e.file.filesize?(m(),I("div",l8,[S("dt",null,h(e.t("size")),1),S("dd",null,h(e.size),1)])):N("",!0),e.file.charset?(m(),I("div",a8,[S("dt",null,h(e.t("charset")),1),S("dd",null,h(e.charset),1)])):N("",!0),e.file.embed?(m(),I("div",o8,[S("dt",null,h(e.t("embed")),1),S("dd",null,h(e.embed),1)])):N("",!0),e.creationDate?(m(),I("div",i8,[S("dt",null,h(e.t("created")),1),S("dd",null,h(e.creationDate),1)])):N("",!0),e.file.checksum?(m(),I("div",s8,[S("dt",null,h(e.t("checksum")),1),S("dd",null,h(e.file.checksum),1)])):N("",!0),e.userCreated?(m(),I("div",r8,[S("dt",null,h(e.t("owner")),1),S("dd",null,[n(s,{user:e.userCreated.id},{default:a(()=>[n(i,{to:e.userCreated.link},{default:a(()=>[O(h(e.userCreated.name),1)]),_:1},8,["to"])]),_:1},8,["user"])])])):N("",!0),e.modificationDate?(m(),I("div",d8,[S("dt",null,h(e.t("modified")),1),S("dd",null,h(e.modificationDate),1)])):N("",!0),e.userModified?(m(),I("div",u8,[S("dt",null,h(e.t("edited_by")),1),S("dd",null,[n(s,{user:e.userModified.id},{default:a(()=>[n(i,{to:e.userModified.link},{default:a(()=>[O(h(e.userModified.name),1)]),_:1},8,["to"])]),_:1},8,["user"])])])):N("",!0),S("div",null,[S("dt",null,h(e.t("file")),1),S("dd",null,[S("a",{href:e.fileLink,target:"_blank"},h(e.t("open_in_new_window")),9,c8)])]),S("div",null,[S("dt",null,h(e.t("folder")),1),S("dd",null,[n(i,{to:e.folderLink},{default:a(()=>[O(h(e.t("open_folder",{folder:e.folder?e.folder.name:e.t("file_library")})),1)]),_:1},8,["to"])])]),((_=(v=e.file.metadata)==null?void 0:v.ifd0)==null?void 0:_.Make)||((b=(y=e.file.metadata)==null?void 0:y.ifd0)==null?void 0:b.Model)||(($=(w=e.file.metadata)==null?void 0:w.exif)==null?void 0:$.FNumber)||((V=(k=e.file.metadata)==null?void 0:k.exif)==null?void 0:V.ExposureTime)||((A=(g=e.file.metadata)==null?void 0:g.exif)==null?void 0:A.FocalLength)||((L=(R=e.file.metadata)==null?void 0:R.exif)==null?void 0:L.ISO)?(m(),I(oe,{key:11},[n(r),((M=e.file.metadata.ifd0)==null?void 0:M.Make)&&((T=e.file.metadata.ifd0)==null?void 0:T.Model)?(m(),I("div",p8,[S("dt",null,h(e.t("camera")),1),S("dd",null,h(e.file.metadata.ifd0.Make)+" "+h(e.file.metadata.ifd0.Model),1)])):N("",!0),((U=e.file.metadata.exif)==null?void 0:U.FNumber)?(m(),I("div",m8,[S("dt",null,h(e.t("exposure")),1),S("dd",null,"\u0192/"+h(e.file.metadata.exif.FNumber),1)])):N("",!0),((B=e.file.metadata.exif)==null?void 0:B.ExposureTime)?(m(),I("div",f8,[S("dt",null,h(e.t("shutter")),1),S("dd",null,"1/"+h(Math.round(1/+e.file.metadata.exif.ExposureTime))+" "+h(e.t("second")),1)])):N("",!0),((z=e.file.metadata.exif)==null?void 0:z.FocalLength)?(m(),I("div",_8,[S("dt",null,h(e.t("focal_length")),1),S("dd",null,h(e.file.metadata.exif.FocalLength)+"mm",1)])):N("",!0),((W=e.file.metadata.exif)==null?void 0:W.ISO)?(m(),I("div",v8,[S("dt",null,h(e.t("iso")),1),S("dd",null,h(e.file.metadata.exif.ISO),1)])):N("",!0)],64)):N("",!0)])):N("",!0),n(r),te(S("div",y8,null,512),[[f,e.t("page_help_files_item")]])]}),_:1},8,["title"])}var h8=q(Zw,[["render",g8],["__scopeId","data-v-4018d0a4"]]);const b8=K({components:{FilesNavigation:ia},setup(){const{t:e}=ae();return{t:e}}}),$8={class:"not-found"};function k8(e,t,o,l,d,c){const i=u("files-navigation"),s=u("v-info"),r=u("private-view");return m(),F(r,{title:e.t("page_not_found")},{navigation:a(()=>[n(i)]),default:a(()=>[S("div",$8,[n(s,{title:e.t("page_not_found"),icon:"not_interested"},{default:a(()=>[O(h(e.t("page_not_found_body")),1)]),_:1},8,["title"])])]),_:1},8,["title"])}var w8=q(b8,[["render",k8],["__scopeId","data-v-6900fd47"]]);const C8=K({props:{modelValue:{type:Boolean,default:!1},file:{type:Object,default:()=>({})},preset:{type:Object,default:()=>({})}},emits:["update:modelValue","replaced"],setup(e,{emit:t}){const{t:o}=ae();return{t:o,uploaded:l};function l(){t("update:modelValue",!1),t("replaced")}}});function S8(e,t,o,l,d,c){const i=u("v-card-title"),s=u("v-upload"),r=u("v-card-text"),p=u("v-button"),f=u("v-card-actions"),v=u("v-card"),_=u("v-dialog");return m(),F(_,{"model-value":e.modelValue,"onUpdate:modelValue":t[1]||(t[1]=y=>e.$emit("update:modelValue",!1)),onEsc:t[2]||(t[2]=y=>e.$emit("update:modelValue",!1))},{default:a(()=>[e.file?(m(),F(v,{key:0},{default:a(()=>[n(i,null,{default:a(()=>[O(h(e.t("replace_file")),1)]),_:1}),n(r,null,{default:a(()=>[n(s,{preset:e.preset,"file-id":e.file.id,"from-url":"",onInput:e.uploaded},null,8,["preset","file-id","onInput"])]),_:1}),n(f,null,{default:a(()=>[n(p,{secondary:"",onClick:t[0]||(t[0]=y=>e.$emit("update:modelValue",!1))},{default:a(()=>[O(h(e.t("done")),1)]),_:1})]),_:1})]),_:1})):N("",!0)]),_:1},8,["model-value"])}var F8=q(C8,[["render",S8],["__scopeId","data-v-767b664e"]]);const V8=K({name:"FilesItem",components:{FilesNavigation:ia,RevisionsDrawerDetail:Kn,CommentsSidebarDetail:ta,FilePreview:sa,ImageEditor:Xw,FileInfoSidebarDetail:h8,FolderPicker:oa,FilesNotFound:w8,ReplaceFile:F8,SaveOptions:wl},props:{primaryKey:{type:String,required:!0}},setup(e){const{t}=ae(),o=et(),l=D(),{primaryKey:d}=Re(e),{breadcrumb:c}=le(),i=D(!1),s=D(null),{isNew:r,edits:p,item:f,saving:v,loading:_,error:y,save:b,remove:w,deleting:$,saveAsCopy:k,isBatch:V,refresh:g,validationErrors:A}=Cn(D("directus_files"),d),R=E(()=>Object.keys(p.value).length>0);Zt(R);const L=D(!1),M=D(!1),T=E(()=>f.value&&f.value.modified_on?ut(Xe()+`assets/${e.primaryKey}?cache-buster=${f.value.modified_on}&key=system-large-contain`):ut(Xe()+`assets/${e.primaryKey}?key=system-large-contain`)),U=["type","width","height","filesize","checksum","uploaded_by","uploaded_on","modified_by","modified_on","duration","folder","charset","embed"],B=E(()=>{var be;return f.value&&((be=f.value)==null?void 0:be.folder)?`/files/folders/${f.value.folder}`:"/files"}),z=D(!1),W=D(null),{moveToDialogActive:J,moveToFolder:Q,moving:G,selectedFolder:x}=ke();tt("meta+s",ve,l);const ee=be=>{if(R.value)return z.value=!0,W.value=be.fullPath,!1};Ot(ee),At(ee);const{deleteAllowed:ne,saveAllowed:ie,updateAllowed:pe,fields:Y,revisionsAllowed:Z}=Hn(D("directus_files"),f,r),se=E(()=>Y.value.filter(be=>U.includes(be.field)===!1));return{t,router:o,item:f,loading:_,error:y,isNew:r,breadcrumb:c,edits:p,hasEdits:R,saving:v,saveAndQuit:ce,deleteAndQuit:ge,confirmDelete:L,deleting:$,saveAndStay:ve,saveAsCopyAndNavigate:ue,isBatch:V,editActive:M,revisionsDrawerDetail:s,confirmLeave:z,leaveTo:W,discardAndLeave:fe,downloadFile:me,moveToDialogActive:J,moveToFolder:Q,moving:G,selectedFolder:x,fileSrc:T,form:l,to:B,replaceFileDialogActive:i,refresh:g,deleteAllowed:ne,saveAllowed:ie,updateAllowed:pe,fields:Y,fieldsFiltered:se,revisionsAllowed:Z,validationErrors:A};function le(){return{breadcrumb:E(()=>{var Se;return((Se=f==null?void 0:f.value)==null?void 0:Se.folder)?[{name:t("file_library"),to:{path:`/files/folders/${f.value.folder}`}}]:[{name:t("file_library"),to:"/files"}]})}}async function ce(){try{await b(),o.push(B.value)}catch{}}async function ve(){var be,Se;try{await b(),(Se=(be=s.value)==null?void 0:be.refresh)==null||Se.call(be)}catch{}}async function ue(){const be=await k();be&&o.push(`/files/${be}`)}async function ge(){try{await w(),o.push(B.value)}catch{L.value=!1}}function fe(){!W.value||(p.value={},o.push(W.value))}function me(){const be=ut(Xe()+`assets/${e.primaryKey}?download`);window.open(be,"_blank")}function ke(){const be=D(!1),Se=D(!1),De=D();return _e(f,()=>{var Le;De.value=((Le=f.value)==null?void 0:Le.folder)||null}),{moveToDialogActive:be,moving:Se,moveToFolder:Ae,selectedFolder:De};async function Ae(){var Le;Se.value=!0;try{const lt=await de.patch(`/files/${e.primaryKey}`,{folder:De.value},{params:{fields:"folder.name"}});await g();const Oe=((Le=lt.data.data.folder)==null?void 0:Le.name)||t("file_library");kt({title:t("file_moved",{folder:Oe}),type:"success",icon:"folder_move"})}catch(lt){Fe(lt)}finally{be.value=!1,Se.value=!1}}}}}),E8={class:"file-item"};function I8(e,t,o,l,d,c){const i=u("files-not-found"),s=u("v-icon"),r=u("v-button"),p=u("v-breadcrumb"),f=u("v-card-title"),v=u("v-card-actions"),_=u("v-card"),y=u("v-dialog"),b=u("folder-picker"),w=u("v-card-text"),$=u("save-options"),k=u("files-navigation"),V=u("file-preview"),g=u("image-editor"),A=u("v-form"),R=u("file-info-sidebar-detail"),L=u("revisions-drawer-detail"),M=u("comments-sidebar-detail"),T=u("replace-file"),U=u("private-view"),B=Ce("tooltip");return!e.loading&&!e.item?(m(),F(i,{key:0})):(m(),F(U,{key:1,title:e.loading||!e.item?e.t("loading"):e.item.title},{"title-outer:prepend":a(()=>[n(r,{class:"header-icon",rounded:"",icon:"",secondary:"",exact:"",onClick:t[0]||(t[0]=z=>e.router.back())},{default:a(()=>[n(s,{name:"arrow_back"})]),_:1})]),headline:a(()=>[n(p,{items:e.breadcrumb},null,8,["items"])]),actions:a(()=>[n(y,{modelValue:e.confirmDelete,"onUpdate:modelValue":t[2]||(t[2]=z=>e.confirmDelete=z),onEsc:t[3]||(t[3]=z=>e.confirmDelete=!1)},{activator:a(({on:z})=>[te(n(r,{rounded:"",icon:"",class:"action-delete",disabled:e.item===null||e.deleteAllowed===!1,onClick:z},{default:a(()=>[n(s,{name:"delete",outline:""})]),_:2},1032,["disabled","onClick"]),[[B,e.deleteAllowed?e.t("delete_label"):e.t("not_allowed"),void 0,{bottom:!0}]])]),default:a(()=>[n(_,null,{default:a(()=>[n(f,null,{default:a(()=>[O(h(e.t("delete_are_you_sure")),1)]),_:1}),n(v,null,{default:a(()=>[n(r,{secondary:"",onClick:t[1]||(t[1]=z=>e.confirmDelete=!1)},{default:a(()=>[O(h(e.t("cancel")),1)]),_:1}),n(r,{kind:"danger",loading:e.deleting,onClick:e.deleteAndQuit},{default:a(()=>[O(h(e.t("delete_label")),1)]),_:1},8,["loading","onClick"])]),_:1})]),_:1})]),_:1},8,["modelValue"]),e.isNew===!1?(m(),F(y,{key:0,modelValue:e.moveToDialogActive,"onUpdate:modelValue":t[6]||(t[6]=z=>e.moveToDialogActive=z),onEsc:t[7]||(t[7]=z=>e.moveToDialogActive=!1)},{activator:a(({on:z})=>[te(n(r,{rounded:"",icon:"",disabled:e.item===null,class:"folder",onClick:z},{default:a(()=>[n(s,{name:"folder_move"})]),_:2},1032,["disabled","onClick"]),[[B,e.t("move_to_folder"),void 0,{bottom:!0}]])]),default:a(()=>[n(_,null,{default:a(()=>[n(f,null,{default:a(()=>[O(h(e.t("move_to_folder")),1)]),_:1}),n(w,null,{default:a(()=>[n(b,{modelValue:e.selectedFolder,"onUpdate:modelValue":t[4]||(t[4]=z=>e.selectedFolder=z)},null,8,["modelValue"])]),_:1}),n(v,null,{default:a(()=>[n(r,{secondary:"",onClick:t[5]||(t[5]=z=>e.moveToDialogActive=!1)},{default:a(()=>[O(h(e.t("cancel")),1)]),_:1}),n(r,{loading:e.moving,onClick:e.moveToFolder},{default:a(()=>[O(h(e.t("move")),1)]),_:1},8,["loading","onClick"])]),_:1})]),_:1})]),_:1},8,["modelValue"])):N("",!0),te(n(r,{rounded:"",icon:"",class:"download",onClick:e.downloadFile},{default:a(()=>[n(s,{name:"save_alt"})]),_:1},8,["onClick"]),[[B,e.t("download"),void 0,{bottom:!0}]]),e.item&&e.item.type.includes("image")?te((m(),F(r,{key:1,rounded:"",icon:"",class:"edit",onClick:t[8]||(t[8]=z=>e.editActive=!0)},{default:a(()=>[n(s,{name:"tune"})]),_:1},512)),[[B,e.t("edit"),void 0,{bottom:!0}]]):N("",!0),te(n(r,{rounded:"",icon:"",loading:e.saving,disabled:e.hasEdits===!1||e.saveAllowed===!1,onClick:e.saveAndQuit},{"append-outer":a(()=>[e.hasEdits===!0||e.saveAllowed===!0?(m(),F($,{key:0,onSaveAndStay:e.saveAndStay,onSaveAsCopy:e.saveAsCopyAndNavigate},null,8,["onSaveAndStay","onSaveAsCopy"])):N("",!0)]),default:a(()=>[n(s,{name:"check"})]),_:1},8,["loading","disabled","onClick"]),[[B,e.saveAllowed?e.t("save"):e.t("not_allowed"),void 0,{bottom:!0}]])]),navigation:a(()=>[n(k,{"current-folder":e.item&&e.item.folder},null,8,["current-folder"])]),sidebar:a(()=>[n(R,{file:e.item},null,8,["file"]),e.isBatch===!1&&e.isNew===!1&&e.revisionsAllowed?(m(),F(L,{key:0,ref:"revisionsDrawerDetail",collection:"directus_files","primary-key":e.primaryKey},null,8,["primary-key"])):N("",!0),e.isBatch===!1&&e.isNew===!1?(m(),F(M,{key:1,collection:"directus_files","primary-key":e.primaryKey},null,8,["primary-key"])):N("",!0)]),default:a(()=>[S("div",E8,[e.isBatch===!1&&e.item?(m(),F(V,{key:0,src:e.fileSrc,mime:e.item.type,width:e.item.width,height:e.item.height,title:e.item.title,onClick:t[9]||(t[9]=z=>e.replaceFileDialogActive=!0)},null,8,["src","mime","width","height","title"])):N("",!0),e.item&&e.item.type.startsWith("image")?(m(),F(g,{key:1,id:e.item.id,modelValue:e.editActive,"onUpdate:modelValue":t[10]||(t[10]=z=>e.editActive=z),onRefresh:e.refresh},null,8,["id","modelValue","onRefresh"])):N("",!0),n(A,{ref:"form",modelValue:e.edits,"onUpdate:modelValue":t[11]||(t[11]=z=>e.edits=z),fields:e.fieldsFiltered,loading:e.loading,"initial-values":e.item,"batch-mode":e.isBatch,"primary-key":e.primaryKey,disabled:e.updateAllowed===!1,"validation-errors":e.validationErrors},null,8,["modelValue","fields","loading","initial-values","batch-mode","primary-key","disabled","validation-errors"])]),n(y,{modelValue:e.confirmLeave,"onUpdate:modelValue":t[13]||(t[13]=z=>e.confirmLeave=z),onEsc:e.discardAndLeave},{default:a(()=>[n(_,null,{default:a(()=>[n(f,null,{default:a(()=>[O(h(e.t("unsaved_changes")),1)]),_:1}),n(w,null,{default:a(()=>[O(h(e.t("unsaved_changes_copy")),1)]),_:1}),n(v,null,{default:a(()=>[n(r,{secondary:"",onClick:e.discardAndLeave},{default:a(()=>[O(h(e.t("discard_changes")),1)]),_:1},8,["onClick"]),n(r,{onClick:t[12]||(t[12]=z=>e.confirmLeave=!1)},{default:a(()=>[O(h(e.t("keep_editing")),1)]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue","onEsc"]),n(T,{modelValue:e.replaceFileDialogActive,"onUpdate:modelValue":t[14]||(t[14]=z=>e.replaceFileDialogActive=z),file:e.item,onReplaced:e.refresh},null,8,["modelValue","file","onReplaced"])]),_:1},8,["title"]))}var A8=q(V8,[["render",I8],["__scopeId","data-v-b965a6f0"]]),D8=on({id:"files",name:"$t:file_library",icon:"folder",routes:[{name:"files-collection",path:"",component:Yn,children:[{path:"+",name:"add-file",components:{addNew:yo}}]},{name:"files-item",path:":primaryKey",component:A8,props:!0},{path:"folders",redirect:"/files"},{name:"folders-collection",path:"folders/:folder",component:Yn,props:!0,children:[{path:"+",name:"add-file-folder",components:{addNew:yo}}]},{path:"all",component:Yn,props:{special:"all"}},{path:"mine",component:Yn,props:{special:"mine"}},{path:"recent",component:Yn,props:{special:"recent"}}],preRegisterCheck(e,t){return e.role.admin_access?!0:!!t.find(d=>d.collection==="directus_files"&&d.action==="read")}}),O8=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:D8});function $o(e){const t=e.split(".")[1].replace("-","+").replace("_","/"),o=ss.exports.decode(t);return JSON.parse(o)}const P8=K({setup(){const{t:e}=ae(),t=Yt(),o=E(()=>t.query.token),l=D(null),d=D(!1),c=D(null),i=D(!1),s=E(()=>c.value?bn(c.value):null),r=E(()=>"/login"),p=E(()=>$o(o.value).email);return{t:e,creating:d,error:c,done:i,password:l,onSubmit:f,signInLink:r,errorFormatted:s,email:p};async function f(){d.value=!0,c.value=null;try{await de.post("/users/invite/accept",{password:l.value,token:o.value}),i.value=!0}catch(v){c.value=v}finally{d.value=!1}}}}),T8={class:"type-title"};function L8(e,t,o,l,d,c){const i=u("v-input"),s=u("v-notice"),r=u("v-button"),p=u("v-icon"),f=u("public-view");return m(),F(f,null,{notice:a(()=>[n(p,{name:"lock_outlined",left:""}),O(" "+h(e.t("not_authenticated")),1)]),default:a(()=>[S("h1",T8,h(e.t("create_account")),1),S("form",{onSubmit:t[1]||(t[1]=Ie((...v)=>e.onSubmit&&e.onSubmit(...v),["prevent"]))},[n(i,{"model-value":e.email,disabled:""},null,8,["model-value"]),n(i,{modelValue:e.password,"onUpdate:modelValue":t[0]||(t[0]=v=>e.password=v),placeholder:e.t("password"),autofocus:"",autocomplete:"password",type:"password",disabled:e.done},null,8,["modelValue","placeholder","disabled"]),e.done?(m(),F(s,{key:0,type:"success"},{default:a(()=>[O(h(e.t("account_created_successfully")),1)]),_:1})):N("",!0),e.error?(m(),F(s,{key:1,type:"danger"},{default:a(()=>[O(h(e.errorFormatted),1)]),_:1})):N("",!0),e.done?(m(),F(r,{key:3,large:"",to:e.signInLink},{default:a(()=>[O(h(e.t("sign_in")),1)]),_:1},8,["to"])):(m(),F(r,{key:2,type:"submit",loading:e.creating,large:""},{default:a(()=>[O(h(e.t("create")),1)]),_:1},8,["loading"]))],32)]),_:1})}var j8=q(P8,[["render",L8],["__scopeId","data-v-8ab16d02"]]),R8=["about","above","across","after","against","along","among","around","at","because of","before","behind","below","beneath","beside","besides","between","beyond","but","by","concerning","despite","down","during","except","excepting","for","from","in","in front of","inside","in spite of","instead of","into","like","near","of","off","on","onto","out","outside","over","past","regarding","since","through","throughout","to","toward","under","underneath","until","up","upon","up to","with","within","without","with regard to","with respect to"],M8=["and","that","but","or","as","if","when","than","because","while","where","after","so","though","since","until","whether","before","although","nor","like","once","unless","now","except"],U8=["2D","3D","4WD","API","BASIC","BIOS","CCTV","CC","CCV","CD","CD-ROM","COBOL","CIA","CMS","CSS","CSV","CV","DIY","DVD","DB","DNA","E3","EIN","ESPN","FAQ","FAQs","FTP","FPS","FORTRAN","FBI","HTML","HTTP","ID","IP","ISO","JS","JSON","LASER","M2M","M2MM","M2O","MMORPG","NAFTA","NASA","NDA","O2M","PDF","PHP","POP","RAM","RNGR","ROM","RPG","RTFM","RTS","SCUBA","SITCOM","SKU","SMTP","SQL","SSN","SWAT","TBS","TTL","TV","TNA","UI","URL","USB","UWP","VIP","W3C","WYSIWYG","WWW","WWE","WWF"],ra=["2FA","3D","DateTime","GitHub","ID","IDs","iMac","IMAX","iOS","IP","iPad","iPhone","iPod","macOS","M2M","M2O","McDonalds","MySQL","O2M","PDFs","pH","PostgreSQL","YouTube","UUID","SEO","CTA","4K","HD","UHD","5K","8K"];function N8(e,t,o){const l=e.toLowerCase(),d=e.toUpperCase();for(let c=0;c<ra.length;c+=1)if(ra[c].toLowerCase()===l)return ra[c];return U8.includes(d)?d:t===0||t===o.length-1?e:R8.includes(l)||M8.includes(l)?l:e}function B8(e,t){return`${e} ${t}`}function q8(e){return e.charAt(0).toUpperCase()+e.substring(1)}function z8(e){return e.replace(/([a-z\d])([A-Z])/g,"$1_$2").replace(/([A-Z]+)([A-Z][a-z\d]+)/g,"$1_$2").toLowerCase()}function Je(e,t){return t||(t=new RegExp("/s|-|_| ","g")),z8(e).split(t).map(q8).map(N8).reduce(B8)}const K8=K({props:{providers:{type:Array,default:()=>[]}},setup(e){const{t}=ae(),{providers:o}=Re(e),l=D([]);return _e(o,()=>{l.value=o.value.filter(d=>W2.includes(d.driver)).map(d=>{var c;return{name:Je(d.name),link:`${Xe()}auth/login/${d.name}?redirect=${window.location.href.replace(location.search,"?continue")}`,icon:(c=d.icon)!=null?c:"account_circle"}})}),{t,ssoProviders:l}}}),W8={class:"sso-links"},H8=["href"],G8={class:"sso-icon"},Q8={class:"sso-title"};function X8(e,t,o,l,d,c){const i=u("v-divider"),s=u("v-icon");return m(),I("div",W8,[e.ssoProviders.length>0?(m(),I(oe,{key:0},[n(i),(m(!0),I(oe,null,he(e.ssoProviders,r=>(m(),I("a",{key:r.name,class:"sso-link",href:r.link},[S("div",G8,[n(s,{name:r.icon},null,8,["name"])]),S("div",Q8,h(e.t("log_in_with",{provider:r.name})),1)],8,H8))),128))],64)):N("",!0)])}var J8=q(K8,[["render",X8],["__scopeId","data-v-44bf8f70"]]);const Y8=K({components:{ssoLinks:J8},setup(){const{t:e}=ae(),t=et(),o=D(!1),l=D(null),d=D(null),c=D(null),i=D(null),s=D(!1),r=D([]),p=xe();rt(()=>v()),_e(l,()=>{s.value===!0&&(s.value=!1)});const f=E(()=>c.value==="INVALID_PAYLOAD"?bn("INVALID_CREDENTIALS"):c.value?bn(c.value):null);return{t:e,errorFormatted:f,error:c,email:l,password:d,onSubmit:_,loggingIn:o,translateAPIError:bn,otp:i,requiresTFA:s,providers:r};async function v(){try{const y=await de.get("/auth");r.value=y.data.data}catch(y){Fe(y)}}async function _(){var y,b,w,$,k,V,g,A,R,L,M;if(!(l.value===null||d.value===null))try{o.value=!0;const T={email:l.value,password:d.value};i.value&&(T.otp=i.value),await rO(T);const U=(y=p.currentUser)==null?void 0:y.last_page;t.push(U||"/collections")}catch(T){((V=(k=($=(w=(b=T.response)==null?void 0:b.data)==null?void 0:w.errors)==null?void 0:$[0])==null?void 0:k.extensions)==null?void 0:V.code)==="INVALID_OTP"&&s.value===!1?s.value=!0:c.value=((M=(L=(R=(A=(g=T.response)==null?void 0:g.data)==null?void 0:A.errors)==null?void 0:R[0])==null?void 0:L.extensions)==null?void 0:M.code)||T}finally{o.value=!1}}}}),Z8={class:"buttons"};function x8(e,t,o,l,d,c){const i=u("v-input"),s=u("transition-expand"),r=u("v-notice"),p=u("v-button"),f=u("router-link"),v=u("sso-links");return m(),I("form",{onSubmit:t[3]||(t[3]=Ie((..._)=>e.onSubmit&&e.onSubmit(..._),["prevent"]))},[n(i,{modelValue:e.email,"onUpdate:modelValue":t[0]||(t[0]=_=>e.email=_),autofocus:"",autocomplete:"username",type:"email",placeholder:e.t("email")},null,8,["modelValue","placeholder"]),n(i,{modelValue:e.password,"onUpdate:modelValue":t[1]||(t[1]=_=>e.password=_),type:"password",autocomplete:"current-password",placeholder:e.t("password")},null,8,["modelValue","placeholder"]),n(s,null,{default:a(()=>[e.requiresTFA?(m(),F(i,{key:0,modelValue:e.otp,"onUpdate:modelValue":t[2]||(t[2]=_=>e.otp=_),type:"text",placeholder:e.t("otp"),autofocus:""},null,8,["modelValue","placeholder"])):N("",!0)]),_:1}),e.error?(m(),F(r,{key:0,type:"warning"},{default:a(()=>[O(h(e.errorFormatted),1)]),_:1})):N("",!0),S("div",Z8,[n(p,{type:"submit",loading:e.loggingIn,large:""},{default:a(()=>[O(h(e.t("sign_in")),1)]),_:1},8,["loading"]),n(f,{to:"/reset-password",class:"forgot-password"},{default:a(()=>[O(h(e.t("forgot_password")),1)]),_:1})]),n(v,{providers:e.providers},null,8,["providers"])],32)}var eC=q(Y8,[["render",x8],["__scopeId","data-v-aae5b414"]]);const tC=K({setup(){const{t:e}=ae(),t=et(),o=D(!1),l=D(null),d=D(null);return c(),rt(()=>{"continue"in t.currentRoute.value.query&&i()}),{t:e,name:l,lastPage:d,loading:o,hydrateAndLogin:i};async function c(){o.value=!0;try{const s=await de.get("/users/me",{params:{fields:["email","first_name","last_name","last_page"]}});l.value=Ft(s.data.data),d.value=s.data.data.last_page}catch(s){Fe(s)}finally{o.value=!1}}async function i(){await ya(),t.push(d.value||"/collections")}}}),nC={class:"continue-as"},lC={class:"actions"};function aC(e,t,o,l,d,c){const i=u("v-progress-circular"),s=u("i18n-t"),r=u("router-link"),p=u("v-button");return m(),I("div",nC,[e.loading?(m(),F(i,{key:0,indeterminate:""})):(m(),I(oe,{key:1},[n(s,{keypath:"continue_as",scope:"global",tag:"p"},{name:a(()=>[S("b",null,h(e.name),1)]),_:1}),S("div",lC,[n(r,{to:"/logout",class:"sign-out"},{default:a(()=>[O(h(e.t("sign_out")),1)]),_:1}),n(p,{autofocus:"",large:"",onClick:e.hydrateAndLogin},{default:a(()=>[O(h(e.t("continue_label")),1)]),_:1},8,["onClick"])])],64))])}var oC=q(tC,[["render",aC],["__scopeId","data-v-4ef59f8b"]]);const iC=K({components:{LoginForm:eC,ContinueAs:oC},props:{ssoErrorCode:{type:String,default:null},logoutReason:{type:String,default:null}},setup(){const{t:e,te:t}=ae(),o=$t(),l=E(()=>o.authenticated);return{t:e,te:t,authenticated:l}}}),sC={class:"type-title"};function rC(e,t,o,l,d,c){const i=u("continue-as"),s=u("login-form"),r=u("v-icon"),p=u("public-view");return m(),F(p,null,Ne({default:a(()=>[S("h1",sC,h(e.t("sign_in")),1),e.authenticated?(m(),F(i,{key:0})):(m(),F(s,{key:1,"sso-error":e.ssoErrorCode},null,8,["sso-error"]))]),_:2},[e.authenticated?{name:"notice",fn:a(()=>[n(r,{name:"lock_open",left:""}),O(" "+h(e.t("authenticated")),1)])}:{name:"notice",fn:a(()=>[n(r,{name:"lock_outlined",left:""}),O(" "+h(e.logoutReason&&e.te(`logoutReason.${e.logoutReason}`)?e.t(`logoutReason.${e.logoutReason}`):e.t("not_authenticated")),1)])}]),1024)}var dC=q(iC,[["render",rC],["__scopeId","data-v-43335513"]]);const uC=K({setup(){rt(()=>{$a()})}}),cC={class:"logout"};function pC(e,t,o,l,d,c){const i=u("v-progress-circular");return m(),I("div",cC,[n(i,{indeterminate:""})])}var mC=q(uC,[["render",pC],["__scopeId","data-v-cfb047f4"]]);const fC=K({setup(){const{t:e}=ae();return{t:e}}}),_C={class:"not-found"};function vC(e,t,o,l,d,c){const i=u("v-info"),s=u("private-view");return m(),F(s,{title:e.t("page_not_found")},{default:a(()=>[S("div",_C,[n(i,{title:e.t("page_not_found"),icon:"not_interested"},{default:a(()=>[O(h(e.t("page_not_found_body")),1)]),_:1},8,["title"])])]),_:1},8,["title"])}var yC=q(fC,[["render",vC],["__scopeId","data-v-a922425e"]]);const gC=K({setup(){const{t:e}=ae(),t=D(null),o=D(!1),l=D(null),d=D(!1),c=E(()=>l.value?bn(l.value):null),i=E(()=>"/login");return{t:e,sending:o,error:l,done:d,email:t,onSubmit:s,signInLink:i,errorFormatted:c};async function s(){o.value=!0,l.value=null;try{await de.post("/auth/password/request",{email:t.value}),d.value=!0}catch(r){l.value=r}finally{o.value=!1}}}}),hC={class:"buttons"};function bC(e,t,o,l,d,c){const i=u("v-input"),s=u("v-notice"),r=u("v-button"),p=u("router-link");return m(),I("form",{onSubmit:t[1]||(t[1]=Ie((...f)=>e.onSubmit&&e.onSubmit(...f),["prevent"]))},[n(i,{modelValue:e.email,"onUpdate:modelValue":t[0]||(t[0]=f=>e.email=f),autofocus:"",autocomplete:"username",type:"email",placeholder:e.t("email")},null,8,["modelValue","placeholder"]),e.done?(m(),F(s,{key:0,type:"success"},{default:a(()=>[O(h(e.t("password_reset_sent")),1)]),_:1})):N("",!0),e.error?(m(),F(s,{key:1,type:"danger"},{default:a(()=>[O(h(e.errorFormatted),1)]),_:1})):N("",!0),S("div",hC,[n(r,{type:"submit",loading:e.sending,large:""},{default:a(()=>[O(h(e.t("reset")),1)]),_:1},8,["loading"]),n(p,{to:e.signInLink,class:"sign-in"},{default:a(()=>[O(h(e.t("sign_in")),1)]),_:1},8,["to"])])],32)}var $C=q(gC,[["render",bC],["__scopeId","data-v-388f645e"]]);const kC=K({props:{token:{type:String,required:!0}},setup(e){const{t}=ae(),o=D(null),l=D(!1),d=D(null),c=D(!1),i=E(()=>d.value?bn(d.value):null),s=E(()=>"/login"),r=E(()=>$o(e.token).email);return{t,resetting:l,error:d,done:c,password:o,onSubmit:p,signInLink:s,errorFormatted:i,email:r};async function p(){l.value=!0,d.value=null;try{await de.post("/auth/password/reset",{password:o.value,token:e.token}),c.value=!0}catch(f){d.value=f}finally{l.value=!1}}}});function wC(e,t,o,l,d,c){const i=u("v-input"),s=u("v-notice"),r=u("v-button");return m(),I("form",{onSubmit:t[1]||(t[1]=Ie((...p)=>e.onSubmit&&e.onSubmit(...p),["prevent"]))},[n(i,{"model-value":e.email,disabled:""},null,8,["model-value"]),n(i,{modelValue:e.password,"onUpdate:modelValue":t[0]||(t[0]=p=>e.password=p),placeholder:e.t("password"),autofocus:"",autocomplete:"username",type:"password",disabled:e.done},null,8,["modelValue","placeholder","disabled"]),e.done?(m(),F(s,{key:0,type:"success"},{default:a(()=>[O(h(e.t("password_reset_successful")),1)]),_:1})):N("",!0),e.error?(m(),F(s,{key:1,type:"danger"},{default:a(()=>[O(h(e.errorFormatted),1)]),_:1})):N("",!0),e.done?(m(),F(r,{key:3,large:"",to:e.signInLink},{default:a(()=>[O(h(e.t("sign_in")),1)]),_:1},8,["to"])):(m(),F(r,{key:2,type:"submit",loading:e.resetting,large:""},{default:a(()=>[O(h(e.t("reset")),1)]),_:1},8,["loading"]))],32)}var CC=q(kC,[["render",wC],["__scopeId","data-v-31ae4e7a"]]);const SC=K({components:{RequestForm:$C,ResetForm:CC},setup(){const{t:e}=ae(),t=Yt(),o=E(()=>t.query.token);return{t:e,resetToken:o}}}),FC={class:"type-title"};function VC(e,t,o,l,d,c){const i=u("request-form"),s=u("reset-form"),r=u("v-icon"),p=u("public-view");return m(),F(p,null,{notice:a(()=>[n(r,{name:"lock_outlined",left:""}),O(" "+h(e.t("not_authenticated")),1)]),default:a(()=>[S("h1",FC,h(e.t("reset_password")),1),e.resetToken?(m(),F(s,{key:1,token:e.resetToken},null,8,["token"])):(m(),F(i,{key:0}))]),_:1})}var EC=q(SC,[["render",VC],["__scopeId","data-v-05544d73"]]);const IC=[{path:"/",redirect:"/login"},{name:"login",path:"/login",component:dC,props:e=>({ssoErrorCode:e.query.error?e.query.code:null,logoutReason:e.query.reason}),meta:{public:!0}},{name:"reset-password",path:"/reset-password",component:EC,meta:{public:!0}},{name:"accept-invite",path:"/accept-invite",component:j8,meta:{public:!0}},{name:"logout",path:"/logout",component:mC,meta:{public:!0}},{name:"private-404",path:"/:_(.+)+",component:yC}],Tt=rs({history:ds(Xe()+"admin/"),routes:IC});let ko=!0;const AC=async e=>{var l;const t=$t(),o=Pn();if(ko){ko=!1;try{await _n({navigate:!1})}catch{}}if(o.info===null&&await o.hydrate(),((l=e.meta)==null?void 0:l.public)!==!0&&t.hydrated===!1)return t.hydrating=!1,t.authenticated===!0&&t.hydrating===!1?(await ya(),e.fullPath):"/login"},DC=e=>{const t=xe();e.meta.public!==!0&&setTimeout(()=>{t.trackPage(e.fullPath)},500)};Tt.beforeEach(AC);Tt.afterEach(DC);const OC=K({name:"InsightsNavigation",emits:["create"],setup(){const{t:e}=ae(),t=Dn(),o=D(!1);return{navItems:E(()=>t.dashboards.map(d=>({icon:d.icon,name:d.name,to:`/insights/${d.id}`}))),createDialogActive:o,t:e}}});function PC(e,t,o,l,d,c){const i=u("v-button"),s=u("v-icon"),r=u("v-list-item-icon"),p=u("v-text-overflow"),f=u("v-list-item-content"),v=u("v-list-item"),_=u("v-list");return m(),F(_,{nav:""},{default:a(()=>[e.navItems.length===0?(m(),F(i,{key:0,"full-width":"",outlined:"",dashed:"",onClick:t[0]||(t[0]=y=>e.$emit("create"))},{default:a(()=>[O(h(e.t("create_dashboard")),1)]),_:1})):(m(!0),I(oe,{key:1},he(e.navItems,y=>(m(),F(v,{key:y.to,to:y.to},{default:a(()=>[n(r,null,{default:a(()=>[n(s,{name:y.icon},null,8,["name"])]),_:2},1024),n(f,null,{default:a(()=>[n(p,{text:y.name},null,8,["text"])]),_:2},1024)]),_:2},1032,["to"]))),128))]),_:1})}var da=q(OC,[["render",PC]]);const TC=K({name:"DashboardDialog",props:{modelValue:{type:Boolean,default:!1},dashboard:{type:Object,default:null}},emits:["update:modelValue"],setup(e,{emit:t}){var r,p,f,v,_,y;const{t:o}=ae(),l=Dn(),d=Bt({name:(p=(r=e.dashboard)==null?void 0:r.name)!=null?p:null,icon:(v=(f=e.dashboard)==null?void 0:f.icon)!=null?v:"dashboard",note:(y=(_=e.dashboard)==null?void 0:_.note)!=null?y:null});_e(()=>e.modelValue,(b,w)=>{var $,k,V,g,A,R;H.exports.isEqual(b,w)===!1&&(d.name=(k=($=e.dashboard)==null?void 0:$.name)!=null?k:null,d.icon=(g=(V=e.dashboard)==null?void 0:V.icon)!=null?g:"dashboard",d.note=(R=(A=e.dashboard)==null?void 0:A.note)!=null?R:null)});const c=D(!1);return{values:d,cancel:i,saving:c,save:s,t:o};function i(){t("update:modelValue",!1)}async function s(){c.value=!0;try{if(e.dashboard)await de.patch(`/dashboards/${e.dashboard.id}`,d,{params:{fields:["id"]}}),await l.hydrate();else{const b=await de.post("/dashboards",d,{params:{fields:["id"]}});await l.hydrate(),Tt.push(`/insights/${b.data.data.id}`)}t("update:modelValue",!1)}catch(b){Fe(b)}finally{c.value=!1}}}}),LC={class:"fields"};function jC(e,t,o,l,d,c){const i=u("v-card-title"),s=u("v-input"),r=u("interface-select-icon"),p=u("v-card-text"),f=u("v-button"),v=u("v-card-actions"),_=u("v-card"),y=u("v-dialog");return m(),F(y,{"model-value":e.modelValue,persistent:"","onUpdate:modelValue":t[3]||(t[3]=b=>e.$emit("update:modelValue",b)),onEsc:e.cancel},{activator:a(b=>[$e(e.$slots,"activator",Qe(Ze(b)),void 0,!0)]),default:a(()=>[n(_,null,{default:a(()=>[e.dashboard?(m(),F(i,{key:1},{default:a(()=>[O(h(e.t("edit_dashboard")),1)]),_:1})):(m(),F(i,{key:0},{default:a(()=>[O(h(e.t("create_dashboard")),1)]),_:1})),n(p,null,{default:a(()=>[S("div",LC,[n(s,{modelValue:e.values.name,"onUpdate:modelValue":t[0]||(t[0]=b=>e.values.name=b),autofocus:"",placeholder:e.t("dashboard_name")},null,8,["modelValue","placeholder"]),n(r,{value:e.values.icon,onInput:t[1]||(t[1]=b=>e.values.icon=b)},null,8,["value"]),n(s,{modelValue:e.values.note,"onUpdate:modelValue":t[2]||(t[2]=b=>e.values.note=b),class:"full",placeholder:e.t("note")},null,8,["modelValue","placeholder"])])]),_:1}),n(v,null,{default:a(()=>[n(f,{secondary:"",onClick:e.cancel},{default:a(()=>[O(h(e.t("cancel")),1)]),_:1},8,["onClick"]),n(f,{disabled:!e.values.name,loading:e.saving,onClick:e.save},{default:a(()=>[O(h(e.t("save")),1)]),_:1},8,["disabled","loading","onClick"])]),_:1})]),_:1})]),_:3},8,["model-value","onEsc"])}var RC=q(TC,[["render",jC],["__scopeId","data-v-35403a37"]]);function Vl(e){return us.sanitize(cs(e))}const MC=K({name:"InsightsOverview",components:{InsightsNavigation:da,DashboardDialog:RC},setup(){const{t:e}=ae(),t=Dn(),o=It(),l=D(null),d=D(!1),c=D(null),i=D(!1),s=E(()=>o.hasPermission("directus_dashboards","create")),r=[{text:"",value:"icon",width:42,sortable:!1},{text:e("name"),value:"name",width:240},{text:e("note"),value:"note",width:360}];return{dashboards:E(()=>t.dashboards),createAllowed:s,tableHeaders:r,navigateToDashboard:f,createDialogActive:i,confirmDelete:l,deletingDashboard:d,deleteDashboard:v,editDashboard:c,t:e,md:Vl};function f(_){Tt.push(`/insights/${_.id}`)}async function v(){if(!!l.value){d.value=!0;try{await de.delete(`/dashboards/${l.value}`),await t.hydrate(),l.value=null}catch(_){Fe(_)}finally{d.value=!1}}}}}),UC={class:"page-description"};function NC(e,t,o,l,d,c){const i=u("v-icon"),s=u("v-button"),r=u("insights-navigation"),p=u("dashboard-dialog"),f=u("sidebar-detail"),v=u("v-list-item-icon"),_=u("v-list-item-content"),y=u("v-list-item"),b=u("v-list"),w=u("v-menu"),$=u("v-table"),k=u("v-info"),V=u("v-card-title"),g=u("v-card-actions"),A=u("v-card"),R=u("v-dialog"),L=u("private-view"),M=Ce("tooltip"),T=Ce("md");return m(),F(L,{title:e.t("insights")},{"title-outer:prepend":a(()=>[n(s,{class:"header-icon",rounded:"",disabled:"",icon:"",secondary:""},{default:a(()=>[n(i,{name:"insights"})]),_:1})]),navigation:a(()=>[n(r,{onCreate:t[0]||(t[0]=U=>e.createDialogActive=!0)})]),actions:a(()=>[n(p,{modelValue:e.createDialogActive,"onUpdate:modelValue":t[1]||(t[1]=U=>e.createDialogActive=U)},{activator:a(({on:U})=>[te(n(s,{rounded:"",icon:"",disabled:e.createAllowed===!1,onClick:U},{default:a(()=>[n(i,{name:"add"})]),_:2},1032,["disabled","onClick"]),[[M,e.createAllowed?e.t("create_dashboard"):e.t("not_allowed"),void 0,{bottom:!0}]])]),_:1},8,["modelValue"])]),sidebar:a(()=>[n(f,{icon:"info_outline",title:e.t("information"),close:""},{default:a(()=>[te(S("div",UC,null,512),[[T,e.t("page_help_insights_overview")]])]),_:1},8,["title"])]),default:a(()=>[e.dashboards.length>0?(m(),F($,{key:0,headers:e.tableHeaders,"onUpdate:headers":t[2]||(t[2]=U=>e.tableHeaders=U),items:e.dashboards,"show-resize":"","fixed-header":"","onClick:row":e.navigateToDashboard},{["item.icon"]:a(({item:U})=>[n(i,{class:"icon",name:U.icon},null,8,["name"])]),"item-append":a(({item:U})=>[n(w,{placement:"left-start","show-arrow":""},{activator:a(({toggle:B})=>[n(i,{name:"more_vert",class:"ctx-toggle",onClick:B},null,8,["onClick"])]),default:a(()=>[n(b,null,{default:a(()=>[n(y,{class:"warning",clickable:"",onClick:B=>e.editDashboard=U},{default:a(()=>[n(v,null,{default:a(()=>[n(i,{name:"edit",outline:""})]),_:1}),n(_,null,{default:a(()=>[O(h(e.t("edit_dashboard")),1)]),_:1})]),_:2},1032,["onClick"]),n(y,{class:"danger",clickable:"",onClick:B=>e.confirmDelete=U.id},{default:a(()=>[n(v,null,{default:a(()=>[n(i,{name:"delete",outline:""})]),_:1}),n(_,null,{default:a(()=>[O(h(e.t("delete_dashboard")),1)]),_:1})]),_:2},1032,["onClick"])]),_:2},1024)]),_:2},1024)]),_:2},1032,["headers","items","onClick:row"])):(m(),F(k,{key:1,icon:"dashboard",title:e.t("no_dashboards"),center:""},{default:a(()=>[O(h(e.t("no_dashboards_copy")),1)]),_:1},8,["title"])),n(R,{"model-value":!!e.confirmDelete,onEsc:t[4]||(t[4]=U=>e.confirmDelete=null)},{default:a(()=>[n(A,null,{default:a(()=>[n(V,null,{default:a(()=>[O(h(e.t("dashboard_delete_confirm")),1)]),_:1}),n(g,null,{default:a(()=>[n(s,{secondary:"",onClick:t[3]||(t[3]=U=>e.confirmDelete=null)},{default:a(()=>[O(h(e.t("cancel")),1)]),_:1}),n(s,{danger:"",loading:e.deletingDashboard,onClick:e.deleteDashboard},{default:a(()=>[O(h(e.t("delete_label")),1)]),_:1},8,["loading","onClick"])]),_:1})]),_:1})]),_:1},8,["model-value"]),n(p,{"model-value":!!e.editDashboard,dashboard:e.editDashboard,"onUpdate:modelValue":t[5]||(t[5]=U=>e.editDashboard=null)},null,8,["model-value","dashboard"])]),_:1},8,["title"])}var BC=q(MC,[["render",NC],["__scopeId","data-v-17ccd6a6"]]);const qC=K({components:{InsightsNavigation:da},setup(){const{t:e}=ae();return{t:e}}}),zC={key:0,class:"not-found"};function KC(e,t,o,l,d,c){const i=u("insights-navigation"),s=u("v-info"),r=u("private-view");return m(),F(r,{title:e.t("insights")},{navigation:a(()=>[n(i)]),default:a(()=>[e.currentDashboard?N("",!0):(m(),I("div",zC,[n(s,{title:e.t("page_not_found"),icon:"not_interested"},{default:a(()=>[O(h(e.t("page_not_found_body")),1)]),_:1},8,["title"])]))]),_:1},8,["title"])}var WC=q(qC,[["render",KC],["__scopeId","data-v-d6310128"]]);function El(e,t,o){const[l,d]=e,[c,i]=t,[s,r]=o,p=l-c,f=d-i,v=s-c,_=r-i;return p*_-f*v!==0?!1:Math.abs(v)>=Math.abs(_)?v>0?c<=l&&l<=s:s<=l&&l<=c:_>0?i<=d&&d<=r:r<=d&&d<=i}const HC=K({name:"Panel",props:{panel:{type:Object,required:!0},editMode:{type:Boolean,default:!1},now:{type:Date,required:!0}},emits:["update","move","duplicate","delete"],setup(e,{emit:t}){const{t:o}=ae(),{panels:l}=yl(),d=E(()=>l.value.find(b=>b.id===e.panel.type)),c=Bt({position_x:void 0,position_y:void 0,width:void 0,height:void 0}),{onPointerDown:i,onPointerUp:s,onPointerMove:r,dragging:p}=y(),f=E(()=>{var b,w,$,k;return p.value?{x:(b=c.position_x)!=null?b:e.panel.position_x,y:(w=c.position_y)!=null?w:e.panel.position_y,width:($=c.width)!=null?$:e.panel.width,height:(k=c.height)!=null?k:e.panel.height}:{x:e.panel.position_x,y:e.panel.position_y,width:e.panel.width,height:e.panel.height}}),v=E(()=>{var b,w,$,k;return p.value?{"--pos-x":(b=c.position_x)!=null?b:e.panel.position_x,"--pos-y":(w=c.position_y)!=null?w:e.panel.position_y,"--width":($=c.width)!=null?$:e.panel.width,"--height":(k=c.height)!=null?k:e.panel.height}:{"--pos-x":e.panel.position_x,"--pos-y":e.panel.position_y,"--width":e.panel.width,"--height":e.panel.height}}),_=E(()=>({"--v-icon-color":e.panel.color}));return{positioning:f,positionStyling:v,iconColor:_,onPointerDown:i,onPointerUp:s,onPointerMove:r,dragging:p,editedPosition:c,t:o,omit:H.exports.omit};function y(){const b=D(!1);let w=0,$=0,k=0,V=0,g=0,A=0,R="move";const L=H.exports.throttle(U=>{var Q,G;if(e.editMode===!1||b.value===!1)return;const B=U.pageX-w,z=U.pageY-$,W=Math.round(B/20),J=Math.round(z/20);if(R==="move")c.position_x=k+W,c.position_y=V+J,c.position_x<1&&(c.position_x=1),c.position_y<1&&(c.position_y=1);else{R.includes("top")&&(c.height=A-J,c.position_y=V+J),R.includes("right")&&(c.width=g+W),R.includes("bottom")&&(c.height=A+J),R.includes("left")&&(c.width=g-W,c.position_x=k+W);const x=((Q=d.value)==null?void 0:Q.minWidth)||6,ee=((G=d.value)==null?void 0:G.minHeight)||6;c.position_x&&c.position_x<1&&(c.position_x=1),c.position_y&&c.position_y<1&&(c.position_y=1),c.width&&c.width<x&&(c.width=x),c.height&&c.height<ee&&(c.height=ee)}},20);return{dragging:b,onPointerDown:M,onPointerUp:T,onPointerMove:L};function M(U,B){e.editMode!==!1&&(R=U,b.value=!0,w=B.pageX,$=B.pageY,k=e.panel.position_x,V=e.panel.position_y,g=e.panel.width,A=e.panel.height,window.addEventListener("pointerup",T),window.addEventListener("pointermove",L))}function T(){b.value=!1,e.editMode!==!1&&(t("update",c),window.removeEventListener("pointerup",T),window.removeEventListener("pointermove",L),c.position_x=void 0,c.position_y=void 0,c.width=void 0,c.height=void 0)}}}}),GC=e=>(He("data-v-b67ef59a"),e=e(),Ge(),e),QC={key:0,class:"header"},XC=GC(()=>S("div",{class:"spacer"},null,-1)),JC={class:"resize-details"},YC={key:2,class:"resize-handlers"};function ZC(e,t,o,l,d,c){const i=u("v-icon"),s=u("v-text-overflow"),r=u("v-list-item-icon"),p=u("v-list-item-content"),f=u("v-list-item"),v=u("v-list"),_=u("v-menu"),y=Ce("tooltip");return m(),I("div",{class:re(["panel",{editing:e.editMode,dragging:e.dragging,"br-tl":e.dragging||e.panel.borderRadius[0],"br-tr":e.dragging||e.panel.borderRadius[1],"br-br":e.dragging||e.panel.borderRadius[2],"br-bl":e.dragging||e.panel.borderRadius[3]}]),style:Ke(e.positionStyling),"data-move":"",onPointerdown:t[13]||(t[13]=b=>e.onPointerDown("move",b))},[e.panel.show_header?(m(),I("div",QC,[n(i,{class:"icon",style:Ke(e.iconColor),name:e.panel.icon},null,8,["style","name"]),n(s,{class:"name selectable",text:e.panel.name||""},null,8,["text"]),XC,e.panel.note?te((m(),F(i,{key:0,class:"note",name:"info"},null,512)),[[y,e.panel.note]]):N("",!0)])):N("",!0),e.editMode?(m(),I("div",{key:1,class:"edit-actions",onPointerdown:t[4]||(t[4]=Ie(()=>{},["stop"]))},[te(n(i,{class:"edit-icon",name:"edit",clickable:"",onClick:t[0]||(t[0]=Ie(b=>e.$router.push(`/insights/${e.panel.dashboard}/${e.panel.id}`),["stop"]))},null,512),[[y,e.t("edit")]]),n(_,{placement:"bottom-end","show-arrow":""},{activator:a(({toggle:b})=>[n(i,{class:"more-icon",name:"more_vert",clickable:"",onClick:b},null,8,["onClick"])]),default:a(()=>[n(v,null,{default:a(()=>[n(f,{clickable:"",disabled:e.panel.id.startsWith("_"),onClick:t[1]||(t[1]=b=>e.$emit("move"))},{default:a(()=>[n(r,null,{default:a(()=>[n(i,{class:"move-icon",name:"input"})]),_:1}),n(p,null,{default:a(()=>[O(h(e.t("copy_to")),1)]),_:1})]),_:1},8,["disabled"]),n(f,{clickable:"",onClick:t[2]||(t[2]=b=>e.$emit("duplicate"))},{default:a(()=>[n(r,null,{default:a(()=>[n(i,{name:"control_point_duplicate"})]),_:1}),n(p,null,{default:a(()=>[O(h(e.t("duplicate")),1)]),_:1})]),_:1}),n(f,{class:"delete-action",clickable:"",onClick:t[3]||(t[3]=b=>e.$emit("delete"))},{default:a(()=>[n(r,null,{default:a(()=>[n(i,{name:"delete"})]),_:1}),n(p,null,{default:a(()=>[O(h(e.t("delete_panel")),1)]),_:1})]),_:1})]),_:1})]),_:1})],32)):N("",!0),S("div",JC," ("+h(e.positioning.x-1)+":"+h(e.positioning.y-1)+") "+h(e.positioning.width)+"\xD7"+h(e.positioning.height),1),e.editMode?(m(),I("div",YC,[S("div",{class:"top",onPointerdown:t[5]||(t[5]=Ie(b=>e.onPointerDown("resize-top",b),["stop"]))},null,32),S("div",{class:"right",onPointerdown:t[6]||(t[6]=Ie(b=>e.onPointerDown("resize-right",b),["stop"]))},null,32),S("div",{class:"bottom",onPointerdown:t[7]||(t[7]=Ie(b=>e.onPointerDown("resize-bottom",b),["stop"]))},null,32),S("div",{class:"left",onPointerdown:t[8]||(t[8]=Ie(b=>e.onPointerDown("resize-left",b),["stop"]))},null,32),S("div",{class:"top-left",onPointerdown:t[9]||(t[9]=Ie(b=>e.onPointerDown("resize-top-left",b),["stop"]))},null,32),S("div",{class:"top-right",onPointerdown:t[10]||(t[10]=Ie(b=>e.onPointerDown("resize-top-right",b),["stop"]))},null,32),S("div",{class:"bottom-right",onPointerdown:t[11]||(t[11]=Ie(b=>e.onPointerDown("resize-bottom-right",b),["stop"]))},null,32),S("div",{class:"bottom-left",onPointerdown:t[12]||(t[12]=Ie(b=>e.onPointerDown("resize-bottom-left",b),["stop"]))},null,32)])):N("",!0),S("div",{class:re(["panel-content",{"has-header":e.panel.show_header}])},[(m(),F(Ue(`panel-${e.panel.type}`),ct(e.panel.options,{id:e.panel.id,"show-header":e.panel.show_header,height:e.panel.height,width:e.panel.width,dashboard:e.panel.dashboard,now:e.now}),null,16,["id","show-header","height","width","dashboard","now"]))],2)],38)}var xC=q(HC,[["render",ZC],["__scopeId","data-v-b67ef59a"]]);function wo(e){return e==null||e===void 0}function Mt(e){return e!=null}function xn(e){const t=D(0),o=D(0),l=new ResizeObserver(([d])=>{t.value=d.contentRect.width,o.value=d.contentRect.height});return rt(()=>{const d=Bl(e)?e.value:e;Mt(d)&&l.observe(d)}),Ct(()=>{l.disconnect()}),{width:t,height:o}}const eS=K({name:"InsightsWorkspace",components:{InsightsPanel:xC},props:{panels:{type:Array,required:!0},editMode:{type:Boolean,default:!1},zoomToFit:{type:Boolean,default:!1},now:{type:Date,required:!0}},emits:["update","move","delete","duplicate"],setup(e){const t=ht("main-element",D()),o=xn(t),l=E(()=>{var r;return Number(((r=s("--content-padding"))==null?void 0:r.slice(0,-2))||0)}),d=E(()=>{const r=e.panels.reduce((f,v)=>(v.position_x>f.position_x&&(f.position_x=v.position_x,f.width=v.width),f),{position_x:0,width:0}),p=e.panels.reduce((f,v)=>(v.position_y>f.position_y&&(f.position_y=v.position_y,f.height=v.height),f),{position_y:0,height:0});return e.editMode===!0?{width:(r.position_x+r.width+25)*20,height:(p.position_y+p.height+25)*20}:{width:(r.position_x+r.width-1)*20,height:(p.position_y+p.height-1)*20}}),c=E(()=>{if(e.zoomToFit===!1)return 1;const{width:r,height:p}=o,f=(r.value-l.value*2)/d.value.width,v=(p.value-114-l.value*2)/d.value.height;return Math.min(f,v)}),i=E(()=>({width:d.value.width*c.value+l.value*2,height:d.value.height*c.value+l.value*2}));return{workspaceSize:d,workspaceBoxSize:i,mainElement:t,zoomScale:c};function s(r){if(!!t.value)return getComputedStyle(t.value).getPropertyValue(r).trim()}}});function tS(e,t,o,l,d,c){const i=u("insights-panel");return m(),I("div",{class:re(["workspace-padding-box",{editing:e.editMode}]),style:Ke({width:e.workspaceBoxSize.width+"px",height:e.workspaceBoxSize.height+"px"})},[S("div",{class:"workspace",style:Ke({transform:`scale(${e.zoomScale})`,width:e.workspaceSize.width+"px",height:e.workspaceSize.height+"px"})},[(m(!0),I(oe,null,he(e.panels,s=>(m(),F(i,{key:s.id,panel:s,"edit-mode":e.editMode,now:e.now,onUpdate:r=>e.$emit("update",{edits:r,id:s.id}),onMove:r=>e.$emit("move",s.id),onDelete:r=>e.$emit("delete",s.id),onDuplicate:r=>e.$emit("duplicate",s)},null,8,["panel","edit-mode","now","onUpdate","onMove","onDelete","onDuplicate"]))),128))],4)],6)}var nS=q(eS,[["render",tS],["__scopeId","data-v-ffa0afd4"]]);const lS=K({name:"InsightsDashboard",components:{InsightsNotFound:WC,InsightsNavigation:da,InsightsWorkspace:nS},props:{primaryKey:{type:String,required:!0},panelKey:{type:String,default:null}},setup(e){var x;const{t}=ae(),o=Dn(),l=$t(),{fullScreen:d}=Re(l),c=D(!1),i=D(!1),s=D(!1),r=D((x=o.dashboards.find(ee=>ee.id!==e.primaryKey))==null?void 0:x.id),p=D(),f=D(!1);tt("meta+s",()=>{M()}),_e(c,ee=>{ee?(f.value=!1,window.onbeforeunload=()=>""):window.onbeforeunload=null});const v=E(()=>o.dashboards.find(ee=>ee.id===e.primaryKey)),_=E(()=>o.dashboards.filter(ee=>ee.id!==e.primaryKey)),y=D([]),b=D([]),w=new Date,$=E(()=>{var Y;const ie=[...(((Y=v.value)==null?void 0:Y.panels)||[]).filter(Z=>b.value.includes(Z.id)===!1).map(Z=>{const se=y.value.find(le=>le.id===Z.id);return se?H.exports.merge({},Z,se):Z}),...y.value.filter(Z=>{var se;return(se=Z.id)==null?void 0:se.startsWith("_")})].map(Z=>ye(X({},Z),{_coordinates:[[Z.position_x,Z.position_y],[Z.position_x+Z.width,Z.position_y],[Z.position_x+Z.width,Z.position_y+Z.height],[Z.position_x,Z.position_y+Z.height]]}));return ie.map(Z=>{let se=!1,le=!1,ce=!1,ve=!1;for(const ue of ie){if(ue.id===Z.id)continue;const ge=[[ue._coordinates[0],ue._coordinates[1]],[ue._coordinates[1],ue._coordinates[2]],[ue._coordinates[2],ue._coordinates[3]],[ue._coordinates[3],ue._coordinates[0]]];se===!1&&(se=ge.some(([fe,me])=>El(Z._coordinates[0],fe,me))),le===!1&&(le=ge.some(([fe,me])=>El(Z._coordinates[1],fe,me))),ce===!1&&(ce=ge.some(([fe,me])=>El(Z._coordinates[2],fe,me))),ve===!1&&(ve=ge.some(([fe,me])=>El(Z._coordinates[3],fe,me)))}return ye(X({},Z),{borderRadius:[!se,!le,!ce,!ve]})})}),k=D(!1),V=D(!1),g=D(null),A=ee=>{const ne=b.value.length>0||y.value.length>0;if(c.value&&ee.params.primaryKey!==e.primaryKey){if(ne)return V.value=!0,g.value=ee.fullPath,!1;c.value=!1}};return Ot(A),At(A),{currentDashboard:v,editMode:c,panels:$,stagePanelEdits:R,stagedPanels:y,saving:i,saveChanges:M,stageConfiguration:L,movePanelID:p,movePanel:G,deletePanel:T,attemptCancelChanges:U,duplicatePanel:W,movePanelLoading:s,t,toggleFullScreen:J,zoomToFit:f,fullScreen:d,toggleZoomToFit:Q,md:Vl,movePanelChoices:_,movePanelTo:r,confirmLeave:V,discardAndLeave:z,now:w,confirmCancel:k,cancelChanges:B};function R(ee){var ie;const ne=(ie=ee.id)!=null?ie:e.panelKey;ne==="+"?y.value=[...y.value,X({id:`_${bt()}`,dashboard:e.primaryKey},ee.edits)]:y.value.some(pe=>pe.id===ne)?y.value=y.value.map(pe=>pe.id===ne?H.exports.merge({id:ne,dashboard:e.primaryKey},pe,ee.edits):pe):y.value=[...y.value,X({id:ne,dashboard:e.primaryKey},ee.edits)]}function L(ee){R({edits:ee}),Tt.push(`/insights/${e.primaryKey}`)}async function M(){if(!v.value)return;if(y.value.length===0&&b.value.length===0){c.value=!1;return}i.value=!0;const ne=[...v.value.panels.map(ie=>ie.id).map(ie=>y.value.find(pe=>pe.id===ie)||ie),...y.value.filter(ie=>{var pe;return(pe=ie.id)==null?void 0:pe.startsWith("_")}).map(ie=>H.exports.omit(ie,"id"))];try{y.value.length>0&&await de.patch(`/dashboards/${e.primaryKey}`,{panels:ne}),b.value.length>0&&await de.delete("/panels",{data:b.value}),await o.hydrate(),y.value=[],c.value=!1}catch(ie){Fe(ie)}finally{i.value=!1}}async function T(ee){!v.value||(y.value=y.value.filter(ne=>ne.id!==ee),ee.startsWith("_")===!1&&b.value.push(ee))}function U(){y.value.length>0||b.value.length>0?k.value=!0:B()}function B(){k.value=!1,y.value=[],b.value=[],c.value=!1}function z(){!g.value||(B(),V.value=!1,Tt.push(g.value))}function W(ee){const ne=H.exports.omit(H.exports.merge({},ee),"id");ne.position_x=ne.position_x+2,ne.position_y=ne.position_y+2,R({edits:ne,id:"+"})}function J(){d.value=!d.value}function Q(){f.value=!f.value}async function G(){s.value=!0;const ee=$.value.find(ne=>ne.id===p.value);try{await de.post("/panels",ye(X({},H.exports.omit(ee,["id"])),{dashboard:r.value})),await o.hydrate(),p.value=null}catch(ne){Fe(ne)}finally{s.value=!1}}}}),aS={class:"page-description"};function oS(e,t,o,l,d,c){const i=u("insights-not-found"),s=u("v-icon"),r=u("v-button"),p=u("v-breadcrumb"),f=u("sidebar-detail"),v=u("insights-navigation"),_=u("insights-workspace"),y=u("router-view"),b=u("v-card-title"),w=u("v-notice"),$=u("v-select"),k=u("v-card-text"),V=u("v-card-actions"),g=u("v-card"),A=u("v-dialog"),R=u("private-view"),L=Ce("tooltip"),M=Ce("md");return e.currentDashboard?(m(),F(R,{key:1,title:e.currentDashboard.name},{"title-outer:prepend":a(()=>[n(r,{class:"header-icon",rounded:"",disabled:"",icon:"",secondary:""},{default:a(()=>[n(s,{name:e.currentDashboard.icon},null,8,["name"])]),_:1})]),headline:a(()=>[n(p,{items:[{name:e.t("insights"),to:"/insights"}]},null,8,["items"])]),actions:a(()=>[e.editMode?(m(),I(oe,{key:0},[te(n(r,{class:"clear-changes",rounded:"",icon:"",outlined:"",onClick:e.attemptCancelChanges},{default:a(()=>[n(s,{name:"clear"})]),_:1},8,["onClick"]),[[L,e.t("clear_changes"),void 0,{bottom:!0}]]),te(n(r,{rounded:"",icon:"",outlined:"",to:`/insights/${e.currentDashboard.id}/+`},{default:a(()=>[n(s,{name:"add"})]),_:1},8,["to"]),[[L,e.t("create_panel"),void 0,{bottom:!0}]]),te(n(r,{rounded:"",icon:"",loading:e.saving,onClick:e.saveChanges},{default:a(()=>[n(s,{name:"check"})]),_:1},8,["loading","onClick"]),[[L,e.t("save"),void 0,{bottom:!0}]])],64)):(m(),I(oe,{key:1},[te(n(r,{active:e.zoomToFit,class:"zoom-to-fit",rounded:"",icon:"",outlined:"",onClick:e.toggleZoomToFit},{default:a(()=>[n(s,{name:"aspect_ratio"})]),_:1},8,["active","onClick"]),[[L,e.t("fit_to_screen"),void 0,{bottom:!0}]]),te(n(r,{active:e.fullScreen,class:"fullscreen",rounded:"",icon:"",outlined:"",onClick:e.toggleFullScreen},{default:a(()=>[n(s,{name:"fullscreen"})]),_:1},8,["active","onClick"]),[[L,e.t("full_screen"),void 0,{bottom:!0}]]),te(n(r,{rounded:"",icon:"",outlined:"",onClick:t[0]||(t[0]=T=>e.editMode=!e.editMode)},{default:a(()=>[n(s,{name:"edit"})]),_:1},512),[[L,e.t("edit_panels"),void 0,{bottom:!0}]])],64))]),sidebar:a(()=>[n(f,{icon:"info_outline",title:e.t("information"),close:""},{default:a(()=>[te(S("div",aS,null,512),[[M,e.t("page_help_insights_dashboard")]])]),_:1},8,["title"])]),navigation:a(()=>[n(v)]),default:a(()=>[n(_,{"edit-mode":e.editMode,panels:e.panels,"zoom-to-fit":e.zoomToFit,now:e.now,onUpdate:e.stagePanelEdits,onMove:t[1]||(t[1]=T=>e.movePanelID=T),onDelete:e.deletePanel,onDuplicate:e.duplicatePanel},null,8,["edit-mode","panels","zoom-to-fit","now","onUpdate","onDelete","onDuplicate"]),n(y,{name:"detail","dashboard-key":e.primaryKey,panel:e.panelKey?e.panels.find(T=>T.id===e.panelKey):null,onSave:e.stageConfiguration,onCancel:t[2]||(t[2]=T=>e.$router.push(`/insights/${e.primaryKey}`))},null,8,["dashboard-key","panel","onSave"]),n(A,{"model-value":!!e.movePanelID,"onUpdate:modelValue":t[5]||(t[5]=T=>e.movePanelID=null),onEsc:t[6]||(t[6]=T=>e.movePanelID=null)},{default:a(()=>[n(g,null,{default:a(()=>[n(b,null,{default:a(()=>[O(h(e.t("copy_to")),1)]),_:1}),n(k,null,{default:a(()=>[e.movePanelChoices.length===0?(m(),F(w,{key:0},{default:a(()=>[O(h(e.t("no_other_dashboards_copy")),1)]),_:1})):(m(),F($,{key:1,modelValue:e.movePanelTo,"onUpdate:modelValue":t[3]||(t[3]=T=>e.movePanelTo=T),items:e.movePanelChoices,"item-text":"name","item-value":"id"},null,8,["modelValue","items"]))]),_:1}),n(V,null,{default:a(()=>[n(r,{secondary:"",onClick:t[4]||(t[4]=T=>e.movePanelID=null)},{default:a(()=>[O(h(e.t("cancel")),1)]),_:1}),n(r,{loading:e.movePanelLoading,onClick:e.movePanel},{default:a(()=>[O(h(e.t("copy")),1)]),_:1},8,["loading","onClick"])]),_:1})]),_:1})]),_:1},8,["model-value"]),n(A,{modelValue:e.confirmLeave,"onUpdate:modelValue":t[8]||(t[8]=T=>e.confirmLeave=T),onEsc:t[9]||(t[9]=T=>e.confirmLeave=!1)},{default:a(()=>[n(g,null,{default:a(()=>[n(b,null,{default:a(()=>[O(h(e.t("unsaved_changes")),1)]),_:1}),n(k,null,{default:a(()=>[O(h(e.t("unsaved_changes_copy")),1)]),_:1}),n(V,null,{default:a(()=>[n(r,{secondary:"",onClick:e.discardAndLeave},{default:a(()=>[O(h(e.t("discard_changes")),1)]),_:1},8,["onClick"]),n(r,{onClick:t[7]||(t[7]=T=>e.confirmLeave=!1)},{default:a(()=>[O(h(e.t("keep_editing")),1)]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"]),n(A,{modelValue:e.confirmCancel,"onUpdate:modelValue":t[11]||(t[11]=T=>e.confirmCancel=T),onEsc:t[12]||(t[12]=T=>e.confirmCancel=!1)},{default:a(()=>[n(g,null,{default:a(()=>[n(b,null,{default:a(()=>[O(h(e.t("unsaved_changes")),1)]),_:1}),n(k,null,{default:a(()=>[O(h(e.t("discard_changes_copy")),1)]),_:1}),n(V,null,{default:a(()=>[n(r,{secondary:"",onClick:e.cancelChanges},{default:a(()=>[O(h(e.t("discard_changes")),1)]),_:1},8,["onClick"]),n(r,{onClick:t[10]||(t[10]=T=>e.confirmCancel=!1)},{default:a(()=>[O(h(e.t("keep_editing")),1)]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1},8,["title"])):(m(),F(i,{key:0}))}var iS=q(lS,[["render",oS],["__scopeId","data-v-9862e046"]]);const sS=K({name:"PanelConfiguration",props:{panel:{type:Object,default:null}},emits:["cancel","save"],setup(e,{emit:t}){var p,f,v,_,y,b,w,$,k,V,g,A,R,L,M,T,U,B,z;const{t:o}=ae(),{panels:l}=yl(),d=un(),c=Bt({show_header:(f=(p=e.panel)==null?void 0:p.show_header)!=null?f:!0,type:((v=e.panel)==null?void 0:v.type)||void 0,name:(_=e.panel)==null?void 0:_.name,note:(y=e.panel)==null?void 0:y.note,icon:(w=(b=e.panel)==null?void 0:b.icon)!=null?w:"insert_chart",color:(k=($=e.panel)==null?void 0:$.color)!=null?k:"#00C897",width:(g=(V=e.panel)==null?void 0:V.width)!=null?g:void 0,height:(R=(A=e.panel)==null?void 0:A.height)!=null?R:void 0,position_x:(M=(L=e.panel)==null?void 0:L.position_x)!=null?M:1,position_y:(U=(T=e.panel)==null?void 0:T.position_y)!=null?U:1,options:(z=(B=e.panel)==null?void 0:B.options)!=null?z:{}}),i=E(()=>l.value.map(W=>({text:W.name,icon:W.icon,description:W.description,value:W.id}))),s=E(()=>l.value.find(W=>W.id===c.type));return _e(s,W=>{W?(c.width=W.minWidth,c.height=W.minHeight):(c.width=void 0,c.height=void 0)}),{selectItems:i,selectedPanel:s,close,emitSave:r,edits:c,t:o,isOpen:d};function r(){t("save",c)}}}),rS={class:"content"},dS={class:"type-label panel-type-label"},uS={class:"form-grid"},cS={class:"field half-left"},pS={class:"type-label"},mS={class:"field half-right"},fS={class:"type-label"},_S={class:"field half-left"},vS={class:"type-label"},yS={class:"field half-right"},gS={class:"type-label"},hS={class:"field full"},bS={class:"type-label"};function $S(e,t,o,l,d,c){var V,g;const i=u("v-icon"),s=u("v-button"),r=u("v-fancy-select"),p=u("v-notice"),f=u("v-form"),v=u("v-divider"),_=u("v-checkbox"),y=u("v-input"),b=u("interface-select-icon"),w=u("interface-select-color"),$=u("v-drawer"),k=Ce("tooltip");return m(),F($,{"model-value":e.isOpen,title:((V=e.panel)==null?void 0:V.name)||e.t("panel"),subtitle:e.t("panel_options"),icon:((g=e.panel)==null?void 0:g.icon)||"insert_chart",persistent:"",onCancel:t[8]||(t[8]=A=>e.$emit("cancel"))},{actions:a(()=>[te(n(s,{disabled:!e.edits.type,icon:"",rounded:"",onClick:e.emitSave},{default:a(()=>[n(i,{name:"check"})]),_:1},8,["disabled","onClick"]),[[k,e.t("done"),void 0,{bottom:!0}]])]),default:a(()=>[S("div",rS,[S("p",dS,h(e.t("type")),1),n(r,{modelValue:e.edits.type,"onUpdate:modelValue":t[0]||(t[0]=A=>e.edits.type=A),class:"select",items:e.selectItems},null,8,["modelValue","items"]),e.edits.type&&e.selectedPanel?(m(),I(oe,{key:0},[!e.selectedPanel.options||e.selectedPanel.options.length===0?(m(),F(p,{key:0},{default:a(()=>[O(h(e.t("no_options_available")),1)]),_:1})):Array.isArray(e.selectedPanel.options)?(m(),F(f,{key:1,modelValue:e.edits.options,"onUpdate:modelValue":t[1]||(t[1]=A=>e.edits.options=A),fields:e.selectedPanel.options,"primary-key":"+","initial-values":e.panel&&e.panel.options},null,8,["modelValue","fields","initial-values"])):(m(),F(Ue(`panel-options-${e.selectedPanel.id}`),{key:2,modelValue:e.edits.options,"onUpdate:modelValue":t[2]||(t[2]=A=>e.edits.options=A),collection:e.collection},null,8,["modelValue","collection"]))],64)):N("",!0),n(v,{"inline-title":!1,large:""},{icon:a(()=>[n(i,{name:"info"})]),default:a(()=>[O(h(e.t("panel_header")),1)]),_:1}),S("div",uS,[S("div",cS,[S("p",pS,h(e.t("visible")),1),n(_,{modelValue:e.edits.show_header,"onUpdate:modelValue":t[3]||(t[3]=A=>e.edits.show_header=A),block:"",label:e.t("show_header")},null,8,["modelValue","label"])]),S("div",mS,[S("p",fS,h(e.t("name")),1),n(y,{modelValue:e.edits.name,"onUpdate:modelValue":t[4]||(t[4]=A=>e.edits.name=A),nullable:!1,disabled:e.edits.show_header!==!0,placeholder:e.t("panel_name_placeholder")},null,8,["modelValue","disabled","placeholder"])]),S("div",_S,[S("p",vS,h(e.t("icon")),1),n(b,{value:e.edits.icon,disabled:e.edits.show_header!==!0,onInput:t[5]||(t[5]=A=>e.edits.icon=A)},null,8,["value","disabled"])]),S("div",yS,[S("p",gS,h(e.t("color")),1),n(w,{value:e.edits.color,disabled:e.edits.show_header!==!0,width:"half",onInput:t[6]||(t[6]=A=>e.edits.color=A)},null,8,["value","disabled"])]),S("div",hS,[S("p",bS,h(e.t("note")),1),n(y,{modelValue:e.edits.note,"onUpdate:modelValue":t[7]||(t[7]=A=>e.edits.note=A),disabled:e.edits.show_header!==!0,placeholder:e.t("panel_note_placeholder")},null,8,["modelValue","disabled","placeholder"])])])])]),_:1},8,["model-value","title","subtitle","icon"])}var kS=q(sS,[["render",$S],["__scopeId","data-v-42a9e66e"]]),wS=on({id:"insights",name:"$t:insights",icon:"insights",routes:[{name:"insights-overview",path:"",component:BC},{name:"insights-dashboard",path:":primaryKey",component:iS,props:!0,children:[{name:"panel-detail",path:":panelKey",props:!0,components:{detail:kS}}]}],preRegisterCheck(e,t){return e.role.admin_access?!0:!!t.find(d=>d.collection==="directus_dashboards"&&d.action==="read")}}),CS=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:wS});function Co(){const e=D(),t=D(!1),o=D(),l=E(()=>e.value?{directus:{version:e.value.directus.version},node:{version:e.value.node.version,uptime:Ha(e.value.node.uptime*1e3)},os:{type:e.value.os.type,version:e.value.os.version,uptime:Ha(e.value.os.uptime*1e3),totalmem:ps(e.value.os.totalmem)}}:null);return e.value||d(),{info:e,parsedInfo:l,loading:t,error:o};async function d(){t.value=!0,o.value=null;try{const c=await de.get("/server/info");e.value=c.data.data}catch(c){o.value=c}finally{t.value=!1}}}const SS=K({setup(){const{t:e}=ae(),{parsedInfo:t}=Co(),o=[{icon:"public",name:e("settings_project"),to:"/settings/project"},{icon:"list_alt",name:e("settings_data_model"),to:"/settings/data-model"},{icon:"admin_panel_settings",name:e("settings_permissions"),to:"/settings/roles",outline:!0},{icon:"bookmark_border",name:e("settings_presets"),to:"/settings/presets"},{icon:"anchor",name:e("settings_webhooks"),to:"/settings/webhooks"}],l=E(()=>{var c,i,s,r,p,f,v,_;const d=new URLSearchParams({template:"bug_report.yml","directus-version":(i=(c=t.value)==null?void 0:c.directus.version)!=null?i:"","node-version":(r=(s=t.value)==null?void 0:s.node.version)!=null?r:"","operating-system":`${(f=(p=t.value)==null?void 0:p.os.type)!=null?f:""} ${(_=(v=t.value)==null?void 0:v.os.version)!=null?_:""}`});return[{icon:"bug_report",name:e("report_bug"),href:`https://github.com/directus/directus/issues/new?${d.toString()}`,outline:!0},{icon:"new_releases",name:e("request_feature"),href:"https://github.com/directus/directus/discussions/new",outline:!0}]});return{version:xa,navItems:o,externalItems:l}}});function FS(e,t,o,l,d,c){const i=u("v-icon"),s=u("v-list-item-icon"),r=u("v-text-overflow"),p=u("v-list-item-content"),f=u("v-list-item"),v=u("v-divider"),_=u("v-list");return m(),F(_,{nav:""},{default:a(()=>[(m(!0),I(oe,null,he(e.navItems,y=>(m(),F(f,{key:y.to,to:y.to},{default:a(()=>[n(s,null,{default:a(()=>[n(i,{name:y.icon},null,8,["name"])]),_:2},1024),n(p,null,{default:a(()=>[n(r,{text:y.name},null,8,["text"])]),_:2},1024)]),_:2},1032,["to"]))),128)),n(v),(m(!0),I(oe,null,he(e.externalItems,y=>(m(),F(f,{key:y.href,href:y.href},{default:a(()=>[n(s,null,{default:a(()=>[n(i,{name:y.icon},null,8,["name"])]),_:2},1024),n(p,null,{default:a(()=>[n(r,{text:y.name},null,8,["text"])]),_:2},1024)]),_:2},1032,["href"]))),128)),n(f,{href:"https://github.com/directus/directus/releases",class:"version"},{default:a(()=>[n(s,null,{default:a(()=>[n(i,{name:"directus"})]),_:1}),n(p,null,{default:a(()=>[n(r,{class:"version",text:`Directus ${e.version}`},null,8,["text"])]),_:1})]),_:1})]),_:1})}var Lt=q(SS,[["render",FS],["__scopeId","data-v-0513df29"]]);const VS=K({props:{collection:{type:Object,required:!0}},setup(e){const{t}=ae(),o=qe(),{deleting:l,deleteActive:d,deleteCollection:c}=s();return{t,deleting:l,deleteActive:d,deleteCollection:c,update:i};async function i(r){await o.updateCollection(e.collection.collection,r)}function s(){const r=D(!1),p=D(!1);return{deleting:r,deleteActive:p,deleteCollection:f};async function f(){r.value=!0;try{await o.deleteCollection(e.collection.collection),p.value=!1}finally{r.value=!1}}}}}),ES={key:0};function IS(e,t,o,l,d,c){const i=u("v-icon"),s=u("v-list-item-icon"),r=u("v-list-item-content"),p=u("v-list-item"),f=u("v-list"),v=u("v-menu"),_=u("v-card-title"),y=u("v-button"),b=u("v-card-actions"),w=u("v-card"),$=u("v-dialog");return e.collection.collection.startsWith("directus_")===!1?(m(),I("div",ES,[n(v,{placement:"left-start","show-arrow":""},{activator:a(({toggle:k})=>[n(i,{name:"more_vert",clickable:"",class:"ctx-toggle",onClick:k},null,8,["onClick"])]),default:a(()=>[n(f,null,{default:a(()=>[n(p,{clickable:"",class:"danger",onClick:t[0]||(t[0]=k=>e.deleteActive=!0)},{default:a(()=>[n(s,null,{default:a(()=>[n(i,{name:"delete",outline:""})]),_:1}),n(r,null,{default:a(()=>[O(h(e.t("delete_collection")),1)]),_:1})]),_:1}),n(p,{clickable:"",onClick:t[1]||(t[1]=k=>{var V;return e.update({meta:{hidden:!((V=e.collection.meta)==null?void 0:V.hidden)}})})},{default:a(()=>{var k;return[((k=e.collection.meta)==null?void 0:k.hidden)===!1?(m(),I(oe,{key:0},[n(s,null,{default:a(()=>[n(i,{name:"visibility_off"})]),_:1}),n(r,null,{default:a(()=>[O(h(e.t("make_collection_hidden")),1)]),_:1})],64)):(m(),I(oe,{key:1},[n(s,null,{default:a(()=>[n(i,{name:"visibility"})]),_:1}),n(r,null,{default:a(()=>[O(h(e.t("make_collection_visible")),1)]),_:1})],64))]}),_:1})]),_:1})]),_:1}),n($,{modelValue:e.deleteActive,"onUpdate:modelValue":t[3]||(t[3]=k=>e.deleteActive=k),onEsc:t[4]||(t[4]=k=>e.deleteActive=null)},{default:a(()=>[n(w,null,{default:a(()=>[n(_,null,{default:a(()=>[O(h(e.t("delete_collection_are_you_sure")),1)]),_:1}),n(b,null,{default:a(()=>[n(y,{disabled:e.deleting,secondary:"",onClick:t[2]||(t[2]=k=>e.deleteActive=null)},{default:a(()=>[O(h(e.t("cancel")),1)]),_:1},8,["disabled"]),n(y,{loading:e.deleting,kind:"danger",onClick:e.deleteCollection},{default:a(()=>[O(h(e.t("delete_collection")),1)]),_:1},8,["loading","onClick"])]),_:1})]),_:1})]),_:1},8,["modelValue"])])):N("",!0)}var So=q(VS,[["render",IS],["__scopeId","data-v-2ee583e6"]]);const AS=K({name:"CollectionItem",components:{CollectionOptions:So,Draggable:wt},props:{collection:{type:Object,required:!0},collections:{type:Array,required:!0},disableDrag:{type:Boolean,default:!1}},emits:["setNestedSort","editCollection"],setup(e,{emit:t}){const o=qe(),l=et(),{t:d}=ae(),c=E(()=>e.collections.filter(y=>{var b;return((b=y.meta)==null?void 0:b.group)===e.collection.collection})),i=E(()=>{var y;switch((y=e.collection.meta)==null?void 0:y.collapse){case"open":return"folder_open";case"closed":return"folder";case"locked":return"folder_lock"}}),s=E(()=>{var y;switch((y=e.collection.meta)==null?void 0:y.collapse){case"open":return d("start_open");case"closed":return d("start_collapsed");case"locked":return d("always_open")}}),r=D(!1);return{collapseIcon:i,openCollection:v,onGroupSortChange:_,nestedCollections:c,update:f,toggleCollapse:p,collapseTooltip:s,collapseLoading:r};async function p(){var b,w;if(r.value===!0)return;r.value=!0;let y="open";((b=e.collection.meta)==null?void 0:b.collapse)==="open"?y="closed":((w=e.collection.meta)==null?void 0:w.collapse)==="closed"&&(y="locked");try{await f({meta:{collapse:y}})}catch($){Fe($)}finally{r.value=!1}}async function f(y){await o.updateCollection(e.collection.collection,y)}function v(y){y.schema?l.push(`/settings/data-model/${y.collection}`):t("editCollection",y)}function _(y){const b=y.map(w=>({collection:w.collection,meta:{group:e.collection.collection}}));t("setNestedSort",b)}}}),DS={class:"collection-item"};function OS(e,t,o,l,d,c){var b;const i=u("v-icon"),s=u("v-list-item-icon"),r=u("v-progress-circular"),p=u("collection-options"),f=u("v-list-item"),v=u("collection-item",!0),_=u("draggable"),y=Ce("tooltip");return m(),I("div",DS,[n(f,{block:"",clickable:"",class:re({hidden:(b=e.collection.meta)==null?void 0:b.hidden})},{default:a(()=>{var w,$;return[n(s,null,{default:a(()=>[e.disableDrag?N("",!0):(m(),F(i,{key:0,class:"drag-handle",name:"drag_handle"}))]),_:1}),S("div",{class:"collection-name",onClick:t[0]||(t[0]=k=>e.openCollection(e.collection))},[n(i,{color:((w=e.collection.meta)==null?void 0:w.hidden)?"var(--foreground-subdued)":e.collection.color,class:"collection-icon",name:(($=e.collection.meta)==null?void 0:$.hidden)?"visibility_off":e.collection.icon},null,8,["color","name"]),S("span",null,h(e.collection.name),1)]),e.nestedCollections.length&&e.collapseLoading?(m(),F(r,{key:0,small:"",indeterminate:""})):e.nestedCollections.length?te((m(),F(i,{key:1,name:e.collapseIcon,clickable:"",onClick:e.toggleCollapse},null,8,["name","onClick"])),[[y,e.collapseTooltip]]):N("",!0),n(p,{collection:e.collection},null,8,["collection"])]}),_:1},8,["class"]),n(_,{"force-fallback":!0,"model-value":e.nestedCollections,group:{name:"collections"},"swap-threshold":.3,class:"drag-container","item-key":"collection",handle:".drag-handle","onUpdate:modelValue":e.onGroupSortChange},{item:a(({element:w})=>[n(v,{collection:w,collections:e.collections,onEditCollection:t[1]||(t[1]=$=>e.$emit("editCollection",$)),onSetNestedSort:t[2]||(t[2]=$=>e.$emit("setNestedSort",$))},null,8,["collection","collections"])]),_:1},8,["model-value","swap-threshold","onUpdate:modelValue"])])}var PS=q(AS,[["render",OS],["__scopeId","data-v-47ea59f5"]]);const TS=K({name:"CollectionDialog",props:{modelValue:{type:Boolean,default:!1},collection:{type:Object,default:null}},emits:["update:modelValue"],setup(e,{emit:t}){var r,p,f,v,_,y,b,w,$,k,V,g;const{t:o}=ae(),l=qe(),d=Bt({collection:(p=(r=e.collection)==null?void 0:r.collection)!=null?p:null,icon:(v=(f=e.collection)==null?void 0:f.icon)!=null?v:"folder",note:(b=(y=(_=e.collection)==null?void 0:_.meta)==null?void 0:y.note)!=null?b:null,color:($=(w=e.collection)==null?void 0:w.color)!=null?$:null,translations:(g=(V=(k=e.collection)==null?void 0:k.meta)==null?void 0:V.translations)!=null?g:null});_e(()=>e.modelValue,(A,R)=>{var L,M,T,U,B,z,W,J,Q,G,x,ee;H.exports.isEqual(A,R)===!1&&(d.collection=(M=(L=e.collection)==null?void 0:L.collection)!=null?M:null,d.icon=(U=(T=e.collection)==null?void 0:T.icon)!=null?U:"folder",d.note=(W=(z=(B=e.collection)==null?void 0:B.meta)==null?void 0:z.note)!=null?W:null,d.color=(Q=(J=e.collection)==null?void 0:J.color)!=null?Q:null,d.translations=(ee=(x=(G=e.collection)==null?void 0:G.meta)==null?void 0:x.translations)!=null?ee:null)});const c=D(!1);return{values:d,cancel:i,saving:c,save:s,t:o};function i(){t("update:modelValue",!1)}async function s(){c.value=!0;try{e.collection?(await de.patch(`/collections/${e.collection.collection}`,{meta:d}),await l.hydrate()):(await de.post("/collections",{collection:d.collection,meta:d}),await l.hydrate()),t("update:modelValue",!1)}catch(A){Fe(A)}finally{c.value=!1}}}}),LS={class:"fields"};function jS(e,t,o,l,d,c){const i=u("v-card-title"),s=u("v-input"),r=u("interface-select-icon"),p=u("interface-select-color"),f=u("interface-list"),v=u("v-card-text"),_=u("v-button"),y=u("v-card-actions"),b=u("v-card"),w=u("v-dialog");return m(),F(w,{"model-value":e.modelValue,persistent:"","onUpdate:modelValue":t[5]||(t[5]=$=>e.$emit("update:modelValue",$)),onEsc:e.cancel},{activator:a($=>[$e(e.$slots,"activator",Qe(Ze($)),void 0,!0)]),default:a(()=>[n(b,null,{default:a(()=>[e.collection?(m(),F(i,{key:1},{default:a(()=>[O(h(e.t("edit_folder")),1)]),_:1})):(m(),F(i,{key:0},{default:a(()=>[O(h(e.t("create_folder")),1)]),_:1})),n(v,null,{default:a(()=>[S("div",LS,[n(s,{modelValue:e.values.collection,"onUpdate:modelValue":t[0]||(t[0]=$=>e.values.collection=$),disabled:!!e.collection,class:"full collection-key","db-safe":"",autofocus:"",placeholder:e.t("folder_key")},null,8,["modelValue","disabled","placeholder"]),n(r,{width:"half",value:e.values.icon,onInput:t[1]||(t[1]=$=>e.values.icon=$)},null,8,["value"]),n(p,{width:"half",value:e.values.color,onInput:t[2]||(t[2]=$=>e.values.color=$)},null,8,["value"]),n(s,{modelValue:e.values.note,"onUpdate:modelValue":t[3]||(t[3]=$=>e.values.note=$),class:"full",placeholder:e.t("note")},null,8,["modelValue","placeholder"]),n(f,{width:"full",class:"full",value:e.values.translations,placeholder:e.t("no_translations"),template:"{{ translation }} ({{ language }})",fields:[{field:"language",name:"$t:language",type:"string",schema:{default_value:"en-US"},meta:{interface:"system-language",width:"half"}},{field:"translation",name:"$t:field_options.directus_collections.collection_name",type:"string",meta:{interface:"input",width:"half",options:{placeholder:"$t:field_options.directus_collections.translation_placeholder"}}}],onInput:t[4]||(t[4]=$=>e.values.translations=$)},null,8,["value","placeholder","fields"])])]),_:1}),n(y,null,{default:a(()=>[n(_,{secondary:"",onClick:e.cancel},{default:a(()=>[O(h(e.t("cancel")),1)]),_:1},8,["onClick"]),n(_,{disabled:!e.values.collection,loading:e.saving,onClick:e.save},{default:a(()=>[O(h(e.t("save")),1)]),_:1},8,["disabled","loading","onClick"])]),_:1})]),_:1})]),_:3},8,["model-value","onEsc"])}var RS=q(TS,[["render",jS],["__scopeId","data-v-ce1c7cd4"]]);const MS=K({components:{SettingsNavigation:Lt,CollectionItem:PS,CollectionOptions:So,Draggable:wt,CollectionDialog:RS},setup(){const{t:e}=ae(),t=D(!1),o=D(),l=qe(),d=E(()=>St(H.exports.sortBy(l.collections.filter(p=>p.collection.startsWith("directus_")===!1&&p.meta),["meta.sort","collection"]))),c=E(()=>d.value.filter(p=>{var f;return!((f=p.meta)==null?void 0:f.group)})),i=E(()=>St(H.exports.sortBy(l.collections.filter(p=>p.collection.startsWith("directus_")===!1&&!p.meta&&p.schema),["meta.sort","collection"]))),s=E(()=>St(H.exports.sortBy(l.collections.filter(p=>p.collection.startsWith("directus_")===!0).map(p=>ye(X({},p),{icon:"settings"})),"collection")));return{collectionDialogActive:t,t:e,collections:d,tableCollections:i,systemCollections:s,onSort:r,rootCollections:c,editCollection:o};async function r(p,f=!1){const v=p.map((_,y)=>{var b;return H.exports.merge(_,{meta:{sort:y+1,group:f?null:(b=_.meta)==null?void 0:b.group}})});l.collections=l.collections.map(_=>{const y=v.find(b=>b.collection===_.collection);return y?H.exports.merge({},_,y):_});try{await Promise.all(v.map(_=>de.patch(`/collections/${_.collection}`,{meta:{sort:_.meta.sort,group:_.meta.group}})))}catch(_){Fe(_)}}}}),US={class:"padding-box"},NS=["onClick"],BS={class:"collection-name"},qS={class:"page-description"};function zS(e,t,o,l,d,c){const i=u("v-breadcrumb"),s=u("v-icon"),r=u("v-button"),p=u("collection-dialog"),f=u("settings-navigation"),v=u("v-info"),_=u("collection-item"),y=u("draggable"),b=u("v-list"),w=u("v-list-item-icon"),$=u("collection-options"),k=u("v-list-item"),V=u("v-detail"),g=u("router-view"),A=u("sidebar-detail"),R=u("private-view"),L=Ce("tooltip"),M=Ce("md");return m(),F(R,{title:e.t("settings_data_model")},{headline:a(()=>[n(i,{items:[{name:e.t("settings"),to:"/settings"}]},null,8,["items"])]),"title-outer:prepend":a(()=>[n(r,{class:"header-icon",rounded:"",disabled:"",icon:"",secondary:""},{default:a(()=>[n(s,{name:"list_alt"})]),_:1})]),actions:a(()=>[n(p,{modelValue:e.collectionDialogActive,"onUpdate:modelValue":t[0]||(t[0]=T=>e.collectionDialogActive=T)},{activator:a(({on:T})=>[te(n(r,{rounded:"",icon:"",class:"add-folder",onClick:T},{default:a(()=>[n(s,{name:"create_new_folder"})]),_:2},1032,["onClick"]),[[L,e.t("create_folder"),void 0,{bottom:!0}]])]),_:1},8,["modelValue"]),te(n(r,{rounded:"",icon:"",to:"/settings/data-model/+"},{default:a(()=>[n(s,{name:"add"})]),_:1},512),[[L,e.t("create_collection"),void 0,{bottom:!0}]])]),navigation:a(()=>[n(f)]),sidebar:a(()=>[n(A,{icon:"info_outline",title:e.t("information"),close:""},{default:a(()=>[te(S("div",qS,null,512),[[M,e.t("page_help_settings_datamodel_collections")]])]),_:1},8,["title"])]),default:a(()=>[S("div",US,[e.collections.length===0?(m(),F(v,{key:0,type:"warning",icon:"box",title:e.t("no_collections")},{append:a(()=>[n(r,{to:"/settings/data-model/+"},{default:a(()=>[O(h(e.t("create_collection")),1)]),_:1})]),default:a(()=>[O(h(e.t("no_collections_copy_admin"))+" ",1)]),_:1},8,["title"])):(m(),F(b,{key:1,class:"draggable-list"},{default:a(()=>[n(y,{"force-fallback":!0,"model-value":e.rootCollections,group:{name:"collections"},"swap-threshold":.3,class:"root-drag-container","item-key":"collection",handle:".drag-handle","onUpdate:modelValue":t[2]||(t[2]=T=>e.onSort(T,!0))},{item:a(({element:T})=>[n(_,{collection:T,collections:e.collections,onEditCollection:t[1]||(t[1]=U=>e.editCollection=U),onSetNestedSort:e.onSort},null,8,["collection","collections","onSetNestedSort"])]),_:1},8,["model-value","swap-threshold"])]),_:1})),n(b,{class:"db-only"},{default:a(()=>[(m(!0),I(oe,null,he(e.tableCollections,T=>te((m(),F(k,{key:T.collection,class:"collection-row hidden",block:"",clickable:""},{default:a(()=>[n(w,null,{default:a(()=>[n(s,{name:"add"})]),_:1}),S("div",{class:"collection-name",onClick:U=>e.openCollection(T)},[n(s,{class:"collection-icon",name:"dns"}),S("span",BS,h(T.name),1)],8,NS),n($,{collection:T},null,8,["collection"])]),_:2},1536)),[[L,e.t("db_only_click_to_configure")]])),128))]),_:1}),n(V,{label:e.t("system_collections")},{default:a(()=>[(m(!0),I(oe,null,he(e.systemCollections,T=>(m(),F(_,{key:T.collection,collection:T,collections:e.systemCollections,"disable-drag":""},null,8,["collection","collections"]))),128))]),_:1},8,["label"])]),n(g,{name:"add"}),n(p,{"model-value":!!e.editCollection,collection:e.editCollection,"onUpdate:modelValue":t[3]||(t[3]=T=>e.editCollection=null)},null,8,["model-value","collection"])]),_:1},8,["title"])}var KS=q(MS,[["render",zS],["__scopeId","data-v-d4a68d78"]]);const WS=K({props:{tabs:{type:Array,required:!0},current:{type:Array,default:()=>["schema"]},type:{type:String,default:"standard"}},emits:["update:current"],setup(e,{emit:t}){return{internalCurrentTab:Pe(e,"current",t)}}});function HS(e,t,o,l,d,c){const i=u("v-tab"),s=u("v-tabs");return m(),F(s,{modelValue:e.internalCurrentTab,"onUpdate:modelValue":t[0]||(t[0]=r=>e.internalCurrentTab=r),vertical:""},{default:a(()=>[(m(!0),I(oe,null,he(e.tabs,r=>(m(),F(i,{key:r.value,value:r.value,disabled:r.disabled},{default:a(()=>[O(h(r.text),1)]),_:2},1032,["value","disabled"]))),128))]),_:1},8,["modelValue"])}var GS=q(WS,[["render",HS]]);const QS=K({props:{collection:{type:String,required:!0},current:{type:Array,required:!0},tabs:{type:Array,required:!0},saving:{type:Boolean,default:!1},isExisting:{type:Boolean,default:!1}},emits:["save","update:current"],setup(e,{emit:t}){const{t:o}=ae(),l=Pe(e,"current",t),d=E(()=>e.tabs.findIndex(p=>p.value===e.current[0])),c=E(()=>d.value===0),i=E(()=>{const p=e.tabs[d.value+1];return p?p.disabled:!0});return{t:o,internalCurrentTab:l,previousDisabled:c,previousTab:s,nextDisabled:i,nextTab:r,currentTabIndex:d};function s(){const p=e.tabs[d.value-1];p&&(l.value=[p.value])}function r(){const p=e.tabs[d.value+1];p&&(l.value=[p.value])}}}),XS={class:"actions"};function JS(e,t,o,l,d,c){const i=u("v-icon"),s=u("v-button"),r=Ce("tooltip");return m(),I("div",XS,[!e.isExisting&&e.currentTabIndex<e.tabs.length-1?te((m(),F(s,{key:0,disabled:e.nextDisabled,icon:"",rounded:"",onClick:e.nextTab},{default:a(()=>[n(i,{name:"arrow_forward"})]),_:1},8,["disabled","onClick"])),[[r,e.t("next"),void 0,{bottom:!0}]]):te((m(),F(s,{key:1,loading:e.saving,icon:"",rounded:"",onClick:t[0]||(t[0]=p=>e.$emit("save"))},{default:a(()=>[n(i,{name:"check"})]),_:1},8,["loading"])),[[r,e.t("save"),void 0,{bottom:!0}]])])}var YS=q(QS,[["render",JS],["__scopeId","data-v-21edd754"]]);let P,el,tl,nl;function ZS(e,t,o){const l=ze(),d=_t(),c=qe(),{interfaces:i}=Rt(),{displays:s}=sn();ua(),el=E(()=>i.value.filter(g=>{var L;if(g.system===!0)return!1;const A=g.types.includes(((L=P.fieldData)==null?void 0:L.type)||"alias"),R=(g.groups||["standard"]).includes(o);return A&&R}).sort((g,A)=>g.name>A.name?1:-1)),tl=E(()=>s.value.filter(g=>{var L;const A=g.types.includes(((L=P.fieldData)==null?void 0:L.type)||"alias"),R=(g.groups||["standard"]).includes(o);return A&&R}).sort((g,A)=>g.name>A.name?1:-1)),nl=E(()=>[...P.newCollections.map(g=>({name:g.collection,type:"collection"})),...P.newCollections.filter(g=>!!g.fields).map(g=>g.fields.map(A=>ye(X({},A),{collection:g.collection}))).flat().map(g=>({name:`${g.collection}.${g.field}`,type:"field"})),...P.newFields.map(g=>({name:`${g.collection}.${g.field}`,type:"field"}))]);const r=t!=="+";if(r){const g=H.exports.clone(l.getField(e,t));P.fieldData.field=g.field,P.fieldData.type=g.type,P.fieldData.schema=g.schema,P.fieldData.meta=g.meta,P.relations=d.getRelationsForField(e,t);for(const A of P.relations)A.schema||(A.schema={on_delete:"SET NULL"})}else P.autoFillJunctionRelation=!0,_e(()=>el.value,()=>{el.value.length===1&&P.fieldData.meta&&(P.fieldData.meta.interface=el.value[0].id)}),_e(()=>tl.value,()=>{tl.value.length===1&&P.fieldData.meta&&(P.fieldData.meta.display=tl.value[0].id)});r===!1&&o==="translations"&&P.fieldData.meta&&(P.fieldData.meta.interface="translations"),o==="file"?p():o==="m2o"?f():o==="m2m"||o==="files"||o==="translations"?_():o==="o2m"?v():o==="presentation"?b():o==="group"?w():o==="m2a"?y():$();function p(){r||(P.fieldData.type="uuid",P.relations=[{collection:e,field:"",related_collection:"directus_files",meta:{sort_field:null}}]),_e(()=>P.fieldData.field,()=>{P.relations[0].field=P.fieldData.field})}function f(){const g=H.exports.throttle(()=>{var R,L,M,T;const A=P.relations[0].related_collection;if(!A||k(A))P.newCollections=[];else{const U=((T=(M=(L=(R=P.newCollections)==null?void 0:R[0])==null?void 0:L.fields)==null?void 0:M[0])==null?void 0:T.field)||"id";P.newCollections=[{collection:A,fields:[{field:U,type:"integer",schema:{has_auto_increment:!0,is_primary_key:!0},meta:{hidden:!0}}]}]}},50);r===!1&&(P.relations=[{collection:e,field:"",related_collection:"",meta:{sort_field:null},schema:{on_delete:"SET NULL"}}]),_e(()=>P.relations[0].collection,()=>{P.relations[0].collection===P.relations[0].related_collection&&(P.relations[0].schema=ye(X({},P.relations[0].schema),{on_delete:"NO ACTION"}))}),_e(()=>P.fieldData.field,()=>{P.relations[0].field=P.fieldData.field}),_e(()=>P.relations[0].related_collection,()=>{if(P.relations[0].related_collection&&k(P.relations[0].related_collection)){const A=l.getPrimaryKeyFieldForCollection(P.relations[0].related_collection);P.fieldData.type=A.type}else P.fieldData.type="integer"}),_e(()=>P.relations[0].related_collection,()=>{P.newFields.length>0&&P.relations[0].related_collection&&(P.newFields[0].collection=P.relations[0].related_collection)}),_e([()=>P.relations[0].related_collection],g)}function v(){delete P.fieldData.schema,P.fieldData.type="alias";const g=H.exports.throttle(([R,L,M])=>{var T;P.newCollections=P.newCollections.filter(U=>["related"].includes(U.$type)===!1),P.newFields=P.newFields.filter(U=>["manyRelated","sort"].includes(U.$type)===!1),R&&k(R)===!1&&P.newCollections.push({$type:"related",collection:R,fields:[{field:"id",type:"integer",schema:{has_auto_increment:!0,is_primary_key:!0},meta:{hidden:!0}}]}),L&&V(R,L)===!1&&P.newFields.push({$type:"manyRelated",collection:R,field:L,type:k(e)?(T=l.getPrimaryKeyFieldForCollection(e))==null?void 0:T.type:"integer",schema:{}}),M&&V(R,M)===!1&&P.newFields.push({$type:"sort",collection:R,field:M,type:"integer",schema:{},meta:{hidden:!0}})},50);r||(P.fieldData.meta=ye(X({},P.fieldData.meta||{}),{special:["o2m"]}),P.relations=[{collection:"",field:"",related_collection:e,meta:{one_field:P.fieldData.field,sort_field:null,one_deselect_action:"nullify"},schema:{on_delete:"SET NULL"}}]),_e(()=>P.relations[0].collection,()=>{P.relations[0].collection===P.relations[0].related_collection&&(P.relations[0].schema=ye(X({},P.relations[0].schema),{on_delete:"NO ACTION"}))}),_e(()=>P.fieldData.field,()=>{P.relations[0].meta=ye(X({},P.relations[0].meta||{}),{one_field:P.fieldData.field})}),_e([()=>P.relations[0].collection,()=>P.relations[0].field,()=>{var R;return(R=P.relations[0].meta)==null?void 0:R.sort_field}],([R,L,M])=>{g([R,L,M]),A(R,L)});function A(R,L){var T;if(!R||!L)return;const M=d.getRelationForField(R,L)||{};!M||(P.relations[0].schema={on_delete:((T=M.schema)==null?void 0:T.on_delete)||"SET NULL"})}}function _(){var M,T;delete P.fieldData.schema,P.fieldData.type="alias";const g=H.exports.throttle(([U,B,z,W,J])=>{var Q,G;P.newCollections=P.newCollections.filter(x=>["junction","related"].includes(x.$type)===!1),P.newFields=P.newFields.filter(x=>["manyCurrent","manyRelated","sort"].includes(x.$type)===!1),k(U)===!1&&P.newCollections.push({$type:"junction",collection:U,meta:{hidden:!0,icon:"import_export"},schema:{name:U},fields:[{field:"id",type:"integer",schema:{has_auto_increment:!0},meta:{hidden:!0}}]}),V(U,B)===!1&&P.newFields.push({$type:"manyCurrent",collection:U,field:B,type:l.getPrimaryKeyFieldForCollection(e).type,schema:{},meta:{hidden:!0}}),V(U,z)===!1&&(o==="translations"?P.newFields.push({$type:"manyRelated",collection:U,field:z,type:k(W)?(Q=l.getPrimaryKeyFieldForCollection(W))==null?void 0:Q.type:"string",schema:{},meta:{hidden:!0}}):P.newFields.push({$type:"manyRelated",collection:U,field:z,type:k(W)?(G=l.getPrimaryKeyFieldForCollection(W))==null?void 0:G.type:"integer",schema:{},meta:{hidden:!0}})),k(W)===!1&&(o==="translations"?P.newCollections.push({$type:"related",collection:W,meta:{icon:"translate"},fields:[{field:"code",type:"string",schema:{is_primary_key:!0},meta:{interface:"input",options:{iconLeft:"vpn_key"},width:"half"}},{field:"name",type:"string",schema:{},meta:{interface:"input",options:{iconLeft:"translate"},width:"half"}}]}):P.newCollections.push({$type:"related",collection:W,fields:[{field:"id",type:"integer",schema:{has_auto_increment:!0},meta:{hidden:!0}}]})),o==="translations"&&(k(W)===!1?P.newRows={[W]:[{code:"en-US",name:"English"},{code:"de-DE",name:"German"},{code:"fr-FR",name:"French"},{code:"ru-RU",name:"Russian"},{code:"es-ES",name:"Spanish"},{code:"it-IT",name:"Italian"},{code:"pt-BR",name:"Portuguese"}]}:P.newRows={}),J&&V(U,J)===!1&&P.newFields.push({$type:"sort",collection:U,field:J,type:"integer",schema:{},meta:{hidden:!0}})},50);if(r||(P.fieldData.meta=ye(X({},P.fieldData.meta||{}),{special:[o]}),P.relations=[{collection:"",field:"",related_collection:e,meta:{one_field:P.fieldData.field,sort_field:null,one_deselect_action:"nullify"},schema:{on_delete:"SET NULL"}},{collection:"",field:"",related_collection:"",meta:{one_field:null,sort_field:null,one_deselect_action:"nullify"},schema:{on_delete:"SET NULL"}}]),_e(()=>P.relations[0].collection,()=>{P.relations[0].collection===P.relations[0].related_collection&&(P.relations[0].schema=ye(X({},P.relations[0].schema),{on_delete:"NO ACTION"}))}),_e(()=>P.relations[1].collection,()=>{P.relations[1].collection===P.relations[1].related_collection&&(P.relations[1].schema=ye(X({},P.relations[1].schema),{on_delete:"NO ACTION"}))}),_e(()=>P.relations[0].field,()=>{P.relations[1].meta=ye(X({},P.relations[1].meta||{}),{junction_field:P.relations[0].field})}),_e(()=>P.relations[1].field,()=>{P.relations[0].meta=ye(X({},P.relations[0].meta||{}),{junction_field:P.relations[1].field})}),_e([()=>P.relations[0].collection,()=>P.relations[0].field,()=>P.relations[1].field,()=>P.relations[1].related_collection,()=>{var U;return(U=P.relations[0].meta)==null?void 0:U.sort_field}],([U,B,z,W,J])=>{g([U,B,z,W,J]),L(U,B)}),_e(()=>P.fieldData.field,()=>{P.relations[0].meta=ye(X({},P.relations[0].meta||{}),{one_field:P.fieldData.field}),P.fieldData.field&&k(P.fieldData.field)&&o!=="translations"&&A(P.fieldData.field)}),o==="files"&&Un(()=>{P.relations[1].related_collection=P.relations[1].related_collection||"directus_files"}),o!=="translations"){let U;_e(()=>P.autoFillJunctionRelation,B=>{B?U=_e(()=>P.relations[1].related_collection,z=>A(z)):U==null||U()},{immediate:!0})}if(o==="translations"&&(_e(()=>P.relations[0].collection,U=>{P.relations[1].collection=U},{immediate:!0}),r===!1)){P.relations[0].collection=`${e}_translations`,P.relations[0].field=`${e}_${(M=l.getPrimaryKeyFieldForCollection(e))==null?void 0:M.field}`,P.relations[1].related_collection="languages";const U=((T=l.getPrimaryKeyFieldForCollection(P.relations[1].related_collection))==null?void 0:T.field)||"id";P.relations[1].field=`${P.relations[1].related_collection}_${U}`,P.fieldData.field="translations",P.relations[0].meta=ye(X({},P.relations[0].meta||{}),{one_field:"translations"})}function A(U){var z,W,J,Q,G,x;const B=((z=l.getPrimaryKeyFieldForCollection(e))==null?void 0:z.field)||"id";if(!U)P.relations[0].collection=void 0,P.relations[1].collection=void 0,P.relations[0].related_collection=e,P.relations[1].related_collection=void 0,P.relations[0].field=void 0,P.relations[1].field=void 0;else{const ee=R(e,U),ne=((W=l.getPrimaryKeyFieldForCollection(U))==null?void 0:W.field)||((x=(G=(Q=(J=P.newCollections)==null?void 0:J.find(ie=>ie.$type==="related"))==null?void 0:Q.fields)==null?void 0:G[0])==null?void 0:x.field)||"id";P.relations[0].collection=ee,P.relations[1].collection=ee,P.relations[0].related_collection=e,P.relations[1].related_collection=U,P.relations[0].field=`${e}_${B}`,P.relations[1].field=`${U}_${ne}`,P.relations[0].field===P.relations[1].field&&(P.relations[1].field=`related_${P.relations[1].field}`)}}function R(U,B){let z=0,W=J(z);for(;k(W);)z++,W=J(z);return W;function J(Q){let G=`${U}_${B}`;return G.startsWith("directus_")&&(G="junction_"+G),Q?G+"_"+Q:G}}function L(U,B){var W;if(!U||!B)return;const z=d.getRelationForField(U,B)||{};!z||(P.relations[0].schema={on_delete:((W=z.schema)==null?void 0:W.on_delete)||"SET NULL"})}}function y(){delete P.fieldData.schema,P.fieldData.type="alias";const g=H.exports.throttle(([A,R,L,M,T])=>{P.newCollections=P.newCollections.filter(U=>["junction","related"].includes(U.$type)===!1),P.newFields=P.newFields.filter(U=>["manyCurrent","manyRelated","collectionField","sort"].includes(U.$type)===!1),k(A)===!1&&P.newCollections.push({$type:"junction",collection:A,meta:{hidden:!0,icon:"import_export"},schema:{name:A},fields:[{field:"id",type:"integer",schema:{has_auto_increment:!0},meta:{hidden:!0}}]}),V(A,R)===!1&&P.newFields.push({$type:"manyCurrent",collection:A,field:R,type:l.getPrimaryKeyFieldForCollection(e).type,schema:{},meta:{hidden:!0}}),V(A,L)===!1&&P.newFields.push({$type:"manyRelated",collection:A,field:L,type:"string",schema:{},meta:{hidden:!0}}),V(A,M)===!1&&P.newFields.push({$type:"collectionField",collection:A,field:M,type:"string",schema:{},meta:{hidden:!0}}),T&&V(A,T)===!1&&P.newFields.push({$type:"sort",collection:A,field:T,type:"integer",schema:{},meta:{hidden:!0}})},50);r||(P.fieldData.meta=ye(X({},P.fieldData.meta||{}),{special:[o]}),P.relations=[{collection:"",field:"",related_collection:e,meta:{one_field:P.fieldData.field,sort_field:null,one_deselect_action:"nullify"},schema:{on_delete:"SET NULL"}},{collection:"",field:"",related_collection:null,meta:{one_field:null,one_allowed_collections:[],one_collection_field:"",sort_field:null,one_deselect_action:"nullify"}}]),_e(()=>P.relations[0].collection,()=>{P.relations[0].collection===P.relations[0].related_collection&&(P.relations[0].schema=ye(X({},P.relations[0].schema),{on_delete:"NO ACTION"}))}),_e(()=>P.relations[0].field,()=>{P.relations[1].meta=ye(X({},P.relations[1].meta||{}),{junction_field:P.relations[0].field})}),_e(()=>P.relations[1].field,()=>{P.relations[0].meta=ye(X({},P.relations[0].meta||{}),{junction_field:P.relations[1].field})}),_e([()=>P.relations[0].collection,()=>P.relations[0].field,()=>P.relations[1].field,()=>{var A;return(A=P.relations[1].meta)==null?void 0:A.one_collection_field},()=>{var A;return(A=P.relations[0].meta)==null?void 0:A.sort_field}],g),_e(()=>P.fieldData.field,()=>{P.relations[0].meta=ye(X({},P.relations[0].meta||{}),{one_field:P.fieldData.field}),P.autoFillJunctionRelation&&(P.relations[0].collection=`${P.relations[0].related_collection}_${P.fieldData.field}`,P.relations[1].collection=`${P.relations[0].related_collection}_${P.fieldData.field}`)}),_e(()=>P.autoFillJunctionRelation,()=>{var A;if(P.autoFillJunctionRelation===!0){const R=((A=l.getPrimaryKeyFieldForCollection(e))==null?void 0:A.field)||"id";P.relations[0].collection=`${P.relations[0].related_collection}_${P.fieldData.field}`,P.relations[1].collection=`${P.relations[0].related_collection}_${P.fieldData.field}`,P.relations[0].field=`${P.relations[0].related_collection}_${R}`,P.relations[1].meta=ye(X({},P.relations[1].meta||{}),{one_collection_field:"collection"}),P.relations[1].field="item"}},{immediate:!0})}function b(){delete P.fieldData.schema,P.fieldData.type="alias",P.fieldData.meta=ye(X({},P.fieldData.meta||{}),{special:["alias","no-data"]})}function w(){delete P.fieldData.schema,P.fieldData.type="alias",P.fieldData.meta=ye(X({},P.fieldData.meta||{}),{special:["alias","no-data","group"]})}function $(){_e(()=>P.fieldData.type,()=>{switch(P.fieldData.meta=ye(X({},P.fieldData.meta||{}),{interface:null,options:null,display:null,display_options:null,special:null}),P.fieldData.schema=ye(X({},P.fieldData.schema||{}),{default_value:void 0,max_length:void 0,is_nullable:!0,geometry_type:void 0}),P.fieldData.type){case"uuid":P.fieldData.meta.special=["uuid"];break;case"hash":P.fieldData.meta.special=["hash"];break;case"json":P.fieldData.meta.special=["json"];break;case"csv":P.fieldData.meta.special=["csv"];break;case"boolean":P.fieldData.meta.special=["boolean"],P.fieldData.schema.default_value=!1,P.fieldData.schema.is_nullable=!1;break;case"geometry":P.fieldData.meta.special=["geometry"];break}})}function k(g){return c.getCollection(g)!==null}function V(g,A){return k(g)&&!!l.getField(g,A)}}function ua(){P=Bt({fieldData:{field:"",type:"string",schema:{default_value:void 0,max_length:void 0,is_nullable:!0,is_unique:!1,numeric_precision:null,numeric_scale:null,geometry_type:void 0},meta:{hidden:!1,interface:void 0,options:void 0,display:void 0,display_options:void 0,readonly:!1,special:void 0,note:void 0}},relations:[],newCollections:[],newFields:[],updateFields:[],newRows:{},autoFillJunctionRelation:!1})}const Fo=[{text:"$t:string",value:"string"},{text:"$t:text",value:"text"},{divider:!0},{text:"$t:boolean",value:"boolean"},{divider:!0},{text:"$t:integer",value:"integer"},{text:"$t:bigInteger",value:"bigInteger"},{text:"$t:float",value:"float"},{text:"$t:decimal",value:"decimal"},{divider:!0},{text:"$t:geometry",value:"geometry"},{divider:!0},{text:"$t:timestamp",value:"timestamp"},{text:"$t:datetime",value:"dateTime"},{text:"$t:date",value:"date"},{text:"$t:time",value:"time"},{divider:!0},{text:"$t:json",value:"json"},{text:"$t:csv",value:"csv"},{text:"$t:uuid",value:"uuid"},{text:"$t:hash",value:"hash"}],xS=K({props:{isExisting:{type:Boolean,required:!0},type:{type:String,required:!0}},setup(e){const{t}=ae(),o=E(()=>St(Fo)),l=E(()=>["file","files","o2m","m2m","m2a","m2o","translations"].includes(e.type)),d=E(()=>e.type==="m2o"?t("determined_by_relationship"):t("choose_a_type")),c=E({get(){var y;return(y=P.fieldData.schema)==null?void 0:y.default_value},set(y){P.fieldData.schema=ye(X({},P.fieldData.schema||{}),{default_value:y})}}),{onCreateOptions:i,onCreateValue:s}=v(),{onUpdateOptions:r,onUpdateValue:p}=_(),f=E(()=>["uuid","date","time","dateTime","timestamp"].includes(P.fieldData.type||"")&&e.type!=="file");return{t,fieldData:P.fieldData,typesWithLabels:o,GEOMETRY_TYPES:ao,typeDisabled:l,typePlaceholder:d,defaultValue:c,onCreateOptions:i,onCreateValue:s,onUpdateOptions:r,onUpdateValue:p,hasCreateUpdateTriggers:f};function v(){const y=["uuid","user-created","role-created","date-created"],b=E(()=>{var $,k;if(P.fieldData.type==="uuid"){const V=[{text:t("do_nothing"),value:null},{text:t("generate_and_save_uuid"),value:"uuid"},{text:t("save_current_user_id"),value:"user-created"},{text:t("save_current_user_role"),value:"role-created"}];return e.type==="m2o"&&(($=P.relations[0])==null?void 0:$.related_collection)==="directus_users"?V.filter(({value:g})=>[null,"user-created"].includes(g)):e.type==="m2o"&&((k=P.relations[0])==null?void 0:k.related_collection)==="directus_roles"?V.filter(({value:g})=>[null,"role-created"].includes(g)):V}else if(["date","time","dateTime","timestamp"].includes(P.fieldData.type))return[{text:t("do_nothing"),value:null},{text:t("save_current_datetime"),value:"date-created"}];return[]}),w=E({get(){var k;const $=((k=P.fieldData.meta)==null?void 0:k.special)||[];for(const V of y)if($.includes(V))return V;return null},set($){var k;P.fieldData.meta=ye(X({},P.fieldData.meta||{}),{special:(((k=P.fieldData.meta)==null?void 0:k.special)||[]).filter(V=>y.includes(V)===!1)}),$&&(P.fieldData.meta.special=[...P.fieldData.meta.special||[],$])}});return{onCreateSpecials:y,onCreateOptions:b,onCreateValue:w}}function _(){const y=["user-updated","role-updated","date-updated"],b=E(()=>{var $,k;if(P.fieldData.type==="uuid"){const V=[{text:t("do_nothing"),value:null},{text:t("save_current_user_id"),value:"user-updated"},{text:t("save_current_user_role"),value:"role-updated"}];return e.type==="m2o"&&(($=P.relations[0])==null?void 0:$.related_collection)==="directus_users"?V.filter(({value:g})=>[null,"user-updated"].includes(g)):e.type==="m2o"&&((k=P.relations[0])==null?void 0:k.related_collection)==="directus_roles"?V.filter(({value:g})=>[null,"role-updated"].includes(g)):V}else if(["date","time","dateTime","timestamp"].includes(P.fieldData.type))return[{text:t("do_nothing"),value:null},{text:t("save_current_datetime"),value:"date-updated"}];return[]}),w=E({get(){var k;const $=((k=P.fieldData.meta)==null?void 0:k.special)||[];for(const V of y)if($.includes(V))return V;return null},set($){var k;P.fieldData.meta=ye(X({},P.fieldData.meta||{}),{special:(((k=P.fieldData.meta)==null?void 0:k.special)||[]).filter(V=>y.includes(V)===!1)}),$&&(P.fieldData.meta.special=[...P.fieldData.meta.special||[],$])}});return{onUpdateSpecials:y,onUpdateOptions:b,onUpdateValue:w}}}}),eF={class:"form"},tF={class:"field"},nF={class:"label type-label"},lF={class:"note"},aF={class:"field half"},oF={class:"label type-label"},iF={key:0,class:"field half-right"},sF={class:"label type-label"},rF={key:0,class:"field half"},dF={class:"label type-label"},uF={key:0,class:"field half"},cF={class:"label type-label"},pF={class:"precision-scale"},mF={class:"field half-left"},fF={class:"label type-label"},_F={class:"field half-right"},vF={class:"label type-label"},yF={key:4,class:"field full"},gF={class:"label type-label"},hF={key:5,class:"field half-left"},bF={class:"label type-label"},$F={key:6,class:"field half-right"},kF={class:"label type-label"};function wF(e,t,o,l,d,c){const i=u("v-icon"),s=u("v-input"),r=u("v-select"),p=u("v-textarea"),f=u("interface-input-code"),v=u("v-checkbox");return m(),I("div",null,[S("div",eF,[S("div",tF,[S("div",nF,[O(h(e.t("key"))+" ",1),n(i,{class:"required",sup:"",name:"star"})]),n(s,{modelValue:e.fieldData.field,"onUpdate:modelValue":t[0]||(t[0]=_=>e.fieldData.field=_),disabled:e.isExisting,autofocus:"",class:"monospace",nullable:!1,"db-safe":"",placeholder:e.t("a_unique_column_name")},null,8,["modelValue","disabled","placeholder"]),S("small",lF,h(e.t("schema_setup_key")),1)]),S("div",aF,[S("div",oF,[O(h(e.t("type"))+" ",1),n(i,{class:"required",sup:"",name:"star"})]),e.fieldData.schema?(m(),F(r,{key:1,disabled:e.typeDisabled||e.isExisting,"model-value":e.fieldData.type,items:e.typesWithLabels,placeholder:e.typePlaceholder,"onUpdate:modelValue":t[1]||(t[1]=_=>e.fieldData.type=_)},null,8,["disabled","model-value","items","placeholder"])):(m(),F(s,{key:0,"model-value":e.t("alias"),disabled:""},null,8,["model-value"]))]),e.fieldData.type=="geometry"?(m(),I(oe,{key:0},[e.fieldData.schema?(m(),I("div",iF,[S("div",sF,h(e.t("interfaces.map.geometry_type")),1),n(r,{modelValue:e.fieldData.schema.geometry_type,"onUpdate:modelValue":t[2]||(t[2]=_=>e.fieldData.schema.geometry_type=_),"show-deselect":!0,placeholder:e.t("any"),disabled:e.isExisting,items:e.GEOMETRY_TYPES.map(_=>({value:_,text:_}))},null,8,["modelValue","placeholder","disabled","items"])])):N("",!0)],64)):["decimal","float"].includes(e.fieldData.type)===!1?(m(),I(oe,{key:1},[e.fieldData.schema?(m(),I("div",rF,[S("div",dF,h(e.t("length")),1),n(s,{modelValue:e.fieldData.schema.max_length,"onUpdate:modelValue":t[3]||(t[3]=_=>e.fieldData.schema.max_length=_),type:"number",placeholder:e.fieldData.type!=="string"?e.t("not_available_for_type"):"255",disabled:e.isExisting||e.fieldData.type!=="string"},null,8,["modelValue","placeholder","disabled"])])):N("",!0)],64)):(m(),I(oe,{key:2},[e.fieldData.schema?(m(),I("div",uF,[S("div",cF,h(e.t("precision_scale")),1),S("div",pF,[n(s,{modelValue:e.fieldData.schema.numeric_precision,"onUpdate:modelValue":t[4]||(t[4]=_=>e.fieldData.schema.numeric_precision=_),type:"number",placeholder:10},null,8,["modelValue"]),n(s,{modelValue:e.fieldData.schema.numeric_scale,"onUpdate:modelValue":t[5]||(t[5]=_=>e.fieldData.schema.numeric_scale=_),type:"number",placeholder:5},null,8,["modelValue"])])])):N("",!0)],64)),e.hasCreateUpdateTriggers?(m(),I(oe,{key:3},[S("div",mF,[S("div",fF,h(e.t("on_create")),1),n(r,{modelValue:e.onCreateValue,"onUpdate:modelValue":t[6]||(t[6]=_=>e.onCreateValue=_),items:e.onCreateOptions},null,8,["modelValue","items"])]),S("div",_F,[S("div",vF,h(e.t("on_update")),1),n(r,{modelValue:e.onUpdateValue,"onUpdate:modelValue":t[7]||(t[7]=_=>e.onUpdateValue=_),items:e.onUpdateOptions},null,8,["modelValue","items"])])],64)):N("",!0),e.fieldData.schema&&e.fieldData.schema.is_primary_key!==!0?(m(),I("div",yF,[S("div",gF,h(e.t("default_value")),1),["string","uuid"].includes(e.fieldData.type)?(m(),F(s,{key:0,modelValue:e.defaultValue,"onUpdate:modelValue":t[8]||(t[8]=_=>e.defaultValue=_),class:"monospace",placeholder:"NULL"},null,8,["modelValue"])):["text"].includes(e.fieldData.type)?(m(),F(p,{key:1,modelValue:e.defaultValue,"onUpdate:modelValue":t[9]||(t[9]=_=>e.defaultValue=_),class:"monospace",placeholder:"NULL"},null,8,["modelValue"])):["integer","bigInteger","float","decimal"].includes(e.fieldData.type)?(m(),F(s,{key:2,modelValue:e.defaultValue,"onUpdate:modelValue":t[10]||(t[10]=_=>e.defaultValue=_),type:"number",class:"monospace",placeholder:"NULL"},null,8,["modelValue"])):["timestamp","dateTime","date","time"].includes(e.fieldData.type)?(m(),F(s,{key:3,modelValue:e.defaultValue,"onUpdate:modelValue":t[11]||(t[11]=_=>e.defaultValue=_),class:"monospace",placeholder:"NULL"},null,8,["modelValue"])):e.fieldData.type==="boolean"?(m(),F(r,{key:4,modelValue:e.defaultValue,"onUpdate:modelValue":t[12]||(t[12]=_=>e.defaultValue=_),class:"monospace",items:[{text:"true",value:!0},{text:"false",value:!1},{text:"NULL",value:null}]},null,8,["modelValue"])):e.fieldData.type==="json"?(m(),F(f,{key:5,value:e.defaultValue||"",language:"JSON",placeholder:"NULL",type:"json",onInput:t[13]||(t[13]=_=>e.defaultValue=_)},null,8,["value"])):(m(),F(s,{key:6,modelValue:e.defaultValue,"onUpdate:modelValue":t[14]||(t[14]=_=>e.defaultValue=_),class:"monospace",disabled:"",placeholder:"NULL"},null,8,["modelValue"]))])):N("",!0),e.fieldData.schema?(m(),I("div",hF,[S("div",bF,h(e.t("nullable")),1),n(v,{"model-value":e.fieldData.schema.is_nullable,label:e.t("allow_null_value"),block:"","onUpdate:modelValue":t[15]||(t[15]=_=>e.fieldData.schema.is_nullable=_)},null,8,["model-value","label"])])):N("",!0),e.fieldData.schema?(m(),I("div",$F,[S("div",kF,h(e.t("unique")),1),n(v,{"model-value":e.fieldData.schema.is_unique,label:e.t("value_unique"),block:"","onUpdate:modelValue":t[16]||(t[16]=_=>e.fieldData.schema.is_unique=_)},null,8,["model-value","label"])])):N("",!0)])])}var CF=q(xS,[["render",wF],["__scopeId","data-v-d88df5ec"]]);const SF=K({props:{isExisting:{type:Boolean,required:!0},type:{type:String,required:!0}},setup(){const{t:e}=ae();return{t:e,fieldData:P.fieldData}}}),FF={class:"form"},VF={key:0,class:"field half-left"},EF={class:"label type-label"},IF={key:1,class:"field half-right"},AF={class:"label type-label"},DF={key:2,class:"field half-left"},OF={class:"label type-label"},PF={key:3,class:"field full"},TF={class:"label type-label"},LF={class:"field full"},jF={class:"label type-label"};function RF(e,t,o,l,d,c){const i=u("v-checkbox"),s=u("v-input"),r=u("interface-list");return m(),I("div",null,[S("div",FF,[e.fieldData.meta?(m(),I("div",VF,[S("div",EF,h(e.t("readonly")),1),n(i,{modelValue:e.fieldData.meta.readonly,"onUpdate:modelValue":t[0]||(t[0]=p=>e.fieldData.meta.readonly=p),label:e.t("disabled_editing_value"),block:""},null,8,["modelValue","label"])])):N("",!0),e.fieldData.meta?(m(),I("div",IF,[S("div",AF,h(e.t("hidden")),1),n(i,{modelValue:e.fieldData.meta.hidden,"onUpdate:modelValue":t[1]||(t[1]=p=>e.fieldData.meta.hidden=p),label:e.t("hidden_on_detail"),block:""},null,8,["modelValue","label"])])):N("",!0),e.fieldData.meta?(m(),I("div",DF,[S("div",OF,h(e.t("required")),1),n(i,{modelValue:e.fieldData.meta.required,"onUpdate:modelValue":t[2]||(t[2]=p=>e.fieldData.meta.required=p),label:e.t("require_value_to_be_set"),block:""},null,8,["modelValue","label"])])):N("",!0),e.type!=="group"?(m(),I("div",PF,[S("div",TF,h(e.t("note")),1),n(s,{modelValue:e.fieldData.meta.note,"onUpdate:modelValue":t[3]||(t[3]=p=>e.fieldData.meta.note=p),placeholder:e.t("add_note")},null,8,["modelValue","placeholder"])])):N("",!0),S("div",LF,[S("div",jF,h(e.t("field_name_translations")),1),n(r,{value:e.fieldData.meta.translations,template:"[{{ language }}] {{ translation }}",fields:[{field:"language",type:"string",name:e.t("language"),meta:{interface:"system-language",width:"half",display:"formatted-value",display_options:{font:"monospace",color:"var(--foreground-subdued)"}},schema:{default_value:"en-US"}},{field:"translation",type:"string",name:e.t("translation"),meta:{interface:"input",width:"half",options:{placeholder:e.t("translation_placeholder")}}}],onInput:t[4]||(t[4]=p=>e.fieldData.meta.translations=p)},null,8,["value","fields"])])])])}var MF=q(SF,[["render",RF],["__scopeId","data-v-497cc020"]]);const UF=K({props:{type:{type:String,required:!0},collection:{type:String,required:!0},isExisting:{type:Boolean,default:!1}},setup(){const{t:e}=ae(),t=qe(),o=ze(),{availableCollections:l,systemCollections:d}=y(),{hasCorresponding:c,correspondingField:i,correspondingLabel:s}=b(),r=E(()=>P.relations[0].related_collection&&!!t.getCollection(P.relations[0].related_collection)),p=E(()=>P.relations[0].related_collection?r.value?o.getPrimaryKeyFieldForCollection(P.relations[0].related_collection).field:"id":""),f=E(()=>{var w;return P.relations[0].related_collection?((w=t.getCollection(P.relations[0].related_collection))==null?void 0:w.name)||Je(P.relations[0].related_collection):null}),v=E(()=>{var w;return P.relations[0].collection?((w=t.getCollection(P.relations[0].collection))==null?void 0:w.name)||Je(P.relations[0].collection):null}),_=E(()=>{var w;return!P.relations[0].collection||!P.relations[0].field?null:((w=o.getField(P.relations[0].collection,P.relations[0].field))==null?void 0:w.name)||Je(P.relations[0].field)});return{t:e,relations:P.relations,availableCollections:l,systemCollections:d,hasCorresponding:c,correspondingField:i,correspondingLabel:s,fieldData:P.fieldData,relatedCollectionExists:r,generationInfo:nl,relatedPrimaryKeyField:p,relatedCollectionName:f,m2oFieldName:_,currentCollectionName:v};function y(){const w=E(()=>H.exports.orderBy(t.collections.filter(V=>V.collection.startsWith("directus_")===!1),["collection"],["asc"])),$=["directus_activity","directus_collections","directus_fields","directus_migrations","directus_relations","directus_revisions","directus_sessions","directus_settings"],k=E(()=>H.exports.orderBy(t.collections.filter(V=>V.collection.startsWith("directus_")===!0),["collection"],["asc"]).filter(V=>$.includes(V.collection)===!1));return{availableCollections:w,systemCollections:k}}function b(){const w=E({get(){return P.newFields.length>0},set(V){V===!0?(P.relations[0].meta=ye(X({},P.relations[0].meta||{}),{one_field:P.relations[0].collection}),P.newFields.push({$type:"corresponding",field:P.relations[0].meta.one_field,collection:P.relations[0].related_collection,meta:{special:["o2m"],interface:"list-o2m"}})):P.newFields=P.newFields.filter(g=>g.$type!=="corresponding")}}),$=E({get(){var V,g;return((g=(V=P.newFields)==null?void 0:V.find(A=>A.$type==="corresponding"))==null?void 0:g.field)||null},set(V){P.newFields=P.newFields.map(g=>g.$type==="corresponding"?ye(X({},g),{field:V}):g),P.relations[0].meta=ye(X({},P.relations[0].meta||{}),{one_field:V})}}),k=E(()=>P.relations[0].related_collection?e("add_o2m_to_collection",{collection:P.relations[0].related_collection}):e("add_field_related"));return{hasCorresponding:w,correspondingField:$,correspondingLabel:k}}}}),NF={class:"grid"},BF={class:"field"},qF={class:"type-label"},zF={class:"field"},KF={class:"type-label"},WF={key:1,class:"grid"},HF={class:"field"},GF={class:"type-label"},QF={class:"field"},XF={class:"type-label"},JF={class:"relational-triggers"},YF={class:"field"},ZF={class:"type-label"},xF={class:"field-name"};function eV(e,t,o,l,d,c){const i=u("v-input"),s=u("v-icon"),r=u("v-list-item-content"),p=u("v-list-item"),f=u("v-divider"),v=u("v-list-group"),_=u("v-list"),y=u("v-menu"),b=u("v-text-overflow"),w=u("v-checkbox"),$=u("v-select"),k=u("v-notice"),V=Ce("tooltip");return m(),I("div",null,[S("div",NF,[S("div",BF,[S("div",qF,h(e.t("this_collection")),1),n(i,{disabled:"","model-value":e.relations[0].collection},null,8,["model-value"])]),S("div",zF,[S("div",KF,h(e.t("related_collection")),1),n(i,{key:"related-collection",modelValue:e.relations[0].related_collection,"onUpdate:modelValue":t[0]||(t[0]=g=>e.relations[0].related_collection=g),class:re({matches:e.relatedCollectionExists}),"db-safe":"",nullable:!1,disabled:e.isExisting,placeholder:e.t("collection")+"..."},Ne({_:2},[e.isExisting?void 0:{name:"append",fn:a(()=>[n(y,{"show-arrow":"",placement:"bottom-end"},{activator:a(({toggle:g})=>[te(n(s,{name:"list_alt",clickable:"",disabled:e.isExisting,onClick:g},null,8,["disabled","onClick"]),[[V,e.t("select_existing")]])]),default:a(()=>[n(_,{class:"monospace"},{default:a(()=>[(m(!0),I(oe,null,he(e.availableCollections,g=>(m(),F(p,{key:g.collection,active:e.relations[0].related_collection===g.collection,clickable:"",onClick:A=>e.relations[0].related_collection=g.collection},{default:a(()=>[n(r,null,{default:a(()=>[O(h(g.collection),1)]),_:2},1024)]),_:2},1032,["active","onClick"]))),128)),n(f),n(v,null,{activator:a(()=>[O(h(e.t("system")),1)]),default:a(()=>[(m(!0),I(oe,null,he(e.systemCollections,g=>(m(),F(p,{key:g.collection,active:e.relations[0].related_collection===g.collection,clickable:"",onClick:A=>e.relations[0].related_collection=g.collection},{default:a(()=>[n(r,null,{default:a(()=>[O(h(g.collection),1)]),_:2},1024)]),_:2},1032,["active","onClick"]))),128))]),_:1})]),_:1})]),_:1})])},e.isExisting?{name:"input",fn:a(()=>[n(b,{text:e.relations[0].related_collection},null,8,["text"])])}:void 0]),1032,["modelValue","class","disabled","placeholder"])]),n(i,{disabled:""},{input:a(()=>[n(b,{text:e.relations[0].field},null,8,["text"])]),_:1}),n(i,{modelValue:e.relatedPrimaryKeyField,"onUpdate:modelValue":t[1]||(t[1]=g=>e.relatedPrimaryKeyField=g),disabled:"",placeholder:e.t("primary_key")+"..."},null,8,["modelValue","placeholder"]),n(s,{class:"arrow",name:"arrow_back"})]),e.isExisting?N("",!0):(m(),F(f,{key:0,large:"","inline-title":!1},{default:a(()=>[O(h(e.t("corresponding_field")),1)]),_:1})),e.isExisting?N("",!0):(m(),I("div",WF,[S("div",HF,[S("div",GF,h(e.t("create_field")),1),n(w,{modelValue:e.hasCorresponding,"onUpdate:modelValue":t[2]||(t[2]=g=>e.hasCorresponding=g),block:"",label:e.correspondingLabel},null,8,["modelValue","label"])]),S("div",QF,[S("div",XF,h(e.t("field_name")),1),n(i,{modelValue:e.correspondingField,"onUpdate:modelValue":t[3]||(t[3]=g=>e.correspondingField=g),disabled:e.hasCorresponding===!1,placeholder:e.t("field_name")+"...","db-safe":""},null,8,["modelValue","disabled","placeholder"])]),n(s,{name:"arrow_forward",class:"arrow"})])),S("div",JF,[n(f,{class:"field full",large:"","inline-title":!1},{default:a(()=>[O(h(e.t("relational_triggers")),1)]),_:1}),S("div",YF,[S("div",ZF,h(e.t("referential_action_field_label_m2o",{collection:e.relatedCollectionName||"related"})),1),n($,{modelValue:e.relations[0].schema.on_delete,"onUpdate:modelValue":t[4]||(t[4]=g=>e.relations[0].schema.on_delete=g),disabled:e.relations[0].collection===e.relations[0].related_collection,placeholder:e.t("choose_action")+"...",items:[{text:e.t("referential_action_set_null",{field:e.m2oFieldName}),value:"SET NULL"},{text:e.t("referential_action_set_default",{field:e.m2oFieldName}),value:"SET DEFAULT"},{text:e.t("referential_action_cascade",{collection:e.currentCollectionName,field:e.m2oFieldName}),value:"CASCADE"},{text:e.t("referential_action_no_action",{field:e.m2oFieldName}),value:"NO ACTION"}]},null,8,["modelValue","disabled","placeholder","items"])])]),e.generationInfo.length>0?(m(),F(k,{key:2,class:"generated-data",type:"warning"},{default:a(()=>[S("span",null,[O(h(e.t("new_data_alert"))+" ",1),S("ul",null,[(m(!0),I(oe,null,he(e.generationInfo,(g,A)=>(m(),I("li",{key:A},[S("span",xF,h(g.name),1),O(" ("+h(e.t(g.type==="field"?"new_field":"new_collection"))+") ",1)]))),128))])])]),_:1})):N("",!0)])}var tV=q(UF,[["render",eV],["__scopeId","data-v-4785e887"]]);const nV=K({props:{type:{type:String,required:!0},collection:{type:String,required:!0},isExisting:{type:Boolean,default:!1}},setup(e){const{t}=ae(),o=qe(),l=ze(),{availableCollections:d,systemCollections:c,fields:i,currentCollectionPrimaryKey:s,collectionMany:r}=k(),{hasCorresponding:p,correspondingLabel:f}=V(),v=E(()=>o.collections.find(g=>{var A;return g.collection===((A=P.relations)==null?void 0:A[0].collection)})!==void 0),_=E(()=>{var g,A;return!((g=P==null?void 0:P.relations)==null?void 0:g[0].collection)||!((A=P==null?void 0:P.relations)==null?void 0:A[0].field)?!1:!!l.getField(P.relations[0].collection,P.relations[0].field)}),y=E(()=>{var g,A,R;return!((g=P==null?void 0:P.relations)==null?void 0:g[0].collection)||!((R=(A=P==null?void 0:P.relations)==null?void 0:A[0].meta)==null?void 0:R.sort_field)?!1:!!l.getField(P.relations[0].collection,P.relations[0].meta.sort_field)}),b=E(()=>{var g;return P.relations[0].collection?((g=o.getCollection(P.relations[0].collection))==null?void 0:g.name)||Je(P.relations[0].collection):null}),w=E(()=>{var g;return P.relations[0].related_collection?((g=o.getCollection(P.relations[0].related_collection))==null?void 0:g.name)||Je(P.relations[0].related_collection):null}),$=E(()=>{var g;return!P.relations[0].collection||!P.relations[0].field?null:((g=l.getField(P.relations[0].collection,P.relations[0].field))==null?void 0:g.name)||Je(P.relations[0].field)});return{t,relations:P.relations,availableCollections:d,systemCollections:c,fields:i,currentCollectionPrimaryKey:s,collectionMany:r,hasCorresponding:p,correspondingLabel:f,relatedCollectionExists:v,relatedFieldExists:_,generationInfo:nl,sortFieldExists:y,relatedCollectionName:b,currentCollectionName:w,m2oFieldName:$};function k(){const g=E(()=>H.exports.orderBy(o.collections.filter(U=>U.collection.startsWith("directus_")===!1),["collection"],["asc"])),A=["directus_activity","directus_collections","directus_fields","directus_migrations","directus_relations","directus_revisions","directus_sessions","directus_settings"],R=E(()=>H.exports.orderBy(o.collections.filter(U=>U.collection.startsWith("directus_")===!0),["collection"],["asc"]).filter(U=>A.includes(U.collection)===!1)),L=E(()=>l.getPrimaryKeyFieldForCollection(e.collection)),M=E(()=>P.relations[0].collection?l.getFieldsForCollectionAlphabetical(P.relations[0].collection).map(U=>{var B;return{text:U.field,value:U.field,disabled:!U.schema||((B=U.schema)==null?void 0:B.is_primary_key)||U.type!==L.value.type}}):[]),T=E({get(){return P.relations[0].collection},set(U){P.relations[0].collection=U,P.relations[0].field=""}});return{availableCollections:g,systemCollections:R,fields:M,currentCollectionPrimaryKey:L,collectionMany:T}}function V(){const g=E({get(){var R,L,M,T,U,B,z,W,J,Q;return!((L=(R=P==null?void 0:P.relations)==null?void 0:R[0])==null?void 0:L.collection)||!((T=(M=P==null?void 0:P.relations)==null?void 0:M[0])==null?void 0:T.field)?!1:_.value===!0?((B=(U=P.updateFields.find(G=>G.field===P.relations[0].field))==null?void 0:U.meta)==null?void 0:B.interface)==="select-dropdown-m2o"||((W=(z=l.getField(P.relations[0].collection,P.relations[0].field))==null?void 0:z.meta)==null?void 0:W.interface)==="select-dropdown-m2o":((Q=(J=P.newFields.find(G=>G.$type==="manyRelated"))==null?void 0:J.meta)==null?void 0:Q.interface)==="select-dropdown-m2o"},set(R){var L,M;!((M=(L=P==null?void 0:P.relations)==null?void 0:L[0])==null?void 0:M.field)||(_.value===!0?R===!0?P.updateFields=[{collection:P.relations[0].related_collection,field:P.relations[0].field,meta:{interface:"select-dropdown-m2o",special:["m2o"]}}]:P.updateFields=[{collection:P.relations[0].related_collection,field:P.relations[0].field,meta:{interface:null,special:null}}]:!!P.newFields.find(U=>U.$type==="manyRelated")===!1?P.newFields=[...P.newFields,{$type:"manyRelated",collection:P.relations[0].related_collection,field:P.relations[0].field,meta:{interface:"select-dropdown-m2o",special:["m2o"]}}]:P.newFields=P.newFields.map(U=>(U.$type==="manyRelated"&&(U.meta||(U.meta={}),R===!0?(U.meta.interface="select-dropdown-m2o",U.meta.special=["m2o"]):(U.meta.interface=null,U.meta.special=null)),U)))}}),A=E(()=>P.relations[0].collection?t("add_m2o_to_collection",{collection:P.relations[0].collection}):t("add_field_related"));return{hasCorresponding:g,correspondingLabel:A}}}}),lV={class:"grid"},aV={class:"field"},oV={class:"type-label"},iV={class:"field"},sV={class:"type-label"},rV={key:1,class:"corresponding"},dV={class:"field"},uV={class:"type-label"},cV={class:"field"},pV={class:"type-label"},mV={class:"sort-field"},fV={class:"relational-triggers"},_V={class:"field"},vV={class:"type-label"},yV={class:"field"},gV={class:"type-label"},hV={class:"field-name"};function bV(e,t,o,l,d,c){const i=u("v-input"),s=u("v-icon"),r=u("v-list-item-content"),p=u("v-list-item"),f=u("v-divider"),v=u("v-list-group"),_=u("v-list"),y=u("v-menu"),b=u("v-text-overflow"),w=u("v-checkbox"),$=u("v-select"),k=u("v-notice"),V=Ce("tooltip");return m(),I("div",null,[S("div",lV,[S("div",aV,[S("div",oV,h(e.t("this_collection")),1),n(i,{disabled:"","model-value":e.collection},null,8,["model-value"])]),S("div",iV,[S("div",sV,h(e.t("related_collection")),1),n(i,{modelValue:e.relations[0].collection,"onUpdate:modelValue":t[0]||(t[0]=g=>e.relations[0].collection=g),"db-safe":"",placeholder:e.t("collection")+"...",nullable:!1,disabled:e.isExisting,class:re({matches:e.relatedCollectionExists})},Ne({_:2},[e.isExisting?void 0:{name:"append",fn:a(()=>[n(y,{"show-arrow":"",placement:"bottom-end"},{activator:a(({toggle:g})=>[te(n(s,{name:"list_alt",clickable:"",disabled:e.isExisting,onClick:g},null,8,["disabled","onClick"]),[[V,e.t("select_existing")]])]),default:a(()=>[n(_,{class:"monospace"},{default:a(()=>[(m(!0),I(oe,null,he(e.availableCollections,g=>(m(),F(p,{key:g.collection,active:e.relations[0].collection===g.collection,clickable:"",onClick:A=>e.relations[0].collection=g.collection},{default:a(()=>[n(r,null,{default:a(()=>[O(h(g.collection),1)]),_:2},1024)]),_:2},1032,["active","onClick"]))),128)),n(f),n(v,null,{activator:a(()=>[O(h(e.t("system")),1)]),default:a(()=>[(m(!0),I(oe,null,he(e.systemCollections,g=>(m(),F(p,{key:g.collection,active:e.relations[0].collection===g.collection,clickable:"",onClick:A=>e.relations[0].collection=g.collection},{default:a(()=>[n(r,null,{default:a(()=>[O(h(g.collection),1)]),_:2},1024)]),_:2},1032,["active","onClick"]))),128))]),_:1})]),_:1})]),_:1})])},e.isExisting?{name:"input",fn:a(()=>[n(b,{text:e.relations[0].collection},null,8,["text"])])}:void 0]),1032,["modelValue","placeholder","disabled","class"])]),n(i,{disabled:"","model-value":e.currentCollectionPrimaryKey.field},{input:a(()=>[n(b,{text:e.currentCollectionPrimaryKey.field},null,8,["text"])]),_:1},8,["model-value"]),n(i,{modelValue:e.relations[0].field,"onUpdate:modelValue":t[1]||(t[1]=g=>e.relations[0].field=g),"db-safe":"",nullable:!1,disabled:e.isExisting,placeholder:e.t("foreign_key")+"...",class:re({matches:e.relatedFieldExists})},Ne({_:2},[e.fields&&e.fields.length>0&&!e.isExisting?{name:"append",fn:a(()=>[n(y,{"show-arrow":"",placement:"bottom-end"},{activator:a(({toggle:g})=>[te(n(s,{name:"list_alt",clickable:"",onClick:g},null,8,["onClick"]),[[V,e.t("select_existing")]])]),default:a(()=>[n(_,{class:"monospace"},{default:a(()=>[(m(!0),I(oe,null,he(e.fields,g=>(m(),F(p,{key:g.value,active:e.relations[0].field===g.value,disabled:g.disabled,clickable:"",onClick:A=>e.relations[0].field=g.value},{default:a(()=>[n(r,null,{default:a(()=>[O(h(g.text),1)]),_:2},1024)]),_:2},1032,["active","disabled","onClick"]))),128))]),_:1})]),_:1})])}:void 0,e.isExisting?{name:"input",fn:a(()=>[n(b,{text:e.relations[0].field},null,8,["text"])])}:void 0]),1032,["modelValue","disabled","placeholder","class"]),n(s,{class:"arrow",name:"arrow_forward"})]),e.isExisting?N("",!0):(m(),F(f,{key:0,large:"","inline-title":!1},{default:a(()=>[O(h(e.t("corresponding_field")),1)]),_:1})),e.isExisting?N("",!0):(m(),I("div",rV,[S("div",dV,[S("div",uV,h(e.t("create_field")),1),n(w,{modelValue:e.hasCorresponding,"onUpdate:modelValue":t[2]||(t[2]=g=>e.hasCorresponding=g),block:"",disabled:e.isExisting,label:e.correspondingLabel},null,8,["modelValue","disabled","label"])]),S("div",cV,[S("div",pV,h(e.t("field_name")),1),n(i,{modelValue:e.relations[0].field,"onUpdate:modelValue":t[3]||(t[3]=g=>e.relations[0].field=g),disabled:"",placeholder:e.t("field_name")+"...","db-safe":""},null,8,["modelValue","placeholder"])]),n(s,{name:"arrow_forward",class:"arrow"})])),S("div",mV,[n(f,{large:"","inline-title":!1},{default:a(()=>[O(h(e.t("sort_field")),1)]),_:1}),n(i,{modelValue:e.relations[0].meta.sort_field,"onUpdate:modelValue":t[4]||(t[4]=g=>e.relations[0].meta.sort_field=g),"db-safe":"",placeholder:e.t("add_sort_field")+"...",class:re({matches:e.sortFieldExists})},Ne({_:2},[e.fields&&e.fields.length>0&&!e.isExisting?{name:"append",fn:a(()=>[n(y,{"show-arrow":"",placement:"bottom-end"},{activator:a(({toggle:g})=>[te(n(s,{name:"list_alt",clickable:"",onClick:g},null,8,["onClick"]),[[V,e.t("select_existing")]])]),default:a(()=>[n(_,{class:"monospace"},{default:a(()=>[(m(!0),I(oe,null,he(e.fields,g=>(m(),F(p,{key:g.value,active:e.relations[0].meta.sort_field===g.value,clickable:"",disabled:g.disabled,onClick:A=>e.relations[0].meta.sort_field=g.value},{default:a(()=>[n(r,null,{default:a(()=>[O(h(g.text),1)]),_:2},1024)]),_:2},1032,["active","disabled","onClick"]))),128))]),_:1})]),_:1})])}:void 0]),1032,["modelValue","placeholder","class"])]),S("div",fV,[n(f,{class:"field full",large:"","inline-title":!1},{default:a(()=>[O(h(e.t("relational_triggers")),1)]),_:1}),S("div",_V,[S("div",vV,h(e.t("referential_action_field_label_o2m",{collection:e.relatedCollectionName||"related"})),1),n($,{modelValue:e.relations[0].meta.one_deselect_action,"onUpdate:modelValue":t[5]||(t[5]=g=>e.relations[0].meta.one_deselect_action=g),placeholder:e.t("choose_action")+"...",items:[{text:e.t("referential_action_set_null",{field:e.m2oFieldName}),value:"nullify"},{text:e.t("referential_action_cascade",{collection:e.relatedCollectionName,field:e.m2oFieldName}),value:"delete"}]},null,8,["modelValue","placeholder","items"])]),S("div",yV,[S("div",gV,h(e.t("referential_action_field_label_m2o",{collection:e.currentCollectionName||"related"})),1),n($,{modelValue:e.relations[0].schema.on_delete,"onUpdate:modelValue":t[6]||(t[6]=g=>e.relations[0].schema.on_delete=g),disabled:e.relations[0].collection===e.relations[0].related_collection,placeholder:e.t("choose_action")+"...",items:[{text:e.t("referential_action_set_null",{field:e.m2oFieldName}),value:"SET NULL"},{text:e.t("referential_action_set_default",{field:e.m2oFieldName}),value:"SET DEFAULT"},{text:e.t("referential_action_cascade",{collection:e.currentCollectionName,field:e.m2oFieldName}),value:"CASCADE"},{text:e.t("referential_action_no_action"),value:"NO ACTION"}]},null,8,["modelValue","disabled","placeholder","items"])])]),e.generationInfo.length>0?(m(),F(k,{key:2,class:"generated-data",type:"warning"},{default:a(()=>[S("span",null,[O(h(e.t("new_data_alert"))+" ",1),S("ul",null,[(m(!0),I(oe,null,he(e.generationInfo,(g,A)=>(m(),I("li",{key:A},[S("span",hV,h(g.name),1),O(" ("+h(e.t(g.type==="field"?"new_field":"new_collection"))+") ",1)]))),128))])])]),_:1})):N("",!0)])}var $V=q(nV,[["render",bV],["__scopeId","data-v-0f71edf9"]]);const kV=K({props:{type:{type:String,required:!0},collection:{type:String,required:!0},isExisting:{type:Boolean,default:!1}},setup(){const{t:e}=ae(),t=qe(),o=ze(),l=E({get(){return P.autoFillJunctionRelation},set(M){P.autoFillJunctionRelation=M}}),d=E(()=>H.exports.orderBy(t.collections.filter(M=>M.collection.startsWith("directus_")===!1),["collection"],["asc"])),c=["directus_activity","directus_collections","directus_fields","directus_migrations","directus_relations","directus_revisions","directus_sessions","directus_settings"],i=E(()=>H.exports.orderBy(t.collections.filter(M=>M.collection.startsWith("directus_")===!0),["collection"],["asc"]).filter(M=>c.includes(M.collection)===!1)),s=E({get(){return P.relations[0].collection},set(M){P.relations[0].collection=M,P.relations[1].collection=M}}),r=E(()=>s.value&&t.getCollection(s.value)!==null),p=E(()=>P.relations[1].related_collection&&t.getCollection(P.relations[1].related_collection)!==null),f=E(()=>s.value?o.getFieldsForCollectionAlphabetical(s.value).map(M=>{var T;return{text:M.field,value:M.field,disabled:P.relations[0].field===M.field||((T=M.schema)==null?void 0:T.is_primary_key)||P.relations[1].field===M.field}}):[]),v=E(()=>o.getPrimaryKeyFieldForCollection(P.relations[0].related_collection).field),_=E(()=>P.relations[1].related_collection?p.value?o.getPrimaryKeyFieldForCollection(P.relations[1].related_collection).field:"id":""),y=E(()=>{var M;return P.relations[0].related_collection?((M=t.getCollection(P.relations[0].related_collection))==null?void 0:M.name)||Je(P.relations[0].related_collection):null}),b=E(()=>{var M;return P.relations[0].collection?((M=t.getCollection(P.relations[0].collection))==null?void 0:M.name)||Je(P.relations[0].collection):null}),w=E(()=>{var M;return!P.relations[0].collection||!P.relations[0].field?null:((M=o.getField(P.relations[0].collection,P.relations[0].field))==null?void 0:M.name)||Je(P.relations[0].field)}),$=E(()=>{var M;return!P.relations[1].collection||!P.relations[1].field?null:((M=o.getField(P.relations[1].collection,P.relations[1].field))==null?void 0:M.name)||Je(P.relations[1].field)}),k=E(()=>{var M;return P.relations[1].related_collection?((M=t.getCollection(P.relations[1].related_collection))==null?void 0:M.name)||Je(P.relations[1].related_collection):null}),{hasCorresponding:V,correspondingField:g,correspondingLabel:A}=L();return{t:e,relations:P.relations,autoFill:l,availableCollections:d,systemCollections:i,junctionCollection:s,junctionFields:f,junctionCollectionExists:r,relatedCollectionExists:p,junctionFieldExists:R,hasCorresponding:V,correspondingField:g,correspondingLabel:A,generationInfo:nl,currentPrimaryKeyField:v,relatedPrimaryKeyField:_,junctionCollectionName:b,junctionM2OFieldName:w,currentCollectionName:y,junctionRelatedM2OFieldName:$,relatedCollectionName:k};function R(M){return!s.value||!M?!1:!!o.getField(s.value,M)}function L(){const M=E({get(){return!!P.newFields.find(B=>B.$type==="corresponding")},set(B){B===!0&&!P.newFields.find(z=>z.$type==="corresponding")?(P.newFields=[...P.newFields,{$type:"corresponding",field:P.relations[0].related_collection,collection:P.relations[1].related_collection,type:"alias",meta:{special:["m2m"],interface:"list-m2m"}}],P.relations[1].meta=ye(X({},P.relations[1].meta||{}),{one_field:P.relations[0].related_collection})):(P.newFields=P.newFields.filter(z=>z.$type!=="corresponding"),P.relations[1].meta=ye(X({},P.relations[1].meta||{}),{one_field:null}))}}),T=E({get(){var B,z;return((z=(B=P.newFields)==null?void 0:B.find(W=>W.$type==="corresponding"))==null?void 0:z.field)||null},set(B){P.newFields=P.newFields.map(z=>z.$type==="corresponding"?ye(X({},z),{field:B}):z),P.relations[1].meta=ye(X({},P.relations[1].meta||{}),{one_field:B})}}),U=E(()=>P.relations[0].related_collection?e("add_m2m_to_collection",{collection:P.relations[1].related_collection}):e("add_field_related"));return{hasCorresponding:M,correspondingField:T,correspondingLabel:U}}}}),ca=e=>(He("data-v-fe66a5b8"),e=e(),Ge(),e),wV={class:"grid"},CV={class:"field"},SV={class:"type-label"},FV={class:"field"},VV={class:"type-label"},EV={class:"field"},IV={class:"type-label"},AV=ca(()=>S("div",{class:"spacer"},null,-1)),DV=ca(()=>S("div",{class:"spacer"},null,-1)),OV=ca(()=>S("div",{class:"spacer"},null,-1)),PV={key:1,class:"corresponding"},TV={class:"field"},LV={class:"type-label"},jV={class:"field"},RV={class:"type-label"},MV={class:"sort-field"},UV={class:"relational-triggers"},NV={class:"field"},BV={class:"type-label"},qV={class:"field"},zV={class:"type-label"},KV={class:"field"},WV={class:"type-label"},HV={class:"field-name"};function GV(e,t,o,l,d,c){const i=u("v-input"),s=u("v-icon"),r=u("v-list-item-content"),p=u("v-list-item"),f=u("v-divider"),v=u("v-list-group"),_=u("v-list"),y=u("v-menu"),b=u("v-text-overflow"),w=u("v-checkbox"),$=u("v-select"),k=u("v-notice"),V=Ce("tooltip");return m(),I("div",null,[S("div",wV,[S("div",CV,[S("div",SV,h(e.t("this_collection")),1),n(i,{disabled:"","model-value":e.relations[0].related_collection},null,8,["model-value"])]),S("div",FV,[S("div",VV,h(e.t("junction_collection")),1),n(i,{modelValue:e.junctionCollection,"onUpdate:modelValue":t[0]||(t[0]=g=>e.junctionCollection=g),class:re({matches:e.junctionCollectionExists}),nullable:!1,placeholder:e.t("collection")+"...",disabled:e.autoFill||e.isExisting,"db-safe":""},Ne({_:2},[e.isExisting?void 0:{name:"append",fn:a(()=>[n(y,{"show-arrow":"",placement:"bottom-end"},{activator:a(({toggle:g})=>[te(n(s,{name:"list_alt",clickable:"",disabled:e.autoFill||e.isExisting,onClick:g},null,8,["disabled","onClick"]),[[V,e.t("select_existing")]])]),default:a(()=>[n(_,{class:"monospace"},{default:a(()=>[(m(!0),I(oe,null,he(e.availableCollections,g=>(m(),F(p,{key:g.collection,active:e.relations[0].collection===g.collection,clickable:"",onClick:A=>e.junctionCollection=g.collection},{default:a(()=>[n(r,null,{default:a(()=>[O(h(g.collection),1)]),_:2},1024)]),_:2},1032,["active","onClick"]))),128)),n(f),n(v,null,{activator:a(()=>[O(h(e.t("system")),1)]),default:a(()=>[(m(!0),I(oe,null,he(e.systemCollections,g=>(m(),F(p,{key:g.collection,active:e.relations[0].collection===g.collection,clickable:"",onClick:A=>e.junctionCollection=g.collection},{default:a(()=>[n(r,null,{default:a(()=>[O(h(g.collection),1)]),_:2},1024)]),_:2},1032,["active","onClick"]))),128))]),_:1})]),_:1})]),_:1})])},e.isExisting?{name:"input",fn:a(()=>[n(b,{text:e.junctionCollection},null,8,["text"])])}:void 0]),1032,["modelValue","class","placeholder","disabled"])]),S("div",EV,[S("div",IV,h(e.t("related_collection")),1),n(i,{modelValue:e.relations[1].related_collection,"onUpdate:modelValue":t[1]||(t[1]=g=>e.relations[1].related_collection=g),autofocus:e.autoFill,class:re({matches:e.relatedCollectionExists}),nullable:!1,placeholder:e.t("collection")+"...",disabled:e.type==="files"||e.isExisting,"db-safe":""},Ne({append:a(()=>[n(y,{"show-arrow":"",placement:"bottom-end"},Ne({default:a(()=>[n(_,{class:"monospace"},{default:a(()=>[(m(!0),I(oe,null,he(e.availableCollections,g=>(m(),F(p,{key:g.collection,active:e.relations[1].related_collection===g.collection,clickable:"",onClick:A=>e.relations[1].related_collection=g.collection},{default:a(()=>[n(r,null,{default:a(()=>[O(h(g.collection),1)]),_:2},1024)]),_:2},1032,["active","onClick"]))),128)),n(f),n(v,null,{activator:a(()=>[O(h(e.t("system")),1)]),default:a(()=>[(m(!0),I(oe,null,he(e.systemCollections,g=>(m(),F(p,{key:g.collection,active:e.relations[1].related_collection===g.collection,clickable:"",onClick:A=>e.relations[1].related_collection=g.collection},{default:a(()=>[n(r,null,{default:a(()=>[O(h(g.collection),1)]),_:2},1024)]),_:2},1032,["active","onClick"]))),128))]),_:1})]),_:1})]),_:2},[e.isExisting?void 0:{name:"activator",fn:a(({toggle:g})=>[te(n(s,{name:"list_alt",clickable:"",disabled:e.type==="files"||e.isExisting,onClick:g},null,8,["disabled","onClick"]),[[V,e.t("select_existing")]])])}]),1024)]),_:2},[e.isExisting?{name:"input",fn:a(()=>[n(b,{text:e.relations[1].related_collection},null,8,["text"])])}:void 0]),1032,["modelValue","autofocus","class","placeholder","disabled"])]),n(i,{disabled:"","model-value":e.currentPrimaryKeyField},null,8,["model-value"]),n(i,{modelValue:e.relations[0].field,"onUpdate:modelValue":t[2]||(t[2]=g=>e.relations[0].field=g),class:re({matches:e.junctionFieldExists(e.relations[0].field)}),nullable:!1,placeholder:e.t("foreign_key")+"...",disabled:e.autoFill||e.isExisting,"db-safe":""},Ne({_:2},[e.junctionCollectionExists&&!e.isExisting?{name:"append",fn:a(()=>[n(y,{"show-arrow":"",placement:"bottom-end"},{activator:a(({toggle:g})=>[te(n(s,{name:"list_alt",clickable:"",disabled:e.autoFill||e.isExisting,onClick:g},null,8,["disabled","onClick"]),[[V,e.t("select_existing")]])]),default:a(()=>[n(_,{class:"monospace"},{default:a(()=>[(m(!0),I(oe,null,he(e.junctionFields,g=>(m(),F(p,{key:g.value,active:e.relations[0].field===g.value,disabled:g.disabled,clickable:"",onClick:A=>e.relations[0].field=g.value},{default:a(()=>[n(r,null,{default:a(()=>[O(h(g.text),1)]),_:2},1024)]),_:2},1032,["active","disabled","onClick"]))),128))]),_:1})]),_:1})])}:void 0,e.isExisting?{name:"input",fn:a(()=>[n(b,{text:e.relations[0].field},null,8,["text"])])}:void 0]),1032,["modelValue","class","placeholder","disabled"]),AV,DV,n(i,{modelValue:e.relations[1].field,"onUpdate:modelValue":t[3]||(t[3]=g=>e.relations[1].field=g),class:re({matches:e.junctionFieldExists(e.relations[1].field)}),nullable:!1,placeholder:e.t("foreign_key")+"...",disabled:e.autoFill||e.isExisting,"db-safe":""},Ne({_:2},[e.junctionCollectionExists&&!e.isExisting?{name:"append",fn:a(()=>[n(y,{"show-arrow":"",placement:"bottom-end"},{activator:a(({toggle:g})=>[te(n(s,{name:"list_alt",clickable:"",disabled:e.autoFill||e.isExisting,onClick:g},null,8,["disabled","onClick"]),[[V,e.t("select_existing")]])]),default:a(()=>[n(_,{class:"monospace"},{default:a(()=>[(m(!0),I(oe,null,he(e.junctionFields,g=>(m(),F(p,{key:g.value,active:e.relations[1].field===g.value,disabled:g.disabled,clickable:"",onClick:A=>e.relations[1].field=g.value},{default:a(()=>[n(r,null,{default:a(()=>[O(h(g.text),1)]),_:2},1024)]),_:2},1032,["active","disabled","onClick"]))),128))]),_:1})]),_:1})])}:void 0,e.isExisting?{name:"input",fn:a(()=>[n(b,{text:e.relations[1].field},null,8,["text"])])}:void 0]),1032,["modelValue","class","placeholder","disabled"]),n(i,{modelValue:e.relatedPrimaryKeyField,"onUpdate:modelValue":t[4]||(t[4]=g=>e.relatedPrimaryKeyField=g),disabled:"",placeholder:e.t("primary_key")+"..."},null,8,["modelValue","placeholder"]),OV,e.isExisting?N("",!0):(m(),F(w,{key:0,modelValue:e.autoFill,"onUpdate:modelValue":t[5]||(t[5]=g=>e.autoFill=g),block:"",label:e.t("auto_fill")},null,8,["modelValue","label"])),n(s,{class:"arrow",name:"arrow_forward"}),n(s,{class:"arrow",name:"arrow_backward"})]),e.isExisting?N("",!0):(m(),F(f,{key:0,large:"","inline-title":!1},{default:a(()=>[O(h(e.t("corresponding_field")),1)]),_:1})),e.isExisting?N("",!0):(m(),I("div",PV,[S("div",TV,[S("div",LV,h(e.t("create_field")),1),n(w,{modelValue:e.hasCorresponding,"onUpdate:modelValue":t[6]||(t[6]=g=>e.hasCorresponding=g),block:"",label:e.correspondingLabel},null,8,["modelValue","label"])]),S("div",jV,[S("div",RV,h(e.t("field_name")),1),n(i,{modelValue:e.correspondingField,"onUpdate:modelValue":t[7]||(t[7]=g=>e.correspondingField=g),disabled:e.hasCorresponding===!1,placeholder:e.t("field_name")+"...","db-safe":""},null,8,["modelValue","disabled","placeholder"])]),n(s,{name:"arrow_forward",class:"arrow"})])),S("div",MV,[n(f,{large:"","inline-title":!1},{default:a(()=>[O(h(e.t("sort_field")),1)]),_:1}),n(i,{modelValue:e.relations[0].meta.sort_field,"onUpdate:modelValue":t[8]||(t[8]=g=>e.relations[0].meta.sort_field=g),class:re({matches:e.junctionFieldExists(e.relations[0].meta.sort_field)}),placeholder:e.t("add_sort_field")+"...","db-safe":""},Ne({_:2},[e.junctionCollectionExists?{name:"append",fn:a(()=>[n(y,{"show-arrow":"",placement:"bottom-end"},{activator:a(({toggle:g})=>[te(n(s,{name:"list_alt",clickable:"",onClick:g},null,8,["onClick"]),[[V,e.t("select_existing")]])]),default:a(()=>[n(_,{class:"monospace"},{default:a(()=>[(m(!0),I(oe,null,he(e.junctionFields,g=>(m(),F(p,{key:g.value,active:e.relations[0].meta.sort_field===g.value,disabled:g.disabled,clickable:"",onClick:A=>e.relations[0].meta.sort_field=g.value},{default:a(()=>[n(r,null,{default:a(()=>[O(h(g.text),1)]),_:2},1024)]),_:2},1032,["active","disabled","onClick"]))),128))]),_:1})]),_:1})])}:void 0]),1032,["modelValue","class","placeholder"])]),S("div",UV,[n(f,{class:"field full",large:"","inline-title":!1},{default:a(()=>[O(h(e.t("relational_triggers")),1)]),_:1}),S("div",NV,[S("div",BV,h(e.t("referential_action_field_label_o2m",{collection:e.junctionCollectionName||""})),1),n($,{modelValue:e.relations[0].meta.one_deselect_action,"onUpdate:modelValue":t[9]||(t[9]=g=>e.relations[0].meta.one_deselect_action=g),placeholder:e.t("choose_action")+"...",items:[{text:e.t("referential_action_set_null",{collection:e.junctionCollectionName,field:e.junctionM2OFieldName}),value:"nullify"},{text:e.t("referential_action_cascade",{collection:e.junctionCollectionName,field:e.junctionM2OFieldName}),value:"delete"}]},null,8,["modelValue","placeholder","items"])]),S("div",qV,[S("div",zV,h(e.t("referential_action_field_label_m2o",{collection:e.currentCollectionName||"related"})),1),n($,{modelValue:e.relations[0].schema.on_delete,"onUpdate:modelValue":t[10]||(t[10]=g=>e.relations[0].schema.on_delete=g),disabled:e.relations[0].collection===e.relations[0].related_collection,placeholder:e.t("choose_action")+"...",items:[{text:e.t("referential_action_set_null",{field:e.junctionM2OFieldName}),value:"SET NULL"},{text:e.t("referential_action_set_default",{field:e.junctionM2OFieldName}),value:"SET DEFAULT"},{text:e.t("referential_action_cascade",{collection:e.junctionCollectionName,field:e.junctionM2OFieldName}),value:"CASCADE"},{text:e.t("referential_action_no_action"),value:"NO ACTION"}]},null,8,["modelValue","disabled","placeholder","items"])]),S("div",KV,[S("div",WV,h(e.t("referential_action_field_label_m2o",{collection:e.relatedCollectionName||"related"})),1),n($,{modelValue:e.relations[1].schema.on_delete,"onUpdate:modelValue":t[11]||(t[11]=g=>e.relations[1].schema.on_delete=g),disabled:e.relations[1].collection===e.relations[1].related_collection,placeholder:e.t("choose_action")+"...",items:[{text:e.t("referential_action_set_null",{field:e.junctionRelatedM2OFieldName}),value:"SET NULL"},{text:e.t("referential_action_set_default",{field:e.junctionRelatedM2OFieldName}),value:"SET DEFAULT"},{text:e.t("referential_action_cascade",{collection:e.junctionCollectionName,field:e.junctionRelatedM2OFieldName}),value:"CASCADE"},{text:e.t("referential_action_no_action"),value:"NO ACTION"}]},null,8,["modelValue","disabled","placeholder","items"])])]),e.generationInfo.length>0?(m(),F(k,{key:2,class:"generated-data",type:"warning"},{default:a(()=>[S("span",null,[O(h(e.t("new_data_alert"))+" ",1),S("ul",null,[(m(!0),I(oe,null,he(e.generationInfo,(g,A)=>(m(),I("li",{key:A},[S("span",HV,h(g.name),1),O(" ("+h(e.t(g.type==="field"?"new_field":"new_collection"))+") ",1)]))),128))])])]),_:1})):N("",!0)])}var QV=q(kV,[["render",GV],["__scopeId","data-v-fe66a5b8"]]);const XV=K({props:{type:{type:String,required:!0},collection:{type:String,required:!0},isExisting:{type:Boolean,default:!1}},setup(e){const{t}=ae(),o=qe(),l=ze(),d=E({get(){return P.autoFillJunctionRelation},set(w){P.autoFillJunctionRelation=w}}),c=E(()=>H.exports.orderBy([...o.collections.filter(w=>w.collection.startsWith("directus_")===!1),{divider:!0},{name:t("system"),selectable:!1,children:o.collections.filter(w=>w.collection.startsWith("directus_")===!0)}],["collection"],["asc"])),i=E(()=>H.exports.orderBy(o.collections.filter(w=>w.collection.startsWith("directus_")===!0),["collection"],["asc"])),s=E({get(){return P.relations[0].collection},set(w){P.relations[0].collection=w,P.relations[1].collection=w}}),r=E(()=>s.value&&o.getCollection(s.value)!==null),p=E(()=>s.value?l.getFieldsForCollectionAlphabetical(s.value).map(w=>{var $,k,V,g,A;return{text:w.field,value:w.field,disabled:((k=($=P.relations)==null?void 0:$[0])==null?void 0:k.field)===w.field||((V=w.schema)==null?void 0:V.is_primary_key)||((A=(g=P.relations)==null?void 0:g[1])==null?void 0:A.field)===w.field}}):[]),f=E(()=>{var w;return(w=l.getPrimaryKeyFieldForCollection(e.collection))==null?void 0:w.field}),v=E(()=>{var w;return P.relations[0].collection?((w=o.getCollection(P.relations[0].collection))==null?void 0:w.name)||Je(P.relations[0].collection):null}),_=E(()=>{var w;return P.relations[0].related_collection?((w=o.getCollection(P.relations[0].related_collection))==null?void 0:w.name)||Je(P.relations[0].related_collection):null}),y=E(()=>{var w;return!P.relations[0].collection||!P.relations[0].field?null:((w=l.getField(P.relations[0].collection,P.relations[0].field))==null?void 0:w.name)||Je(P.relations[0].field)});return{t,relations:P.relations,autoFill:d,availableCollections:c,systemCollections:i,junctionCollection:s,junctionFields:p,junctionCollectionExists:r,junctionFieldExists:b,generationInfo:nl,currentPrimaryKeyField:f,relatedCollectionName:v,currentCollectionName:_,m2oFieldName:y};function b(w){return!s.value||!w?!1:!!l.getField(s.value,w)}}}),pa=e=>(He("data-v-7f853afb"),e=e(),Ge(),e),JV={class:"grid"},YV={class:"field"},ZV={class:"type-label"},xV={class:"field"},eE={class:"type-label"},tE={class:"field"},nE={class:"type-label"},lE={class:"related-collections-preview"},aE=pa(()=>S("div",{class:"spacer"},null,-1)),oE=pa(()=>S("div",{class:"spacer"},null,-1)),iE=pa(()=>S("div",{class:"spacer"},null,-1)),sE={class:"sort-field"},rE={class:"relational-triggers"},dE={class:"field"},uE={class:"type-label"},cE={class:"field"},pE={class:"type-label"},mE={class:"field-name"};function fE(e,t,o,l,d,c){const i=u("v-input"),s=u("v-icon"),r=u("v-list-item-content"),p=u("v-list-item"),f=u("v-divider"),v=u("v-list-group"),_=u("v-list"),y=u("v-menu"),b=u("v-text-overflow"),w=u("v-select"),$=u("v-checkbox"),k=u("v-notice"),V=Ce("tooltip");return m(),I("div",null,[S("div",JV,[S("div",YV,[S("div",ZV,h(e.t("this_collection")),1),n(i,{disabled:"","model-value":e.relations[0].related_collection},null,8,["model-value"])]),S("div",xV,[S("div",eE,h(e.t("junction_collection")),1),n(i,{modelValue:e.junctionCollection,"onUpdate:modelValue":t[0]||(t[0]=g=>e.junctionCollection=g),class:re({matches:e.junctionCollectionExists}),nullable:!1,placeholder:e.t("collection")+"...",disabled:e.autoFill||e.isExisting,"db-safe":""},Ne({_:2},[e.isExisting?void 0:{name:"append",fn:a(()=>[n(y,{"show-arrow":"",placement:"bottom-end"},{activator:a(({toggle:g})=>[te(n(s,{name:"list_alt",clickable:"",disabled:e.autoFill||e.isExisting,onClick:g},null,8,["disabled","onClick"]),[[V,e.t("select_existing")]])]),default:a(()=>[n(_,{class:"monospace"},{default:a(()=>[(m(!0),I(oe,null,he(e.availableCollections,g=>(m(),F(p,{key:g.collection,active:e.relations[0].collection===g.collection,clickable:"",onClick:A=>e.relations[0].collection=g.collection},{default:a(()=>[n(r,null,{default:a(()=>[O(h(g.collection),1)]),_:2},1024)]),_:2},1032,["active","onClick"]))),128)),n(f),n(v,null,{activator:a(()=>[O(h(e.t("system")),1)]),default:a(()=>[(m(!0),I(oe,null,he(e.systemCollections,g=>(m(),F(p,{key:g.collection,active:e.relations[0].collection===g.collection,clickable:"",onClick:A=>e.relations[0].collection=g.collection},{default:a(()=>[n(r,null,{default:a(()=>[O(h(g.collection),1)]),_:2},1024)]),_:2},1032,["active","onClick"]))),128))]),_:1})]),_:1})]),_:1})])},e.isExisting?{name:"input",fn:a(()=>[n(b,{text:e.junctionCollection},null,8,["text"])])}:void 0]),1032,["modelValue","class","placeholder","disabled"])]),S("div",tE,[S("div",nE,h(e.t("related_collections")),1),n(w,{modelValue:e.relations[1].meta.one_allowed_collections,"onUpdate:modelValue":t[1]||(t[1]=g=>e.relations[1].meta.one_allowed_collections=g),placeholder:e.t("collection")+"...",items:e.availableCollections,"item-value":"collection","item-text":"name","item-disabled":"meta.singleton",multiple:"","multiple-preview-threshold":0},null,8,["modelValue","placeholder","items"])]),n(i,{disabled:""},{input:a(()=>[n(b,{text:e.currentPrimaryKeyField},null,8,["text"])]),_:1}),n(i,{modelValue:e.relations[0].field,"onUpdate:modelValue":t[2]||(t[2]=g=>e.relations[0].field=g),class:re({matches:e.junctionFieldExists(e.relations[0].field)}),nullable:!1,placeholder:e.t("foreign_key")+"...",disabled:e.autoFill||e.isExisting,"db-safe":""},Ne({_:2},[e.junctionCollectionExists&&!e.isExisting?{name:"append",fn:a(()=>[n(y,{"show-arrow":"",placement:"bottom-end"},{activator:a(({toggle:g})=>[te(n(s,{name:"list_alt",clickable:"",disabled:e.autoFill||e.isExisting,onClick:g},null,8,["disabled","onClick"]),[[V,e.t("select_existing")]])]),default:a(()=>[n(_,{class:"monospace"},{default:a(()=>[(m(!0),I(oe,null,he(e.junctionFields,g=>(m(),F(p,{key:g.value,active:e.relations[0].field===g.value,disabled:g.disabled,clickable:"",onClick:A=>e.relations[0].field=g.value},{default:a(()=>[n(r,null,{default:a(()=>[O(h(g.text),1)]),_:2},1024)]),_:2},1032,["active","disabled","onClick"]))),128))]),_:1})]),_:1})])}:void 0,e.isExisting?{name:"input",fn:a(()=>[n(b,{text:e.relations[0].field},null,8,["text"])])}:void 0]),1032,["modelValue","class","placeholder","disabled"]),S("div",lE,h((e.relations[1].meta.one_allowed_collections||[]).join(", ")),1),aE,n(i,{modelValue:e.relations[1].meta.one_collection_field,"onUpdate:modelValue":t[3]||(t[3]=g=>e.relations[1].meta.one_collection_field=g),class:re(["one-collection-field",{matches:e.junctionFieldExists(e.relations[0].meta.one_collection_field)}]),nullable:!1,placeholder:e.t("collection_key")+"...",disabled:e.autoFill||e.isExisting,"db-safe":""},Ne({_:2},[e.junctionCollectionExists&&!e.isExisting?{name:"append",fn:a(()=>[n(y,{"show-arrow":"",placement:"bottom-end"},{activator:a(({toggle:g})=>[te(n(s,{name:"list_alt",clickable:"",disabled:e.autoFill||e.isExisting,onClick:g},null,8,["disabled","onClick"]),[[V,e.t("select_existing")]])]),default:a(()=>[n(_,{class:"monospace"},{default:a(()=>[(m(!0),I(oe,null,he(e.junctionFields,g=>(m(),F(p,{key:g.value,active:e.relations[0].field===g.value,disabled:g.disabled,clickable:"",onClick:A=>e.relations[0].field=g.value},{default:a(()=>[n(r,null,{default:a(()=>[O(h(g.text),1)]),_:2},1024)]),_:2},1032,["active","disabled","onClick"]))),128))]),_:1})]),_:1})])}:void 0,e.isExisting?{name:"input",fn:a(()=>[n(b,{text:e.relations[1].meta.one_collection_field},null,8,["text"])])}:void 0]),1032,["modelValue","class","placeholder","disabled"]),oE,n(i,{modelValue:e.relations[1].field,"onUpdate:modelValue":t[4]||(t[4]=g=>e.relations[1].field=g),class:re({matches:e.junctionFieldExists(e.relations[1].field)}),nullable:!1,placeholder:e.t("foreign_key")+"...",disabled:e.autoFill||e.isExisting,"db-safe":""},Ne({_:2},[e.junctionCollectionExists&&!e.isExisting?{name:"append",fn:a(()=>[n(y,{"show-arrow":"",placement:"bottom-end"},{activator:a(({toggle:g})=>[te(n(s,{name:"list_alt",clickable:"",disabled:e.autoFill||e.isExisting,onClick:g},null,8,["disabled","onClick"]),[[V,e.t("select_existing")]])]),default:a(()=>[n(_,{class:"monospace"},{default:a(()=>[(m(!0),I(oe,null,he(e.junctionFields,g=>(m(),F(p,{key:g.value,active:e.relations[1].field===g.value,disabled:g.disabled,clickable:"",onClick:A=>e.relations[1].field=g.value},{default:a(()=>[n(r,null,{default:a(()=>[O(h(g.text),1)]),_:2},1024)]),_:2},1032,["active","disabled","onClick"]))),128))]),_:1})]),_:1})])}:void 0,e.isExisting?{name:"input",fn:a(()=>[n(b,{text:e.relations[1].field},null,8,["text"])])}:void 0]),1032,["modelValue","class","placeholder","disabled"]),n(i,{disabled:"","model-value":e.t("primary_key")},null,8,["model-value"]),iE,e.isExisting?N("",!0):(m(),F($,{key:0,modelValue:e.autoFill,"onUpdate:modelValue":t[5]||(t[5]=g=>e.autoFill=g),block:"",label:e.t("auto_fill")},null,8,["modelValue","label"])),n(s,{class:"arrow",name:"arrow_forward"}),n(s,{class:"arrow",name:"arrow_backward"}),n(s,{class:"arrow",name:"arrow_backward"})]),S("div",sE,[n(f,{large:"","inline-title":!1},{default:a(()=>[O(h(e.t("sort_field")),1)]),_:1}),n(i,{modelValue:e.relations[0].meta.sort_field,"onUpdate:modelValue":t[6]||(t[6]=g=>e.relations[0].meta.sort_field=g),class:re({matches:e.junctionFieldExists(e.relations[0].meta.sort_field)}),placeholder:e.t("add_sort_field")+"...","db-safe":""},Ne({_:2},[e.junctionCollectionExists&&!e.isExisting?{name:"append",fn:a(()=>[n(y,{"show-arrow":"",placement:"bottom-end"},{activator:a(({toggle:g})=>[te(n(s,{name:"list_alt",clickable:"",onClick:g},null,8,["onClick"]),[[V,e.t("select_existing")]])]),default:a(()=>[n(_,{class:"monospace"},{default:a(()=>[(m(!0),I(oe,null,he(e.junctionFields,g=>(m(),F(p,{key:g.value,active:e.relations[0].meta.sort_field===g.value,disabled:g.disabled,clickable:"",onClick:A=>e.relations[0].meta.sort_field=g.value},{default:a(()=>[n(r,null,{default:a(()=>[O(h(g.text),1)]),_:2},1024)]),_:2},1032,["active","disabled","onClick"]))),128))]),_:1})]),_:1})])}:void 0]),1032,["modelValue","class","placeholder"])]),S("div",rE,[n(f,{class:"field full",large:"","inline-title":!1},{default:a(()=>[O(h(e.t("relational_triggers")),1)]),_:1}),S("div",dE,[S("div",uE,h(e.t("referential_action_field_label_m2o",{collection:e.currentCollectionName||"related"})),1),n(w,{modelValue:e.relations[0].schema.on_delete,"onUpdate:modelValue":t[7]||(t[7]=g=>e.relations[0].schema.on_delete=g),disabled:e.relations[0].collection===e.relations[0].related_collection,placeholder:e.t("choose_action")+"...",items:[{text:e.t("referential_action_set_null",{field:e.m2oFieldName}),value:"SET NULL"},{text:e.t("referential_action_set_default",{field:e.m2oFieldName}),value:"SET DEFAULT"},{text:e.t("referential_action_cascade",{collection:e.relatedCollectionName,field:e.m2oFieldName}),value:"CASCADE"},{text:e.t("referential_action_no_action"),value:"NO ACTION"}]},null,8,["modelValue","disabled","placeholder","items"])]),S("div",cE,[S("div",pE,h(e.t("referential_action_field_label_o2m",{collection:e.relatedCollectionName||"related"})),1),n(w,{modelValue:e.relations[0].meta.one_deselect_action,"onUpdate:modelValue":t[8]||(t[8]=g=>e.relations[0].meta.one_deselect_action=g),placeholder:e.t("choose_action")+"...",items:[{text:e.t("referential_action_set_null",{field:e.m2oFieldName}),value:"nullify"},{text:e.t("referential_action_cascade",{collection:e.relatedCollectionName,field:e.m2oFieldName}),value:"delete"}]},null,8,["modelValue","placeholder","items"])])]),e.generationInfo.length>0?(m(),F(k,{key:0,class:"generated-data",type:"warning"},{default:a(()=>[S("span",null,[O(h(e.t("new_data_alert"))+" ",1),S("ul",null,[(m(!0),I(oe,null,he(e.generationInfo,(g,A)=>(m(),I("li",{key:A},[S("span",mE,h(g.name),1),O(" ("+h(e.t(g.type==="field"?"new_field":"new_collection"))+") ",1)]))),128))])])]),_:1})):N("",!0)])}var _E=q(XV,[["render",fE],["__scopeId","data-v-7f853afb"]]);const vE=K({components:{RelationshipM2o:tV,RelationshipO2m:$V,RelationshipM2m:QV,RelationshipM2a:_E},props:{type:{type:String,required:!0},collection:{type:String,required:!0},isExisting:{type:Boolean,default:!1}}});function yE(e,t,o,l,d,c){const i=u("relationship-m2o"),s=u("relationship-o2m"),r=u("relationship-m2m"),p=u("relationship-m2a");return e.type==="m2o"||e.type==="file"?(m(),F(i,{key:0,collection:e.collection,"is-existing":e.isExisting,type:e.type},null,8,["collection","is-existing","type"])):e.type==="o2m"?(m(),F(s,{key:1,collection:e.collection,"is-existing":e.isExisting,type:e.type},null,8,["collection","is-existing","type"])):e.type==="m2m"||e.type==="files"?(m(),F(r,{key:2,collection:e.collection,"is-existing":e.isExisting,type:e.type},null,8,["collection","is-existing","type"])):e.type==="m2a"?(m(),F(p,{key:3,collection:e.collection,"is-existing":e.isExisting,type:e.type},null,8,["collection","is-existing","type"])):N("",!0)}var gE=q(vE,[["render",yE]]);const hE=K({props:{type:{type:String,required:!0},collection:{type:String,required:!0},isExisting:{type:Boolean,default:!1}},setup(){const{t:e}=ae(),t=qe(),o=ze(),l=E({get(){return P.autoFillJunctionRelation},set(g){P.autoFillJunctionRelation=g}}),d=E(()=>H.exports.orderBy(t.collections.filter(g=>g.collection.startsWith("directus_")===!1),["collection"],["asc"])),c=["directus_activity","directus_collections","directus_fields","directus_migrations","directus_relations","directus_revisions","directus_sessions","directus_settings"],i=E(()=>H.exports.orderBy(t.collections.filter(g=>g.collection.startsWith("directus_")===!0),["collection"],["asc"]).filter(g=>c.includes(g.collection)===!1)),s=E({get(){return P.relations[0].collection},set(g){P.relations[0].collection=g,P.relations[1].collection=g}}),r=E(()=>s.value&&t.getCollection(s.value)!==null),p=E(()=>P.relations[1].related_collection&&t.getCollection(P.relations[1].related_collection)!==null),f=E(()=>s.value?o.getFieldsForCollection(s.value).map(g=>{var A;return{text:g.field,value:g.field,disabled:P.relations[0].field===g.field||((A=g.schema)==null?void 0:A.is_primary_key)||P.relations[1].field===g.field}}):[]),v=E(()=>o.getPrimaryKeyFieldForCollection(P.relations[0].related_collection).field),_=E(()=>P.relations[1].related_collection?p.value?o.getPrimaryKeyFieldForCollection(P.relations[1].related_collection).field:"id":""),y=E(()=>{var g;return P.relations[0].related_collection?((g=t.getCollection(P.relations[0].related_collection))==null?void 0:g.name)||Je(P.relations[0].related_collection):null}),b=E(()=>{var g;return P.relations[0].collection?((g=t.getCollection(P.relations[0].collection))==null?void 0:g.name)||Je(P.relations[0].collection):null}),w=E(()=>{var g;return!P.relations[0].collection||!P.relations[0].field?null:((g=o.getField(P.relations[0].collection,P.relations[0].field))==null?void 0:g.name)||Je(P.relations[0].field)}),$=E(()=>{var g;return!P.relations[1].collection||!P.relations[1].field?null:((g=o.getField(P.relations[1].collection,P.relations[1].field))==null?void 0:g.name)||Je(P.relations[1].field)}),k=E(()=>{var g;return P.relations[1].related_collection?((g=t.getCollection(P.relations[1].related_collection))==null?void 0:g.name)||Je(P.relations[1].related_collection):null});return{t:e,relations:P.relations,autoFill:l,availableCollections:d,systemCollections:i,junctionCollection:s,junctionFields:f,junctionCollectionExists:r,relatedCollectionExists:p,junctionFieldExists:V,currentPrimaryKeyField:v,relatedPrimaryKeyField:_,junctionCollectionName:b,junctionM2OFieldName:w,currentCollectionName:y,junctionRelatedM2OFieldName:$,relatedCollectionName:k};function V(g){return s.value?!!o.getField(s.value,g):!1}}}),ma=e=>(He("data-v-334b4296"),e=e(),Ge(),e),bE={class:"grid"},$E={class:"field"},kE={class:"type-label"},wE={class:"field"},CE={class:"type-label"},SE={class:"field"},FE={class:"type-label"},VE=ma(()=>S("div",{class:"spacer"},null,-1)),EE=ma(()=>S("div",{class:"spacer"},null,-1)),IE=ma(()=>S("div",{class:"spacer"},null,-1)),AE={class:"relational-triggers"},DE={class:"field"},OE={class:"type-label"},PE={class:"field"},TE={class:"type-label"},LE={class:"field"},jE={class:"type-label"};function RE(e,t,o,l,d,c){const i=u("v-input"),s=u("v-icon"),r=u("v-list-item-content"),p=u("v-list-item"),f=u("v-divider"),v=u("v-list-group"),_=u("v-list"),y=u("v-menu"),b=u("v-checkbox"),w=u("v-select"),$=Ce("tooltip");return m(),I("div",null,[S("div",bE,[S("div",$E,[S("div",kE,h(e.t("this_collection")),1),n(i,{disabled:"","model-value":e.relations[0].related_collection},null,8,["model-value"])]),S("div",wE,[S("div",CE,h(e.t("translations_collection")),1),n(i,{modelValue:e.junctionCollection,"onUpdate:modelValue":t[0]||(t[0]=k=>e.junctionCollection=k),class:re({matches:e.junctionCollectionExists}),nullable:!1,placeholder:e.t("collection")+"...",disabled:e.autoFill||e.isExisting,"db-safe":""},{append:a(()=>[n(y,{"show-arrow":"",placement:"bottom-end"},{activator:a(({toggle:k})=>[te(n(s,{name:"list_alt",clickable:"",disabled:e.autoFill||e.isExisting,onClick:k},null,8,["disabled","onClick"]),[[$,e.t("select_existing")]])]),default:a(()=>[n(_,{class:"monospace"},{default:a(()=>[(m(!0),I(oe,null,he(e.availableCollections,k=>(m(),F(p,{key:k.collection,active:e.relations[0].collection===k.collection,clickable:"",onClick:V=>e.relations[0].collection=k.collection},{default:a(()=>[n(r,null,{default:a(()=>[O(h(k.collection),1)]),_:2},1024)]),_:2},1032,["active","onClick"]))),128)),n(f),n(v,null,{activator:a(()=>[O(h(e.t("system")),1)]),default:a(()=>[(m(!0),I(oe,null,he(e.systemCollections,k=>(m(),F(p,{key:k.collection,active:e.relations[0].collection===k.collection,clickable:"",onClick:V=>e.relations[0].collection=k.collection},{default:a(()=>[n(r,null,{default:a(()=>[O(h(k.collection),1)]),_:2},1024)]),_:2},1032,["active","onClick"]))),128))]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue","class","placeholder","disabled"])]),S("div",SE,[S("div",FE,h(e.t("languages_collection")),1),n(i,{modelValue:e.relations[1].related_collection,"onUpdate:modelValue":t[1]||(t[1]=k=>e.relations[1].related_collection=k),autofocus:e.autoFill,class:re({matches:e.relatedCollectionExists}),nullable:!1,placeholder:e.t("collection")+"...",disabled:e.type==="files"||e.isExisting,"db-safe":""},{append:a(()=>[n(y,{"show-arrow":"",placement:"bottom-end"},{activator:a(({toggle:k})=>[te(n(s,{name:"list_alt",clickable:"",disabled:e.type==="files"||e.isExisting,onClick:k},null,8,["disabled","onClick"]),[[$,e.t("select_existing")]])]),default:a(()=>[n(_,{class:"monospace"},{default:a(()=>[(m(!0),I(oe,null,he(e.availableCollections,k=>(m(),F(p,{key:k.collection,active:e.relations[1].related_collection===k.collection,clickable:"",onClick:V=>e.relations[1].related_collection=k.collection},{default:a(()=>[n(r,null,{default:a(()=>[O(h(k.collection),1)]),_:2},1024)]),_:2},1032,["active","onClick"]))),128)),n(f),n(v,null,{activator:a(()=>[O(h(e.t("system")),1)]),default:a(()=>[(m(!0),I(oe,null,he(e.systemCollections,k=>(m(),F(p,{key:k.collection,active:e.relations[1].related_collection===k.collection,clickable:"",onClick:V=>e.relations[1].related_collection=k.collection},{default:a(()=>[n(r,null,{default:a(()=>[O(h(k.collection),1)]),_:2},1024)]),_:2},1032,["active","onClick"]))),128))]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue","autofocus","class","placeholder","disabled"])]),n(i,{disabled:"","model-value":e.currentPrimaryKeyField},null,8,["model-value"]),n(i,{modelValue:e.relations[0].field,"onUpdate:modelValue":t[2]||(t[2]=k=>e.relations[0].field=k),class:re({matches:e.junctionFieldExists(e.relations[0].field)}),nullable:!1,placeholder:e.t("foreign_key")+"...",disabled:e.autoFill||e.isExisting,"db-safe":""},Ne({_:2},[e.junctionCollectionExists?{name:"append",fn:a(()=>[n(y,{"show-arrow":"",placement:"bottom-end"},{activator:a(({toggle:k})=>[te(n(s,{name:"list_alt",clickable:"",disabled:e.autoFill||e.isExisting,onClick:k},null,8,["disabled","onClick"]),[[$,e.t("select_existing")]])]),default:a(()=>[n(_,{class:"monospace"},{default:a(()=>[(m(!0),I(oe,null,he(e.junctionFields,k=>(m(),F(p,{key:k.value,active:e.relations[0].field===k.value,disabled:k.disabled,clickable:"",onClick:V=>e.relations[0].field=k.value},{default:a(()=>[n(r,null,{default:a(()=>[O(h(k.text),1)]),_:2},1024)]),_:2},1032,["active","disabled","onClick"]))),128))]),_:1})]),_:1})])}:void 0]),1032,["modelValue","class","placeholder","disabled"]),VE,EE,n(i,{modelValue:e.relations[1].field,"onUpdate:modelValue":t[3]||(t[3]=k=>e.relations[1].field=k),class:re({matches:e.junctionFieldExists(e.relations[1].field)}),nullable:!1,placeholder:e.t("foreign_key")+"...",disabled:e.autoFill||e.isExisting,"db-safe":""},Ne({_:2},[e.junctionCollectionExists?{name:"append",fn:a(()=>[n(y,{"show-arrow":"",placement:"bottom-end"},{activator:a(({toggle:k})=>[te(n(s,{name:"list_alt",clickable:"",disabled:e.autoFill||e.isExisting,onClick:k},null,8,["disabled","onClick"]),[[$,e.t("select_existing")]])]),default:a(()=>[n(_,{class:"monospace"},{default:a(()=>[(m(!0),I(oe,null,he(e.junctionFields,k=>(m(),F(p,{key:k.value,active:e.relations[1].field===k.value,disabled:k.disabled,clickable:"",onClick:V=>e.relations[1].field=k.value},{default:a(()=>[n(r,null,{default:a(()=>[O(h(k.text),1)]),_:2},1024)]),_:2},1032,["active","disabled","onClick"]))),128))]),_:1})]),_:1})])}:void 0]),1032,["modelValue","class","placeholder","disabled"]),n(i,{modelValue:e.relatedPrimaryKeyField,"onUpdate:modelValue":t[4]||(t[4]=k=>e.relatedPrimaryKeyField=k),disabled:"",placeholder:e.t("primary_key")+"..."},null,8,["modelValue","placeholder"]),IE,n(b,{modelValue:e.autoFill,"onUpdate:modelValue":t[5]||(t[5]=k=>e.autoFill=k),disabled:e.isExisting,block:"",label:e.t("auto_fill")},null,8,["modelValue","disabled","label"]),n(s,{class:"arrow",name:"arrow_forward"}),n(s,{class:"arrow",name:"arrow_backward"})]),S("div",AE,[n(f,{class:"field full",large:"","inline-title":!1},{default:a(()=>[O(h(e.t("relational_triggers")),1)]),_:1}),S("div",DE,[S("div",OE,h(e.t("referential_action_field_label_o2m",{collection:e.junctionCollectionName||""})),1),n(w,{modelValue:e.relations[0].meta.one_deselect_action,"onUpdate:modelValue":t[6]||(t[6]=k=>e.relations[0].meta.one_deselect_action=k),placeholder:e.t("choose_action")+"...",items:[{text:e.t("referential_action_set_null",{collection:e.junctionCollectionName,field:e.junctionM2OFieldName}),value:"nullify"},{text:e.t("referential_action_cascade",{collection:e.junctionCollectionName,field:e.junctionM2OFieldName}),value:"delete"}]},null,8,["modelValue","placeholder","items"])]),S("div",PE,[S("div",TE,h(e.t("referential_action_field_label_m2o",{collection:e.currentCollectionName||"related"})),1),n(w,{modelValue:e.relations[0].schema.on_delete,"onUpdate:modelValue":t[7]||(t[7]=k=>e.relations[0].schema.on_delete=k),disabled:e.relations[0].collection===e.relations[0].related_collection,placeholder:e.t("choose_action")+"...",items:[{text:e.t("referential_action_set_null",{field:e.junctionM2OFieldName}),value:"SET NULL"},{text:e.t("referential_action_set_default",{field:e.junctionM2OFieldName}),value:"SET DEFAULT"},{text:e.t("referential_action_cascade",{collection:e.junctionCollectionName,field:e.junctionM2OFieldName}),value:"CASCADE"},{text:e.t("referential_action_no_action"),value:"NO ACTION"}]},null,8,["modelValue","disabled","placeholder","items"])]),S("div",LE,[S("div",jE,h(e.t("referential_action_field_label_m2o",{collection:e.relatedCollectionName||"related"})),1),n(w,{modelValue:e.relations[1].schema.on_delete,"onUpdate:modelValue":t[8]||(t[8]=k=>e.relations[1].schema.on_delete=k),disabled:e.relations[1].collection===e.relations[1].related_collection,placeholder:e.t("choose_action")+"...",items:[{text:e.t("referential_action_set_null",{field:e.junctionRelatedM2OFieldName}),value:"SET NULL"},{text:e.t("referential_action_set_default",{field:e.junctionRelatedM2OFieldName}),value:"SET DEFAULT"},{text:e.t("referential_action_cascade",{collection:e.relatedCollectionName,field:e.junctionRelatedM2OFieldName}),value:"CASCADE"},{text:e.t("referential_action_no_action"),value:"NO ACTION"}]},null,8,["modelValue","disabled","placeholder","items"])])])])}var ME=q(hE,[["render",RE],["__scopeId","data-v-334b4296"]]);const UE=K({props:{type:{type:String,required:!0},collection:{type:String,required:!0}},setup(){const{t:e}=ae(),{interfaces:t}=Rt(),o=E(()=>{var w;const r=((w=P.fieldData)==null?void 0:w.type)||"alias",f={string:["input","select-dropdown"],text:["input-rich-text-html"],boolean:["boolean"],integer:["input"],bigInteger:["input"],float:["input"],decimal:["input"],timestamp:["datetime"],datetime:["datetime"],date:["datetime"],time:["datetime"],json:["select-multiple-checkbox","tags"],uuid:["input"],csv:["tags"]}[r]||[],v=el.value.map($=>{const k={text:$.name,description:$.description,value:$.id,icon:$.icon};return f.includes(k.value)&&(k.iconRight="star"),k}),_=[],y=f.map($=>v.find(k=>k.value===$));y!==void 0&&_.push(...y.filter($=>$)),v.length>=5&&f.length>0&&_.push({divider:!0});const b=v.filter($=>f.includes($.value)===!1);return b!==void 0&&_.push(...b.filter($=>$)),_}),l=E(()=>t.value.find(r=>{var p;return r.id===((p=P.fieldData.meta)==null?void 0:p.interface)})),{fieldData:d,relations:c,newCollections:i,newFields:s}=Re(P);return{t:e,fieldData:d,relations:c,selectItems:o,selectedInterface:l,newCollections:i,newFields:s}}}),NE=e=>(He("data-v-b20e4918"),e=e(),Ge(),e),BE=NE(()=>S("div",{class:"spacer"},null,-1));function qE(e,t,o,l,d,c){const i=u("v-fancy-select"),s=u("v-notice"),r=u("v-form");return m(),I("div",null,[n(i,{modelValue:e.fieldData.meta.interface,"onUpdate:modelValue":t[0]||(t[0]=p=>e.fieldData.meta.interface=p),class:"select",items:e.selectItems},null,8,["modelValue","items"]),e.fieldData.meta.interface&&!e.selectedInterface?(m(),F(s,{key:0,class:"not-found",type:"danger"},{default:a(()=>[O(h(e.t("interface_not_found",{interface:e.fieldData.meta.interface}))+" ",1),BE,S("button",{onClick:t[1]||(t[1]=p=>e.fieldData.meta.interface=null)},h(e.t("reset_interface")),1)]),_:1})):N("",!0),e.fieldData.meta.interface&&e.selectedInterface?(m(),I(oe,{key:1},[!e.selectedInterface.options||e.selectedInterface.options.length===0?(m(),F(s,{key:0},{default:a(()=>[O(h(e.t("no_options_available")),1)]),_:1})):Array.isArray(e.selectedInterface.options)?(m(),F(r,{key:1,modelValue:e.fieldData.meta.options,"onUpdate:modelValue":t[2]||(t[2]=p=>e.fieldData.meta.options=p),fields:e.selectedInterface.options,"primary-key":"+"},null,8,["modelValue","fields"])):(m(),F(Ue(`interface-options-${e.selectedInterface.id}`),{key:2,value:e.fieldData.meta.options,collection:e.collection,"field-data":e.fieldData,relations:e.relations,"new-fields":e.newFields,"new-collections":e.newCollections,onInput:t[3]||(t[3]=p=>e.fieldData.meta.options=p)},null,8,["value","collection","field-data","relations","new-fields","new-collections"]))],64)):N("",!0)])}var zE=q(UE,[["render",qE],["__scopeId","data-v-b20e4918"]]);const KE=K({props:{type:{type:String,required:!0},collection:{type:String,required:!0}},setup(){const{t:e}=ae(),{displays:t}=sn(),{interfaces:o}=Rt(),l=E(()=>o.value.find(f=>{var v;return f.id===((v=P.fieldData.meta)==null?void 0:v.interface)})),d=E(()=>{var w;let f=H.exports.clone((w=l.value)==null?void 0:w.recommendedDisplays)||[];f.push("raw","formatted-value"),f=[...new Set(f)];const v=tl.value.map($=>{const k={text:$.name,description:$.description,value:$.id,icon:$.icon};return f.includes(k.value)&&(k.iconRight="star"),k}),_=[],y=f.map($=>v.find(k=>k.value===$));y!==void 0&&_.push(...y.filter($=>$)),v.length>=5&&f.length>0&&_.push({divider:!0});const b=v.filter($=>f.includes($.value)===!1);return b!==void 0&&_.push(...b.filter($=>$)),_}),c=E(()=>t.value.find(f=>{var v;return f.id===((v=P.fieldData.meta)==null?void 0:v.display)})),{fieldData:i,relations:s,newCollections:r,newFields:p}=Re(P);return{t:e,fieldData:i,selectItems:d,selectedDisplay:c,relations:s,newCollections:r,newFields:p}}}),WE=e=>(He("data-v-3beec024"),e=e(),Ge(),e),HE=WE(()=>S("div",{class:"spacer"},null,-1));function GE(e,t,o,l,d,c){const i=u("v-fancy-select"),s=u("v-notice"),r=u("v-form");return m(),I("div",null,[n(i,{modelValue:e.fieldData.meta.display,"onUpdate:modelValue":t[0]||(t[0]=p=>e.fieldData.meta.display=p),class:"select",items:e.selectItems},null,8,["modelValue","items"]),e.fieldData.meta.display&&!e.selectedDisplay?(m(),F(s,{key:0,class:"not-found",type:"danger"},{default:a(()=>[O(h(e.t("display_not_found",{display:e.fieldData.meta.display}))+" ",1),HE,S("button",{onClick:t[1]||(t[1]=p=>e.fieldData.meta.display=null)},h(e.t("reset_display")),1)]),_:1})):N("",!0),e.fieldData.meta.display&&e.selectedDisplay?(m(),I(oe,{key:1},[!e.selectedDisplay.options||e.selectedDisplay.options.length===0?(m(),F(s,{key:0},{default:a(()=>[O(h(e.t("no_options_available")),1)]),_:1})):Array.isArray(e.selectedDisplay.options)?(m(),F(r,{key:1,modelValue:e.fieldData.meta.display_options,"onUpdate:modelValue":t[2]||(t[2]=p=>e.fieldData.meta.display_options=p),fields:e.selectedDisplay.options,"primary-key":"+"},null,8,["modelValue","fields"])):(m(),F(Ue(`display-options-${e.selectedDisplay.id}`),{key:2,value:e.fieldData.meta.display_options,collection:e.collection,"field-data":e.fieldData,relations:e.relations,"new-fields":e.newFields,"new-collections":e.newCollections,onInput:t[3]||(t[3]=p=>e.fieldData.meta.display_options=p)},null,8,["value","collection","field-data","relations","new-fields","new-collections"]))],64)):N("",!0)])}var QE=q(KE,[["render",GE],["__scopeId","data-v-3beec024"]]);const XE=K({props:{type:{type:String,required:!0},collection:{type:String,required:!0}},setup(e){const{t}=ae(),o=E({get(){return H.exports.get(P,"fieldData.meta.conditions",[])},set(d){H.exports.set(P,"fieldData.meta.conditions",d)}});return{repeaterFields:E(()=>{var d;return[{field:"name",name:t("name"),type:"string",meta:{interface:"input",options:{iconLeft:"label",placeholder:t("enter_a_value")}}},{field:"rule",name:t("rule"),type:"json",meta:{interface:"system-filter",options:{collectionName:e.collection}}},{field:"readonly",name:t("readonly"),type:"boolean",meta:{interface:"boolean",options:{label:t("disabled_editing_value")},width:"half"}},{field:"hidden",name:t("hidden"),type:"boolean",meta:{interface:"boolean",options:{label:t("hidden_on_detail")},width:"half"}},{field:"required",name:t("required"),type:"boolean",meta:{interface:"boolean",options:{label:t("require_value_to_be_set")},width:"half"}},{field:"options",name:t("interface_options"),type:"json",meta:{interface:"system-interface-options",options:{interface:(d=P==null?void 0:P.fieldData.meta)==null?void 0:d.interface}}}]}),value:o,state:P}}});function JE(e,t,o,l,d,c){const i=u("interface-list");return m(),I("div",null,[n(i,{fields:e.repeaterFields,template:"{{ name }}",value:e.value,onInput:t[0]||(t[0]=s=>e.value=s)},null,8,["fields","value"])])}var YE=q(XE,[["render",JE]]);function fa(e,t){var i,s,r,p;const o=ze(),l=_t(),d=o.getField(e,t),c=l.getRelationsForField(e,t);if(!d)return null;if(c.length===0)return d.type==="alias"?((s=(i=d.meta)==null?void 0:i.special)==null?void 0:s.includes("group"))?"group":"presentation":"standard";if(c.length===1){const f=c[0];return f.related_collection==="directus_files"?"file":f.collection===e&&f.field===t?"m2o":"o2m"}if(c.length===2){if((((r=d.meta)==null?void 0:r.special)||[]).includes("translations"))return"translations";if((((p=d.meta)==null?void 0:p.special)||[]).includes("m2a"))return"m2a";const f=c.find(v=>{var _;return v.collection===e&&v.field===t||v.related_collection===e&&((_=v.meta)==null?void 0:_.one_field)===t});return(f==null?void 0:f.collection)===e&&(f==null?void 0:f.field)===t?"m2o":c[0].related_collection==="directus_files"||c[1].related_collection==="directus_files"?"files":"m2m"}return"standard"}const ZE=K({components:{SetupTabs:GS,SetupActions:YS,SetupSchema:CF,SetupField:MF,SetupRelationship:gE,SetupTranslations:ME,SetupInterface:zE,SetupDisplay:QE,SetupConditions:YE},props:{collection:{type:String,required:!0},field:{type:String,required:!0},type:{type:String,default:null}},setup(e){const{t}=ae(),o=et(),l=qe(),d=ze(),c=_t(),i=un(),s=D(!1),{collection:r}=Re(e),{info:p}=at(r),{nullValueOverride:f,nullValuesDialog:v,nullOverrideSaving:_,saveNullOverride:y}=T(),b=E(()=>e.field==="+"?null:d.getField(e.collection,e.field)),w=E(()=>e.field==="+"?e.type:fa(e.collection,e.field)||"standard");ZS(e.collection,e.field,w.value);const{tabs:$,currentTab:k,currentTabInfo:V}=R(),g=D(!1),A=E(()=>{var B,z,W;const U=((B=b.value)==null?void 0:B.name)||Je(P.fieldData.field||"");return e.field==="+"&&U===""?t("creating_new_field",{collection:(z=p.value)==null?void 0:z.name}):t("field_in_collection",{field:U,collection:(W=p.value)==null?void 0:W.name})});return{t,isOpen:i,tabs:$,currentTab:k,fieldData:P.fieldData,saveField:L,saving:g,relations:P.relations,newFields:P.newFields,cancelField:M,localType:w,existingField:b,collectionInfo:p,translationsManual:s,currentTabInfo:V,title:A,nullValuesDialog:v,nullValueOverride:f,nullOverrideSaving:_,saveNullOverride:y};function R(){const U=E(()=>{const G=[{text:t("schema"),value:"schema",disabled:!1},{text:t("field",1),value:"field",disabled:Q()},{text:t("interface_label"),value:"interface",disabled:Q()}];return e.type!=="presentation"&&e.type!=="group"&&G.push({text:t("display"),value:"display",disabled:Q()}),["o2m","m2o","m2m","m2a","files"].includes(w.value)&&G.splice(1,0,{text:t("relationship"),value:"relationship",disabled:W()}),w.value==="translations"&&G.splice(1,0,{text:t("translations"),value:"translations",disabled:J()}),G.push({text:t("conditions"),value:"conditions",disabled:Q()}),G}),B=D(["schema"]),z=E(()=>{const G=B.value[0];return U.value.find(x=>x.value===G)});return{tabs:U,currentTab:B,currentTabInfo:z};function W(){return H.exports.isEmpty(P.fieldData.field)}function J(){return H.exports.isEmpty(P.fieldData.field)}function Q(){var G,x,ee,ne;return["o2m","m2o","file"].includes(w.value)?P.relations.length===0||H.exports.isEmpty(P.relations[0].collection)||H.exports.isEmpty(P.relations[0].field)||H.exports.isEmpty(P.relations[0].related_collection):["m2m","files","translations"].includes(w.value)?P.relations.length!==2||H.exports.isEmpty(P.relations[0].collection)||H.exports.isEmpty(P.relations[0].field)||H.exports.isEmpty((G=P.relations[0].meta)==null?void 0:G.one_field)||H.exports.isEmpty(P.relations[1].collection)||H.exports.isEmpty(P.relations[1].field)||H.exports.isEmpty(P.relations[1].related_collection):w.value==="m2a"?P.relations.length!==2||H.exports.isEmpty(P.relations[0].collection)||H.exports.isEmpty(P.relations[0].field)||H.exports.isEmpty((x=P.relations[0].meta)==null?void 0:x.one_field)||H.exports.isEmpty(P.relations[1].collection)||H.exports.isEmpty(P.relations[1].field)||H.exports.isEmpty((ee=P.relations[1].meta)==null?void 0:ee.one_collection_field)||H.exports.isEmpty((ne=P.relations[1].meta)==null?void 0:ne.one_allowed_collections):w.value==="presentation"?H.exports.isEmpty(P.fieldData.field):H.exports.isEmpty(P.fieldData.field)||H.exports.isEmpty(P.fieldData.type)}}async function L(){var B,z,W,J,Q,G,x,ee;g.value=!0;const U=H.exports.cloneDeep(P.fieldData);((B=U.schema)==null?void 0:B.is_primary_key)===!0&&delete U.schema;try{e.field!=="+"?await de.patch(`/fields/${e.collection}/${e.field}`,U):await de.post(`/fields/${e.collection}`,U),await Promise.all(P.newCollections.map(ne=>(delete ne.$type,de.post("/collections",ne)))),await Promise.all(P.newFields.map(ne=>(delete ne.$type,de.post(`/fields/${ne.collection}`,ne)))),await Promise.all(P.updateFields.map(ne=>(delete ne.$type,de.post(`/fields/${ne.collection}/${ne.field}`,ne)))),await Promise.all(P.relations.map(ne=>c.getRelationForField(ne.collection,ne.field)?de.patch(`/relations/${ne.collection}/${ne.field}`,ne):de.post("/relations",ne))),await Promise.all(Object.keys(P.newRows).map(ne=>{const ie=P.newRows[ne];return de.post(`/items/${ne}`,ie)})),await l.hydrate(),await d.hydrate(),await c.hydrate(),e.field!=="+"?kt({title:t("field_update_success",{field:e.field}),type:"success"}):kt({title:t("field_create_success",{field:U.field}),type:"success"}),o.push(`/settings/data-model/${e.collection}`),ua()}catch(ne){((G=(Q=(J=(W=(z=ne==null?void 0:ne.response)==null?void 0:z.data)==null?void 0:W.errors)==null?void 0:J[0])==null?void 0:Q.extensions)==null?void 0:G.code)==="CONTAINS_NULL_VALUES"?(f.value=((ee=(x=P.fieldData)==null?void 0:x.schema)==null?void 0:ee.default_value)||null,v.value=!0):Fe(ne)}finally{g.value=!1}}function M(){o.push(`/settings/data-model/${e.collection}`),ua()}function T(){const U=D(!1),B=D(),z=D(!1);return{nullValueOverride:B,nullValuesDialog:U,nullOverrideSaving:z,saveNullOverride:W};async function W(){z.value=!0;try{const J=e.collection.startsWith("directus_")?`/${e.collection.substring(9)}`:`/items/${e.collection}`;return await de.patch(J,{query:{filter:{[e.field]:{_null:!0}},limit:-1},data:{[e.field]:B.value}}),U.value=!1,L()}catch(J){Fe(J)}finally{z.value=!1}}}}}),xE=e=>(He("data-v-324a4562"),e=e(),Ge(),e),eI=xE(()=>S("div",{class:"spacer"},null,-1)),tI={class:"content"};function nI(e,t,o,l,d,c){const i=u("v-card-title"),s=u("v-input"),r=u("v-notice"),p=u("v-card-text"),f=u("v-button"),v=u("v-card-actions"),_=u("v-card"),y=u("v-dialog"),b=u("setup-tabs"),w=u("setup-schema"),$=u("setup-field"),k=u("setup-relationship"),V=u("setup-translations"),g=u("setup-interface"),A=u("setup-display"),R=u("setup-conditions"),L=u("setup-actions"),M=u("v-drawer");return e.localType==="translations"&&e.translationsManual===!1&&e.field==="+"?(m(),F(y,{key:0,persistent:"","model-value":e.isOpen,onEsc:e.cancelField},{default:a(()=>[n(_,{class:"auto-translations"},{default:a(()=>[n(i,null,{default:a(()=>[O(h(e.t("create_translations")),1)]),_:1}),n(p,null,{default:a(()=>[n(s,{modelValue:e.fieldData.field,"onUpdate:modelValue":t[0]||(t[0]=T=>e.fieldData.field=T),placeholder:e.t("field_name")+"..."},null,8,["modelValue","placeholder"]),n(r,null,{default:a(()=>[S("div",null,[O(h(e.t("this_will_auto_setup_fields_relations"))+" ",1),S("button",{class:"manual-toggle",onClick:t[1]||(t[1]=T=>e.translationsManual=!0)},h(e.t("click_here")),1),O(" "+h(e.t("to_manually_setup_translations")),1)])]),_:1})]),_:1}),n(v,null,{default:a(()=>[n(f,{secondary:"",onClick:e.cancelField},{default:a(()=>[O(h(e.t("cancel")),1)]),_:1},8,["onClick"]),eI,n(f,{disabled:!e.fieldData.field,loading:e.saving,onClick:e.saveField},{default:a(()=>[O(h(e.t("auto_generate")),1)]),_:1},8,["disabled","loading","onClick"])]),_:1})]),_:1})]),_:1},8,["model-value","onEsc"])):(m(),F(M,{key:1,"model-value":e.isOpen,title:e.title,subtitle:e.localType?e.t(`field_${e.localType}`):null,persistent:"","sidebar-label":e.currentTabInfo.text,"onUpdate:modelValue":e.cancelField,onCancel:e.cancelField},{sidebar:a(()=>[n(b,{current:e.currentTab,"onUpdate:current":t[2]||(t[2]=T=>e.currentTab=T),tabs:e.tabs,type:e.localType},null,8,["current","tabs","type"])]),actions:a(()=>[n(L,{current:e.currentTab,"onUpdate:current":t[3]||(t[3]=T=>e.currentTab=T),saving:e.saving,collection:e.collection,tabs:e.tabs,"is-existing":e.field!=="+",onSave:e.saveField,onCancel:e.cancelField},null,8,["current","saving","collection","tabs","is-existing","onSave","onCancel"])]),default:a(()=>[S("div",tI,[e.currentTab[0]==="schema"?(m(),F(w,{key:0,"is-existing":e.field!=="+",collection:e.collection,type:e.localType},null,8,["is-existing","collection","type"])):N("",!0),e.currentTab[0]==="field"?(m(),F($,{key:1,"is-existing":e.field!=="+",collection:e.collection,type:e.localType},null,8,["is-existing","collection","type"])):N("",!0),e.currentTab[0]==="relationship"?(m(),F(k,{key:2,"is-existing":e.field!=="+",collection:e.collection,type:e.localType},null,8,["is-existing","collection","type"])):N("",!0),e.currentTab[0]==="translations"?(m(),F(V,{key:3,"is-existing":e.field!=="+",collection:e.collection,type:e.localType},null,8,["is-existing","collection","type"])):N("",!0),e.currentTab[0]==="interface"?(m(),F(g,{key:4,"is-existing":e.field!=="+",collection:e.collection,type:e.localType},null,8,["is-existing","collection","type"])):N("",!0),e.currentTab[0]==="display"?(m(),F(A,{key:5,"is-existing":e.field!=="+",collection:e.collection,type:e.localType},null,8,["is-existing","collection","type"])):N("",!0),e.currentTab[0]==="conditions"?(m(),F(R,{key:6,collection:e.collection,type:e.localType},null,8,["collection","type"])):N("",!0)]),n(y,{modelValue:e.nullValuesDialog,"onUpdate:modelValue":t[6]||(t[6]=T=>e.nullValuesDialog=T),onEsc:t[7]||(t[7]=T=>e.nullValuesDialog=!1)},{default:a(()=>[n(_,null,{default:a(()=>[n(i,null,{default:a(()=>[O(h(e.t("enter_value_to_replace_nulls")),1)]),_:1}),n(p,null,{default:a(()=>[n(s,{modelValue:e.nullValueOverride,"onUpdate:modelValue":t[4]||(t[4]=T=>e.nullValueOverride=T),placeholder:"NULL"},null,8,["modelValue"])]),_:1}),n(v,null,{default:a(()=>[n(f,{secondary:"",onClick:t[5]||(t[5]=T=>e.nullValuesDialog=!1)},{default:a(()=>[O(h(e.t("cancel")),1)]),_:1}),n(f,{disabled:e.nullValueOverride===null,loading:e.nullOverrideSaving,onClick:e.saveNullOverride},{default:a(()=>[O(h(e.t("save")),1)]),_:1},8,["disabled","loading","onClick"])]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1},8,["model-value","title","subtitle","sidebar-label","onUpdate:modelValue","onCancel"]))}var lI=q(ZE,[["render",nI],["__scopeId","data-v-324a4562"]]);const aI=K({name:"FieldSelectMenu",props:{field:{type:Object,required:!0},noDelete:{type:Boolean,default:!1}},emits:["toggleVisibility","duplicate","delete","setWidth"],setup(e){const{t}=ae(),o=E(()=>fa(e.field.collection,e.field.field)),l=E(()=>{var c;return((c=e.field.schema)==null?void 0:c.is_primary_key)===!0}),d=E(()=>o.value==="standard"&&l.value===!1);return{t,localType:o,isPrimaryKey:l,duplicable:d}}});function oI(e,t,o,l,d,c){const i=u("v-icon"),s=u("v-list-item-icon"),r=u("v-list-item-content"),p=u("v-list-item"),f=u("v-divider"),v=u("v-list"),_=u("v-menu");return m(),F(_,{"show-arrow":"",placement:"bottom-end"},{activator:a(({toggle:y})=>[n(i,{clickable:"",name:"more_vert",onClick:y},null,8,["onClick"])]),default:a(()=>[n(v,null,{default:a(()=>{var y,b,w,$;return[n(p,{to:`/settings/data-model/${e.field.collection}/${e.field.field}`},{default:a(()=>[n(s,null,{default:a(()=>[n(i,{name:"edit",outline:""})]),_:1}),n(r,null,{default:a(()=>[O(h(e.t("edit_field")),1)]),_:1})]),_:1},8,["to"]),n(p,{disabled:e.duplicable===!1,clickable:"",onClick:t[0]||(t[0]=k=>e.$emit("duplicate"))},{default:a(()=>[n(s,null,{default:a(()=>[n(i,{name:"content_copy"})]),_:1}),n(r,null,{default:a(()=>[O(h(e.t("duplicate_field")),1)]),_:1})]),_:1},8,["disabled"]),n(p,{clickable:"",onClick:t[1]||(t[1]=k=>e.$emit("toggleVisibility"))},{default:a(()=>{var k;return[((k=e.field.meta)==null?void 0:k.hidden)===!1?(m(),I(oe,{key:0},[n(s,null,{default:a(()=>[n(i,{name:"visibility_off"})]),_:1}),n(r,null,{default:a(()=>[O(h(e.t("hide_field_on_detail")),1)]),_:1})],64)):(m(),I(oe,{key:1},[n(s,null,{default:a(()=>[n(i,{name:"visibility"})]),_:1}),n(r,null,{default:a(()=>[O(h(e.t("show_field_on_detail")),1)]),_:1})],64))]}),_:1}),n(f),n(p,{clickable:"",disabled:((y=e.field.meta)==null?void 0:y.width)==="half"||e.localType==="group",onClick:t[2]||(t[2]=k=>e.$emit("setWidth","half"))},{default:a(()=>[n(s,null,{default:a(()=>[n(i,{name:"border_vertical"})]),_:1}),n(r,null,{default:a(()=>[O(h(e.t("half_width")),1)]),_:1})]),_:1},8,["disabled"]),n(p,{clickable:"",disabled:((b=e.field.meta)==null?void 0:b.width)==="full"||e.localType==="group",onClick:t[3]||(t[3]=k=>e.$emit("setWidth","full"))},{default:a(()=>[n(s,null,{default:a(()=>[n(i,{name:"border_right"})]),_:1}),n(r,null,{default:a(()=>[O(h(e.t("full_width")),1)]),_:1})]),_:1},8,["disabled"]),n(p,{clickable:"",disabled:((w=e.field.meta)==null?void 0:w.width)==="fill"||e.localType==="group",onClick:t[4]||(t[4]=k=>e.$emit("setWidth","fill"))},{default:a(()=>[n(s,null,{default:a(()=>[n(i,{name:"aspect_ratio"})]),_:1}),n(r,null,{default:a(()=>[O(h(e.t("fill_width")),1)]),_:1})]),_:1},8,["disabled"]),n(f),n(p,{clickable:"",class:"danger",disabled:(($=e.field.schema)==null?void 0:$.is_primary_key)===!0||e.noDelete,onClick:t[5]||(t[5]=k=>e.$emit("delete"))},{default:a(()=>[n(s,null,{default:a(()=>[n(i,{name:"delete",outline:""})]),_:1}),n(r,null,{default:a(()=>[O(h(e.t("delete_field")),1)]),_:1})]),_:1},8,["disabled"])]}),_:1})]),_:1})}var iI=q(aI,[["render",oI]]);function Ut(e){const t=new Image;e.setDragImage(t,0,0)}const sI=K({name:"FieldSelect",components:{FieldSelectMenu:iI,Draggable:wt},props:{field:{type:Object,required:!0},disabled:{type:Boolean,default:!1},fields:{type:Array,default:()=>[]}},emits:["setNestedSort"],setup(e,{emit:t}){const{t:o}=ae(),l=et(),d=qe(),c=ze(),{interfaces:i}=Rt(),s=D(!1),{deleteActive:r,deleting:p,deleteField:f}=M(),{duplicateActive:v,duplicateName:_,collections:y,duplicateTo:b,saveDuplicate:w,duplicating:$}=T(),k=E(()=>{var z;return(z=i.value.find(W=>{var J;return W.id===((J=e.field.meta)==null?void 0:J.interface)}))==null?void 0:z.name}),V=E(()=>{var z;return((z=e.field.meta)==null?void 0:z.hidden)===!0}),g=E(()=>fa(e.field.collection,e.field.field)),A=E(()=>e.fields.filter(z=>{var W,J;return((W=z.meta)==null?void 0:W.group)===((J=e.field.meta)==null?void 0:J.field)}));return{t:o,interfaceName:k,editActive:s,setWidth:R,deleteActive:r,deleting:p,deleteField:f,duplicateActive:v,collections:y,duplicateName:_,duplicateTo:b,saveDuplicate:w,duplicating:$,openFieldDetail:U,hidden:V,toggleVisibility:L,localType:g,hideDragImage:Ut,onGroupSortChange:B,nestedFields:A};function R(z){c.updateField(e.field.collection,e.field.field,{meta:{width:z}})}function L(){var z;c.updateField(e.field.collection,e.field.field,{meta:{hidden:!((z=e.field.meta)==null?void 0:z.hidden)}})}function M(){const z=D(!1),W=D(!1);return{deleteActive:z,deleting:W,deleteField:J};async function J(){await c.deleteField(e.field.collection,e.field.field),W.value=!1,z.value=!1}}function T(){const z=D(!1),W=D(e.field.field+"_copy"),J=D(!1),Q=E(()=>d.collections.map(({collection:ee})=>ee).filter(ee=>ee.startsWith("directus_")===!1)),G=D(e.field.collection);return{duplicateActive:z,duplicateName:W,collections:Q,duplicateTo:G,saveDuplicate:x,duplicating:J};async function x(){const ee=ye(X({},H.exports.cloneDeep(e.field)),{field:W.value,collection:G.value});ee.meta&&(delete ee.meta.id,delete ee.meta.sort,delete ee.meta.group),ee.schema&&delete ee.schema.comment,delete ee.name,J.value=!0;try{await c.createField(G.value,ee),kt({title:o("field_create_success",{field:ee.field}),type:"success"}),z.value=!1}catch(ne){Fe(ne)}finally{J.value=!1}}}async function U(){e.field.meta||await c.updateField(e.field.collection,e.field.field,{meta:{}}),l.push(`/settings/data-model/${e.field.collection}/${e.field.field}`)}async function B(z){const W=z.map((J,Q)=>({field:J.field,meta:{sort:Q+1,group:e.field.meta.field}}));t("setNestedSort",W)}}}),rI={class:"label"},dI={class:"name"},uI={class:"header full"},cI={class:"name"},pI={class:"label-inner"},mI={class:"name"},fI={key:0,class:"interface"},_I={key:1,class:"interface"},vI={class:"icons"},yI={class:"form-grid"},gI={class:"field"},hI={class:"type-label"},bI={class:"field"},$I={class:"type-label"};function kI(e,t,o,l,d,c){var g;const i=u("v-icon"),s=u("v-input"),r=u("field-select-menu"),p=u("field-select",!0),f=u("draggable"),v=u("v-card-title"),_=u("v-select"),y=u("v-card-text"),b=u("v-button"),w=u("v-card-actions"),$=u("v-card"),k=u("v-dialog"),V=Ce("tooltip");return m(),I("div",{class:re(["field-select",((g=e.field.meta)==null?void 0:g.width)||"full"])},[e.disabled?(m(),F(s,{key:0,disabled:"",class:"field"},{prepend:a(()=>[te(n(i,{name:"lock"},null,512),[[V,e.t("system_fields_locked")]])]),input:a(()=>[S("div",rI,[S("span",dI,h(e.field.field),1)])]),_:1})):(m(),I(oe,{key:1},[e.localType==="group"?(m(),F(f,{key:0,class:"field-grid group full nested","model-value":e.nestedFields,"force-fallback":!0,handle:".drag-handle",group:{name:"fields"},"set-data":e.hideDragImage,animation:150,"item-key":"field","fallback-on-body":!0,"invert-swap":!0,"onUpdate:modelValue":e.onGroupSortChange},{header:a(()=>[S("div",uI,[n(i,{class:"drag-handle",name:"drag_indicator",onClick:t[0]||(t[0]=Ie(()=>{},["stop"]))}),S("span",cI,h(e.field.field),1),e.hidden?te((m(),F(i,{key:0,name:"visibility_off",class:"hidden-icon",small:""},null,512)),[[V,e.t("hidden_field")]]):N("",!0),n(r,{field:e.field,"no-delete":e.nestedFields.length>0,onToggleVisibility:e.toggleVisibility,onSetWidth:t[1]||(t[1]=A=>e.setWidth(A)),onDuplicate:t[2]||(t[2]=A=>e.duplicateActive=!0),onDelete:t[3]||(t[3]=A=>e.deleteActive=!0)},null,8,["field","no-delete","onToggleVisibility"])])]),item:a(({element:A})=>[n(p,{field:A,fields:e.fields,onSetNestedSort:t[4]||(t[4]=R=>e.$emit("setNestedSort",R))},null,8,["field","fields"])]),_:1},8,["model-value","set-data","onUpdate:modelValue"])):(m(),F(s,{key:1,class:re(["field",{hidden:e.hidden}]),readonly:""},{prepend:a(()=>[n(i,{class:"drag-handle",name:"drag_indicator",onClick:t[5]||(t[5]=Ie(()=>{},["stop"]))})]),input:a(()=>{var A;return[te(S("div",{class:"label",onClick:t[6]||(t[6]=(...R)=>e.openFieldDetail&&e.openFieldDetail(...R))},[S("div",pI,[S("span",mI,[O(h(e.field.field)+" ",1),((A=e.field.meta)==null?void 0:A.required)===!0?(m(),F(i,{key:0,name:"star",class:"required",sup:""})):N("",!0)]),e.field.meta?(m(),I("span",fI,h(e.interfaceName),1)):(m(),I("span",_I,h(e.t("db_only_click_to_configure")),1))])],512),[[V,e.interfaceName?`${e.field.name} (${e.interfaceName})`:e.field.name]])]}),append:a(()=>[S("div",vI,[e.field.schema&&e.field.schema.is_primary_key?te((m(),F(i,{key:0,name:"vpn_key",small:""},null,512)),[[V,e.t("primary_key")]]):N("",!0),e.field.meta?N("",!0):te((m(),F(i,{key:1,name:"report_problem",class:"unmanaged",small:""},null,512)),[[V,e.t("db_only_click_to_configure")]]),e.hidden?te((m(),F(i,{key:2,name:"visibility_off",class:"hidden-icon",small:""},null,512)),[[V,e.t("hidden_field")]]):N("",!0),n(r,{field:e.field,onToggleVisibility:e.toggleVisibility,onSetWidth:t[7]||(t[7]=A=>e.setWidth(A)),onDuplicate:t[8]||(t[8]=A=>e.duplicateActive=!0),onDelete:t[9]||(t[9]=A=>e.deleteActive=!0)},null,8,["field","onToggleVisibility"])])]),_:1},8,["class"])),n(k,{modelValue:e.duplicateActive,"onUpdate:modelValue":t[13]||(t[13]=A=>e.duplicateActive=A),onEsc:t[14]||(t[14]=A=>e.duplicateActive=!1)},{default:a(()=>[n($,{class:"duplicate"},{default:a(()=>[n(v,null,{default:a(()=>[O(h(e.t("duplicate_where_to")),1)]),_:1}),n(y,null,{default:a(()=>[S("div",yI,[S("div",gI,[S("span",hI,h(e.t("collection",0)),1),n(_,{modelValue:e.duplicateTo,"onUpdate:modelValue":t[10]||(t[10]=A=>e.duplicateTo=A),class:"monospace",items:e.collections},null,8,["modelValue","items"])]),S("div",bI,[S("span",$I,h(e.t("field",0)),1),n(s,{modelValue:e.duplicateName,"onUpdate:modelValue":t[11]||(t[11]=A=>e.duplicateName=A),class:"monospace","db-safe":"",autofocus:""},null,8,["modelValue"])])])]),_:1}),n(w,null,{default:a(()=>[n(b,{secondary:"",onClick:t[12]||(t[12]=A=>e.duplicateActive=!1)},{default:a(()=>[O(h(e.t("cancel")),1)]),_:1}),n(b,{disabled:e.duplicateName===null,loading:e.duplicating,onClick:e.saveDuplicate},{default:a(()=>[O(h(e.t("duplicate")),1)]),_:1},8,["disabled","loading","onClick"])]),_:1})]),_:1})]),_:1},8,["modelValue"]),n(k,{modelValue:e.deleteActive,"onUpdate:modelValue":t[16]||(t[16]=A=>e.deleteActive=A),onEsc:t[17]||(t[17]=A=>e.deleteActive=!1)},{default:a(()=>[n($,null,{default:a(()=>[n(v,null,{default:a(()=>[O(h(e.t("delete_field_are_you_sure",{field:e.field.field})),1)]),_:1}),n(w,null,{default:a(()=>[n(b,{secondary:"",onClick:t[15]||(t[15]=A=>e.deleteActive=!1)},{default:a(()=>[O(h(e.t("cancel")),1)]),_:1}),n(b,{loading:e.deleting,kind:"danger",onClick:e.deleteField},{default:a(()=>[O(h(e.t("delete_label")),1)]),_:1},8,["loading","onClick"])]),_:1})]),_:1})]),_:1},8,["modelValue"])],64))],2)}var wI=q(sI,[["render",kI],["__scopeId","data-v-74d956bd"]]);const CI=K({name:"FieldsManagement",components:{Draggable:wt,FieldSelect:wI},props:{collection:{type:String,required:!0}},setup(e){const{t}=ae(),{collection:o}=Re(e),{fields:l}=at(o),d=ze(),c=E(()=>H.exports.orderBy(l.value,[v=>{var _,y;return((_=v.meta)==null?void 0:_.sort)?Number((y=v.meta)==null?void 0:y.sort):null},v=>{var _;return(_=v.meta)==null?void 0:_.id}]).filter(v=>v.field.startsWith("$")===!1)),i=E(()=>c.value.filter(v=>{var _;return((_=v.meta)==null?void 0:_.system)===!0})),s=E(()=>c.value.filter(v=>{var _;return((_=v.meta)==null?void 0:_.system)!==!0})),r=E(()=>[{type:"standard",icon:"create",text:t("standard_field")},{type:"presentation",icon:"scatter_plot",text:t("presentation_and_aliases")},{type:"group",icon:"view_in_ar",text:t("field_group")},{divider:!0},{type:"file",icon:"photo",text:t("single_file")},{type:"files",icon:"collections",text:t("multiple_files")},{divider:!0},{type:"m2o",icon:"call_merge",text:t("m2o_relationship")},{type:"o2m",icon:"call_split",text:t("o2m_relationship")},{type:"m2m",icon:"import_export",text:t("m2m_relationship")},{type:"m2a",icon:"gesture",text:t("m2a_relationship")},{divider:!0},{type:"translations",icon:"translate",text:t("translations")}]);return{t,usableFields:s,lockedFields:i,setSort:p,hideDragImage:Ut,addOptions:r,setNestedSort:f,isNil:H.exports.isNil};async function p(v){const _=v.map((y,b)=>({field:y.field,meta:{sort:b+1,group:null}}));await d.updateFields(o.value,_)}async function f(v){v=(v||[]).filter(_=>H.exports.isNil(_)===!1),v.length>0&&await d.updateFields(o.value,v)}}}),SI={class:"fields-management"},FI={key:0,class:"field-grid"};function VI(e,t,o,l,d,c){const i=u("field-select"),s=u("draggable"),r=u("v-icon"),p=u("v-button"),f=u("v-divider"),v=u("v-list-item-icon"),_=u("v-list-item-content"),y=u("v-list-item"),b=u("v-list"),w=u("v-menu");return m(),I("div",SI,[e.lockedFields.length>0?(m(),I("div",FI,[(m(!0),I(oe,null,he(e.lockedFields,$=>(m(),F(i,{key:$.field,disabled:"",field:$},null,8,["field"]))),128))])):N("",!0),n(s,{class:"field-grid","model-value":e.usableFields.filter($=>{var k;return e.isNil((k=$==null?void 0:$.meta)==null?void 0:k.group)}),"force-fallback":!0,handle:".drag-handle",group:{name:"fields"},"set-data":e.hideDragImage,"item-key":"field",animation:150,"fallback-on-body":!0,"invert-swap":!0,"onUpdate:modelValue":e.setSort},{item:a(({element:$})=>[n(i,{field:$,fields:e.usableFields,onSetNestedSort:e.setNestedSort},null,8,["field","fields","onSetNestedSort"])]),_:1},8,["model-value","set-data","onUpdate:modelValue"]),n(w,{attached:""},{activator:a(({toggle:$,active:k})=>[n(p,{class:re(["add-field",{active:k}]),align:"left",dashed:!k,outlined:"",large:"","full-width":"",onClick:$},{default:a(()=>[n(r,{name:"add"}),O(" "+h(e.t("create_field")),1)]),_:2},1032,["dashed","class","onClick"])]),default:a(()=>[n(b,null,{default:a(()=>[(m(!0),I(oe,null,he(e.addOptions,($,k)=>(m(),I(oe,{key:k},[$.divider===!0?(m(),F(f,{key:0})):(m(),F(y,{key:1,to:`/settings/data-model/${e.collection}/+?type=${$.type}`},{default:a(()=>[n(v,null,{default:a(()=>[n(r,{name:$.icon},null,8,["name"])]),_:2},1024),n(_,null,{default:a(()=>[O(h($.text),1)]),_:2},1024)]),_:2},1032,["to"]))],64))),128))]),_:1})]),_:1})])}var EI=q(CI,[["render",VI],["__scopeId","data-v-015199c8"]]);const II=K({components:{SettingsNavigation:Lt,FieldsManagement:EI},props:{collection:{type:String,required:!0},field:{type:String,default:null},type:{type:String,default:null}},setup(e){const{t}=ae(),o=et(),{collection:l}=Re(e),{info:d,fields:c}=at(l),i=qe(),s=ze(),{isNew:r,edits:p,item:f,saving:v,loading:_,error:y,save:b,remove:w,deleting:$,saveAsCopy:k,isBatch:V}=Cn(D("directus_collections"),l),g=E(()=>p.value.meta?Object.keys(p.value.meta).length>0:!1);tt("meta+s",()=>{g.value&&B()});const A=D(!1),R=E(()=>g.value===!0?!0:g.value);Zt(R);const L=D(!1),M=D(null),T=J=>{if(g.value)return L.value=!0,M.value=J.fullPath,!1};return Ot(T),At(T),{t,collectionInfo:d,fields:c,confirmDelete:A,isNew:r,edits:p,item:f,saving:v,loading:_,error:y,save:b,remove:w,deleting:$,saveAsCopy:k,isBatch:V,deleteAndQuit:U,saveAndQuit:z,hasEdits:g,isSavable:R,confirmLeave:L,leaveTo:M,discardAndLeave:W};async function U(){await w(),await i.hydrate(),await s.hydrate(),o.push("/settings/data-model")}async function B(){await b(),await i.hydrate(),await s.hydrate()}async function z(){await b(),await i.hydrate(),await s.hydrate(),o.push("/settings/data-model")}function W(){!M.value||(p.value={},L.value=!1,o.push(M.value))}}}),AI={class:"collections-item"},DI={class:"fields"},OI={class:"title type-label"},PI={class:"instant-save"},TI={class:"page-description"};function LI(e,t,o,l,d,c){const i=u("v-breadcrumb"),s=u("v-icon"),r=u("v-button"),p=u("v-card-title"),f=u("v-card-actions"),v=u("v-card"),_=u("v-dialog"),y=u("settings-navigation"),b=u("fields-management"),w=u("router-view"),$=u("v-form"),k=u("sidebar-detail"),V=u("v-card-text"),g=u("private-view"),A=Ce("tooltip"),R=Ce("md");return m(),F(g,{title:e.collectionInfo&&e.collectionInfo.name},{headline:a(()=>[n(i,{items:[{name:e.t("settings_data_model"),to:"/settings/data-model"}]},null,8,["items"])]),"title-outer:prepend":a(()=>[n(r,{class:"header-icon",rounded:"",icon:"",exact:"",to:"/settings/data-model"},{default:a(()=>[n(s,{name:"arrow_back"})]),_:1})]),actions:a(()=>[n(_,{modelValue:e.confirmDelete,"onUpdate:modelValue":t[1]||(t[1]=L=>e.confirmDelete=L),onEsc:t[2]||(t[2]=L=>e.confirmDelete=!1)},{activator:a(({on:L})=>[e.item&&e.item.collection.startsWith("directus_")===!1?te((m(),F(r,{key:0,rounded:"",icon:"",class:"action-delete",disabled:e.item===null,onClick:L},{default:a(()=>[n(s,{name:"delete",outline:""})]),_:2},1032,["disabled","onClick"])),[[A,e.t("delete_collection"),void 0,{bottom:!0}]]):N("",!0)]),default:a(()=>[n(v,null,{default:a(()=>[n(p,null,{default:a(()=>[O(h(e.t("delete_are_you_sure")),1)]),_:1}),n(f,null,{default:a(()=>[n(r,{secondary:"",onClick:t[0]||(t[0]=L=>e.confirmDelete=!1)},{default:a(()=>[O(h(e.t("cancel")),1)]),_:1}),n(r,{kind:"danger",loading:e.deleting,onClick:e.deleteAndQuit},{default:a(()=>[O(h(e.t("delete_label")),1)]),_:1},8,["loading","onClick"])]),_:1})]),_:1})]),_:1},8,["modelValue"]),te(n(r,{rounded:"",icon:"",loading:e.saving,disabled:e.hasEdits===!1,onClick:e.saveAndQuit},{default:a(()=>[n(s,{name:"check"})]),_:1},8,["loading","disabled","onClick"]),[[A,e.t("save"),void 0,{bottom:!0}]])]),navigation:a(()=>[n(y)]),sidebar:a(()=>[n(k,{icon:"info_outline",title:e.t("information"),close:""},{default:a(()=>[te(S("div",TI,null,512),[[R,e.t("page_help_settings_datamodel_fields")]])]),_:1},8,["title"])]),default:a(()=>[S("div",AI,[S("div",DI,[S("h2",OI,[O(h(e.t("fields_and_layout"))+" ",1),S("span",PI,h(e.t("saves_automatically")),1)]),n(b,{collection:e.collection},null,8,["collection"])]),n(w,{name:"field",collection:e.collection,field:e.field,type:e.type},null,8,["collection","field","type"]),n($,{modelValue:e.edits.meta,"onUpdate:modelValue":t[3]||(t[3]=L=>e.edits.meta=L),collection:"directus_collections",loading:e.loading,"initial-values":e.item&&e.item.meta,"batch-mode":e.isBatch,"primary-key":e.collection,disabled:e.item&&e.item.collection.startsWith("directus_")},null,8,["modelValue","loading","initial-values","batch-mode","primary-key","disabled"])]),n(_,{modelValue:e.confirmLeave,"onUpdate:modelValue":t[5]||(t[5]=L=>e.confirmLeave=L),onEsc:t[6]||(t[6]=L=>e.confirmLeave=!1)},{default:a(()=>[n(v,null,{default:a(()=>[n(p,null,{default:a(()=>[O(h(e.t("unsaved_changes")),1)]),_:1}),n(V,null,{default:a(()=>[O(h(e.t("unsaved_changes_copy")),1)]),_:1}),n(f,null,{default:a(()=>[n(r,{secondary:"",onClick:e.discardAndLeave},{default:a(()=>[O(h(e.t("discard_changes")),1)]),_:1},8,["onClick"]),n(r,{onClick:t[4]||(t[4]=L=>e.confirmLeave=!1)},{default:a(()=>[O(h(e.t("keep_editing")),1)]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1},8,["title"])}var jI=q(II,[["render",LI],["__scopeId","data-v-23ac21ca"]]);const RI=K({setup(){const{t:e}=ae(),t=et(),o=qe(),l=ze(),d=_t(),c=un(),i=D(["collection_setup"]),s=D(null),r=D(!1),p=D("id"),f=D("auto_int"),v=D(),_=D(),y=D(),b=D(),w=Bt({status:{enabled:!1,name:"status",label:"status",icon:"flag"},sort:{enabled:!1,name:"sort",label:"sort",icon:"low_priority"},dateCreated:{enabled:!1,name:"date_created",label:"created_on",icon:"access_time"},userCreated:{enabled:!1,name:"user_created",label:"created_by",icon:"account_circle"},dateUpdated:{enabled:!1,name:"date_updated",label:"updated_on",icon:"access_time"},userUpdated:{enabled:!1,name:"user_updated",label:"updated_by",icon:"account_circle"}}),$=D(!1);return{t:e,router:t,isOpen:c,currentTab:i,save:k,systemFields:w,primaryKeyFieldName:p,primaryKeyFieldType:f,collectionName:s,saving:$,singleton:r};async function k(){$.value=!0;try{await de.post("/collections",{collection:s.value,fields:[V(),...g()],schema:{},meta:{sort_field:v.value,archive_field:_.value,archive_value:y.value,unarchive_value:b.value,singleton:r.value}});const R=A();if(R.length>0){for(const L of R)await de.post("/relations",L);await d.hydrate()}await o.hydrate(),await l.hydrate(),kt({title:e("collection_created"),type:"success"}),t.push(`/settings/data-model/${s.value}`)}catch(R){Fe(R)}finally{$.value=!1}}function V(){return f.value==="uuid"?{field:p.value,type:"uuid",meta:{hidden:!0,readonly:!0,interface:"input",special:["uuid"]},schema:{is_primary_key:!0,length:36,has_auto_increment:!1}}:f.value==="manual"?{field:p.value,type:"string",meta:{interface:"input",readonly:!1,hidden:!1},schema:{is_primary_key:!0,length:255,has_auto_increment:!1}}:{field:p.value,type:"integer",meta:{hidden:!0,interface:"input",readonly:!0},schema:{is_primary_key:!0,has_auto_increment:!0}}}function g(){const R=[];return w.status.enabled===!0&&(R.push({field:w.status.name,type:"string",meta:{width:"full",options:{choices:[{text:"$t:published",value:"published"},{text:"$t:draft",value:"draft"},{text:"$t:archived",value:"archived"}]},interface:"select-dropdown",display:"labels",display_options:{showAsDot:!0,choices:[{background:"#00C897",value:"published"},{background:"#D3DAE4",value:"draft"},{background:"#F7971C",value:"archived"}]}},schema:{default_value:"draft",is_nullable:!1}}),_.value="status",y.value="archived",b.value="draft"),w.sort.enabled===!0&&(R.push({field:w.sort.name,type:"integer",meta:{interface:"input",hidden:!0},schema:{}}),v.value=w.sort.name),w.userCreated.enabled===!0&&R.push({field:w.userCreated.name,type:"uuid",meta:{special:["user-created"],interface:"select-dropdown-m2o",options:{template:"{{avatar.$thumbnail}} {{first_name}} {{last_name}}"},display:"user",readonly:!0,hidden:!0,width:"half"},schema:{}}),w.dateCreated.enabled===!0&&R.push({field:w.dateCreated.name,type:"timestamp",meta:{special:["date-created"],interface:"datetime",readonly:!0,hidden:!0,width:"half",display:"datetime",display_options:{relative:!0}},schema:{}}),w.userUpdated.enabled===!0&&R.push({field:w.userUpdated.name,type:"uuid",meta:{special:["user-updated"],interface:"select-dropdown-m2o",options:{template:"{{avatar.$thumbnail}} {{first_name}} {{last_name}}"},display:"user",readonly:!0,hidden:!0,width:"half"},schema:{}}),w.dateUpdated.enabled===!0&&R.push({field:w.dateUpdated.name,type:"timestamp",meta:{special:["date-updated"],interface:"datetime",readonly:!0,hidden:!0,width:"half",display:"datetime",display_options:{relative:!0}},schema:{}}),R}function A(){const R=[];return w.userCreated.enabled===!0&&R.push({collection:s.value,field:w.userCreated.name,related_collection:"directus_users"}),w.userUpdated.enabled===!0&&R.push({collection:s.value,field:w.userUpdated.name,related_collection:"directus_users"}),R}}}),MI={class:"grid"},UI={class:"field half"},NI={class:"type-label"},BI={class:"field half"},qI={class:"type-label"},zI={class:"field half"},KI={class:"type-label"},WI={class:"field half"},HI={class:"type-label"},GI={class:"grid system"},QI={class:"type-label"};function XI(e,t,o,l,d,c){const i=u("v-tab"),s=u("v-tabs"),r=u("v-notice"),p=u("v-icon"),f=u("v-input"),v=u("v-checkbox"),_=u("v-divider"),y=u("v-select"),b=u("v-tab-item"),w=u("v-tabs-items"),$=u("v-button"),k=u("v-drawer"),V=Ce("tooltip");return m(),F(k,{title:e.t("creating_new_collection"),"model-value":e.isOpen,class:"new-collection",persistent:"","sidebar-label":e.t(e.currentTab[0]),onCancel:t[7]||(t[7]=g=>e.router.push("/settings/data-model"))},{sidebar:a(()=>[n(s,{modelValue:e.currentTab,"onUpdate:modelValue":t[0]||(t[0]=g=>e.currentTab=g),vertical:""},{default:a(()=>[n(i,{value:"collection_setup"},{default:a(()=>[O(h(e.t("collection_setup")),1)]),_:1}),n(i,{value:"optional_system_fields",disabled:!e.collectionName},{default:a(()=>[O(h(e.t("optional_system_fields")),1)]),_:1},8,["disabled"])]),_:1},8,["modelValue"])]),actions:a(()=>[e.currentTab[0]==="collection_setup"?te((m(),F($,{key:0,disabled:!e.collectionName||e.collectionName.length===0,icon:"",rounded:"",onClick:t[6]||(t[6]=g=>e.currentTab=["optional_system_fields"])},{default:a(()=>[n(p,{name:"arrow_forward"})]),_:1},8,["disabled"])),[[V,e.t("next"),void 0,{bottom:!0}]]):N("",!0),e.currentTab[0]==="optional_system_fields"?te((m(),F($,{key:1,loading:e.saving,icon:"",rounded:"",onClick:e.save},{default:a(()=>[n(p,{name:"check"})]),_:1},8,["loading","onClick"])),[[V,e.t("finish_setup"),void 0,{bottom:!0}]]):N("",!0)]),default:a(()=>[n(w,{modelValue:e.currentTab,"onUpdate:modelValue":t[5]||(t[5]=g=>e.currentTab=g),class:"content"},{default:a(()=>[n(b,{value:"collection_setup"},{default:a(()=>[n(r,{type:"info"},{default:a(()=>[O(h(e.t("creating_collection_info")),1)]),_:1}),S("div",MI,[S("div",UI,[S("div",NI,[O(h(e.t("name"))+" ",1),te(n(p,{class:"required",name:"star",sup:""},null,512),[[V,e.t("required")]])]),n(f,{modelValue:e.collectionName,"onUpdate:modelValue":t[1]||(t[1]=g=>e.collectionName=g),autofocus:"",class:"monospace","db-safe":"",placeholder:e.t("a_unique_table_name")},null,8,["modelValue","placeholder"])]),S("div",BI,[S("div",qI,h(e.t("singleton")),1),n(v,{modelValue:e.singleton,"onUpdate:modelValue":t[2]||(t[2]=g=>e.singleton=g),block:"",label:e.t("singleton_label")},null,8,["modelValue","label"])]),n(_,{class:"full"}),S("div",zI,[S("div",KI,h(e.t("primary_key_field")),1),n(f,{modelValue:e.primaryKeyFieldName,"onUpdate:modelValue":t[3]||(t[3]=g=>e.primaryKeyFieldName=g),class:"monospace","db-safe":"",placeholder:e.t("a_unique_column_name")},null,8,["modelValue","placeholder"])]),S("div",WI,[S("div",HI,h(e.t("type")),1),n(y,{modelValue:e.primaryKeyFieldType,"onUpdate:modelValue":t[4]||(t[4]=g=>e.primaryKeyFieldType=g),items:[{text:e.t("auto_increment_integer"),value:"auto_int"},{text:e.t("generated_uuid"),value:"uuid"},{text:e.t("manual_string"),value:"manual"}]},null,8,["modelValue","items"])])])]),_:1}),n(b,{value:"optional_system_fields"},{default:a(()=>[n(r,{type:"info"},{default:a(()=>[O(h(e.t("creating_collection_system")),1)]),_:1}),S("div",GI,[(m(!0),I(oe,null,he(e.systemFields,(g,A,R)=>(m(),I("div",{key:A,class:re(["field",R%2==0?"half":"half-right"])},[S("div",QI,h(e.t(g.label)),1),n(f,{modelValue:g.name,"onUpdate:modelValue":L=>g.name=L,class:re(["monospace",{active:g.enabled}]),onFocus:L=>g.enabled=!0},{prepend:a(()=>[n(v,{modelValue:g.enabled,"onUpdate:modelValue":L=>g.enabled=L},null,8,["modelValue","onUpdate:modelValue"])]),append:a(()=>[n(p,{name:g.icon},null,8,["name"])]),_:2},1032,["modelValue","onUpdate:modelValue","class","onFocus"])],2))),128))])]),_:1})]),_:1},8,["modelValue"])]),_:1},8,["title","model-value","sidebar-label"])}var JI=q(RI,[["render",XI],["__scopeId","data-v-e01fa5b0"]]);const YI=K({components:{SettingsNavigation:Lt},setup(){const{t:e}=ae();return{t:e}}}),ZI={class:"not-found"};function xI(e,t,o,l,d,c){const i=u("settings-navigation"),s=u("v-info"),r=u("private-view");return m(),F(r,{title:e.t("page_not_found")},{navigation:a(()=>[n(i)]),default:a(()=>[S("div",ZI,[n(s,{title:e.t("page_not_found"),icon:"not_interested"},{default:a(()=>[O(h(e.t("page_not_found_body")),1)]),_:1},8,["title"])])]),_:1},8,["title"])}var eA=q(YI,[["render",xI],["__scopeId","data-v-bf888afe"]]);const tA={},nA={class:"null"};function lA(e,t){return m(),I("span",nA,"--")}var xt=q(tA,[["render",lA],["__scopeId","data-v-cf005d72"]]);const aA=K({setup(){const{t:e}=ae(),t=D(!1),o=D(null),l=D(null);return d(),{t:e,bookmarksCount:o,presetsCount:l};async function d(){t.value=!0;try{const c=await de.get("/presets",{params:{["filter[bookmark][_nnull]"]:!0,fields:["id"],meta:"filter_count,total_count"}});o.value=c.data.meta.filter_count,l.value=c.data.meta.total_count-o.value}catch(c){Fe(c)}finally{t.value=!1}}}}),oA={class:"page-description"};function iA(e,t,o,l,d,c){const i=u("v-divider"),s=u("sidebar-detail"),r=Ce("md");return m(),F(s,{icon:"info_outline",title:e.t("information"),close:""},{default:a(()=>[S("dl",null,[S("div",null,[S("dt",null,h(e.t("bookmarks")),1),S("dd",null,h(e.bookmarksCount),1)]),S("div",null,[S("dt",null,h(e.t("presets")),1),S("dd",null,h(e.presetsCount),1)])]),n(i),te(S("div",oA,null,512),[[r,e.t("page_help_settings_presets_collection")]])]),_:1},8,["title"])}var sA=q(aA,[["render",iA],["__scopeId","data-v-7ed28445"]]);const rA=K({components:{SettingsNavigation:Lt,ValueNull:xt,PresetsInfoSidebarDetail:sA},setup(){const{t:e}=ae(),t=et(),{layouts:o}=rn(),l=qe(),d=D([]),{addNewLink:c}=y(),{loading:i,presets:s,getPresets:r}=b(),{headers:p}=w(),{confirmDelete:f,deleting:v,deleteSelection:_}=k();return r(),{t:e,addNewLink:c,usePresets:b,loading:i,presets:s,getPresets:r,headers:p,selection:d,onRowClick:$,confirmDelete:f,deleting:v,deleteSelection:_};function y(){return{addNewLink:E(()=>"/settings/presets/+")}}function b(){const V=D(!1),g=D(null),A=E(()=>(g.value||[]).map(L=>{var B,z;let M="all";L.role&&(M=L.role.name),L.user&&(M=Ft(L.user));const T=(B=l.getCollection(L.collection))==null?void 0:B.name,U=(z=o.value.find(W=>W.id===L.layout))==null?void 0:z.name;return{id:L.id,scope:M,collection:T,layout:U,name:L.bookmark}}));return{loading:V,presetsRaw:g,getPresets:R,presets:A};async function R(){V.value=!0;try{const L=await de.get("/presets",{params:{fields:["id","bookmark","user.email","user.first_name","user.last_name","role.name","collection","layout"],limit:-1}});g.value=L.data.data}catch(L){Fe(L)}finally{V.value=!1}}}function w(){return{headers:[{text:e("collection"),value:"collection",align:"left",sortable:!0,width:200},{text:e("scope"),value:"scope",align:"left",sortable:!0,width:200},{text:e("layout"),value:"layout",align:"left",sortable:!0,width:200},{text:e("name"),value:"name",align:"left",sortable:!0,width:200}]}}function $(V){d.value.length===0?t.push(`/settings/presets/${V.id}`):d.value.includes(V)?d.value=d.value.filter(g=>g!==V):d.value=[...d.value,V]}function k(){const V=D(!1),g=D(!1);return{confirmDelete:V,deleting:g,deleteSelection:A};async function A(){g.value=!0;try{const R=d.value.map(L=>L.id);await de.delete("/presets",{data:R}),d.value=[],await r(),V.value=!1}finally{g.value=!1}}}}}),dA={class:"presets-collection"},uA={key:1};function cA(e,t,o,l,d,c){const i=u("v-breadcrumb"),s=u("v-icon"),r=u("v-button"),p=u("v-card-title"),f=u("v-card-actions"),v=u("v-card"),_=u("v-dialog"),y=u("settings-navigation"),b=u("v-info"),w=u("value-null"),$=u("v-table"),k=u("presets-info-sidebar-detail"),V=u("private-view"),g=Ce("tooltip");return m(),F(V,{title:e.t("settings_presets")},{headline:a(()=>[n(i,{items:[{name:e.t("settings"),to:"/settings"}]},null,8,["items"])]),"title-outer:prepend":a(()=>[n(r,{class:"header-icon",rounded:"",disabled:"",icon:"",secondary:""},{default:a(()=>[n(s,{name:"bookmark_border"})]),_:1})]),actions:a(()=>[e.selection.length>0?(m(),F(_,{key:0,modelValue:e.confirmDelete,"onUpdate:modelValue":t[1]||(t[1]=A=>e.confirmDelete=A),onEsc:t[2]||(t[2]=A=>e.confirmDelete=!1)},{activator:a(({on:A})=>[te(n(r,{rounded:"",icon:"",class:"action-delete",onClick:A},{default:a(()=>[n(s,{name:"delete",outline:""})]),_:2},1032,["onClick"]),[[g,e.t("delete_label"),void 0,{bottom:!0}]])]),default:a(()=>[n(v,null,{default:a(()=>[n(p,null,{default:a(()=>[O(h(e.t("batch_delete_confirm",e.selection.length)),1)]),_:1}),n(f,null,{default:a(()=>[n(r,{secondary:"",onClick:t[0]||(t[0]=A=>e.confirmDelete=!1)},{default:a(()=>[O(h(e.t("cancel")),1)]),_:1}),n(r,{kind:"danger",loading:e.deleting,onClick:e.deleteSelection},{default:a(()=>[O(h(e.t("delete_label")),1)]),_:1},8,["loading","onClick"])]),_:1})]),_:1})]),_:1},8,["modelValue"])):N("",!0),te(n(r,{rounded:"",icon:"",to:e.addNewLink},{default:a(()=>[n(s,{name:"add"})]),_:1},8,["to"]),[[g,e.t("create_preset"),void 0,{bottom:!0}]])]),navigation:a(()=>[n(y)]),sidebar:a(()=>[n(k)]),default:a(()=>[S("div",dA,[!e.loading&&e.presets.length===0?(m(),F(b,{key:0,center:"",type:"warning",title:e.t("no_presets"),icon:"bookmark"},{append:a(()=>[n(r,{to:e.addNewLink},{default:a(()=>[O(h(e.t("no_presets_cta")),1)]),_:1},8,["to"])]),default:a(()=>[O(h(e.t("no_presets_copy"))+" ",1)]),_:1},8,["title"])):(m(),F($,{key:1,modelValue:e.selection,"onUpdate:modelValue":t[3]||(t[3]=A=>e.selection=A),headers:e.headers,"fixed-header":"",items:e.presets,loading:e.loading,"show-select":"","onClick:row":e.onRowClick},{["item.scope"]:a(({item:A})=>[S("span",{class:re({all:A.scope==="all"})},h(A.scope==="all"?e.t("all"):A.scope),3)]),["item.layout"]:a(({item:A})=>[A.layout?(m(),I("span",uA,h(A.layout),1)):(m(),F(w,{key:0}))]),["item.name"]:a(({item:A})=>[S("span",{class:re({default:A.name===null})},h(A.name===null?e.t("default_label"):A.name),3)]),_:2},1032,["modelValue","headers","items","loading","onClick:row"]))])]),_:1},8,["title"])}var pA=q(rA,[["render",cA],["__scopeId","data-v-25980f55"]]);const mA=K({components:{SettingsNavigation:Lt},props:{id:{type:String,default:null}},setup(e){const{t}=ae(),o=et(),l=qe(),d=On(),{layouts:c}=rn(),{backLink:i}=ie(),s=E(()=>e.id==="+"),{loading:r,preset:p}=ne(),{fields:f}=pe(),{edits:v,hasEdits:_,initialValues:y,values:b,layoutQuery:w,layoutOptions:$,updateFilters:k,search:V}=ee(),{save:g,saving:A}=G(),{deleting:R,deleteAndQuit:L,confirmDelete:M}=x(),T=E({get(){var Z;return(Z=b.value.filter)!=null?Z:null},set(Z){k(Z)}}),U=E(()=>b.value.layout),{layoutWrapper:B}=dn(U);tt("meta+s",()=>{_.value&&g()});const z=E(()=>_.value===!0?!0:_.value);Zt(z);const W=D(!1),J=D(null),Q=Z=>{if(_.value)return W.value=!0,J.value=Z.fullPath,!1};return Ot(Q),At(Q),{t,backLink:i,loading:r,preset:p,edits:v,fields:f,values:b,initialValues:y,saving:A,save:g,layoutWrapper:B,layoutQuery:w,layoutOptions:$,layoutFilter:T,hasEdits:_,deleting:R,deleteAndQuit:L,confirmDelete:M,updateFilters:k,search:V,isSavable:z,confirmLeave:W,leaveTo:J,discardAndLeave:Y};function G(){const Z=D(!1);return{saving:Z,save:se};async function se(){var ce;Z.value=!0;const le={};v.value.name&&(le.bookmark=v.value.name),((ce=v.value.name)==null?void 0:ce.length)===0&&(le.bookmark=null),v.value.collection&&(le.collection=v.value.collection),v.value.layout&&(le.layout=v.value.layout),v.value.layout_query&&(le.layout_query=v.value.layout_query),v.value.layout_options&&(le.layout_options=v.value.layout_options),v.value.filter&&(le.filter=v.value.filter),le.search=v.value.search,v.value.scope&&(v.value.scope.startsWith("role_")?(le.role=v.value.scope.substring(5),le.user=null):v.value.scope.startsWith("user_")?(le.user=v.value.scope.substring(5),le.role=null):(le.role=null,le.user=null));try{s.value===!0?await de.post("/presets",le):await de.patch(`/presets/${e.id}`,le),await d.hydrate(),v.value={}}catch(ve){Fe(ve)}finally{Z.value=!1,o.push("/settings/presets")}}}function x(){const Z=D(!1),se=D(!1);return{deleting:Z,confirmDelete:se,deleteAndQuit:le};async function le(){Z.value=!0;try{await de.delete(`/presets/${e.id}`),o.push("/settings/presets")}catch(ce){Fe(ce)}finally{Z.value=!1}}}function ee(){const Z=D({}),se=E(()=>Object.keys(Z.value).length>0),le=E(()=>{const me={collection:null,layout:"tabular",search:null,scope:"all",layout_query:null,layout_options:null,filter:null};if(s.value===!0||p.value===null)return me;let ke="all";return p.value.user!==null?ke=`user_${p.value.user}`:p.value.role!==null&&(ke=`role_${p.value.role}`),{id:p.value.id,collection:p.value.collection,layout:p.value.layout,name:p.value.bookmark,search:p.value.search,scope:ke,layout_query:p.value.layout_query,layout_options:p.value.layout_options,filter:p.value.filter}}),ce=E(()=>X(X({},le.value),Z.value)),ve=E({get(){return!ce.value.layout_query||!ce.value.layout?null:ce.value.layout_query[ce.value.layout]},set(me){Z.value=ye(X({},Z.value),{layout_query:ye(X({},Z.value.layout_query),{[ce.value.layout||"tabular"]:me})})}}),ue=E({get(){return!ce.value.layout_options||!ce.value.layout?null:ce.value.layout_options[ce.value.layout]},set(me){Z.value=ye(X({},Z.value),{layout_options:ye(X({},Z.value.layout_options),{[ce.value.layout||"tabular"]:me})})}}),ge=E({get(){return ce.value.search},set(me){Z.value=ye(X({},Z.value),{search:me})}});return{edits:Z,initialValues:le,values:ce,layoutQuery:ve,layoutOptions:ue,hasEdits:se,updateFilters:fe,search:ge};function fe(me){Z.value=ye(X({},Z.value),{filter:me})}}function ne(){const Z=D(!1),se=D(null);return le(),{loading:Z,preset:se,fetchPreset:le};async function le(){if(e.id!=="+"){Z.value=!0;try{const ce=await de.get(`/presets/${e.id}`);se.value=ce.data.data}catch(ce){Fe(ce)}finally{Z.value=!1}}}}function ie(){return{backLink:E(()=>"/settings/presets")}}function pe(){const Z=["directus_users","directus_files","directus_activity"];return{fields:E(()=>[{field:"collection",name:t("collection"),type:"string",meta:{interface:"select-dropdown",options:{choices:l.collections.map(le=>({text:le.name,value:le.collection})).filter(le=>le.value.startsWith("directus_")?Z.includes(le.value):!0)},width:"half"}},{field:"scope",name:t("scope"),type:"string",meta:{interface:"system-scope",width:"half"}},{field:"layout",name:t("layout"),type:"string",meta:{interface:"select-dropdown",options:{choices:c.value.map(le=>({text:le.name,value:le.id}))},width:"half"}},{field:"name",name:t("name"),type:"string",meta:{interface:"input",width:"half",options:{placeholder:t("preset_name_placeholder")}}},{field:"divider",name:t("divider"),type:"alias",meta:{interface:"presentation-divider",width:"fill",options:{title:t("layout_preview"),icon:"visibility"}}}])}}function Y(){!J.value||(v.value={},W.value=!1,o.push(J.value))}}}),fA={class:"preset-item"},_A={class:"layout"},vA={class:"page-description"},yA={class:"layout-sidebar"},gA={class:"layout-options"};function hA(e,t,o,l,d,c){const i=u("v-breadcrumb"),s=u("v-icon"),r=u("v-button"),p=u("settings-navigation"),f=u("v-card-title"),v=u("v-card-actions"),_=u("v-card"),y=u("v-dialog"),b=u("v-form"),w=u("v-info"),$=u("v-notice"),k=u("sidebar-detail"),V=u("v-input"),g=u("v-card-text"),A=u("private-view"),R=Ce("tooltip"),L=Ce("md");return m(),F(Ue(e.layoutWrapper),{"layout-options":e.layoutOptions,"onUpdate:layout-options":t[8]||(t[8]=M=>e.layoutOptions=M),"layout-query":e.layoutQuery,"onUpdate:layout-query":t[9]||(t[9]=M=>e.layoutQuery=M),filter:e.layoutFilter,search:e.search,collection:e.values.collection,readonly:""},{default:a(({layoutState:M})=>[n(A,{title:e.t("editing_preset")},{headline:a(()=>[n(i,{items:[{name:e.t("settings_presets"),to:"/settings/presets"}]},null,8,["items"])]),"title-outer:prepend":a(()=>[n(r,{class:"header-icon",rounded:"",icon:"",exact:"",to:e.backLink},{default:a(()=>[n(s,{name:"arrow_back"})]),_:1},8,["to"])]),navigation:a(()=>[n(p)]),actions:a(()=>[n(y,{modelValue:e.confirmDelete,"onUpdate:modelValue":t[1]||(t[1]=T=>e.confirmDelete=T),onEsc:t[2]||(t[2]=T=>e.confirmDelete=!1)},{activator:a(({on:T})=>[te(n(r,{rounded:"",icon:"",class:"action-delete",disabled:e.preset===null||e.id==="+",onClick:T},{default:a(()=>[n(s,{name:"delete",outline:""})]),_:2},1032,["disabled","onClick"]),[[R,e.t("delete_label"),void 0,{bottom:!0}]])]),default:a(()=>[n(_,null,{default:a(()=>[n(f,null,{default:a(()=>[O(h(e.t("delete_are_you_sure")),1)]),_:1}),n(v,null,{default:a(()=>[n(r,{secondary:"",onClick:t[0]||(t[0]=T=>e.confirmDelete=!1)},{default:a(()=>[O(h(e.t("cancel")),1)]),_:1}),n(r,{kind:"danger",loading:e.deleting,onClick:e.deleteAndQuit},{default:a(()=>[O(h(e.t("delete_label")),1)]),_:1},8,["loading","onClick"])]),_:1})]),_:1})]),_:1},8,["modelValue"]),te(n(r,{icon:"",rounded:"",disabled:e.hasEdits===!1,loading:e.saving,onClick:e.save},{default:a(()=>[n(s,{name:"check"})]),_:1},8,["disabled","loading","onClick"]),[[R,e.t("save"),void 0,{bottom:!0}]])]),sidebar:a(()=>[n(k,{icon:"info_outline",title:e.t("information"),close:""},{default:a(()=>[te(S("div",vA,null,512),[[L,e.t("page_help_settings_presets_item")]])]),_:1},8,["title"]),S("div",yA,[n(k,{icon:"search",title:e.t("search")},{default:a(()=>[n(V,{modelValue:e.search,"onUpdate:modelValue":t[4]||(t[4]=T=>e.search=T),placeholder:e.t("preset_search_placeholder")},null,8,["modelValue","placeholder"])]),_:1},8,["title"]),e.values.layout&&e.values.collection?(m(),F(Ue(`layout-sidebar-${e.values.layout}`),Qe(ct({key:0},M)),null,16)):N("",!0),n(k,{icon:"layers",title:e.t("layout_options")},{default:a(()=>[S("div",gA,[e.values.layout&&e.values.collection?(m(),F(Ue(`layout-options-${e.values.layout}`),Qe(ct({key:0},M)),null,16)):N("",!0)])]),_:2},1032,["title"])])]),default:a(()=>[S("div",fA,[n(b,{modelValue:e.edits,"onUpdate:modelValue":t[3]||(t[3]=T=>e.edits=T),fields:e.fields,loading:e.loading,"initial-values":e.initialValues,"primary-key":e.id},null,8,["modelValue","fields","loading","initial-values","primary-key"]),S("div",_A,[e.values.layout&&e.values.collection?(m(),F(Ue(`layout-${e.values.layout}`),Qe(ct({key:0},M)),{"no-results":a(()=>[n(w,{title:e.t("no_results"),icon:"search",center:""},{default:a(()=>[O(h(e.t("no_results_copy")),1)]),_:1},8,["title"])]),"no-items":a(()=>[n(w,{title:e.t("item_count",0),center:""},{default:a(()=>[O(h(e.t("no_items_copy")),1)]),_:1},8,["title"])]),_:2},1040)):(m(),F($,{key:1},{default:a(()=>[O(h(e.t("no_layout_collection_selected_yet")),1)]),_:1}))])]),n(y,{modelValue:e.confirmLeave,"onUpdate:modelValue":t[6]||(t[6]=T=>e.confirmLeave=T),onEsc:t[7]||(t[7]=T=>e.confirmLeave=!1)},{default:a(()=>[n(_,null,{default:a(()=>[n(f,null,{default:a(()=>[O(h(e.t("unsaved_changes")),1)]),_:1}),n(g,null,{default:a(()=>[O(h(e.t("unsaved_changes_copy")),1)]),_:1}),n(v,null,{default:a(()=>[n(r,{secondary:"",onClick:e.discardAndLeave},{default:a(()=>[O(h(e.t("discard_changes")),1)]),_:1},8,["onClick"]),n(r,{onClick:t[5]||(t[5]=T=>e.confirmLeave=!1)},{default:a(()=>[O(h(e.t("keep_editing")),1)]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:2},1032,["title"])]),_:1},8,["layout-options","layout-query","filter","search","collection"])}var bA=q(mA,[["render",hA],["__scopeId","data-v-ad308798"]]);const $A=K({setup(){const{t:e}=ae(),{parsedInfo:t}=Co();return{t:e,parsedInfo:t}}}),kA={key:0},wA={class:"page-description"};function CA(e,t,o,l,d,c){const i=u("v-divider"),s=u("sidebar-detail"),r=Ce("md");return m(),F(s,{icon:"info_outline",title:e.t("information"),close:""},{default:a(()=>[e.parsedInfo?(m(),I("dl",kA,[S("div",null,[S("dt",null,h(e.t("directus_version")),1),S("dd",null,h(e.parsedInfo.directus.version),1)]),S("div",null,[S("dt",null,h(e.t("node_version")),1),S("dd",null,h(e.parsedInfo.node.version),1)]),S("div",null,[S("dt",null,h(e.t("node_uptime")),1),S("dd",null,h(e.parsedInfo.node.uptime),1)]),S("div",null,[S("dt",null,h(e.t("os_type")),1),S("dd",null,h(e.parsedInfo.os.type),1)]),S("div",null,[S("dt",null,h(e.t("os_version")),1),S("dd",null,h(e.parsedInfo.os.version),1)]),S("div",null,[S("dt",null,h(e.t("os_uptime")),1),S("dd",null,h(e.parsedInfo.os.uptime),1)]),S("div",null,[S("dt",null,h(e.t("os_totalmem")),1),S("dd",null,h(e.parsedInfo.os.totalmem),1)])])):N("",!0),n(i),te(S("div",wA,null,512),[[r,e.t("page_help_settings_project")]])]),_:1},8,["title"])}var SA=q($A,[["render",CA],["__scopeId","data-v-1a92ed59"]]);const FA=K({components:{SettingsNavigation:Lt,ProjectInfoSidebarDetail:SA},setup(){const{t:e}=ae(),t=et(),o=Dl(),l=Pn(),{fields:d}=at("directus_settings"),c=D(H.exports.clone(o.settings)),i=D(null),s=E(()=>i.value===null||Object.keys(i.value).length===0),r=D(!1);tt("meta+s",()=>{s.value||y()});const p=E(()=>s.value===!0?!1:s.value);Zt(p);const f=D(!1),v=D(null),_=w=>{if(!s.value)return f.value=!0,v.value=w.fullPath,!1};return Ot(_),At(_),{t:e,fields:d,initialValues:c,edits:i,noEdits:s,saving:r,isSavable:p,confirmLeave:f,leaveTo:v,save:y,discardAndLeave:b};async function y(){i.value!==null&&(r.value=!0,await o.updateSettings(i.value),await l.hydrate(),i.value=null,r.value=!1,c.value=H.exports.clone(o.settings))}function b(){!v.value||(i.value={},f.value=!1,t.push(v.value))}}}),VA={class:"settings"};function EA(e,t,o,l,d,c){const i=u("v-breadcrumb"),s=u("v-icon"),r=u("v-button"),p=u("settings-navigation"),f=u("v-form"),v=u("project-info-sidebar-detail"),_=u("v-card-title"),y=u("v-card-text"),b=u("v-card-actions"),w=u("v-card"),$=u("v-dialog"),k=u("private-view"),V=Ce("tooltip");return m(),F(k,{title:e.t("settings_project")},{headline:a(()=>[n(i,{items:[{name:e.t("settings"),to:"/settings"}]},null,8,["items"])]),"title-outer:prepend":a(()=>[n(r,{class:"header-icon",rounded:"",disabled:"",icon:"",secondary:""},{default:a(()=>[n(s,{name:"public"})]),_:1})]),actions:a(()=>[te(n(r,{icon:"",rounded:"",disabled:e.noEdits,loading:e.saving,onClick:e.save},{default:a(()=>[n(s,{name:"check"})]),_:1},8,["disabled","loading","onClick"]),[[V,e.t("save"),void 0,{bottom:!0}]])]),navigation:a(()=>[n(p)]),sidebar:a(()=>[n(v)]),default:a(()=>[S("div",VA,[n(f,{modelValue:e.edits,"onUpdate:modelValue":t[0]||(t[0]=g=>e.edits=g),"initial-values":e.initialValues,fields:e.fields,"primary-key":1},null,8,["modelValue","initial-values","fields"])]),n($,{modelValue:e.confirmLeave,"onUpdate:modelValue":t[2]||(t[2]=g=>e.confirmLeave=g),onEsc:t[3]||(t[3]=g=>e.confirmLeave=!1)},{default:a(()=>[n(w,null,{default:a(()=>[n(_,null,{default:a(()=>[O(h(e.t("unsaved_changes")),1)]),_:1}),n(y,null,{default:a(()=>[O(h(e.t("unsaved_changes_copy")),1)]),_:1}),n(b,null,{default:a(()=>[n(r,{secondary:"",onClick:e.discardAndLeave},{default:a(()=>[O(h(e.t("discard_changes")),1)]),_:1},8,["onClick"]),n(r,{onClick:t[1]||(t[1]=g=>e.confirmLeave=!1)},{default:a(()=>[O(h(e.t("keep_editing")),1)]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1},8,["title"])}var IA=q(FA,[["render",EA],["__scopeId","data-v-69b900f4"]]);const Vo=[{collection:"directus_files",action:"create",permissions:{},fields:["*"]},{collection:"directus_files",action:"read",permissions:{},fields:["*"]},{collection:"directus_files",action:"update",permissions:{},fields:["*"]},{collection:"directus_files",action:"delete",permissions:{},fields:["*"]},{collection:"directus_dashboards",action:"create",permissions:{},fields:["*"]},{collection:"directus_dashboards",action:"read",permissions:{},fields:["*"]},{collection:"directus_dashboards",action:"update",permissions:{},fields:["*"]},{collection:"directus_dashboards",action:"delete",permissions:{},fields:["*"]},{collection:"directus_panels",action:"create",permissions:{},fields:["*"]},{collection:"directus_panels",action:"read",permissions:{},fields:["*"]},{collection:"directus_panels",action:"update",permissions:{},fields:["*"]},{collection:"directus_panels",action:"delete",permissions:{},fields:["*"]},{collection:"directus_folders",action:"create",permissions:{},fields:["*"]},{collection:"directus_folders",action:"read",permissions:{},fields:["*"]},{collection:"directus_folders",action:"update",permissions:{},fields:["*"]},{collection:"directus_folders",action:"delete",permissions:{}},{collection:"directus_users",action:"read",permissions:{}},{collection:"directus_users",action:"update",permissions:{id:{_eq:"$CURRENT_USER"}},fields:["first_name","last_name","email","password","location","title","description","avatar","language","theme"]},{collection:"directus_roles",action:"read",permissions:{},fields:["*"]}],Eo=[{collection:"directus_activity",action:"read",permissions:{user:{_eq:"$CURRENT_USER"}}},{collection:"directus_activity",action:"create",validation:{comment:{_nnull:!0}}},{collection:"directus_collections",action:"read"},{collection:"directus_fields",action:"read"},{collection:"directus_permissions",action:"read",permissions:{role:{_eq:"$CURRENT_ROLE"}}},{collection:"directus_presets",action:"read",permissions:{_or:[{user:{_eq:"$CURRENT_USER"}},{_and:[{user:{_null:!0}},{role:{_eq:"$CURRENT_ROLE"}}]},{_and:[{user:{_null:!0}},{role:{_null:!0}}]}]}},{collection:"directus_presets",action:"create",validation:[{user:null,_eq:"$CURRENT_USER"}]},{collection:"directus_presets",action:"update",permissions:{user:{_eq:"$CURRENT_USER"}}},{collection:"directus_presets",action:"delete",permissions:{user:{_eq:"$CURRENT_USER"}}},{collection:"directus_relations",action:"read"},{collection:"directus_roles",action:"read",permissions:{id:{_eq:"$CURRENT_ROLE"}}},{collection:"directus_settings",action:"read"},{collection:"directus_users",action:"read",permissions:{id:{_eq:"$CURRENT_USER"}},fields:["id","first_name","last_name","email","password","location","title","description","tags","preferences_divider","avatar","language","theme","tfa_secret","status","role"]}];const AA=K({setup(){const{t:e}=ae(),t=et(),o=un(),l=D(null),d=D(!0),c=D(!1),{saving:i,save:s}=r();return{t:e,router:t,isOpen:o,roleName:l,saving:i,save:s,appAccess:d,adminAccess:c};function r(){const p=D(!1);return{saving:p,save:f};async function f(){p.value=!0;try{const v=await de.post("/roles",{name:l.value,admin_access:c.value,app_access:d.value});d.value===!0&&c.value===!1&&await de.post("/permissions",Vo.map(_=>ye(X({},_),{role:v.data.data.id}))),t.push(`/settings/roles/${v.data.data.id}`)}catch(v){Fe(v)}finally{p.value=!1}}}}}),DA={class:"form-grid"},OA={class:"field full"},PA={class:"field half"},TA={class:"type-label"},LA={class:"field half"},jA={class:"type-label"};function RA(e,t,o,l,d,c){const i=u("v-card-title"),s=u("v-input"),r=u("v-checkbox"),p=u("v-card-text"),f=u("v-button"),v=u("v-card-actions"),_=u("v-card"),y=u("v-dialog");return m(),F(y,{"model-value":e.isOpen,persistent:"",onEsc:t[3]||(t[3]=b=>e.router.push("/settings/roles"))},{default:a(()=>[n(_,null,{default:a(()=>[n(i,null,{default:a(()=>[O(h(e.t("create_role")),1)]),_:1}),n(p,null,{default:a(()=>[S("div",DA,[S("div",OA,[n(s,{modelValue:e.roleName,"onUpdate:modelValue":t[0]||(t[0]=b=>e.roleName=b),autofocus:"",placeholder:e.t("role_name")+"...",onKeyup:gn(e.save,["enter"])},null,8,["modelValue","placeholder","onKeyup"])]),S("div",PA,[S("p",TA,h(e.t("fields.directus_roles.app_access")),1),n(r,{modelValue:e.appAccess,"onUpdate:modelValue":t[1]||(t[1]=b=>e.appAccess=b),block:"",label:e.t("enabled")},null,8,["modelValue","label"])]),S("div",LA,[S("p",jA,h(e.t("fields.directus_roles.admin_access")),1),n(r,{modelValue:e.adminAccess,"onUpdate:modelValue":t[2]||(t[2]=b=>e.adminAccess=b),block:"",label:e.t("enabled")},null,8,["modelValue","label"])])])]),_:1}),n(v,null,{default:a(()=>[n(f,{to:"/settings/roles",secondary:""},{default:a(()=>[O(h(e.t("cancel")),1)]),_:1}),n(f,{disabled:e.roleName===null,loading:e.saving,onClick:e.save},{default:a(()=>[O(h(e.t("save")),1)]),_:1},8,["disabled","loading","onClick"])]),_:1})]),_:1})]),_:1},8,["model-value"])}var MA=q(AA,[["render",RA],["__scopeId","data-v-2bf24ab7"]]);const UA=K({name:"RolesCollection",components:{SettingsNavigation:Lt,ValueNull:xt},props:{},setup(){const{t:e}=ae(),t=et(),o=D([]),l=D(!1),d=[{text:"",value:"icon",sortable:!1,width:42,align:"left"},{text:e("name"),value:"name",sortable:!1,width:140,align:"left"},{text:e("users"),value:"count",sortable:!1,width:140,align:"left"},{text:e("description"),value:"description",sortable:!1,width:470,align:"left"}];i();const c=E(()=>"/settings/roles/+");return{t:e,loading:l,roles:o,tableHeaders:d,addNewLink:c,navigateToRole:s};async function i(){l.value=!0;try{const r=await de.get("/roles",{params:{limit:-1,fields:"id,name,description,icon,users.id",sort:"name"}});o.value=[{public:!0,name:e("public_label"),icon:"public",description:e("public_description"),id:"public"},...r.data.data.map(p=>ye(X({},p),{count:(p.users||[]).length}))]}catch(r){Fe(r)}finally{l.value=!1}}function s(r){t.push(`/settings/roles/${r.id}`)}}}),NA={class:"page-description"},BA={class:"roles"},qA={class:"description"};function zA(e,t,o,l,d,c){const i=u("v-breadcrumb"),s=u("v-icon"),r=u("v-button"),p=u("settings-navigation"),f=u("sidebar-detail"),v=u("value-null"),_=u("v-table"),y=u("router-view"),b=u("private-view"),w=Ce("tooltip"),$=Ce("md");return m(),F(b,{title:e.t("settings_permissions")},{headline:a(()=>[n(i,{items:[{name:e.t("settings"),to:"/settings"}]},null,8,["items"])]),"title-outer:prepend":a(()=>[n(r,{class:"header-icon",rounded:"",disabled:"",icon:"",secondary:""},{default:a(()=>[n(s,{name:"admin_panel_settings",outline:""})]),_:1})]),actions:a(()=>[te(n(r,{rounded:"",icon:"",to:e.addNewLink},{default:a(()=>[n(s,{name:"add"})]),_:1},8,["to"]),[[w,e.t("create_role"),void 0,{bottom:!0}]])]),navigation:a(()=>[n(p)]),sidebar:a(()=>[n(f,{icon:"info_outline",title:e.t("information"),close:""},{default:a(()=>[te(S("div",NA,null,512),[[$,e.t("page_help_settings_roles_collection")]])]),_:1},8,["title"])]),default:a(()=>[S("div",BA,[n(_,{items:e.roles,headers:e.tableHeaders,"fixed-header":"","item-key":"id",loading:e.loading,"onClick:row":e.navigateToRole},{["item.icon"]:a(({item:k})=>[n(s,{class:re(["icon",{public:k.public}]),name:k.icon},null,8,["name","class"])]),["item.name"]:a(({item:k})=>[S("span",{class:re(["name",{public:k.public}])},h(k.name),3)]),["item.count"]:a(({item:k})=>[k.public?(m(),F(v,{key:0})):N("",!0)]),["item.description"]:a(({item:k})=>[S("span",qA,h(k.description),1)]),_:2},1032,["items","headers","loading","onClick:row"])]),n(y,{name:"add"})]),_:1},8,["title"])}var KA=q(UA,[["render",zA],["__scopeId","data-v-d65cfc20"]]);const WA=K({props:{isNew:{type:Boolean,default:!1},role:{type:Object,default:null}},setup(){const{t:e}=ae();return{t:e}}}),HA={key:0},GA={class:"page-description"};function QA(e,t,o,l,d,c){const i=u("v-divider"),s=u("sidebar-detail"),r=Ce("md");return m(),F(s,{icon:"info_outline",title:e.t("information"),close:""},{default:a(()=>[!e.isNew&&e.role?(m(),I("dl",HA,[S("div",null,[S("dt",null,h(e.t("primary_key")),1),S("dd",null,h(e.role.id),1)])])):N("",!0),n(i),te(S("div",GA,null,512),[[r,e.t("page_help_settings_roles_item")]])]),_:1},8,["title"])}var XA=q(WA,[["render",QA],["__scopeId","data-v-b5c69570"]]);const JA=K({setup(){const{t:e}=ae();return{t:e}}}),YA={class:"permissions-overview-header"},ZA={class:"name"};function xA(e,t,o,l,d,c){const i=u("v-icon"),s=Ce("tooltip");return m(),I("div",YA,[S("span",ZA,h(e.t("collection")),1),te(n(i,{name:"add"},null,512),[[s,e.t("create")]]),te(n(i,{name:"visibility"},null,512),[[s,e.t("read")]]),te(n(i,{name:"edit",outline:""},null,512),[[s,e.t("update")]]),te(n(i,{name:"delete",outline:""},null,512),[[s,e.t("delete_label")]])])}var eD=q(JA,[["render",xA],["__scopeId","data-v-1a0c28fc"]]);function Io(e,t,o){const l=D(!1),d=ht("refresh-permissions");return{getPermission:c,setFullAccess:i,setNoAccess:s,setFullAccessAll:r,setNoAccessAll:p};function c(f){return t.value.find(v=>v.action===f)}async function i(f){if(l.value===!0)return;l.value=!0,e.value.meta===null&&await de.patch(`/collections/${e.value.collection}`,{meta:{}});const v=c(f);if(v)try{await de.patch(`/permissions/${v.id}`,{fields:"*",permissions:{},validation:{}})}catch(_){Fe(_)}finally{await(d==null?void 0:d()),l.value=!1}else try{await de.post("/permissions/",{role:o.value,collection:e.value.collection,action:f,fields:"*",permissions:{},validation:{}})}catch(_){Fe(_)}finally{await(d==null?void 0:d()),l.value=!1}}async function s(f){if(l.value===!0)return;const v=c(f);if(!!v){l.value=!0;try{await de.delete(`/permissions/${v.id}`)}catch(_){Fe(_)}finally{await(d==null?void 0:d()),l.value=!1}}}async function r(){if(l.value===!0)return;l.value=!0,e.value.meta===null&&await de.patch(`/collections/${e.value.collection}`,{meta:{}});const f=["create","read","update","delete"];await Promise.all(f.map(async v=>{const _=c(v);if(_)try{await de.patch(`/permissions/${_.id}`,{fields:"*",permissions:{},validation:{}})}catch(y){Fe(y)}else try{await de.post("/permissions/",{role:o.value,collection:e.value.collection,action:v,fields:"*",permissions:{},validation:{}})}catch(y){Fe(y)}})),await(d==null?void 0:d()),l.value=!1}async function p(){if(l.value!==!0){l.value=!0;try{await de.delete("/permissions",{data:t.value.map(f=>f.id)})}catch(f){Fe(f)}finally{await(d==null?void 0:d()),l.value=!1}}}}const tD=K({props:{collection:{type:Object,required:!0},role:{type:String,default:null},action:{type:String,required:!0},permissions:{type:Array,default:null},loading:{type:Boolean,default:!1},appMinimal:{type:[Boolean,Object],default:!1}},setup(e){const{t}=ae(),o=et(),{collection:l,role:d,permissions:c}=Re(e),{setFullAccess:i,setNoAccess:s,getPermission:r}=Io(l,c,d),p=E(()=>r(e.action)),f=E(()=>{var w;return p.value===void 0?"none":((w=p.value.fields)==null?void 0:w.includes("*"))&&Object.keys(p.value.permissions||{}).length===0&&Object.keys(p.value.validation||{}).length===0?"all":"custom"}),v=D(!1),_=ht("refresh-permissions"),y=E(()=>e.appMinimal===!1?null:Object.keys(e.appMinimal).length===2?"full":"partial");return{t,permissionLevel:f,saving:v,setFullAccess:i,setNoAccess:s,openPermissions:b,appMinimalLevel:y};async function b(){if(e.collection.meta===null&&await de.patch(`/collections/${e.collection.collection}`,{meta:{}}),p.value)o.push(`/settings/roles/${e.role||"public"}/${p.value.id}`);else{v.value=!0;const w=await de.post("/permissions",{role:e.role,collection:e.collection.collection,action:e.action});await(_==null?void 0:_()),v.value=!1,o.push(`/settings/roles/${e.role||"public"}/${w.data.data.id}`)}}}});function nD(e,t,o,l,d,c){const i=u("v-icon"),s=u("v-progress-circular"),r=u("v-list-item-icon"),p=u("v-list-item-content"),f=u("v-list-item"),v=u("v-divider"),_=u("v-list"),y=u("v-menu"),b=Ce("tooltip");return te((m(),I("div",{class:re(["permissions-overview-toggle",[{"has-app-minimal":!!e.appMinimal},e.permissionLevel,e.appMinimalLevel]])},[e.appMinimalLevel==="full"?(m(),F(i,{key:0,name:"check",class:"all app-minimal"})):(m(),F(y,{key:1,"show-arrow":""},{activator:a(({toggle:w})=>[S("div",null,[e.loading||e.saving?(m(),F(s,{key:0,indeterminate:"",small:""})):e.permissionLevel==="all"?(m(),F(i,{key:1,clickable:"",name:"check",onClick:w},null,8,["onClick"])):e.appMinimalLevel==="partial"||e.permissionLevel==="custom"?(m(),F(i,{key:2,clickable:"",name:"rule",onClick:w},null,8,["onClick"])):e.permissionLevel==="none"?(m(),F(i,{key:3,clickable:"",name:"block",onClick:w},null,8,["onClick"])):N("",!0)])]),default:a(()=>[n(_,null,{default:a(()=>[n(f,{disabled:e.permissionLevel==="all",clickable:"",onClick:t[0]||(t[0]=w=>e.setFullAccess(e.action))},{default:a(()=>[n(r,null,{default:a(()=>[n(i,{name:"check"})]),_:1}),n(p,null,{default:a(()=>[O(h(e.t("all_access")),1)]),_:1})]),_:1},8,["disabled"]),e.appMinimalLevel?N("",!0):(m(),F(f,{key:0,disabled:e.permissionLevel==="none",clickable:"",onClick:t[1]||(t[1]=w=>e.setNoAccess(e.action))},{default:a(()=>[n(r,null,{default:a(()=>[n(i,{name:"block"})]),_:1}),n(p,null,{default:a(()=>[O(h(e.t("no_access")),1)]),_:1})]),_:1},8,["disabled"])),n(v),n(f,{clickable:"",onClick:e.openPermissions},{default:a(()=>[n(r,null,{default:a(()=>[n(i,{name:"rule"})]),_:1}),n(p,null,{default:a(()=>[O(h(e.t("use_custom")),1)]),_:1}),n(r,null,{default:a(()=>[n(i,{name:"launch"})]),_:1})]),_:1},8,["onClick"])]),_:1})]),_:1}))],2)),[[b,e.appMinimal&&e.t("required_for_app_access")]])}var lD=q(tD,[["render",nD],["__scopeId","data-v-169ac11c"]]);const aD=K({components:{PermissionsOverviewToggle:lD},props:{role:{type:String,default:null},collection:{type:Object,required:!0},permissions:{type:Array,required:!0},refreshing:{type:Array,required:!0},appMinimal:{type:[Boolean,Array],default:!1}},setup(e){const{t}=ae(),{collection:o,role:l,permissions:d}=Re(e),{setFullAccessAll:c,setNoAccessAll:i,getPermission:s}=Io(o,d,l);return{t,getPermission:s,isLoading:r,setFullAccessAll:c,setNoAccessAll:i};function r(p){const f=s(p);return f?e.refreshing.includes(f.id):!1}}}),oD=e=>(He("data-v-fb90f180"),e=e(),Ge(),e),iD={class:"permissions-overview-row"},sD={class:"name"},rD={class:"actions"},dD=oD(()=>S("span",{class:"divider"},"/",-1));function uD(e,t,o,l,d,c){const i=u("permissions-overview-toggle");return m(),I("div",iD,[S("span",sD,[O(h(e.collection.name)+" ",1),S("span",rD,[S("span",{class:"all",onClick:t[0]||(t[0]=(...s)=>e.setFullAccessAll&&e.setFullAccessAll(...s))},h(e.t("all")),1),dD,S("span",{class:"none",onClick:t[1]||(t[1]=(...s)=>e.setNoAccessAll&&e.setNoAccessAll(...s))},h(e.t("none")),1)])]),n(i,{action:"create",collection:e.collection,role:e.role,permissions:e.permissions,loading:e.isLoading("create"),"app-minimal":e.appMinimal&&e.appMinimal.find(s=>s.action==="create")},null,8,["collection","role","permissions","loading","app-minimal"]),n(i,{action:"read",collection:e.collection,role:e.role,permissions:e.permissions,loading:e.isLoading("read"),"app-minimal":e.appMinimal&&e.appMinimal.find(s=>s.action==="read")},null,8,["collection","role","permissions","loading","app-minimal"]),n(i,{action:"update",collection:e.collection,role:e.role,permissions:e.permissions,loading:e.isLoading("update"),"app-minimal":e.appMinimal&&e.appMinimal.find(s=>s.action==="update")},null,8,["collection","role","permissions","loading","app-minimal"]),n(i,{action:"delete",collection:e.collection,role:e.role,permissions:e.permissions,loading:e.isLoading("delete"),"app-minimal":e.appMinimal&&e.appMinimal.find(s=>s.action==="delete")},null,8,["collection","role","permissions","loading","app-minimal"])])}var cD=q(aD,[["render",uD],["__scopeId","data-v-fb90f180"]]);const pD=K({components:{PermissionsOverviewHeader:eD,PermissionsOverviewRow:cD},props:{role:{type:String,default:null},permission:{type:String,default:null},appAccess:{type:Boolean,default:!1}},setup(e){const{t}=ae(),o=qe(),l=E(()=>o.collections.filter(k=>k.collection.startsWith("directus_")===!1&&k.schema)),d=E(()=>H.exports.orderBy(o.collections.filter(k=>k.collection.startsWith("directus_")===!0),"name")),c=D(!1),{permissions:i,loading:s,fetchPermissions:r,refreshPermission:p,refreshing:f}=w(),{resetActive:v,resetSystemPermissions:_,resetting:y,resetError:b}=$();return r(),_e(()=>e.permission,r,{immediate:!0}),Jt("refresh-permissions",r),{t,systemVisible:c,regularCollections:l,systemCollections:d,permissions:i,loading:s,fetchPermissions:r,refreshPermission:p,refreshing:f,resetActive:v,resetSystemPermissions:_,resetting:y,resetError:b,appMinimalPermissions:Eo};function w(){const k=D([]),V=D(!1),g=D([]);return{permissions:k,loading:V,fetchPermissions:A,refreshPermission:R,refreshing:g};async function A(){V.value=!0;try{const L={filter:{role:{}},limit:-1};e.role===null?L.filter.role={_null:!0}:L.filter.role={_eq:e.role};const M=await de.get("/permissions",{params:L});k.value=M.data.data}catch(L){Fe(L)}finally{V.value=!1}}async function R(L){g.value.includes(L)===!1&&g.value.push(L);try{const M=await de.get(`/permissions/${L}`);k.value=k.value.map(T=>T.id===L?M.data.data:T)}catch(M){Fe(M)}finally{g.value=g.value.filter(M=>M!==L)}}}function $(){const k=D(!1),V=D(!1),g=D(null);return{resetActive:k,resetSystemPermissions:A,resetting:V,resetError:g};async function A(R){V.value=!0;const L=i.value.filter(M=>M.collection.startsWith("directus_")).map(M=>M.id);try{L.length>0&&await de.delete("/permissions",{data:L}),e.role!==null&&e.appAccess===!0&&R===!0&&await de.post("/permissions",Vo.map(M=>ye(X({},M),{role:e.role}))),await r(),k.value=!1}catch(M){g.value=M}finally{V.value=!1}}}}}),mD={class:"permissions-overview"},fD={class:"title type-label"},_D={class:"instant-save"},vD={class:"table"},yD={key:0},gD={key:0,class:"reset-toggle"},hD=O(" / ");function bD(e,t,o,l,d,c){const i=u("permissions-overview-header"),s=u("permissions-overview-row"),r=u("v-icon"),p=u("transition-expand"),f=u("router-view"),v=u("v-card-title"),_=u("v-button"),y=u("v-card-actions"),b=u("v-card"),w=u("v-dialog");return m(),I("div",mD,[S("h2",fD,[O(h(e.t("permissions"))+" ",1),S("span",_D,h(e.t("saves_automatically")),1)]),S("div",vD,[n(i),(m(!0),I(oe,null,he(e.regularCollections,$=>(m(),F(s,{key:$.collection,collection:$,role:e.role,permissions:e.permissions.filter(k=>k.collection===$.collection),refreshing:e.refreshing},null,8,["collection","role","permissions","refreshing"]))),128)),S("button",{class:"system-toggle",onClick:t[0]||(t[0]=$=>e.systemVisible=!e.systemVisible)},[O(h(e.t("system_collections"))+" ",1),n(r,{name:e.systemVisible?"expand_less":"expand_more"},null,8,["name"])]),n(p,null,{default:a(()=>[e.systemVisible?(m(),I("div",yD,[(m(!0),I(oe,null,he(e.systemCollections,$=>(m(),F(s,{key:$.collection,collection:$,role:e.role,permissions:e.permissions.filter(k=>k.collection===$.collection),refreshing:e.refreshing,"app-minimal":e.appAccess&&e.appMinimalPermissions.filter(k=>k.collection===$.collection)},null,8,["collection","role","permissions","refreshing","app-minimal"]))),128))])):N("",!0)]),_:1}),e.systemVisible&&e.appAccess?(m(),I("span",gD,[O(h(e.t("reset_system_permissions_to"))+" ",1),S("button",{onClick:t[1]||(t[1]=$=>e.resetActive="minimum")},h(e.t("app_access_minimum")),1),hD,S("button",{onClick:t[2]||(t[2]=$=>e.resetActive="recommended")},h(e.t("recommended_defaults")),1)])):N("",!0)]),n(f,{name:"permissionsDetail","role-key":e.role,"permission-key":e.permission},null,8,["role-key","permission-key"]),n(w,{"model-value":!!e.resetActive,"onUpdate:modelValue":t[5]||(t[5]=$=>e.resetActive=!1),onEsc:t[6]||(t[6]=$=>e.resetActive=!1)},{default:a(()=>[n(b,null,{default:a(()=>[n(v,null,{default:a(()=>[O(h(e.t("reset_system_permissions_copy")),1)]),_:1}),n(y,null,{default:a(()=>[n(_,{secondary:"",onClick:t[3]||(t[3]=$=>e.resetActive=!1)},{default:a(()=>[O(h(e.t("cancel")),1)]),_:1}),n(_,{loading:e.resetting,onClick:t[4]||(t[4]=$=>e.resetSystemPermissions(e.resetActive==="recommended"))},{default:a(()=>[O(h(e.t("reset")),1)]),_:1},8,["loading"])]),_:1})]),_:1})]),_:1},8,["model-value"])])}var Ao=q(pD,[["render",bD],["__scopeId","data-v-554c2db2"]]);const $D=K({props:{modelValue:{type:Boolean,default:!1},role:{type:String,default:null}},emits:["update:modelValue"],setup(e,{emit:t}){const{t:o}=ae(),l=D(""),d=D([]),c=D(e.role),i=D(!1),s=D([]);return _e(()=>e.modelValue,()=>{p()}),{t:o,emails:l,inviteUsers:r,roles:d,roleSelected:c,loading:i,uniqueValidationErrors:s};async function r(){var f,v,_,y,b,w;i.value=!0;try{const $=l.value.split(/,|\n/).filter(k=>k).map(k=>k.trim());await de.post("/users/invite",{email:$,role:c.value}),l.value="",t("update:modelValue",!1)}catch($){s.value=(_=(v=(f=$==null?void 0:$.response)==null?void 0:f.data)==null?void 0:v.errors)==null?void 0:_.filter(V=>{var g;return((g=V.extensions)==null?void 0:g.code)==="RECORD_NOT_UNIQUE"});const k=(w=(b=(y=$==null?void 0:$.response)==null?void 0:y.data)==null?void 0:b.errors)==null?void 0:w.filter(V=>{var g;return((g=V==null?void 0:V.extensions)==null?void 0:g.code)!=="RECORD_NOT_UNIQUE"});k.length>0&&k.forEach(V=>Fe(V))}finally{i.value=!1}}async function p(){const f=await de.get("/roles");d.value=f.data.data.map(v=>({text:v.name,value:v.id})),d.value.length>0&&c.value===null&&(c.value=d.value[0].value)}}}),kD={class:"grid"},wD={class:"field"},CD={class:"type-label"},SD={key:0,class:"field"},FD={class:"type-label"};function VD(e,t,o,l,d,c){const i=u("v-card-title"),s=u("v-textarea"),r=u("v-select"),p=u("v-notice"),f=u("v-card-text"),v=u("v-button"),_=u("v-card-actions"),y=u("v-card"),b=u("v-dialog");return m(),F(b,{"model-value":e.modelValue,"onUpdate:modelValue":t[3]||(t[3]=w=>e.$emit("update:modelValue",w)),onEsc:t[4]||(t[4]=w=>e.$emit("update:modelValue",!1))},{default:a(()=>[n(y,null,{default:a(()=>[n(i,null,{default:a(()=>[O(h(e.t("invite_users")),1)]),_:1}),n(f,null,{default:a(()=>[S("div",kD,[S("div",wD,[S("div",CD,h(e.t("emails")),1),n(s,{modelValue:e.emails,"onUpdate:modelValue":t[0]||(t[0]=w=>e.emails=w),nullable:!1,placeholder:"admin@example.com, user@example.com..."},null,8,["modelValue"])]),e.role===null?(m(),I("div",SD,[S("div",FD,h(e.t("role")),1),n(r,{modelValue:e.roleSelected,"onUpdate:modelValue":t[1]||(t[1]=w=>e.roleSelected=w),items:e.roles},null,8,["modelValue","items"])])):N("",!0),e.uniqueValidationErrors.length>0?(m(),F(p,{key:1,class:"field",type:"danger"},{default:a(()=>[(m(!0),I(oe,null,he(e.uniqueValidationErrors,(w,$)=>(m(),I("div",{key:$},[w.extensions.invalid?(m(),I(oe,{key:0},[O(h(e.t("email_already_invited",{email:w.extensions.invalid})),1)],64)):$===0?(m(),I(oe,{key:1},[O(h(e.t("validationError.unique")),1)],64)):N("",!0)]))),128))]),_:1})):N("",!0)])]),_:1}),n(_,null,{default:a(()=>[n(v,{secondary:"",onClick:t[2]||(t[2]=w=>e.$emit("update:modelValue",!1))},{default:a(()=>[O(h(e.t("cancel")),1)]),_:1}),n(v,{disabled:e.emails===null||e.emails.length===0,loading:e.loading,onClick:e.inviteUsers},{default:a(()=>[O(h(e.t("invite")),1)]),_:1},8,["disabled","loading","onClick"])]),_:1})]),_:1})]),_:1},8,["model-value"])}var Do=q($D,[["render",VD],["__scopeId","data-v-52e00551"]]);const ED=K({name:"RolesItem",components:{SettingsNavigation:Lt,RevisionsDrawerDetail:Kn,RoleInfoSidebarDetail:XA,PermissionsOverview:Ao,UsersInvite:Do},props:{primaryKey:{type:String,required:!0},permissionKey:{type:String,default:null}},setup(e){const{t}=ae(),o=et(),l=xe(),d=D(!1),{primaryKey:c}=Re(e),{edits:i,item:s,saving:r,loading:p,error:f,save:v,remove:_,deleting:y,isBatch:b}=Cn(D("directus_roles"),c),w=E(()=>Object.keys(i.value).length>0),$=D(!1),k=E(()=>!!X(X({},s.value),i.value).admin_access),V=E(()=>!!X(X({},s.value),i.value).app_access);tt("meta+s",()=>{w.value&&M()});const g=E(()=>w.value===!0?!0:w.value);Zt(g);const A=D(!1),R=D(null),L=z=>{if(w.value)return A.value=!0,R.value=z.fullPath,!1};return Ot(L),At(L),{t,item:s,loading:p,error:f,edits:i,hasEdits:w,saving:r,saveAndQuit:T,deleteAndQuit:U,confirmDelete:$,deleting:y,isBatch:b,adminEnabled:k,userInviteModalActive:d,appAccess:V,isSavable:g,confirmLeave:A,leaveTo:R,discardAndLeave:B};async function M(){await v(),await l.hydrate()}async function T(){await v(),await l.hydrate(),o.push("/settings/roles")}async function U(){await _(),o.push("/settings/roles")}function B(){!R.value||(i.value={},A.value=!1,o.push(R.value))}}}),ID={class:"roles"};function AD(e,t,o,l,d,c){const i=u("v-breadcrumb"),s=u("v-icon"),r=u("v-button"),p=u("v-card-title"),f=u("v-card-actions"),v=u("v-card"),_=u("v-dialog"),y=u("settings-navigation"),b=u("users-invite"),w=u("v-notice"),$=u("permissions-overview"),k=u("v-form"),V=u("role-info-sidebar-detail"),g=u("revisions-drawer-detail"),A=u("v-card-text"),R=u("private-view"),L=Ce("tooltip");return m(),F(R,{title:e.loading?e.t("loading"):e.t("editing_role",{role:e.item&&e.item.name})},{headline:a(()=>[n(i,{items:[{name:e.t("settings_permissions"),to:"/settings/roles"}]},null,8,["items"])]),"title-outer:prepend":a(()=>[n(r,{class:"header-icon",rounded:"",icon:"",exact:"",to:"/settings/roles/"},{default:a(()=>[n(s,{name:"arrow_back"})]),_:1})]),actions:a(()=>[[1,2].includes(+e.primaryKey)===!1?(m(),F(_,{key:0,modelValue:e.confirmDelete,"onUpdate:modelValue":t[1]||(t[1]=M=>e.confirmDelete=M),onEsc:t[2]||(t[2]=M=>e.confirmDelete=!1)},{activator:a(({on:M})=>[te(n(r,{rounded:"",icon:"",class:"action-delete",disabled:e.item===null,onClick:M},{default:a(()=>[n(s,{name:"delete",outline:""})]),_:2},1032,["disabled","onClick"]),[[L,e.t("delete_label"),void 0,{bottom:!0}]])]),default:a(()=>[n(v,null,{default:a(()=>[n(p,null,{default:a(()=>[O(h(e.t("delete_are_you_sure")),1)]),_:1}),n(f,null,{default:a(()=>[n(r,{secondary:"",onClick:t[0]||(t[0]=M=>e.confirmDelete=!1)},{default:a(()=>[O(h(e.t("cancel")),1)]),_:1}),n(r,{kind:"danger",loading:e.deleting,onClick:e.deleteAndQuit},{default:a(()=>[O(h(e.t("delete_label")),1)]),_:1},8,["loading","onClick"])]),_:1})]),_:1})]),_:1},8,["modelValue"])):N("",!0),te(n(r,{rounded:"",icon:"",class:"invite-user",onClick:t[3]||(t[3]=M=>e.userInviteModalActive=!0)},{default:a(()=>[n(s,{name:"person_add"})]),_:1},512),[[L,e.t("invite_users"),void 0,{bottom:!0}]]),te(n(r,{rounded:"",icon:"",loading:e.saving,disabled:e.hasEdits===!1,onClick:e.saveAndQuit},{default:a(()=>[n(s,{name:"check"})]),_:1},8,["loading","disabled","onClick"]),[[L,e.t("save"),void 0,{bottom:!0}]])]),navigation:a(()=>[n(y)]),sidebar:a(()=>[n(V,{role:e.item},null,8,["role"]),n(g,{collection:"directus_roles","primary-key":e.primaryKey},null,8,["primary-key"])]),default:a(()=>[n(b,{modelValue:e.userInviteModalActive,"onUpdate:modelValue":t[4]||(t[4]=M=>e.userInviteModalActive=M),role:e.primaryKey},null,8,["modelValue","role"]),S("div",ID,[e.adminEnabled?(m(),F(w,{key:0,type:"info"},{default:a(()=>[O(h(e.t("admins_have_all_permissions")),1)]),_:1})):(m(),F($,{key:1,role:e.primaryKey,permission:e.permissionKey,"app-access":e.appAccess},null,8,["role","permission","app-access"])),n(k,{modelValue:e.edits,"onUpdate:modelValue":t[5]||(t[5]=M=>e.edits=M),collection:"directus_roles","primary-key":e.primaryKey,loading:e.loading,"initial-values":e.item,"batch-mode":e.isBatch},null,8,["modelValue","primary-key","loading","initial-values","batch-mode"])]),n(_,{modelValue:e.confirmLeave,"onUpdate:modelValue":t[7]||(t[7]=M=>e.confirmLeave=M),onEsc:t[8]||(t[8]=M=>e.confirmLeave=!1)},{default:a(()=>[n(v,null,{default:a(()=>[n(p,null,{default:a(()=>[O(h(e.t("unsaved_changes")),1)]),_:1}),n(A,null,{default:a(()=>[O(h(e.t("unsaved_changes_copy")),1)]),_:1}),n(f,null,{default:a(()=>[n(r,{secondary:"",onClick:e.discardAndLeave},{default:a(()=>[O(h(e.t("discard_changes")),1)]),_:1},8,["onClick"]),n(r,{onClick:t[6]||(t[6]=M=>e.confirmLeave=!1)},{default:a(()=>[O(h(e.t("keep_editing")),1)]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1},8,["title"])}var DD=q(ED,[["render",AD],["__scopeId","data-v-d47be2ca"]]);function Oo(e){return(e.fields||[]).length===0&&Object.keys(e.validation||{}).length===0&&Object.keys(e.presets||{}).length===0&&Object.keys(e.permissions||{}).length===0}const OD=K({props:{roleKey:{type:String,default:null},permission:{type:Object,required:!0}},emits:["refresh"],setup(e,{emit:t}){const{t:o}=ae(),l=et(),d=D(!1);return{t:o,save:c,loading:d};async function c(){d.value=!0;try{Oo(e.permission)?await de.delete(`/permissions/${e.permission.id}`):await de.patch(`/permissions/${e.permission.id}`,e.permission),t("refresh"),l.push(`/settings/roles/${e.roleKey||"public"}`)}catch(i){Fe(i)}finally{d.value=!1}}}}),PD={class:"actions"};function TD(e,t,o,l,d,c){const i=u("v-icon"),s=u("v-button"),r=Ce("tooltip");return m(),I("div",PD,[te(n(s,{loading:e.loading,icon:"",rounded:"",onClick:e.save},{default:a(()=>[n(i,{name:"check"})]),_:1},8,["loading","onClick"]),[[r,e.t("save"),void 0,{bottom:!0}]])])}var LD=q(OD,[["render",TD],["__scopeId","data-v-47610afd"]]);const jD=K({props:{currentTab:{type:Array,default:null},tabs:{type:Array,required:!0}},emits:["update:currentTab"],setup(e,{emit:t}){return{internalCurrentTab:Pe(e,"currentTab",t)}}}),RD={class:"text"};function MD(e,t,o,l,d,c){const i=u("v-tab"),s=u("v-tabs");return m(),F(s,{modelValue:e.internalCurrentTab,"onUpdate:modelValue":t[0]||(t[0]=r=>e.internalCurrentTab=r),vertical:""},{default:a(()=>[(m(!0),I(oe,null,he(e.tabs,r=>(m(),F(i,{key:r.value,value:r.value},{default:a(()=>[S("span",RD,h(r.text),1),S("span",{class:re(["dot",{on:r.hasValue}])},null,2)]),_:2},1032,["value"]))),128))]),_:1},8,["modelValue"])}var UD=q(jD,[["render",MD],["__scopeId","data-v-678d5948"]]);const ND=K({props:{permission:{type:Object,required:!0},role:{type:Object,default:null},appMinimal:{type:Object,default:void 0}},emits:["update:permission"],setup(e,{emit:t}){const{t:o}=ae(),l=Pe(e,"permission",t),d=E(()=>[{field:"permissions",name:o("rule"),type:"json",meta:{interface:"system-filter",options:{collectionName:l.value.collection}}}]);return{t:o,fields:d,permissionSync:l}}}),BD={key:0,class:"app-minimal"},qD={class:"app-minimal-preview"};function zD(e,t,o,l,d,c){const i=u("v-notice"),s=u("v-form"),r=u("v-divider");return m(),I("div",null,[n(i,{type:"info"},{default:a(()=>[O(h(e.t("permissions_for_role",{action:e.t(e.permission.action).toLowerCase(),role:e.role?e.role.name:e.t("public_label")})),1)]),_:1}),n(s,{modelValue:e.permissionSync,"onUpdate:modelValue":t[0]||(t[0]=p=>e.permissionSync=p),fields:e.fields},null,8,["modelValue","fields"]),e.appMinimal?(m(),I("div",BD,[n(r),n(i,{type:"warning"},{default:a(()=>[O(h(e.t("the_following_are_minimum_permissions")),1)]),_:1}),S("pre",qD,h(e.appMinimal),1)])):N("",!0)])}var KD=q(ND,[["render",zD],["__scopeId","data-v-324d840c"]]);const WD=K({props:{permission:{type:Object,required:!0},role:{type:Object,default:null},appMinimal:{type:Object,default:void 0}},emits:["update:permission"],setup(e,{emit:t}){const{t:o}=ae(),l=ze(),d=Pe(e,"permission",t),c=E(()=>l.getFieldsForCollection(e.permission.collection).map(r=>({text:r.name,value:r.field}))),i=E({get(){return d.value.fields?d.value.fields.includes("*")?c.value.map(({value:s})=>s):d.value.fields:[]},set(s){s&&s.length>0?d.value=ye(X({},d.value),{fields:s}):d.value=ye(X({},d.value),{fields:null})}});return{t:o,fields:i,fieldsInCollection:c}}}),HD={class:"type-label"},GD={key:0,class:"app-minimal"},QD={class:"app-minimal-preview"};function XD(e,t,o,l,d,c){const i=u("v-notice"),s=u("interface-select-multiple-checkbox"),r=u("v-divider");return m(),I("div",null,[n(i,{type:"info"},{default:a(()=>[O(h(e.t("fields_for_role",{role:e.role?e.role.name:e.t("public_label"),action:e.t(e.permission.action).toLowerCase()})),1)]),_:1}),S("p",HD,h(e.t("field",0)),1),n(s,{value:e.fields,type:"json",choices:e.fieldsInCollection,onInput:t[0]||(t[0]=p=>e.fields=p)},null,8,["value","choices"]),e.appMinimal?(m(),I("div",GD,[n(r),n(i,{type:"warning"},{default:a(()=>[O(h(e.t("the_following_are_minimum_permissions")),1)]),_:1}),S("pre",QD,h(e.appMinimal),1)])):N("",!0)])}var JD=q(WD,[["render",XD],["__scopeId","data-v-28e7bb60"]]);const YD=K({props:{permission:{type:Object,required:!0},role:{type:Object,default:null}},emits:["update:permission"],setup(e,{emit:t}){const{t:o}=ae(),l=Pe(e,"permission",t),d=E(()=>[{field:"validation",name:o("rule"),type:"json",meta:{interface:"system-filter",options:{collectionName:l.value.collection}}}]);return{t:o,permissionSync:l,fields:d}}});function ZD(e,t,o,l,d,c){const i=u("v-notice"),s=u("v-form");return m(),I("div",null,[n(i,{type:"info"},{default:a(()=>[O(h(e.t("validation_for_role",{action:e.t(e.permission.action).toLowerCase(),role:e.role?e.role.name:e.t("public_label")})),1)]),_:1}),n(s,{modelValue:e.permissionSync,"onUpdate:modelValue":t[0]||(t[0]=r=>e.permissionSync=r),fields:e.fields},null,8,["modelValue","fields"])])}var xD=q(YD,[["render",ZD],["__scopeId","data-v-e3088adc"]]);const e3=K({props:{permission:{type:Object,default:null},role:{type:Object,default:null}},emits:["update:permission"],setup(e,{emit:t}){const{t:o}=ae(),l=Pe(e,"permission",t),d=E({get(){return l.value.presets},set(c){l.value=ye(X({},l.value),{presets:c})}});return{t:o,presets:d}}});function t3(e,t,o,l,d,c){const i=u("v-notice"),s=u("interface-input-code");return m(),I("div",null,[n(i,{type:"info"},{default:a(()=>[O(h(e.t("presets_for_role",{action:e.t(e.permission.action).toLowerCase(),role:e.role?e.role.name:e.t("public_label")})),1)]),_:1}),n(s,{value:e.presets,language:"json",type:"json",onInput:t[0]||(t[0]=r=>e.presets=r)},null,8,["value"])])}var n3=q(e3,[["render",t3],["__scopeId","data-v-660c7066"]]);const l3=K({components:{Actions:LD,Tabs:UD,Permissions:KD,Fields:JD,Validation:xD,Presets:n3},props:{roleKey:{type:String,default:null},permissionKey:{type:String,required:!0}},emits:["refresh"],setup(e){const{t}=ae(),o=et(),l=qe(),d=un(),c=D(),i=D(),s=D(!1),r=E(()=>{var $;return c.value?($=l.collections.find(k=>k.collection===c.value.collection))==null?void 0:$.name:null}),p=E(()=>s.value||!c.value?t("loading"):e.roleKey?i.value.name+" -> "+r.value+" -> "+t(c.value.action):t("public_label")+" -> "+r.value+" -> "+t(c.value.action));_e(()=>e.permissionKey,w,{immediate:!0});const f=E(()=>{if(!c.value)return[];const $=c.value.action,k=[];return["read","update","delete"].includes($)&&k.push({text:t("item_permissions"),value:"permissions",hasValue:c.value.permissions!==null&&Object.keys(c.value.permissions).length>0}),["create","read","update"].includes($)&&k.push({text:t("field_permissions"),value:"fields",hasValue:c.value.fields!==null}),["create","update"].includes($)&&k.push({text:t("field_validation"),value:"validation",hasValue:c.value.validation!==null&&Object.keys(c.value.validation).length>0}),["create","update"].includes($)&&k.push({text:t("field_presets"),value:"presets",hasValue:c.value.presets!==null&&Object.keys(c.value.presets).length>0}),k}),v=D([]),_=E(()=>{var k;const $=(k=v.value)==null?void 0:k[0];return $?f.value.find(V=>V.value===$):null});_e(f,($,k)=>{var V,g;$&&k&&$.length===k.length||(v.value=[(g=(V=f==null?void 0:f.value)==null?void 0:V[0])==null?void 0:g.value])},{immediate:!0});const y=E(()=>c.value?Eo.find($=>$.collection===c.value.collection&&$.action===c.value.action):null);return{isOpen:d,permission:c,role:i,loading:s,modalTitle:p,tabs:f,currentTab:v,currentTabInfo:_,appMinimal:y,close:b};async function b(){c.value&&Oo(c.value)&&await de.delete(`/permissions/${c.value.id}`),o.push(`/settings/roles/${e.roleKey||"public"}`)}async function w(){var $;s.value=!0;try{if(e.roleKey){const V=await de.get(`/roles/${e.roleKey}`);i.value=V.data.data}const k=await de.get(`/permissions/${e.permissionKey}`);c.value=k.data.data}catch(k){(($=k==null?void 0:k.response)==null?void 0:$.status)===403?o.push(`/settings/roles/${e.roleKey||"public"}`):Fe(k)}finally{s.value=!1}}}}),a3={key:0,class:"content"};function o3(e,t,o,l,d,c){const i=u("tabs"),s=u("permissions"),r=u("fields"),p=u("validation"),f=u("presets"),v=u("actions"),_=u("v-drawer");return m(),F(_,{title:e.modalTitle,"model-value":e.isOpen,class:"new-collection",persistent:"","sidebar-label":e.currentTabInfo&&e.currentTabInfo.text,onCancel:e.close},Ne({default:a(()=>[e.loading?N("",!0):(m(),I("div",a3,[e.currentTab[0]==="permissions"?(m(),F(s,{key:0,permission:e.permission,"onUpdate:permission":t[1]||(t[1]=y=>e.permission=y),role:e.role,"app-minimal":e.appMinimal&&e.appMinimal.permissions},null,8,["permission","role","app-minimal"])):N("",!0),e.currentTab[0]==="fields"?(m(),F(r,{key:1,permission:e.permission,"onUpdate:permission":t[2]||(t[2]=y=>e.permission=y),role:e.role,"app-minimal":e.appMinimal&&e.appMinimal.fields},null,8,["permission","role","app-minimal"])):N("",!0),e.currentTab[0]==="validation"?(m(),F(p,{key:2,permission:e.permission,"onUpdate:permission":t[3]||(t[3]=y=>e.permission=y),role:e.role,"app-minimal":e.appMinimal&&e.appMinimal.validation},null,8,["permission","role","app-minimal"])):N("",!0),e.currentTab[0]==="presets"?(m(),F(f,{key:3,permission:e.permission,"onUpdate:permission":t[4]||(t[4]=y=>e.permission=y),role:e.role,"app-minimal":e.appMinimal&&e.appMinimal.presets},null,8,["permission","role","app-minimal"])):N("",!0)]))]),_:2},[e.loading?void 0:{name:"sidebar",fn:a(()=>[n(i,{"current-tab":e.currentTab,"onUpdate:current-tab":t[0]||(t[0]=y=>e.currentTab=y),tabs:e.tabs},null,8,["current-tab","tabs"])])},e.loading?void 0:{name:"actions",fn:a(()=>[n(v,{"role-key":e.roleKey,permission:e.permission,onRefresh:t[5]||(t[5]=y=>e.$emit("refresh",Number(e.permissionKey)))},null,8,["role-key","permission"])])}]),1032,["title","model-value","sidebar-label","onCancel"])}var Po=q(l3,[["render",o3],["__scopeId","data-v-46c5da68"]]);const i3=K({name:"RolesItem",components:{SettingsNavigation:Lt,PermissionsOverview:Ao},props:{permissionKey:{type:String,default:null}},setup(){const{t:e}=ae();return{t:e}}}),s3={class:"roles"};function r3(e,t,o,l,d,c){const i=u("v-icon"),s=u("v-button"),r=u("settings-navigation"),p=u("permissions-overview"),f=u("private-view");return m(),F(f,{title:e.t("public_label")},{headline:a(()=>[O(h(e.t("settings_permissions")),1)]),"title-outer:prepend":a(()=>[n(s,{class:"header-icon",rounded:"",icon:"",exact:"",to:"/settings/roles/"},{default:a(()=>[n(i,{name:"arrow_back"})]),_:1})]),navigation:a(()=>[n(r)]),default:a(()=>[S("div",s3,[n(p,{role:null,permission:e.permissionKey},null,8,["permission"])])]),_:1},8,["title"])}var d3=q(i3,[["render",r3],["__scopeId","data-v-696c80cd"]]);const u3=K({name:"WebhooksCollection",components:{SettingsNavigation:Lt,LayoutSidebarDetail:zn,SearchInput:kn},setup(){const{t:e}=ae(),t=D(),o=D([]),{layout:l,layoutOptions:d,layoutQuery:c,filter:i,search:s}=$n(D("directus_webhooks")),{addNewLink:r,batchLink:p}=$(),{confirmDelete:f,deleting:v,batchDelete:_}=w(),{layoutWrapper:y}=dn(l);return{t:e,addNewLink:r,batchDelete:_,batchLink:p,confirmDelete:f,deleting:v,layoutRef:t,layoutWrapper:y,filter:i,selection:o,layoutOptions:d,layoutQuery:c,layout:l,search:s,clearFilters:k};async function b(){var V,g,A;await((A=(g=(V=t.value)==null?void 0:V.state)==null?void 0:g.refresh)==null?void 0:A.call(g))}function w(){const V=D(!1),g=D(!1);return{confirmDelete:V,deleting:g,batchDelete:A};async function A(){g.value=!0,V.value=!1;const R=o.value;await de.delete(`/webhooks/${R}`),await b(),o.value=[],g.value=!1,V.value=!1}}function $(){const V=E(()=>"/settings/webhooks/+"),g=E(()=>`/settings/webhooks/${o.value}`);return{addNewLink:V,batchLink:g}}function k(){i.value=null,s.value=null}}}),c3={class:"page-description"};function p3(e,t,o,l,d,c){const i=u("v-breadcrumb"),s=u("v-icon"),r=u("v-button"),p=u("settings-navigation"),f=u("search-input"),v=u("v-card-title"),_=u("v-card-actions"),y=u("v-card"),b=u("v-dialog"),w=u("v-info"),$=u("sidebar-detail"),k=u("layout-sidebar-detail"),V=u("private-view"),g=Ce("tooltip"),A=Ce("md");return m(),F(Ue(e.layoutWrapper),{ref:"layoutRef",selection:e.selection,"onUpdate:selection":t[5]||(t[5]=R=>e.selection=R),"layout-options":e.layoutOptions,"onUpdate:layout-options":t[6]||(t[6]=R=>e.layoutOptions=R),"layout-query":e.layoutQuery,"onUpdate:layout-query":t[7]||(t[7]=R=>e.layoutQuery=R),filter:e.filter,search:e.search,collection:"directus_webhooks"},{default:a(({layoutState:R})=>[n(V,{title:e.t("webhooks")},{headline:a(()=>[n(i,{items:[{name:e.t("settings"),to:"/settings"}]},null,8,["items"])]),"title-outer:prepend":a(()=>[n(r,{class:"header-icon",rounded:"",disabled:"",icon:"",secondary:""},{default:a(()=>[n(s,{name:"anchor"})]),_:1})]),navigation:a(()=>[n(p)]),actions:a(()=>[n(f,{modelValue:e.search,"onUpdate:modelValue":t[0]||(t[0]=L=>e.search=L),collection:"directus_webhooks"},null,8,["modelValue"]),e.selection.length>0?(m(),F(b,{key:0,modelValue:e.confirmDelete,"onUpdate:modelValue":t[2]||(t[2]=L=>e.confirmDelete=L),onEsc:t[3]||(t[3]=L=>e.confirmDelete=!1)},{activator:a(({on:L})=>[n(r,{rounded:"",icon:"",class:"action-delete",onClick:L},{default:a(()=>[n(s,{name:"delete",outline:""})]),_:2},1032,["onClick"])]),default:a(()=>[n(y,null,{default:a(()=>[n(v,null,{default:a(()=>[O(h(e.t("batch_delete_confirm",e.selection.length)),1)]),_:1}),n(_,null,{default:a(()=>[n(r,{secondary:"",onClick:t[1]||(t[1]=L=>e.confirmDelete=!1)},{default:a(()=>[O(h(e.t("cancel")),1)]),_:1}),n(r,{kind:"danger",loading:e.deleting,onClick:e.batchDelete},{default:a(()=>[O(h(e.t("delete_label")),1)]),_:1},8,["loading","onClick"])]),_:1})]),_:1})]),_:1},8,["modelValue"])):N("",!0),e.selection.length>1?te((m(),F(r,{key:1,rounded:"",icon:"",class:"action-batch",to:e.batchLink},{default:a(()=>[n(s,{name:"edit",outline:""})]),_:1},8,["to"])),[[g,e.t("edit"),void 0,{bottom:!0}]]):N("",!0),te(n(r,{rounded:"",icon:"",to:e.addNewLink},{default:a(()=>[n(s,{name:"add"})]),_:1},8,["to"]),[[g,e.t("create_webhook"),void 0,{bottom:!0}]])]),sidebar:a(()=>[n($,{icon:"info_outline",title:e.t("information"),close:""},{default:a(()=>[te(S("div",c3,null,512),[[A,e.t("page_help_settings_webhooks_collection")]])]),_:1},8,["title"]),n(k,{modelValue:e.layout,"onUpdate:modelValue":t[4]||(t[4]=L=>e.layout=L)},{default:a(()=>[(m(),F(Ue(`layout-options-${e.layout}`),Qe(Ze(R)),null,16))]),_:2},1032,["modelValue"]),(m(),F(Ue(`layout-sidebar-${e.layout}`),Qe(Ze(R)),null,16))]),default:a(()=>[(m(),F(Ue(`layout-${e.layout}`),ct({class:"layout"},R),{"no-results":a(()=>[n(w,{title:e.t("no_results"),icon:"search",center:""},{append:a(()=>[n(r,{onClick:e.clearFilters},{default:a(()=>[O(h(e.t("clear_filters")),1)]),_:1},8,["onClick"])]),default:a(()=>[O(h(e.t("no_results_copy"))+" ",1)]),_:1},8,["title"])]),"no-items":a(()=>[n(w,{title:e.t("webhooks_count",0),icon:"anchor",center:"",type:"info"},{append:a(()=>[n(r,{to:{path:"/settings/webhooks/+"}},{default:a(()=>[O(h(e.t("create_webhook")),1)]),_:1})]),default:a(()=>[O(h(e.t("no_webhooks_copy"))+" ",1)]),_:1},8,["title"])]),_:2},1040))]),_:2},1032,["title"])]),_:1},8,["selection","layout-options","layout-query","filter","search"])}var m3=q(u3,[["render",p3],["__scopeId","data-v-35d1a91d"]]);const f3=K({name:"WebhooksItem",components:{SettingsNavigation:Lt,RevisionsDrawerDetail:Kn,SaveOptions:wl},props:{primaryKey:{type:String,required:!0}},setup(e){const{t}=ae(),o=et(),{primaryKey:l}=Re(e),{isNew:d,edits:c,item:i,saving:s,loading:r,error:p,save:f,remove:v,deleting:_,saveAsCopy:y,isBatch:b,validationErrors:w}=Cn(D("directus_webhooks"),l),$=E(()=>Object.keys(c.value).length>0),k=D(!1),V=E(()=>{var J;return r.value?t("loading"):d.value?t("creating_webhook"):(J=i.value)==null?void 0:J.name});tt("meta+s",()=>{$.value&&T()}),tt("meta+shift+s",()=>{$.value&&U()});const g=E(()=>$.value===!0?!0:$.value);Zt(g);const A=D(!1),R=D(null),L=J=>{if($.value)return A.value=!0,R.value=J.fullPath,!1};return Ot(L),At(L),{t,item:i,loading:r,error:p,isNew:d,edits:c,hasEdits:$,saving:s,saveAndQuit:M,deleteAndQuit:z,confirmDelete:k,deleting:_,saveAndStay:T,saveAndAddNew:U,saveAsCopyAndNavigate:B,isBatch:b,title:V,validationErrors:w,isSavable:g,confirmLeave:A,leaveTo:R,discardAndLeave:W};async function M(){await f(),o.push("/settings/webhooks")}async function T(){await f()}async function U(){await f(),o.push("/settings/webhooks/+")}async function B(){const J=await y();J&&o.push(`/settings/webhooks/${J}`)}async function z(){await v(),o.push("/settings/webhooks")}function W(){!R.value||(c.value={},A.value=!1,o.push(R.value))}}}),_3={class:"page-description"};function v3(e,t,o,l,d,c){const i=u("v-breadcrumb"),s=u("v-icon"),r=u("v-button"),p=u("v-card-title"),f=u("v-card-actions"),v=u("v-card"),_=u("v-dialog"),y=u("save-options"),b=u("settings-navigation"),w=u("v-form"),$=u("sidebar-detail"),k=u("revisions-drawer-detail"),V=u("v-card-text"),g=u("private-view"),A=Ce("md");return m(),F(g,{title:e.title},{headline:a(()=>[n(i,{items:[{name:e.t("settings_webhooks"),to:"/settings/webhooks"}]},null,8,["items"])]),"title-outer:prepend":a(()=>[n(r,{class:"header-icon",rounded:"",icon:"",exact:"",to:"/settings/webhooks/"},{default:a(()=>[n(s,{name:"arrow_back"})]),_:1})]),actions:a(()=>[n(_,{modelValue:e.confirmDelete,"onUpdate:modelValue":t[1]||(t[1]=R=>e.confirmDelete=R),onEsc:t[2]||(t[2]=R=>e.confirmDelete=!1)},{activator:a(({on:R})=>[n(r,{rounded:"",icon:"",class:"action-delete",disabled:e.item===null,onClick:R},{default:a(()=>[n(s,{name:"delete",outline:""})]),_:2},1032,["disabled","onClick"])]),default:a(()=>[n(v,null,{default:a(()=>[n(p,null,{default:a(()=>[O(h(e.t("delete_are_you_sure")),1)]),_:1}),n(f,null,{default:a(()=>[n(r,{secondary:"",onClick:t[0]||(t[0]=R=>e.confirmDelete=!1)},{default:a(()=>[O(h(e.t("cancel")),1)]),_:1}),n(r,{kind:"danger",loading:e.deleting,onClick:e.deleteAndQuit},{default:a(()=>[O(h(e.t("delete_label")),1)]),_:1},8,["loading","onClick"])]),_:1})]),_:1})]),_:1},8,["modelValue"]),n(r,{rounded:"",icon:"",loading:e.saving,disabled:e.hasEdits===!1,onClick:e.saveAndQuit},{"append-outer":a(()=>[n(y,{disabled:e.hasEdits===!1,onSaveAndStay:e.saveAndStay,onSaveAndAddNew:e.saveAndAddNew,onSaveAsCopy:e.saveAsCopyAndNavigate},null,8,["disabled","onSaveAndStay","onSaveAndAddNew","onSaveAsCopy"])]),default:a(()=>[n(s,{name:"check"})]),_:1},8,["loading","disabled","onClick"])]),navigation:a(()=>[n(b)]),sidebar:a(()=>[n($,{icon:"info_outline",title:e.t("information"),close:""},{default:a(()=>[te(S("div",_3,null,512),[[A,e.t("page_help_settings_webhooks_item")]])]),_:1},8,["title"]),e.isNew===!1?(m(),F(k,{key:0,collection:"directus_webhooks","primary-key":e.primaryKey},null,8,["primary-key"])):N("",!0)]),default:a(()=>[n(w,{modelValue:e.edits,"onUpdate:modelValue":t[3]||(t[3]=R=>e.edits=R),loading:e.loading,"initial-values":e.item,collection:"directus_webhooks","batch-mode":e.isBatch,"primary-key":e.primaryKey,"validation-errors":e.validationErrors},null,8,["modelValue","loading","initial-values","batch-mode","primary-key","validation-errors"]),n(_,{modelValue:e.confirmLeave,"onUpdate:modelValue":t[5]||(t[5]=R=>e.confirmLeave=R),onEsc:t[6]||(t[6]=R=>e.confirmLeave=!1)},{default:a(()=>[n(v,null,{default:a(()=>[n(p,null,{default:a(()=>[O(h(e.t("unsaved_changes")),1)]),_:1}),n(V,null,{default:a(()=>[O(h(e.t("unsaved_changes_copy")),1)]),_:1}),n(f,null,{default:a(()=>[n(r,{secondary:"",onClick:e.discardAndLeave},{default:a(()=>[O(h(e.t("discard_changes")),1)]),_:1},8,["onClick"]),n(r,{onClick:t[4]||(t[4]=R=>e.confirmLeave=!1)},{default:a(()=>[O(h(e.t("keep_editing")),1)]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1},8,["title"])}var y3=q(f3,[["render",v3],["__scopeId","data-v-85a564b8"]]),g3=on({id:"settings",name:"$t:settings",icon:"settings",color:"var(--warning)",routes:[{path:"",redirect:"/settings/data-model"},{name:"settings-project",path:"project",component:IA},{path:"data-model",component:cn,children:[{name:"settings-collections",path:"",component:KS,beforeEnter(){qe().hydrate()},children:[{path:"+",name:"settings-add-new",components:{add:JI}}]},{name:"settings-fields",path:":collection",component:jI,async beforeEnter(e){const o=qe().getCollection(e.params.collection),l=ze();(o==null?void 0:o.meta)||await de.patch(`/collections/${e.params.collection}`,{meta:{}}),l.hydrate()},props:e=>({collection:e.params.collection,field:e.params.field,type:e.query.type}),children:[{path:":field",name:"settings-fields-field",components:{field:lI}}]}]},{path:"roles",component:cn,children:[{name:"settings-roles-collection",path:"",component:KA,children:[{path:"+",name:"settings-add-new-role",components:{add:MA}}]},{path:"public",component:d3,props:!0,children:[{path:":permissionKey",components:{permissionsDetail:Po}}]},{name:"settings-roles-item",path:":primaryKey",component:DD,props:!0,children:[{path:":permissionKey",components:{permissionsDetail:Po}}]}]},{path:"presets",component:cn,children:[{name:"settings-presets-collection",path:"",component:pA},{name:"settings-presets-item",path:":id",component:bA,props:!0}]},{path:"webhooks",component:cn,children:[{name:"settings-webhooks-collection",path:"",component:m3},{name:"settings-webhooks-item",path:":primaryKey",component:y3,props:!0}]},{name:"settings-not-found",path:":_(.+)+",component:eA}],preRegisterCheck:e=>e.role.admin_access===!0}),h3=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:g3});let Vn=null,Gt=null;function To(){return Vn===null&&(Vn=D(null)),Gt===null&&(Gt=D(!1)),Vn.value===null&&(Gt==null?void 0:Gt.value)===!1&&e(),{roles:Vn,loading:Gt};async function e(){if(!Gt||!Vn)return;Gt.value=!0;const t=await de.get("/roles",{params:{sort:"name"}});Vn.value=t.data.data,Gt.value=!1}}const b3=K({props:{currentRole:{type:String,default:null}},setup(){const{t:e}=ae(),{roles:t,loading:o}=To();return{t:e,roles:t,loading:o}}});function $3(e,t,o,l,d,c){const i=u("v-icon"),s=u("v-list-item-icon"),r=u("v-list-item-content"),p=u("v-list-item"),f=u("v-divider"),v=u("v-skeleton-loader"),_=u("v-list");return m(),F(_,{nav:""},{default:a(()=>[n(p,{to:"/users",exact:"",active:e.currentRole===null},{default:a(()=>[n(s,null,{default:a(()=>[n(i,{name:"folder_shared",outline:""})]),_:1}),n(r,null,{default:a(()=>[O(h(e.t("all_users")),1)]),_:1})]),_:1},8,["active"]),e.roles&&e.roles.length>0||e.loading?(m(),F(f,{key:0})):N("",!0),e.loading?(m(),I(oe,{key:1},he(4,y=>n(p,{key:y},{default:a(()=>[n(v,{type:"list-item-icon"})]),_:2},1024)),64)):N("",!0),(m(!0),I(oe,null,he(e.roles,({name:y,id:b,icon:w})=>(m(),F(p,{key:b,to:`/users/roles/${b}`,active:e.currentRole===b},{default:a(()=>[n(s,null,{default:a(()=>[n(i,{name:w,outline:""},null,8,["name"])]),_:2},1024),n(r,null,{default:a(()=>[O(h(y),1)]),_:2},1024)]),_:2},1032,["to","active"]))),128))]),_:1})}var Lo=q(b3,[["render",$3],["__scopeId","data-v-1db98fc0"]]);const k3=K({name:"UsersCollection",components:{UsersNavigation:Lo,LayoutSidebarDetail:zn,SearchInput:kn,UsersInvite:Do,DrawerBatch:Zl},props:{role:{type:String,default:null}},setup(e){const{t}=ae(),{roles:o}=To(),l=D(!1),d=xe(),c=It(),i=D(),s=D([]),{layout:r,layoutOptions:p,layoutQuery:f,filter:v,search:_,resetPreset:y}=$n(D("directus_users")),{addNewLink:b}=Q(),{confirmDelete:w,deleting:$,batchDelete:k,error:V,batchEditActive:g}=J(),{breadcrumb:A,title:R}=G(),L=E(()=>e.role!==null?{_and:[{role:{_eq:e.role}}]}:null),M=E(()=>{var Y,Z;if(!!((Z=(Y=d.currentUser)==null?void 0:Y.role)==null?void 0:Z.admin_access))return!0;const ie=c.permissions.find(se=>se.collection==="directus_users"&&se.action==="create"),pe=c.permissions.find(se=>se.collection==="directus_roles"&&se.action==="read");return!!ie&&!!pe}),{layoutWrapper:T}=dn(r),{batchEditAllowed:U,batchDeleteAllowed:B,createAllowed:z}=ee();return At(()=>{s.value=[]}),Ot(()=>{s.value=[]}),{t,canInviteUsers:M,addNewLink:b,breadcrumb:A,title:R,layoutRef:i,layoutWrapper:T,selection:s,layoutOptions:p,layoutQuery:f,layout:r,search:_,clearFilters:x,userInviteModalActive:l,refresh:W,batchEditAllowed:U,batchDeleteAllowed:B,createAllowed:z,resetPreset:y,confirmDelete:w,deleting:$,batchDelete:k,deleteError:V,batchEditActive:g,filter:v,roleFilter:L,mergeFilters:gl};async function W(){var ne,ie,pe;await((pe=(ie=(ne=i.value)==null?void 0:ne.state)==null?void 0:ie.refresh)==null?void 0:pe.call(ie))}function J(){const ne=D(!1),ie=D(!1),pe=D(!1),Y=D();return{batchEditActive:pe,confirmDelete:ne,deleting:ie,batchDelete:Z,error:Y};async function Z(){ie.value=!0;const se=s.value;try{await de.delete("/users",{data:se}),await W(),s.value=[],ne.value=!1}catch(le){Y.value=le,Fe(le)}finally{ie.value=!1}}}function Q(){return{addNewLink:E(()=>e.role?`/users/roles/${e.role}/+`:"/users/+")}}function G(){const ne=E(()=>e.role?[{name:t("user_directory"),to:"/users"}]:null),ie=E(()=>{var pe,Y;return e.role?(Y=(pe=o.value)==null?void 0:pe.find(Z=>Z.id===e.role))==null?void 0:Y.name:t("user_directory")});return{breadcrumb:ne,title:ie}}function x(){v.value=null,_.value=null}function ee(){const ne=E(()=>{var se;return((se=d==null?void 0:d.currentUser)==null?void 0:se.role.admin_access)===!0?!0:!!c.permissions.find(le=>le.action==="update"&&le.collection==="directus_users")}),ie=E(()=>{var se;return((se=d==null?void 0:d.currentUser)==null?void 0:se.role.admin_access)===!0?!0:!!c.permissions.find(le=>le.action==="delete"&&le.collection==="directus_users")}),pe=E(()=>{var se;return((se=d==null?void 0:d.currentUser)==null?void 0:se.role.admin_access)===!0?!0:!!c.permissions.find(le=>le.action==="create"&&le.collection==="directus_users")});return{batchEditAllowed:ne,batchDeleteAllowed:ie,createAllowed:pe}}}}),w3={class:"page-description"};function C3(e,t,o,l,d,c){const i=u("v-breadcrumb"),s=u("v-icon"),r=u("v-button"),p=u("search-input"),f=u("v-card-title"),v=u("v-card-actions"),_=u("v-card"),y=u("v-dialog"),b=u("users-navigation"),w=u("users-invite"),$=u("v-info"),k=u("drawer-batch"),V=u("sidebar-detail"),g=u("layout-sidebar-detail"),A=u("export-sidebar-detail"),R=u("private-view"),L=Ce("tooltip"),M=Ce("md");return m(),F(Ue(e.layoutWrapper),{ref:"layoutRef",selection:e.selection,"onUpdate:selection":t[10]||(t[10]=T=>e.selection=T),"layout-options":e.layoutOptions,"onUpdate:layout-options":t[11]||(t[11]=T=>e.layoutOptions=T),"layout-query":e.layoutQuery,"onUpdate:layout-query":t[12]||(t[12]=T=>e.layoutQuery=T),filter:e.mergeFilters(e.filter,e.roleFilter),"filter-user":e.filter,"filter-system":e.roleFilter,search:e.search,collection:"directus_users","reset-preset":e.resetPreset},{default:a(({layoutState:T})=>[n(R,{title:e.title},Ne({"title-outer:prepend":a(()=>[n(r,{class:"header-icon",rounded:"",disabled:"",icon:"",secondary:""},{default:a(()=>[n(s,{name:"people_alt",outline:""})]),_:1})]),"actions:prepend":a(()=>[(m(),F(Ue(`layout-actions-${e.layout}`),Qe(Ze(T)),null,16))]),actions:a(()=>[n(p,{modelValue:e.search,"onUpdate:modelValue":t[0]||(t[0]=U=>e.search=U),filter:e.filter,"onUpdate:filter":t[1]||(t[1]=U=>e.filter=U),collection:"directus_users"},null,8,["modelValue","filter"]),e.selection.length>0?(m(),F(y,{key:0,modelValue:e.confirmDelete,"onUpdate:modelValue":t[3]||(t[3]=U=>e.confirmDelete=U),onEsc:t[4]||(t[4]=U=>e.confirmDelete=!1)},{activator:a(({on:U})=>[te(n(r,{disabled:e.batchDeleteAllowed!==!0,rounded:"",icon:"",class:"action-delete",onClick:U},{default:a(()=>[n(s,{name:"delete",outline:""})]),_:2},1032,["disabled","onClick"]),[[L,e.batchDeleteAllowed?e.t("delete_label"):e.t("not_allowed"),void 0,{bottom:!0}]])]),default:a(()=>[n(_,null,{default:a(()=>[n(f,null,{default:a(()=>[O(h(e.t("batch_delete_confirm",e.selection.length)),1)]),_:1}),n(v,null,{default:a(()=>[n(r,{secondary:"",onClick:t[2]||(t[2]=U=>e.confirmDelete=!1)},{default:a(()=>[O(h(e.t("cancel")),1)]),_:1}),n(r,{kind:"danger",loading:e.deleting,onClick:e.batchDelete},{default:a(()=>[O(h(e.t("delete_label")),1)]),_:1},8,["loading","onClick"])]),_:1})]),_:1})]),_:1},8,["modelValue"])):N("",!0),e.selection.length>1?te((m(),F(r,{key:1,rounded:"",icon:"",class:"action-batch",disabled:e.batchEditAllowed===!1,onClick:t[5]||(t[5]=U=>e.batchEditActive=!0)},{default:a(()=>[n(s,{name:"edit",outline:""})]),_:1},8,["disabled"])),[[L,e.batchEditAllowed?e.t("edit"):e.t("not_allowed"),void 0,{bottom:!0}]]):N("",!0),e.canInviteUsers?te((m(),F(r,{key:2,rounded:"",icon:"",class:"invite-user",onClick:t[6]||(t[6]=U=>e.userInviteModalActive=!0)},{default:a(()=>[n(s,{name:"person_add"})]),_:1},512)),[[L,e.t("invite_users"),void 0,{bottom:!0}]]):N("",!0),te(n(r,{rounded:"",icon:"",to:e.addNewLink,disabled:e.createAllowed===!1},{default:a(()=>[n(s,{name:"add"})]),_:1},8,["to","disabled"]),[[L,e.createAllowed?e.t("create_item"):e.t("not_allowed"),void 0,{bottom:!0}]])]),navigation:a(()=>[n(b,{"current-role":e.role},null,8,["current-role"])]),sidebar:a(()=>[n(V,{icon:"info_outline",title:e.t("information"),close:""},{default:a(()=>[te(S("div",w3,null,512),[[M,e.t("page_help_users_collection")]])]),_:1},8,["title"]),n(g,{modelValue:e.layout,"onUpdate:modelValue":t[9]||(t[9]=U=>e.layout=U)},{default:a(()=>[(m(),F(Ue(`layout-options-${e.layout}`),Qe(Ze(T)),null,16))]),_:2},1032,["modelValue"]),(m(),F(Ue(`layout-sidebar-${e.layout}`),Qe(Ze(T)),null,16)),n(A,{collection:"directus_users",filter:e.mergeFilters(e.filter,e.roleFilter),search:e.search},null,8,["filter","search"])]),default:a(()=>[e.canInviteUsers?(m(),F(w,{key:0,modelValue:e.userInviteModalActive,"onUpdate:modelValue":[t[7]||(t[7]=U=>e.userInviteModalActive=U),e.refresh]},null,8,["modelValue","onUpdate:modelValue"])):N("",!0),(m(),F(Ue(`layout-${e.layout}`),ct({class:"layout"},T),{"no-results":a(()=>[!e.filter&&!e.search?(m(),F($,{key:0,title:e.t("user_count",0),icon:"people_alt",center:""},Ne({default:a(()=>[O(h(e.t("no_users_copy"))+" ",1)]),_:2},[e.canInviteUsers?{name:"append",fn:a(()=>[n(r,{to:e.role?{path:`/users/roles/${e.role}/+`}:{path:"/users/+"}},{default:a(()=>[O(h(e.t("create_user")),1)]),_:1},8,["to"])])}:void 0]),1032,["title"])):(m(),F($,{key:1,title:e.t("no_results"),icon:"search",center:""},{append:a(()=>[n(r,{onClick:e.clearFilters},{default:a(()=>[O(h(e.t("clear_filters")),1)]),_:1},8,["onClick"])]),default:a(()=>[O(h(e.t("no_results_copy"))+" ",1)]),_:1},8,["title"]))]),"no-items":a(()=>[n($,{title:e.t("user_count",0),icon:"people_alt",center:""},Ne({default:a(()=>[O(h(e.t("no_users_copy"))+" ",1)]),_:2},[e.canInviteUsers?{name:"append",fn:a(()=>[n(r,{to:e.role?{path:`/users/roles/${e.role}/+`}:{path:"/users/+"}},{default:a(()=>[O(h(e.t("create_user")),1)]),_:1},8,["to"])])}:void 0]),1032,["title"])]),_:2},1040)),n(k,{active:e.batchEditActive,"onUpdate:active":t[8]||(t[8]=U=>e.batchEditActive=U),"primary-keys":e.selection,collection:"directus_users",onRefresh:e.refresh},null,8,["active","primary-keys","onRefresh"])]),_:2},[e.breadcrumb?{name:"headline",fn:a(()=>[n(i,{items:e.breadcrumb},null,8,["items"])])}:void 0]),1032,["title"])]),_:1},8,["selection","layout-options","layout-query","filter","filter-user","filter-system","search","reset-preset"])}var jo=q(k3,[["render",C3],["__scopeId","data-v-3ecd516f"]]);const S3={alias:"input",bigInteger:"input",binary:"input",boolean:"boolean",date:"datetime",dateTime:"datetime",decimal:"input",float:"input",integer:"input",json:"input-code",string:"input",text:"input-multiline",time:"datetime",timestamp:"datetime",uuid:"input",unknown:"input",csv:"tags",hash:"input-hash",geometry:"map"};function Ro(e){return S3[e]||"input"}function Mo(e){const{interfaces:t}=Rt();return{formFields:E(()=>{let l=H.exports.clone(e.value);return l=l.map((d,c)=>{var r;if(!d.meta)return d;let i=t.value.find(p=>{var f;return p.id===((f=d.meta)==null?void 0:f.interface)});return i!==void 0===!1&&(d.meta.interface=Ro(d.type)),i=t.value.find(p=>{var f;return p.id===((f=d.meta)==null?void 0:f.interface)}),(i==null?void 0:i.hideLabel)===!0&&(d.hideLabel=!0),(i==null?void 0:i.hideLoader)===!0&&(d.hideLoader=!0),c!==0&&d.meta.width==="half"&&((r=l[c-1].meta)==null?void 0:r.width)==="half"&&(d.meta.width="half-right"),d}),l=l.filter(d=>{var i;return(((i=d.field)==null?void 0:i.startsWith("$"))||!1)===!1}),l=H.exports.orderBy(l,[d=>{var c;return!!((c=d.meta)==null?void 0:c.system)},"meta.sort","meta.id"],["desc","asc","asc"]),l=St(l),l})}}const F3=K({props:{user:{type:Object,default:null},isNew:{type:Boolean,default:!1}},setup(e){const{t}=ae(),o=D("");return _e(e,async()=>{!e.user||(o.value=await Pt(new Date(e.user.last_access),String(t("date-fns_date_short"))))},{immediate:!0}),{t,lastAccessDate:o}}}),V3={key:0},E3={key:0},I3={key:1},A3={key:2},D3={key:3},O3={key:4},P3={key:5},T3={class:"page-description"};function L3(e,t,o,l,d,c){const i=u("router-link"),s=u("v-divider"),r=u("sidebar-detail"),p=Ce("md");return m(),F(r,{icon:"info_outline",title:e.t("information"),close:""},{default:a(()=>[e.isNew===!1&&e.user?(m(),I("dl",V3,[e.user.id?(m(),I("div",E3,[S("dt",null,h(e.t("key")),1),S("dd",null,h(e.user.id),1)])):N("",!0),e.user.last_page?(m(),I("div",I3,[S("dt",null,h(e.t("last_page")),1),S("dd",null,[n(i,{to:e.user.last_page},{default:a(()=>[O(h(e.user.last_page),1)]),_:1},8,["to"])])])):N("",!0),e.user.last_access?(m(),I("div",A3,[S("dt",null,h(e.t("last_access")),1),S("dd",null,h(e.lastAccessDate),1)])):N("",!0),e.user.created_on?(m(),I("div",D3,[S("dt",null,h(e.t("created_on")),1),S("dd",null,h(e.user.created_on),1)])):N("",!0),e.user.created_by?(m(),I("div",O3,[S("dt",null,h(e.t("created_by")),1),S("dd",null,h(e.user.created_by),1)])):N("",!0),e.user.modified_on?(m(),I("div",P3,[S("dt",null,h(e.t("modified_on")),1),S("dd",null,h(e.user.modified_on),1)])):N("",!0)])):N("",!0),n(s),te(S("div",T3,null,512),[[p,e.t("page_help_users_item")]])]),_:1},8,["title"])}var j3=q(F3,[["render",L3],["__scopeId","data-v-8ba7c4c4"]]);const R3=K({name:"UsersItem",components:{UsersNavigation:Lo,RevisionsDrawerDetail:Kn,SaveOptions:wl,CommentsSidebarDetail:ta,UserInfoSidebarDetail:j3},props:{primaryKey:{type:String,required:!0},role:{type:String,default:null}},setup(e){const{t,locale:o}=ae(),l=et(),d=D(),c=ze(),i=qe(),s=xe(),{primaryKey:r}=Re(e),{breadcrumb:p}=me(),{info:f}=at("directus_users"),v=D(null),{isNew:_,edits:y,item:b,saving:w,loading:$,save:k,remove:V,deleting:g,saveAsCopy:A,isBatch:R,archive:L,archiving:M,isArchived:T,validationErrors:U}=Cn(D("directus_users"),r);e.role&&(y.value=X({role:e.role},y.value));const B=E(()=>Object.keys(y.value).length>0);Zt(B);const z=D(!1),W=D(!1),J=E(()=>{if($.value===!0)return t("loading");if(_.value===!1&&b.value){const we=b.value;return Ft(we)}return t("adding_user")}),{loading:Q,avatarSrc:G,roleName:x}=Oe(),ee=D(!1),ne=D(null),ie=we=>{if(B.value)return ee.value=!0,ne.value=we.fullPath,!1};Ot(ie),At(ie);const{deleteAllowed:pe,archiveAllowed:Y,saveAllowed:Z,updateAllowed:se,revisionsAllowed:le,fields:ce}=Hn(D("directus_users"),b,_),ve=["id","external_id","last_page","created_on","created_by","modified_by","modified_on","last_access"],ue=E(()=>ce.value.filter(we=>(!_.value&&["provider","external_identifier"].includes(we.field)&&(we.meta.readonly=!0),!ve.includes(we.field)))),{formFields:ge}=Mo(ue),fe=E(()=>Y.value===!1?t("not_allowed"):T.value===!0?t("unarchive"):t("archive"));return tt("meta+s",be,d),tt("meta+shift+s",Se,d),{t,router:l,title:J,item:b,loading:$,isNew:_,breadcrumb:p,edits:y,hasEdits:B,saving:w,saveAndQuit:ke,deleteAndQuit:Ae,confirmDelete:z,deleting:g,saveAndStay:be,saveAndAddNew:Se,saveAsCopyAndNavigate:De,isBatch:R,revisionsDrawerDetail:v,previewLoading:Q,avatarSrc:G,roleName:x,confirmLeave:ee,leaveTo:ne,discardAndLeave:je,formFields:ge,deleteAllowed:pe,saveAllowed:Z,archiveAllowed:Y,isArchived:T,updateAllowed:se,toggleArchive:Te,confirmArchive:W,collectionInfo:f,archiving:M,archiveTooltip:fe,form:d,userName:Ft,revisionsAllowed:le,validationErrors:U,revert:Ve};function me(){return{breadcrumb:E(()=>[{name:t("user_directory"),to:"/users"}])}}async function ke(){try{const we=await k();await Le(we),await lt(),l.push("/users")}catch{}}async function be(){var we,Be;try{const Ye=await k();if(await Le(Ye),(Be=(we=v.value)==null?void 0:we.refresh)==null||Be.call(we),e.primaryKey==="+"){const it=Ye.id;l.replace(`/users/${it}`)}}catch{}}async function Se(){try{const we=await k();await Le(we),await lt(),l.push("/users/+")}catch{}}async function De(){try{const we=await A();we&&l.push(`/users/${we}`)}catch{}}async function Ae(){try{await V(),l.push("/users")}catch{}}async function Le(we){var Ye;if(s.currentUser.id!==((Ye=b.value)==null?void 0:Ye.id))return;const Be=we==null?void 0:we.language;Be&&Be!==o.value&&(await lo(Be),await c.hydrate(),await i.hydrate())}async function lt(){var we;s.currentUser.id===((we=b.value)==null?void 0:we.id)&&await s.hydrate()}function Oe(){const we=D(!1),Be=D(null),Ye=D(null);return _e(()=>e.primaryKey,it,{immediate:!0}),{loading:we,avatarSrc:Be,roleName:Ye};async function it(){var ot,nt,pt;if(e.primaryKey!=="+"){we.value=!0;try{const mt=await de.get(`/users/${e.primaryKey}`,{params:{fields:["role.name","avatar.id"]}});Be.value=((ot=mt.data.data.avatar)==null?void 0:ot.id)?ut(Xe()+`assets/${mt.data.data.avatar.id}?key=system-medium-cover`):null,Ye.value=(pt=(nt=mt.data.data)==null?void 0:nt.role)==null?void 0:pt.name}catch(mt){Fe(mt)}finally{we.value=!1}}}}function je(){!ne.value||(y.value={},l.push(ne.value))}async function Te(){await L(),T.value===!0?l.push("/users"):W.value=!1}function Ve(we){y.value=X(X({},y.value),we)}}}),M3={class:"user-item"},U3={key:0,class:"user-box"},N3={class:"avatar"},B3=["src","alt"],q3={class:"user-box-content"},z3={class:"name type-label"},K3={key:0,class:"title"},W3={key:0,class:"email"},H3={key:1,class:"location"};function G3(e,t,o,l,d,c){const i=u("v-icon"),s=u("v-button"),r=u("v-breadcrumb"),p=u("v-card-title"),f=u("v-card-actions"),v=u("v-card"),_=u("v-dialog"),y=u("save-options"),b=u("users-navigation"),w=u("v-skeleton-loader"),$=u("v-chip"),k=u("v-form"),V=u("v-card-text"),g=u("user-info-sidebar-detail"),A=u("revisions-drawer-detail"),R=u("comments-sidebar-detail"),L=u("private-view"),M=Ce("tooltip");return m(),F(L,{title:e.title},{"title-outer:prepend":a(()=>[n(s,{class:"header-icon",rounded:"",icon:"",secondary:"",exact:"",onClick:t[0]||(t[0]=T=>e.router.back())},{default:a(()=>[n(i,{name:"arrow_back"})]),_:1})]),headline:a(()=>[n(r,{items:e.breadcrumb},null,8,["items"])]),actions:a(()=>[n(_,{modelValue:e.confirmDelete,"onUpdate:modelValue":t[2]||(t[2]=T=>e.confirmDelete=T),disabled:e.deleteAllowed===!1,onEsc:t[3]||(t[3]=T=>e.confirmDelete=!1)},{activator:a(({on:T})=>[te(n(s,{rounded:"",icon:"",class:"action-delete",disabled:e.item===null||e.deleteAllowed!==!0,onClick:T},{default:a(()=>[n(i,{name:"delete",outline:""})]),_:2},1032,["disabled","onClick"]),[[M,e.deleteAllowed?e.t("delete_label"):e.t("not_allowed"),void 0,{bottom:!0}]])]),default:a(()=>[n(v,null,{default:a(()=>[n(p,null,{default:a(()=>[O(h(e.t("delete_are_you_sure")),1)]),_:1}),n(f,null,{default:a(()=>[n(s,{secondary:"",onClick:t[1]||(t[1]=T=>e.confirmDelete=!1)},{default:a(()=>[O(h(e.t("cancel")),1)]),_:1}),n(s,{kind:"danger",loading:e.deleting,onClick:e.deleteAndQuit},{default:a(()=>[O(h(e.t("delete_label")),1)]),_:1},8,["loading","onClick"])]),_:1})]),_:1})]),_:1},8,["modelValue","disabled"]),e.collectionInfo.meta&&e.collectionInfo.meta.archive_field&&!e.isNew?(m(),F(_,{key:0,modelValue:e.confirmArchive,"onUpdate:modelValue":t[5]||(t[5]=T=>e.confirmArchive=T),disabled:e.archiveAllowed===!1,onEsc:t[6]||(t[6]=T=>e.confirmArchive=!1)},{activator:a(({on:T})=>[e.collectionInfo.meta&&e.collectionInfo.meta.singleton===!1?te((m(),F(s,{key:0,rounded:"",icon:"",class:"action-archive",disabled:e.item===null||e.archiveAllowed!==!0,onClick:T},{default:a(()=>[n(i,{name:e.isArchived?"unarchive":"archive",outline:""},null,8,["name"])]),_:2},1032,["disabled","onClick"])),[[M,e.archiveTooltip,void 0,{bottom:!0}]]):N("",!0)]),default:a(()=>[n(v,null,{default:a(()=>[n(p,null,{default:a(()=>[O(h(e.isArchived?e.t("unarchive_confirm"):e.t("archive_confirm")),1)]),_:1}),n(f,null,{default:a(()=>[n(s,{secondary:"",onClick:t[4]||(t[4]=T=>e.confirmArchive=!1)},{default:a(()=>[O(h(e.t("cancel")),1)]),_:1}),n(s,{kind:"warning",loading:e.archiving,onClick:e.toggleArchive},{default:a(()=>[O(h(e.isArchived?e.t("unarchive"):e.t("archive")),1)]),_:1},8,["loading","onClick"])]),_:1})]),_:1})]),_:1},8,["modelValue","disabled"])):N("",!0),te(n(s,{rounded:"",icon:"",loading:e.saving,disabled:e.hasEdits===!1||e.saveAllowed===!1,onClick:e.saveAndQuit},{"append-outer":a(()=>[e.hasEdits===!0?(m(),F(y,{key:0,onSaveAndStay:e.saveAndStay,onSaveAndAddNew:e.saveAndAddNew,onSaveAsCopy:e.saveAsCopyAndNavigate},null,8,["onSaveAndStay","onSaveAndAddNew","onSaveAsCopy"])):N("",!0)]),default:a(()=>[n(i,{name:"check"})]),_:1},8,["loading","disabled","onClick"]),[[M,e.saveAllowed?e.t("save"):e.t("not_allowed"),void 0,{bottom:!0}]])]),navigation:a(()=>[n(b,{"current-role":e.item&&e.item.role||e.role},null,8,["current-role"])]),sidebar:a(()=>[n(g,{"is-new":e.isNew,user:e.item},null,8,["is-new","user"]),e.isBatch===!1&&e.isNew===!1&&e.revisionsAllowed?(m(),F(A,{key:0,ref:"revisionsDrawerDetail",collection:"directus_users","primary-key":e.primaryKey,onRevert:e.revert},null,8,["primary-key","onRevert"])):N("",!0),e.isBatch===!1&&e.isNew===!1?(m(),F(R,{key:1,collection:"directus_users","primary-key":e.primaryKey},null,8,["primary-key"])):N("",!0)]),default:a(()=>[S("div",M3,[e.isNew===!1?(m(),I("div",U3,[S("div",N3,[e.loading||e.previewLoading?(m(),F(w,{key:0})):e.avatarSrc?(m(),I("img",{key:1,src:e.avatarSrc,alt:e.t("avatar")},null,8,B3)):(m(),F(i,{key:2,name:"account_circle",outline:"","x-large":""}))]),S("div",q3,[e.loading?(m(),I(oe,{key:0},[n(w,{type:"text"}),n(w,{type:"text"}),n(w,{type:"text"})],64)):e.isNew===!1&&e.item?(m(),I(oe,{key:1},[S("div",z3,[O(h(e.userName(e.item))+" ",1),e.item.title?(m(),I("span",K3,", "+h(e.item.title),1)):N("",!0)]),e.item.email?(m(),I("div",W3,[n(i,{name:"alternate_email",small:"",outline:""}),O(" "+h(e.item.email),1)])):N("",!0),e.item.location?(m(),I("div",H3,[n(i,{name:"place",small:"",outline:""}),O(" "+h(e.item.location),1)])):N("",!0),e.roleName?(m(),F($,{key:2,class:re(e.item.status),small:""},{default:a(()=>[O(h(e.roleName),1)]),_:1},8,["class"])):N("",!0)],64)):N("",!0)])])):N("",!0),n(k,{ref:"form",modelValue:e.edits,"onUpdate:modelValue":t[7]||(t[7]=T=>e.edits=T),disabled:e.isNew?!1:e.updateAllowed===!1,fields:e.formFields,loading:e.loading,"initial-values":e.item,"batch-mode":e.isBatch,"primary-key":e.primaryKey,"validation-errors":e.validationErrors},null,8,["modelValue","disabled","fields","loading","initial-values","batch-mode","primary-key","validation-errors"])]),n(_,{modelValue:e.confirmLeave,"onUpdate:modelValue":t[9]||(t[9]=T=>e.confirmLeave=T),onEsc:t[10]||(t[10]=T=>e.confirmLeave=!1)},{default:a(()=>[n(v,null,{default:a(()=>[n(p,null,{default:a(()=>[O(h(e.t("unsaved_changes")),1)]),_:1}),n(V,null,{default:a(()=>[O(h(e.t("unsaved_changes_copy")),1)]),_:1}),n(f,null,{default:a(()=>[n(s,{secondary:"",onClick:e.discardAndLeave},{default:a(()=>[O(h(e.t("discard_changes")),1)]),_:1},8,["onClick"]),n(s,{onClick:t[8]||(t[8]=T=>e.confirmLeave=!1)},{default:a(()=>[O(h(e.t("keep_editing")),1)]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1},8,["title"])}var Uo=q(R3,[["render",G3],["__scopeId","data-v-29656f72"]]),Q3=on({id:"users",name:"$t:user_directory",icon:"people_alt",routes:[{name:"users-collection",path:"",component:jo},{name:"users-item",path:":primaryKey",component:Uo,props:!0},{path:"roles",redirect:"/users"},{name:"roles-collection",path:"roles/:role",component:jo,props:!0},{name:"roles-item-add",path:"roles/:role/+",component:Uo,props:e=>({primaryKey:"+",role:e.params.role})}],preRegisterCheck(e,t){return e.role.admin_access?!0:!!t.find(d=>d.collection==="directus_users"&&d.action==="read")}}),X3=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:Q3});const{modulesRaw:_a}=Hl();let No=[];async function J3(){const t=Object.values({"./activity/index.ts":f2,"./collections/index.ts":Ok,"./docs/index.ts":xk,"./files/index.ts":O8,"./insights/index.ts":CS,"./settings/index.ts":h3,"./users/index.ts":X3}).map(o=>o.default);try{const o=await j(()=>import(`${Xe()}extensions/modules/index.js`),[]);t.push(...o.default)}catch(o){console.warn("Couldn't load custom modules"),console.warn(o)}No=t}async function Y3(){const e=xe(),t=It(),o=[];for(const l of No)!e.currentUser||(l.preRegisterCheck?await l.preRegisterCheck(e.currentUser,t.permissions)&&o.push(l):o.push(l));for(const l of o)Tt.addRoute({name:l.id,path:`/${l.id}`,component:cn,children:l.routes});_a.value=o}function Z3(){for(const e of _a.value)Tt.removeRoute(e.id);_a.value=[]}function En(e){const t=Dl();return t.settings&&e in t.settings?t.settings[e]:null}function x3(){const e=xe();return e.currentUser?e.currentUser.theme==="auto"?window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light":e.currentUser.theme:"light"}const Bo={name:"OpenStreetMap",type:"raster",url:"https://{a-c}.tile.openstreetmap.org/{z}/{x}/{y}.png",tileSize:256},eO={version:8,glyphs:"https://fonts.openmaptiles.org/{fontstack}/{range}.pbf"};function ll(){return En("mapbox_key")?[lO(),Bo,...En("basemaps")||[]]:[Bo,...En("basemaps")||[]]}function va(e){if(nO(e.url),e.type=="style")return e.url;{const t=X({},eO),o={type:"raster"};return e.type=="raster"&&(o.tiles=tO(e.url),o.tileSize=e.tileSize||512),e.type=="tile"&&(o.url=e.url),t.layers=[{id:e.name,source:e.name,type:"raster"}],t.sources={[e.name]:o},t}}function tO(e){const t=[];let o=/\{([a-z])-([a-z])\}/.exec(e);if(o){const l=o[1].charCodeAt(0),d=o[2].charCodeAt(0);let c;for(c=l;c<=d;++c)t.push(e.replace(o[0],String.fromCharCode(c)));return t}if(o=/\{(\d+)-(\d+)\}/.exec(e),o){const l=parseInt(o[2],10);for(let d=parseInt(o[1],10);d<=l;d++)t.push(e.replace(o[0],d.toString()));return t}if(o=/\{(([a-z0-9]+)(,([a-z0-9]+))+)\}/.exec(e),o){const l=o[1].split(",");for(const d of l)t.push(e.replace(o[0],d));return t}return t.push(e),t}function nO(e){e=e.replace(/^mapbox:\//,"https://api.mapbox.com/styles/v1");try{const t=new URL(e);if(t.host=="api.mapbox.com"){const o=t.searchParams.get("access_token");o&&(ms.accessToken=o)}}catch{return}}function lO(){const e={name:"Mapbox",type:"style",url:"mapbox://styles/directus/cktaiz31c509n18nrxj63zdy6"};return x3()==="dark"&&(e.url="mapbox://styles/directus/cktaixyhk2joh17lrb5i8zs22"),e}function qo(e=[qe,ze,xe,ol,On,Dl,Pn,wa,_t,It,Dn]){return e.map(t=>t())}async function ya(e=qo()){var d,c,i;const t=$t(),o=xe(),l=It();if(!t.hydrated&&!t.hydrating){t.hydrating=!0;try{if(await o.hydrate(),(d=o.currentUser)==null?void 0:d.role){await l.hydrate();const s=["userStore","permissionsStore"];await Promise.all(e.filter(({$id:r})=>!s.includes(r)).map(r=>{var p;return(p=r.hydrate)==null?void 0:p.call(r)})),await Y3(),await lo((i=(c=o.currentUser)==null?void 0:c.language)!=null?i:"en-US")}t.basemap=ll()[0].name}catch(s){t.error=s}finally{t.hydrating=!1}t.hydrated=!0}}async function aO(e=qo()){var o;const t=$t();if(t.hydrated!==!1){for(const l of e)await((o=l.dehydrate)==null?void 0:o.call(l));Z3(),t.hydrated=!1}}const zo=["pointermove","pointerdown","keydown"],oO=5*60*1e3;let ga,Il=!0,ha=!1;const en=Ka();function iO(){document.addEventListener("visibilitychange",Wo);for(const e of zo)document.addEventListener(e,Ko);Ho()}function sO(){document.removeEventListener("visibilitychange",Wo);for(const e of zo)document.removeEventListener(e,Ko)}function Ko(){ha===!0&&(ha=!1,en.emit("active")),Ho()}function Wo(){document.visibilityState==="hidden"&&Il===!0&&(Il=!1,en.emit("hide")),document.visibilityState==="visible"&&Il===!1&&(Il=!0,en.emit("show"))}function Ho(){ga&&clearTimeout(ga),ga=setTimeout(()=>{ha=!0,en.emit("idle")},oO)}async function rO(e){const t=$t(),o=await de.post("/auth/login",ye(X({},e),{mode:"cookie"})),l=o.data.data.access_token;de.defaults.headers.common.Authorization=`Bearer ${l}`,o.data.data.expires<=21e8&&(tn=setTimeout(()=>_n(),o.data.data.expires-1e4)),t.accessTokenExpiry=Date.now()+o.data.data.expires,t.authenticated=!0,await ya()}let tn,In=!1,ba=!1,Go=!0;en.on("idle",()=>{clearTimeout(tn),In=!0});en.on("hide",()=>{clearTimeout(tn),In=!0});en.on("active",()=>{In===!0&&(_n(),In=!1)});en.on("show",()=>{In===!0&&(_n(),In=!1)});async function _n({navigate:e}={navigate:!0}){if(Go)Go=!1;else if(!de.defaults.headers.common.Authorization)return;if(ba)return;const t=$t();if(t.accessTokenExpiry&&Date.now()<t.accessTokenExpiry-1e4){clearTimeout(tn),tn=setTimeout(()=>_n(),t.accessTokenExpiry-1e4-Date.now());return}ba=!0;try{const o=await de.post("/auth/refresh",void 0,{transformRequest(d,c){var i;return(i=c==null?void 0:c.common)==null||delete i.Authorization,d}}),l=o.data.data.access_token;return de.defaults.headers.common.Authorization=`Bearer ${l}`,clearTimeout(tn),o.data.data.expires<=21e8&&(tn=setTimeout(()=>_n(),o.data.data.expires-1e4)),t.accessTokenExpiry=Date.now()+o.data.data.expires,t.authenticated=!0,l}catch{await $a({navigate:e,reason:An.SESSION_EXPIRED})}finally{ba=!1}}var An;(function(e){e.SIGN_OUT="SIGN_OUT",e.SESSION_EXPIRED="SESSION_EXPIRED"})(An||(An={}));async function $a(e={}){const t=$t(),o={navigate:!0,reason:An.SIGN_OUT};delete de.defaults.headers.common.Authorization,clearTimeout(tn);const l=X(X({},o),e);if(l.reason===An.SIGN_OUT&&await de.post("/auth/logout"),t.authenticated=!1,await aO(),l.navigate===!0){const d={path:"/login",query:{reason:l.reason}};Tt.push(d)}}const al=Ga.create({baseURL:Xe(),withCredentials:!0,headers:{"Cache-Control":"no-store"}}),ka=new fs({concurrency:5,intervalCap:5,interval:500,carryoverConcurrencyCount:!0}),dO=e=>{const o=ol().startRequest(),l=X({id:o},e);return new Promise(d=>{e.url&&e.url==="/auth/refresh"?(ka.pause(),d(l),ka.start()):ka.add(()=>d(l))})},uO=e=>{var l;const t=ol(),o=(l=e.config)==null?void 0:l.id;return o&&t.endRequest(o),e},cO=async e=>{var c,i,s,r,p,f,v,_;const t=ol(),o=(i=(c=e.response)==null?void 0:c.config)==null?void 0:i.id;o&&t.endRequest(o);const l=(s=e.response)==null?void 0:s.status,d=(_=(v=(f=(p=(r=e.response)==null?void 0:r.data)==null?void 0:p.errors)==null?void 0:f[0])==null?void 0:v.extensions)==null?void 0:_.code;if(l===401&&d==="INVALID_CREDENTIALS"&&e.request.responseURL.includes("refresh")===!1&&e.request.responseURL.includes("login")===!1&&e.request.responseURL.includes("tfa")===!1){let y;try{y=await _n()}catch{return $a({reason:An.SESSION_EXPIRED}),Promise.reject()}if(y)return al.request(ye(X({},e.config),{headers:{Authorization:`Bearer ${y}`}}))}return Promise.reject(e)};al.interceptors.request.use(dO);al.interceptors.response.use(uO,cO);var de=al;function pO(){var e;return((e=al.defaults.headers.common.Authorization)==null?void 0:e.split(" ")[1])||null}function ut(e,t){const o=t||pO();return o?Ql(e,{access_token:o}):e}const qe=Vt({id:"collectionsStore",state:()=>({collections:[]}),getters:{visibleCollections(){return this.collections.filter(({collection:e})=>e.startsWith("directus_")===!1).filter(e=>{var t;return((t=e.meta)==null?void 0:t.hidden)!==!0})},allCollections(){return this.collections.filter(({collection:e})=>e.startsWith("directus_")===!1)},crudSafeSystemCollections(){return H.exports.orderBy(this.collections.filter(e=>e.collection.startsWith("directus_")===!0),["collection"],["asc"]).filter(e=>K2.includes(e.collection)===!1)}},actions:{async hydrate(){const t=(await de.get("/collections",{params:{limit:-1}})).data.data;this.collections=t.map(o=>{var s,r;const l=((s=o.meta)==null?void 0:s.icon)||"label",d=(r=o.meta)==null?void 0:r.color,c=Je(o.collection),i=D1(o);if(o.meta&&Mt(o.meta.translations))for(let p=0;p<o.meta.translations.length;p++){const{language:f,translation:v,singular:_,plural:y}=o.meta.translations[p];We.global.mergeLocaleMessage(f,{collection_names:{[o.collection]:v},collection_names_singular:{[o.collection]:_},collection_names_plural:{[o.collection]:y}})}return ye(X({},o),{name:c,type:i,icon:l,color:d})}),this.translateCollections()},translateCollections(){this.collections=this.collections.map(e=>{let t;return We.global.te(`collection_names.${e.collection}`)?t=We.global.t(`collection_names.${e.collection}`):t=Je(e.collection),ye(X({},e),{name:t})})},async dehydrate(){this.$reset()},async updateCollection(e,t){try{await de.patch(`/collections/${e}`,t),await this.hydrate(),kt({type:"success",title:We.global.t("update_collection_success")})}catch(o){Fe(o)}},async deleteCollection(e){try{await de.delete(`/collections/${e}`),await this.hydrate(),kt({type:"success",title:We.global.t("delete_collection_success")})}catch(t){Fe(t)}},getCollection(e){return this.collections.find(t=>t.collection===e)||null}}}),mO={collection:"directus_files",field:"$thumbnail",schema:null,name:"$thumbnail",type:"integer",meta:{id:-1,collection:"directus_files",field:"$thumbnail",sort:null,special:null,interface:null,options:null,display:"file",display_options:null,hidden:!1,translations:null,readonly:!0,width:"full",group:null,note:null,required:!1,conditions:null}};let Qo;const ze=Vt({id:"fieldsStore",state:()=>({fields:[]}),actions:{async hydrate(){const t=(await de.get("/fields",{params:{limit:-1}})).data.data;this.fields=[...t.map(this.parseField),mO],this.translateFields()},async dehydrate(){this.$reset()},parseField(e){const t=Je(e.field);if(e.meta&&Mt(e.meta.translations)&&e.meta.translations.length>0)for(let o=0;o<e.meta.translations.length;o++){const{language:l,translation:d}=e.meta.translations[o];We.global.mergeLocaleMessage(l,{fields:{[e.collection]:{[e.field]:d}}})}return ye(X({},e),{name:t})},translateFields(){this.fields=this.fields.map(e=>{let t;return We.global.te(`fields.${e.collection}.${e.field}`)?t=We.global.t(`fields.${e.collection}.${e.field}`):t=Je(e.field),ye(X({},e),{name:t})})},async createField(e,t){const o=[...this.fields];this.fields=[...this.fields,t];try{const l=await de.post(`/fields/${e}`,t),d=this.parseField(l.data.data);return this.fields=this.fields.map(c=>(c.collection===e&&c.field===t.field,c)),d}catch(l){this.fields=o,Fe(l)}},async updateField(e,t,o){const l=[...this.fields];this.fields=this.fields.map(d=>d.collection===e&&d.field===t?H.exports.merge({},d,o):d);try{const d=await de.patch(`/fields/${e}/${t}`,o);this.fields=this.fields.map(c=>c.collection===e&&c.field===t?this.parseField(d.data.data):c)}catch(d){this.fields=l,Fe(d)}},async updateFields(e,t){const o=bt(),l=[...this.fields];Qo=o,this.fields=this.fields.map(d=>{if(d.collection===e){const c=t.find(i=>i.field===d.field);if(c)return H.exports.merge({},d,c)}return d});try{const d=await de.patch(`/fields/${e}`,t);Qo===o&&(this.fields=this.fields.map(c=>{if(c.collection===e){const i=d.data.data.find(s=>s.field===c.field);if(i)return this.parseField(i)}return c}),this.translateFields())}catch(d){this.fields=l,Fe(d)}},async deleteField(e,t){const o=[...this.fields];this.fields=this.fields.filter(l=>!(l.field===t&&l.collection===e));try{await de.delete(`/fields/${e}/${t}`)}catch(l){this.fields=o,Fe(l)}},getPrimaryKeyFieldForCollection(e){return this.fields.find(o=>{var l;return o.collection===e&&((l=o.schema)==null?void 0:l.is_primary_key)===!0})},getFieldsForCollection(e){return H.exports.orderBy(this.fields.filter(t=>t.collection===e),[t=>{var o;return((o=t.meta)==null?void 0:o.system)===!0},t=>{var o,l;return((o=t.meta)==null?void 0:o.sort)?Number((l=t.meta)==null?void 0:l.sort):null}])},getFieldsForCollectionAlphabetical(e){return this.getFieldsForCollection(e).sort((t,o)=>t.field<o.field?-1:(t.field>o.field,1))},getField(e,t){return t.includes(".")?this.getRelationalField(e,t)||null:this.fields.find(o=>o.collection===e&&o.field===t)||null},getRelationalField(e,t){var s;const o=_t(),l=t.split("."),d=(s=o.getRelationsForField(e,l[0]))==null?void 0:s.find(r=>{var p;return r.field===l[0]||((p=r.meta)==null?void 0:p.one_field)===l[0]});if(d===void 0)return!1;const c=d.field===l[0]?d.related_collection:d.collection;l.shift();const i=l.join(".");return this.getField(c,i)}}}),Dn=Vt({id:"insightsStore",state:()=>({dashboards:[]}),actions:{async hydrate(){const e=xe(),t=It();if(e.isAdmin!==!0&&!t.hasPermission("directus_dashboards","read"))this.dashboards=[];else try{const o=await de.get("/dashboards",{params:{limit:-1,fields:["*","panels.*"],sort:["name"]}});this.dashboards=o.data.data}catch{this.dashboards=[]}},async dehydrate(){this.$reset()}}}),wa=Vt({id:"latencyStore",state:()=>({latency:[]}),actions:{async dehydrate(){this.$reset()},save(e){this.latency.push(e),this.latency=this.latency.slice(-20)}}}),Al=Vt({id:"notificationsStore",state:()=>({dialogs:[],queue:[],previous:[]}),actions:{add(e){const t=bt(),o=Date.now();return e.dialog===!0?(e.persist=!0,this.dialogs=[...this.dialogs,ye(X({},e),{id:t,timestamp:o})]):this.queue=[...this.queue,ye(X({},e),{id:t,timestamp:o})],e.persist!==!0&&setTimeout(()=>{this.remove(t)},3e3),t},hide(e){const o=[...this.queue,...this.dialogs].find(l=>l.id===e);!o||(o.dialog===!0?this.dialogs=this.dialogs.filter(l=>l.id!==e):this.queue=this.queue.filter(l=>l.id!==e),this.previous=[...this.previous,o])},remove(e){const o=[...this.queue,...this.dialogs].find(l=>l.id===e);!o||(o.dialog===!0?this.dialogs=this.dialogs.filter(l=>l.id!==e):this.queue=this.queue.filter(l=>l.id!==e))},update(e,t){this.queue=this.queue.map(o),this.dialogs=this.dialogs.map(o),this.previous=this.queue.map(o);function o(l){return l.id===e?X(X({},l),t):l}}},getters:{lastFour(){const e=[...this.queue,...this.previous.filter(l=>l.dialog!==!0)],o=H.exports.reverse(H.exports.sortBy(e,["timestamp"])).slice(0,4);return H.exports.reverse(o)}}}),It=Vt({id:"permissionsStore",state:()=>({permissions:[]}),actions:{async hydrate(){const e=xe(),t=await de.get("/permissions",{params:{limit:-1,filter:{role:{_eq:e.currentUser.role.id}}}});this.permissions=t.data.data.map(o=>(o.permissions&&(o.permissions=Wn(o.permissions)),o.validation&&(o.validation=Wn(o.validation)),o.presets&&(o.presets=Wn(o.presets)),o))},dehydrate(){this.$reset()},getPermissionsForUser(e,t){const o=xe();return this.permissions.find(l=>{var d,c;return l.action===t&&l.collection===e&&l.role===((c=(d=o.currentUser)==null?void 0:d.role)==null?void 0:c.id)})||null},hasPermission(e,t){var l,d;return((d=(l=xe().currentUser)==null?void 0:l.role)==null?void 0:d.admin_access)===!0?!0:!!this.getPermissionsForUser(e,t)}}}),Xo={bookmark:null,role:null,user:null,search:null,filter:null,layout:null,layout_query:null,layout_options:null,refresh_interval:null},Jo={directus_files:{collection:"directus_files",layout:"cards",layout_query:{cards:{sort:["-uploaded_on"]}},layout_options:{cards:{icon:"insert_drive_file",title:"{{ title }}",subtitle:"{{ type }} \u2022\xA0{{ filesize }}",size:4,imageFit:"crop"}}},directus_users:{collection:"directus_users",layout:"cards",layout_query:{cards:{sort:["email"]}},layout_options:{cards:{icon:"account_circle",title:"{{ first_name }} {{ last_name }}",subtitle:"{{ email }}",size:4}}},directus_activity:{collection:"directus_activity",layout:"tabular",layout_query:{tabular:{sort:["-timestamp"],fields:["action","collection","timestamp","user"]}},layout_options:{tabular:{widths:{action:100,collection:210,timestamp:240,user:240}}}},directus_roles:{collection:"directus_roles",layout:"tabular",layout_query:{tabular:{fields:["icon","name","description"]}},layout_options:{tabular:{widths:{icon:36,name:248,description:500}}}},directus_webhooks:{collection:"directus_webhooks",layout:"tabular",layout_query:{tabular:{fields:["status","method","name","collections","actions"]}},layout_options:{tabular:{widths:{status:32,method:100,name:210,collections:240,actions:210}}}}},Yo={},On=Vt({id:"presetsStore",state:()=>({collectionPresets:[]}),getters:{bookmarks(){return this.collectionPresets.filter(e=>e.bookmark!==null)}},actions:{async hydrate(){const{id:e,role:t}=xe().currentUser,l=(await Promise.all([de.get("/presets",{params:{"filter[user][_eq]":e,limit:-1}}),de.get("/presets",{params:{"filter[role][_eq]":t.id,"filter[user][_null]":!0,limit:-1}}),de.get("/presets",{params:{"filter[role][_null]":!0,"filter[user][_null]":!0,limit:-1}})])).map(d=>d.data.data).flat();for(const d of Object.keys(Jo))l.find(i=>i.collection===d&&!i.user&&!i.role&&!i.bookmark)||l.push(H.exports.merge({},Xo,Jo[d]));this.collectionPresets=l},async dehydrate(){this.$reset()},async create(e){const t=await de.post("/presets",e);return this.collectionPresets.push(t.data.data),t.data.data},async update(e,t){const o=bt();Yo[e]=o;const l=await de.patch(`/presets/${e}`,t);return Yo[e]===o&&(this.collectionPresets=this.collectionPresets.map(d=>{const c=l.data.data;return d.id===c.id?c:d})),l.data.data},async delete(e){await de.delete(`/presets/${e}`),this.collectionPresets=this.collectionPresets.filter(t=>t.id!==e)},getPresetForCollection(e){const t=xe();if(t.currentUser===null)return null;const{id:o,role:l}=t.currentUser,d=ye(X({},Xo),{collection:e,user:o}),c=this.collectionPresets.filter(p=>{const f=p.user===o||p.user===null,v=p.role===l.id||p.role===null,_=p.collection===e;return p.bookmark?!1:!!(f&&_||v&&_)});if(c.length===0)return d;if(c.length===1)return c[0];const i=c.find(p=>p.user===o);if(i)return i;const s=c.find(p=>p.role===l.id);return s||c[c.length-1]},getBookmark(e){return this.collectionPresets.find(t=>t.id===e)||null},async savePreset(e){const t=xe();if(t.currentUser===null)return null;const{id:o}=t.currentUser;if(e=H.exports.cloneDeep(e),e.id===void 0||e.id===null)return await this.create(ye(X({},e),{user:o}));if(e.user!==o)return"id"in e&&delete e.id,await this.create(ye(X({},e),{user:o}));{const l=e.id;return delete e.id,await this.update(l,e)}},saveLocal(e){this.collectionPresets=this.collectionPresets.map(t=>t.id===e.id?X({},e):t)},async clearLocalSave(e){const t=await de.get(`/presets/${e.id}`);this.collectionPresets=this.collectionPresets.map(o=>o.id===t.data.data.id?t.data.data:o)}}}),_t=Vt({id:"relationsStore",state:()=>({relations:[]}),actions:{async hydrate(){const e=await de.get("/relations",{params:{limit:-1}});this.relations=e.data.data},async dehydrate(){this.$reset()},getRelationsForCollection(e){return this.relations.filter(t=>t.collection===e||t.related_collection===e)},getRelationsForField(e,t){var c;if(!ze().getField(e,t))return[];const d=this.getRelationsForCollection(e).filter(i=>{var s;return i.collection===e&&i.field===t||i.related_collection===e&&((s=i.meta)==null?void 0:s.one_field)===t});if(d.length>0&&((c=d[0].meta)==null?void 0:c.junction_field)!==null){const s=this.relations.find(r=>{var p;return r.collection===d[0].collection&&r.field===((p=d[0].meta)==null?void 0:p.junction_field)});s&&d.push(s)}return d},getRelationForField(e,t){return ze().getField(e,t)&&this.getRelationsForCollection(e).filter(c=>{var i;return c.collection===e&&c.field===t||c.related_collection===e&&((i=c.meta)==null?void 0:i.one_field)===t}).find(c=>c.collection===e&&c.field===t)||null}}}),ol=Vt({id:"requestsStore",state:()=>({queue:[]}),getters:{queueHasItems(){return this.queue.length>0}},actions:{startRequest(){const e=bt();return this.queue=[...this.queue,e],setTimeout(()=>this.endRequest(e),3500),e},endRequest(e){this.queue=this.queue.filter(t=>t!==e)}}}),Pn=Vt({id:"serverStore",state:()=>({info:null}),actions:{async hydrate(){const e=await de.get("/server/info",{params:{limit:-1}});this.info=e.data.data},dehydrate(){this.$reset()}}}),Dl=Vt({id:"settingsStore",state:()=>({settings:null}),actions:{async hydrate(){const e=await de.get("/settings");this.settings=e.data.data},async dehydrate(){this.$reset()},async updateSettings(e){const t=X({},this.settings),o=H.exports.merge({},this.settings,e);this.settings=o;try{const l=await de.patch("/settings",e);this.settings=l.data.data,kt({title:We.global.t("settings_update_success"),type:"success"})}catch(l){this.settings=t,Fe(l)}}}});var fO=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",useAppStore:$t,useCollectionsStore:qe,useFieldsStore:ze,useInsightsStore:Dn,useLatencyStore:wa,useNotificationsStore:Al,usePermissionsStore:It,usePresetsStore:On,useRelationsStore:_t,useRequestsStore:ol,useServerStore:Pn,useSettingsStore:Dl,useUserStore:xe});function _O(){Jt(dr,fO),Jt(ur,de)}const vO=(e,t)=>`
<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 200 200">
	<style>
		circle {
			fill: ${e};
		}
	</style>

	<circle cx="100" cy="100" r="100"/>

	${t?"":'<path d="M143.122 109.533c-.663-.167-1.216-.334-1.715-.557a3.945 3.945 0 01-1.216-.836c.332-2.952 0-5.514.276-8.411 1.106-11.253 8.132-7.688 14.439-9.526 3.928-1.114 7.855-3.398 8.851-8.078-4.315-5.069-9.128-9.526-14.383-13.314-17.094-12.255-39.444-17.157-59.747-13.76a30.762 30.762 0 0013.428 12.535s-5.502 0-10.218-3.548c-1.383.558-4.15 1.654-5.478 2.322 10.788 10.417 27.66 11.587 39.776 2.228-.055.112-1.107 1.727-2.379 8.468-2.821 14.372-10.954 13.258-21.022 9.637-20.911-7.631-32.418-.557-42.873-15.04a9.73 9.73 0 00-4.924 8.467c0 3.621 1.992 6.685 4.868 8.356 1.57-2.098 2.275-2.695 5.014-2.695-4.239 2.42-4.737 4.533-6.563 10.382-2.213 7.075-1.272 14.317-11.617 16.211-5.477.279-5.366 4.011-7.358 9.582-2.489 7.242-5.808 10.139-12.281 16.99 2.655 3.231 5.421 3.621 8.243 2.451 5.808-2.45 10.29-10.027 14.494-14.929 4.702-5.46 15.988-3.12 24.507-8.467 5.864-3.622 8.74-8.524 4.868-16.824 2.49 2.785 3.983 6.295 4.204 10.027 9.848-1.28 23.014 10.807 35.019 12.813-1.217-1.56-2.213-3.231-2.932-4.958-1.383-3.342-1.826-6.406-1.55-9.08 1.107 6.629 7.746 15.152 18.423 15.932 2.71.223 5.697-.112 8.795-1.058 3.707-1.115 7.137-2.563 11.23-1.783 3.043.557 5.864 2.117 7.635 4.735 2.655 3.9 8.464 4.735 11.064-.056-5.864-15.43-22.018-16.433-28.878-18.216z" fill="#FFF"/>'}
</svg>`;function yO(e="#00C897",t=!1){const o=vO(e,t),l=document.createElement("div");if(l.innerHTML=o.trim(),l.firstChild){const d=new XMLSerializer().serializeToString(l.firstChild),c="data:image/svg+xml;base64,"+window.btoa(d),i=document.querySelector("link[rel*='icon']")||document.createElement("link");i.type="image/x-icon",i.rel="icon",i.href=c,document.getElementsByTagName("head")[0].appendChild(i)}}const gO=K({setup(){const{t:e}=ae(),t=$t(),o=xe(),l=Pn(),{hydrating:d}=Re(t),c=E(()=>{var r,p;return{"--brand":((p=(r=l.info)==null?void 0:r.project)==null?void 0:p.project_color)||"var(--primary)"}});rt(()=>iO()),Ct(()=>sO()),_e([()=>{var r,p;return(p=(r=l.info)==null?void 0:r.project)==null?void 0:p.project_color},()=>{var r,p;return(p=(r=l.info)==null?void 0:r.project)==null?void 0:p.project_logo}],()=>{var p,f,v,_;const r=!!((f=(p=l.info)==null?void 0:p.project)==null?void 0:f.project_logo);yO(((_=(v=l.info)==null?void 0:v.project)==null?void 0:_.project_color)||"#00C897",r)}),_e(()=>o.currentUser,r=>{var p;document.body.classList.remove("dark"),document.body.classList.remove("light"),document.body.classList.remove("auto"),r!=null&&r.theme?(document.body.classList.add(r.theme),(p=document.querySelector('head meta[name="theme-color"]'))==null||p.setAttribute("content",r.theme==="light"?"#ffffff":"#263238")):document.body.classList.add("light")}),_e(()=>{var r,p;return(p=(r=l.info)==null?void 0:r.project)==null?void 0:p.project_name},r=>{document.title=r||"Directus"});const i=E(()=>{var r,p;return((p=(r=l.info)==null?void 0:r.project)==null?void 0:p.custom_css)||""}),s=E(()=>t.error);return _O(),{t:e,hydrating:d,brandStyle:c,error:s,customCSS:i}}}),hO={key:0,class:"hydrating"};function bO(e,t,o,l,d,c){const i=u("v-progress-circular"),s=u("v-error"),r=u("v-info"),p=u("router-view");return m(),I("div",{id:"directus",style:Ke(e.brandStyle)},[n(qt,{name:"fade"},{default:a(()=>[e.hydrating?(m(),I("div",hO,[n(i,{indeterminate:""})])):N("",!0)]),_:1}),e.error?(m(),F(r,{key:0,type:"danger",title:e.t("unexpected_error"),icon:"error",center:""},{append:a(()=>[n(s,{error:e.error},null,8,["error"])]),default:a(()=>[O(h(e.t("unexpected_error_copy"))+" ",1)]),_:1},8,["title"])):e.hydrating?N("",!0):(m(),F(p,{key:1})),(m(),F(ql,{to:"#custom-css"},[O(h(e.customCSS),1)]))],4)}var $O=q(gO,[["render",bO],["__scopeId","data-v-2e5b0338"]]);const kO=K({props:{layoutQuery:{type:Object,default:()=>({})},filter:{type:Object,default:null},search:{type:String,default:null},collection:{type:String,required:!0}},setup(e){const{t}=ae(),o=D("csv"),l=D(!0),d=qe(),c=E(()=>d.getCollection(e.collection).name);return{t,format:o,useFilters:l,exportData:i,collectionName:c};function i(){var v,_,y;const s=e.collection.startsWith("directus_")?`${e.collection.substring(9)}`:`items/${e.collection}`,r=Xe()+s;let p={access_token:de.defaults.headers.common.Authorization.substring(7),export:o.value||"json"};l.value===!0&&(((v=e.layoutQuery)==null?void 0:v.sort)&&(p.sort=e.layoutQuery.sort),((_=e.layoutQuery)==null?void 0:_.fields)&&(p.fields=e.layoutQuery.fields),((y=e.layoutQuery)==null?void 0:y.limit)&&(p.limit=e.layoutQuery.limit),e.search&&(p.search=e.search),e.filter&&(p.filter=e.filter),e.search&&(p.search=e.search));const f=de.getUri({url:r,params:p});window.open(f)}}}),wO={class:"fields"},CO={class:"field full"},SO={class:"type-label"},FO={class:"field full"};function VO(e,t,o,l,d,c){const i=u("v-select"),s=u("v-checkbox"),r=u("v-button"),p=u("sidebar-detail");return m(),F(p,{icon:"save_alt",title:e.t("export_data")},{default:a(()=>[S("div",wO,[S("div",CO,[S("p",SO,h(e.t("format")),1),n(i,{modelValue:e.format,"onUpdate:modelValue":t[0]||(t[0]=f=>e.format=f),items:[{text:e.t("csv"),value:"csv"},{text:e.t("json"),value:"json"},{text:e.t("xml"),value:"xml"}]},null,8,["modelValue","items"]),n(s,{modelValue:e.useFilters,"onUpdate:modelValue":t[1]||(t[1]=f=>e.useFilters=f),label:e.t("use_current_filters_settings")},null,8,["modelValue","label"])]),S("div",FO,[n(r,{"full-width":"",onClick:e.exportData},{default:a(()=>[O(h(e.t("export_collection",{collection:e.collectionName})),1)]),_:1},8,["onClick"])])])]),_:1},8,["title"])}var EO=q(kO,[["render",VO],["__scopeId","data-v-11c53db4"]]);const IO=K({components:{ValueNull:xt},props:{display:{type:String,default:null},options:{type:Object,default:()=>({})},interface:{type:String,default:null},interfaceOptions:{type:Object,default:null},value:{type:[String,Number,Object,Array,Boolean],default:null},type:{type:String,required:!0},collection:{type:String,required:!0},field:{type:String,required:!0}},setup(e){const{displays:t}=sn();return{displayInfo:E(()=>t.value.find(l=>l.id===e.display)||null)}}});function AO(e,t,o,l,d,c){const i=u("value-null"),s=u("v-text-overflow");return e.value===null||e.value===void 0?(m(),F(i,{key:0})):e.displayInfo===null?(m(),F(s,{key:1,class:"display",text:e.value},null,8,["text"])):(m(),F(Ue(`display-${e.display}`),ct({key:2},e.options,{interface:e.interface,"interface-options":e.interfaceOptions,value:e.value,type:e.type,collection:e.collection,field:e.field}),null,16,["interface","interface-options","value","type","collection","field"]))}var DO=q(IO,[["render",AO],["__scopeId","data-v-edd38016"]]);const OO={alias:"raw",bigInteger:"formatted-value",binary:"raw",boolean:"boolean",date:"datetime",dateTime:"datetime",decimal:"formatted-value",float:"formatted-value",integer:"formatted-value",json:"raw",string:"formatted-value",text:"formatted-value",time:"datetime",timestamp:"datetime",uuid:"formatted-value",unknown:"raw",csv:"labels",hash:"formatted-value",geometry:"map"};function Zo(e){return OO[e]||"raw"}const PO=K({components:{ValueNull:xt},props:{collection:{type:String,default:null},fields:{type:Array,default:null},item:{type:Object,default:null},template:{type:String,required:!0}},setup(e){const t=ze(),{displays:o}=sn(),l=D(),d=/({{.*?}})/g;return{parts:E(()=>e.template.split(d).filter(i=>i).map(i=>{var _,y,b,w,$,k;if(i.startsWith("{{")===!1)return i;let s=i.replace(/{{/g,"").replace(/}}/g,"").trim();const r=t.getField(e.collection,s)||((_=e.fields)==null?void 0:_.find(V=>V.field===s));r&&r.collection==="directus_files"&&r.field==="$thumbnail"&&(s=s.split(".").filter(V=>V!=="$thumbnail").join("."));const p=H.exports.get(e.item,s);return p===void 0?null:!r||(((y=r==null?void 0:r.meta)==null?void 0:y.display)||Zo(r.type))==="raw"||!o.value.find(V=>{var g;return V.id===((g=r.meta)==null?void 0:g.display)})?p:{component:(b=r.meta)==null?void 0:b.display,options:(w=r.meta)==null?void 0:w.display_options,value:p,interface:($=r.meta)==null?void 0:$.interface,interfaceOptions:(k=r.meta)==null?void 0:k.options,type:r.type,collection:r.collection,field:r.field}}).map(i=>i!=null?i:null)),templateEl:l}}}),TO=e=>(He("data-v-1200a0f4"),e=e(),Ge(),e),LO={ref:"templateEl",class:"render-template"},jO=TO(()=>S("span",{class:"vertical-aligner"},null,-1)),RO={key:2};function MO(e,t,o,l,d,c){const i=u("value-null");return m(),I("div",LO,[jO,(m(!0),I(oe,null,he(e.parts,(s,r)=>(m(),I(oe,{key:r},[s===null||s.value===null?(m(),F(i,{key:0})):typeof s=="object"&&s.component?(m(),F(Ue(`display-${s.component}`),ct({key:1},s.options,{value:s.value,interface:s.interface,"interface-options":s.interfaceOptions,type:s.type,collection:s.collection,field:s.field}),null,16,["value","interface","interface-options","type","collection","field"])):(m(),I("span",RO,h(s),1))],64))),128))],512)}var UO=q(PO,[["render",MO],["__scopeId","data-v-1200a0f4"]]);function vn(e){var p;const t=ht((e==null?void 0:e.group)||"item-group",null);if(wo(t))return{active:D(!1),toggle:()=>{},activate:()=>{},deactivate:()=>{}};const{register:o,unregister:l,toggle:d,selection:c}=t;let i=!1;((p=e==null?void 0:e.active)==null?void 0:p.value)===!0&&(i=!0),(e==null?void 0:e.value)&&c.value.includes(e.value)&&(i=!0);const s=D(i),r={active:s,value:e==null?void 0:e.value};return o(r),(e==null?void 0:e.active)!==void 0&&e.watch===!0&&_e(e.active,()=>{e.active!==void 0&&(e.active.value===!0&&(s.value===!1&&d(r),s.value=!0),e.active.value===!1&&(s.value===!0&&d(r),s.value=!1))}),Nl(()=>l(r)),{active:s,toggle:()=>{d(r)},activate:()=>{s.value===!1&&d(r)},deactivate:()=>{s.value===!0&&d(r)}}}function Ca(e={},t={},o="item-group"){const l=Dt([]),d=D([]),c=E({get(){return Mt(e.selection)&&Mt(e.selection.value)?e.selection.value:d.value},set(y){Mt(e.onSelectionChange)&&e.onSelectionChange(y),d.value=[...y]}});return Jt(o,{register:i,unregister:s,toggle:r,selection:c}),_e(c,_,{immediate:!0}),Un().then(_),_e(()=>{var y;return(y=t==null?void 0:t.mandatory)==null?void 0:y.value},(y,b)=>{var w;H.exports.isEqual(y,b)||(!c.value||c.value.length===0&&((w=t==null?void 0:t.mandatory)==null?void 0:w.value)===!0)&&(c.value=[v(l.value[0])])}),{items:l,selection:c,internalSelection:d,getValueForItem:v,updateChildren:_};function i(y){var w;l.value=[...l.value,y];const b=v(y);c.value.length===0&&((w=t==null?void 0:t.mandatory)==null?void 0:w.value)===!0&&l.value.length===1&&(c.value=[b]),y.active.value&&c.value.includes(b)===!1&&r(y)}function s(y){l.value=l.value.filter(b=>b!==y)}function r(y){var b;((b=t==null?void 0:t.multiple)==null?void 0:b.value)===!0?f(y):p(y),Mt(e.onToggle)&&e.onToggle(y)}function p(y){var w;const b=v(y);if(c.value[0]===b&&((w=t==null?void 0:t.mandatory)==null?void 0:w.value)!==!0){c.value=[];return}c.value[0]!==b&&(c.value=[b])}function f(y){var w,$;const b=v(y);if(c.value.includes(b)){if(((w=t==null?void 0:t.mandatory)==null?void 0:w.value)===!0&&c.value.length===1){_();return}c.value=c.value.filter(k=>k!==b);return}if((($=t==null?void 0:t.max)==null?void 0:$.value)&&t.max.value!==-1&&c.value.length>=t.max.value){_();return}c.value=[...c.value,b]}function v(y){return y.value||l.value.findIndex(b=>y===b)}function _(){l.value.forEach(y=>{y.active.value=c.value.includes(v(y))})}}const NO=K({props:{icon:{type:String,required:!0},title:{type:String,required:!0},badge:{type:[Boolean,String,Number],default:null},close:{type:Boolean,default:!1}},setup(e){const{active:t,toggle:o}=vn({value:e.title,group:"sidebar-detail"}),l=$t(),{sidebarOpen:d}=Re(l);return{active:t,toggle:o,sidebarOpen:d}}}),BO={class:"icon"},qO={key:0,class:"icon"},zO={class:"content"};function KO(e,t,o,l,d,c){const i=u("v-icon"),s=u("v-badge"),r=u("transition-expand");return m(),I("div",{class:re(["sidebar-detail",{open:e.sidebarOpen}])},[S("button",{class:re(["toggle",{open:e.active}]),onClick:t[0]||(t[0]=(...p)=>e.toggle&&e.toggle(...p))},[S("div",BO,[n(s,{dot:e.badge===!0,bordered:"",value:e.badge,disabled:!e.badge},{default:a(()=>[n(i,{name:e.icon,outline:""},null,8,["name"])]),_:1},8,["dot","value","disabled"])]),te(S("div",{class:"title"},h(e.title),513),[[Et,e.sidebarOpen]]),e.close?N("",!0):(m(),I("div",qO,[n(i,{class:"expand-icon",name:e.active?"expand_less":"expand_more",outline:""},null,8,["name"])]))],2),e.close?te((m(),I("div",{key:0,class:"close",onClick:t[1]||(t[1]=p=>e.sidebarOpen=!1)},[n(i,{name:"close"})],512)),[[Et,e.sidebarOpen]]):N("",!0),n(r,{class:"scroll-container"},{default:a(()=>[te(S("div",null,[S("div",zO,[$e(e.$slots,"default",{},void 0,!0)])],512),[[Et,e.active]])]),_:3})],2)}var WO=q(NO,[["render",KO],["__scopeId","data-v-cd036256"]]);const HO=K({props:{user:{type:String,required:!0}},setup(e){const{t}=ae(),o=et(),l=D(!1),d=D(null),c=D(null),i=E(()=>{var f;return c.value===null?null:((f=c.value.avatar)==null?void 0:f.id)?ut(`${Xe()}assets/${c.value.avatar.id}?key=system-medium-cover`):null}),s=D(!1);return _e(s,()=>{s.value===!0&&c.value===null&&l.value===!1&&r()}),Ct(()=>{l.value=!1,d.value=null,c.value=null}),{t,loading:l,error:d,data:c,active:s,avatarSrc:i,userName:Ft,navigateToUser:p};async function r(){l.value=!0,d.value=null;try{const f=await de.get(`/users/${e.user}`,{params:{fields:["id","first_name","last_name","avatar.id","role.name","status","email"]}});c.value=f.data.data}catch(f){d.value=f}finally{l.value=!1}}function p(){c.value&&o.push(`/users/${c.value.id}`)}}}),GO={key:0,class:"loading"},QO={key:1,class:"error"},XO=["src","alt"],JO={class:"data"},YO={class:"name type-title"},ZO={class:"email"};function xO(e,t,o,l,d,c){const i=u("v-skeleton-loader"),s=u("v-icon"),r=u("v-avatar"),p=u("v-menu");return m(),F(p,{modelValue:e.active,"onUpdate:modelValue":t[1]||(t[1]=f=>e.active=f),"show-arrow":"",placement:"top",trigger:"hover",delay:300},{activator:a(()=>[$e(e.$slots,"default",{},void 0,!0)]),default:a(()=>[e.loading?(m(),I("div",GO,[n(i,{class:"avatar"}),S("div",null,[n(i,{type:"text"}),n(i,{type:"text"}),n(i,{type:"text"})])])):e.error?(m(),I("div",QO,h(e.error),1)):e.data?(m(),I("div",{key:2,class:"user-box",onClick:t[0]||(t[0]=Ie((...f)=>e.navigateToUser&&e.navigateToUser(...f),["stop"]))},[n(r,{"x-large":"",class:"avatar"},{default:a(()=>[e.avatarSrc?(m(),I("img",{key:0,src:e.avatarSrc,alt:e.data.first_name},null,8,XO)):(m(),F(s,{key:1,name:"person",outline:""}))]),_:1}),S("div",JO,[S("div",YO,h(e.userName(e.data)),1),S("div",{class:re(["status-role",e.data.status])},h(e.t(e.data.status))+" "+h(e.data.role.name),3),S("div",ZO,h(e.data.email),1)])])):N("",!0)]),_:3},8,["modelValue"])}var eP=q(HO,[["render",xO],["__scopeId","data-v-71abbf85"]]);const tP=K({props:{frontmatter:{type:Object,required:!0}},emits:["update:title","update:modularExtension"],setup(e,{emit:t}){const o=Yt(),l=ht("main-element"),d=E(()=>{var c;return(c=e.frontmatter)==null?void 0:c.pageClass});return _e(()=>e.frontmatter,()=>{t("update:title",e.frontmatter.title),t("update:modularExtension",e.frontmatter.modularExtension)},{immediate:!0}),rt(()=>{if(o.hash&&(l==null?void 0:l.value)){const c=document.querySelector(o.hash);c&&l.value.scrollTo({top:c.offsetTop-100})}}),{pageClass:d}}});function nP(e,t,o,l,d,c){return m(),I("div",{class:re(["md",e.pageClass])},[$e(e.$slots,"default",{},void 0,!0)],2)}var lP=q(tP,[["render",nP],["__scopeId","data-v-fee87ab6"]]);const aP={};function oP(e,t){return m(),F(zl,ct({name:"bounce",tag:"div"},e.$attrs),{default:a(()=>[$e(e.$slots,"default")]),_:3},16)}var iP=q(aP,[["render",oP]]);const sP={};function rP(e,t){return m(),F(zl,ct({name:"dialog",tag:"span"},e.$attrs),{default:a(()=>[$e(e.$slots,"default")]),_:3},16)}var dP=q(sP,[["render",rP]]);function uP(e="",t=!1,o){const l=t?"width":"height",d=`offset${na(l)}`;return{beforeEnter(i){o("beforeEnter"),i._parent=i.parentNode,i._initialStyle={transition:i.style.transition,visibility:i.style.visibility,overflow:i.style.overflow,[l]:i.style[l]}},enter(i){o("enter");const s=i._initialStyle;if(!s)return;const r=`${i[d]}px`;i.style.setProperty("transition","none","important"),i.style.visibility="hidden",i.style.visibility=s.visibility,i.style.overflow="hidden",i.style[l]="0",i.offsetHeight,i.style.transition=s.transition!==""?s.transition:`${l} var(--medium) var(--transition)`,e&&i._parent&&i._parent.classList.add(e),requestAnimationFrame(()=>{i.style[l]=r})},afterEnter(i){o("afterEnter"),c(i)},enterCancelled(i){o("enterCancelled"),c(i)},leave(i){o("leave"),i._initialStyle={transition:"",visibility:"",overflow:i.style.overflow,[l]:i.style[l]},i.style.overflow="hidden",i.style[l]=`${i[d]}px`,i.offsetHeight,requestAnimationFrame(()=>i.style[l]="0")},afterLeave(i){o("afterLeave"),e&&i._parent&&i._parent.classList.remove(e),c(i)},leaveCancelled(i){o("leaveCancelled"),e&&i._parent&&i._parent.classList.remove(e),c(i)}};function c(i){if(!i._initialStyle)return;const s=i._initialStyle[l];i.style.overflow=i._initialStyle.overflow,s!=null&&(i.style[l]=s),delete i._initialStyle}}const cP=K({props:{xAxis:{type:Boolean,default:!1},expandedParentClass:{type:String,default:""}},emits:["beforeEnter","enter","afterEnter","enterCancelled","leave","afterLeave","leaveCancelled"],setup(e,{emit:t}){return{methods:uP(e.expandedParentClass,e.xAxis,t)}}});function pP(e,t,o,l,d,c){return m(),F(qt,ct({name:"expand-transition",mode:"in-out"},Kl(e.methods)),{default:a(()=>[$e(e.$slots,"default")]),_:3},16)}var mP=q(cP,[["render",pP]]);const il={xSmall:{type:Boolean,default:!1},small:{type:Boolean,default:!1},large:{type:Boolean,default:!1},xLarge:{type:Boolean,default:!1}};function sl(e){return E(()=>e.xSmall?"x-small":e.small?"small":e.large?"large":e.xLarge?"x-large":null)}const fP=K({props:X({size:{type:Number,default:null},tile:{type:Boolean,default:!1}},il),setup(e){return{sizeClass:sl(e)}}});function _P(e,t,o,l,d,c){return m(),I("div",{class:re(["v-avatar",[{tile:e.tile},e.sizeClass]])},[$e(e.$slots,"default")],2)}var vP=q(fP,[["render",_P],["__scopeId","data-v-fee7284a"]]);const yP=K({props:{value:{type:[Boolean,String,Number],default:null},dot:{type:Boolean,default:!1},left:{type:Boolean,default:!1},bottom:{type:Boolean,default:!1},icon:{type:String,default:null},bordered:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1}}}),gP={key:1};function hP(e,t,o,l,d,c){const i=u("v-icon");return m(),I("div",{class:re(["v-badge",{dot:e.dot,bordered:e.bordered}])},[e.disabled?N("",!0):(m(),I("span",{key:0,class:re(["badge",{dot:e.dot,bordered:e.bordered,left:e.left,bottom:e.bottom}])},[e.icon?(m(),F(i,{key:0,name:e.icon,color:e.color,"x-small":""},null,8,["name","color"])):(m(),I("span",gP,h(e.value),1))],2)),$e(e.$slots,"default",{},void 0,!0)],2)}var bP=q(yP,[["render",hP],["__scopeId","data-v-5d3df5d4"]]);const $P=K({props:{items:{type:Array,default:()=>[]}},setup(){return{}}}),kP={class:"v-breadcrumb"},wP={key:2,class:"section-link"};function CP(e,t,o,l,d,c){const i=u("v-icon"),s=u("router-link");return m(),I("span",kP,[(m(!0),I(oe,null,he(e.items,(r,p)=>(m(),I("span",{key:r.name,class:re(["section",{disabled:r.disabled}])},[p>0?(m(),F(i,{key:0,name:"chevron_right",small:""})):N("",!0),r.disabled?(m(),I("span",wP,[r.icon?(m(),F(i,{key:0,name:r.icon},null,8,["name"])):N("",!0),O(" "+h(r.name),1)])):(m(),F(s,{key:1,to:r.to,class:"section-link"},{default:a(()=>[r.icon?(m(),F(i,{key:0,name:r.icon,small:""},null,8,["name"])):N("",!0),O(" "+h(r.name),1)]),_:2},1032,["to"]))],2))),128))])}var SP=q($P,[["render",CP],["__scopeId","data-v-884352f6"]]);const FP=K({props:X({autofocus:{type:Boolean,default:!1},kind:{type:String,default:"normal"},fullWidth:{type:Boolean,default:!1},rounded:{type:Boolean,default:!1},outlined:{type:Boolean,default:!1},icon:{type:Boolean,default:!1},type:{type:String,default:"button"},disabled:{type:Boolean,default:!1},loading:{type:Boolean,default:!1},to:{type:[String,Object],default:""},href:{type:String,default:void 0},active:{type:Boolean,default:void 0},exact:{type:Boolean,default:!1},query:{type:Boolean,default:!1},secondary:{type:Boolean,default:!1},warning:{type:Boolean,default:!1},danger:{type:Boolean,default:!1},value:{type:[Number,String],default:void 0},dashed:{type:Boolean,default:!1},tile:{type:Boolean,default:!1},align:{type:String,default:"center",validator:e=>["left","center","right"].includes(e)},download:{type:String,default:void 0}},il),emits:["click"],setup(e,{emit:t}){const o=Yt(),{route:l,isActive:d,isExactActive:c}=Qa(e),i=sl(e),s=E(()=>e.disabled?"button":Mt(e.href)?"a":e.to?"router-link":"button"),{active:r,toggle:p}=vn({value:e.value,group:"item-group"}),f=E(()=>{if(e.active!==void 0)return e.active;if(e.to){const _=!e.query||H.exports.isEqual(o.query,l.value.query);return e.exact?c.value&&_||r.value:d.value&&_||r.value}return!1});return{sizeClass:i,onClick:v,component:s,isActiveRoute:f,toggle:p};function v(_){e.loading!==!0&&(p(),t("click",_))}}}),VP={class:"spinner"};function EP(e,t,o,l,d,c){const i=u("v-progress-circular"),s=Ce("focus");return m(),I("div",{class:re(["v-button",{secondary:e.secondary,warning:e.warning,danger:e.danger,"full-width":e.fullWidth}])},[$e(e.$slots,"prepend-outer",{},void 0,!0),te((m(),F(Ue(e.component),{download:e.download,class:re(["button",[e.sizeClass,`align-${e.align}`,{active:e.isActiveRoute,rounded:e.rounded,icon:e.icon,outlined:e.outlined,loading:e.loading,dashed:e.dashed,tile:e.tile,"full-width":e.fullWidth},e.kind]]),type:e.type,disabled:e.disabled,to:e.to!==""?e.to:void 0,href:e.href,target:e.component==="a"?"_blank":void 0,rel:e.component==="a"?"noopener noreferrer":void 0,onClick:e.onClick},{default:a(()=>[S("span",{class:re(["content",{invisible:e.loading}])},[$e(e.$slots,"default",Qe(Ze({active:e.active,toggle:e.toggle})),void 0,!0)],2),S("div",VP,[e.loading?$e(e.$slots,"loading",{key:0},()=>[n(i,{"x-small":e.xSmall,small:e.small,indeterminate:""},null,8,["x-small","small"])],!0):N("",!0)])]),_:3},8,["download","class","type","disabled","to","href","target","rel","onClick"])),[[s,e.autofocus]]),$e(e.$slots,"append-outer",{},void 0,!0)],2)}var IP=q(FP,[["render",EP],["__scopeId","data-v-5bc5a435"]]);const AP={},DP={class:"v-card-actions"};function OP(e,t){return m(),I("div",DP,[$e(e.$slots,"default")])}var PP=q(AP,[["render",OP],["__scopeId","data-v-1c0af2d8"]]);const TP={},LP={class:"v-card-subtitle"};function jP(e,t){return m(),I("div",LP,[$e(e.$slots,"default",{},void 0,!0)])}var RP=q(TP,[["render",jP],["__scopeId","data-v-61d074a0"]]);const MP={},UP={class:"v-card-text"};function NP(e,t){return m(),I("div",UP,[$e(e.$slots,"default",{},void 0,!0)])}var BP=q(MP,[["render",NP],["__scopeId","data-v-641303f3"]]);const qP={},zP={class:"v-card-title type-label"};function KP(e,t){return m(),I("div",zP,[$e(e.$slots,"default",{},void 0,!0)])}var WP=q(qP,[["render",KP],["__scopeId","data-v-4ef4d67b"]]);const HP=K({props:{disabled:{type:Boolean,default:!1},tile:{type:Boolean,default:!1}},setup(){return{}}});function GP(e,t,o,l,d,c){return m(),I("div",{class:re(["v-card",{disabled:e.disabled,tile:e.tile}])},[$e(e.$slots,"default",{},void 0,!0)],2)}var QP=q(HP,[["render",GP],["__scopeId","data-v-7bf2718c"]]);const XP=K({props:{value:{type:String,default:null},modelValue:{type:[Boolean,Array],default:!1},label:{type:String,default:null},disabled:{type:Boolean,default:!1},indeterminate:{type:Boolean,default:!1},iconOn:{type:String,default:"check_box"},iconOff:{type:String,default:"check_box_outline_blank"},iconIndeterminate:{type:String,default:"indeterminate_check_box"},block:{type:Boolean,default:!1},customValue:{type:Boolean,default:!1},checked:{type:Boolean,default:null}},emits:["update:indeterminate","update:modelValue","update:value"],setup(e,{emit:t}){const o=Pe(e,"value",t),l=E(()=>e.checked!==null?e.checked:e.modelValue instanceof Array?e.modelValue.includes(e.value):e.modelValue===!0),d=E(()=>e.indeterminate===!0?e.iconIndeterminate:l.value?e.iconOn:e.iconOff);return{isChecked:l,toggleInput:c,icon:d,internalValue:o};function c(){if(e.indeterminate===!0&&t("update:indeterminate",!1),e.modelValue instanceof Array){const i=[...e.modelValue];e.modelValue.includes(e.value)===!1?i.push(e.value):i.splice(i.indexOf(e.value),1),t("update:modelValue",i)}else t("update:modelValue",!e.modelValue)}}}),JP={key:0,class:"prepend"},YP={class:"label type-text"},ZP={key:1,class:"append"};function xP(e,t,o,l,d,c){const i=u("v-icon");return m(),F(Ue(e.customValue?"div":"button"),{class:re(["v-checkbox",{checked:e.isChecked,indeterminate:e.indeterminate,block:e.block}]),type:"button",role:"checkbox","aria-pressed":e.isChecked?"true":"false",disabled:e.disabled,onClick:Ie(e.toggleInput,["stop"])},{default:a(()=>[e.$slots.prepend?(m(),I("div",JP,[$e(e.$slots,"prepend",{},void 0,!0)])):N("",!0),n(i,{class:"checkbox",name:e.icon,disabled:e.disabled},null,8,["name","disabled"]),S("span",YP,[e.customValue===!1?$e(e.$slots,"default",{key:0},()=>[O(h(e.label),1)],!0):te((m(),I("input",{key:1,"onUpdate:modelValue":t[0]||(t[0]=s=>e.internalValue=s),class:"custom-input"},null,512)),[[Wl,e.internalValue]])]),e.$slots.append?(m(),I("div",ZP,[$e(e.$slots,"append",{},void 0,!0)])):N("",!0)]),_:3},8,["aria-pressed","disabled","class","onClick"])}var eT=q(XP,[["render",xP],["__scopeId","data-v-231c4277"]]);const tT=K({name:"VCheckboxTreeCheckbox",props:{text:{type:String,required:!0},value:{type:[String,Number],required:!0},children:{type:Array,default:null},modelValue:{type:Array,default:()=>[]},valueCombining:{type:String,required:!0},checked:{type:Boolean,default:null},search:{type:String,default:null},hidden:{type:Boolean,default:!1},itemText:{type:String,default:"text"},itemValue:{type:String,default:"value"},itemChildren:{type:String,default:"children"},disabled:{type:Boolean,default:!1},showSelectionOnly:{type:Boolean,default:!1},parentValue:{type:[String,Number],default:null}},emits:["update:modelValue"],setup(e,{emit:t}){const o=E(()=>{let k=e.children||[];return e.search&&(k=k.filter(A=>A[e.itemText].toLowerCase().includes(e.search.toLowerCase())||V(A[e.itemChildren]))),e.showSelectionOnly&&(k=k.filter(A=>e.modelValue.includes(A[e.itemValue])||g(A[e.itemChildren])||e.modelValue.includes(e.parentValue)||e.modelValue.includes(e.value))),k.map(A=>A[e.itemValue]);function V(A){return A?A.some(R=>R[e.itemText].toLowerCase().includes(e.search.toLowerCase())||V(R[e.itemChildren])):!1}function g(A){return A?A.some(R=>e.modelValue.includes(R[e.itemValue])||g(R[e.itemChildren])):!1}}),l=E(()=>e.showSelectionOnly===!0&&e.modelValue.includes(e.value)?!0:o.value.length>0),d=E(()=>typeof e.search=="string"&&e.search.length>0),c=E(()=>{var k;return((k=e.children)==null?void 0:k.map(V=>V[e.itemValue]))||[]}),i=E({get(){return e.modelValue||[]},set(k){const V=H.exports.difference(k,e.modelValue),g=H.exports.difference(e.modelValue,k);if(e.children)switch(e.valueCombining){case"all":return f(k,{added:V,removed:g});case"branch":return v(k,{added:V,removed:g});case"leaf":return _(k,{added:V,removed:g});case"indeterminate":return y(k,{added:V,removed:g});case"exclusive":return b(k,{added:V,removed:g});default:return w(k)}w(k)}}),s=E(()=>e.checked!==null?e.checked:e.valueCombining==="all"?null:e.valueCombining==="leaf"?$("leaf").every(V=>e.modelValue.includes(V)):null),r=E(()=>{const k=$("all");if(e.valueCombining==="all"||e.valueCombining==="branch")return k.some(V=>e.modelValue.includes(V))&&e.modelValue.includes(e.value)===!1;if(e.valueCombining==="indeterminate")return k.some(V=>e.modelValue.includes(V))&&k.every(V=>e.modelValue.includes(V))===!1;if(e.valueCombining==="leaf"){const V=$("leaf");return V.some(g=>e.modelValue.includes(g))&&V.every(g=>e.modelValue.includes(g))===!1}return e.valueCombining==="exclusive"?k.some(V=>e.modelValue.includes(V)):null}),p=E(()=>e.checked!==null?e.checked:e.valueCombining==="all"?null:e.valueCombining==="branch"&&e.modelValue.includes(e.value)?!0:null);return{groupCheckedStateOverride:s,childrenCheckedStateOverride:p,treeValue:i,groupIndeterminateState:r,visibleChildrenValues:o,groupShown:l,groupOpen:d};function f(k,{added:V,removed:g}){const A=$("all");if((V==null?void 0:V[0])===e.value){const L=[...k.filter(M=>M!==e.value&&c.value.includes(M)===!1),...A,e.value];return w(L)}if((g==null?void 0:g[0])===e.value){const L=k.filter(M=>M!==e.value&&A.includes(M)===!1);return w(L)}if(c.value.every(L=>k.includes(L))){const L=[...k.filter(M=>M!==e.value&&A.includes(M)===!1),...A,e.value];return w(L)}const R=k.filter(L=>L!==e.value);return w(R)}function v(k,{added:V,removed:g}){var R;const A=$("all");if((e.modelValue.includes(e.value)||e.checked===!0)&&V&&V.length===1&&c.value.includes(V[0])){const L=[...k.filter(M=>M!==e.value&&M!==V[0]),...c.value.filter(M=>M!==V[0])];return w(L)}if(e.modelValue.includes(e.value)&&A.some(L=>k.includes(L))){const L=e.children.find(T=>{const U=$("all",T[e.itemChildren]);return k.some(B=>U.includes(B))===!0}),M=[...k.filter(T=>T!==e.value),...(e.children||[]).filter(T=>T[e.itemChildren]?T[e.itemValue]!==(L==null?void 0:L[e.itemValue]):!0).map(T=>T[e.itemValue]),...((R=L==null?void 0:L[e.itemChildren])!=null?R:[]).filter(T=>{const U=$("all",T[e.itemChildren]);return k.some(B=>U.includes(B))===!1}).map(T=>T[e.itemValue])];return w(M)}if(V==null?void 0:V.includes(e.value)){const L=[...k.filter(M=>M!==e.value&&A.includes(M)===!1),e.value];return w(L)}if(g==null?void 0:g.includes(e.value)){const L=k.filter(M=>M!==e.value&&A.includes(M)===!1);return w(L)}if(c.value.every(L=>k.includes(L))){const L=[...k.filter(M=>M!==e.value&&A.includes(M)===!1),e.value];return w(L)}return w(k)}function _(k,{added:V}){const g=$("all"),A=$("leaf");if(V==null?void 0:V.includes(e.value))if(A.every(R=>k.includes(R))){const R=k.filter(L=>L!==e.value&&g.includes(L)===!1);return w(R)}else{const R=[...k.filter(L=>L!==e.value&&g.includes(L)===!1),...A];return w(R)}return w(k)}function y(k,{added:V,removed:g}){const A=$("all");if((V==null?void 0:V[0])===e.value){const R=[...k.filter(L=>L!==e.value&&c.value.includes(L)===!1),...A,e.value];return w(R)}if((g==null?void 0:g[0])===e.value){const R=k.filter(L=>L!==e.value&&A.includes(L)===!1);return w(R)}if(c.value.some(R=>k.includes(R))){const R=[...k.filter(L=>L!==e.value),e.value];return w(R)}return c.value.every(R=>k.includes(R)===!1)?w(k.filter(R=>R!==e.value)):w(k)}function b(k,{added:V}){const g=$("all");if((V==null?void 0:V[0])===e.value){const A=[...k.filter(R=>R!==e.value&&g.includes(R)===!1),e.value];return w(A)}if(g.some(A=>k.includes(A))){const A=[...k.filter(R=>R!==e.value)];return w(A)}return w(k)}function w(k){t("update:modelValue",k)}function $(k,V=e.children){const g=[];return A(V),g;function A(R){if(!!R)for(const L of R)k==="all"&&g.push(L[e.itemValue]),k==="branch"&&L[e.itemChildren]&&g.push(L[e.itemValue]),k==="leaf"&&!L[e.itemChildren]&&g.push(L[e.itemValue]),L[e.itemChildren]&&A(L[e.itemChildren])}}}});function nT(e,t,o,l,d,c){const i=u("v-highlight"),s=u("v-checkbox"),r=u("v-checkbox-tree-checkbox",!0),p=u("v-list-group"),f=u("v-list-item");return e.children?te((m(),F(p,{key:0,value:e.value,open:e.groupOpen,"arrow-placement":"before"},{activator:a(()=>[n(s,{modelValue:e.treeValue,"onUpdate:modelValue":t[0]||(t[0]=v=>e.treeValue=v),indeterminate:e.groupIndeterminateState,checked:e.groupCheckedStateOverride,label:e.text,value:e.value,disabled:e.disabled},{default:a(()=>[n(i,{text:e.text,query:e.search},null,8,["text","query"])]),_:1},8,["modelValue","indeterminate","checked","label","value","disabled"])]),default:a(()=>[(m(!0),I(oe,null,he(e.children,v=>(m(),F(r,{key:v[e.itemValue],modelValue:e.treeValue,"onUpdate:modelValue":t[1]||(t[1]=_=>e.treeValue=_),"value-combining":e.valueCombining,checked:e.childrenCheckedStateOverride,hidden:e.visibleChildrenValues.includes(v[e.itemValue])===!1,search:e.search,"item-text":e.itemText,"item-value":e.itemValue,"item-children":e.itemChildren,text:v[e.itemText],value:v[e.itemValue],children:v[e.itemChildren],disabled:e.disabled,"show-selection-only":e.showSelectionOnly,"parent-value":e.value},null,8,["modelValue","value-combining","checked","hidden","search","item-text","item-value","item-children","text","value","children","disabled","show-selection-only","parent-value"]))),128))]),_:1},8,["value","open"])),[[Et,e.groupShown]]):e.children?N("",!0):te((m(),F(f,{key:1,class:"item"},{default:a(()=>[n(s,{modelValue:e.treeValue,"onUpdate:modelValue":t[2]||(t[2]=v=>e.treeValue=v),disabled:e.disabled,checked:e.checked,label:e.text,value:e.value},{default:a(()=>[n(i,{text:e.text,query:e.search},null,8,["text","query"])]),_:1},8,["modelValue","disabled","checked","label","value"])]),_:1},512)),[[Et,!e.hidden]])}var lT=q(tT,[["render",nT],["__scopeId","data-v-113b2a91"]]);const aT=K({name:"VCheckboxTree",components:{VCheckboxTreeCheckbox:lT},props:{choices:{type:Array,default:()=>[]},modelValue:{type:Array,default:null},valueCombining:{type:String,default:"all"},search:{type:String,default:null},itemText:{type:String,default:"text"},itemValue:{type:String,default:"value"},itemChildren:{type:String,default:"children"},disabled:{type:Boolean,default:!1},showSelectionOnly:{type:Boolean,default:!1}},emits:["update:modelValue","group-toggle"],setup(e,{emit:t}){const o=E({get(){return e.modelValue||[]},set(d){t("update:modelValue",d)}}),l=D([]);return{value:o,openSelection:l}}});function oT(e,t,o,l,d,c){const i=u("v-checkbox-tree-checkbox"),s=u("v-list");return m(),F(s,{modelValue:e.openSelection,"onUpdate:modelValue":t[1]||(t[1]=r=>e.openSelection=r),mandatory:!1,onToggle:t[2]||(t[2]=r=>e.$emit("group-toggle",r))},{default:a(()=>[(m(!0),I(oe,null,he(e.choices,r=>(m(),F(i,{key:r[e.itemValue],modelValue:e.value,"onUpdate:modelValue":t[0]||(t[0]=p=>e.value=p),"value-combining":e.valueCombining,search:e.search,"item-text":e.itemText,"item-value":e.itemValue,"item-children":e.itemChildren,text:r[e.itemText],value:r[e.itemValue],children:r[e.itemChildren],disabled:e.disabled,"show-selection-only":e.showSelectionOnly},null,8,["modelValue","value-combining","search","item-text","item-value","item-children","text","value","children","disabled","show-selection-only"]))),128))]),_:1},8,["modelValue"])}var iT=q(aT,[["render",oT]]);const sT=K({props:X({active:{type:Boolean,default:null},close:{type:Boolean,default:!1},closeIcon:{type:String,default:"close"},outlined:{type:Boolean,default:!1},label:{type:Boolean,default:!0},disabled:{type:Boolean,default:!1}},il),emits:["update:active","click","close"],setup(e,{emit:t}){const o=D(!0),l=E({get:()=>e.active!==null?e.active:o.value,set:s=>{t("update:active",s),o.value=s}});return{sizeClass:sl(e),internalActive:l,onClick:c,onCloseClick:i};function c(s){e.disabled||t("click",s)}function i(s){e.disabled||(l.value=!l.value,t("close",s))}}}),rT={class:"chip-content"};function dT(e,t,o,l,d,c){const i=u("v-icon");return e.internalActive?(m(),I("span",{key:0,class:re(["v-chip",[e.sizeClass,{outlined:e.outlined,label:e.label,disabled:e.disabled,close:e.close}]]),onClick:t[1]||(t[1]=(...s)=>e.onClick&&e.onClick(...s))},[S("span",rT,[$e(e.$slots,"default",{},void 0,!0),e.close?(m(),I("span",{key:0,class:re(["close-outline",{disabled:e.disabled}]),onClick:t[0]||(t[0]=Ie((...s)=>e.onCloseClick&&e.onCloseClick(...s),["stop"]))},[n(i,{class:"close",name:e.closeIcon,"x-small":""},null,8,["name"])],2)):N("",!0)])],2)):N("",!0)}var uT=q(sT,[["render",dT],["__scopeId","data-v-d55b27c0"]]);const cT=K({props:{modelValue:{type:Boolean,default:void 0},label:{type:String,default:We.global.t("toggle")},startOpen:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1}},emits:["update:modelValue"],setup(e,{emit:t}){const o=D(e.startOpen),l=E({get(){return e.modelValue!==void 0?e.modelValue:o.value},set(s){o.value=s,t("update:modelValue",s)}});return{internalActive:l,enable:d,disable:c,toggle:i};function d(){l.value=!0}function c(){l.value=!1}function i(){l.value=!l.value}}}),pT={key:0};function mT(e,t,o,l,d,c){const i=u("v-icon"),s=u("v-divider"),r=u("transition-expand");return m(),I("div",{class:re(["v-detail",{disabled:e.disabled}])},[$e(e.$slots,"activator",Qe(Ze({active:e.internalActive,enable:e.enable,disable:e.disable,toggle:e.toggle})),()=>[n(s,{onClick:t[0]||(t[0]=p=>e.internalActive=!e.internalActive)},{default:a(()=>[e.disabled?N("",!0):(m(),F(i,{key:0,name:e.internalActive?"expand_more":"chevron_right",small:""},null,8,["name"])),$e(e.$slots,"title",{},()=>[O(h(e.label),1)],!0)]),_:3})],!0),n(r,null,{default:a(()=>[e.internalActive?(m(),I("div",pT,[$e(e.$slots,"default",{},void 0,!0)])):N("",!0)]),_:3})],2)}var fT=q(cT,[["render",mT],["__scopeId","data-v-e0ddb8ec"]]);const _T=K({props:{modelValue:{type:Boolean,default:void 0},persistent:{type:Boolean,default:!1},placement:{type:String,default:"center",validator:e=>["center","right"].includes(e)}},emits:["esc","update:modelValue"],setup(e,{emit:t}){tt("escape",(p,f)=>{c.value&&(t("esc"),f())});const o=D(!1),l=D(null),d=E(()=>bt()),c=E({get(){return e.modelValue!==void 0?e.modelValue:o.value},set(p){o.value=p,t("update:modelValue",p)}}),i=e2();return{emitToggle:s,className:l,nudge:r,leave:i,id:d,internalActive:c};function s(){e.persistent===!1?t("update:modelValue",!e.modelValue):r()}function r(){l.value="nudge",setTimeout(()=>{l.value=null},200)}}}),vT={class:"v-dialog"};function yT(e,t,o,l,d,c){const i=u("v-overlay"),s=u("transition-dialog");return m(),I("div",vT,[$e(e.$slots,"activator",Qe(Ze({on:()=>e.internalActive=!0}))),(m(),F(ql,{to:"#dialog-outlet"},[n(s,{onAfterLeave:e.leave},{default:a(()=>[e.internalActive?(m(),I("div",{key:0,class:re(["container",[e.className,e.placement]])},[n(i,{active:"",absolute:"",onClick:e.emitToggle},null,8,["onClick"]),$e(e.$slots,"default")],2)):N("",!0)]),_:3},8,["onAfterLeave"])]))])}var gT=q(_T,[["render",yT],["__scopeId","data-v-76480f74"]]);const hT=K({props:{vertical:{type:Boolean,default:!1},inlineTitle:{type:Boolean,default:!0},large:{type:Boolean,default:!1}}}),bT={key:0,class:"wrapper"},$T={key:0,class:"type-text"},kT=["aria-orientation"];function wT(e,t,o,l,d,c){return m(),I("div",{class:re(["v-divider",{vertical:e.vertical,inlineTitle:e.inlineTitle,large:e.large}])},[e.$slots.icon||e.$slots.default?(m(),I("span",bT,[$e(e.$slots,"icon",{class:"icon"}),!e.vertical&&e.$slots.default?(m(),I("span",$T,[$e(e.$slots,"default")])):N("",!0)])):N("",!0),S("hr",{role:"separator","aria-orientation":e.vertical?"vertical":"horizontal"},null,8,kT)],2)}var CT=q(hT,[["render",wT],["__scopeId","data-v-70aa2cf8"]]);const ST=K({props:{showSidebarToggle:{type:Boolean,default:!1}},emits:["toggle:sidebar"],setup(){return{active:D(!1)}}}),FT={class:"action-buttons"};function VT(e,t,o,l,d,c){const i=u("v-icon"),s=u("v-button");return m(),I("div",{class:re(["actions",{active:e.active}])},[n(s,{class:"expand",icon:"",rounded:"",secondary:"",outlined:"",onClick:t[0]||(t[0]=r=>e.active=!e.active)},{default:a(()=>[n(i,{name:"arrow_left"})]),_:1}),S("div",FT,[e.showSidebarToggle?(m(),F(s,{key:0,class:"sidebar-toggle",icon:"",rounded:"",secondary:"",outlined:"",onClick:t[1]||(t[1]=r=>e.$emit("toggle:sidebar"))},{default:a(()=>[n(i,{name:"info",outline:""})]),_:1})):N("",!0),$e(e.$slots,"default",{},void 0,!0)])],2)}var ET=q(ST,[["render",VT],["__scopeId","data-v-352239c0"]]);const IT=K({components:{HeaderBarActions:ET},props:{title:{type:String,default:null},showSidebarToggle:{type:Boolean,default:!1},primaryActionIcon:{type:String,default:"menu"},small:{type:Boolean,default:!1}},emits:["primary","toggle:sidebar"],setup(){const e=D(),t=D(!1),o=new IntersectionObserver(([l])=>{t.value=l.boundingClientRect.y===-1},{threshold:[1]});return rt(()=>{o.observe(e.value)}),Ct(()=>{o.disconnect()}),{headerEl:e,collapsed:t}}}),AT=e=>(He("data-v-4b3dd21a"),e=e(),Ge(),e),DT={key:0,class:"title-outer-prepend"},OT={class:"headline"},PT={class:"title"},TT={class:"type-title"},LT=AT(()=>S("div",{class:"spacer"},null,-1));function jT(e,t,o,l,d,c){const i=u("v-icon"),s=u("v-button"),r=u("header-bar-actions");return m(),I("header",{ref:"headerEl",class:re(["header-bar",{collapsed:e.collapsed,small:e.small}])},[n(s,{secondary:"",class:"nav-toggle",icon:"",rounded:"",onClick:t[0]||(t[0]=p=>e.$emit("primary"))},{default:a(()=>[n(i,{name:e.primaryActionIcon},null,8,["name"])]),_:1}),e.$slots["title-outer:prepend"]?(m(),I("div",DT,[$e(e.$slots,"title-outer:prepend",{},void 0,!0)])):N("",!0),S("div",{class:re(["title-container",{full:!e.$slots["title-outer:append"]}])},[S("div",OT,[$e(e.$slots,"headline",{},void 0,!0)]),S("div",PT,[$e(e.$slots,"title",{},()=>[$e(e.$slots,"title:prepend",{},void 0,!0),S("h1",TT,h(e.title),1),$e(e.$slots,"title:append",{},void 0,!0)],!0)]),$e(e.$slots,"title-outer:append",{},void 0,!0)],2),LT,$e(e.$slots,"actions:prepend",{},void 0,!0),n(r,{"show-sidebar-toggle":e.showSidebarToggle,"onToggle:sidebar":t[1]||(t[1]=p=>e.$emit("toggle:sidebar"))},{default:a(()=>[$e(e.$slots,"actions",{},void 0,!0)]),_:3},8,["show-sidebar-toggle"]),$e(e.$slots,"actions:append",{},void 0,!0)],2)}var RT=q(IT,[["render",jT],["__scopeId","data-v-4b3dd21a"]]);const MT=K({components:{HeaderBar:RT},props:{title:{type:String,required:!0},subtitle:{type:String,default:null},modelValue:{type:Boolean,default:void 0},persistent:{type:Boolean,default:!1},icon:{type:String,default:"box"},sidebarLabel:{type:String,default:We.global.t("sidebar")},cancelable:{type:Boolean,default:!0}},emits:["cancel","update:modelValue"],setup(e,{emit:t}){const{t:o}=ae(),l=D(!1),d=D();Jt("main-element",d);const c=E({get(){return e.modelValue===void 0?l.value:e.modelValue},set(i){l.value=i,t("update:modelValue",i)}});return{t:o,internalActive:c,mainEl:d}}}),UT={class:"v-drawer"},NT={class:"content"},BT={key:1,class:"sidebar"},qT={ref:"mainEl",class:"main"},zT={key:0,class:"subtitle"};function KT(e,t,o,l,d,c){const i=u("v-icon"),s=u("v-button"),r=u("v-overlay"),p=u("header-bar"),f=u("v-detail"),v=u("v-dialog"),_=Ce("tooltip");return m(),F(v,{modelValue:e.internalActive,"onUpdate:modelValue":t[3]||(t[3]=y=>e.internalActive=y),persistent:e.persistent,placement:"right",onEsc:t[4]||(t[4]=y=>e.$emit("cancel"))},{activator:a(({on:y})=>[$e(e.$slots,"activator",Qe(Ze({on:y})),void 0,!0)]),default:a(()=>[S("article",UT,[e.cancelable?te((m(),F(s,{key:0,class:"cancel",icon:"",rounded:"",secondary:"",onClick:t[0]||(t[0]=y=>e.$emit("cancel"))},{default:a(()=>[n(i,{name:"close"})]),_:1},512)),[[_,e.t("cancel"),void 0,{bottom:!0}]]):N("",!0),S("div",NT,[e.$slots.sidebar?(m(),F(r,{key:0,absolute:"",onClick:t[1]||(t[1]=y=>e.sidebarActive=!1)})):N("",!0),e.$slots.sidebar?(m(),I("nav",BT,[$e(e.$slots,"sidebar",{},void 0,!0)])):N("",!0),S("main",qT,[n(p,{title:e.title,"primary-action-icon":"close",onPrimary:t[2]||(t[2]=y=>e.$emit("cancel"))},{title:a(()=>[$e(e.$slots,"title",{},void 0,!0)]),headline:a(()=>[$e(e.$slots,"subtitle",{},()=>[e.subtitle?(m(),I("p",zT,h(e.subtitle),1)):N("",!0)],!0)]),"title-outer:prepend":a(()=>[$e(e.$slots,"title-outer:prepend",{},()=>[n(s,{class:"header-icon",rounded:"",icon:"",secondary:"",disabled:""},{default:a(()=>[n(i,{name:e.icon},null,8,["name"])]),_:1})],!0)]),"actions:prepend":a(()=>[$e(e.$slots,"actions:prepend",{},void 0,!0)]),actions:a(()=>[$e(e.$slots,"actions",{},void 0,!0)]),"title:append":a(()=>[$e(e.$slots,"header:append",{},void 0,!0)]),_:3},8,["title"]),e.$slots.sidebar?(m(),F(f,{key:0,class:"mobile-sidebar",label:e.sidebarLabel},{default:a(()=>[S("nav",null,[$e(e.$slots,"sidebar",{},void 0,!0)])]),_:3},8,["label"])):N("",!0),$e(e.$slots,"default",{},void 0,!0)],512)])])]),_:3},8,["modelValue","persistent"])}var WT=q(MT,[["render",KT],["__scopeId","data-v-5ce4176c"]]);const HT=K({props:{error:{type:[Object,Error],required:!0}},setup(e){const{t}=ae(),o=E(()=>{var s,r,p,f,v,_,y,b;return((_=(v=(f=(p=(r=(s=e.error)==null?void 0:s.response)==null?void 0:r.data)==null?void 0:p.errors)==null?void 0:f[0])==null?void 0:v.extensions)==null?void 0:_.code)||((b=(y=e.error)==null?void 0:y.extensions)==null?void 0:b.code)||"UNKNOWN"}),l=E(()=>{var r,p,f,v,_,y;let s=((_=(v=(f=(p=(r=e.error)==null?void 0:r.response)==null?void 0:p.data)==null?void 0:f.errors)==null?void 0:v[0])==null?void 0:_.message)||((y=e.error)==null?void 0:y.message);return s.length>200&&(s=s.substring(0,197)+"..."),s}),d=D(!1),c=E(()=>{var s;return!!((s=navigator.clipboard)==null?void 0:s.writeText)});return{t,code:o,copyError:i,showCopy:c,copied:d,message:l};async function i(){var r,p;const s=((p=(r=e.error)==null?void 0:r.response)==null?void 0:p.data)||e.error;await navigator.clipboard.writeText(JSON.stringify(s,H.exports.isPlainObject(s)?null:Object.getOwnPropertyNames(s),2)),d.value=!0}}}),GT={class:"v-error selectable"};function QT(e,t,o,l,d,c){const i=u("v-icon"),s=Ce("tooltip");return m(),I("div",GT,[S("output",null,"["+h(e.code)+"] "+h(e.message),1),e.showCopy?te((m(),F(i,{key:0,small:"",class:"copy-error",name:e.copied?"check":"content_copy",clickable:"",onClick:e.copyError},null,8,["name","onClick"])),[[s,e.t("copy_details")]]):N("",!0)])}var XT=q(HT,[["render",QT],["__scopeId","data-v-7ea421c6"]]);const JT=K({props:{items:{type:Array,required:!0},modelValue:{type:[String,Number],default:null},disabled:{type:Boolean,default:!1}},emits:["update:modelValue"],setup(e,{emit:t}){const o=E(()=>e.modelValue===null?e.items:e.items.filter(d=>d.value===e.modelValue));return{toggle:l,visibleItems:o};function l(d){e.disabled!==!0&&(e.modelValue===d.value?t("update:modelValue",null):t("update:modelValue",d.value))}}}),YT={class:"v-fancy-select"},ZT=["onClick"],xT={class:"icon"},eL={class:"content"},tL={class:"text"},nL={class:"description"};function lL(e,t,o,l,d,c){const i=u("v-divider"),s=u("v-icon");return m(),I("div",YT,[n(zl,{tag:"div",name:"option"},{default:a(()=>[(m(!0),I(oe,null,he(e.visibleItems,(r,p)=>(m(),I(oe,{key:p},[r.divider===!0?(m(),F(i,{key:0})):(m(),I("div",{key:1,class:re(["v-fancy-select-option",{active:r.value===e.modelValue,disabled:e.disabled}]),style:Ke({"--index":p}),onClick:f=>e.toggle(r)},[S("div",xT,[n(s,{name:r.icon},null,8,["name"])]),S("div",eL,[S("div",tL,h(r.text),1),S("div",nL,h(r.description),1)]),e.modelValue===r.value&&e.disabled===!1?(m(),F(s,{key:0,name:"cancel",onClick:Ie(f=>e.toggle(r),["stop"])},null,8,["onClick"])):r.iconRight?(m(),F(s,{key:1,class:"icon-right",name:r.iconRight},null,8,["name"])):N("",!0)],14,ZT))],64))),128))]),_:1})])}var aL=q(JT,[["render",lL],["__scopeId","data-v-70a5597b"]]);const oL=K({name:"FieldListItem",props:{field:{type:Object,required:!0},depth:{type:Number,default:void 0}},emits:["add"],setup(){return{formatTitle:Je}}});function iL(e,t,o,l,d,c){const i=u("v-list-item-content"),s=u("v-list-item"),r=u("field-list-item",!0),p=u("v-list-group");return e.field.children===void 0||e.depth===0?(m(),F(s,{key:0,disabled:e.field.disabled,clickable:"",onClick:t[0]||(t[0]=f=>e.$emit("add",e.field.key))},{default:a(()=>[n(i,null,{default:a(()=>[O(h(e.field.name||e.formatTitle(e.field.field)),1)]),_:1})]),_:1},8,["disabled"])):(m(),F(p,{key:1,value:e.field.key,clickable:"",onClick:t[2]||(t[2]=f=>e.$emit("add",e.field.key))},{activator:a(()=>[O(h(e.field.name||e.formatTitle(e.field.field)),1)]),default:a(()=>[(m(!0),I(oe,null,he(e.field.children,f=>(m(),F(r,{key:f.key,field:f,depth:e.depth-1,onAdd:t[1]||(t[1]=v=>e.$emit("add",v))},null,8,["field","depth"]))),128))]),_:1},8,["value"]))}var xo=q(oL,[["render",iL]]);function rl(e,t,o=()=>!0){const l=ze(),d=_t(),c=D({});e.value&&(c.value=p(e.value,"any")),_e(e,()=>{e.value&&(c.value=p(e.value,"any"))});const i=D([]);Object.values(c.value).forEach($=>{v($.field)});const s=E(()=>r(c.value));return{tree:c,treeList:s,loadFieldRelations:v,getField:f,treeToList:r,visitedRelations:i};function r($,k){return Object.values($).map(V=>{const g=V.type==="m2a"?`${V.field}:${V.collection}`:V.field,A=k?`${k}.${g}`:g,R=r(V.children,A);return{name:V.name,key:A,field:g,children:R.length>0?R:void 0,selectable:!R||R.length===0}})}function p($,k){var g;return[...l.getFieldsForCollection($),...((g=t==null?void 0:t.value)==null?void 0:g.fields.filter(A=>A.collection===$))||[]].filter(A=>{var L,M,T,U;return((M=(L=A.meta)==null?void 0:L.special)==null?void 0:M.includes("alias"))!==!0&&((U=(T=A.meta)==null?void 0:T.special)==null?void 0:U.includes("no-data"))!==!0}).filter(o).reduce((A,R)=>{if(k==="m2a"){const L=`${R.field}:${$}`;A[L]={field:R.field,name:`${R.name} (${R.collection})`,collection:R.collection,type:k,children:{}}}else A[R.field]={field:R.field,name:R.name,collection:R.collection,type:k,children:{}};return A},{})}function f($){const k=$.split(".");function V(g,A){const R=g.shift(),L=A.find(M=>M.field===R);if(!(L===void 0||L.children===void 0))return g.length===0?L:V(g,L.children)}return V(k,s.value)}function v($,k=0){var g;if(_($),k===0)return;const V=f($);!V||(g=V.children)==null||g.forEach(A=>v(A.key,k-1))}function _($){var M,T;const k=$.replaceAll(".",".children."),V=H.exports.get(c.value,k);if(V===void 0||Object.keys(V.children).length>0)return;const g=[...d.getRelationsForField(V.collection,V.field),...((M=t==null?void 0:t.value)==null?void 0:M.relations)||[]],A=b(g,V.collection,V.field);if(g.length===0||!A||!A.meta||y(A))return;const R=cr({relation:A,collection:V.collection,field:V.field});if(A.meta===void 0)return;let L={};R==="o2m"?L=p(A.meta.many_collection,R):R==="m2o"?L=p(A.meta.one_collection,R):R==="m2a"&&(L=((T=A.meta.one_allowed_collections)==null?void 0:T.reduce((U,B)=>X(X({},U),p(B,R)),{}))||{}),Object.values(L).forEach(U=>{const B=[V.collection,V.field,U.collection,U.field];i.value.findIndex(W=>w(W,B))!==-1===!1&&i.value.push(B)}),H.exports.set(c.value,`${k}.children`,L)}function y($){if(!$.meta)return;if($.meta.one_collection_field!==null&&$.meta.one_allowed_collections!==null)return!1;const k=[$.meta.many_collection,$.meta.one_collection,$.meta.many_field,$.meta.one_field||""];return i.value.find(V=>w(k,V))!==void 0}function b($,k,V){return $.find(g=>{var A;return g.collection===k&&g.field===V||g.related_collection===k&&((A=g.meta)==null?void 0:A.one_field)===V})}function w($,k){for(const V of $)if(k.includes(V)===!1)return!1;return!0}}const sL=K({components:{FieldListItem:xo,Draggable:wt},props:{disabled:{type:Boolean,default:!1},modelValue:{type:Array,default:null},collection:{type:String,required:!0},depth:{type:Number,default:void 0},inject:{type:Object,default:()=>({fields:[],collections:[],relations:[]})}},emits:["update:modelValue"],setup(e,{emit:t}){const{t:o}=ae(),l=D(!1),{collection:d,inject:c}=Re(e),{info:i}=at(d),{treeList:s,loadFieldRelations:r}=rl(d,c),p=E({get(){return e.modelValue||[]},set($){t("update:modelValue",$)}}),f=E({get(){return p.value.map($=>{var k;return{field:$,name:(k=_(s.value,$.split(".")))==null?void 0:k.name}})},set($){p.value=$.map(k=>k.field)}}),v=E(()=>y(s.value));return{t:o,menuActive:l,addField:w,removeField:b,availableFields:v,selectedFields:f,hideDragImage:Ut,treeList:s,loadFieldRelations:r,collectionInfo:i};function _($,k){if($===void 0)return;const V=$.find(g=>g.field===k[0]);if(V!==void 0)return k.length===1?V:_(V.children,k.slice(1))}function y($,k=""){if($===void 0)return;const V=$.map(g=>({name:g.name,field:g.field,key:g.key,disabled:p.value.includes(k+g.field),children:y(g.children,k+g.field+".")}));return V.length===0?void 0:V}function b($){p.value=p.value.filter(k=>k!==$)}function w($){const k=p.value;k.push($),p.value=[...new Set(k)]}}});function rL(e,t,o,l,d,c){const i=u("v-notice"),s=u("v-chip"),r=u("v-icon"),p=u("v-button"),f=u("field-list-item"),v=u("v-list"),_=u("v-menu"),y=u("draggable"),b=Ce("tooltip");return!e.availableFields||e.availableFields.length===0?(m(),F(i,{key:0},{default:a(()=>[O(h(e.t("no_fields_in_collection",{collection:e.collectionInfo&&e.collectionInfo.name||e.collection})),1)]),_:1})):(m(),F(y,{key:1,modelValue:e.selectedFields,"onUpdate:modelValue":t[2]||(t[2]=w=>e.selectedFields=w),"force-fallback":!0,"item-key":"field",draggable:".draggable","set-data":e.hideDragImage,class:"v-field-select"},{item:a(({element:w})=>[te(n(s,{clickable:"",class:"field draggable",onClick:$=>e.removeField(w.field)},{default:a(()=>[O(h(w.name),1)]),_:2},1032,["onClick"]),[[b,w.field]])]),footer:a(()=>[n(_,{modelValue:e.menuActive,"onUpdate:modelValue":t[1]||(t[1]=w=>e.menuActive=w),"show-arrow":"",class:"add",placement:"bottom"},{activator:a(({toggle:w})=>[n(p,{small:"",onClick:w},{default:a(()=>[O(h(e.t("add_field"))+" ",1),n(r,{small:"",name:"add"})]),_:2},1032,["onClick"])]),default:a(()=>[n(v,{mandatory:!1,onToggle:t[0]||(t[0]=w=>e.loadFieldRelations(w.value,1))},{default:a(()=>[(m(!0),I(oe,null,he(e.availableFields,w=>(m(),F(f,{key:w.key,field:w,depth:e.depth,onAdd:e.addField},null,8,["field","depth","onAdd"]))),128))]),_:1})]),_:1},8,["modelValue"])]),_:1},8,["modelValue","set-data"]))}var dL=q(sL,[["render",rL],["__scopeId","data-v-f93179d6"]]);const uL=K({components:{FieldListItem:xo},props:{disabled:{type:Boolean,default:!1},modelValue:{type:String,default:null},nullable:{type:Boolean,default:!0},collection:{type:String,required:!0},depth:{type:Number,default:void 0},placeholder:{type:String,default:null},inject:{type:Object,default:null}},emits:["update:modelValue"],setup(e,{emit:t}){const o=D(null),l=D(!1),{collection:d,inject:c}=Re(e),{treeList:i,loadFieldRelations:s}=rl(d,c);return _e(()=>e.modelValue,k,{immediate:!0}),rt(()=>{o.value&&(o.value.addEventListener("selectstart",v),k())}),Ct(()=>{o.value&&o.value.removeEventListener("selectstart",v)}),{menuActive:l,treeList:i,addField:_,onInput:r,contentEl:o,onClick:p,loadFieldRelations:s,onKeyDown:f};function r(){if(!o.value)return;const V=$();t("update:modelValue",V)}function p(V){var M;const g=V.target;if(g.tagName.toLowerCase()!=="button")return;const A=g.dataset.field;t("update:modelValue",e.modelValue.replace(`{{${A}}}`,""));const R=g.previousElementSibling,L=g.nextElementSibling;!R||!L||!(R instanceof HTMLElement)||!(L instanceof HTMLElement)||(g.remove(),b(R,L),(M=window.getSelection())==null||M.removeAllRanges(),r())}function f(V){var g;(V.key==="{"||V.key==="}")&&(V.preventDefault(),l.value=!0),((g=o.value)==null?void 0:g.innerHTML)===""&&(o.value.innerHTML='<span class="text"></span>')}function v(){var R;if(!o.value)return;const V=window.getSelection();if(!V||V.rangeCount<=0)return;const g=V.getRangeAt(0);if(!g)return;const A=g.startContainer;if(!(A instanceof HTMLElement&&A.classList.contains("text"))&&!((R=A.parentElement)==null?void 0:R.classList.contains("text"))){V.removeAllRanges();const L=new Range;let M=null;for(let T=0;T<o.value.childNodes.length||!M;T++){const U=o.value.children[T];U.classList.contains("text")&&(M=U)}M||(M=document.createElement("span"),M.classList.add("text"),o.value.appendChild(M)),L.setStart(M,0),V.addRange(L)}}function _(V){var M,T,U,B;if(!o.value)return;const g=y(i.value,V.split("."));if(!g)return;const A=document.createElement("button");if(A.dataset.field=V,A.setAttribute("contenteditable","false"),A.innerText=String(g.name),((M=window.getSelection())==null?void 0:M.rangeCount)==0){const z=document.createRange();z.selectNodeContents(o.value.children[0]),(T=window.getSelection())==null||T.addRange(z)}const R=(U=window.getSelection())==null?void 0:U.getRangeAt(0);if(!R)return;R.deleteContents();const L=w();if(L)o.value.insertBefore(A,L),(B=window.getSelection())==null||B.removeAllRanges();else{o.value.appendChild(A);const z=document.createElement("span");z.classList.add("text"),o.value.appendChild(z)}r()}function y(V,g){if(V===void 0)return;const A=V.find(R=>R.field===g[0]);if(A!==void 0)return g.length===1?A:y(A.children,g.slice(1))}function b(V,g){V.innerText+=g.innerText,g.remove()}function w(){var U,B,z,W;const V=(U=window.getSelection())==null?void 0:U.getRangeAt(0);if(!V)return;const g=V.startContainer;if(g.nodeType!==Node.TEXT_NODE)return;const A=g.parentElement;if(!A||!(A instanceof HTMLSpanElement)||!A.classList.contains("text"))return;const R=V.startOffset,L=((B=A.textContent)==null?void 0:B.substr(0,R))||"",M=((z=A.textContent)==null?void 0:z.substr(R))||"";A.innerText=L;const T=document.createElement("span");return T.classList.add("text"),T.innerText=M,(W=o.value)==null||W.insertBefore(T,A.nextSibling),T}function $(){if(!o.value)return null;const V=Array.from(o.value.childNodes).reduce((g,A)=>{const R=A,L=R.tagName;return L&&L.toLowerCase()==="button"?g+=`{{${R.dataset.field}}}`:"textContent"in R?g+=R.textContent:g+=""},"");return e.nullable===!0&&V===""?null:V}function k(){if(!!o.value){if(e.modelValue===null||e.modelValue===""){o.value.innerHTML='<span class="text"></span>';return}if(e.modelValue!==$()){const V=/({{.*?}})/g,g=e.modelValue.split(V).map(A=>{if(A.startsWith("{{")===!1)return`<span class="text">${A}</span>`;const R=A.replace(/({|})/g,"").trim(),L=R.split(".");for(let T=0;T<L.length;T++)s(L.slice(0,T).join("."));const M=y(i.value,L);return M?`<button contenteditable="false" data-field="${R}" disabled="${e.disabled}">${M.name}</button>`:""}).join("");o.value.innerHTML=g}}}}}),cL=e=>(He("data-v-a67101e4"),e=e(),Ge(),e),pL=["contenteditable"],mL=cL(()=>S("span",{class:"text"},null,-1)),fL=[mL],_L={key:0,class:"placeholder"};function vL(e,t,o,l,d,c){const i=u("v-icon"),s=u("v-input"),r=u("field-list-item"),p=u("v-list"),f=u("v-menu");return m(),F(f,{modelValue:e.menuActive,"onUpdate:modelValue":t[4]||(t[4]=v=>e.menuActive=v),attached:""},{activator:a(({toggle:v})=>[n(s,{disabled:e.disabled},{input:a(()=>[S("span",{ref:"contentEl",class:"content",contenteditable:!e.disabled,onKeydown:t[0]||(t[0]=(..._)=>e.onKeyDown&&e.onKeyDown(..._)),onInput:t[1]||(t[1]=(..._)=>e.onInput&&e.onInput(..._)),onClick:t[2]||(t[2]=(..._)=>e.onClick&&e.onClick(..._))},fL,40,pL),e.placeholder&&!e.modelValue?(m(),I("span",_L,h(e.placeholder),1)):N("",!0)]),append:a(()=>[n(i,{name:"add_box",outline:"",clickable:"",disabled:e.disabled,onClick:v},null,8,["disabled","onClick"])]),_:2},1032,["disabled"])]),default:a(()=>[e.disabled?N("",!0):(m(),F(p,{key:0,mandatory:!1,onToggle:t[3]||(t[3]=v=>e.loadFieldRelations(v.value,1))},{default:a(()=>[(m(!0),I(oe,null,he(e.treeList,v=>(m(),F(r,{key:v.field,field:v,depth:e.depth,onAdd:e.addField},null,8,["field","depth","onAdd"]))),128))]),_:1}))]),_:1},8,["modelValue"])}var yL=q(uL,[["render",vL],["__scopeId","data-v-a67101e4"]]);const gL=K({props:{batchMode:{type:Boolean,default:!1},batchActive:{type:Boolean,default:!1},field:{type:Object,required:!0},disabled:{type:Boolean,default:!1},toggle:{type:Function,required:!0},active:{type:Boolean,default:!1},edited:{type:Boolean,default:!1},hasError:{type:Boolean,default:!1},badge:{type:String,default:null},loading:{type:Boolean,default:!1}},emits:["toggle-batch"],setup(){const{t:e}=ae();return{t:e}}});function hL(e,t,o,l,d,c){var f;const i=u("v-checkbox"),s=u("v-icon"),r=u("v-chip"),p=Ce("tooltip");return m(),I("div",{class:re(["label type-label",{disabled:e.disabled,edited:e.edited&&!e.batchMode&&!e.hasError&&!e.loading}])},[e.batchMode?(m(),F(i,{key:0,"model-value":e.batchActive,value:e.field.field,"onUpdate:modelValue":t[0]||(t[0]=v=>e.$emit("toggle-batch",e.field))},null,8,["model-value","value"])):N("",!0),te(S("span",{class:"field-name",onClick:t[1]||(t[1]=(...v)=>e.toggle&&e.toggle(...v))},[O(h(e.field.name)+" ",1),((f=e.field.meta)==null?void 0:f.required)===!0?(m(),F(s,{key:0,class:"required",sup:"",name:"star"})):N("",!0),e.disabled?N("",!0):(m(),F(s,{key:1,class:re(["ctx-arrow",{active:e.active}]),name:"arrow_drop_down"},null,8,["class"]))],512),[[p,e.edited?e.t("edited"):null]]),e.badge?(m(),F(r,{key:1,"x-small":""},{default:a(()=>[O(h(e.badge),1)]),_:1})):N("",!0)],2)}var bL=q(gL,[["render",hL],["__scopeId","data-v-792c5ca7"]]);const $L=K({props:{field:{type:Object,required:!0},modelValue:{type:[String,Number,Object,Array,Boolean],default:null},initialValue:{type:[String,Number,Object,Array,Boolean],default:null}},emits:["update:modelValue","unset","edit-raw"],setup(e){const{t}=ae(),o=E(()=>{var c,i;const d=(i=(c=e.field)==null?void 0:c.schema)==null?void 0:i.default_value;return d!==void 0?d:null}),l=E(()=>{var d,c;return((c=(d=e.field)==null?void 0:d.schema)==null?void 0:c.is_nullable)===!1});return{t,defaultValue:o,isRequired:l}}});function kL(e,t,o,l,d,c){const i=u("v-icon"),s=u("v-list-item-icon"),r=u("v-list-item-content"),p=u("v-list-item"),f=u("v-list");return m(),F(f,null,{default:a(()=>[e.defaultValue===null||!e.isRequired?(m(),F(p,{key:0,disabled:e.modelValue===null,clickable:"",onClick:t[0]||(t[0]=v=>e.$emit("update:modelValue",null))},{default:a(()=>[n(s,null,{default:a(()=>[n(i,{name:"delete_outline"})]),_:1}),n(r,null,{default:a(()=>[O(h(e.t("clear_value")),1)]),_:1})]),_:1},8,["disabled"])):N("",!0),e.defaultValue!==null?(m(),F(p,{key:1,disabled:e.modelValue===e.defaultValue,clickable:"",onClick:t[1]||(t[1]=v=>e.$emit("update:modelValue",e.defaultValue))},{default:a(()=>[n(s,null,{default:a(()=>[n(i,{name:"settings_backup_restore"})]),_:1}),n(r,null,{default:a(()=>[O(h(e.t("reset_to_default")),1)]),_:1})]),_:1},8,["disabled"])):N("",!0),e.initialValue?(m(),F(p,{key:2,disabled:e.initialValue===void 0||e.modelValue===e.initialValue,clickable:"",onClick:t[2]||(t[2]=v=>e.$emit("unset",e.field))},{default:a(()=>[n(s,null,{default:a(()=>[n(i,{name:"undo"})]),_:1}),n(r,null,{default:a(()=>[O(h(e.t("undo_changes")),1)]),_:1})]),_:1},8,["disabled"])):N("",!0),n(p,{clickable:"",onClick:t[3]||(t[3]=v=>e.$emit("edit-raw"))},{default:a(()=>[n(s,null,{default:a(()=>[n(i,{name:"code"})]),_:1}),n(r,null,{default:a(()=>[O(h(e.t("raw_value")),1)]),_:1})]),_:1})]),_:1})}var wL=q($L,[["render",kL]]);const CL=K({props:{field:{type:Object,required:!0},batchMode:{type:Boolean,default:!1},batchActive:{type:Boolean,default:!1},primaryKey:{type:[Number,String],default:null},modelValue:{type:[String,Number,Object,Array,Boolean],default:void 0},loading:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},autofocus:{type:Boolean,default:!1}},emits:["update:modelValue"],setup(e){const{t}=ae(),{interfaces:o}=Rt(),l=E(()=>!!o.value.find(d=>{var c,i;return d.id===((i=(c=e.field)==null?void 0:c.meta)==null?void 0:i.interface)||"input"}));return{t,interfaceExists:l,getDefaultInterfaceForType:Ro}}});function SL(e,t,o,l,d,c){var r;const i=u("v-skeleton-loader"),s=u("v-notice");return m(),I("div",{class:re(["interface",{subdued:e.batchMode&&e.batchActive===!1}])},[e.loading&&e.field.hideLoader!==!0?(m(),F(i,{key:0})):N("",!0),e.interfaceExists?(m(),F(Ue(e.field.meta&&e.field.meta.interface?`interface-${e.field.meta.interface}`:`interface-${e.getDefaultInterfaceForType(e.field.type)}`),ct({key:1},e.field.meta&&e.field.meta.options||{},{autofocus:e.disabled!==!0&&e.autofocus,disabled:e.disabled,loading:e.loading,value:e.modelValue===void 0?(r=e.field.schema)==null?void 0:r.default_value:e.modelValue,width:e.field.meta&&e.field.meta.width||"full",type:e.field.type,collection:e.field.collection,field:e.field.field,"field-data":e.field,"primary-key":e.primaryKey,length:e.field.schema&&e.field.schema.max_length,onInput:t[0]||(t[0]=p=>e.$emit("update:modelValue",p))}),null,16,["autofocus","disabled","loading","value","width","type","collection","field","field-data","primary-key","length"])):(m(),F(s,{key:2,type:"warning"},{default:a(()=>[O(h(e.t("interface_not_found",{interface:e.field.meta&&e.field.meta.interface})),1)]),_:1}))],2)}var FL=q(CL,[["render",SL],["__scopeId","data-v-175a2f1a"]]);function VL(e){return["bigInteger","integer","float","decimal"].includes(e)?"number":["string","text","uuid","hash"].includes(e)?"string":["boolean"].includes(e)?"boolean":["time","timestamp","date","dateTime"].includes(e)?"string":["json","csv"].includes(e)?"object":"undefined"}const EL=K({components:{FormFieldLabel:bL,FormFieldMenu:wL,FormFieldInterface:FL},props:{field:{type:Object,required:!0},batchMode:{type:Boolean,default:!1},batchActive:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},modelValue:{type:[String,Number,Object,Array,Boolean],default:void 0},initialValue:{type:[String,Number,Object,Array,Boolean],default:void 0},primaryKey:{type:[String,Number],default:null},loading:{type:Boolean,default:!1},validationError:{type:Object,default:null},autofocus:{type:Boolean,default:!1},badge:{type:String,default:null}},emits:["toggle-batch","unset","update:modelValue"],setup(e,{emit:t}){const{t:o}=ae(),l=E(()=>{var _,y;return!!(e.disabled||((y=(_=e.field)==null?void 0:_.meta)==null?void 0:y.readonly)===!0||e.batchMode&&e.batchActive===!1)}),d=E(()=>{var y,b;const _=(b=(y=e.field)==null?void 0:y.schema)==null?void 0:b.default_value;if(_!==void 0)return _}),c=E(()=>e.modelValue!==void 0?e.modelValue:e.initialValue!==void 0?e.initialValue:d.value),i=E(()=>e.modelValue!==void 0&&H.exports.isEqual(e.modelValue,e.initialValue)===!1),{showRaw:s,rawValue:r}=v(),p=E(()=>e.validationError?e.validationError.code==="RECORD_NOT_UNIQUE"?o("validationError.unique"):o(`validationError.${e.validationError.type}`,e.validationError):null);return{t:o,isDisabled:l,internalValue:c,emitValue:f,showRaw:s,rawValue:r,validationMessage:p,isEdited:i};function f(_){(H.exports.isEqual(_,e.initialValue)||e.initialValue===void 0&&H.exports.isEqual(_,d.value))&&e.batchMode===!1?t("unset",e.field):t("update:modelValue",_)}function v(){const _=D(!1),y=E(()=>VL(e.field.type)),b=E({get(){switch(y.value){case"object":return JSON.stringify(c.value,null,"	");case"string":case"number":case"boolean":default:return c.value}},set(w){switch(y.value){case"string":t("update:modelValue",w);break;case"number":t("update:modelValue",Number(w));break;case"boolean":t("update:modelValue",w==="true");break;case"object":t("update:modelValue",JSON.parse(w));break;default:t("update:modelValue",w);break}}});return{showRaw:_,rawValue:b}}}}),IL={key:1,class:"label-spacer"},AL={key:2,class:"type-note"},DL={key:3,class:"validation-error"};function OL(e,t,o,l,d,c){var V;const i=u("form-field-label"),s=u("form-field-menu"),r=u("v-menu"),p=u("form-field-interface"),f=u("v-card-title"),v=u("v-textarea"),_=u("v-card-text"),y=u("v-button"),b=u("v-card-actions"),w=u("v-card"),$=u("v-dialog"),k=Ce("md");return m(),I("div",{key:e.field.field,class:re(["field",[((V=e.field.meta)==null?void 0:V.width)||"full",{invalid:e.validationError}]])},[e.field.hideLabel!==!0?(m(),F(r,{key:0,placement:"bottom-start","show-arrow":"",disabled:e.isDisabled},{activator:a(({toggle:g,active:A})=>[n(i,{field:e.field,toggle:g,active:A,disabled:e.isDisabled,"batch-mode":e.batchMode,"batch-active":e.batchActive,edited:e.isEdited,"has-error":!!e.validationError,badge:e.badge,loading:e.loading,onToggleBatch:t[0]||(t[0]=R=>e.$emit("toggle-batch",R))},null,8,["field","toggle","active","disabled","batch-mode","batch-active","edited","has-error","badge","loading"])]),default:a(()=>[n(s,{field:e.field,"model-value":e.internalValue,"initial-value":e.initialValue,"onUpdate:modelValue":t[1]||(t[1]=g=>e.emitValue(g)),onUnset:t[2]||(t[2]=g=>e.$emit("unset",g)),onEditRaw:t[3]||(t[3]=g=>e.showRaw=!0)},null,8,["field","model-value","initial-value"])]),_:1},8,["disabled"])):["full","fill"].includes(e.field.meta&&e.field.meta.width)===!1?(m(),I("div",IL)):N("",!0),n(p,{autofocus:e.autofocus,"model-value":e.internalValue,field:e.field,loading:e.loading,"batch-mode":e.batchMode,"batch-active":e.batchActive,disabled:e.isDisabled,"primary-key":e.primaryKey,"onUpdate:modelValue":t[4]||(t[4]=g=>e.emitValue(g))},null,8,["autofocus","model-value","field","loading","batch-mode","batch-active","disabled","primary-key"]),n($,{modelValue:e.showRaw,"onUpdate:modelValue":t[7]||(t[7]=g=>e.showRaw=g),onEsc:t[8]||(t[8]=g=>e.showRaw=!1)},{default:a(()=>[n(w,null,{default:a(()=>[n(f,null,{default:a(()=>[O(h(e.t("edit_raw_value")),1)]),_:1}),n(_,null,{default:a(()=>[n(v,{modelValue:e.rawValue,"onUpdate:modelValue":t[5]||(t[5]=g=>e.rawValue=g),class:"raw-value",placeholder:e.t("enter_raw_value")},null,8,["modelValue","placeholder"])]),_:1}),n(b,null,{default:a(()=>[n(y,{onClick:t[6]||(t[6]=g=>e.showRaw=!1)},{default:a(()=>[O(h(e.t("done")),1)]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"]),e.field.meta&&e.field.meta.note?te((m(),I("small",AL,null,512)),[[k,e.field.meta.note]]):N("",!0),e.validationError?(m(),I("small",DL,h(e.validationMessage),1)):N("",!0)],2)}var PL=q(EL,[["render",OL],["__scopeId","data-v-5157b788"]]);const TL=K({name:"VForm",components:{FormField:PL},props:{collection:{type:String,default:void 0},fields:{type:Array,default:void 0},initialValues:{type:Object,default:null},modelValue:{type:Object,default:null},loading:{type:Boolean,default:!1},batchMode:{type:Boolean,default:!1},primaryKey:{type:[String,Number],default:null},disabled:{type:Boolean,default:!1},validationErrors:{type:Array,default:()=>[]},autofocus:{type:Boolean,default:!1},group:{type:String,default:null},badge:{type:String,default:null}},emits:["update:modelValue"],setup(e,{emit:t}){const{t:o}=ae(),l=ze(),d=E(()=>Object.assign({},e.initialValues,e.modelValue)),c=D(),{width:i}=xn(c),s=E(()=>c.value===null?null:i.value>792?"grid with-fill":"grid"),{formFields:r,getFieldsForGroup:p,fieldsForGroup:f,isDisabled:v}=$(),{toggleBatchField:_,batchActiveFields:y}=A(),b=E(()=>{var R;for(let L=0;L<r.value.length;L++)if(r.value[L].meta&&!((R=r.value[L].meta)==null?void 0:R.readonly))return L;return null}),w=E(()=>{const R=p(e.group),L=R.map(T=>T.field),M=r.value.map(T=>T.field);return e.validationErrors.filter(T=>{var B,z;let U=M.includes(T.field)===!1&&L.includes(T.field);return e.group===null&&(U=U&&((z=(B=R.find(W=>W.field===T.field))==null?void 0:B.meta)==null?void 0:z.group)===null),U})});return Jt("values",d),{t:o,formFields:r,values:d,setValue:k,batchActiveFields:y,toggleBatchField:_,unsetValue:g,unknownValidationErrors:w,firstEditableFieldIndex:b,isNil:H.exports.isNil,apply:V,el:c,gridClass:s,omit:H.exports.omit,getFieldsForGroup:p,fieldsForGroup:f,isDisabled:v};function $(){const R=E(()=>{if(e.collection)return l.getFieldsForCollection(e.collection);if(e.fields)return e.fields;throw new Error("[v-form]: You need to pass either the collection or fields prop.")}),L=E(()=>{if(e.group!==null)return R.value;const W=Q=>{var G,x;if(((G=Q.schema)==null?void 0:G.has_auto_increment)===!0||((x=Q.schema)==null?void 0:x.is_primary_key)===!0&&e.primaryKey!=="+"){const ee=H.exports.cloneDeep(Q);return ee.meta||(ee.meta={}),ee.meta.readonly=!0,ee}return Q},J=Q=>{var G;if(Q.meta&&Array.isArray((G=Q.meta)==null?void 0:G.conditions)){const ee=[...Q.meta.conditions].reverse().find(ne=>{if(!ne.rule||Object.keys(ne.rule).length!==1)return;const ie=Wn(ne.rule);return qn(ie,d.value,{requireAll:!0}).length===0});return ee?ye(X({},Q),{meta:H.exports.merge({},Q.meta||{},{readonly:ee.readonly,options:ee.options,hidden:ee.hidden,required:ee.required})}):Q}else return Q};return R.value.map(Q=>J(W(Q)))}),M=E(()=>L.value.filter(W=>{var J,Q;return((J=W.meta)==null?void 0:J.group)===e.group||e.group===null&&H.exports.isNil((Q=W.meta)==null?void 0:Q.group)})),{formFields:T}=Mo(M),U=E(()=>T.value.map(W=>z(W.meta.field)));return{formFields:T,isDisabled:B,getFieldsForGroup:z,fieldsForGroup:U};function B(W){var J,Q;return e.loading||e.disabled===!0||((J=W.meta)==null?void 0:J.readonly)===!0||((Q=W.schema)==null?void 0:Q.is_generated)===!0||e.batchMode&&y.value.includes(W.field)===!1}function z(W){var Q,G;const J=L.value.filter(x=>{var ee;return((ee=x.meta)==null?void 0:ee.group)===W||W===null&&H.exports.isNil(x.meta)});for(const x of J)((G=(Q=x.meta)==null?void 0:Q.special)==null?void 0:G.includes("group"))&&J.push(...z(x.meta.field));return J}}function k(R,L){const M=e.modelValue?H.exports.cloneDeep(e.modelValue):{};M[R.field]=L,t("update:modelValue",M)}function V(R){t("update:modelValue",H.exports.pick(H.exports.assign({},e.modelValue,R),Object.keys(R)))}function g(R){if(R.field in(e.modelValue||{})){const L=X({},e.modelValue);delete L[R.field],t("update:modelValue",L)}}function A(){const R=D([]);return{batchActiveFields:R,toggleBatchField:L};function L(M){var T;R.value.includes(M.field)?(R.value=R.value.filter(U=>U!==M.field),g(M)):(R.value=[...R.value,M.field],k(M,(T=M.schema)==null?void 0:T.default_value))}}}}),LL={key:0};function jL(e,t,o,l,d,c){const i=u("v-notice"),s=u("form-field");return m(),I("div",{ref:"el",class:re(["v-form",e.gridClass])},[e.unknownValidationErrors.length>0?(m(),F(i,{key:0,type:"danger",class:"full"},{default:a(()=>[S("div",null,[S("p",null,h(e.t("unknown_validation_errors")),1),S("ul",null,[(m(!0),I(oe,null,he(e.unknownValidationErrors,(r,p)=>(m(),I("li",{key:p},[r.field?(m(),I("strong",LL,h(r.field)+":",1)):N("",!0),r.code==="RECORD_NOT_UNIQUE"?(m(),I(oe,{key:1},[O(h(e.t("validationError.unique",r)),1)],64)):(m(),I(oe,{key:2},[O(h(e.t(`validationError.${r.code}`,r)),1)],64))]))),128))])])]),_:1})):N("",!0),(m(!0),I(oe,null,he(e.formFields,(r,p)=>{var f,v,_,y,b,w,$;return m(),I(oe,null,[((v=(f=r.meta)==null?void 0:f.special)==null?void 0:v.includes("group"))?te((m(),F(Ue(`interface-${((_=r.meta)==null?void 0:_.interface)||"group-standard"}`),ct({key:0,key:r.field,class:((y=r.meta)==null?void 0:y.width)||"full",field:r,fields:e.fieldsForGroup[p],values:e.modelValue||{},"initial-values":e.initialValues||{},disabled:e.disabled,"batch-mode":e.batchMode,"batch-active-fields":e.batchActiveFields,"primary-key":e.primaryKey,loading:e.loading,"validation-errors":e.validationErrors},((b=r.meta)==null?void 0:b.options)||{},{onApply:e.apply}),null,16,["class","field","fields","values","initial-values","disabled","batch-mode","batch-active-fields","primary-key","loading","validation-errors","onApply"])),[[Et,!((w=r.meta)==null?void 0:w.hidden)]]):te((m(),F(s,{key:r.field,field:r,autofocus:p===e.firstEditableFieldIndex&&e.autofocus,"model-value":(e.values||{})[r.field],"initial-value":(e.initialValues||{})[r.field],disabled:e.isDisabled(r),"batch-mode":e.batchMode,"batch-active":e.batchActiveFields.includes(r.field),"primary-key":e.primaryKey,loading:e.loading,"validation-error":e.validationErrors.find(k=>k.field===r.field),badge:e.badge,"onUpdate:modelValue":k=>e.setValue(r,k),onUnset:k=>e.unsetValue(r),onToggleBatch:k=>e.toggleBatchField(r)},null,8,["field","autofocus","model-value","initial-value","disabled","batch-mode","batch-active","primary-key","loading","validation-error","badge","onUpdate:modelValue","onUnset","onToggleBatch"])),[[Et,!(($=r.meta)==null?void 0:$.hidden)]])],64)}),256))],2)}var RL=q(TL,[["render",jL],["__scopeId","data-v-a3fdf47e"]]);const ML=K({props:{closeDelay:{type:Number,default:0},openDelay:{type:Number,default:0},disabled:{type:Boolean,default:!1},tag:{type:String,default:"div"}},setup(e){const t=D(!1);return{hover:t,onMouseEnter:o,onMouseLeave:l};function o(){e.disabled!==!0&&setTimeout(()=>{t.value=!0},e.openDelay)}function l(){e.disabled!==!0&&setTimeout(()=>{t.value=!1},e.closeDelay)}}});function UL(e,t,o,l,d,c){return m(),F(Ue(e.tag),{onMouseenter:e.onMouseEnter,onMouseleave:e.onMouseLeave},{default:a(()=>[$e(e.$slots,"default",Qe(Ze({hover:e.hover})))]),_:3},8,["onMouseenter","onMouseleave"])}var NL=q(ML,[["render",UL]]);const BL=K({name:"VHighlight",props:{query:{type:[String,Array],default:null},text:{type:String,default:""}},setup(e){return{parts:E(()=>{let o=Xa(e.text.toLowerCase());const l=hl(e.query);if(l.length===0)return[{highlighted:!1,text:e.text}];const d=H.exports.flatten(l.filter(f=>f).map(f=>{f=Xa(f.toLowerCase());const v=[];let _=0,y=o.indexOf(f,_);for(;y>-1;)_=y+f.length,v.push([y,_]),y=o.indexOf(f,y+1);return v}));if(d.sort((f,v)=>f[0]!==v[0]?f[0]-v[0]:f[1]-v[1]),d.length===0)return[{highlighted:!1,text:e.text}];const c=[];let i=d[0][0],s=d[0][1];d.shift();for(const[f,v]of d)f>=s?(c.push([i,s]),i=f,s=v):v>s&&(s=v);c.push([i,s]);let r=0;const p=[];for(const[f,v]of c)r!==f&&p.push({highlighted:!1,text:e.text.slice(r,f)}),p.push({highlighted:!0,text:e.text.slice(f,v)}),r=v;return r!==o.length&&p.push({highlighted:!1,text:e.text.slice(r)}),p})}}});function qL(e,t,o,l,d,c){return m(!0),I(oe,null,he(e.parts,({highlighted:i,text:s},r)=>(m(),I(oe,null,[i?(m(),I("mark",{key:r,class:"highlight"},h(s),1)):(m(),I(oe,{key:1},[O(h(s),1)],64))],64))),256)}var zL=q(BL,[["render",qL],["__scopeId","data-v-40e82be6"]]);const KL={},WL={viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg","fill-rule":"evenodd","clip-rule":"evenodd","stroke-linejoin":"round","stroke-miterlimit":"2"},HL=S("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M19.2 14.15a1.8 1.8 0 01-.35-.12c-.1-.05-.14-.18-.13-.3.02-.41-.01-.78.03-1.2.18-1.85 1.38-1.26 2.46-1.57.58-.16 1.17-.47 1.42-1.06.07-.16.02-.35-.1-.48a13.66 13.66 0 00-2.27-1.98 14.25 14.25 0 00-9.85-2.31.2.2 0 00-.15.32A5.17 5.17 0 0011.93 7c.1.06.06.2-.06.18-.3-.06-.68-.18-1.06-.4a.43.43 0 00-.38-.05l-.44.18a.2.2 0 00-.05.34 5.32 5.32 0 006.14.42c.1-.06.25.07.22.18-.07.21-.15.52-.23.95-.48 2.37-1.87 2.18-3.58 1.59-3.36-1.19-5.3-.22-7-2.1-.19-.21-.5-.29-.7-.09a1.55 1.55 0 00.1 2.29c.15.12.36.07.5-.06.07-.06.13-.1.21-.14.1-.04.16.11.07.18-.4.33-.51.7-.76 1.48-.38 1.16-.22 2.36-1.98 2.67-.93.04-.91.66-1.25 1.58A5.2 5.2 0 01.3 18.27c-.4.41-.44 1.18.14 1.23.18 0 .36-.03.55-.1.99-.4 1.75-1.65 2.47-2.46.8-.9 2.72-.51 4.17-1.4.82-.48 1.3-1.1 1.08-2.07-.02-.12.12-.2.18-.09.1.2.18.41.23.63.05.22.25.39.47.4 1.36.1 3.02 1.3 4.63 1.88.32.11.56-.26.43-.57-.1-.24-.18-.48-.23-.7-.02-.13.16-.16.22-.05a3.5 3.5 0 002.88 1.88c.46.03.97-.02 1.5-.18.63-.18 1.22-.42 1.91-.3.52.1 1 .36 1.3.79.36.5 1.04.7 1.54.38.28-.19.29-.58.13-.87-1.14-2.08-3.61-2.25-4.7-2.52z"},null,-1),GL=[HL];function QL(e,t,o,l,d,c){return m(),I("svg",WL,GL)}var XL=q(KL,[["render",QL]]);const JL={},YL={viewBox:"0 0 24 24",width:"24",height:"24",fill:"none","fill-rule":"evenodd","clip-rule":"evenodd","stroke-linejoin":"round","stroke-miterlimit":"2",xmlns:"http://www.w3.org/2000/svg"},ZL=S("path",{d:"M18.38 3.6c-.38-.4-.83-.6-1.36-.6H6.98c-.53 0-1 .2-1.4.6-.38.42-.56.88-.56 1.42V21L12 18l6.98 3V5.02c0-.54-.2-1-.6-1.41zm-8.05 11.5l6.7-6.7-1.4-1.4-5.3 5.3-1.92-1.93L7 11.79l3.33 3.33z"},null,-1),xL=[ZL];function e4(e,t,o,l,d,c){return m(),I("svg",YL,xL)}var t4=q(JL,[["render",e4]]);const n4={},l4={viewBox:"0 0 22 22",xmlns:"http://www.w3.org/2000/svg","fill-rule":"evenodd","clip-rule":"evenodd","stroke-linejoin":"round","stroke-miterlimit":"2"},a4=S("path",{d:"M2.036 16.961l8.578 3.944a.886.886 0 00.772 0l8.576-3.944c.357-.164.536-.443.536-.836V5.875a.924.924 0 00-.016-.166v-.048a.95.95 0 00-.037-.118l-.014-.039a.91.91 0 00-.073-.138l-.021-.03a1.067 1.067 0 00-.081-.097l-.043-.03a.901.901 0 00-.102-.083l-.025-.018a1.003 1.003 0 00-.124-.069l-8.578-3.944a.886.886 0 00-.772 0L2.036 5.039a.935.935 0 00-.124.069l-.025.018a.901.901 0 00-.102.083l-.03.032a.915.915 0 00-.08.097l-.021.03a.916.916 0 00-.074.138l-.025.037a1.006 1.006 0 00-.037.118v.048a.924.924 0 00-.016.166v10.25c0 .393.178.671.534.836zm1.306-9.646l6.735 3.102v8.223l-6.735-3.104V7.315zm8.578 11.323v-8.221l6.735-3.102v8.223l-6.735 3.1zm-.921-15.7l6.376 2.937-6.376 2.937-6.376-2.937 6.376-2.937z"},null,-1),o4=[a4];function i4(e,t,o,l,d,c){return m(),I("svg",l4,o4)}var s4=q(n4,[["render",i4]]);const r4={},d4={viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg","fill-rule":"evenodd","clip-rule":"evenodd","stroke-linejoin":"round","stroke-miterlimit":"2"},u4=S("path",{d:"M10.588 13.412c.408.408.879.611 1.412.611.533 0 1.004-.203 1.412-.611.408-.408.611-.879.611-1.412 0-.533-.203-1.004-.611-1.412-.408-.408-.879-.612-1.412-.612-.533 0-1.004.204-1.412.612-.408.408-.612.879-.612 1.412 0 .533.204 1.004.612 1.412zM9.176 9.176C9.961 8.392 10.902 8 12 8c1.098 0 2.04.392 2.823 1.176C15.608 9.961 16 10.902 16 12c0 1.098-.392 2.04-1.177 2.823C14.04 15.608 13.098 16 12 16c-1.098 0-2.04-.392-2.824-1.177C8.392 14.04 8 13.098 8 12c0-1.098.392-2.04 1.176-2.824z"},null,-1),c4=S("path",{d:"M13 3v6h-2V3h2zM13 15v6h-2v-6h2z"},null,-1),p4=[u4,c4];function m4(e,t,o,l,d,c){return m(),I("svg",d4,p4)}var f4=q(r4,[["render",m4]]);const _4={},v4={viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg","fill-rule":"evenodd","clip-rule":"evenodd","stroke-linejoin":"round","stroke-miterlimit":"2"},y4=S("path",{d:"M3 3h18v18H3z"},null,-1),g4=[y4];function h4(e,t,o,l,d,c){return m(),I("svg",v4,g4)}var b4=q(_4,[["render",h4]]);const $4={},k4={viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg","fill-rule":"evenodd","clip-rule":"evenodd","stroke-linejoin":"round","stroke-miterlimit":"2"},w4=S("path",{d:"M11 2H2v9h9V2zm0 11H2v9h9v-9zm2-11h9v9h-9V2zm9 11h-9v9h9v-9z"},null,-1),C4=[w4];function S4(e,t,o,l,d,c){return m(),I("svg",k4,C4)}var F4=q($4,[["render",S4]]);const V4={},E4={viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg","fill-rule":"evenodd","clip-rule":"evenodd","stroke-linejoin":"round","stroke-miterlimit":"2"},I4=S("path",{d:"M1 1h6v6H1V1zm0 8h6v6H1V9zm6 8H1v6h6v-6zM9 1h6v6H9V1zm6 8H9v6h6V9zm-6 8h6v6H9v-6zM23 1h-6v6h6V1zm-6 8h6v6h-6V9zm6 8h-6v6h6v-6z"},null,-1),A4=[I4];function D4(e,t,o,l,d,c){return m(),I("svg",E4,A4)}var O4=q(V4,[["render",D4]]);const P4={},T4={viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg","fill-rule":"evenodd","clip-rule":"evenodd","stroke-linejoin":"round","stroke-miterlimit":"2"},L4=S("path",{d:"M6 3H3v3h3V3zm0 5H3v3h3V8zm-3 5h3v3H3v-3zm3 5H3v3h3v-3zM8 3h3v3H8V3zm3 5H8v3h3V8zm-3 5h3v3H8v-3zm3 5H8v3h3v-3zm2-15h3v3h-3V3zm3 5h-3v3h3V8zm-3 5h3v3h-3v-3zm3 5h-3v3h3v-3zm2-15h3v3h-3V3zm3 5h-3v3h3V8zm-3 5h3v3h-3v-3zm3 5h-3v3h3v-3z"},null,-1),j4=[L4];function R4(e,t,o,l,d,c){return m(),I("svg",T4,j4)}var M4=q(P4,[["render",R4]]);const U4={},N4={viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg","fill-rule":"evenodd","clip-rule":"evenodd","stroke-linejoin":"round","stroke-miterlimit":"2"},B4=S("path",{d:"M3 3h2v2H3V3zm4 0h2v2H7V3zm0 4h2v2H7V7zm2 4H7v2h2v-2zm-2 4h2v2H7v-2zm2 4H7v2h2v-2zM5 7H3v2h2V7zm-2 4h2v2H3v-2zm2 4H3v2h2v-2zm-2 4h2v2H3v-2zM13 3h-2v2h2V3zm-2 4h2v2h-2V7zm2 4h-2v2h2v-2zm-2 4h2v2h-2v-2zm2 4h-2v2h2v-2zm2-16h2v2h-2V3zm2 4h-2v2h2V7zm-2 4h2v2h-2v-2zm2 4h-2v2h2v-2zm-2 4h2v2h-2v-2zm6-16h-2v2h2V3zm-2 4h2v2h-2V7zm2 4h-2v2h2v-2zm-2 4h2v2h-2v-2zm2 4h-2v2h2v-2z"},null,-1),q4=[B4];function z4(e,t,o,l,d,c){return m(),I("svg",N4,q4)}var K4=q(U4,[["render",z4]]);const W4={},H4={viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg","fill-rule":"evenodd","clip-rule":"evenodd","stroke-linejoin":"round","stroke-miterlimit":"2"},G4=S("path",{d:"M5 4H4v1h1V4zm0 6H4v1h1v-1zm-1 6h1v1H4v-1zm1-9H4v1h1V7zm-1 6h1v1H4v-1zm1 6H4v1h1v-1zM7 4h1v1H7V4zm1 6H7v1h1v-1zm-1 6h1v1H7v-1zm1-9H7v1h1V7zm-1 6h1v1H7v-1zm1 6H7v1h1v-1zm2-15h1v1h-1V4zm1 6h-1v1h1v-1zm-1 6h1v1h-1v-1zm1-9h-1v1h1V7zm-1 6h1v1h-1v-1zm1 6h-1v1h1v-1zm2-15h1v1h-1V4zm1 6h-1v1h1v-1zm-1 6h1v1h-1v-1zm1-9h-1v1h1V7zm-1 6h1v1h-1v-1zm1 6h-1v1h1v-1zm2-15h1v1h-1V4zm1 6h-1v1h1v-1zm-1 6h1v1h-1v-1zm1-9h-1v1h1V7zm-1 6h1v1h-1v-1zm1 6h-1v1h1v-1zm2-15h1v1h-1V4zm1 6h-1v1h1v-1zm-1 6h1v1h-1v-1zm1-9h-1v1h1V7zm-1 6h1v1h-1v-1zm1 6h-1v1h1v-1z"},null,-1),Q4=[G4];function X4(e,t,o,l,d,c){return m(),I("svg",H4,Q4)}var J4=q(W4,[["render",X4]]);const Y4={},Z4={viewBox:"0 0 48 48",xmlns:"http://www.w3.org/2000/svg","fill-rule":"evenodd","clip-rule":"evenodd","stroke-linejoin":"round","stroke-miterlimit":"2"},x4=S("path",{"fill-opacity":".3",d:"M24.02 42.98L47.28 14c-.9-.68-9.85-8-23.28-8S1.62 13.32.72 14l23.26 28.98.02.02.02-.02z"},null,-1),ej=S("path",{d:"M0 0h48v48H0z",fill:"none"},null,-1),tj=S("path",{d:"M13.34 29.72l10.65 13.27.01.01.01-.01 10.65-13.27C34.13 29.31 30.06 26 24 26s-10.13 3.31-10.66 3.72z"},null,-1),nj=[x4,ej,tj];function lj(e,t,o,l,d,c){return m(),I("svg",Z4,nj)}var aj=q(Y4,[["render",lj]]);const oj={},ij={viewBox:"0 0 48 48",xmlns:"http://www.w3.org/2000/svg","fill-rule":"evenodd","clip-rule":"evenodd","stroke-linejoin":"round","stroke-miterlimit":"2"},sj=S("path",{"fill-opacity":".3",d:"M24.02 42.98L47.28 14c-.9-.68-9.85-8-23.28-8S1.62 13.32.72 14l23.26 28.98.02.02.02-.02z"},null,-1),rj=S("path",{d:"M0 0h48v48H0z",fill:"none"},null,-1),dj=S("path",{d:"M7.07 21.91l16.92 21.07.01.02.02-.02 16.92-21.07C40.08 21.25 33.62 16 24 16c-9.63 0-16.08 5.25-16.93 5.91z"},null,-1),uj=[sj,rj,dj];function cj(e,t,o,l,d,c){return m(),I("svg",ij,uj)}var pj=q(oj,[["render",cj]]);const mj={},fj={viewBox:"0 0 48 48",xmlns:"http://www.w3.org/2000/svg","fill-rule":"evenodd","clip-rule":"evenodd","stroke-linejoin":"round","stroke-miterlimit":"2"},_j=S("path",{"fill-opacity":".3",d:"M24.02 42.98L47.28 14c-.9-.68-9.85-8-23.28-8S1.62 13.32.72 14l23.26 28.98.02.02.02-.02z"},null,-1),vj=S("path",{d:"M0 0h48v48H0z",fill:"none"},null,-1),yj=S("path",{d:"M9.58 25.03l14.41 17.95.01.02.01-.02 14.41-17.95C37.7 24.47 32.2 20 24 20s-13.7 4.47-14.42 5.03z"},null,-1),gj=[_j,vj,yj];function hj(e,t,o,l,d,c){return m(),I("svg",fj,gj)}var bj=q(mj,[["render",hj]]);const $j={},kj={viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg","fill-rule":"evenodd","clip-rule":"evenodd","stroke-linejoin":"round","stroke-miterlimit":"2"},wj=S("path",{d:"M 3 2 L 3 11 L 21 11 L 3 2 z M 5 5.2363281 L 12.527344 9 L 5 9 L 5 5.2363281 z M 3 13 L 3 22 L 21 13 L 3 13 z"},null,-1),Cj=[wj];function Sj(e,t,o,l,d,c){return m(),I("svg",kj,Cj)}var Fj=q($j,[["render",Sj]]);const Vj={},Ej={viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg","fill-rule":"evenodd","clip-rule":"evenodd","stroke-linejoin":"round","stroke-miterlimit":"2"},Ij=S("path",{d:"M3,2 L3,11 L21,11 L3,2 Z M5,5.2363281 L12.527344,9 L5,9 L5,5.2363281 Z M3,13 L3,22 L21,13 L3,13 Z",transform:"translate(12.000000, 12.000000) rotate(-90.000000) translate(-12.000000, -12.000000) "},null,-1),Aj=[Ij];function Dj(e,t,o,l,d,c){return m(),I("svg",Ej,Aj)}var Oj=q(Vj,[["render",Dj]]);const Pj={},Tj={viewBox:"0 0 24 24",width:"24",height:"24",fill:"none","fill-rule":"evenodd","clip-rule":"evenodd","stroke-linejoin":"round","stroke-miterlimit":"2",xmlns:"http://www.w3.org/2000/svg"},Lj=S("path",{d:"M11.17 8l-2-2H4v12h16V8h-8.83zM4 4h6l2 2h8a2 2 0 012 2v10a2 2 0 01-2 2H4a2 2 0 01-2-2l.01-12A2 2 0 014 4zm10.44 5l4 4-4 4v-3H11v-2h3.44V9z"},null,-1),jj=[Lj];function Rj(e,t,o,l,d,c){return m(),I("svg",Tj,jj)}var Mj=q(Pj,[["render",Rj]]);const Uj={},Nj={viewBox:"0 0 24 24",width:"24",height:"24",fill:"none","fill-rule":"evenodd","clip-rule":"evenodd","stroke-linejoin":"round","stroke-miterlimit":"2",xmlns:"http://www.w3.org/2000/svg"},Bj=_s('<path d="M9.1875 6L11.1562 8.01562H20.0156V18H3.98438V6H9.1875ZM9.98438 3.98438H3.98438C2.90625 3.98438 2.01562 4.92188 2.01562 6V18C2.01562 19.0781 2.90625 20.0156 3.98438 20.0156H20.0156C21.0938 20.0156 21.9844 19.0781 21.9844 18V8.01562C21.9844 6.89062 21.0938 6 20.0156 6H12L9.98438 3.98438Z"></path><rect x="13" y="12" width="6" height="5" rx="1"></rect><rect x="17" y="11" width="1" height="1"></rect><rect x="14" y="11" width="1" height="1"></rect><path d="M17 11H18C18 9.89543 17.1046 9 16 9C14.8954 9 14 9.89543 14 11H15C15 10.4477 15.4477 10 16 10C16.5523 10 17 10.4477 17 11Z"></path>',5),qj=[Bj];function zj(e,t,o,l,d,c){return m(),I("svg",Nj,qj)}var Kj=q(Uj,[["render",zj]]);const Wj={},Hj={viewBox:"0 0 24 24",width:"24",height:"24",fill:"none","fill-rule":"evenodd","clip-rule":"evenodd","stroke-linejoin":"round","stroke-miterlimit":"2",xmlns:"http://www.w3.org/2000/svg"},Gj=S("path",{d:"M0 0h24v24H0z",fill:"none"},null,-1),Qj=S("path",{d:"M17 7l-1.41 1.41L18.17 11H8v2h10.17l-2.58 2.58L17 17l5-5zM4 5h8V3H4a2 2 0 00-2 2v14c0 1.1.9 2 2 2h8v-2H4V5z"},null,-1),Xj=[Gj,Qj];function Jj(e,t,o,l,d,c){return m(),I("svg",Hj,Xj)}var Yj=q(Wj,[["render",Jj]]);vs.add(ys);const Zj=["directus","bookmark_save","box","commit_node","grid_1","grid_2","grid_3","grid_4","grid_5","grid_6","signal_wifi_1_bar","signal_wifi_2_bar","signal_wifi_3_bar","flip_horizontal","flip_vertical","folder_move","folder_lock","logout"],xj=["500px","accessible_icon","accusoft","acquisitions_incorporated","adn","adversal","affiliatetheme","airbnb","algolia","alipay","amazon","amazon_pay","amilia","android","angellist","angrycreative","angular","app_store","app_store_ios","apper","apple","apple_pay","artstation","asymmetrik","atlassian","audible","autoprefixer","avianex","aviato","aws","bandcamp","battle_net","behance","behance_square","bimobject","bitbucket","bitcoin","bity","black_tie","blackberry","blogger","blogger_b","bluetooth","bluetooth_b","bootstrap","btc","buffer","buromobelexperte","buy_n_large","buysellads","canadian_maple_leaf","cc_amazon_pay","cc_amex","cc_apple_pay","cc_diners_club","cc_discover","cc_jcb","cc_mastercard","cc_paypal","cc_stripe","cc_visa","centercode","centos","chrome","chromecast","cloudflare","cloudscale","cloudsmith","cloudversify","codepen","codiepie","confluence","connectdevelop","contao","cotton_bureau","cpanel","creative_commons","creative_commons_by","creative_commons_nc","creative_commons_nc_eu","creative_commons_nc_jp","creative_commons_nd","creative_commons_pd","creative_commons_pd_alt","creative_commons_remix","creative_commons_sa","creative_commons_sampling","creative_commons_sampling_plus","creative_commons_share","creative_commons_zero","critical_role","css3","css3_alt","cuttlefish","d_and_d","d_and_d_beyond","dailymotion","dashcube","deezer","delicious","deploydog","deskpro","dev","deviantart","dhl","diaspora","digg","digital_ocean","discord","discourse","dochub","docker","draft2digital","dribbble","dribbble_square","dropbox","drupal","dyalog","earlybirds","ebay","edge","edge_legacy","elementor","ello","ember","empire","envira","erlang","ethereum","etsy","evernote","expeditedssl","facebook","facebook_f","facebook_messenger","facebook_square","fantasy_flight_games","fedex","fedora","figma","firefox","firefox_browser","first_order","first_order_alt","firstdraft","flickr","flipboard","fly","font_awesome","font_awesome_alt","font_awesome_flag","fonticons","fonticons_fi","fort_awesome","fort_awesome_alt","forumbee","foursquare","free_code_camp","freebsd","fulcrum","galactic_republic","galactic_senate","get_pocket","gg","gg_circle","git","git_alt","git_square","github","github_alt","github_square","gitkraken","gitlab","gitter","glide","glide_g","gofore","goodreads","goodreads_g","google","google_drive","google_pay","google_play","google_plus","google_plus_g","google_plus_square","google_wallet","gratipay","grav","gripfire","grunt","guilded","gulp","hacker_news","hacker_news_square","hackerrank","hips","hire_a_helper","hive","hooli","hornbill","hotjar","houzz","html5","hubspot","ideal","imdb","innosoft","instagram","instagram_square","instalod","intercom","internet_explorer","invision","ioxhost","itch_io","itunes","itunes_note","java","jedi_order","jenkins","jira","joget","joomla","js","js_square","jsfiddle","kaggle","keybase","keycdn","kickstarter","kickstarter_k","korvue","laravel","lastfm","lastfm_square","leanpub","less","line","linkedin","linkedin_in","linode","linux","lyft","magento","mailchimp","mandalorian","markdown","mastodon","maxcdn","mdb","medapps","medium","medium_m","medrt","meetup","megaport","mendeley","microblog","microsoft","mix","mixcloud","mixer","mizuni","modx","monero","napster","neos","nimblr","node","node_js","npm","ns8","nutritionix","octopus_deploy","odnoklassniki","odnoklassniki_square","old_republic","opencart","openid","opera","optin_monster","orcid","osi","page4","pagelines","palfed","patreon","paypal","penny_arcade","perbyte","periscope","phabricator","phoenix_framework","phoenix_squadron","php","pied_piper","pied_piper_alt","pied_piper_hat","pied_piper_pp","pied_piper_square","pinterest","pinterest_p","pinterest_square","playstation","product_hunt","pushed","python","qq","quinscape","quora","r_project","raspberry_pi","ravelry","react","reacteurope","readme","rebel","red_river","reddit","reddit_alien","reddit_square","redhat","renren","replyd","researchgate","resolving","rev","rocketchat","rockrms","rust","safari","salesforce","sass","schlix","scribd","searchengin","sellcast","sellsy","servicestack","shirtsinbulk","shopify","shopware","simplybuilt","sistrix","sith","sketch","skyatlas","skype","slack","slack_hash","slideshare","snapchat","snapchat_ghost","snapchat_square","soundcloud","sourcetree","speakap","speaker_deck","spotify","squarespace","stack_exchange","stack_overflow","stackpath","staylinked","steam","steam_square","steam_symbol","sticker_mule","strava","stripe","stripe_s","studiovinari","stumbleupon","stumbleupon_circle","superpowers","supple","suse","swift","symfony","teamspeak","telegram","telegram_plane","tencent_weibo","the_red_yeti","themeco","themeisle","think_peaks","tiktok","trade_federation","trello","tumblr","tumblr_square","twitch","twitter","twitter_square","typo3","uber","ubuntu","uikit","umbraco","uncharted","uniregistry","unity","unsplash","untappd","ups","usb","usps","ussunnah","vaadin","viacoin","viadeo","viadeo_square","viber","vimeo","vimeo_square","vimeo_v","vine","vk","vnv","vuejs","watchman_monitoring","waze","weebly","weibo","weixin","whatsapp","whatsapp_square","whmcs","wikipedia_w","windows","wix","wizards_of_the_coast","wodu","wolf_pack_battalion","wordpress","wordpress_simple","wpbeginner","wpexplorer","wpforms","wpressr","xbox","xing","xing_square","y_combinator","yahoo","yammer","yandex","yandex_international","yarn","yelp","yoast","youtube","youtube_square","zhihu"],eR=K({props:{name:{type:String,required:!0}},render(){const e=gs(hs({prefix:"fab",iconName:this.name}));return Ma({template:e==null?void 0:e.html[0]})}}),tR=K({components:{CustomIconDirectus:XL,CustomIconBookmarkSave:t4,CustomIconBox:s4,CustomIconCommitNode:f4,CustomIconGrid1:b4,CustomIconGrid2:F4,CustomIconGrid3:O4,CustomIconGrid4:M4,CustomIconGrid5:K4,CustomIconGrid6:J4,CustomIconSignalWifi1Bar:aj,CustomIconSignalWifi2Bar:pj,CustomIconSignalWifi3Bar:bj,CustomIconFlipHorizontal:Fj,CustomIconFlipVertical:Oj,CustomIconFolderMove:Mj,CustomIconFolderLock:Kj,CustomIconLogout:Yj,SocialIcon:eR},props:X({name:{type:String,required:!0},filled:{type:Boolean,default:!1},sup:{type:Boolean,default:!1},left:{type:Boolean,default:!1},right:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},clickable:{type:Boolean,default:!1},color:{type:String,default:null}},il),emits:["click"],setup(e,{emit:t}){const o=E(()=>e.sup?"sup":sl(e).value),l=E(()=>Zj.includes(e.name)?`custom-icon-${e.name}`.replace(/_/g,"-"):null),d=E(()=>xj.includes(e.name)?e.name.replace(/_/g,"-"):null);return{sizeClass:o,customIconName:l,socialIconName:d,emitClick:c};function c(i){e.disabled||t("click",i)}}}),nR=["role","tabindex"];function lR(e,t,o,l,d,c){const i=u("socialIcon");return m(),I("span",{class:re(["v-icon",[e.sizeClass,{"has-click":!e.disabled&&e.clickable,left:e.left,right:e.right}]]),role:e.clickable?"button":null,tabindex:e.clickable?0:null,style:Ke({"--v-icon-color":e.color}),onClick:t[0]||(t[0]=(...s)=>e.emitClick&&e.emitClick(...s))},[e.customIconName?(m(),F(Ue(e.customIconName),{key:0})):e.socialIconName?(m(),F(i,{key:1,name:e.socialIconName},null,8,["name"])):(m(),I("i",{key:2,class:re({filled:e.filled})},h(e.name),3))],14,nR)}var aR=q(tR,[["render",lR],["__scopeId","data-v-c0e816c0"]]);const oR=K({props:{icon:{type:String,default:"box"},title:{type:String,required:!0},type:{type:String,default:"info"},center:{type:Boolean,default:!1}}}),iR={class:"icon"},sR={class:"title type-title"},rR={class:"content"};function dR(e,t,o,l,d,c){const i=u("v-icon");return m(),I("div",{class:re(["v-info",[e.type,{center:e.center}]])},[S("div",iR,[n(i,{large:"",name:e.icon,outline:""},null,8,["name"])]),S("h2",sR,h(e.title),1),S("p",rR,[$e(e.$slots,"default",{},void 0,!0)]),$e(e.$slots,"append",{},void 0,!0)],2)}var uR=q(oR,[["render",dR],["__scopeId","data-v-0b8e46a0"]]);const cR=K({inheritAttrs:!1,props:{autofocus:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},clickable:{type:Boolean,default:!1},prefix:{type:String,default:null},suffix:{type:String,default:null},fullWidth:{type:Boolean,default:!0},placeholder:{type:String,default:null},modelValue:{type:[String,Number],default:null},nullable:{type:Boolean,default:!0},slug:{type:Boolean,default:!1},slugSeparator:{type:String,default:"-"},type:{type:String,default:"text"},hideArrows:{type:Boolean,default:!1},max:{type:Number,default:null},min:{type:Number,default:null},step:{type:Number,default:1},active:{type:Boolean,default:!1},dbSafe:{type:Boolean,default:!1},trim:{type:Boolean,default:!1},autocomplete:{type:String,default:"off"}},emits:["click","keydown","update:modelValue","focus"],setup(e,{emit:t,attrs:o}){const l=D(null),d=E(()=>({input:v,keydown:p,blur:b=>{f(),typeof o.onBlur=="function"&&o.onBlur(b)},focus:b=>t("focus",b)})),c=E(()=>H.exports.omit(o,["class"])),i=E(()=>[{"full-width":e.fullWidth,"has-click":e.clickable,disabled:e.disabled},...(o.class||"").split(" ")]),s=E(()=>e.disabled===!1&&(e.max===null||parseInt(String(e.modelValue),10)<e.max)),r=E(()=>e.disabled===!1&&(e.min===null||parseInt(String(e.modelValue),10)>e.min));return{listeners:d,attributes:c,classes:i,stepUp:_,stepDown:y,isStepUpAllowed:s,isStepDownAllowed:r,input:l};function p(b){if(!b.key)return;const w=b.key.toLowerCase(),$=["meta","shift","alt","backspace","tab","arrowup","arrowdown","arrowleft","arrowright"],k=b.target.value;e.slug===!0&&(("abcdefghijklmnopqrstuvwxyz01234567890-_~ ".split("").includes(w)||$.includes(w))===!1&&b.preventDefault(),w===" "&&k.endsWith(e.slugSeparator)&&b.preventDefault()),e.dbSafe===!0&&(("abcdefghijklmnopqrstuvwxyz01234567890_ ".split("").includes(w)||$.includes(w)||w.startsWith("arrow"))===!1&&b.preventDefault(),k.length===0&&"0123456789".split("").includes(w)&&b.preventDefault()),t("keydown",b)}function f(){e.modelValue&&e.trim&&["string","text"].includes(e.type)&&t("update:modelValue",String(e.modelValue).trim())}function v(b){let w=b.target.value;if(e.nullable===!0&&w===""){t("update:modelValue",null);return}if(e.type==="number")t("update:modelValue",Number(w));else{if(e.slug===!0){const $=w.endsWith(" ");w=bs(w,{separator:e.slugSeparator,preserveTrailingDash:!0}),$&&(w+=e.slugSeparator)}e.dbSafe===!0&&(w=w.toLowerCase(),w=w.replace(/\s/g,"_"),w=w.normalize("NFD").replace(/[\u0300-\u036f]/g,"")),t("update:modelValue",w)}}function _(){if(!!l.value&&s.value!==!1&&(l.value.stepUp(),l.value.value!=null))return t("update:modelValue",Number(l.value.value))}function y(){if(!!l.value&&r.value!==!1)return l.value.stepDown(),l.value.value?t("update:modelValue",Number(l.value.value)):t("update:modelValue",e.min||0)}}}),pR={key:0,class:"prepend-outer"},mR={key:0,class:"prepend"},fR={key:1,class:"prefix"},_R=["placeholder","autocomplete","type","min","max","step","disabled","value"],vR={key:2,class:"suffix"},yR={key:3},gR={key:4,class:"append"},hR={key:1,class:"append-outer"};function bR(e,t,o,l,d,c){const i=u("v-icon"),s=Ce("focus");return m(),I("div",{class:re(["v-input",e.classes]),onClick:t[0]||(t[0]=r=>e.$emit("click",r))},[e.$slots["prepend-outer"]?(m(),I("div",pR,[$e(e.$slots,"prepend-outer",{value:e.modelValue,disabled:e.disabled},void 0,!0)])):N("",!0),S("div",{class:re(["input",{disabled:e.disabled,active:e.active}])},[e.$slots.prepend?(m(),I("div",mR,[$e(e.$slots,"prepend",{value:e.modelValue,disabled:e.disabled},void 0,!0)])):N("",!0),e.prefix?(m(),I("span",fR,h(e.prefix),1)):N("",!0),$e(e.$slots,"input",{},()=>[te(S("input",ct({ref:"input"},e.attributes,{placeholder:e.placeholder,autocomplete:e.autocomplete,type:e.type,min:e.min,max:e.max,step:e.step,disabled:e.disabled,value:e.modelValue===null?"":String(e.modelValue)},Kl(e.listeners)),null,16,_R),[[s,e.autofocus]])],!0),e.suffix?(m(),I("span",vR,h(e.suffix),1)):N("",!0),e.type==="number"&&!e.hideArrows?(m(),I("span",yR,[n(i,{class:re([{disabled:!e.isStepUpAllowed},"step-up"]),name:"keyboard_arrow_up",clickable:"",disabled:!e.isStepUpAllowed,onClick:e.stepUp},null,8,["class","disabled","onClick"]),n(i,{class:re([{disabled:!e.isStepDownAllowed},"step-down"]),name:"keyboard_arrow_down",clickable:"",disabled:!e.isStepDownAllowed,onClick:e.stepDown},null,8,["class","disabled","onClick"])])):N("",!0),e.$slots.append?(m(),I("div",gR,[$e(e.$slots,"append",{value:e.modelValue,disabled:e.disabled},void 0,!0)])):N("",!0)],2),e.$slots["append-outer"]?(m(),I("div",hR,[$e(e.$slots,"append-outer",{value:e.modelValue,disabled:e.disabled},void 0,!0)])):N("",!0)],2)}var $R=q(cR,[["render",bR],["__scopeId","data-v-6a5193cf"]]);const kR=K({props:{mandatory:{type:Boolean,default:!1},max:{type:Number,default:-1},multiple:{type:Boolean,default:!1},modelValue:{type:Array,default:void 0},scope:{type:String,default:"item-group"}},emits:["update:modelValue"],setup(e,{emit:t}){const{modelValue:o,multiple:l,max:d,mandatory:c}=Re(e);return Ca({selection:o,onSelectionChange:i=>t("update:modelValue",i)},{multiple:l,max:d,mandatory:c},e.scope),{}}}),wR={class:"v-item-group"};function CR(e,t,o,l,d,c){return m(),I("div",wR,[$e(e.$slots,"default")])}var SR=q(kR,[["render",CR]]);const FR=K({props:{value:{type:String,default:null},scope:{type:String,default:"item-group"},active:{type:Boolean,default:void 0},watch:{type:Boolean,default:!0}},setup(e){const{active:t}=Re(e),{active:o,toggle:l}=vn({value:e.value,group:e.scope,watch:e.watch,active:t});return{isActive:o,toggle:l}}}),VR={class:"v-item"};function ER(e,t,o,l,d,c){return m(),I("div",VR,[$e(e.$slots,"default",Qe(Ze({active:e.isActive,toggle:e.toggle})))])}var IR=q(FR,[["render",ER]]);const AR=K({props:{multiple:{type:Boolean,default:!0},to:{type:String,default:""},active:{type:Boolean,default:void 0},exact:{type:Boolean,default:!1},query:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},clickable:{type:Boolean,default:!1},scope:{type:String,default:"v-list"},value:{type:[String,Number],default:void 0},dense:{type:Boolean,default:!1},open:{type:Boolean,default:!1},arrowPlacement:{type:[String,Boolean],default:"after",validator:e=>["before","after",!1].includes(e)}},emits:["click"],setup(e,{emit:t}){const{active:o,toggle:l}=vn({group:e.scope,value:e.value});return{groupActive:E(()=>o.value||e.open),toggle:l,onClick:c};function c(i){if(e.to)return null;if(e.clickable)return t("click",i);i.stopPropagation(),l()}}}),DR={class:"v-list-group"},OR={key:0,class:"items"};function PR(e,t,o,l,d,c){const i=u("v-icon"),s=u("v-list-item-icon"),r=u("v-list-item");return m(),I("li",DR,[n(r,{class:"activator",active:e.active,to:e.to,exact:e.exact,query:e.query,disabled:e.disabled,dense:e.dense,clickable:"",onClick:e.onClick},{default:a(()=>[e.$slots.default&&e.arrowPlacement&&e.arrowPlacement==="before"?(m(),F(s,{key:0,class:re(["activator-icon",{active:e.groupActive}])},{default:a(()=>[n(i,{name:"chevron_right",disabled:e.disabled,onClick:Ie(e.toggle,["stop","prevent"])},null,8,["disabled","onClick"])]),_:1},8,["class"])):N("",!0),$e(e.$slots,"activator",{active:e.groupActive},void 0,!0),e.$slots.default&&e.arrowPlacement&&e.arrowPlacement==="after"?(m(),F(s,{key:1,class:re(["activator-icon",{active:e.groupActive}])},{default:a(()=>[n(i,{name:"chevron_right",disabled:e.disabled,onClick:Ie(e.toggle,["stop","prevent"])},null,8,["disabled","onClick"])]),_:1},8,["class"])):N("",!0)]),_:3},8,["active","to","exact","query","disabled","dense","onClick"]),e.groupActive?(m(),I("ul",OR,[$e(e.$slots,"default",{},void 0,!0)])):N("",!0)])}var TR=q(AR,[["render",PR],["__scopeId","data-v-2419d436"]]);const LR={},jR={class:"v-list-item-content"};function RR(e,t){return m(),I("div",jR,[$e(e.$slots,"default")])}var MR=q(LR,[["render",RR],["__scopeId","data-v-275e8d1e"]]);const UR=K({props:{center:{type:Boolean,default:!1}}});function NR(e,t,o,l,d,c){return m(),I("div",{class:re(["v-list-item-hint",{center:e.center}])},[$e(e.$slots,"default",{},void 0,!0)],2)}var BR=q(UR,[["render",NR],["__scopeId","data-v-13faae5b"]]);const qR=K({props:{center:{type:Boolean,default:!1}}});function zR(e,t,o,l,d,c){return m(),I("div",{class:re(["v-list-item-icon",{center:e.center}])},[$e(e.$slots,"default")],2)}var KR=q(qR,[["render",zR],["__scopeId","data-v-3a2c81de"]]);const WR=K({props:{block:{type:Boolean,default:!1},dense:{type:Boolean,default:!1},to:{type:[String,Object],default:""},href:{type:String,default:void 0},disabled:{type:Boolean,default:!1},clickable:{type:Boolean,default:!1},active:{type:Boolean,default:void 0},dashed:{type:Boolean,default:!1},exact:{type:Boolean,default:!1},query:{type:Boolean,default:!1},download:{type:String,default:void 0},value:{type:[String,Number],default:void 0},nav:{type:Boolean,default:!1},scope:{type:String,default:"v-list"}},emits:["click"],setup(e,{emit:t}){const o=Yt(),{route:l,isActive:d,isExactActive:c}=Qa(e),i=E(()=>e.to?"router-link":e.href?"a":"li");vn({value:e.value,group:e.scope});const s=E(()=>Boolean(e.to||e.href||e.clickable)),r=E(()=>{if(e.active!==void 0)return e.active;if(e.to){const f=!e.query||H.exports.isEqual(o.query,l.value.query);return e.exact?c.value&&f:d.value&&f}return!1});return{component:i,isLink:s,isActiveRoute:r,onClick:p};function p(f){e.disabled!==!0&&t("click",f)}}});function HR(e,t,o,l,d,c){return m(),F(Ue(e.component),{class:re(["v-list-item",{active:e.isActiveRoute,dense:e.dense,link:e.isLink,disabled:e.disabled,dashed:e.dashed,block:e.block,nav:e.nav,clickable:e.clickable}]),to:e.to!==""?e.to:void 0,href:e.href,download:e.download,target:e.component==="a"?"_blank":void 0,onClick:e.onClick},{default:a(()=>[$e(e.$slots,"default")]),_:3},8,["to","class","href","download","target","onClick"])}var GR=q(WR,[["render",HR],["__scopeId","data-v-14721001"]]);const QR=K({props:{modelValue:{type:Array,default:null},nav:{type:Boolean,default:!1},dense:{type:Boolean,default:!1},multiple:{type:Boolean,default:!0},mandatory:{type:Boolean,default:!0},scope:{type:String,default:"v-list"}},emits:["update:modelValue","toggle"],setup(e,{emit:t}){const{modelValue:o,multiple:l,mandatory:d}=Re(e);return Ca({selection:o,onSelectionChange:c=>{t("update:modelValue",c)},onToggle:c=>{t("toggle",c)}},{mandatory:d,multiple:l},e.scope),{}}});function XR(e,t,o,l,d,c){return m(),I("ul",{class:re(["v-list",{nav:e.nav,dense:e.dense}])},[$e(e.$slots,"default")],2)}var JR=q(QR,[["render",XR],["__scopeId","data-v-b97aaa68"]]);function YR(e,t,o){const l=D(null),d=D({}),c=D({}),i=D(o.value.placement);Ct(()=>{p()}),_e(o,()=>{var v;(v=l.value)==null||v.setOptions({placement:o.value.attached?"bottom-start":o.value.placement,modifiers:f()})},{immediate:!0});const s=new MutationObserver(()=>{var v;(v=l.value)==null||v.forceUpdate()});return{popperInstance:l,placement:i,start:r,stop:p,styles:d,arrowStyles:c};function r(){return new Promise(v=>{l.value=$s(e.value,t.value,{placement:o.value.attached?"bottom-start":o.value.placement,modifiers:f(v),strategy:"fixed"}),l.value.forceUpdate(),s.observe(t.value,{attributes:!1,childList:!0,characterData:!0,subtree:!0})})}function p(){var v;(v=l.value)==null||v.destroy(),s.disconnect()}function f(v=()=>{}){var y,b;const _=[ks,ye(X({},ws),{options:{offset:o.value.attached?[0,0]:[(y=o.value.offsetX)!=null?y:0,(b=o.value.offsetY)!=null?b:8]}}),ye(X({},Cs),{options:{padding:8}}),Ss,Fs,Vs,{name:"placementUpdater",enabled:!0,phase:"afterWrite",fn({state:w}){i.value=w.placement}},{name:"applyStyles",enabled:!0,phase:"write",fn({state:w}){d.value=w.styles.popper,c.value=w.styles.arrow,v()}}];return o.value.arrow===!0&&_.push(ye(X({},Es),{options:{padding:6}})),o.value.attached===!0&&_.push({name:"sameWidth",enabled:!0,fn:({state:w})=>{w.styles.popper.width=`${w.rects.reference.width}px`},phase:"beforeWrite",requires:["computeStyles"]}),_}}const ZR=K({props:{placement:{type:String,default:"bottom"},modelValue:{type:Boolean,default:void 0},closeOnClick:{type:Boolean,default:!0},closeOnContentClick:{type:Boolean,default:!0},attached:{type:Boolean,default:!1},showArrow:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},trigger:{type:String,default:null,validator:e=>["hover","click"].includes(e)},delay:{type:Number,default:0},offsetY:{type:Number,default:8},offsetX:{type:Number,default:0}},emits:["update:modelValue"],setup(e,{emit:t}){const o=D(null),l=D(null),d=D({getBoundingClientRect(){return{top:0,left:0,bottom:0,right:0,width:0,height:0}}}),c=E(()=>bt()),i=D(null),{start:s,stop:r,styles:p,arrowStyles:f,placement:v}=YR(l,i,E(()=>({placement:e.placement,attached:e.attached,arrow:e.showArrow,offsetY:e.offsetY,offsetX:e.offsetX}))),{isActive:_,activate:y,deactivate:b,toggle:w}=A();_e(_,T=>{var U;T===!0&&(l.value=((U=o.value)==null?void 0:U.children[0])||d.value,Un(()=>{i.value=document.getElementById(c.value)}))});const{onClick:$,onPointerEnter:k,onPointerLeave:V}=M(),g=D(!1);return{id:c,activator:o,popper:i,reference:l,isActive:_,toggle:w,deactivate:b,onContentClick:L,onClickOutsideMiddleware:R,styles:p,arrowStyles:f,popperPlacement:v,activate:y,onClick:$,onPointerLeave:V,onPointerEnter:k,hoveringOnPopperContent:g};function A(){const T=D(!1),U=E({get(){return e.modelValue!==void 0?e.modelValue:T.value},async set(J){T.value=J,t("update:modelValue",J)}});return _e(i,async()=>{i.value!==null?await s():r()},{immediate:!0}),{isActive:U,activate:B,deactivate:z,toggle:W};function B(J){J&&(d.value={getBoundingClientRect(){return{top:J.clientY,left:J.clientX,bottom:0,right:0,width:0,height:0}}}),U.value=!0}function z(){U.value=!1}function W(){e.disabled!==!0&&(U.value=!U.value)}}function R(T){var U;return!((U=o.value)==null?void 0:U.contains(T.target))}function L(T){e.closeOnContentClick===!0&&T.target!==T.currentTarget&&b()}function M(){const T=D(!1);return _e(T,H.exports.debounce(W=>{W?_.value||y():b()},e.delay)),{onClick:U,onPointerLeave:z,onPointerEnter:B};function U(){e.trigger==="click"&&w()}function B(){e.trigger==="hover"&&(T.value=!0)}function z(){e.trigger==="hover"&&(T.value=!1)}}}}),xR=["id","data-placement"];function eM(e,t,o,l,d,c){const i=u("transition-bounce"),s=Ce("click-outside");return m(),I("div",{class:"v-menu",onClick:t[5]||(t[5]=(...r)=>e.onClick&&e.onClick(...r))},[S("div",{ref:"activator",class:re(["v-menu-activator",{attached:e.attached}]),onPointerenter:t[0]||(t[0]=Ie((...r)=>e.onPointerEnter&&e.onPointerEnter(...r),["stop"])),onPointerleave:t[1]||(t[1]=Ie((...r)=>e.onPointerLeave&&e.onPointerLeave(...r),["stop"]))},[$e(e.$slots,"activator",Qe(Ze({toggle:e.toggle,active:e.isActive,activate:e.activate,deactivate:e.deactivate})),void 0,!0)],34),(m(),F(ql,{to:"#menu-outlet"},[n(i,null,{default:a(()=>[e.isActive?te((m(),I("div",{id:e.id,key:e.id,class:re(["v-menu-popper",{active:e.isActive,attached:e.attached}]),"data-placement":e.popperPlacement,style:Ke(e.styles)},[S("div",{class:re(["arrow",{active:e.showArrow&&e.isActive}]),style:Ke(e.arrowStyles),"data-popper-arrow":""},null,6),S("div",{class:"v-menu-content",onClick:t[2]||(t[2]=Ie((...r)=>e.onContentClick&&e.onContentClick(...r),["stop"])),onPointerenter:t[3]||(t[3]=Ie((...r)=>e.onPointerEnter&&e.onPointerEnter(...r),["stop"])),onPointerleave:t[4]||(t[4]=Ie((...r)=>e.onPointerLeave&&e.onPointerLeave(...r),["stop"]))},[$e(e.$slots,"default",Qe(Ze({toggle:e.toggle,active:e.isActive,activate:e.activate,deactivate:e.deactivate})),void 0,!0)],32)],14,xR)),[[s,{handler:e.deactivate,middleware:e.onClickOutsideMiddleware,disabled:e.isActive===!1||e.closeOnClick===!1,events:["click"]}]]):N("",!0)]),_:3})]))])}var tM=q(ZR,[["render",eM],["__scopeId","data-v-d3653af8"]]);const nM=K({props:{type:{type:String,default:"normal"},icon:{type:[String,Boolean],default:null},center:{type:Boolean,default:!1}},setup(e){return{iconName:E(()=>e.icon!==!1&&typeof e.icon=="string"?e.icon:e.type=="info"?"info":e.type=="success"?"check_circle":e.type=="warning"?"warning":e.type=="danger"?"error":"info")}}});function lM(e,t,o,l,d,c){const i=u("v-icon");return m(),I("div",{class:re(["v-notice",[e.type,{center:e.center}]])},[e.icon!==!1?(m(),F(i,{key:0,name:e.iconName,left:""},null,8,["name"])):N("",!0),$e(e.$slots,"default")],2)}var aM=q(nM,[["render",lM],["__scopeId","data-v-2d5b0a1b"]]);const oM=K({props:{active:{type:Boolean,default:!1},absolute:{type:Boolean,default:!1},clickable:{type:Boolean,default:!0}},emits:["click"],setup(e,{emit:t}){return{onClick:o};function o(l){t("click",l)}}}),iM=e=>(He("data-v-3e74acbb"),e=e(),Ge(),e),sM=iM(()=>S("div",{class:"overlay"},null,-1)),rM={key:0,class:"content"};function dM(e,t,o,l,d,c){return m(),I("div",{class:re(["v-overlay",{active:e.active,absolute:e.absolute,"has-click":e.clickable}]),onClick:t[0]||(t[0]=(...i)=>e.onClick&&e.onClick(...i))},[sM,e.active?(m(),I("div",rM,[$e(e.$slots,"default",{},void 0,!0)])):N("",!0)],2)}var uM=q(oM,[["render",dM],["__scopeId","data-v-3e74acbb"]]);const cM=K({props:{disabled:{type:Boolean,default:!1},length:{type:Number,default:null,required:!0,validator:e=>e%1==0},totalVisible:{type:Number,default:void 0,validator:e=>e>=0},modelValue:{type:Number,default:null},showFirstLast:{type:Boolean,default:!1}},emits:["update:modelValue"],setup(e,{emit:t}){const o=E(()=>{if(e.totalVisible===void 0)return[];let i,s;if(wo(e.totalVisible)||e.length<=e.totalVisible)i=1,s=e.length;else{const r=Math.floor(e.totalVisible/2),p=Math.ceil(e.totalVisible/2)-1;e.modelValue<=r?(i=1,s=e.totalVisible):e.modelValue+p>=e.length?(i=e.length-e.totalVisible+1,s=e.length):(i=e.modelValue-r,s=e.modelValue+p)}return Array.from(Array(s+1-i).keys()).map(r=>i+r)});return{toPage:c,toPrev:l,toNext:d,visiblePages:o};function l(){c(e.modelValue-1)}function d(){c(e.modelValue+1)}function c(i){t("update:modelValue",i)}}}),pM={class:"v-pagination"},mM=O(" 1 "),fM={key:1,class:"gap"},_M={key:2,class:"gap"};function vM(e,t,o,l,d,c){const i=u("v-icon"),s=u("v-button");return m(),I("div",pM,[n(s,{class:"previous",disabled:e.disabled||e.modelValue===1,secondary:"",icon:"",small:"",onClick:e.toPrev},{default:a(()=>[n(i,{name:"chevron_left"})]),_:1},8,["disabled","onClick"]),e.showFirstLast&&e.modelValue>Math.ceil(e.totalVisible/2)+1&&e.length>e.totalVisible?(m(),F(s,{key:0,class:"page",secondary:"",small:"",disabled:e.disabled,onClick:t[0]||(t[0]=r=>e.toPage(1))},{default:a(()=>[mM]),_:1},8,["disabled"])):N("",!0),e.showFirstLast&&e.modelValue>Math.ceil(e.totalVisible/2)+1&&e.length>e.totalVisible+1?(m(),I("span",fM," ... ")):N("",!0),(m(!0),I(oe,null,he(e.visiblePages,r=>(m(),F(s,{key:r,class:re([{active:e.modelValue===r},"page"]),secondary:"",small:"",disabled:e.disabled,onClick:p=>e.toPage(r)},{default:a(()=>[O(h(r),1)]),_:2},1032,["class","disabled","onClick"]))),128)),e.showFirstLast&&e.modelValue<e.length-Math.ceil(e.totalVisible/2)&&e.length>e.totalVisible+1?(m(),I("span",_M," ... ")):N("",!0),e.showFirstLast&&e.modelValue<=e.length-Math.ceil(e.totalVisible/2)&&e.length>e.totalVisible?(m(),F(s,{key:3,class:re([{active:e.modelValue===e.length},"page"]),secondary:"",small:"",disabled:e.disabled,onClick:t[1]||(t[1]=r=>e.toPage(e.length))},{default:a(()=>[O(h(e.length),1)]),_:1},8,["class","disabled"])):N("",!0),n(s,{class:"next",disabled:e.disabled||e.modelValue===e.length,secondary:"",icon:"",small:"",onClick:e.toNext},{default:a(()=>[n(i,{name:"chevron_right"})]),_:1},8,["disabled","onClick"])])}var yM=q(cM,[["render",vM],["__scopeId","data-v-7c59d706"]]);const gM=K({props:X({indeterminate:{type:Boolean,default:!1},value:{type:Number,default:0}},il),emits:["animationiteration"],setup(e){const t=sl(e),o=E(()=>({"stroke-dasharray":e.value/100*78.5+", 78.5"}));return{sizeClass:t,circleStyle:o}}}),hM=e=>(He("data-v-a75ea6ac"),e=e(),Ge(),e),bM=hM(()=>S("path",{class:"circle-background",d:"M12.5,0A12.5,12.5,0,1,1,0,12.5,12.5,12.5,0,0,1,12.5,0Z",transform:"translate(2.5 2.5)"},null,-1));function $M(e,t,o,l,d,c){return m(),I("div",{class:re(["v-progress-circular",e.sizeClass])},[(m(),I("svg",{class:re(["circle",{indeterminate:e.indeterminate}]),viewBox:"0 0 30 30",onAnimationiteration:t[0]||(t[0]=i=>e.$emit("animationiteration"))},[bM,S("path",{class:"circle-path",style:Ke(e.circleStyle),d:"M12.5,0A12.5,12.5,0,1,1,0,12.5,12.5,12.5,0,0,1,12.5,0Z",transform:"translate(2.5 2.5)"},null,4)],34)),$e(e.$slots,"default",{},void 0,!0)],2)}var kM=q(gM,[["render",$M],["__scopeId","data-v-a75ea6ac"]]);const wM=K({props:{absolute:{type:Boolean,default:!1},bottom:{type:Boolean,default:!1},fixed:{type:Boolean,default:!1},indeterminate:{type:Boolean,default:!1},rounded:{type:Boolean,default:!1},top:{type:Boolean,default:!1},value:{type:Number,default:0},colorful:{type:Boolean,default:!1}},emits:["animationiteration"],setup(e){return{color:E(()=>e.value<=33?"danger":e.value<=66?"warning":"success")}}});function CM(e,t,o,l,d,c){return m(),I("div",{class:re(["v-progress-linear",[{absolute:e.absolute,bottom:e.bottom,fixed:e.fixed,indeterminate:e.indeterminate,rounded:e.rounded,top:e.top,colorful:e.colorful},e.color]]),onAnimationiteration:t[0]||(t[0]=i=>e.$emit("animationiteration"))},[S("div",{class:"inner",style:Ke({width:e.value+"%"})},null,4),$e(e.$slots,"default",{value:e.value},void 0,!0)],34)}var SM=q(wM,[["render",CM],["__scopeId","data-v-4aeb976a"]]);const FM=K({props:{value:{type:String,required:!0},modelValue:{type:String,default:null},label:{type:String,default:null},disabled:{type:Boolean,default:!1},iconOn:{type:String,default:"radio_button_checked"},iconOff:{type:String,default:"radio_button_unchecked"},block:{type:Boolean,default:!1}},emits:["update:modelValue"],setup(e,{emit:t}){const o=E(()=>e.modelValue===e.value),l=E(()=>o.value?e.iconOn:e.iconOff);return{isChecked:o,emitValue:d,icon:l};function d(){t("update:modelValue",e.value)}}}),VM=["aria-pressed","disabled"],EM={class:"label type-text"};function IM(e,t,o,l,d,c){const i=u("v-icon");return m(),I("button",{class:re(["v-radio",{checked:e.isChecked,block:e.block}]),type:"button","aria-pressed":e.isChecked?"true":"false",disabled:e.disabled,onClick:t[0]||(t[0]=(...s)=>e.emitValue&&e.emitValue(...s))},[n(i,{name:e.icon},null,8,["name"]),S("span",EM,[$e(e.$slots,"label",{},()=>[O(h(e.label),1)],!0)])],10,VM)}var AM=q(FM,[["render",IM],["__scopeId","data-v-36e4a678"]]);function ei(e,t,o){const l=D(""),d=E({get(){return l.value||(c.value?e.value:"")},set(i){i===null?(l.value="",o(null)):(l.value=i,o(i))}}),c=E(()=>{if(t.value===null)return!1;const i=t.value.map(s=>s.value);return e.value!==null&&e.value.length>0&&i.includes(e.value)===!1});return{otherValue:d,usesOtherValue:c}}function ti(e,t,o){const l=D([]);return _e(e,i=>{i!==null&&Array.isArray(i)!==!1&&t.value!==null&&i.forEach(s=>{if(t.value===null)return;t.value.map(f=>f.value).includes(s)===!0===!1&&l.value.map(_=>_.value).includes(s)===!0===!1&&d(s)})}),{otherValues:l,addOtherValue:d,setOtherValue:c};function d(i=""){l.value=[...l.value,{key:bt(),value:i}]}function c(i,s){const r=l.value.find(f=>f.key===i),p=(e.value||[]).filter(f=>f!==(r==null?void 0:r.value));if(s===null)l.value=l.value.filter(f=>f.key!==i),p.length===0?o(null):o(p);else{l.value=l.value.map(v=>(v.key===i&&(v.value=s),v));const f=[...p,s];o(f)}}}const DM=K({name:"SelectListItem",props:{item:{type:Object,required:!0},modelValue:{type:[String,Number,Array],default:null},multiple:{type:Boolean,required:!0},allowOther:{type:Boolean,required:!0}},emits:["update:modelValue"]}),OM={key:0,class:"item-text"};function PM(e,t,o,l,d,c){const i=u("v-divider"),s=u("v-icon"),r=u("v-list-item-icon"),p=u("v-checkbox"),f=u("v-list-item-content"),v=u("v-list-item");return e.item.divider===!0?(m(),F(i,{key:0})):(m(),F(v,{key:1,active:e.multiple?(e.modelValue||[]).includes(e.item.value):e.modelValue===e.item.value,disabled:e.item.disabled,clickable:"",value:e.item.value,onClick:t[1]||(t[1]=_=>e.multiple?null:e.$emit("update:modelValue",e.item.value))},{default:a(()=>[e.multiple===!1&&e.allowOther===!1&&e.item.icon?(m(),F(r,{key:0},{default:a(()=>[n(s,{name:e.item.icon},null,8,["name"])]),_:1})):N("",!0),n(f,null,{default:a(()=>[e.multiple===!1||e.item.selectable===!1?(m(),I("span",OM,h(e.item.text),1)):(m(),F(p,{key:1,"model-value":e.modelValue||[],label:e.item.text,value:e.item.value,disabled:e.item.disabled,"onUpdate:modelValue":t[0]||(t[0]=_=>e.$emit("update:modelValue",_.length>0?_:null))},null,8,["model-value","label","value","disabled"]))]),_:1})]),_:1},8,["active","disabled","value"]))}var ni=q(DM,[["render",PM]]);const TM=K({name:"SelectListItemGroup",components:{SelectListItem:ni},props:{item:{type:Object,required:!0},modelValue:{type:[String,Number,Array],default:null},multiple:{type:Boolean,required:!0},allowOther:{type:Boolean,required:!0}},emits:["update:modelValue"]}),LM={key:0,class:"item-text"};function jM(e,t,o,l,d,c){const i=u("v-icon"),s=u("v-list-item-icon"),r=u("v-checkbox"),p=u("v-list-item-content"),f=u("select-list-item-group",!0),v=u("select-list-item"),_=u("v-list-group");return m(),F(_,{clickable:e.item.selectable,value:e.item.value},{activator:a(()=>[e.multiple===!1&&e.allowOther===!1&&e.item.icon?(m(),F(s,{key:0},{default:a(()=>[n(i,{name:e.item.icon},null,8,["name"])]),_:1})):N("",!0),n(p,null,{default:a(()=>[e.multiple===!1||e.item.selectable===!1?(m(),I("span",LM,h(e.item.text),1)):(m(),F(r,{key:1,"model-value":e.modelValue||[],label:e.item.text,value:e.item.value,disabled:e.item.disabled,"onUpdate:modelValue":t[0]||(t[0]=y=>e.$emit("update:modelValue",y.length>0?y:null))},null,8,["model-value","label","value","disabled"]))]),_:1})]),default:a(()=>[(m(!0),I(oe,null,he(e.item.children,(y,b)=>(m(),I(oe,{key:b},[y.children?(m(),F(f,{key:0,item:y,"model-value":e.modelValue,multiple:e.multiple,"allow-other":e.allowOther,"onUpdate:modelValue":t[1]||(t[1]=w=>e.$emit("update:modelValue",w))},null,8,["item","model-value","multiple","allow-other"])):(m(),F(v,{key:1,"model-value":e.modelValue,item:y,multiple:e.multiple,"allow-other":e.allowOther,"onUpdate:modelValue":t[2]||(t[2]=w=>e.$emit("update:modelValue",w))},null,8,["model-value","item","multiple","allow-other"]))],64))),128))]),_:1},8,["clickable","value"])}var RM=q(TM,[["render",jM]]);const MM=K({components:{SelectListItemGroup:RM,SelectListItem:ni},props:{items:{type:Array,required:!0},itemText:{type:String,default:"text"},itemValue:{type:String,default:"value"},itemIcon:{type:String,default:null},itemDisabled:{type:String,default:"disabled"},itemSelectable:{type:String,default:"selectable"},itemChildren:{type:String,default:"children"},modelValue:{type:[Array,String,Number,Boolean],default:null},multiple:{type:Boolean,default:!1},mandatory:{type:Boolean,default:!0},placeholder:{type:String,default:null},fullWidth:{type:Boolean,default:!0},disabled:{type:Boolean,default:!1},showDeselect:{type:Boolean,default:!1},allowOther:{type:Boolean,default:!1},closeOnContentClick:{type:Boolean,default:!0},inline:{type:Boolean,default:!1},multiplePreviewThreshold:{type:Number,default:3},placement:{type:String,default:"bottom"}},emits:["update:modelValue","group-toggle"],setup(e,{emit:t}){const{t:o}=ae(),{internalItems:l}=v(),{displayValue:d}=_(),{modelValue:c}=Re(e),{otherValue:i,usesOtherValue:s}=ei(c,l,y=>t("update:modelValue",y)),{otherValues:r,addOtherValue:p,setOtherValue:f}=ti(c,l,y=>t("update:modelValue",y));return{t:o,internalItems:l,displayValue:d,otherValue:i,usesOtherValue:s,otherValues:r,addOtherValue:p,setOtherValue:f};function v(){return{internalItems:E(()=>{const b=$=>{if(typeof $=="string")return{text:$,value:$};if($.divider===!0)return{value:null,divider:!0};const k=H.exports.get($,e.itemChildren)?H.exports.get($,e.itemChildren).map(b):null;return{text:H.exports.get($,e.itemText),value:H.exports.get($,e.itemValue),icon:H.exports.get($,e.itemIcon),disabled:H.exports.get($,e.itemDisabled),selectable:H.exports.get($,e.itemSelectable),children:k}};return e.items.map(b)})}}function _(){return{displayValue:E(()=>{if(Array.isArray(e.modelValue)){if(e.modelValue.length<e.multiplePreviewThreshold)return e.modelValue.map(w=>b(w)||w).join(", ");{const w=l.value.length+r.value.length,$=e.modelValue.length;return w===$?o("all_items"):o("item_count",$)}}return b(e.modelValue)||e.modelValue})};function b(w){return $(l.value);function $(k){var g;let V=(g=k.find(A=>A.value===w))==null?void 0:g.text;for(const A of k)V||A.children&&(V=$(A.children));return V}}}}}),UM=["onClick"],NM=["placeholder"],BM=["value","placeholder","onInput","onBlur"];function qM(e,t,o,l,d,c){const i=u("v-icon"),s=u("v-input"),r=u("v-list-item-icon"),p=u("v-list-item-content"),f=u("v-list-item"),v=u("v-divider"),_=u("select-list-item-group"),y=u("select-list-item"),b=u("v-checkbox"),w=u("v-list"),$=u("v-menu"),k=Ce("focus");return m(),F($,{class:"v-select",disabled:e.disabled,attached:e.inline===!1,"show-arrow":e.inline===!0,"close-on-content-click":e.closeOnContentClick,placement:e.placement},{activator:a(({toggle:V,active:g})=>[e.inline?(m(),I("div",{key:0,class:re(["inline-display",{placeholder:!e.displayValue}]),onClick:V},[$e(e.$slots,"preview",{},()=>[O(h(e.displayValue||e.placeholder),1)],!0),n(i,{name:"expand_more",class:re({active:g})},null,8,["class"])],10,UM)):$e(e.$slots,"preview",{key:1},()=>[n(s,{"full-width":e.fullWidth,readonly:"","model-value":e.displayValue,clickable:"",placeholder:e.placeholder,disabled:e.disabled,active:g,onClick:V},Ne({append:a(()=>[n(i,{name:"expand_more",class:re({active:g})},null,8,["class"]),$e(e.$slots,"append",{},void 0,!0)]),_:2},[e.$slots.prepend?{name:"prepend",fn:a(()=>[$e(e.$slots,"prepend",{},void 0,!0)])}:void 0]),1032,["full-width","model-value","placeholder","disabled","active","onClick"])],!0)]),default:a(()=>[n(w,{class:"list",mandatory:e.mandatory,onToggle:t[9]||(t[9]=V=>e.$emit("group-toggle",V))},{default:a(()=>[e.showDeselect?(m(),I(oe,{key:0},[n(f,{clickable:"",disabled:e.modelValue===null,onClick:t[0]||(t[0]=V=>e.$emit("update:modelValue",null))},{default:a(()=>[e.multiple===!0?(m(),F(r,{key:0},{default:a(()=>[n(i,{name:"close"})]),_:1})):N("",!0),n(p,null,{default:a(()=>[O(h(e.multiple?e.t("deselect_all"):e.t("deselect")),1)]),_:1}),e.multiple===!1?(m(),F(r,{key:1},{default:a(()=>[n(i,{name:"close"})]),_:1})):N("",!0)]),_:1},8,["disabled"]),n(v)],64)):N("",!0),(m(!0),I(oe,null,he(e.internalItems,(V,g)=>(m(),I(oe,{key:g},[V.children?(m(),F(_,{key:0,item:V,"model-value":e.modelValue,multiple:e.multiple,"allow-other":e.allowOther,"onUpdate:modelValue":t[1]||(t[1]=A=>e.$emit("update:modelValue",A))},null,8,["item","model-value","multiple","allow-other"])):(m(),F(y,{key:1,"model-value":e.modelValue,item:V,multiple:e.multiple,"allow-other":e.allowOther,"onUpdate:modelValue":t[2]||(t[2]=A=>e.$emit("update:modelValue",A))},null,8,["model-value","item","multiple","allow-other"]))],64))),128)),e.allowOther&&e.multiple===!1?(m(),F(f,{key:1,active:e.usesOtherValue,onClick:t[5]||(t[5]=Ie(()=>{},["stop"]))},{default:a(()=>[n(p,null,{default:a(()=>[te(S("input",{"onUpdate:modelValue":t[3]||(t[3]=V=>e.otherValue=V),class:"other-input",placeholder:e.t("other"),onFocus:t[4]||(t[4]=V=>e.otherValue?e.$emit("update:modelValue",e.otherValue):null)},null,40,NM),[[Wl,e.otherValue]])]),_:1})]),_:1},8,["active"])):N("",!0),e.allowOther&&e.multiple===!0?(m(),I(oe,{key:2},[(m(!0),I(oe,null,he(e.otherValues,V=>(m(),F(f,{key:V.key,active:(e.modelValue||[]).includes(V.value),onClick:t[7]||(t[7]=Ie(()=>{},["stop"]))},{default:a(()=>[n(r,null,{default:a(()=>[n(b,{"model-value":e.modelValue||[],value:V.value,"onUpdate:modelValue":t[6]||(t[6]=g=>e.$emit("update:modelValue",g.length>0?g:null))},null,8,["model-value","value"])]),_:2},1024),n(p,null,{default:a(()=>[te(S("input",{class:"other-input",value:V.value,placeholder:e.t("other"),onInput:g=>e.setOtherValue(V.key,g.target.value),onBlur:g=>V.value.length===0&&e.setOtherValue(V.key,null)},null,40,BM),[[k]])]),_:2},1024),n(r,null,{default:a(()=>[n(i,{name:"close",clickable:"",onClick:g=>e.setOtherValue(V.key,null)},null,8,["onClick"])]),_:2},1024)]),_:2},1032,["active"]))),128)),n(f,{onClick:t[8]||(t[8]=Ie(V=>e.addOtherValue(),["stop"]))},{default:a(()=>[n(r,null,{default:a(()=>[n(i,{name:"add"})]),_:1}),n(p,null,{default:a(()=>[O(h(e.t("other")),1)]),_:1})]),_:1})],64)):N("",!0)]),_:1},8,["mandatory"])]),_:3},8,["disabled","attached","show-arrow","close-on-content-click","placement"])}var zM=q(MM,[["render",qM],["__scopeId","data-v-f8b263ca"]]);const KM=K({props:{},setup(){return{}}}),WM={class:"v-sheet"};function HM(e,t,o,l,d,c){return m(),I("div",WM,[$e(e.$slots,"default",{},void 0,!0)])}var GM=q(KM,[["render",HM],["__scopeId","data-v-714b5c50"]]);const QM=K({props:{type:{type:String,default:"input"}}}),li=e=>(He("data-v-9bf1f4de"),e=e(),Ge(),e),XM=li(()=>S("div",{class:"icon"},null,-1)),JM=li(()=>S("div",{class:"text"},null,-1));function YM(e,t,o,l,d,c){return m(),I("div",{class:re([e.type,"v-skeleton-loader"])},[e.type==="list-item-icon"?(m(),I(oe,{key:0},[XM,JM],64)):N("",!0)],2)}var ZM=q(QM,[["render",YM],["__scopeId","data-v-9bf1f4de"]]);const xM=K({props:{disabled:{type:Boolean,default:!1},showThumbLabel:{type:Boolean,default:!1},max:{type:Number,default:100},min:{type:Number,default:0},step:{type:Number,default:1},showTicks:{type:Boolean,default:!1},alwaysShowValue:{type:Boolean,default:!1},modelValue:{type:Number,default:0}},emits:["change","update:modelValue"],setup(e,{emit:t}){return{styles:E(()=>{if(e.modelValue===null)return{"--_v-slider-percentage":50};let c=(e.modelValue-e.min)/(e.max-e.min)*100;return isNaN(c)&&(c=0),{"--_v-slider-percentage":c}}),onChange:l,onInput:d};function l(c){const i=c.target;t("change",Number(i.value))}function d(c){const i=c.target;t("update:modelValue",Number(i.value))}}}),e5=e=>(He("data-v-322c9630"),e=e(),Ge(),e),t5={key:0,class:"prepend"},n5=["disabled","value","max","min","step"],l5=e5(()=>S("div",{class:"fill"},null,-1)),a5={key:0,class:"ticks"},o5={key:1,class:"thumb-label-wrapper"},i5={key:1,class:"append"};function s5(e,t,o,l,d,c){return m(),I("div",{class:"v-slider",style:Ke(e.styles)},[e.$slots.prepend?(m(),I("div",t5,[$e(e.$slots,"prepend",{value:e.modelValue},void 0,!0)])):N("",!0),S("div",{class:re(["slider",{disabled:e.disabled}])},[S("input",{disabled:e.disabled,type:"range",value:e.modelValue,max:e.max,min:e.min,step:e.step,onChange:t[0]||(t[0]=(...i)=>e.onChange&&e.onChange(...i)),onInput:t[1]||(t[1]=(...i)=>e.onInput&&e.onInput(...i))},null,40,n5),l5,e.showTicks?(m(),I("div",a5,[(m(!0),I(oe,null,he((e.max-e.min)/e.step+1,i=>(m(),I("span",{key:i,class:"tick"}))),128))])):N("",!0),e.showThumbLabel?(m(),I("div",o5,[S("div",{class:re(["thumb-label",{visible:e.alwaysShowValue}])},[$e(e.$slots,"thumb-label type-text",{value:e.modelValue},()=>[O(h(e.modelValue),1)],!0)],2)])):N("",!0)],2),e.$slots.append?(m(),I("div",i5,[$e(e.$slots,"append",{value:e.modelValue},void 0,!0)])):N("",!0)],4)}var r5=q(xM,[["render",s5],["__scopeId","data-v-322c9630"]]);const d5=K({props:{value:{type:String,default:null},modelValue:{type:[Boolean,Array],default:!1},label:{type:String,default:null},disabled:{type:Boolean,default:!1}},emits:["update:modelValue"],setup(e,{emit:t}){const o=E(()=>e.modelValue instanceof Array?e.modelValue.includes(e.value):e.modelValue===!0);return{isChecked:o,toggleInput:l};function l(){if(e.modelValue instanceof Array){const d=[...e.modelValue];o.value===!1?d.push(e.value):d.splice(d.indexOf(e.value),1),t("update:modelValue",d)}else t("update:modelValue",!o.value)}}}),u5=e=>(He("data-v-9eb85040"),e=e(),Ge(),e),c5=["aria-pressed","disabled"],p5=u5(()=>S("span",{class:"switch"},null,-1)),m5={class:"label type-label"};function f5(e,t,o,l,d,c){return m(),I("button",{class:"v-switch",type:"button",role:"switch","aria-pressed":e.isChecked?"true":"false",disabled:e.disabled,onClick:t[0]||(t[0]=(...i)=>e.toggleInput&&e.toggleInput(...i))},[p5,S("span",m5,[$e(e.$slots,"label",{},()=>[O(h(e.label),1)],!0)])],8,c5)}var _5=q(d5,[["render",f5],["__scopeId","data-v-9eb85040"]]);const v5=K({props:{headers:{type:Array,required:!0},sort:{type:Object,required:!0},showSelect:{type:Boolean,default:!1},showResize:{type:Boolean,default:!1},showManualSort:{type:Boolean,default:!1},someItemsSelected:{type:Boolean,default:!1},allItemsSelected:{type:Boolean,default:!1},fixed:{type:Boolean,default:!1},mustSort:{type:Boolean,default:!1},hasItemAppendSlot:{type:Boolean,default:!1},manualSortKey:{type:String,default:null}},emits:["update:sort","toggle-select-all","update:headers"],setup(e,{emit:t}){const{t:o}=ae(),l=D(!1),d=D(0),c=D(0),i=D(null);return Fn(window,"pointermove",H.exports.throttle(_,40)),Fn(window,"pointerup",y),{t:o,changeSort:p,dragging:l,dragHeader:i,dragStartWidth:c,dragStartX:d,getClassesForHeader:s,onMouseMove:_,onResizeHandleMouseDown:v,toggleManualSort:b,toggleSelectAll:f,getTooltipForSortIcon:r};function s(w){const $=[];return w.align&&$.push(`align-${w.align}`),w.sortable&&$.push("sortable"),e.sort.by===w.value&&(e.sort.desc===!1?$.push("sort-asc"):$.push("sort-desc")),$}function r(w){return e.sort.by===w.value&&e.sort.desc===!1?"sort_desc":"sort_asc"}function p(w){if(w.sortable!==!1&&l.value!==!0)return w.value===e.sort.by?e.mustSort?t("update:sort",{by:e.sort.by,desc:!e.sort.desc}):e.sort.desc===!1?t("update:sort",{by:e.sort.by,desc:!0}):t("update:sort",{by:null,desc:!1}):t("update:sort",{by:w.value,desc:!1})}function f(){t("toggle-select-all",!e.allItemsSelected)}function v(w,$){const V=$.target.parentElement;l.value=!0,d.value=$.pageX,c.value=V.offsetWidth,i.value=w}function _(w){if(l.value===!0){const $=c.value+(w.pageX-d.value),V=H.exports.clone(e.headers).map(g=>{var A;return g.value===((A=i.value)==null?void 0:A.value)?ye(X({},g),{width:Math.max(32,$)}):g});t("update:headers",V)}}function y(){l.value===!0&&(l.value=!1)}function b(){e.sort.by===e.manualSortKey?t("update:sort",{by:null,desc:!1}):t("update:sort",{by:e.manualSortKey,desc:!1})}}}),y5=e=>(He("data-v-35ccb000"),e=e(),Ge(),e),g5={key:1,class:"select cell",scope:"col"},h5=["onClick"],b5=["onPointerdown"],$5=y5(()=>S("th",{class:"spacer cell",scope:"col"},null,-1)),k5={key:2,class:"spacer cell",scope:"col"};function w5(e,t,o,l,d,c){const i=u("v-icon"),s=u("v-checkbox"),r=Ce("tooltip");return m(),I("thead",{class:re(["table-header",{dragging:e.dragging}])},[S("tr",{class:re({fixed:e.fixed})},[e.showManualSort?(m(),I("th",{key:0,class:re(["manual cell",{"sorted-manually":e.sort.by===e.manualSortKey}]),scope:"col",onClick:t[0]||(t[0]=(...p)=>e.toggleManualSort&&e.toggleManualSort(...p))},[te(n(i,{name:"sort",small:""},null,512),[[r,e.t("toggle_manual_sorting")]])],2)):N("",!0),e.showSelect?(m(),I("th",g5,[n(s,{"model-value":e.allItemsSelected,indeterminate:e.someItemsSelected,"onUpdate:modelValue":e.toggleSelectAll},null,8,["model-value","indeterminate","onUpdate:modelValue"])])):N("",!0),(m(!0),I(oe,null,he(e.headers,p=>(m(),I("th",{key:p.value,class:re([e.getClassesForHeader(p),"cell"]),scope:"col"},[S("div",{class:"content",onClick:f=>e.changeSort(p)},[te(S("span",null,[$e(e.$slots,`header.${p.value}`,{header:p},()=>[O(h(p.text),1)],!0)],512),[[Et,p.width>90||p.width===null]]),p.sortable?te((m(),F(i,{key:0,name:"sort",class:"sort-icon",small:""},null,512)),[[r,e.t(e.getTooltipForSortIcon(p)),void 0,{top:!0}]]):N("",!0)],8,h5),e.showResize?(m(),I("span",{key:0,class:"resize-handle",onClick:t[1]||(t[1]=Ie(()=>{},["stop"])),onPointerdown:f=>e.onResizeHandleMouseDown(p,f)},null,40,b5)):N("",!0)],2))),128)),$5,e.hasItemAppendSlot?(m(),I("th",k5)):N("",!0)],2)],2)}var C5=q(v5,[["render",w5],["__scopeId","data-v-35ccb000"]]);const S5=K({props:{headers:{type:Array,required:!0},item:{type:Object,required:!0},showSelect:{type:Boolean,default:!1},showManualSort:{type:Boolean,default:!1},isSelected:{type:Boolean,default:!1},subdued:{type:Boolean,default:!1},sortedManually:{type:Boolean,default:!1},hasClickListener:{type:Boolean,default:!1},height:{type:Number,default:48}},emits:["click","item-selected"]}),F5=e=>(He("data-v-3e001747"),e=e(),Ge(),e),V5=F5(()=>S("td",{class:"spacer cell"},null,-1));function E5(e,t,o,l,d,c){const i=u("v-icon"),s=u("v-checkbox"),r=u("v-text-overflow"),p=u("value-null");return m(),I("tr",{class:re(["table-row",{subdued:e.subdued,clickable:e.hasClickListener}]),style:Ke({"--table-row-height":e.height+2+"px","--table-row-line-height":1}),onClick:t[4]||(t[4]=f=>e.$emit("click"))},[e.showManualSort?(m(),I("td",{key:0,class:"manual cell",onClick:t[0]||(t[0]=Ie(()=>{},["stop"]))},[n(i,{name:"drag_handle",class:re(["drag-handle",{"sorted-manually":e.sortedManually}])},null,8,["class"])])):N("",!0),e.showSelect?(m(),I("td",{key:1,class:"select cell",onClick:t[2]||(t[2]=Ie(()=>{},["stop"]))},[n(s,{"model-value":e.isSelected,"onUpdate:modelValue":t[1]||(t[1]=f=>e.$emit("item-selected",f))},null,8,["model-value"])])):N("",!0),(m(!0),I(oe,null,he(e.headers,f=>(m(),I("td",{key:f.value,class:re(["cell",`align-${f.align}`])},[$e(e.$slots,`item.${f.value}`,{item:e.item},()=>[f.value.split(".").reduce((v,_)=>v[_],e.item)?(m(),F(r,{key:0,text:f.value.split(".").reduce((v,_)=>v[_],e.item)},null,8,["text"])):(m(),F(p,{key:1}))],!0)],2))),128)),V5,e.$slots["item-append"]?(m(),I("td",{key:2,class:"append cell",onClick:t[3]||(t[3]=Ie(()=>{},["stop"]))},[$e(e.$slots,"item-append",{},void 0,!0)])):N("",!0)],6)}var I5=q(S5,[["render",E5],["__scopeId","data-v-3e001747"]]);const ai={text:"",value:"",align:"left",sortable:!0,width:null},A5=K({components:{TableHeader:C5,TableRow:I5,Draggable:wt},props:{headers:{type:Array,required:!0},items:{type:Array,required:!0},itemKey:{type:String,default:"id"},sort:{type:Object,default:null},mustSort:{type:Boolean,default:!1},showSelect:{type:Boolean,default:!1},showResize:{type:Boolean,default:!1},showManualSort:{type:Boolean,default:!1},manualSortKey:{type:String,default:null},modelValue:{type:Array,default:()=>[]},fixedHeader:{type:Boolean,default:!1},loading:{type:Boolean,default:!1},loadingText:{type:String,default:We.global.t("loading")},noItemsText:{type:String,default:We.global.t("no_items")},serverSort:{type:Boolean,default:!1},rowHeight:{type:Number,default:48},selectionUseKeys:{type:Boolean,default:!1},inline:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},clickable:{type:Boolean,default:!0}},emits:["click:row","update:sort","update:items","item-selected","update:modelValue","manual-sort","update:headers"],setup(e,{emit:t,slots:o}){const l=E({get:()=>e.headers.map($=>X(X({},ai),$)).map($=>($.width&&$.width<24&&($.width=24),$)),set:$=>{t("update:headers",$.map(k=>{const V=[];return H.exports.forEach(k,(g,A)=>{g!==ai[A]&&V.push(A)}),H.exports.pick(k,V)}))}}),d=D({by:null,desc:!1}),c=E({get:()=>e.sort||d.value,set:$=>{t("update:sort",$),d.value=$}}),i=E(()=>o["item-append"]!==void 0),s=E(()=>{let $=l.value.length+1;return e.showSelect&&$++,e.showManualSort&&$++,i.value&&$++,`1 / span ${$}`}),r=E({get:()=>{if(e.serverSort===!0||c.value.by===e.manualSortKey||c.value.by===null)return e.items;const $=H.exports.sortBy(e.items,[c.value.by]);return c.value.desc===!0?$.reverse():$},set:$=>{t("update:items",$)}}),p=E(()=>e.loading===!1&&e.modelValue.length===e.items.length),f=E(()=>e.modelValue.length>0&&p.value===!1),v=E(()=>{let $=l.value.map(k=>k.width?`${k.width}px`:"160px").reduce((k,V)=>k+=" "+V,"");return e.showSelect&&($="36px "+$),e.showManualSort&&($="36px "+$),$=$+" 1fr",i.value&&($+=" auto"),$});return{internalHeaders:l,internalItems:r,internalSort:c,allItemsSelected:p,getSelectedState:y,onItemSelected:_,onToggleSelectAll:b,someItemsSelected:f,onSortChange:w,fullColSpan:s,columnStyle:v,hasItemAppendSlot:i,hideDragImage:Ut};function _($){if(e.disabled)return;t("item-selected",$);let k=H.exports.clone(e.modelValue);$.value===!0?e.selectionUseKeys?k.push($.item[e.itemKey]):k.push($.item):k=k.filter(V=>e.selectionUseKeys?V!==$.item[e.itemKey]:V[e.itemKey]!==$.item[e.itemKey]),t("update:modelValue",k)}function y($){return(e.selectionUseKeys?e.modelValue:e.modelValue.map(V=>V[e.itemKey])).includes($[e.itemKey])}function b($){e.disabled||($===!0?e.selectionUseKeys?t("update:modelValue",H.exports.clone(e.items).map(k=>k[e.itemKey])):t("update:modelValue",H.exports.clone(e.items)):t("update:modelValue",[]))}function w($){if(e.disabled)return;const k=r.value[$.oldIndex][e.itemKey],V=r.value[$.newIndex][e.itemKey];t("manual-sort",{item:k,to:V})}}}),D5=["summary"],O5={key:1},P5={class:"loading-text"},T5={key:2},L5={class:"no-items-text"};function j5(e,t,o,l,d,c){const i=u("table-header"),s=u("v-progress-linear"),r=u("table-row"),p=u("draggable");return m(),I("div",{class:re(["v-table",{loading:e.loading,inline:e.inline,disabled:e.disabled}])},[S("table",{summary:e.internalHeaders.map(f=>f.text).join(", "),style:Ke({"--grid-columns":e.columnStyle})},[n(i,{headers:e.internalHeaders,"onUpdate:headers":t[0]||(t[0]=f=>e.internalHeaders=f),sort:e.internalSort,"onUpdate:sort":t[1]||(t[1]=f=>e.internalSort=f),"show-select":e.showSelect,"show-resize":e.showResize,"some-items-selected":e.someItemsSelected,"all-items-selected":e.allItemsSelected,fixed:e.fixedHeader,"show-manual-sort":e.showManualSort,"must-sort":e.mustSort,"has-item-append-slot":e.hasItemAppendSlot,"manual-sort-key":e.manualSortKey,onToggleSelectAll:e.onToggleSelectAll},Ne({_:2},[he(e.internalHeaders,f=>({name:`header.${f.value}`,fn:a(()=>[$e(e.$slots,`header.${f.value}`,{header:f},void 0,!0)])}))]),1032,["headers","sort","show-select","show-resize","some-items-selected","all-items-selected","fixed","show-manual-sort","must-sort","has-item-append-slot","manual-sort-key","onToggleSelectAll"]),e.loading?(m(),I("thead",{key:0,class:re(["loading-indicator",{sticky:e.fixedHeader}])},[S("th",{scope:"colgroup",style:Ke({gridColumn:e.fullColSpan})},[e.loading?(m(),F(s,{key:0,indeterminate:""})):N("",!0)],4)],2)):N("",!0),e.loading&&e.items.length===0?(m(),I("tbody",O5,[S("tr",P5,[S("td",{style:Ke({gridColumn:e.fullColSpan})},h(e.loadingText),5)])])):N("",!0),!e.loading&&e.items.length===0?(m(),I("tbody",T5,[S("tr",L5,[S("td",{style:Ke({gridColumn:e.fullColSpan})},h(e.noItemsText),5)])])):(m(),F(p,{key:3,modelValue:e.internalItems,"onUpdate:modelValue":t[2]||(t[2]=f=>e.internalItems=f),"force-fallback":!0,"item-key":e.itemKey,tag:"tbody",handle:".drag-handle",disabled:e.disabled||e.internalSort.by!==e.manualSortKey,"set-data":e.hideDragImage,onEnd:e.onSortChange},{item:a(({element:f})=>[n(r,{headers:e.internalHeaders,item:f,"show-select":!e.disabled&&e.showSelect,"show-manual-sort":!e.disabled&&e.showManualSort,"is-selected":e.getSelectedState(f),subdued:e.loading,"sorted-manually":e.internalSort.by===e.manualSortKey,"has-click-listener":!e.disabled&&e.clickable,height:e.rowHeight,onClick:v=>e.clickable?e.$emit("click:row",f):null,onItemSelected:v=>e.onItemSelected({item:f,value:!e.getSelectedState(f)})},Ne({_:2},[he(e.internalHeaders,v=>({name:`item.${v.value}`,fn:a(()=>[$e(e.$slots,`item.${v.value}`,{item:f},void 0,!0)])})),e.hasItemAppendSlot?{name:"item-append",fn:a(()=>[$e(e.$slots,"item-append",{item:f},void 0,!0)])}:void 0]),1032,["headers","item","show-select","show-manual-sort","is-selected","subdued","sorted-manually","has-click-listener","height","onClick","onItemSelected"])]),_:3},8,["modelValue","item-key","disabled","set-data","onEnd"]))],12,D5),$e(e.$slots,"footer",{},void 0,!0)],2)}var R5=q(A5,[["render",j5],["__scopeId","data-v-76992171"]]);const M5=K({props:{value:{type:String,default:null}},setup(e){const{active:t,toggle:o}=vn({value:e.value,group:"v-tabs-items"});return{active:t,toggle:o}}}),U5={key:0,class:"v-tab-item"};function N5(e,t,o,l,d,c){return e.active?(m(),I("div",U5,[$e(e.$slots,"default",Qe(Ze({active:e.active,toggle:e.toggle})))])):N("",!0)}var B5=q(M5,[["render",N5]]);const q5=K({props:{disabled:{type:Boolean,default:!1},value:{type:String,default:null}},setup(e){const{active:t,toggle:o}=vn({value:e.value,group:"v-tabs"}),l=ht("v-tabs-vertical",D(!1));return{active:t,toggle:o,onClick:d,vertical:l};function d(){e.disabled===!1&&o()}}});function z5(e,t,o,l,d,c){const i=u("v-list-item");return e.vertical?(m(),F(i,{key:0,class:"v-tab vertical",active:e.active,disabled:e.disabled,clickable:"",onClick:e.onClick},{default:a(()=>[$e(e.$slots,"default",Qe(Ze({active:e.active,toggle:e.toggle})),void 0,!0)]),_:3},8,["active","disabled","onClick"])):(m(),I("div",{key:1,class:re(["v-tab horizontal",{active:e.active,disabled:e.disabled}]),onClick:t[0]||(t[0]=(...s)=>e.onClick&&e.onClick(...s))},[$e(e.$slots,"default",Qe(Ze({active:e.active,toggle:e.toggle})),void 0,!0)],2))}var K5=q(q5,[["render",z5],["__scopeId","data-v-2c97bb1b"]]);const W5=K({props:{modelValue:{type:Array,default:void 0}},emits:["update:modelValue"],setup(e,{emit:t}){function o(l){t("update:modelValue",l)}return{update:o}}});function H5(e,t,o,l,d,c){const i=u("v-item-group");return m(),F(i,{class:"v-tabs-items","model-value":e.modelValue,scope:"v-tabs-items","onUpdate:modelValue":e.update},{default:a(()=>[$e(e.$slots,"default")]),_:3},8,["model-value","onUpdate:modelValue"])}var G5=q(W5,[["render",H5]]);const Q5=K({props:{vertical:{type:Boolean,default:!1},modelValue:{type:Array,default:void 0}},emits:["update:modelValue"],setup(e,{emit:t}){const{modelValue:o,vertical:l}=Re(e);Jt("v-tabs-vertical",l);const{items:d}=Ca({selection:o,onSelectionChange:c},{multiple:D(!1),mandatory:D(!0)},"v-tabs");function c(i){t("update:modelValue",i)}return{update:c,items:d}}}),X5={key:1,class:"v-tabs horizontal"};function J5(e,t,o,l,d,c){const i=u("v-list");return e.vertical?(m(),F(i,{key:0,class:"v-tabs vertical alt-colors",nav:""},{default:a(()=>[$e(e.$slots,"default")]),_:3})):(m(),I("div",X5,[$e(e.$slots,"default")]))}var Y5=q(Q5,[["render",J5],["__scopeId","data-v-c201e160"]]);const Z5=K({props:{text:{type:[String,Number,Array,Object,Boolean],required:!0},highlight:{type:String,default:null}},setup(){const e=D(),t=D(!1),{width:o}=xn(e);return _e(o,()=>{!e.value||(t.value=e.value.offsetWidth<e.value.scrollWidth)},{immediate:!0}),{el:e,hasEllipsis:t}}}),x5={ref:"el",class:"v-text-overflow"};function e6(e,t,o,l,d,c){const i=u("v-highlight"),s=Ce("tooltip");return te((m(),I("div",x5,[e.highlight?(m(),F(i,{key:0,query:e.highlight,text:e.text},null,8,["query","text"])):(m(),I(oe,{key:1},[O(h(e.text),1)],64))],512)),[[s,e.hasEllipsis&&e.text]])}var t6=q(Z5,[["render",e6],["__scopeId","data-v-2955c167"]]);const n6=K({props:{disabled:{type:Boolean,default:!1},autofocus:{type:Boolean,default:!1},fullWidth:{type:Boolean,default:!0},modelValue:{type:String,default:null},nullable:{type:Boolean,default:!0},expandOnFocus:{type:Boolean,default:!1},placeholder:{type:String,default:null},trim:{type:Boolean,default:!1}},emits:["update:modelValue"],setup(e,{emit:t}){const o=E(()=>({input:d,blur:c})),l=E(()=>e.modelValue&&e.modelValue.length>0);return{listeners:o,hasContent:l};function d(i){const s=i.target.value;e.nullable===!0&&s===""?t("update:modelValue",null):t("update:modelValue",s)}function c(){e.modelValue&&e.trim&&t("update:modelValue",e.modelValue.trim())}}}),l6={key:0,class:"prepend"},a6=["placeholder","disabled","value"],o6={key:1,class:"append"};function i6(e,t,o,l,d,c){const i=Ce("focus");return m(),I("div",{class:re(["v-textarea",{disabled:e.disabled,"expand-on-focus":e.expandOnFocus,"full-width":e.fullWidth,"has-content":e.hasContent}])},[e.$slots.prepend?(m(),I("div",l6,[$e(e.$slots,"prepend",{},void 0,!0)])):N("",!0),te(S("textarea",ct(e.$attrs,{placeholder:e.placeholder,disabled:e.disabled,value:e.modelValue},Kl(e.listeners)),null,16,a6),[[i,e.autofocus]]),e.$slots.append?(m(),I("div",o6,[$e(e.$slots,"append",{},void 0,!0)])):N("",!0)],2)}var s6=q(n6,[["render",i6],["__scopeId","data-v-12e4b7cd"]]);const r6=K({components:{SearchInput:kn},props:{active:{type:Boolean,default:!1},selection:{type:Array,default:()=>[]},collection:{type:String,required:!0},multiple:{type:Boolean,default:!1},filter:{type:Object,default:null}},emits:["update:active","input"],setup(e,{emit:t}){const{t:o}=ae(),{save:l,cancel:d}=M(),{internalActive:c}=R(),{internalSelection:i,onSelect:s}=L(),{collection:r}=Re(e),{info:p}=at(r),{layout:f,layoutOptions:v,layoutQuery:_,search:y,filter:b}=$n(r,D(null),!0),w=D(f.value||"tabular"),$=D(v.value),k=D(_.value),V=E({get(){return i.value},set(T){s(T)}}),{layoutWrapper:g}=dn(f),A=E({get(){return e.filter?b.value?{_and:[e.filter,b.value]}:e.filter:b.value},set(T){b.value=T}});return{t:o,save:l,cancel:d,internalActive:c,layoutWrapper:g,layoutSelection:V,layoutFilter:A,localLayout:w,localOptions:$,localQuery:k,collectionInfo:p,search:y,presetFilter:b};function R(){const T=D(!1);return{internalActive:E({get(){return e.active===void 0?T.value:e.active},set(B){T.value=B,t("update:active",B)}})}}function L(){const T=D(null),U=E({get(){return T.value===null?e.selection:T.value},set(z){T.value=z}});return _e(()=>e.active,()=>{T.value=null}),{internalSelection:U,onSelect:B};function B(z){if(z.length===0){T.value=[];return}e.multiple===!0?T.value=z:T.value=[z[z.length-1]]}}function M(){return{save:T,cancel:U};function T(){t("input",i.value),c.value=!1}function U(){c.value=!1}}}});function d6(e,t,o,l,d,c){const i=u("v-breadcrumb"),s=u("v-icon"),r=u("v-button"),p=u("search-input"),f=u("v-info"),v=u("v-drawer"),_=Ce("tooltip");return m(),F(Ue(e.layoutWrapper),{selection:e.layoutSelection,"onUpdate:selection":t[3]||(t[3]=y=>e.layoutSelection=y),"layout-options":e.localOptions,"onUpdate:layout-options":t[4]||(t[4]=y=>e.localOptions=y),"layout-query":e.localQuery,"onUpdate:layout-query":t[5]||(t[5]=y=>e.localQuery=y),filter:e.layoutFilter,search:e.search,collection:e.collection,"select-mode":""},{default:a(({layoutState:y})=>[n(v,{modelValue:e.internalActive,"onUpdate:modelValue":t[2]||(t[2]=b=>e.internalActive=b),title:e.t("select_item"),onCancel:e.cancel},{subtitle:a(()=>[n(i,{items:[{name:e.collectionInfo.name,disabled:!0}]},null,8,["items"])]),"title-outer:prepend":a(()=>[n(r,{class:"header-icon",rounded:"",icon:"",secondary:"",disabled:""},{default:a(()=>[n(s,{name:e.collectionInfo.icon,color:e.collectionInfo.color},null,8,["name","color"])]),_:1})]),"actions:prepend":a(()=>[(m(),F(Ue(`layout-actions-${e.localLayout}`),Qe(Ze(y)),null,16))]),actions:a(()=>[n(p,{modelValue:e.search,"onUpdate:modelValue":t[0]||(t[0]=b=>e.search=b),filter:e.presetFilter,"onUpdate:filter":t[1]||(t[1]=b=>e.presetFilter=b),collection:e.collection},null,8,["modelValue","filter","collection"]),te(n(r,{icon:"",rounded:"",onClick:e.save},{default:a(()=>[n(s,{name:"check"})]),_:1},8,["onClick"]),[[_,e.t("save"),void 0,{bottom:!0}]])]),default:a(()=>[(m(),F(Ue(`layout-${e.localLayout}`),ct({class:"layout"},y),{"no-results":a(()=>[n(f,{title:e.t("item_count",0),icon:e.collectionInfo.icon,center:""},null,8,["title","icon"])]),"no-items":a(()=>[n(f,{title:e.t("item_count",0),icon:e.collectionInfo.icon,center:""},null,8,["title","icon"])]),_:2},1040))]),_:2},1032,["modelValue","title","onCancel"])]),_:1},8,["selection","layout-options","layout-query","filter","search","collection"])}var Qt=q(r6,[["render",d6],["__scopeId","data-v-1f94c5ba"]]);const u6=K({components:{DrawerCollection:Qt},props:{multiple:{type:Boolean,default:!1},preset:{type:Object,default:()=>({})},fileId:{type:String,default:null},fromUrl:{type:Boolean,default:!1},fromLibrary:{type:Boolean,default:!1},folder:{type:String,default:void 0}},emits:["input"],setup(e,{emit:t}){const{t:o}=ae(),{uploading:l,progress:d,upload:c,onBrowseSelect:i,done:s,numberOfFiles:r}=g(),{onDragEnter:p,onDragLeave:f,onDrop:v,dragging:_}=A(),{url:y,isValidURL:b,loading:w,importFromURL:$}=L(),{setSelection:k}=R(),V=D(null);return{t:o,uploading:l,progress:d,onDragEnter:p,onDragLeave:f,onDrop:v,dragging:_,onBrowseSelect:i,done:s,numberOfFiles:r,activeDialog:V,url:y,isValidURL:b,urlLoading:w,importFromURL:$,setSelection:k};function g(){const M=D(!1),T=D(0),U=D(0),B=D(0);return{uploading:M,progress:T,upload:z,onBrowseSelect:W,numberOfFiles:U,done:B};async function z(J){M.value=!0,T.value=0;const Q={};e.folder&&(Q.folder=e.folder);try{if(U.value=J.length,e.multiple===!0){const G=await bo(Array.from(J),{onProgressChange:x=>{T.value=Math.round(x.reduce((ee,ne)=>ee+=ne)/J.length),B.value=x.filter(ee=>ee===100).length},preset:X(X({},e.preset),Q)});G&&t("input",G)}else{const G=await ho(Array.from(J)[0],{onProgressChange:x=>{T.value=x,B.value=x===100?1:0},fileId:e.fileId,preset:X(X({},e.preset),Q)});G&&t("input",G)}}catch(G){Fe(G)}finally{M.value=!1,B.value=0,U.value=0}}function W(J){var G;const Q=(G=J.target)==null?void 0:G.files;Q&&z(Q)}}function A(){const M=D(!1);let T=0;return{onDragEnter:U,onDragLeave:B,onDrop:z,dragging:M};function U(){T++,T===1&&(M.value=!0)}function B(){T--,T===0&&(M.value=!1)}function z(W){var Q;T=0,M.value=!1;const J=(Q=W.dataTransfer)==null?void 0:Q.files;J&&c(J)}}function R(){return{setSelection:M};async function M(T){if(T[0]){const U=T[0],B=await de.get(`/files/${U}`);t("input",B.data.data)}else t("input",null)}}function L(){const M=D(""),T=D(!1),U=E(()=>{try{return new URL(M.value),!0}catch{return!1}});return{url:M,loading:T,isValidURL:U,importFromURL:B};async function B(){T.value=!0;try{const z=await de.post("/files/import",{url:M.value,data:{folder:e.folder}});Jn.emit(fn.upload),e.multiple?t("input",[z.data.data]):t("input",z.data.data),V.value=null,M.value=""}catch(z){Fe(z)}finally{T.value=!1}}}}}),c6={class:"type-label"},p6={class:"type-text"},m6={class:"type-label"},f6={class:"type-text"},_6={class:"type-label"},v6={class:"type-text"},y6=["multiple"];function g6(e,t,o,l,d,c){const i=u("v-progress-linear"),s=u("v-icon"),r=u("v-list-item-icon"),p=u("v-list-item-content"),f=u("v-list-item"),v=u("v-list"),_=u("v-menu"),y=u("drawer-collection"),b=u("v-card-title"),w=u("v-input"),$=u("v-card-text"),k=u("v-button"),V=u("v-card-actions"),g=u("v-card"),A=u("v-dialog");return m(),I("div",{"data-dropzone":"",class:re(["v-upload",{dragging:e.dragging,uploading:e.uploading}]),onDragenter:t[8]||(t[8]=Ie((...R)=>e.onDragEnter&&e.onDragEnter(...R),["prevent"])),onDragover:t[9]||(t[9]=Ie(()=>{},["prevent"])),onDragleave:t[10]||(t[10]=Ie((...R)=>e.onDragLeave&&e.onDragLeave(...R),["prevent"])),onDrop:t[11]||(t[11]=Ie((...R)=>e.onDrop&&e.onDrop(...R),["stop","prevent"]))},[e.dragging?(m(),I(oe,{key:0},[S("p",c6,h(e.t("drop_to_upload")),1),S("p",p6,h(e.t("upload_pending")),1)],64)):e.uploading?(m(),I(oe,{key:1},[S("p",m6,h(e.progress)+"%",1),S("p",f6,h(e.multiple&&e.numberOfFiles>1?e.t("upload_files_indeterminate",{done:e.done,total:e.numberOfFiles}):e.t("upload_file_indeterminate")),1),n(i,{value:e.progress,rounded:""},null,8,["value"])],64)):(m(),I(oe,{key:2},[S("p",_6,h(e.t("drag_file_here")),1),S("p",v6,h(e.t("click_to_browse")),1),S("input",{class:"browse",type:"file",multiple:e.multiple,onInput:t[0]||(t[0]=(...R)=>e.onBrowseSelect&&e.onBrowseSelect(...R))},null,40,y6),e.fromUrl!==!1||e.fromLibrary!==!1?(m(),I(oe,{key:0},[n(_,{"show-arrow":"",placement:"bottom-end"},{activator:a(({toggle:R})=>[n(s,{clickable:"",class:"options",name:"more_vert",onClick:R},null,8,["onClick"])]),default:a(()=>[n(v,null,{default:a(()=>[e.fromLibrary?(m(),F(f,{key:0,clickable:"",onClick:t[1]||(t[1]=R=>e.activeDialog="choose")},{default:a(()=>[n(r,null,{default:a(()=>[n(s,{name:"folder_open"})]),_:1}),n(p,null,{default:a(()=>[O(h(e.t("choose_from_library")),1)]),_:1})]),_:1})):N("",!0),e.fromUrl?(m(),F(f,{key:1,clickable:"",onClick:t[2]||(t[2]=R=>e.activeDialog="url")},{default:a(()=>[n(r,null,{default:a(()=>[n(s,{name:"link"})]),_:1}),n(p,null,{default:a(()=>[O(h(e.t("import_from_url")),1)]),_:1})]),_:1})):N("",!0)]),_:1})]),_:1}),n(y,{collection:"directus_files",active:e.activeDialog==="choose","onUpdate:active":t[3]||(t[3]=R=>e.activeDialog=null),onInput:e.setSelection},null,8,["active","onInput"]),n(A,{"model-value":e.activeDialog==="url",persistent:e.urlLoading,onEsc:t[6]||(t[6]=R=>e.activeDialog=null),"onUpdate:modelValue":t[7]||(t[7]=R=>e.activeDialog=null)},{default:a(()=>[n(g,null,{default:a(()=>[n(b,null,{default:a(()=>[O(h(e.t("import_from_url")),1)]),_:1}),n($,null,{default:a(()=>[n(w,{modelValue:e.url,"onUpdate:modelValue":t[4]||(t[4]=R=>e.url=R),autofocus:"",placeholder:e.t("url"),nullable:!1,disabled:e.urlLoading},null,8,["modelValue","placeholder","disabled"])]),_:1}),n(V,null,{default:a(()=>[n(k,{disabled:e.urlLoading,secondary:"",onClick:t[5]||(t[5]=R=>e.activeDialog=null)},{default:a(()=>[O(h(e.t("cancel")),1)]),_:1},8,["disabled"]),n(k,{loading:e.urlLoading,disabled:e.isValidURL===!1,onClick:e.importFromURL},{default:a(()=>[O(h(e.t("import_label")),1)]),_:1},8,["loading","disabled","onClick"])]),_:1})]),_:1})]),_:1},8,["model-value","persistent"])],64)):N("",!0)],64))],34)}var h6=q(u6,[["render",g6],["__scopeId","data-v-364083c4"]]);function b6(e){e.component("VAvatar",vP),e.component("VBadge",bP),e.component("VBreadcrumb",SP),e.component("VButton",IP),e.component("VCardActions",PP),e.component("VCardSubtitle",RP),e.component("VCardText",BP),e.component("VCardTitle",WP),e.component("VCard",QP),e.component("VCheckbox",eT),e.component("VCheckboxTree",iT),e.component("VChip",uT),e.component("VDetail",fT),e.component("VDialog",gT),e.component("VDivider",CT),e.component("VError",XT),e.component("VFancySelect",aL),e.component("VFieldTemplate",yL),e.component("VFieldSelect",dL),e.component("VForm",RL),e.component("VHover",NL),e.component("VHighlight",zL),e.component("VIcon",aR),e.component("VInfo",uR),e.component("VInput",$R),e.component("VItemGroup",SR),e.component("VItem",IR),e.component("VListGroup",TR),e.component("VListItemContent",MR),e.component("VListItemHint",BR),e.component("VListItemIcon",KR),e.component("VListItem",GR),e.component("VList",JR),e.component("VMenu",tM),e.component("VDrawer",WT),e.component("VNotice",aM),e.component("VOverlay",uM),e.component("VPagination",yM),e.component("VProgressCircular",kM),e.component("VProgressLinear",SM),e.component("VRadio",AM),e.component("VSelect",zM),e.component("VSheet",GM),e.component("VSkeletonLoader",ZM),e.component("VSlider",r5),e.component("VSwitch",_5),e.component("VTabItem",B5),e.component("VTab",K5),e.component("VTable",R5),e.component("VTabsItems",G5),e.component("VTabs",Y5),e.component("VTextarea",s6),e.component("VTextOverflow",t6),e.component("VUpload",h6),e.component("TransitionBounce",iP),e.component("TransitionDialog",dP),e.component("TransitionExpand",mP),e.component("RenderDisplay",DO),e.component("RenderTemplate",UO),e.component("ExportSidebarDetail",EO),e.component("SidebarDetail",WO),e.component("UserPopover",eP),e.component("ValueNull",xt),e.component("DocsWrapper",lP)}const oi=(e,{value:t})=>{const{handler:o,middleware:l,events:d,disabled:c}=k6(t);_e(()=>t,i=>{JSON.stringify(i)!==JSON.stringify(t)&&si(e,{value:i,oldValue:null})}),c!==!0&&(e.$clickOutsideHandlers=d.map(i=>({event:i,handler:s=>w6({event:s,el:e,handler:o,middleware:l})})),e.$clickOutsideHandlers.forEach(({event:i,handler:s})=>{setTimeout(()=>{!e.$clickOutsideHandlers||document.documentElement.addEventListener(i,s,!1)})}))},ii=e=>{(e.$clickOutsideHandlers||[]).forEach(({event:o,handler:l})=>{document.documentElement.removeEventListener(o,l,!1)})},si=(e,{value:t,oldValue:o})=>{JSON.stringify(t)!==JSON.stringify(o)&&(ii(e),oi(e,{value:t}))},$6={beforeMount:oi,unmounted:ii,updated:si};function k6(e){const t=typeof e=="function";let o;if(t)o={handler:e,middleware:()=>!0,events:["pointerdown"],disabled:!1};else{const l=e;o={handler:l.handler||(()=>{}),middleware:l.middleware||(()=>!0),events:l.events||["pointerdown"],disabled:l.disabled!==void 0?!!l.disabled:!1}}return o}function w6({el:e,event:t,handler:o,middleware:l}){t.stopPropagation();const d=t.composedPath();(d?d.indexOf(e)<0:e.contains(t.target)===!1)!==!1&&l(t)&&o(t)}const C6={mounted(e,t){t.value?e.focus():e.blur()}},S6=300,Ol={};function Sa(e,t){t.value&&(e.dataset.tooltip=bt(),Ol[e.dataset.tooltip]=V6(e,t),e.addEventListener("mouseenter",Ol[e.dataset.tooltip]),e.addEventListener("mouseleave",ri))}function Fa(e){e.removeEventListener("mouseenter",Ol[e.dataset.tooltip]),e.removeEventListener("mouseleave",ri),clearTimeout(Pl),Va().classList.remove("visible"),delete Ol[e.dataset.tooltip]}const F6={beforeMount:Sa,unmounted:Fa,updated(e,t){t.value&&!t.oldValue?Sa(e,t):!t.value&&t.oldValue?Fa(e):(Fa(e),Sa(e,t))}};let Pl;function V6(e,t){return()=>{const o=Va();t.modifiers.instant?(ui(o),di(e,t,o)):(clearTimeout(Pl),Pl=window.setTimeout(()=>{ui(o),di(e,t,o)},S6))}}function ri(){const e=Va();clearTimeout(Pl),E6(e)}function di(e,t,o){const l=10,d=20,c=e.getBoundingClientRect();let i=c.top+pageYOffset,s=c.left+pageXOffset,r;o.innerText=t.value,o.classList.remove("top","bottom","left","right","start","end"),t.modifiers.inverted?o.classList.add("inverted"):o.classList.remove("inverted"),t.modifiers.monospace&&o.classList.add("monospace"),t.modifiers.bottom?(t.modifiers.start?(s+=d,r=100,o.classList.add("start")):t.modifiers.end?(s+=c.width-d,r=0,o.classList.add("end")):(s+=c.width/2,r=50),i+=c.height+l,o.style.transform=`translate(calc(${s}px - ${r}%), ${i}px)`,o.classList.add("bottom")):t.modifiers.left?(t.modifiers.start?(i+=d,r=100,o.classList.add("start")):t.modifiers.end?(i+=c.height-d,r=0,o.classList.add("end")):(i+=c.height/2,r=50),s-=l,o.style.transform=`translate(calc(${s}px - 100%), calc(${i}px - ${r}%))`,o.classList.add("left")):t.modifiers.right?(t.modifiers.start?(i+=d,r=100,o.classList.add("start")):t.modifiers.end?(i+=c.height-d,r=0,o.classList.add("end")):(i+=c.height/2,r=50),s+=c.width+l,o.style.transform=`translate(${s}px, calc(${i}px - ${r}%))`,o.classList.add("right")):(t.modifiers.start?(s+=d,r=100,o.classList.add("start")):t.modifiers.end?(s+=c.width-d,r=0,o.classList.add("end")):(s+=c.width/2,r=50),i-=l,o.style.transform=`translate(calc(${s}px - ${r}%), calc(${i}px - 100%))`,o.classList.add("top"))}function ui(e){e.classList.add("visible","enter"),e.classList.remove("leave","leave-active"),setTimeout(()=>{e.classList.contains("enter")!==!1&&(e.classList.add("enter-active"),e.classList.remove("enter"))},1),setTimeout(()=>{e.classList.remove("enter-active")},200)}function E6(e){e.classList.contains("visible")!==!1&&(e.classList.add("visible","leave"),e.classList.remove("enter","enter-active"),setTimeout(()=>{e.classList.contains("leave")!==!1&&(e.classList.add("leave-active"),e.classList.remove("leave"))},1),setTimeout(()=>{e.classList.contains("leave-active")!==!1&&(e.classList.remove("leave-active"),e.classList.remove("visible"))},200))}function Va(){let e=document.getElementById("tooltip");return e instanceof HTMLElement||(e=document.createElement("div"),e.id="tooltip",document.body.appendChild(e)),e}const I6={beforeMount(e,t){var o;e.innerHTML=Vl((o=t.value)!=null?o:"")},updated(e,t){var o;e.innerHTML=Vl((o=t.value)!=null?o:"")}};function A6(e){e.directive("focus",C6),e.directive("tooltip",F6),e.directive("click-outside",$6),e.directive("md",I6)}const D6=K({props:{showHeader:{type:Boolean,default:!1},text:{type:String,default:""},color:{type:String,default:void 0}}});function O6(e,t,o,l,d,c){return m(),I("div",{class:re(["label type-title selectable",{"has-header":e.showHeader}]),style:Ke({color:e.color})},h(e.text),7)}var P6=q(D6,[["render",O6],["__scopeId","data-v-b5689fe6"]]),T6=fl({id:"label",name:"$t:panels.label.name",description:"$t:panels.label.description",icon:"title",component:P6,options:[{field:"text",name:"$t:label",type:"string",meta:{interface:"input",width:"half"}},{field:"color",name:"$t:color",type:"string",meta:{interface:"select-color",width:"half",options:{placeholder:"$t:automatic"}}}],minWidth:12,minHeight:8}),L6=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:T6});const j6=K({components:{FilePreview:sa},props:{active:{type:Boolean,default:!1},collection:{type:String,required:!0},primaryKey:{type:[String,Number],required:!0},edits:{type:Object,default:void 0},junctionField:{type:String,default:null},relatedPrimaryKey:{type:[String,Number],default:"+"},circularField:{type:String,default:null}},emits:["update:active","input"],setup(e,{emit:t}){const{t:o,te:l}=ae(),d=ze(),c=_t(),{internalActive:i}=G(),{junctionFieldInfo:s,junctionRelatedCollection:r,junctionRelatedCollectionInfo:p,setJunctionEdits:f}=ee(),{internalEdits:v,loading:_,item:y}=x(),{save:b,cancel:w}=ne(),{collection:$}=Re(e),{info:k}=at($),V=E(()=>{const ie=(p==null?void 0:p.value)||k.value,pe=e.primaryKey==="+";return l(`collection_names_singular.${ie.collection}`)?pe?o("creating_unit",{unit:o(`collection_names_singular.${ie.collection}`)}):o("editing_unit",{unit:o(`collection_names_singular.${ie.collection}`)}):pe?o("creating_in",{collection:ie.name}):o("editing_in",{collection:ie.name})}),g=E(()=>d.getFieldsForCollection(e.collection).filter(ie=>{var pe;return((pe=ie.meta)==null?void 0:pe.hidden)!==!0}).length>0),{fields:A}=Hn(r,E(()=>y.value&&y.value[e.junctionField]),E(()=>e.primaryKey==="+")),{fields:R}=Hn($,y,E(()=>e.primaryKey==="+")),L=E(()=>e.circularField?R.value.filter(ie=>ie.field!==e.circularField):R.value),M=E(()=>s.value?String(e.relatedPrimaryKey):String(e.primaryKey)),T=E(()=>p.value||k.value),{templateData:U,loading:B}=mo(T,M),z=E(()=>{var ie,pe,Y,Z;return((pe=(ie=p.value)==null?void 0:ie.meta)==null?void 0:pe.display_template)||((Z=(Y=k.value)==null?void 0:Y.meta)==null?void 0:Z.display_template)||null}),{file:W,isDirectusFiles:J}=Q();return{t:o,internalActive:i,internalEdits:v,loading:_,item:y,save:b,cancel:w,title:V,junctionFieldInfo:s,junctionRelatedCollection:r,setJunctionEdits:f,showDivider:g,junctionRelatedCollectionFields:A,fields:L,template:z,templateCollection:T,templatePrimaryKey:M,templateData:U,templateDataLoading:B,collectionInfo:k,file:W,isDirectusFiles:J};function Q(){const ie=E(()=>r.value==="directus_files");return{file:E(()=>{var se;if(ie.value===!1||!y.value)return null;const Y=(se=y.value)==null?void 0:se[e.junctionField];if(!Y)return null;const Z=ut(Xe()+`assets/${Y.id}?key=system-large-contain`);return ye(X({},Y),{src:Z})}),isDirectusFiles:ie}}function G(){const ie=D(!1);return{internalActive:E({get(){return e.active===void 0?ie.value:e.active},set(Y){ie.value=Y,t("update:active",Y)}})}}function x(){const ie=D({}),pe=E({get(){return e.edits!==void 0?X(X({},e.edits),ie.value):ie.value},set(ce){ie.value=ce}}),Y=D(!1),Z=D(null);return _e(()=>e.active,ce=>{ce===!0?(e.primaryKey!=="+"&&se(),e.relatedPrimaryKey!=="+"&&le()):(Y.value=!1,Z.value=null,ie.value={})},{immediate:!0}),{internalEdits:pe,loading:Y,item:Z,fetchItem:se};async function se(){Y.value=!0;const ce=e.collection.startsWith("directus_")?`/${e.collection.substring(9)}/${e.primaryKey}`:`/items/${e.collection}/${encodeURIComponent(e.primaryKey)}`;let ve="*";e.junctionField&&(ve=`*,${e.junctionField}.*`);try{const ue=await de.get(ce,{params:{fields:ve}});Z.value=ue.data.data}catch(ue){Fe(ue)}finally{Y.value=!1}}async function le(){Y.value=!0;const ce=r.value,ve=ce.startsWith("directus_")?`/${ce.substring(9)}/${e.relatedPrimaryKey}`:`/items/${ce}/${encodeURIComponent(e.relatedPrimaryKey)}`;try{const ue=await de.get(ve);Z.value=ye(X({},Z.value||{}),{[s.value.field]:ue.data.data})}catch(ue){Fe(ue)}finally{Y.value=!1}}}function ee(){const ie=E(()=>e.junctionField?d.getField(e.collection,e.junctionField):null),pe=E(()=>{var ce,ve;if(!e.junctionField)return null;const le=c.getRelationsForField(e.collection,e.junctionField).find(ue=>ue.collection===e.collection&&ue.field===e.junctionField);return le.related_collection?le.related_collection:((ce=le.meta)==null?void 0:ce.one_collection_field)?e.edits[le.meta.one_collection_field]||((ve=y.value)==null?void 0:ve[le.meta.one_collection_field]):null}),{info:Y}=at(pe);return{junctionFieldInfo:ie,junctionRelatedCollection:pe,junctionRelatedCollectionInfo:Y,setJunctionEdits:Z};function Z(se){!e.junctionField||(v.value=ye(X({},v.value),{[e.junctionField]:se}))}}function ne(){return{save:ie,cancel:pe};function ie(){t("input",v.value),i.value=!1,v.value={}}function pe(){i.value=!1,v.value={}}}}}),R6={key:1,class:"type-title"},M6={class:"drawer-item-content"};function U6(e,t,o,l,d,c){const i=u("v-skeleton-loader"),s=u("render-template"),r=u("v-breadcrumb"),p=u("v-icon"),f=u("v-button"),v=u("file-preview"),_=u("v-form"),y=u("v-divider"),b=u("v-drawer"),w=Ce("tooltip");return m(),F(b,{modelValue:e.internalActive,"onUpdate:modelValue":t[1]||(t[1]=$=>e.internalActive=$),title:e.title,persistent:"",onCancel:e.cancel},Ne({subtitle:a(()=>[n(r,{items:[{name:e.collectionInfo.name,disabled:!0}]},null,8,["items"])]),actions:a(()=>[$e(e.$slots,"actions",{},void 0,!0),te(n(f,{icon:"",rounded:"",onClick:e.save},{default:a(()=>[n(p,{name:"check"})]),_:1},8,["onClick"]),[[w,e.t("save"),void 0,{bottom:!0}]])]),default:a(()=>[S("div",M6,[e.junctionField?(m(),I(oe,{key:0},[e.file?(m(),F(v,{key:0,src:e.file.src,mime:e.file.type,width:e.file.width,height:e.file.height,title:e.file.title,"in-modal":!0},null,8,["src","mime","width","height","title"])):N("",!0),n(_,{loading:e.loading,"initial-values":e.item&&e.item[e.junctionField],"primary-key":e.relatedPrimaryKey,"model-value":e.internalEdits[e.junctionField],fields:e.junctionRelatedCollectionFields,autofocus:"","onUpdate:modelValue":e.setJunctionEdits},null,8,["loading","initial-values","primary-key","model-value","fields","onUpdate:modelValue"]),e.showDivider?(m(),F(y,{key:1})):N("",!0)],64)):N("",!0),n(_,{modelValue:e.internalEdits,"onUpdate:modelValue":t[0]||(t[0]=$=>e.internalEdits=$),loading:e.loading,"initial-values":e.item,"primary-key":e.primaryKey,fields:e.fields},null,8,["modelValue","loading","initial-values","primary-key","fields"])])]),_:2},[e.template!==null&&e.templateData&&e.primaryKey!=="+"?{name:"title",fn:a(()=>[e.loading||e.templateDataLoading?(m(),F(i,{key:0,class:"title-loader",type:"text"})):(m(),I("h1",R6,[n(s,{collection:e.templateCollection.collection,item:e.templateData,template:e.template},null,8,["collection","item","template"])]))])}:void 0]),1032,["modelValue","title","onCancel"])}var Nt=q(j6,[["render",U6],["__scopeId","data-v-13e1ca41"]]);function Xt(e,t){const o=ze(),{displays:l}=sn();return e.map(c=>{var p,f;const i=o.getField(t,c);if(!i||((p=i.meta)==null?void 0:p.display)===null)return c;const s=l.value.find(v=>{var _;return v.id===((_=i.meta)==null?void 0:_.display)});if(!s||!(s==null?void 0:s.fields))return c;let r=null;return Array.isArray(s.fields)&&(r=s.fields.map(v=>`${c}.${v}`)),typeof s.fields=="function"&&(r=s.fields((f=i.meta)==null?void 0:f.display_options,{collection:i.collection,field:i.field,type:i.type}).map(v=>`${c}.${v}`)),r?r.map(v=>v.includes("$thumbnail")&&i.collection==="directus_files"?v.split(".").filter(_=>_!=="$thumbnail").join("."):v):c}).flat()}const N6=K({components:{DrawerItem:Nt},props:{showHeader:{type:Boolean,default:!1},displayTemplate:{type:String,default:""},sortField:{type:String,default:void 0},sortDirection:{type:String,default:"desc"},collection:{type:String,required:!0},limit:{type:Number,default:5},filter:{type:Object,default:()=>({})}},setup(e){const{t}=ae(),o=D(),l=D(),d=ze(),c=D([]),i=D(!1),s=D(),r=E(()=>c.value&&c.value.length>0),p=E(()=>e.displayTemplate),f=E(()=>d.getPrimaryKeyFieldForCollection(e.collection));return v(),_e(()=>e,(w,$)=>{H.exports.isEqual(w,$)||v()},{deep:!0,immediate:!0}),{list:c,loading:i,renderTemplate:p,primaryKeyField:f,startEditing:_,saveEdits:y,cancelEdit:b,currentlyEditing:o,editsAtStart:l,hasData:r,t};async function v(){var w;if(!!e){i.value=!0;try{const $=e.sortField,k=await de.get(Ht(e.collection),{params:{fields:[f.value.field,...Xt(vt(p.value),e.collection)],filter:e.filter,sort:e.sortDirection==="desc"?`-${$}`:$,limit:(w=e.limit)!=null?w:5}});c.value=k.data.data}catch($){s.value=$,Fe($)}finally{i.value=!1}}}function _(w){o.value=w[f.value.field],l.value=w}async function y(w){try{await de.patch(`/items/${e.collection}/${o.value}`,w)}catch($){Fe($)}await v()}function b(){l.value=void 0,o.value=void 0}}}),B6=e=>(He("data-v-55018d78"),e=e(),Ge(),e),q6={key:1,class:"type-note"},z6={key:2},K6=B6(()=>S("div",{class:"spacer"},null,-1));function W6(e,t,o,l,d,c){var v;const i=u("v-progress-circular"),s=u("render-template"),r=u("v-list-item"),p=u("v-list"),f=u("drawer-item");return m(),I("div",{class:re(["list",{"has-header":e.showHeader,loading:e.loading,"no-data":!e.hasData}])},[e.loading?(m(),F(i,{key:0,indeterminate:""})):e.hasData?(m(),I("div",z6,[n(p,null,{default:a(()=>[(m(!0),I(oe,null,he(e.list,_=>(m(),F(r,{key:_[e.primaryKeyField.field],class:"selectable",clickable:"",onClick:y=>e.startEditing(_)},{default:a(()=>[n(s,{item:_,collection:e.collection,template:e.renderTemplate},null,8,["item","collection","template"]),K6]),_:2},1032,["onClick"]))),128))]),_:1})])):(m(),I("span",q6,h(e.t("no_data")),1)),n(f,{active:!!e.currentlyEditing,collection:e.collection,"primary-key":(v=e.currentlyEditing)!=null?v:"+",edits:e.editsAtStart,onInput:e.saveEdits,"onUpdate:active":e.cancelEdit},null,8,["active","collection","primary-key","edits","onInput","onUpdate:active"])],2)}var H6=q(N6,[["render",W6],["__scopeId","data-v-55018d78"]]),G6=fl({id:"list",name:"$t:panels.list.name",description:"$t:panels.list.description",icon:"list",component:H6,options:[{field:"collection",type:"string",name:"$t:collection",meta:{interface:"system-collection",options:{includeSystem:!0},width:"half"}},{field:"limit",type:"integer",name:"$t:limit",schema:{default_value:5},meta:{interface:"input",width:"half"}},{field:"sortField",type:"string",name:"$t:sort_field",meta:{interface:"system-field",options:{collectionField:"collection",allowPrimaryKey:!0,placeholder:"$t:primary_key"},width:"half"}},{field:"sortDirection",type:"string",name:"$t:sort_direction",schema:{default_value:"desc"},meta:{interface:"select-dropdown",options:{choices:[{text:"$t:sort_asc",value:"asc"},{text:"$t:sort_desc",value:"desc"}]},width:"half"}},{field:"displayTemplate",name:"$t:display_template",type:"string",meta:{interface:"system-display-template",width:"full",options:{collectionField:"collection",placeholder:"{{ field }}"}}},{field:"filter",type:"json",name:"$t:filter",meta:{interface:"system-filter",options:{collectionField:"collection"}}}],minWidth:16,minHeight:12}),Q6=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:G6});const X6=K({props:{showHeader:{type:Boolean,default:!1},abbreviate:{type:Boolean,default:!1},sortField:{type:String,default:void 0},collection:{type:String,required:!0},field:{type:String,required:!0},function:{type:String,required:!0},filter:{type:Object,default:()=>({})},decimals:{type:Number,default:0},conditionalFormatting:{type:Array,default:()=>[]},prefix:{type:String,default:null},suffix:{type:String,default:null}},setup(e){const{n:t}=ae(),o=D(),l=D(!1);i(),_e(()=>e,(s,r)=>{H.exports.isEqual(s,r)||i()},{deep:!0});const d=E(()=>{var s,r,p;return H.exports.isNil(o.value)?null:e.abbreviate?xl(o.value,(s=e.decimals)!=null?s:0):t(Number(o.value),"decimal",{minimumFractionDigits:(r=e.decimals)!=null?r:0,maximumFractionDigits:(p=e.decimals)!=null?p:0})}),c=E(()=>{if(H.exports.isNil(o.value))return null;let s=null;for(const p of e.conditionalFormatting||[])r(p)&&(s=p);return s?s.color||"#00C897":null;function r(p){var _;const f=Number(o.value),v=Number((_=p.value)!=null?_:0);switch(p.operator||">="){case"=":return f===v;case"!=":return f!==v;case">":return f>v;case">=":return f>=v;case"<":return f<v;case"<=":return f<v}}});return{metric:o,loading:l,displayValue:d,color:c};async function i(){if(!e)return;const s=["first","last"].includes(e.function);l.value=!0;try{const r=e.sortField&&`${e.function==="last"?"-":""}${e.sortField}`,p=s?void 0:{[e.function]:[e.field||"*"]},f=await de.get(Ht(e.collection),{params:{aggregate:p,filter:e.filter,sort:r,limit:1,fields:[e.field]}});e.field?e.function==="first"||e.function==="last"?o.value=Number(f.data.data[0][e.field]):o.value=Number(f.data.data[0][e.function][e.field]):o.value=Number(f.data.data[0][e.function])}catch{}finally{l.value=!1}}}}),J6={class:"prefix"},Y6={class:"value"},Z6={class:"suffix"};function x6(e,t,o,l,d,c){const i=u("v-progress-circular");return m(),I("div",{class:re(["metric type-title selectable",{"has-header":e.showHeader}])},[e.loading?(m(),F(i,{key:0,indeterminate:""})):(m(),I("div",{key:1,style:Ke({color:e.color})},[S("span",J6,h(e.prefix),1),S("span",Y6,h(e.displayValue),1),S("span",Z6,h(e.suffix),1)],4))],2)}var eU=q(X6,[["render",x6],["__scopeId","data-v-f27ebf0c"]]),tU=fl({id:"metric",name:"$t:panels.metric.name",description:"$t:panels.metric.description",icon:"functions",component:eU,options:[{field:"collection",type:"string",name:"$t:collection",meta:{interface:"system-collection",options:{includeSystem:!0},width:"half"}},{field:"field",type:"string",name:"$t:panels.metric.field",meta:{interface:"system-field",options:{collectionField:"collection",typeAllowList:["integer","bigInteger","float","decimal"],allowPrimaryKey:!0,allowNone:!0},width:"half"}},{field:"function",type:"string",name:"$t:aggregate_function",meta:{width:"half",interface:"select-dropdown",options:{choices:[{text:"Count",value:"count"},{text:"Count (Distinct)",value:"count_distinct"},{text:"Average",value:"avg"},{text:"Average (Distinct)",value:"avg_distinct"},{text:"Sum",value:"sum"},{text:"Sum (Distinct)",value:"sum_distinct"},{text:"Minimum",value:"min"},{text:"Maximum",value:"max"},{text:"First",value:"first"},{text:"Last",value:"last"}]}}},{field:"sortField",type:"string",name:"$t:sort_field",meta:{interface:"system-field",options:{collectionField:"collection",allowPrimaryKey:!0,placeholder:"$t:primary_key"},width:"half"}},{field:"filter",type:"json",name:"$t:filter",meta:{interface:"system-filter",options:{collectionField:"collection"}}},{field:"styleDivider",type:"alias",meta:{interface:"presentation-divider",options:{icon:"style",title:"Style & Format"},special:["alias","no-data"]}},{field:"abbreviate",type:"boolean",name:"$t:abbreviate_value",schema:{default_value:!1},meta:{interface:"boolean",width:"half"}},{field:"decimals",type:"integer",name:"$t:decimals",meta:{interface:"input",width:"half",options:{placeholder:"$t:decimals_placeholder"}},schema:{default_value:0}},{field:"prefix",type:"string",name:"$t:prefix",meta:{interface:"input",width:"half",options:{placeholder:"$t:prefix_placeholder",trim:!1}}},{field:"suffix",type:"string",name:"$t:suffix",meta:{interface:"input",width:"half",options:{placeholder:"$t:suffix_placeholder",trim:!1}}},{field:"conditionalFormatting",type:"json",name:"$t:conditional_styles",meta:{interface:"list",width:"full",options:{template:"{{color}} {{operator}} {{value}}",fields:[{field:"operator",name:"$t:operator",type:"string",schema:{default_value:">="},meta:{interface:"select-dropdown",options:{choices:[{text:"$t:operators.eq",value:"="},{text:"$t:operators.neq",value:"!="},{text:"$t:operators.gt",value:">"},{text:"$t:operators.gte",value:">="},{text:"$t:operators.lt",value:"<"},{text:"$t:operators.lte",value:"<="}]},width:"half"}},{field:"value",name:"$t:value",type:"integer",schema:{default_value:0},meta:{interface:"input",width:"half"}},{field:"color",name:"$t:color",type:"string",schema:{default_value:"#00C897"},meta:{interface:"select-color",display:"color"}}]}}}],minWidth:8,minHeight:6}),nU=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:tU});function lU(e,t){e=H.exports.clone(e);const o=t.startsWith("-");(o||t.startsWith("+"))&&(t=t.substring(1));const l=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|months?|mth|mo|years?|yrs?|y)?$/i.exec(t);if(!l)return;const d=parseFloat(l[1]);switch((l[2]||"days").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return o?qs(e,d):zs(e,d);case"months":case"month":case"mth":case"mo":return o?Ns(e,d):Bs(e,d);case"weeks":case"week":case"w":return o?Ms(e,d):Us(e,d);case"days":case"day":case"d":return o?Wa(e,d):Rs(e,d);case"hours":case"hour":case"hrs":case"hr":case"h":return o?Ls(e,d):js(e,d);case"minutes":case"minute":case"mins":case"min":case"m":return o?Ps(e,d):Ts(e,d);case"seconds":case"second":case"secs":case"sec":case"s":return o?Ds(e,d):Os(e,d);case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return o?Is(e,d):As(e,d);default:return}}const aU=K({props:{height:{type:Number,required:!0},showHeader:{type:Boolean,default:!1},id:{type:String,required:!0},dashboard:{type:String,required:!0},now:{type:Date,required:!0},collection:{type:String,required:!0},dateField:{type:String,required:!0},valueField:{type:String,required:!0},function:{type:String,required:!0},precision:{type:String,default:"hour"},range:{type:String,default:"1 week"},color:{type:String,default:"#00C897"},decimals:{type:Number,default:0},min:{type:Number,default:void 0},max:{type:Number,default:void 0},filter:{type:Object,default:()=>({})},showXAxis:{type:Boolean,default:!0},showYAxis:{type:Boolean,default:!0}},setup(e){const{d:t,t:o,n:l}=ae(),d=ze(),c=D([]),i=D(!1),s=D(),r=D(),p=D(),f=E(()=>{const y=d.getField(e.collection,e.valueField),b=o(e.function);return`${y.name} (${b})`});return _e([()=>e,()=>e.showHeader,()=>e.height],(y,b)=>{var w;H.exports.isEqual(y,b)===!1&&(v(),(w=p.value)==null||w.destroy(),_())},{deep:!0}),v(),rt(_),Ct(()=>{var y;(y=p.value)==null||y.destroy()}),{chartEl:r,metrics:c,loading:i,error:s};async function v(){var w;i.value=!0;try{const $=await de.get(Ht(e.collection),{params:{groupBy:b(),aggregate:{[e.function]:[e.valueField]},filter:{_and:[{[e.dateField]:{_gte:`$NOW(-${e.range||"1 week"})`}},{[e.dateField]:{_lte:"$NOW"}},e.filter||{}]},limit:-1}});c.value=$.data.data,(w=p.value)==null||w.updateSeries([{name:e.collection,data:c.value.map(k=>{var V;return{x:y(k),y:Number(Number(k[e.function][e.valueField]).toFixed((V=e.decimals)!=null?V:0))}})}])}catch($){s.value=$}finally{i.value=!1}function y($){var T,U,B,z,W;const k=$[`${e.dateField}_year`],V=M((T=$[`${e.dateField}_month`])!=null?T:1),g=M((U=$[`${e.dateField}_day`])!=null?U:1),A=M((B=$[`${e.dateField}_hour`])!=null?B:0),R=M((z=$[`${e.dateField}_minute`])!=null?z:0),L=M((W=$[`${e.dateField}_second`])!=null?W:0);return`${k}-${V}-${g}T${A}:${R}:${L}`;function M(J){return String(J).padStart(2,"0")}}function b(){let $=[];switch(e.precision||"hour"){case"year":$=["year"];break;case"month":$=["year","month"];break;case"day":$=["year","month","day"];break;case"hour":$=["year","month","day","hour"];break;case"minute":$=["year","month","day","hour","minute"];break;case"second":$=["year","month","day","hour","minute","second"];break;default:$=["year","month","day","hour"];break}return $.map(k=>`${k}(${e.dateField})`)}}function _(){var y,b;p.value=new Ks(r.value,{colors:[e.color?e.color:"#00C897"],chart:{type:"area",height:"100%",toolbar:{show:!1},selection:{enabled:!1},zoom:{enabled:!1},fontFamily:"var(--family-sans-serif)",foreColor:"var(--foreground-subdued)"},series:[],stroke:{curve:"smooth",width:2,lineCap:"round"},markers:{hover:{size:void 0,sizeOffset:4}},fill:{type:"gradient",gradient:{colorStops:[[{offset:0,color:e.color?e.color:"#00C897",opacity:.25},{offset:100,color:e.color?e.color:"#00C897",opacity:0}]]}},grid:{borderColor:"var(--border-subdued)",padding:{top:e.showHeader?-20:-4,bottom:0,left:8}},dataLabels:{enabled:!1},tooltip:{marker:{show:!1},x:{show:!0,formatter(w){return t(new Date(w),"long")}},y:{title:{formatter:()=>f.value+": "},formatter(w){return l(w)}}},xaxis:{type:"datetime",tooltip:{enabled:!1},axisTicks:{show:!1},axisBorder:{show:!1},range:e.now.getTime()-lU(e.now,`-${e.range}`).getTime(),max:e.now.getTime(),labels:{show:(y=e.showXAxis)!=null?y:!0,offsetY:-4,style:{fontFamily:"var(--family-sans-serif)",foreColor:"var(--foreground-subdued)",fontWeight:600,fontSize:"10px"}},crosshairs:{stroke:{color:"var(--border-normal)"}}},yaxis:{show:(b=e.showYAxis)!=null?b:!0,forceNiceScale:!0,min:H.exports.isNil(e.min)?void 0:Number(e.min),max:H.exports.isNil(e.max)?void 0:Number(e.max),tickAmount:e.height-4,labels:{offsetY:1,offsetX:-4,formatter:w=>{var $,k;return w>1e4?xl(w,1):l(w,"decimal",{minimumFractionDigits:($=e.decimals)!=null?$:0,maximumFractionDigits:(k=e.decimals)!=null?k:0})},style:{fontFamily:"var(--family-sans-serif)",foreColor:"var(--foreground-subdued)",fontWeight:600,fontSize:"10px"}}}}),p.value.render()}}}),oU={ref:"chartEl",class:"time-series"};function iU(e,t,o,l,d,c){return m(),I("div",oU,null,512)}var sU=q(aU,[["render",iU],["__scopeId","data-v-69384392"]]),rU=fl({id:"time-series",name:"$t:panels.time_series.name",description:"$t:panels.time_series.description",icon:"show_chart",component:sU,options:[{field:"collection",type:"string",name:"$t:collection",meta:{interface:"system-collection",options:{includeSystem:!0},width:"half"}},{field:"color",name:"$t:color",type:"string",schema:{default_value:"#00C897"},meta:{interface:"select-color",width:"half"}},{field:"function",type:"string",name:"$t:group_aggregation",meta:{width:"half",interface:"select-dropdown",options:{choices:[{text:"Count",value:"count"},{text:"Count (Distinct)",value:"count_distinct"},{text:"Average",value:"avg"},{text:"Average (Distinct)",value:"avg_distinct"},{text:"Sum",value:"sum"},{text:"Sum (Distinct)",value:"sum_distinct"},{text:"Minimum",value:"min"},{text:"Maximum",value:"max"}]}}},{field:"precision",type:"string",name:"$t:group_precision",meta:{interface:"select-dropdown",width:"half",options:{choices:[{text:"Second",value:"second"},{text:"Minute",value:"minute"},{text:"Hour",value:"hour"},{text:"Day",value:"day"},{text:"Week",value:"week"},{text:"Month",value:"month"},{text:"Year",value:"year"}]}},schema:{default_value:"hour"}},{field:"dateField",type:"string",name:"$t:panels.time_series.date_field",meta:{interface:"system-field",options:{collectionField:"collection",typeAllowList:["date","datetime","timestamp"]},width:"half"}},{field:"range",type:"dropdown",name:"$t:date_range",schema:{default_value:"1 week"},meta:{interface:"select-dropdown",width:"half",options:{choices:[{text:"Past 5 Minutes",value:"5 minutes"},{text:"Past 15 Minutes",value:"15 minutes"},{text:"Past 30 Minutes",value:"30 minutes"},{text:"Past 1 Hour",value:"1 hour"},{text:"Past 4 Hours",value:"4 hours"},{text:"Past 1 Day",value:"1 day"},{text:"Past 2 Days",value:"2 days"},{text:"Past 1 Week",value:"1 week"},{text:"Past 1 Month",value:"1 month"},{text:"Past 3 Months",value:"3 months"}],allowOther:!0}}},{field:"valueField",type:"string",name:"$t:panels.time_series.value_field",meta:{interface:"system-field",options:{collectionField:"collection",typeAllowList:["integer","bigInteger","float","decimal"]},width:"half"}},{field:"decimals",type:"integer",name:"$t:value_decimals",meta:{interface:"input",width:"half",options:{placeholder:"$t:decimals_placeholder"}},schema:{default_value:0}},{field:"min",type:"integer",name:"$t:min_value",meta:{interface:"input",width:"half",options:{placeholder:"$t:automatic"}}},{field:"max",type:"integer",name:"$t:max_value",meta:{interface:"input",width:"half",options:{placeholder:"$t:automatic"}}},{field:"filter",type:"json",name:"$t:filter",meta:{interface:"system-filter",options:{collectionField:"collection"}}},{field:"showXAxis",type:"boolean",name:"$t:show_x_axis",meta:{interface:"boolean",width:"half"},schema:{default_value:!0}},{field:"showYAxis",type:"boolean",name:"$t:show_y_axis",meta:{interface:"boolean",width:"half"},schema:{default_value:!0}}],minWidth:16,minHeight:8}),dU=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:rU});const{panelsRaw:ci}=yl();async function uU(e){const o=Object.values({"./label/index.ts":L6,"./list/index.ts":Q6,"./metric/index.ts":nU,"./time-series/index.ts":dU}).map(l=>l.default);try{const l=await j(()=>import(`${Xe()}extensions/panels/index.js`),[]);o.push(...l.default)}catch(l){console.warn("Couldn't load custom panels"),console.warn(l)}ci.value=o,ci.value.forEach(l=>{e.component(`panel-${l.id}`,l.component),typeof l.options!="function"&&Array.isArray(l.options)===!1&&l.options!==null&&e.component(`panel-options-${l.id}`,l.options)})}const cU=K({props:{value:{type:Boolean,default:!1},labelOn:{type:String,default:null},labelOff:{type:String,default:null},iconOn:{type:String,default:"check"},iconOff:{type:String,default:"close"},colorOn:{type:String,default:"#00C897"},colorOff:{type:String,default:"#B0BEC5"}},setup(e){return{styles:E(()=>{const o={};return e.colorOn!==null&&e.colorOff!==null&&(o.color=e.value?e.colorOn:e.colorOff,o["--v-icon-color"]=e.value?e.colorOn:e.colorOff),o})}}}),pU={key:1};function mU(e,t,o,l,d,c){const i=u("value-null"),s=u("v-icon");return m(),I("div",{class:"boolean",style:Ke(e.styles)},[e.value===null?(m(),F(i,{key:0})):(m(),I(oe,{key:1},[e.iconOn!==null&&e.iconOff!==null?(m(),F(s,{key:0,name:e.value?e.iconOn:e.iconOff},null,8,["name"])):N("",!0),e.labelOn!==null&&e.labelOff!==null?(m(),I("span",pU,h(e.value?e.labelOn:e.labelOff),1)):N("",!0)],64))],4)}var fU=q(cU,[["render",mU],["__scopeId","data-v-5a95796f"]]),_U=yt({id:"boolean",name:"$t:displays.boolean.boolean",description:"$t:displays.boolean.description",types:["boolean"],icon:"check_box",component:fU,options:[{field:"labelOn",name:"$t:displays.boolean.label_on",type:"string",meta:{interface:"input",width:"half",options:{placeholder:"$t:displays.boolean.label_on_placeholder"}}},{field:"labelOff",name:"$t:displays.boolean.label_off",type:"string",meta:{interface:"input",width:"half",options:{placeholder:"$t:displays.boolean.label_off_placeholder"}}},{field:"iconOn",name:"$t:displays.boolean.icon_on",type:"string",meta:{interface:"select-icon",width:"half"},schema:{default_value:"check"}},{field:"iconOff",name:"$t:displays.boolean.icon_off",type:"string",meta:{interface:"select-icon",width:"half"},schema:{default_value:"close"}},{field:"colorOn",name:"$t:displays.boolean.color_on",type:"string",meta:{interface:"select-color",width:"half"},schema:{default_value:"#00C897"}},{field:"colorOff",name:"$t:displays.boolean.color_off",type:"string",meta:{interface:"select-color",width:"half"},schema:{default_value:"#B0BEC5"}}]}),vU=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:_U});const yU=K({props:{value:{type:String,default:null},icon:{type:Boolean,default:!1}},setup(e){const t=Re(e).value,{info:o}=at(t);return{info:o}}}),gU={key:1};function hU(e,t,o,l,d,c){const i=u("value-null"),s=u("v-icon");return e.value===null||!e.info?(m(),F(i,{key:0})):(m(),I("div",gU,[e.icon?(m(),F(s,{key:0,name:e.info.icon,left:"",small:""},null,8,["name"])):N("",!0),O(" "+h(e.info.name),1)]))}var bU=q(yU,[["render",hU]]),$U=yt({id:"collection",name:"$t:displays.collection.collection",description:"$t:displays.collection.description",types:["string"],icon:"label",component:bU,options:[{field:"icon",name:"$t:icon",type:"boolean",meta:{interface:"boolean",options:{label:"$t:displays.collection.icon_label"}},schema:{default_value:!1}}]}),kU=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:$U});function Tl(e){return/^#(([a-f\d]{2}){3,4})$/i.test(e)}const wU=K({props:{value:{type:String,default:null},defaultColor:{type:String,default:"#B0BEC5",validator:e=>e===null||Tl(e)||e.startsWith("var(--")}},setup(e){const t=E(()=>e.value),o=E(()=>{var f,v;const d=((f=e.defaultColor)==null?void 0:f.startsWith("var("))?l(e.defaultColor):e.defaultColor,c=((v=e.value)==null?void 0:v.startsWith("var("))?l(e.value):e.value,i={"background-color":d};c!==null&&(i["background-color"]=c);const s=l("var(--background-page)"),r=zt(s);return(c===null?zt(d):zt(c)).contrast(r)<1.1&&(i.border="1px solid var(--border-normal)"),i});return{displayValue:t,styles:o};function l(d){return getComputedStyle(document.body).getPropertyValue(d.slice(4,-1)).trim()}}}),CU={class:"color-dot"};function SU(e,t,o,l,d,c){const i=u("value-null");return m(),I("div",CU,[e.value===null&&e.defaultColor===null?(m(),F(i,{key:0})):N("",!0),S("div",{class:"dot",style:Ke(e.styles)},null,4)])}var FU=q(wU,[["render",SU],["__scopeId","data-v-37c4bfe4"]]),VU=yt({id:"color",name:"$t:displays.color.color",description:"$t:displays.color.description",types:["string"],icon:"flag",component:FU,options:[{field:"defaultColor",name:"$t:displays.color.default_color",type:"string",meta:{interface:"select-color",width:"half"},schema:{default_value:"#B0BEC5"}}]}),EU=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:VU});const IU=async(e,t,o)=>Ws(e,t,ye(X({},o),{locale:await ro()}));const AU=K({props:{value:{type:String,required:!0},type:{type:String,required:!0,validator:e=>["dateTime","date","time","timestamp"].includes(e)},format:{type:String,default:"long"},relative:{type:Boolean,default:!1}},setup(e){const{t}=ae(),o=E(()=>e.value?e.type==="timestamp"?Ja(e.value):e.type==="dateTime"?an(e.value,"yyyy-MM-dd'T'HH:mm:ss",new Date):e.type==="date"?an(e.value,"yyyy-MM-dd",new Date):e.type==="time"?an(e.value,"HH:mm:ss",new Date):null:null),l=D(null);return _e(o,async d=>{if(d===null){l.value=null;return}if(e.relative)l.value=await IU(d,new Date,{addSuffix:!0});else{let c;e.format==="long"?(c=`${t("date-fns_date")} ${t("date-fns_time")}`,e.type==="date"&&(c=String(t("date-fns_date"))),e.type==="time"&&(c=String(t("date-fns_time")))):e.format==="short"?(c=`${t("date-fns_date_short")} ${t("date-fns_time_short")}`,e.type==="date"&&(c=String(t("date-fns_date_short"))),e.type==="time"&&(c=String(t("date-fns_time_short")))):c=e.format,l.value=await Pt(d,c)}},{immediate:!0}),{displayValue:l}}}),DU={class:"datetime"};function OU(e,t,o,l,d,c){return m(),I("span",DU,h(e.displayValue),1)}var PU=q(AU,[["render",OU],["__scopeId","data-v-7df33e0f"]]),TU=yt({id:"datetime",name:"$t:displays.datetime.datetime",description:"$t:displays.datetime.description",icon:"query_builder",component:PU,options:[{field:"format",name:"$t:displays.datetime.format",type:"string",meta:{interface:"select-dropdown",width:"half",options:{choices:[{text:"$t:displays.datetime.long",value:"long"},{text:"$t:displays.datetime.short",value:"short"}],allowOther:!0},note:"$t:displays.datetime.format_note"},schema:{default_value:"long"}},{field:"relative",name:"$t:displays.datetime.relative",type:"boolean",meta:{width:"half",interface:"boolean",options:{label:"$t:displays.datetime.relative_label"}},schema:{default_value:!1}}],types:["dateTime","date","time","timestamp"]}),LU=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:TU});const jU=K({props:{value:{type:Object,default:null}},setup(e){const t=D(),o=D(!1),l=E(()=>e.value?Zn(e.value.type,!0):null),d=E(()=>e.value?e.value.type.includes("svg")?ut(Xe()+`assets/${e.value.id}`):e.value.type.includes("image")===!1?null:ut(Xe()+`assets/${e.value.id}?key=system-small-cover`):null),{height:c}=xn(t);return{fileExtension:l,imageThumbnail:d,previewEl:t,height:c,imgError:o}}}),RU=["src","alt"],MU={key:1,ref:"previewEl",class:"preview"},UU={key:0,class:"extension"};function NU(e,t,o,l,d,c){const i=u("v-icon");return e.imageThumbnail&&!e.imgError?(m(),I("img",{key:0,src:e.imageThumbnail,class:re({"is-svg":e.value&&e.value.type.includes("svg")}),alt:e.value.title,onError:t[0]||(t[0]=s=>e.imgError=!0)},null,42,RU)):(m(),I("div",MU,[e.fileExtension?(m(),I("span",UU,h(e.fileExtension),1)):(m(),F(i,{key:1,name:"folder_open"}))],512))}var BU=q(jU,[["render",NU],["__scopeId","data-v-3d2d9adb"]]),qU=yt({id:"file",name:"$t:displays.file.file",description:"$t:displays.file.description",icon:"insert_drive_file",component:BU,types:["uuid"],groups:["file"],options:[],fields:["id","type","title"]}),zU=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:qU}),KU=yt({id:"filesize",name:"$t:displays.filesize.filesize",description:"$t:displays.filesize.description",icon:"description",component:({value:e})=>Fl(e),options:[],types:["integer","bigInteger"]}),WU=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:KU});const HU=K({props:{value:{type:[Object,Array],default:null},format:{type:String,default:null}},setup(e){const{t}=ae();return{displayValue:E(()=>{if(!e.value)return null;try{return Array.isArray(e.value)?e.value.map(l=>Mn(e.format||"",l)):[Mn(e.format||"",e.value)]}catch{return null}}),t}}}),GU=["onClick"],QU={class:"label"},XU={key:2};function JU(e,t,o,l,d,c){const i=u("value-null"),s=u("v-list-item-content"),r=u("v-list-item"),p=u("v-list"),f=u("v-menu");return e.displayValue?e.displayValue.length>1?(m(),F(f,{key:1,"show-arrow":""},{activator:a(({toggle:v})=>[S("span",{class:"toggle",onClick:Ie(v,["stop"])},[S("span",QU,h(e.displayValue.length)+" "+h(e.t("items")),1)],8,GU)]),default:a(()=>[n(p,{class:"links"},{default:a(()=>[(m(!0),I(oe,null,he(e.displayValue,(v,_)=>(m(),F(r,{key:_},{default:a(()=>[n(s,null,{default:a(()=>[O(h(v),1)]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1})):(m(),I("span",XU,h(e.displayValue[0]),1)):(m(),F(i,{key:0}))}var YU=q(HU,[["render",JU]]),ZU=yt({id:"formatted-json-value",name:"$t:displays.formatted-json-value.formatted-json-value",description:"$t:displays.formatted-json-value.description",types:["json","geometry"],icon:"settings_ethernet",component:YU,options:[{field:"format",name:"$t:display_template",type:"string",meta:{width:"full",interface:"input",options:{placeholder:"{{ field }}"}}}]}),xU=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:ZU});const eN=K({props:{value:{type:[String,Number],default:null},formatTitle:{type:Boolean,default:!1},bold:{type:Boolean,default:!1},color:{type:String,default:null},font:{type:String,default:"sans-serif",validator:e=>["sans-serif","serif","monospace"].includes(e)}},setup(e){const{n:t}=ae();return{displayValue:E(()=>{if(H.exports.isNil(e.value)||e.value==="")return null;if(typeof e.value=="number")return t(e.value);let l=String(e.value);return l=l.replace(/(<([^>]+)>)/gi,""),l=Hs(l),e.formatTitle&&(l=Je(l)),l})}}});function tN(e,t,o,l,d,c){const i=u("value-null");return e.displayValue===null||e.displayValue===void 0?(m(),F(i,{key:0})):(m(),I("span",{key:1,class:re(["display-formatted-text",[{bold:e.bold},e.font]]),style:Ke({color:e.color})},h(e.displayValue),7))}var nN=q(eN,[["render",tN],["__scopeId","data-v-416d4750"]]),lN=yt({id:"formatted-value",name:"$t:displays.formatted-value.formatted-value",description:"$t:displays.formatted-value.description",types:["string","text","integer","float","decimal","bigInteger"],icon:"text_format",component:nN,options:[{field:"formatTitle",name:"$t:displays.formatted-value.format_title",type:"boolean",meta:{width:"half",interface:"boolean",options:{label:"$t:displays.formatted-value.format_title_label"}},schema:{default_value:!1}},{field:"bold",name:"$t:bold",type:"boolean",meta:{width:"half",interface:"boolean",options:{label:"$t:displays.formatted-value.bold_label"}},schema:{default_value:!1}},{field:"color",name:"$t:color",meta:{width:"half",interface:"select-color"}},{field:"font",name:"$t:font",meta:{width:"half",interface:"select-dropdown",options:{choices:[{text:"$t:sans_serif",value:"sans-serif"},{text:"$t:serif",value:"serif"},{text:"$t:monospace",value:"monospace"}]}},schema:{default_value:"sans-serif"}}]}),aN=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:lN});const oN=K({name:"DisplayIcon",props:{value:{type:String,default:null},color:{type:String,default:null},filled:{type:Boolean,default:!1}},setup(e){return{style:E(()=>Tl(e.color)?{"--v-icon-color":e.color}:{})}}});function iN(e,t,o,l,d,c){const i=u("v-icon");return m(),F(i,{small:"",name:e.value,style:Ke(e.style),filled:e.filled},null,8,["name","style","filled"])}var sN=q(oN,[["render",iN]]),rN=yt({id:"icon",name:"$t:displays.icon.icon",description:"$t:displays.icon.description",icon:"insert_emoticon",component:sN,options:[{field:"filled",name:"$t:displays.icon.filled",type:"boolean",meta:{interface:"boolean",width:"half",options:{label:"$t:displays.icon.filled_label"}},schema:{default_value:!1}},{field:"color",name:"$t:color",type:"string",meta:{interface:"select-color",width:"half"}}],types:["string"]}),dN=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:rN});const uN=K({components:{ValueNull:xt},props:{value:{type:Object,default:null},circle:{type:Boolean,default:!1}},setup(e){const t=D(!1);return{src:E(()=>{if(e.value===null)return null;const l=Xe()+`assets/${e.value.id}?key=system-small-cover`;return ut(l)}),imageError:t}}}),cN=["src","alt"];function pN(e,t,o,l,d,c){const i=u("v-icon"),s=u("value-null");return e.imageError?(m(),F(i,{key:0,name:"image"})):e.src?(m(),I("img",{key:1,src:e.src,role:"presentation",alt:e.value&&e.value.title,class:re({circle:e.circle}),onError:t[0]||(t[0]=r=>e.imageError=!0)},null,42,cN)):(m(),F(s,{key:2}))}var mN=q(uN,[["render",pN],["__scopeId","data-v-e3df0200"]]),fN=yt({id:"image",name:"$t:displays.image.image",description:"$t:displays.image.description",types:["uuid"],groups:["file"],icon:"insert_photo",component:mN,options:[{field:"circle",name:"$t:displays.image.circle",type:"boolean",meta:{width:"half",interface:"boolean",options:{label:"$t:displays.image.circle_label"}},schema:{default_value:!1}}],fields:["id","type","title"]}),_N=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:fN});const vN=K({props:{value:{type:[String,Array],required:!0},format:{type:Boolean,default:!0},showAsDot:{type:Boolean,default:!1},choices:{type:Array,default:()=>[]},defaultBackground:{type:String,default:"#eceff1"},defaultForeground:{type:String,default:"#263238"},type:{type:String,required:!0,validator:e=>["text","string","json","csv"].includes(e)}},setup(e){return{items:E(()=>{let o;return H.exports.isEmpty(e.value)?o=[]:e.type==="string"?o=[e.value]:o=e.value,o.map(l=>{const d=(e.choices||[]).find(i=>i.value===l);let c;return typeof l=="object"?c=JSON.stringify(l):e.format?c=Je(l):c=l,d===void 0?{value:l,text:c,foreground:e.defaultForeground,background:e.defaultBackground}:St({value:l,text:d.text||c,foreground:d.foreground||e.defaultForeground,background:d.background||e.defaultBackground})})})}}}),yN={class:"display-labels"};function gN(e,t,o,l,d,c){const i=u("v-chip"),s=u("display-color"),r=Ce("tooltip");return m(),I("div",yN,[e.showAsDot?(m(!0),I(oe,{key:1},he(e.items,p=>te((m(),F(s,{key:p.value,value:p.background,"default-color":e.defaultBackground},null,8,["value","default-color"])),[[r,p.text]])),128)):(m(!0),I(oe,{key:0},he(e.items,p=>(m(),F(i,{key:p.value,style:Ke({"--v-chip-color":p.foreground,"--v-chip-background-color":p.background}),small:"",disabled:"",label:""},{default:a(()=>[O(h(p.text),1)]),_:2},1032,["style"]))),128))])}var hN=q(vN,[["render",gN],["__scopeId","data-v-19bd541a"]]),bN=yt({id:"labels",name:"$t:displays.labels.labels",description:"$t:displays.labels.description",types:["string","json","csv"],icon:"flag",component:hN,options:[{field:"defaultForeground",name:"$t:displays.labels.default_foreground",type:"string",meta:{interface:"select-color",width:"half"},schema:{default_value:"#263238"}},{field:"defaultBackground",name:"$t:displays.labels.default_background",type:"string",meta:{interface:"select-color",width:"half"},schema:{default_value:"#eceff1"}},{field:"format",name:"$t:format_text",type:"boolean",meta:{width:"half",interface:"boolean",options:{label:"$t:displays.labels.format_label"}},schema:{default_value:!0}},{field:"showAsDot",name:"$t:displays.labels.show_as_dot",type:"boolean",meta:{width:"half",interface:"boolean"},schema:{default_value:!1}},{field:"choices",name:"$t:choices",type:"json",meta:{interface:"list",options:{template:"{{text}}",fields:[{field:"text",name:"$t:text",type:"string",meta:{interface:"input",width:"half",options:{placeholder:"$t:displays.labels.choices_text_placeholder"}}},{field:"value",name:"$t:value",type:"string",meta:{interface:"input",options:{font:"monospace",placeholder:"$t:displays.labels.choices_value_placeholder"},width:"half"}},{field:"foreground",name:"$t:foreground_color",type:"string",meta:{interface:"select-color",width:"half"}},{field:"background",name:"$t:background_color",type:"string",meta:{interface:"select-color",width:"half"}}]}}}]}),$N=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:bN}),kN=yt({id:"mime-type",name:"$t:displays.mime-type.mime-type",description:"$t:displays.mime-type.description",icon:"picture_as_pdf",options:[{field:"showAsExtension",name:"$t:displays.mime-type.extension_only",type:"boolean",meta:{interface:"boolean",options:{label:"$t:displays.mime-type.extension_only_label"}},schema:{default_value:!1}}],types:["string"],component:({value:e,showAsExtension:t})=>t?Gs.getExtension(e):Zn(e)}),wN=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:kN});const CN=K({props:{value:{type:[String,Number],default:null},simple:{type:Boolean,default:!1},interfaceOptions:{type:Object,default:null}},setup(e){const t=E(()=>e.interfaceOptions===null?5:Math.ceil(e.interfaceOptions.maxValue)),o=E(()=>({width:Number(e.value)/t.value*100+"%"}));return{starCount:t,ratingPercentage:o}}}),SN={key:0,class:"rating simple"},FN={key:1,class:"rating detailed"},VN={class:"inactive"};function EN(e,t,o,l,d,c){const i=u("v-icon"),s=Ce("tooltip");return e.simple?(m(),I("span",SN,[n(i,{small:"",name:"star"}),O(" "+h(e.value),1)])):te((m(),I("div",FN,[S("div",{class:"active",style:Ke(e.ratingPercentage)},[(m(!0),I(oe,null,he(e.starCount,r=>(m(),F(i,{key:r,small:"",name:"star"}))),128))],4),S("div",VN,[(m(!0),I(oe,null,he(e.starCount,r=>(m(),F(i,{key:r,small:"",name:"star"}))),128))])],512)),[[s,e.value,void 0,{bottom:!0,start:!0}]])}var IN=q(CN,[["render",EN],["__scopeId","data-v-51c07d78"]]),AN=yt({id:"rating",name:"$t:displays.rating.rating",description:"$t:displays.rating.description",icon:"star",component:IN,options:[{field:"simple",name:"$t:displays.rating.simple",type:"boolean",meta:{interface:"boolean",width:"half",options:{label:"$t:displays.rating.simple_label"}},schema:{default_value:!1}}],types:["integer","decimal","float"]}),DN=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:AN}),ON=yt({id:"raw",name:"$t:displays.raw.raw",icon:"code",component:({value:e})=>String(e),options:[],types:P1,groups:["file","files","group","m2a","m2m","m2o","o2m","presentation","standard","translations"]}),PN=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:ON});function pi(e,t){const o=_t(),l=ze(),d=o.getRelationsForField(e,t),i=l.getField(e,t).type.toLowerCase();return["o2m","m2m","m2a","alias","translations","files"].includes(i)?d[0].collection:d[0].related_collection}const TN=K({props:{value:{type:Object,default:null},fieldData:{type:Object,default:null},relations:{type:Array,default:()=>[]},collection:{type:String,default:null}},emits:["input"],setup(e,{emit:t}){const{t:o}=ae(),l=E({get(){var c;return(c=e.value)==null?void 0:c.template},set(c){t("input",ye(X({},e.value||{}),{template:c}))}}),d=E(()=>{if(!e.fieldData||!e.relations||e.relations.length===0)return null;const{field:c}=e.fieldData,i=e.relations.find(r=>r.collection===e.collection&&r.field===c),s=e.relations.find(r=>{var p;return r.related_collection===e.collection&&((p=r.meta)==null?void 0:p.one_field)===c});return i!==void 0?(i==null?void 0:i.related_collection)||null:s!==void 0&&(s==null?void 0:s.collection)||null});return{t:o,template:l,relatedCollection:d}}}),LN={key:1,class:"form-grid"},jN={class:"field full"},RN={class:"type-label"};function MN(e,t,o,l,d,c){const i=u("v-notice"),s=u("v-field-template");return e.collection===null?(m(),F(i,{key:0,type:"warning"},{default:a(()=>[O(h(e.t("interfaces.list-o2m.no_collection")),1)]),_:1})):(m(),I("div",LN,[S("div",jN,[S("p",RN,h(e.t("display_template")),1),n(s,{modelValue:e.template,"onUpdate:modelValue":t[0]||(t[0]=r=>e.template=r),collection:e.relatedCollection,depth:2},null,8,["modelValue","collection"])])]))}var UN=q(TN,[["render",MN]]);const NN=K({components:{ValueNull:xt},props:{collection:{type:String,required:!0},field:{type:String,required:!0},value:{type:[Array,Object],default:null},template:{type:String,default:null},type:{type:String,required:!0}},setup(e){const{t,te:o}=ae(),l=E(()=>pi(e.collection,e.field)),{primaryKeyField:d}=at(l),c=E(()=>e.template||`{{ ${d.value.field} }}`),i=E(()=>Array.isArray(e.value)?e.value.length===1?o(`collection_names_singular.${l.value}`)?t(`collection_names_singular.${l.value}`):t("item"):o(`collection_names_plural.${l.value}`)?t(`collection_names_plural.${l.value}`):t("items"):null);return{relatedCollection:l,primaryKeyField:d,getLinkForItem:s,internalTemplate:c,unit:i};function s(r){if(!l.value||!d.value)return null;const p=r[d.value.field];return`/collections/${l.value}/${encodeURIComponent(p)}`}}}),BN=["onClick"],qN={class:"label"},zN=O("+");function KN(e,t,o,l,d,c){const i=u("value-null"),s=u("render-template"),r=u("v-list-item-content"),p=u("v-icon"),f=u("router-link"),v=u("v-list-item-icon"),_=u("v-list-item"),y=u("v-list"),b=u("v-menu");return e.relatedCollection?["o2m","m2m","m2a","translations","files"].includes(e.type.toLowerCase())?(m(),F(b,{key:1,"show-arrow":"",disabled:e.value.length===0},{activator:a(({toggle:w})=>[S("span",{class:re(["toggle",{subdued:e.value.length===0}]),onClick:Ie(w,["stop"])},[S("span",qN,[O(h(e.value.length)+" ",1),e.value.length>=100?(m(),I(oe,{key:0},[zN],64)):N("",!0),O(" "+h(e.unit),1)])],10,BN)]),default:a(()=>[n(y,{class:"links"},{default:a(()=>[(m(!0),I(oe,null,he(e.value,w=>(m(),F(_,{key:w[e.primaryKeyField]},{default:a(()=>[n(r,null,{default:a(()=>[n(s,{template:e.internalTemplate,item:w,collection:e.relatedCollection},null,8,["template","item","collection"])]),_:2},1024),n(v,null,{default:a(()=>[n(f,{to:e.getLinkForItem(w)},{default:a(()=>[n(p,{name:"launch",small:""})]),_:2},1032,["to"])]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1},8,["disabled"])):(m(),F(s,{key:2,template:e.internalTemplate,item:e.value,collection:e.relatedCollection},null,8,["template","item","collection"])):(m(),F(i,{key:0}))}var WN=q(NN,[["render",KN],["__scopeId","data-v-55daff52"]]),HN=yt({id:"related-values",name:"$t:displays.related-values.related-values",description:"$t:displays.related-values.description",icon:"settings_ethernet",component:WN,options:UN,types:["alias","string","uuid","integer","bigInteger","json"],groups:["m2m","m2o","o2m","translations","m2a"],fields:(e,{field:t,collection:o})=>{const l=pi(o,t),c=ze().getPrimaryKeyFieldForCollection(l);if(!l)return[];const i=(e==null?void 0:e.template)?Xt(vt(e.template),l):[];return c&&!i.includes(c.field)&&i.push(c.field),i}}),GN=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:HN});function Tn(e,t){const o=_t(),l=qe(),d=E(()=>o.getRelationsForField(e.value,t.value)),c=E(()=>d.value.find(b=>{var w;return b.related_collection===e.value&&((w=b.meta)==null?void 0:w.one_field)===t.value})),i=E(()=>d.value.find(b=>{var w;return b.collection===c.value.collection&&b.field!==c.value.field&&b.field===((w=c.value.meta)==null?void 0:w.junction_field)})),s=E(()=>l.getCollection(c.value.collection)),r=E(()=>l.getCollection(i.value.related_collection)),{primaryKeyField:p,fields:f}=at(s.value.collection),{primaryKeyField:v,fields:_}=at(r.value.collection),y=E(()=>{var b,w,$,k;return{junctionPkField:(b=p.value)==null?void 0:b.field,relationPkField:(w=v.value)==null?void 0:w.field,junctionField:($=c.value.meta)==null?void 0:$.junction_field,sortField:(k=c.value.meta)==null?void 0:k.sort_field,junctionCollection:s.value.collection,relationCollection:r.value.collection}});return{junction:c,junctionCollection:s,relation:i,relationCollection:r,relationInfo:y,junctionPrimaryKeyField:p,relationPrimaryKeyField:v,junctionFields:f,relationFields:_}}const QN=K({props:{value:{type:Object,default:null},fieldData:{type:Object,default:null},relations:{type:Array,default:()=>[]},collection:{type:String,default:null}},emits:["input"],setup(e,{emit:t}){const{t:o}=ae(),{collection:l}=Re(e),d=E(()=>e.fieldData.field),c=E({get(){var b;return(b=e.value)==null?void 0:b.languageField},set(b){t("input",ye(X({},e.value||{}),{languageField:b}))}}),i=E({get(){var b;return(b=e.value)==null?void 0:b.defaultLanguage},set(b){t("input",ye(X({},e.value||{}),{defaultLanguage:b}))}}),s=E({get(){var b;return(b=e.value)==null?void 0:b.userLanguage},set(b){t("input",ye(X({},e.value||{}),{userLanguage:b}))}}),r=E({get(){var b;return(b=e.value)==null?void 0:b.template},set(b){t("input",ye(X({},e.value||{}),{template:b}))}}),{junctionCollection:p,relationCollection:f,relationPrimaryKeyField:v,relationFields:_}=Tn(l,d),y=D([]);return _e(f,async b=>{const w=await de.get(`items/${b.collection}`,{params:{limit:-1}});y.value=w.data.data},{immediate:!0}),{t:o,template:r,translationsCollection:p,languagesCollection:f,userLanguage:s,languages:y,defaultLanguage:i,langCode:v,languageField:c,languageFields:_}}}),XN={key:1,class:"form-grid"},JN={class:"field full"},YN={class:"type-label"},ZN={class:"field full"},xN={class:"type-label"},eB={class:"field half"},tB={class:"type-label"},nB={class:"field half"},lB={class:"type-label"};function aB(e,t,o,l,d,c){var f;const i=u("v-notice"),s=u("v-field-template"),r=u("v-select"),p=u("v-checkbox");return e.collection===null?(m(),F(i,{key:0,type:"warning"},{default:a(()=>[O(h(e.t("interfaces.list-o2m.no_collection")),1)]),_:1})):(m(),I("div",XN,[S("div",JN,[S("p",YN,h(e.t("display_template")),1),n(s,{modelValue:e.template,"onUpdate:modelValue":t[0]||(t[0]=v=>e.template=v),collection:e.translationsCollection.collection,depth:2},null,8,["modelValue","collection"])]),S("div",ZN,[S("p",xN,h(e.t("displays.translations.language_field")),1),n(r,{modelValue:e.languageField,"onUpdate:modelValue":t[1]||(t[1]=v=>e.languageField=v),items:e.languageFields,"item-text":"name","item-value":"field"},null,8,["modelValue","items"])]),S("div",eB,[S("p",tB,h(e.t("displays.translations.default_language")),1),n(r,{modelValue:e.defaultLanguage,"onUpdate:modelValue":t[2]||(t[2]=v=>e.defaultLanguage=v),"show-deselect":"",placeholder:e.t("select_an_item"),items:e.languages,"item-text":(f=e.languageField)!=null?f:e.langCode.field,"item-value":e.langCode.field},null,8,["modelValue","placeholder","items","item-text","item-value"])]),S("div",nB,[S("p",lB,h(e.t("displays.translations.user_language")),1),n(p,{modelValue:e.userLanguage,"onUpdate:modelValue":t[3]||(t[3]=v=>e.userLanguage=v),block:"",label:e.t("displays.translations.enable")},null,8,["modelValue","label"])])]))}var oB=q(QN,[["render",aB]]);const iB=K({components:{ValueNull:xt},props:{collection:{type:String,required:!0},field:{type:String,required:!0},value:{type:[Array],default:null},template:{type:String,default:null},userLanguage:{type:Boolean,default:!1},defaultLanguage:{type:String,default:null},languageField:{type:String,default:null},type:{type:String,required:!0}},setup(e){const{collection:t,field:o}=Re(e),{junctionPrimaryKeyField:l,junctionCollection:d,relation:c,junctionFields:i,relationPrimaryKeyField:s}=Tn(t,o),r=E(()=>{var _,y;return e.template||((y=(_=d.value)==null?void 0:_.meta)==null?void 0:y.display_template)||`{{ ${l.value.field} }}`}),p=E(()=>{var b,w,$;const _=(b=s.value)==null?void 0:b.field;if(!_)return{};let y=(w=e.value.find(k=>{var V;return((V=k==null?void 0:k[c.value.field])==null?void 0:V[_])===e.defaultLanguage}))!=null?w:e.value[0];if(e.userLanguage){const k=xe();y=($=e.value.find(V=>{var g,A;return((g=V==null?void 0:V[c.value.field])==null?void 0:g[_])===((A=k.currentUser)==null?void 0:A.language)}))!=null?$:y}return y!=null?y:{}}),f=E(()=>i.value.filter(_=>{var y;return _.type!=="alias"&&((y=_.meta)==null?void 0:y.hidden)===!1&&_.meta.readonly===!1})),v=E(()=>e.value.map(_=>{var b,w,$,k,V;const y=f.value.filter(g=>g.field in _&&Mt(_==null?void 0:_[g.field])).length;return{id:_==null?void 0:_[(w=(b=l.value)==null?void 0:b.field)!=null?w:"id"],lang:(V=_==null?void 0:_[c.value.field])==null?void 0:V[(k=e.languageField)!=null?k:($=s.value)==null?void 0:$.field],progress:Math.round(y/f.value.length*100),item:_}}));return{primaryKeyField:l,internalTemplate:r,junctionCollection:d,displayItem:p,translations:v}}}),sB={class:"header"},rB={class:"lang"};function dB(e,t,o,l,d,c){const i=u("value-null"),s=u("render-template"),r=u("v-icon"),p=u("v-progress-linear"),f=u("v-list-item-content"),v=u("v-list-item"),_=u("v-list"),y=u("v-menu"),b=Ce("tooltip");return e.junctionCollection.collection?(m(),F(y,{key:1,"show-arrow":"",disabled:e.value.length===0},{activator:a(({toggle:w})=>[n(s,{template:e.internalTemplate,item:e.displayItem,collection:e.junctionCollection.collection,onClick:Ie(w,["stop"])},null,8,["template","item","collection","onClick"])]),default:a(()=>[n(_,{class:"links"},{default:a(()=>[(m(!0),I(oe,null,he(e.translations,w=>(m(),F(v,{key:w.id},{default:a(()=>[n(f,null,{default:a(()=>[S("div",sB,[S("div",rB,[n(r,{name:"translate",small:""}),O(" "+h(w.lang),1)]),te(n(p,{value:w.progress,colorful:""},null,8,["value"]),[[b,`${w.progress}%`]])]),n(s,{template:e.internalTemplate,item:w.item,collection:e.junctionCollection.collection},null,8,["template","item","collection"])]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1},8,["disabled"])):(m(),F(i,{key:0}))}var uB=q(iB,[["render",dB],["__scopeId","data-v-6056eccc"]]),cB=yt({id:"translations",name:"$t:displays.translations.translations",description:"$t:displays.translations.description",icon:"translate",component:uB,options:oB,types:["alias"],groups:["translations"],fields:(e,{field:t,collection:o})=>{const l=ze(),c=_t().getRelationsForField(o,t),i=c.find(y=>{var b;return y.related_collection===o&&((b=y.meta)==null?void 0:b.one_field)===t}),s=c.find(y=>y!==i),r=i==null?void 0:i.related_collection,p=s==null?void 0:s.related_collection;if(!r||!p)return[];const f=l.getPrimaryKeyFieldForCollection(r),v=l.getPrimaryKeyFieldForCollection(p),_=(e==null?void 0:e.template)?Xt(vt(e.template),r):[];return f&&!_.includes(f.field)&&_.push(f.field),(s==null?void 0:s.field)&&!_.includes(s.field)&&(_.push(`${s.field}.${v.field}`),(e==null?void 0:e.languageField)&&_.push(`${s.field}.${e.languageField}`)),_}}),pB=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:cB}),mB="assets/avatar-placeholder.446bf113.svg";const fB=K({props:{value:{type:Object,default:null},display:{type:String,default:"both"},circle:{type:Boolean,default:!1}},setup(e){return{src:E(()=>{var o;if(e.value===null)return null;if((o=e.value.avatar)==null?void 0:o.id){const l=`${Xe()}assets/${e.value.avatar.id}?key=system-small-cover`;return ut(l)}return null}),userName:Ft}}}),_B=["src","alt"],vB=["alt"],yB={key:2};function gB(e,t,o,l,d,c){const i=u("user-popover");return e.value?(m(),F(i,{key:0,user:e.value.id},{default:a(()=>[S("div",{class:re(["user",e.display])},[(e.display==="avatar"||e.display==="both")&&e.src?(m(),I("img",{key:0,src:e.src,role:"presentation",alt:e.value&&e.userName(e.value),class:re({circle:e.circle})},null,10,_B)):(e.display==="avatar"||e.display==="both")&&e.src===null?(m(),I("img",{key:1,src:mB,role:"presentation",alt:e.value&&e.userName(e.value),class:re({circle:e.circle})},null,10,vB)):N("",!0),e.display==="name"||e.display==="both"?(m(),I("span",yB,h(e.userName(e.value)),1)):N("",!0)],2)]),_:1},8,["user"])):N("",!0)}var hB=q(fB,[["render",gB],["__scopeId","data-v-1e6e7370"]]),bB=yt({id:"user",name:"$t:displays.user.user",description:"$t:displays.user.description",types:["uuid"],icon:"person",component:hB,options:[{field:"display",name:"$t:display",type:"string",meta:{width:"half",interface:"select-dropdown",options:{choices:[{text:"$t:displays.user.avatar",value:"avatar"},{text:"$t:displays.user.name",value:"name"},{text:"$t:displays.user.both",value:"both"}]}},schema:{default_value:"both"}},{field:"circle",name:"$t:circle",type:"boolean",meta:{width:"half",interface:"boolean",options:{label:"$t:displays.user.circle_label"}},schema:{default_value:!1}}],fields:["id","avatar.id","email","first_name","last_name"]}),$B=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:bB});const{displaysRaw:mi}=sn();async function kB(e){const o=Object.values({"./boolean/index.ts":vU,"./collection/index.ts":kU,"./color/index.ts":EU,"./datetime/index.ts":LU,"./file/index.ts":zU,"./filesize/index.ts":WU,"./formatted-json-value/index.ts":xU,"./formatted-value/index.ts":aN,"./icon/index.ts":dN,"./image/index.ts":_N,"./labels/index.ts":$N,"./mime-type/index.ts":wN,"./rating/index.ts":DN,"./raw/index.ts":PN,"./related-values/index.ts":GN,"./translations/index.ts":pB,"./user/index.ts":$B}).map(l=>l.default);try{const l=await j(()=>import(`${Xe()}extensions/displays/index.js`),[]);o.push(...l.default)}catch(l){console.warn("Couldn't load custom displays"),console.warn(l)}mi.value=o,mi.value.forEach(l=>{e.component(`display-${l.id}`,l.component),typeof l.options!="function"&&Array.isArray(l.options)===!1&&l.options!==null&&e.component(`display-options-${l.id}`,l.options)})}const wB=K({props:{value:{type:Boolean,default:null},disabled:{type:Boolean,default:!1},label:{type:String,default:()=>We.global.t("enabled")},iconOn:{type:String,default:"check_box"},iconOff:{type:String,default:"check_box_outline_blank"},color:{type:String,default:"#00C897"}},emits:["input"]});function CB(e,t,o,l,d,c){const i=u("v-checkbox");return m(),F(i,{block:"","icon-on":e.iconOn,"icon-off":e.iconOff,label:e.label,"model-value":e.value,indeterminate:e.value===null,disabled:e.disabled,style:Ke({"--v-checkbox-color":e.color}),"onUpdate:modelValue":t[0]||(t[0]=s=>e.$emit("input",s))},null,8,["icon-on","icon-off","label","model-value","indeterminate","disabled","style"])}var SB=q(wB,[["render",CB]]),FB=Me({id:"boolean",name:"$t:interfaces.boolean.toggle",description:"$t:interfaces.boolean.description",icon:"check_box",component:SB,types:["boolean"],recommendedDisplays:["boolean"],options:[{field:"iconOn",name:"$t:icon_on",type:"string",meta:{width:"half",interface:"select-icon"},schema:{default_value:"check_box"}},{field:"iconOff",name:"$t:icon_off",type:"string",meta:{width:"half",interface:"select-icon"},schema:{default_value:"check_box_outline_blank"}},{field:"label",name:"$t:label",type:"string",meta:{width:"half",interface:"input",options:{placeholder:"$t:interfaces.boolean.label_placeholder"}},schema:{default_value:"$t:interfaces.boolean.label_default"}},{field:"color",name:"$t:color",type:"string",meta:{width:"half",interface:"select-color"},schema:{default_value:"#00C897"}}]}),VB=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:FB});const EB=K({props:{disabled:{type:Boolean,default:!1},value:{type:String,default:null},type:{type:String,required:!0,validator:e=>["dateTime","date","time","timestamp"].includes(e)},includeSeconds:{type:Boolean,default:!1},use24:{type:Boolean,default:!0}},emits:["input"],setup(e,{emit:t}){const{t:o}=ae(),{internalValue:l,year:d,month:c,date:i,hours:s,minutes:r,seconds:p,period:f}=V(),{yearItems:v,monthItems:_,dateItems:y,hourItems:b,minutesSecondItems:w}=R(),{displayValue:$}=A();return{t:o,year:d,month:c,date:i,hours:s,minutes:r,seconds:p,period:f,setToNow:g,yearItems:v,monthItems:_,dateItems:y,hourItems:b,minutesSecondItems:w,displayValue:$,unsetValue:k};function k(){t("input",null)}function V(){const L=E({get(){return e.value?e.type==="timestamp"?Ja(e.value):e.type==="dateTime"?an(e.value,"yyyy-MM-dd'T'HH:mm:ss",new Date):e.type==="date"?an(e.value,"yyyy-MM-dd",new Date):e.type==="time"?an(e.value,"HH:mm:ss",new Date):null:null},set(Q){if(Q===null)return t("input",null);e.type==="timestamp"?t("input",Nn(Q)):e.type==="dateTime"?t("input",ln(Q,"yyyy-MM-dd'T'HH:mm:ss")):e.type==="date"?t("input",ln(Q,"yyyy-MM-dd")):e.type==="time"&&t("input",ln(Q,"HH:mm:ss"))}}),M=E({get(){return L.value?L.value.getFullYear():null},set(Q){const G=L.value?new Date(L.value):new Date(0);G.setFullYear(Q||0),L.value=G}}),T=E({get(){return L.value?L.value.getMonth():null},set(Q){const G=L.value?new Date(L.value):new Date;G.setMonth(Q||0),L.value=G}}),U=E({get(){return L.value?L.value.getDate():null},set(Q){const G=L.value?new Date(L.value):new Date;G.setDate(Q||1),L.value=G}}),B=E({get(){if(!L.value)return null;const Q=L.value.getHours();return e.use24===!1?Q%12:Q},set(Q){const G=L.value?new Date(L.value):new Date;G.setHours(Q||0),L.value=G}}),z=E({get(){return L.value?L.value.getMinutes():null},set(Q){const G=L.value?new Date(L.value):new Date;G.setMinutes(Q||0),L.value=G}}),W=E({get(){return L.value?L.value.getSeconds():null},set(Q){const G=L.value?new Date(L.value):new Date;G.setSeconds(Q||0),L.value=G}}),J=E({get(){return L.value?L.value.getHours()>=12?"pm":"am":null},set(Q){const G=L.value?new Date(L.value):new Date;(G.getHours()>=12?"pm":"am")!==Q&&(Q==="am"?G.setHours(G.getHours()-12):G.setHours(G.getHours()+12)),L.value=G}});return{internalValue:L,year:M,month:T,date:U,hours:B,minutes:z,seconds:W,period:J}}function g(){l.value=e.includeSeconds?new Date:Qs(new Date,0)}function A(){const L=D(null);return _e(l,M,{immediate:!0}),{displayValue:L};async function M(){if(!e.value||!l.value){L.value=null;return}const T=e.includeSeconds?"date-fns_time":"date-fns_time_no_seconds";let U=`${o("date-fns_date")} ${o(T)}`;e.type==="date"&&(U=String(o("date-fns_date"))),e.type==="time"&&(U=String(o(T))),L.value=await Pt(l.value,U)}}function R(){const L=E(()=>{var J;const z=((J=l.value)==null?void 0:J.getFullYear())||new Date().getFullYear(),W=[];for(let Q=z-5;Q<=z+5;Q++)W.push({text:String(Q),value:Q});return W}),M=E(()=>[o("months.january"),o("months.february"),o("months.march"),o("months.april"),o("months.may"),o("months.june"),o("months.july"),o("months.august"),o("months.september"),o("months.october"),o("months.november"),o("months.december")].map((z,W)=>({text:z,value:W}))),T=E(()=>{const z=[];for(let W=1;W<=31;W++)z.push(`${W}`);return z}),U=E(()=>{const z=[],W=e.use24?24:12;for(let J=0;J<W;J++){let Q=String(J);Q.length===1&&(Q="0"+Q),z.push({text:Q,value:J})}return z}),B=E(()=>{const z=[];for(let W=0;W<60;W++){let J=String(W);J.length===1&&(J="0"+J),z.push({text:J,value:W})}return z});return{yearItems:L,monthItems:M,dateItems:T,hourItems:U,minutesSecondItems:B}}}}),IB={key:0,class:"date-selects"},AB={class:"month"},DB={class:"date"},OB={class:"year"},PB={class:"hour"},TB={class:"minutes"},LB={key:0,class:"seconds"},jB={key:1,class:"period"};function RB(e,t,o,l,d,c){const i=u("v-icon"),s=u("v-input"),r=u("v-select"),p=u("v-divider"),f=u("v-menu");return m(),F(f,{"close-on-content-click":!1,attached:"",disabled:e.disabled},{activator:a(({toggle:v,active:_})=>[n(s,{active:_,clickable:"",readonly:"","model-value":e.displayValue,disabled:e.disabled,placeholder:e.t("enter_a_value"),onClick:v},Ne({_:2},[e.disabled?void 0:{name:"append",fn:a(()=>[n(i,{name:e.value?"close":"today",class:re({active:_}),onClick:Ie(e.unsetValue,["stop"])},null,8,["name","class","onClick"])])}]),1032,["active","model-value","disabled","placeholder","onClick"])]),default:a(()=>[e.type==="timestamp"||e.type==="dateTime"||e.type==="date"?(m(),I("div",IB,[S("div",AB,[n(r,{modelValue:e.month,"onUpdate:modelValue":t[0]||(t[0]=v=>e.month=v),placeholder:e.t("month"),items:e.monthItems},null,8,["modelValue","placeholder","items"])]),S("div",DB,[n(r,{modelValue:e.date,"onUpdate:modelValue":t[1]||(t[1]=v=>e.date=v),placeholder:e.t("date"),items:e.dateItems},null,8,["modelValue","placeholder","items"])]),S("div",OB,[n(r,{modelValue:e.year,"onUpdate:modelValue":t[2]||(t[2]=v=>e.year=v),placeholder:e.t("year"),items:e.yearItems,"allow-other":""},null,8,["modelValue","placeholder","items"])])])):N("",!0),e.type==="timestamp"||e.type==="dateTime"?(m(),F(p,{key:1})):N("",!0),e.type==="timestamp"||e.type==="dateTime"||e.type==="time"?(m(),I("div",{key:2,class:re(["time-selects",{seconds:e.includeSeconds,"use-24":e.use24}])},[S("div",PB,[n(r,{modelValue:e.hours,"onUpdate:modelValue":t[3]||(t[3]=v=>e.hours=v),placeholder:e.t("hours"),items:e.hourItems},null,8,["modelValue","placeholder","items"])]),S("div",TB,[n(r,{modelValue:e.minutes,"onUpdate:modelValue":t[4]||(t[4]=v=>e.minutes=v),placeholder:e.t("minutes"),items:e.minutesSecondItems},null,8,["modelValue","placeholder","items"])]),e.includeSeconds?(m(),I("div",LB,[n(r,{modelValue:e.seconds,"onUpdate:modelValue":t[5]||(t[5]=v=>e.seconds=v),items:e.minutesSecondItems},null,8,["modelValue","items"])])):N("",!0),e.use24===!1?(m(),I("div",jB,[n(r,{modelValue:e.period,"onUpdate:modelValue":t[6]||(t[6]=v=>e.period=v),items:["am","pm"]},null,8,["modelValue"])])):N("",!0)],2)):N("",!0),n(p),S("button",{class:"to-now",onClick:t[7]||(t[7]=(...v)=>e.setToNow&&e.setToNow(...v))},h(e.t("interfaces.datetime.set_to_now")),1)]),_:1},8,["disabled"])}var MB=q(EB,[["render",RB],["__scopeId","data-v-2fb57ac6"]]),UB=Me({id:"datetime",name:"$t:interfaces.datetime.datetime",description:"$t:interfaces.datetime.description",icon:"today",component:MB,types:["dateTime","date","time","timestamp"],options:[{field:"includeSeconds",name:"$t:interfaces.datetime.include_seconds",type:"boolean",meta:{width:"half",interface:"boolean"},schema:{default_value:!1}},{field:"use24",name:"$t:interfaces.datetime.use_24",type:"boolean",meta:{width:"half",interface:"boolean"},schema:{default_value:!0}}],recommendedDisplays:["datetime"]}),NB=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:UB});const BB=K({components:{DrawerCollection:Qt,DrawerItem:Nt},props:{value:{type:[String,Object],default:null},disabled:{type:Boolean,default:!1},folder:{type:String,default:void 0}},emits:["input"],setup(e,{emit:t}){const{t:o}=ae(),l=D(null),{loading:d,file:c,fetchFile:i}=k();_e(()=>e.value,i,{immediate:!0});const s=E(()=>c.value===null?null:Zn(c.value.type,!0)),r=E(()=>{var M;const L=typeof e.value=="string"?e.value:(M=e.value)==null?void 0:M.id;return ut(Xe()+`assets/${L}`)}),p=E(()=>c.value===null||e.value===null?null:c.value.type.includes("svg")?r.value:c.value.type.includes("image")===!1?null:Ql(r.value,{key:"system-small-cover"})),{edits:f,stageEdits:v}=R(),{url:_,isValidURL:y,loading:b,importFromURL:w}=A(),$=D(!1);return{t:o,activeDialog:l,setSelection:V,loading:d,file:c,fileExtension:s,imageThumbnail:p,onUpload:g,url:_,urlLoading:b,importFromURL:w,isValidURL:y,assetURL:r,editDrawerActive:$,edits:f,stageEdits:v};function k(){const L=D(!1),M=D(null);return{loading:L,file:M,fetchFile:T};async function T(){var U;if(e.value===null){M.value=null,L.value=!1;return}L.value=!0;try{const B=typeof e.value=="string"?e.value:(U=e.value)==null?void 0:U.id,z=await de.get(`/files/${B}`,{params:{fields:["id","title","type","filename_download"]}});e.value!==null&&typeof e.value=="object"?M.value=X(X({},z.data.data),e.value):M.value=z.data.data}catch(B){Fe(B)}finally{L.value=!1}}}function V(L){L[0]?t("input",L[0]):t("input",null)}function g(L){c.value=L,l.value=null,t("input",L.id)}function A(){const L=D(""),M=D(!1),T=E(()=>{try{return new URL(L.value),!0}catch{return!1}});return{url:L,loading:M,isValidURL:T,importFromURL:U};async function U(){var B;M.value=!0;try{const z=await de.post("/files/import",{url:L.value,data:{folder:e.folder}});c.value=z.data.data,l.value=null,L.value="",t("input",(B=c.value)==null?void 0:B.id)}catch(z){Fe(z)}finally{M.value=!1}}}function R(){return{edits:E(()=>e.value&&typeof e.value=="object"?e.value:{}),stageEdits:M};function M(T){!c.value||t("input",X({id:c.value.id},T))}}}}),qB={class:"file"},zB=["src","alt"],KB={key:1,class:"extension"};function WB(e,t,o,l,d,c){const i=u("v-skeleton-loader"),s=u("v-icon"),r=u("v-input"),p=u("v-list-item-icon"),f=u("v-list-item-content"),v=u("v-list-item"),_=u("v-divider"),y=u("v-list"),b=u("v-menu"),w=u("drawer-item"),$=u("v-card-title"),k=u("v-upload"),V=u("v-card-text"),g=u("v-button"),A=u("v-card-actions"),R=u("v-card"),L=u("v-dialog"),M=u("drawer-collection"),T=Ce("tooltip");return m(),I("div",qB,[n(b,{attached:"",disabled:e.loading},{activator:a(({toggle:U})=>[S("div",null,[e.loading?(m(),F(i,{key:0,type:"input"})):(m(),F(r,{key:1,clickable:"",readonly:"",placeholder:e.t("no_file_selected"),"model-value":e.file&&e.file.title,onClick:U},{prepend:a(()=>{var B,z;return[S("div",{class:re(["preview",{"has-file":e.file,"is-svg":(z=(B=e.file)==null?void 0:B.type)==null?void 0:z.includes("svg")}])},[e.imageThumbnail?(m(),I("img",{key:0,src:e.imageThumbnail,alt:e.file.title},null,8,zB)):e.fileExtension?(m(),I("span",KB,h(e.fileExtension),1)):(m(),F(s,{key:2,name:"folder_open"}))],2)]}),append:a(()=>[e.file?(m(),I(oe,{key:0},[te(n(s,{name:"open_in_new",class:"edit",onClick:t[0]||(t[0]=Ie(B=>e.editDrawerActive=!0,["stop"]))},null,512),[[T,e.t("edit")]]),e.disabled?N("",!0):te((m(),F(s,{key:0,class:"deselect",name:"close",onClick:t[1]||(t[1]=Ie(B=>e.$emit("input",null),["stop"]))},null,512)),[[T,e.t("deselect")]])],64)):(m(),F(s,{key:1,name:"attach_file"}))]),_:2},1032,["placeholder","model-value","onClick"]))])]),default:a(()=>[n(y,null,{default:a(()=>[e.file?(m(),I(oe,{key:0},[n(v,{download:e.file.filename_download,href:e.assetURL},{default:a(()=>[n(p,null,{default:a(()=>[n(s,{name:"get_app"})]),_:1}),n(f,null,{default:a(()=>[O(h(e.t("download_file")),1)]),_:1})]),_:1},8,["download","href"]),e.disabled?N("",!0):(m(),F(_,{key:0}))],64)):N("",!0),e.disabled?N("",!0):(m(),I(oe,{key:1},[n(v,{clickable:"",onClick:t[2]||(t[2]=U=>e.activeDialog="upload")},{default:a(()=>[n(p,null,{default:a(()=>[n(s,{name:"phonelink"})]),_:1}),n(f,null,{default:a(()=>[O(h(e.t(e.file?"replace_from_device":"upload_from_device")),1)]),_:1})]),_:1}),n(v,{clickable:"",onClick:t[3]||(t[3]=U=>e.activeDialog="choose")},{default:a(()=>[n(p,null,{default:a(()=>[n(s,{name:"folder_open"})]),_:1}),n(f,null,{default:a(()=>[O(h(e.t(e.file?"replace_from_library":"choose_from_library")),1)]),_:1})]),_:1}),n(v,{clickable:"",onClick:t[4]||(t[4]=U=>e.activeDialog="url")},{default:a(()=>[n(p,null,{default:a(()=>[n(s,{name:"link"})]),_:1}),n(f,null,{default:a(()=>[O(h(e.t(e.file?"replace_from_url":"import_from_url")),1)]),_:1})]),_:1})],64))]),_:1})]),_:1},8,["disabled"]),e.file?(m(),F(w,{key:0,active:e.editDrawerActive,"onUpdate:active":t[5]||(t[5]=U=>e.editDrawerActive=U),collection:"directus_files","primary-key":e.file.id,edits:e.edits,onInput:e.stageEdits},null,8,["active","primary-key","edits","onInput"])):N("",!0),n(L,{"model-value":e.activeDialog==="upload",onEsc:t[7]||(t[7]=U=>e.activeDialog=null),"onUpdate:modelValue":t[8]||(t[8]=U=>e.activeDialog=null)},{default:a(()=>[n(R,null,{default:a(()=>[n($,null,{default:a(()=>[O(h(e.t("upload_from_device")),1)]),_:1}),n(V,null,{default:a(()=>[n(k,{"from-url":"",folder:e.folder,onInput:e.onUpload},null,8,["folder","onInput"])]),_:1}),n(A,null,{default:a(()=>[n(g,{secondary:"",onClick:t[6]||(t[6]=U=>e.activeDialog=null)},{default:a(()=>[O(h(e.t("cancel")),1)]),_:1})]),_:1})]),_:1})]),_:1},8,["model-value"]),n(M,{collection:"directus_files",active:e.activeDialog==="choose","onUpdate:active":t[9]||(t[9]=U=>e.activeDialog=null),onInput:e.setSelection},null,8,["active","onInput"]),n(L,{"model-value":e.activeDialog==="url",persistent:e.urlLoading,"onUpdate:modelValue":t[12]||(t[12]=U=>e.activeDialog=null),onEsc:t[13]||(t[13]=U=>e.activeDialog=null)},{default:a(()=>[n(R,null,{default:a(()=>[n($,null,{default:a(()=>[O(h(e.t("import_from_url")),1)]),_:1}),n(V,null,{default:a(()=>[n(r,{modelValue:e.url,"onUpdate:modelValue":t[10]||(t[10]=U=>e.url=U),autofocus:"",placeholder:e.t("url"),nullable:!1,disabled:e.urlLoading},null,8,["modelValue","placeholder","disabled"])]),_:1}),n(A,null,{default:a(()=>[n(g,{disabled:e.urlLoading,secondary:"",onClick:t[11]||(t[11]=U=>e.activeDialog=null)},{default:a(()=>[O(h(e.t("cancel")),1)]),_:1},8,["disabled"]),n(g,{loading:e.urlLoading,disabled:e.isValidURL===!1,onClick:e.importFromURL},{default:a(()=>[O(h(e.t("import_label")),1)]),_:1},8,["loading","disabled","onClick"])]),_:1})]),_:1})]),_:1},8,["model-value","persistent"])])}var HB=q(BB,[["render",WB],["__scopeId","data-v-61c64b69"]]),GB=Me({id:"file",name:"$t:interfaces.file.file",description:"$t:interfaces.file.description",icon:"note_add",component:HB,types:["uuid"],groups:["file"],relational:!0,options:[{field:"folder",name:"$t:interfaces.system-folder.folder",type:"uuid",meta:{width:"full",interface:"system-folder",note:"$t:interfaces.system-folder.field_hint"},schema:{default_value:void 0}}],recommendedDisplays:["file"]}),QB=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:GB});const XB=K({components:{FilePreview:sa},props:{id:{type:String,required:!0},modelValue:{type:Boolean,default:void 0}},emits:["update:modelValue"],setup(e,{emit:t}){const o=D(!1),l=E({get(){return e.modelValue===void 0?o.value:e.modelValue},set(p){o.value=p,t("update:modelValue",p)}}),d=D(!1),c=D(null),i=D(bt()),s=E(()=>ut(Xe()+`assets/${e.id}?cache-buster=${i.value}`));return _e(()=>e.id,(p,f)=>{p&&p!==f&&r()},{immediate:!0}),{internalActive:l,cacheBuster:i,loading:d,file:c,fileSrc:s};async function r(){i.value=bt(),d.value=!0;try{const p=await de.get(`/files/${e.id}`,{params:{fields:["type","width","height","title"]}});c.value=p.data.data}catch(p){Fe(p)}finally{d.value=!1}}}});function JB(e,t,o,l,d,c){const i=u("v-progress-circular"),s=u("file-preview"),r=u("v-icon"),p=u("v-button"),f=u("v-dialog");return m(),F(f,{modelValue:e.internalActive,"onUpdate:modelValue":t[2]||(t[2]=v=>e.internalActive=v),onEsc:t[3]||(t[3]=v=>e.internalActive=!1)},{activator:a(v=>[$e(e.$slots,"activator",Qe(Ze(v)),void 0,!0)]),default:a(()=>[e.loading?(m(),F(i,{key:0,indeterminate:""})):e.file?(m(),F(s,{key:1,src:e.fileSrc,mime:e.file.type,width:e.file.width,height:e.file.height,title:e.file.title,"in-modal":"",onClick:t[0]||(t[0]=v=>e.internalActive=!1)},null,8,["src","mime","width","height","title"])):N("",!0),n(p,{class:"close",icon:"",rounded:"",onClick:t[1]||(t[1]=v=>e.internalActive=!1)},{default:a(()=>[n(r,{name:"close"})]),_:1})]),_:3},8,["modelValue"])}var YB=q(XB,[["render",JB],["__scopeId","data-v-57968292"]]);const ZB=K({components:{FileLightbox:YB,DrawerItem:Nt},props:{value:{type:[String,Object],default:null},disabled:{type:Boolean,default:!1},folder:{type:String,default:void 0}},emits:["input"],setup(e,{emit:t}){const{t:o,n:l,te:d}=ae(),c=D(!1),i=D(null),s=D(!1),r=D(!1),p=D(null),f=D(bt()),v=E(()=>{if(!i.value)return null;if(i.value.type.includes("svg"))return ut(Xe()+`assets/${i.value.id}`);if(i.value.type.includes("image")){const L=Xe()+`assets/${i.value.id}?key=system-large-cover&cache-buster=${f.value}`;return ut(L)}return null}),_=E(()=>i.value?ut(Xe()+`assets/${i.value.id}`):null),y=E(()=>{if(!i.value)return null;const{filesize:L,width:M,height:T,type:U}=i.value;return M&&T?`${l(M)}x${l(T)} \u2022 ${Fl(L)} \u2022 ${U}`:`${Fl(L)} \u2022 ${U}`});_e(()=>e.value,(L,M)=>{L!==M&&(L&&$(),M&&L===null&&A())},{immediate:!0});const{edits:b,stageEdits:w}=R();return{t:o,loading:c,image:i,src:v,imageError:p,imageErrorHandler:k,meta:y,lightboxActive:s,editDrawerActive:r,changeCacheBuster:V,setImage:g,deselect:A,downloadSrc:_,edits:b,stageEdits:w};async function $(){var L;c.value=!0;try{const M=typeof e.value=="string"?e.value:(L=e.value)==null?void 0:L.id,T=await de.get(`/files/${M}`,{params:{fields:["id","title","width","height","filesize","type","filename_download"]}});e.value!==null&&typeof e.value=="object"?i.value=X(X({},T.data.data),e.value):i.value=T.data.data}catch(M){Fe(M)}finally{c.value=!1}}async function k(){var L,M,T,U;if(!!v.value)try{await de.get(v.value)}catch(B){p.value=(U=(T=(M=(L=B.response)==null?void 0:L.data)==null?void 0:M.errors[0])==null?void 0:T.extensions)==null?void 0:U.code,(!p.value||!d("errors."+p.value))&&(p.value="UNKNOWN")}}function V(){f.value=bt()}function g(L){i.value=L,t("input",L.id)}function A(){t("input",null),c.value=!1,i.value=null,s.value=!1,r.value=!1}function R(){return{edits:E(()=>e.value&&typeof e.value=="object"?e.value:{}),stageEdits:M};function M(T){!i.value||t("input",X({id:i.value.id},T))}}}}),xB=e=>(He("data-v-020ab223"),e=e(),Ge(),e),e7={class:"image"},t7={key:0,class:"image-error"},n7={class:"message"},l7=["src"],a7=xB(()=>S("div",{class:"shadow"},null,-1)),o7={key:2,class:"actions"},i7={class:"info"},s7={class:"title"},r7={class:"meta"};function d7(e,t,o,l,d,c){const i=u("v-skeleton-loader"),s=u("v-notice"),r=u("v-icon"),p=u("v-button"),f=u("drawer-item"),v=u("file-lightbox"),_=u("v-upload"),y=Ce("tooltip");return m(),I("div",e7,[e.loading?(m(),F(i,{key:0,type:"input-tall"})):e.disabled&&!e.image?(m(),F(s,{key:1,class:"disabled-placeholder",center:"",icon:"block"},{default:a(()=>[O(h(e.t("disabled")),1)]),_:1})):e.image?(m(),I("div",{key:2,class:re(["image-preview",{"is-svg":e.image.type&&e.image.type.includes("svg")}])},[e.imageError?(m(),I("div",t7,[n(r,{large:"",name:e.imageError==="UNKNOWN"?"error_outline":"info_outline"},null,8,["name"]),S("span",n7,h(e.t(`errors.${e.imageError}`)),1)])):(m(),I("img",{key:1,src:e.src,alt:"",role:"presentation",onError:t[0]||(t[0]=(...b)=>e.imageErrorHandler&&e.imageErrorHandler(...b))},null,40,l7)),a7,e.disabled?N("",!0):(m(),I("div",o7,[te(n(p,{icon:"",rounded:"",onClick:t[1]||(t[1]=b=>e.lightboxActive=!0)},{default:a(()=>[n(r,{name:"zoom_in"})]),_:1},512),[[y,e.t("zoom")]]),te(n(p,{icon:"",rounded:"",href:e.downloadSrc,download:e.image.filename_download},{default:a(()=>[n(r,{name:"get_app"})]),_:1},8,["href","download"]),[[y,e.t("download")]]),te(n(p,{icon:"",rounded:"",onClick:t[2]||(t[2]=b=>e.editDrawerActive=!0)},{default:a(()=>[n(r,{name:"open_in_new"})]),_:1},512),[[y,e.t("edit")]]),te(n(p,{icon:"",rounded:"",onClick:e.deselect},{default:a(()=>[n(r,{name:"close"})]),_:1},8,["onClick"]),[[y,e.t("deselect")]])])),S("div",i7,[S("div",s7,h(e.image.title),1),S("div",r7,h(e.meta),1)]),!e.disabled&&e.image?(m(),F(f,{key:3,active:e.editDrawerActive,"onUpdate:active":t[3]||(t[3]=b=>e.editDrawerActive=b),collection:"directus_files","primary-key":e.image.id,edits:e.edits,onInput:e.stageEdits},null,8,["active","primary-key","edits","onInput"])):N("",!0),n(v,{id:e.image.id,modelValue:e.lightboxActive,"onUpdate:modelValue":t[4]||(t[4]=b=>e.lightboxActive=b)},null,8,["id","modelValue"])],2)):(m(),F(_,{key:3,"from-library":"","from-url":"",folder:e.folder,onInput:e.setImage},null,8,["folder","onInput"]))])}var u7=q(ZB,[["render",d7],["__scopeId","data-v-020ab223"]]),c7=Me({id:"file-image",name:"$t:interfaces.file-image.image",description:"$t:interfaces.file-image.description",icon:"insert_photo",component:u7,types:["uuid"],groups:["file"],relational:!0,options:[{field:"folder",name:"$t:interfaces.system-folder.folder",type:"uuid",meta:{width:"full",interface:"system-folder",note:"$t:interfaces.system-folder.field_hint"},schema:{default_value:void 0}}],recommendedDisplays:["image"]}),p7=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:c7});function fi(e,t,o){function l(_){const{junctionPkField:y}=t.value;return e.value===null?null:e.value.find(b=>H.exports.get(b,y)===_||b===_)||null}function d(){const{junctionField:_}=t.value;return e.value===null||_===null?[]:e.value.filter(y=>typeof y=="object"&&_ in y&&typeof y[_]!="object")}function c(){const{junctionField:_,relationPkField:y}=t.value;return e.value===null||_===null?[]:e.value.filter(b=>typeof H.exports.get(b,_)=="object"&&H.exports.has(b,[_,y])===!1)}function i(){const{junctionField:_,relationPkField:y}=t.value;return e.value===null||_===null?[]:e.value.filter(b=>H.exports.has(b,[_,y]))}function s(){return e.value===null?[]:e.value.filter(_=>["string","number"].includes(typeof _))}function r(){const{junctionPkField:_}=t.value;return e.value===null?[]:e.value.reduce((y,b)=>{const w=H.exports.get(b,[_]);return["string","number"].includes(typeof b)?y.push(b):w!==void 0&&y.push(w),y},[])}function p(){if(e.value===null)return[];const{junctionField:_,relationPkField:y}=t.value;return e.value.reduce((b,w)=>{const $=H.exports.get(w,_),k=H.exports.get(w,[_,y]);return $!==void 0?b.push($):k!==void 0&&b.push(k),b},[])}function f(_,y){const{relationPkField:b,junctionField:w}=t.value;return y.find($=>H.exports.get($,[w,b])===_)||null}function v(_){if(e.value===null)return;const{junctionField:y,relationPkField:b,junctionPkField:w}=t.value,$=H.exports.get(_,w),k=H.exports.get(_,[y,b]),V=e.value.filter(g=>{if($!==void 0)return typeof g=="object"?H.exports.get(g,[w])!==$:g!==$;if(k!==void 0){const A=H.exports.get(g,[y,b]);if(["string","number"].includes(typeof A))return A!==k;const R=H.exports.get(g,[y]);if(["string","number"].includes(typeof R))return R!==k}return H.exports.isEqual(g,_)===!1});o(V)}return{getJunctionItem:l,getNewSelectedItems:d,getNewItems:c,getUpdatedItems:i,getExistingItems:s,getPrimaryKeys:r,getRelatedPrimaryKeys:p,getJunctionFromRelatedId:f,deleteItem:v}}function _i(e,t){var d;if(!(t==null?void 0:t.length))return[];const o=ze(),l=[];for(const c of t){if(l.push(c),!c.includes("."))continue;const i=c.split("."),s=o.getField(e,c),r=o.getPrimaryKeyFieldForCollection((d=s==null?void 0:s.collection)!=null?d:""),p=i.slice(0,-1).concat(r.field).join(".");l.includes(p)||l.push(p)}return l}function vi(e,t,o,l,d,c,i){const s=ze(),r=D([]),p=D(!1),f=D([]),v=D(null);return _e(()=>e.value,async k=>{if(k===null){f.value=[];return}p.value=!0;const{junctionField:V,relationPkField:g,junctionPkField:A,relationCollection:R}=o.value;if(V===null)return;const L=await b(),M=L.reduce((U,B)=>{const z=H.exports.get(B,V);return z!==null&&U.push(z),U},[]),T=[...t.value.length>0?_(t.value):$()];T.includes(g)===!1&&T.push(g);try{let U=[];M.length>0&&(U=await w(R,T,g,M)),U=U.map(W=>{const J=H.exports.get(W,g),Q=L.find(x=>x[V]===J);if(Q===void 0||J===void 0)return;const G=H.exports.cloneDeep(Q);return G[V]=W,G});const B=d(),z=c();U=U.map(W=>{const J=B.find(Q=>H.exports.get(Q,[V,A])===H.exports.get(W,[V,A]));return J!==void 0?H.exports.merge(W,J):W}).concat(...z),f.value=U}catch(U){v.value=U}finally{p.value=!1}},{immediate:!0}),_e(()=>t.value,()=>{const{junctionField:k,junctionCollection:V}=o.value;r.value=(t.value.length>0?t.value:$().map(g=>`${k}.${g}`)).map(g=>{var L,M,T,U;const A=s.getField(V,g);return A?{text:A.name,value:g,align:"left",sortable:!0,width:null,field:{display:(L=A.meta)==null?void 0:L.display,displayOptions:(M=A.meta)==null?void 0:M.display_options,interface:(T=A.meta)==null?void 0:T.interface,interfaceOptions:(U=A.meta)==null?void 0:U.options,type:A.type,field:A.field}}:null}).filter(g=>g)},{immediate:!0}),{tableHeaders:r,items:f,loading:p,error:v};function _(k){const{junctionField:V}=o.value;return k.reduce((g,A)=>{const R=A.split(".");return V===R[0]&&R.length>=2&&g.push(R.slice(1).join(".")),g},[])}function y(){return(t.value||[]).filter(k=>k.includes(".")===!1)}async function b(){const{junctionPkField:k,junctionField:V,relationPkField:g,junctionCollection:A}=o.value;try{let R=[];const L=i();if(L.length>0){const T=y();T.includes(k)===!1&&T.push(k),T.includes(V)===!1&&T.push(V),o.value.sortField!==null&&T.includes(o.value.sortField)===!1&&T.push(o.value.sortField),R=await w(A,T,k,L)}const M=d().map(T=>({[V]:T[V][g]}));return R.concat(...l(),...M)}catch(R){v.value=R}return[]}async function w(k,V,g,A){if(V===null||V.length===0||A===null||A.length===0)return[];const R=_i(k,V),L=await de.get(Ht(k),{params:{fields:R,[`filter[${g}][_in]`]:A.join(",")}});return L==null?void 0:L.data.data}function $(){return s.getFieldsForCollection(o.value.relationCollection).slice(0,3).map(V=>V.field)}}function yi(e,t,o){const l=D(!1),d=D(null),c=D(null),i=D({});function s(f){const{relationPkField:v,junctionField:_,junctionPkField:y}=t.value;l.value=!0,i.value=f,d.value=H.exports.get(f,[y],null),c.value=H.exports.get(f,[_,v],null)}function r(f){const{relationPkField:v,junctionField:_,junctionPkField:y}=t.value,b=(e.value||[]).map(w=>{if(d.value!==null){const $=d.value;if(typeof w=="object"&&y in w){if(w[y]===$)return f}else if(["number","string"].includes(typeof w)&&w===$)return f}if(c.value!=null){const $=c.value;if(H.exports.get(w,[_],null)===$||H.exports.get(w,[_,v],null)===$)return f}return H.exports.isEqual(i.value,w)?f:w});c.value===null&&d.value===null&&b.includes(f)===!1&&b.push(f),b.length===0?o(null):o(b),p()}function p(){l.value=!1,i.value={},d.value=null,c.value=null}return{currentlyEditing:d,editItem:s,editsAtStart:i,stageEdits:r,cancelEdit:p,relatedPrimaryKey:c,editModalActive:l}}function gi(e,t,o){const l=D(!1),d=E(()=>{if(e.value===null)return[];const{relationPkField:i,junctionField:s}=t.value;return e.value.reduce((p,f)=>{const v=H.exports.get(f,[s,i]);return v!==void 0&&p.push(v),p},[])});function c(i){const{junctionField:s}=t.value,r=i.map(p=>({[s]:p}));r.length===0?o(null):o(r)}return{stageSelection:c,selectModalActive:l,selectedPrimaryKeys:d}}function hi(e,t,o,l){const d=D({by:e.value.sortField||t.value[0],desc:!1}),c=E(()=>{const s=e.value.sortField;if(s===null||d.value.by!==s)return o.value;const r=d.value.desc,p=H.exports.sortBy(o.value,[s]);return r?p.reverse():p});return{sort:d,sortItems:i,sortedItems:c};function i(s){const r=e.value.sortField;if(r===null)return;const p=s.map((f,v)=>(f[r]=v,f));l(p)}}function bi(e,t){const o=It(),l=xe(),d=E(()=>{var p;if(((p=l.currentUser)==null?void 0:p.role.admin_access)===!0)return!0;const s=!!o.permissions.find(f=>f.action==="create"&&f.collection===e.value.collection),r=!!o.permissions.find(f=>f.action==="create"&&f.collection===t.value.collection);return s&&r}),c=E(()=>{var r;return((r=l.currentUser)==null?void 0:r.role.admin_access)===!0?!0:!!o.permissions.find(p=>p.action==="create"&&p.collection===e.value.collection)});return{createAllowed:d,selectAllowed:c}}const m7=K({components:{DrawerItem:Nt,DrawerCollection:Qt,Draggable:wt},props:{value:{type:Array,default:null},primaryKey:{type:[Number,String],required:!0},collection:{type:String,required:!0},field:{type:String,required:!0},template:{type:String,default:null},disabled:{type:Boolean,default:!1},enableCreate:{type:Boolean,default:!0},enableSelect:{type:Boolean,default:!0}},emits:["input"],setup(e,{emit:t}){const{t:o}=ae(),{value:l,collection:d,field:c}=Re(e),{junction:i,junctionCollection:s,relation:r,relationCollection:p,relationInfo:f}=Tn(d,c),v=E(()=>{var ce,ve;if(e.template)return e.template;if((ce=s.value.meta)==null?void 0:ce.display_template)return s.value.meta.display_template;let le=(ve=p.value.meta)==null?void 0:ve.display_template;if(le){const ue=/({{.*?}})/g,ge=le.split(ue).filter(fe=>fe);for(const fe of ge){if(fe.startsWith("{{")===!1)continue;const me=fe.replace(/{{/g,"").replace(/}}/g,"").trim(),ke=`{{${r.value.field}.${me}}}`;le=le.replace(fe,ke)}return le}return`{{${r.value.field}.${f.value.relationPkField}}}`}),_=E(()=>Xt(vt(v.value),s.value.collection)),{deleteItem:y,getUpdatedItems:b,getNewItems:w,getPrimaryKeys:$,getNewSelectedItems:k}=fi(l,f,Z),{tableHeaders:V,items:g,loading:A}=vi(l,_,f,k,b,w,$),{currentlyEditing:R,editItem:L,editsAtStart:M,stageEdits:T,cancelEdit:U,relatedPrimaryKey:B,editModalActive:z}=yi(l,f,Z),{stageSelection:W,selectModalActive:J}=gi(g,f,Z),{sort:Q,sortItems:G,sortedItems:x}=hi(f,_,g,Z),{createAllowed:ee,selectAllowed:ne}=bi(s,p),{showUpload:ie,onUpload:pe}=se(),Y=E(()=>{if(!(B.value===null||p.value.collection!=="directus_files"))return ut(Xe()+`assets/${B.value}`)});return{t:o,junction:i,relation:r,tableHeaders:V,loading:A,currentlyEditing:R,editItem:L,junctionCollection:s,relationCollection:p,editsAtStart:M,stageEdits:T,cancelEdit:U,stageSelection:W,selectModalActive:J,deleteItem:y,items:g,relationInfo:f,relatedPrimaryKey:B,get:H.exports.get,editModalActive:z,sort:Q,sortItems:G,sortedItems:x,templateWithDefaults:v,createAllowed:ee,selectAllowed:ne,onUpload:pe,showUpload:ie,downloadUrl:Y};function Z(le){t("input",le)}function se(){const le=D(!1);return{showUpload:le,onUpload:ce};function ce(ve){if(le.value=!1,ve.length===0)return;const{junctionField:ue}=f.value,ge=ve.map(fe=>({[ue]:fe.id}));t("input",[...e.value||[],...ge])}}}}),f7=e=>(He("data-v-a6e8352a"),e=e(),Ge(),e),_7={key:1,class:"many-to-many"},v7=f7(()=>S("div",{class:"spacer"},null,-1)),y7={key:3,class:"actions"};function g7(e,t,o,l,d,c){const i=u("v-notice"),s=u("v-skeleton-loader"),r=u("v-icon"),p=u("render-template"),f=u("v-list-item"),v=u("draggable"),_=u("v-list"),y=u("v-button"),b=u("drawer-item"),w=u("drawer-collection"),$=u("v-card-title"),k=u("v-upload"),V=u("v-card-text"),g=u("v-card-actions"),A=u("v-card"),R=u("v-dialog");return!e.junction||!e.relation?(m(),F(i,{key:0,type:"warning"},{default:a(()=>[O(h(e.t("relationship_not_setup")),1)]),_:1})):(m(),I("div",_7,[e.loading?(m(!0),I(oe,{key:0},he((e.value||[]).length||3,L=>(m(),F(s,{key:L,type:(e.value||[]).length>4?"block-list-item-dense":"block-list-item"},null,8,["type"]))),128)):e.sortedItems.length===0?(m(),F(i,{key:1},{default:a(()=>[O(h(e.t("no_items")),1)]),_:1})):(m(),F(_,{key:2},{default:a(()=>[n(v,{"force-fallback":!0,"model-value":e.sortedItems,"item-key":"id",handle:".drag-handle",disabled:!e.junction.meta.sort_field,"onUpdate:modelValue":t[1]||(t[1]=L=>e.sortItems(L))},{item:a(({element:L})=>[n(f,{dense:e.sortedItems.length>4,block:"",clickable:"",onClick:M=>e.editItem(L)},{default:a(()=>[e.junction.meta.sort_field?(m(),F(r,{key:0,name:"drag_handle",class:"drag-handle",left:"",onClick:t[0]||(t[0]=Ie(()=>{},["stop"]))})):N("",!0),n(p,{collection:e.junctionCollection.collection,item:L,template:e.templateWithDefaults},null,8,["collection","item","template"]),v7,e.disabled?N("",!0):(m(),F(r,{key:1,name:"close",onClick:Ie(M=>e.deleteItem(L),["stop"])},null,8,["onClick"]))]),_:2},1032,["dense","onClick"])]),_:1},8,["model-value","disabled"])]),_:1})),e.disabled?N("",!0):(m(),I("div",y7,[e.enableCreate&&e.createAllowed?(m(),F(y,{key:0,onClick:t[2]||(t[2]=L=>e.showUpload=!0)},{default:a(()=>[O(h(e.t("upload_file")),1)]),_:1})):N("",!0),e.enableSelect&&e.selectAllowed?(m(),F(y,{key:1,onClick:t[3]||(t[3]=L=>e.selectModalActive=!0)},{default:a(()=>[O(h(e.t("add_existing")),1)]),_:1})):N("",!0)])),e.disabled?N("",!0):(m(),F(b,{key:4,active:e.editModalActive,collection:e.relationInfo.junctionCollection,"primary-key":e.currentlyEditing||"+","related-primary-key":e.relatedPrimaryKey||"+","junction-field":e.relationInfo.junctionField,edits:e.editsAtStart,"circular-field":e.junction.field,onInput:e.stageEdits,"onUpdate:active":e.cancelEdit},{actions:a(()=>[e.currentlyEditing!=="+"&&e.relationCollection.collection==="directus_files"?(m(),F(y,{key:0,secondary:"",rounded:"",icon:"",download:"",href:e.downloadUrl},{default:a(()=>[n(r,{name:"download"})]),_:1},8,["href"])):N("",!0)]),_:1},8,["active","collection","primary-key","related-primary-key","junction-field","edits","circular-field","onInput","onUpdate:active"])),e.disabled?N("",!0):(m(),F(w,{key:5,active:e.selectModalActive,"onUpdate:active":t[4]||(t[4]=L=>e.selectModalActive=L),collection:e.relationCollection.collection,selection:[],multiple:"",onInput:e.stageSelection},null,8,["active","collection","onInput"])),e.disabled?N("",!0):(m(),F(R,{key:6,modelValue:e.showUpload,"onUpdate:modelValue":t[6]||(t[6]=L=>e.showUpload=L)},{default:a(()=>[n(A,null,{default:a(()=>[n($,null,{default:a(()=>[O(h(e.t("upload_file")),1)]),_:1}),n(V,null,{default:a(()=>[n(k,{multiple:"","from-url":"",onInput:e.onUpload},null,8,["onInput"])]),_:1}),n(g,null,{default:a(()=>[n(y,{onClick:t[5]||(t[5]=L=>e.showUpload=!1)},{default:a(()=>[O(h(e.t("done")),1)]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"]))]))}var h7=q(m7,[["render",g7],["__scopeId","data-v-a6e8352a"]]);const b7=K({props:{collection:{type:String,required:!0},fieldData:{type:Object,default:null},relations:{type:Array,default:()=>[]},value:{type:Object,default:null},newCollections:{type:Array,default:()=>[]},newFields:{type:Array,default:()=>[]}},emits:["input"],setup(e,{emit:t}){const{t:o}=ae(),l=qe(),d=E({get(){var p;return(p=e.value)==null?void 0:p.template},set(p){t("input",ye(X({},e.value||{}),{template:p}))}}),c=E({get(){var p,f;return(f=(p=e.value)==null?void 0:p.enableCreate)!=null?f:!0},set(p){t("input",ye(X({},e.value||{}),{enableCreate:p}))}}),i=E({get(){var p,f;return(f=(p=e.value)==null?void 0:p.enableSelect)!=null?f:!0},set(p){t("input",ye(X({},e.value||{}),{enableSelect:p}))}}),s=E(()=>{if(!e.fieldData||!e.relations||e.relations.length===0)return null;const{field:p}=e.fieldData,f=e.relations.find(v=>{var _;return v.related_collection===e.collection&&((_=v.meta)==null?void 0:_.one_field)===p});return(f==null?void 0:f.collection)||null}),r=E(()=>s.value?l.getCollection(s.value):null);return{t:o,template:d,enableCreate:c,enableSelect:i,junctionCollection:s,junctionCollectionInfo:r}}}),$7={key:1,class:"form-grid"},k7={class:"field full"},w7={class:"type-label"},C7={class:"field half-left"},S7={class:"type-label"},F7={class:"field half-right"},V7={class:"type-label"};function E7(e,t,o,l,d,c){const i=u("v-notice"),s=u("v-field-template"),r=u("v-checkbox");return e.junctionCollection===null?(m(),F(i,{key:0,type:"warning"},{default:a(()=>[O(h(e.t("interfaces.list-o2m.no_collection")),1)]),_:1})):(m(),I("div",$7,[S("div",k7,[S("p",w7,h(e.t("display_template")),1),n(s,{modelValue:e.template,"onUpdate:modelValue":t[0]||(t[0]=p=>e.template=p),collection:e.junctionCollection,depth:2,inject:e.junctionCollectionInfo?null:{fields:e.newFields,collections:e.newCollections,relations:e.relations},placeholder:e.junctionCollectionInfo&&e.junctionCollectionInfo.meta&&e.junctionCollectionInfo.meta.display_template},null,8,["modelValue","collection","inject","placeholder"])]),S("div",C7,[S("p",S7,h(e.t("creating_items")),1),n(r,{modelValue:e.enableCreate,"onUpdate:modelValue":t[1]||(t[1]=p=>e.enableCreate=p),block:"",label:e.t("enable_create_button")},null,8,["modelValue","label"])]),S("div",F7,[S("p",V7,h(e.t("selecting_items")),1),n(r,{modelValue:e.enableSelect,"onUpdate:modelValue":t[2]||(t[2]=p=>e.enableSelect=p),block:"",label:e.t("enable_select_button")},null,8,["modelValue","label"])])]))}var $i=q(b7,[["render",E7]]),I7=Me({id:"files",name:"$t:interfaces.files.files",description:"$t:interfaces.files.description",icon:"note_add",component:h7,relational:!0,types:["alias"],groups:["files"],options:$i,recommendedDisplays:["related-values"]}),A7=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:I7});const D7=K({name:"AccordionSection",props:{field:{type:Object,required:!0},fields:{type:Array,required:!0},values:{type:Object,required:!0},initialValues:{type:Object,required:!0},disabled:{type:Boolean,default:!1},batchMode:{type:Boolean,default:!1},batchActiveFields:{type:Array,default:()=>[]},primaryKey:{type:[Number,String],required:!0},loading:{type:Boolean,default:!1},validationErrors:{type:Array,default:()=>[]},group:{type:String,required:!0},multiple:{type:Boolean,default:!1}},emits:["apply","toggleAll"],setup(e,{emit:t}){const{t:o}=ae(),l=E(()=>e.fields.filter(i=>{var s,r,p;return!(((s=i.meta)==null?void 0:s.group)===e.group&&((r=i.meta)==null?void 0:r.id)!==((p=e.field.meta)==null?void 0:p.id))}).map(i=>{var s,r;return((s=i.meta)==null?void 0:s.id)===((r=e.field.meta)==null?void 0:r.id)?H.exports.merge({},i,{hideLabel:!0}):i})),d=E(()=>{const i=e.validationErrors.find(s=>s.field===e.field.field);if(i!==void 0)return i.code==="RECORD_NOT_UNIQUE"?o("validationError.unique"):o(`validationError.${i.type}`,i)});return{fieldsInSection:l,handleModifier:c,validationMessage:d};function c(i,s){if(e.multiple===!1){s();return}i.shiftKey?t("toggleAll"):s()}}}),O7=["onClick"],P7={key:0,class:"fields"};function T7(e,t,o,l,d,c){const i=u("v-icon"),s=u("v-form"),r=u("transition-expand"),p=u("v-item"),f=Ce("tooltip");return m(),F(p,{value:e.field.field,scope:"group-accordion",class:"accordion-section"},{default:a(({active:v,toggle:_})=>[S("div",{class:re(["label type-title",{active:v}]),onClick:y=>e.handleModifier(y,_)},[n(i,{class:re(["icon",{active:v}]),name:"expand_more"},null,8,["class"]),O(" "+h(e.field.name)+" ",1),!v&&e.validationMessage?te((m(),F(i,{key:0,class:"warning",name:"error_outline",small:""},null,512)),[[f,e.validationMessage]]):N("",!0)],10,O7),n(r,null,{default:a(()=>[v?(m(),I("div",P7,[n(s,{"initial-values":e.initialValues,fields:e.fieldsInSection,"model-value":e.values,"primary-key":e.primaryKey,group:e.group,"validation-errors":e.validationErrors,loading:e.loading,"batch-mode":e.batchMode,"onUpdate:modelValue":t[0]||(t[0]=y=>e.$emit("apply",y))},null,8,["initial-values","fields","model-value","primary-key","group","validation-errors","loading","batch-mode"])])):N("",!0)]),_:2},1024)]),_:1},8,["value"])}var L7=q(D7,[["render",T7],["__scopeId","data-v-2ba1fbc5"]]);const j7=K({name:"InterfaceGroupAccordion",components:{AccordionSection:L7},props:{field:{type:Object,required:!0},fields:{type:Array,required:!0},values:{type:Object,required:!0},initialValues:{type:Object,required:!0},disabled:{type:Boolean,default:!1},batchMode:{type:Boolean,default:!1},batchActiveFields:{type:Array,default:()=>[]},primaryKey:{type:[Number,String],required:!0},loading:{type:Boolean,default:!1},validationErrors:{type:Array,default:()=>[]},accordionMode:{type:Boolean,default:!0},start:{type:String,enum:["opened","closed","first"],default:"closed"}},emits:["apply"],setup(e){const t=E(()=>e.fields.filter(d=>{var c,i;return((c=d.meta)==null?void 0:c.group)===((i=e.field.meta)==null?void 0:i.field)})),o=D([]);return _e(()=>e.start,d=>{d==="opened"&&(o.value=t.value.map(c=>c.field)),d==="first"&&(o.value=[t.value[0].field])},{immediate:!0}),{rootFields:t,selection:o,toggleAll:l};function l(){e.accordionMode!==!0&&(o.value.length===t.value.length?o.value=[]:o.value=t.value.map(d=>d.field))}}});function R7(e,t,o,l,d,c){const i=u("accordion-section"),s=u("v-item-group");return m(),F(s,{modelValue:e.selection,"onUpdate:modelValue":t[1]||(t[1]=r=>e.selection=r),scope:"group-accordion",class:"group-accordion",multiple:e.accordionMode===!1},{default:a(()=>[(m(!0),I(oe,null,he(e.rootFields,r=>(m(),F(i,{key:r.field,field:r,fields:e.fields,values:e.values,"initial-values":e.initialValues,disabled:e.disabled,"batch-mode":e.batchMode,"batch-active-fields":e.batchActiveFields,"primary-key":e.primaryKey,loading:e.loading,"validation-errors":e.validationErrors,group:e.field.meta.field,multiple:e.accordionMode===!1,onApply:t[0]||(t[0]=p=>e.$emit("apply",p)),onToggleAll:e.toggleAll},null,8,["field","fields","values","initial-values","disabled","batch-mode","batch-active-fields","primary-key","loading","validation-errors","group","multiple","onToggleAll"]))),128))]),_:1},8,["modelValue","multiple"])}var M7=q(j7,[["render",R7]]),U7=Me({id:"group-accordion",name:"$t:interfaces.group-accordion.name",description:"$t:interfaces.group-accordion.description",icon:"horizontal_split",component:M7,hideLabel:!0,hideLoader:!0,types:["alias"],groups:["group"],options:[{field:"accordionMode",type:"boolean",name:"$t:interfaces.group-accordion.accordion_mode",meta:{interface:"boolean",options:{label:"$t:interfaces.group-accordion.max_one_section_open"},width:"half"},schema:{default_value:!0}},{field:"start",type:"string",name:"$t:start",schema:{default_value:"closed"},meta:{width:"half",interface:"select-dropdown",options:{choices:[{text:"$t:interfaces.group-accordion.all_closed",value:"closed"},{text:"$t:interfaces.group-accordion.first_opened",value:"first"}]},conditions:[{rule:{accordionMode:{_eq:!1}},options:{choices:[{text:"$t:interfaces.group-accordion.all_closed",value:"closed"},{text:"$t:interfaces.group-accordion.first_opened",value:"first"},{text:"$t:interfaces.group-accordion.all_opened",value:"opened"}]}}]}}]}),N7=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:U7});const B7=K({name:"InterfaceGroupDetail",props:{field:{type:Object,required:!0},fields:{type:Array,required:!0},values:{type:Object,required:!0},initialValues:{type:Object,required:!0},disabled:{type:Boolean,default:!1},batchMode:{type:Boolean,default:!1},batchActiveFields:{type:Array,default:()=>[]},primaryKey:{type:[Number,String],required:!0},loading:{type:Boolean,default:!1},validationErrors:{type:Array,default:()=>[]},start:{type:String,enum:["open","closed"],default:"open"},headerIcon:{type:String,default:null},headerColor:{type:String,default:null}},emits:["apply"],setup(e){const{t}=ae();return{validationMessages:E(()=>{if(!e.validationErrors)return;const l=e.fields.map(c=>c.field),d=e.validationErrors.reduce((c,i)=>(l.includes(i.field)===!1||(i.code==="RECORD_NOT_UNIQUE"?c.push(`${Je(i.field)} ${t("validationError.unique").toLowerCase()}`):c.push(`${Je(i.field)} ${t(`validationError.${i.type}`,i).toLowerCase()}`)),c),[]);if(d.length!==0)return d.join(`
`)})}}}),q7={key:0,class:"title"};function z7(e,t,o,l,d,c){const i=u("v-icon"),s=u("v-divider"),r=u("v-form"),p=u("v-detail"),f=Ce("tooltip");return m(),F(p,{"start-open":e.start==="open",class:"group-detail"},{activator:a(({toggle:v,active:_})=>[n(s,{style:Ke({"--v-divider-label-color":e.headerColor}),class:re({active:_}),"inline-title":!1,large:"",onClick:v},Ne({default:a(()=>[e.field.name?(m(),I("span",q7,h(e.field.name),1)):N("",!0),!_&&e.validationMessages?te((m(),F(i,{key:1,class:"warning",name:"error_outline",small:""},null,512)),[[f,e.validationMessages]]):N("",!0),n(i,{class:"expand-icon",name:"expand_more"})]),_:2},[e.headerIcon?{name:"icon",fn:a(()=>[n(i,{name:e.headerIcon,class:"header-icon"},null,8,["name"])])}:void 0]),1032,["style","class","onClick"])]),default:a(()=>[n(r,{"initial-values":e.initialValues,fields:e.fields,"model-value":e.values,"primary-key":e.primaryKey,group:e.field.meta.field,"validation-errors":e.validationErrors,loading:e.loading,"batch-mode":e.batchMode,"onUpdate:modelValue":t[0]||(t[0]=v=>e.$emit("apply",v))},null,8,["initial-values","fields","model-value","primary-key","group","validation-errors","loading","batch-mode"])]),_:1},8,["start-open"])}var K7=q(B7,[["render",z7],["__scopeId","data-v-2875ec12"]]),W7=Me({id:"group-detail",name:"$t:interfaces.group-detail.name",description:"$t:interfaces.group-detail.description",icon:"menu_open",component:K7,groups:["group"],types:["alias"],options:[{field:"start",name:"$t:start",type:"string",schema:{default_value:"open"},meta:{interface:"select-dropdown",width:"full",options:{choices:[{text:"$t:interfaces.group-detail.start_open",value:"open"},{text:"$t:interfaces.group-detail.start_closed",value:"closed"}]}}},{field:"headerIcon",name:"$t:interfaces.group-detail.header_icon",type:"string",meta:{interface:"select-icon",width:"half"}},{field:"headerColor",name:"$t:interfaces.group-detail.header_color",type:"string",meta:{interface:"select-color",width:"half"}}]}),H7=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:W7});const G7=K({name:"InterfaceGroupRaw",props:{field:{type:Object,required:!0},fields:{type:Array,required:!0},values:{type:Object,required:!0},initialValues:{type:Object,required:!0},disabled:{type:Boolean,default:!1},batchMode:{type:Boolean,default:!1},batchActiveFields:{type:Array,default:()=>[]},primaryKey:{type:[Number,String],required:!0},loading:{type:Boolean,default:!1},validationErrors:{type:Array,default:()=>[]}},emits:["apply"]}),Q7={class:"group-raw"};function X7(e,t,o,l,d,c){const i=u("v-form");return m(),I("div",Q7,[n(i,{"initial-values":e.initialValues,fields:e.fields,"model-value":e.values,"primary-key":e.primaryKey,group:e.field.meta.field,"validation-errors":e.validationErrors,loading:e.loading,"onUpdate:modelValue":t[0]||(t[0]=s=>e.$emit("apply",s))},null,8,["initial-values","fields","model-value","primary-key","group","validation-errors","loading"])])}var J7=q(G7,[["render",X7]]),Y7=Me({id:"group-raw",name:"$t:interfaces.group-raw.name",description:"$t:interfaces.group-raw.description",icon:"view_in_ar",component:J7,groups:["group"],types:["alias"],options:[]}),Z7=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:Y7});const x7=K({props:{value:{type:[String,Number],default:null},type:{type:String,default:null},clear:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},placeholder:{type:String,default:null},masked:{type:Boolean,default:!1},iconLeft:{type:String,default:null},iconRight:{type:String,default:null},trim:{type:Boolean,default:!0},font:{type:String,default:"sans-serif"},length:{type:Number,default:null},dbSafe:{type:Boolean,default:!1},autofocus:{type:Boolean,default:!1},slug:{type:Boolean,default:!1},min:{type:Number,default:null},max:{type:Number,default:null},step:{type:Number,default:1}},emits:["input"],setup(e){const t=E(()=>typeof e.value=="number"||!e.length||!e.value?null:+e.length-e.value.length),o=E(()=>typeof e.value=="number"||!e.length||!e.value?null:100-e.value.length/+e.length*100);return{inputType:E(()=>e.masked?"password":["bigInteger","integer","float","decimal"].includes(e.type)?"number":"text"),charsRemaining:t,percentageRemaining:o}}});function eq(e,t,o,l,d,c){const i=u("v-icon"),s=u("v-input");return m(),F(s,{autofocus:e.autofocus,"model-value":e.value,nullable:!e.clear,placeholder:e.placeholder,disabled:e.disabled,trim:e.trim,type:e.inputType,class:re(e.font),"db-safe":e.dbSafe,slug:e.slug,min:e.min,max:e.max,step:e.step,"onUpdate:modelValue":t[0]||(t[0]=r=>e.$emit("input",r))},Ne({_:2},[e.iconLeft?{name:"prepend",fn:a(()=>[n(i,{name:e.iconLeft},null,8,["name"])])}:void 0,e.percentageRemaining&&e.percentageRemaining<=20||e.iconRight?{name:"append",fn:a(()=>[e.percentageRemaining&&e.percentageRemaining<=20?(m(),I("span",{key:0,class:re(["remaining",{warning:e.percentageRemaining<10,danger:e.percentageRemaining<5}])},h(e.charsRemaining),3)):N("",!0),e.iconRight?(m(),F(i,{key:1,class:re({hide:e.percentageRemaining&&e.percentageRemaining<=20}),name:e.iconRight},null,8,["class","name"])):N("",!0)])}:void 0]),1032,["autofocus","model-value","nullable","placeholder","disabled","trim","type","class","db-safe","slug","min","max","step"])}var tq=q(x7,[["render",eq],["__scopeId","data-v-2d088068"]]);const nq=K({props:{fieldData:{type:Object,default:null},value:{type:Object,default:null}},emits:["input"],setup(e,{emit:t}){const o=E({get(){return e.value||{}},set(i){t("input",i)}}),l=[{field:"placeholder",name:"$t:placeholder",meta:{width:"half",interface:"input",options:{placeholder:"$t:enter_a_placeholder"}}},{field:"font",name:"$t:font",type:"string",meta:{width:"half",interface:"select-dropdown",options:{choices:[{text:"$t:sans_serif",value:"sans-serif"},{text:"$t:monospace",value:"monospace"},{text:"$t:serif",value:"serif"}]}},schema:{default_value:"sans-serif"}},{field:"iconLeft",name:"$t:icon_left",type:"string",meta:{width:"half",interface:"select-icon"}},{field:"iconRight",name:"$t:icon_right",type:"string",meta:{width:"half",interface:"select-icon"}},{field:"trim",name:"$t:interfaces.input.trim",type:"boolean",meta:{width:"half",interface:"boolean",options:{label:"$t:interfaces.input.trim_label"}},schema:{default_value:!1}},{field:"masked",name:"$t:interfaces.input.mask",type:"boolean",meta:{width:"half",interface:"boolean",options:{label:"$t:interfaces.input.mask_label"}},schema:{default_value:!1}},{field:"clear",name:"$t:interfaces.input.clear",type:"boolean",meta:{width:"half",interface:"boolean",options:{label:"$t:interfaces.input.clear_label"}},schema:{default_value:!1}},{field:"slug",name:"$t:interfaces.input.slug",type:"boolean",meta:{width:"half",interface:"boolean",options:{label:"$t:interfaces.input.slug_label"}},schema:{default_value:!1}}],d=[{field:"min",name:"$t:interfaces.input.minimum_value",type:"integer",meta:{width:"half",interface:"input"}},{field:"max",name:"$t:interfaces.input.maximum_value",type:"integer",meta:{width:"half",interface:"input"}},{field:"step",name:"$t:interfaces.input.step_interval",type:"integer",meta:{width:"half",interface:"input"},schema:{default_value:1}},{field:"placeholder",name:"$t:placeholder",type:"string",meta:{width:"half",interface:"input",options:{placeholder:"$t:enter_a_placeholder"}}},{field:"iconLeft",name:"$t:icon_left",type:"string",meta:{width:"half",interface:"select-icon"}},{field:"iconRight",name:"$t:icon_right",type:"string",meta:{width:"half",interface:"select-icon"}},{field:"font",name:"$t:font",type:"string",meta:{width:"half",interface:"select-dropdown",options:{choices:[{text:"$t:sans_serif",value:"sans-serif"},{text:"$t:monospace",value:"monospace"},{text:"$t:serif",value:"serif"}]}},schema:{default_value:"sans-serif"}}];return{fields:E(()=>{var i;return["bigInteger","integer","float","decimal"].includes((i=e.fieldData)==null?void 0:i.type)?d:l}),options:o}}});function lq(e,t,o,l,d,c){const i=u("v-form");return m(),I("div",null,[n(i,{modelValue:e.options,"onUpdate:modelValue":t[0]||(t[0]=s=>e.options=s),fields:e.fields},null,8,["modelValue","fields"])])}var aq=q(nq,[["render",lq]]),oq=Me({id:"input",name:"$t:interfaces.input.input",description:"$t:interfaces.input.description",icon:"text_fields",component:tq,types:["string","uuid","bigInteger","integer","float","decimal","text"],options:aq}),iq=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:oq});const sq=K({props:{value:{type:[String,Number],default:null},url:{type:String,default:null},resultsPath:{type:String,default:null},valuePath:{type:String,default:null},trigger:{type:String,default:"throttle"},rate:{type:[Number,String],default:500},placeholder:{type:String,default:null},iconLeft:{type:String,default:null},iconRight:{type:String,default:null},font:{type:String,default:"sans-serif"},disabled:{type:Boolean,default:!1}},emits:["input"],setup(e,{emit:t}){const{t:o}=ae(),l=D([]),d=async r=>{if(!r){l.value=[];return}const p=Mn(e.url,{value:r});try{const f=await Ga.get(p),v=e.resultsPath?H.exports.get(f.data,e.resultsPath):f.data;if(Array.isArray(v)===!1){console.warn(`Expected results type of array, "${typeof v}" received`);return}else l.value=v.map(_=>e.valuePath?H.exports.get(_,e.valuePath):_).filter(_=>_)}catch(f){console.warn(f)}},c=e.trigger==="debounce"?H.exports.debounce(d,Number(e.rate)):H.exports.throttle(d,Number(e.rate));return{t:o,results:l,onInput:i,emitValue:s};function i(r){s(r),c(r)}function s(r){t("input",r)}}}),rq={key:1};function dq(e,t,o,l,d,c){const i=u("v-notice"),s=u("v-icon"),r=u("v-input"),p=u("v-list-item-content"),f=u("v-list-item"),v=u("v-list"),_=u("v-menu");return e.url?(m(),I("div",rq,[n(_,{attached:"",disabled:e.disabled},{activator:a(({activate:y,deactivate:b})=>[n(r,{placeholder:e.placeholder,disabled:e.disabled,class:re(e.font),"model-value":e.value,"onUpdate:modelValue":e.onInput,onFocus:y,onBlur:b},Ne({_:2},[e.iconLeft?{name:"prepend",fn:a(()=>[n(s,{name:e.iconLeft},null,8,["name"])])}:void 0,e.iconRight?{name:"append",fn:a(()=>[n(s,{name:e.iconRight},null,8,["name"])])}:void 0]),1032,["placeholder","disabled","class","model-value","onUpdate:modelValue","onFocus","onBlur"])]),default:a(()=>[e.results.length>0?(m(),F(v,{key:0},{default:a(()=>[(m(!0),I(oe,null,he(e.results,y=>(m(),F(f,{key:y,onClick:()=>e.emitValue(y)},{default:a(()=>[n(p,null,{default:a(()=>[O(h(y),1)]),_:2},1024)]),_:2},1032,["onClick"]))),128))]),_:1})):N("",!0)]),_:1},8,["disabled"])])):(m(),F(i,{key:0,type:"warning"},{default:a(()=>[O(h(e.t("one_or_more_options_are_missing")),1)]),_:1}))}var uq=q(sq,[["render",dq],["__scopeId","data-v-10e66f47"]]),cq=Me({id:"input-autocomplete-api",name:"$t:interfaces.input-autocomplete-api.input-autocomplete-api",description:"$t:interfaces.input-autocomplete-api.description",icon:"find_in_page",component:uq,types:["string","text"],groups:["standard"],recommendedDisplays:["formatted-value"],options:[{field:"url",name:"$t:url",type:"string",meta:{interface:"input",options:{placeholder:"https://example.com/search?q={{value}}",font:"monospace"},width:"full"}},{field:"resultsPath",name:"$t:interfaces.input-autocomplete-api.results_path",type:"string",meta:{interface:"input",options:{placeholder:"result.predictions",font:"monospace"},width:"half"}},{field:"valuePath",name:"$t:interfaces.input-autocomplete-api.value_path",type:"string",meta:{interface:"input",options:{placeholder:"structured_main_text",font:"monospace"},width:"half"}},{field:"trigger",name:"$t:interfaces.input-autocomplete-api.trigger",type:"string",schema:{default_value:"throttle"},meta:{width:"half",interface:"select-dropdown",options:{choices:[{text:"Throttle",value:"throttle"},{text:"Debounce",value:"debounce"}]}}},{field:"rate",name:"$t:interfaces.input-autocomplete-api.rate",type:"integer",schema:{default_value:500},meta:{width:"half",interface:"input"}},{field:"placeholder",name:"$t:placeholder",meta:{width:"half",interface:"input",options:{placeholder:"$t:enter_a_placeholder"}}},{field:"font",name:"$t:font",type:"string",meta:{width:"half",interface:"select-dropdown",options:{choices:[{text:"$t:sans_serif",value:"sans-serif"},{text:"$t:monospace",value:"monospace"},{text:"$t:serif",value:"serif"}]}},schema:{default_value:"sans-serif"}},{field:"iconLeft",name:"$t:icon_left",type:"string",meta:{width:"half",interface:"select-icon"}},{field:"iconRight",name:"$t:icon_right",type:"string",meta:{width:"half",interface:"select-icon"}}]}),pq=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:cq});function ki(e){switch(e){case"apl":return j(()=>import("./assets/apl.958d4757.js").then(function(t){return t.a}),["assets/apl.958d4757.js","assets/vendor.a626ab9c.js","assets/vendor.fe7856f0.css"]);case"asciiarmor":return j(()=>import("./assets/asciiarmor.1f4e8811.js").then(function(t){return t.a}),["assets/asciiarmor.1f4e8811.js","assets/vendor.a626ab9c.js","assets/vendor.fe7856f0.css"]);case"asn.1":return j(()=>import("./assets/asn.1.320671bb.js").then(function(t){return t.a}),["assets/asn.1.320671bb.js","assets/vendor.a626ab9c.js","assets/vendor.fe7856f0.css"]);case"asterisk":return j(()=>import("./assets/asterisk.67a02b7a.js").then(function(t){return t.a}),["assets/asterisk.67a02b7a.js","assets/vendor.a626ab9c.js","assets/vendor.fe7856f0.css"]);case"brainfuck":return j(()=>import("./assets/brainfuck.0d6aa963.js").then(function(t){return t.b}),["assets/brainfuck.0d6aa963.js","assets/vendor.a626ab9c.js","assets/vendor.fe7856f0.css"]);case"clike":return j(()=>import("./assets/clike.55471781.js").then(function(t){return t.c}),["assets/clike.55471781.js","assets/vendor.a626ab9c.js","assets/vendor.fe7856f0.css"]);case"clojure":return j(()=>import("./assets/clojure.e88e881b.js").then(function(t){return t.c}),["assets/clojure.e88e881b.js","assets/vendor.a626ab9c.js","assets/vendor.fe7856f0.css"]);case"cmake":return j(()=>import("./assets/cmake.4a9bd2f3.js").then(function(t){return t.c}),["assets/cmake.4a9bd2f3.js","assets/vendor.a626ab9c.js","assets/vendor.fe7856f0.css"]);case"cobol":return j(()=>import("./assets/cobol.ddfaa48e.js").then(function(t){return t.c}),["assets/cobol.ddfaa48e.js","assets/vendor.a626ab9c.js","assets/vendor.fe7856f0.css"]);case"coffeescript":return j(()=>import("./assets/coffeescript.004ec15d.js").then(function(t){return t.c}),["assets/coffeescript.004ec15d.js","assets/vendor.a626ab9c.js","assets/vendor.fe7856f0.css"]);case"commonlisp":return j(()=>import("./assets/commonlisp.f2d9b9b1.js").then(function(t){return t.c}),["assets/commonlisp.f2d9b9b1.js","assets/vendor.a626ab9c.js","assets/vendor.fe7856f0.css"]);case"crystal":return j(()=>import("./assets/crystal.97856865.js").then(function(t){return t.c}),["assets/crystal.97856865.js","assets/vendor.a626ab9c.js","assets/vendor.fe7856f0.css"]);case"css":return j(()=>import("./assets/css.7f807b17.js").then(function(t){return t.c}),["assets/css.7f807b17.js","assets/vendor.a626ab9c.js","assets/vendor.fe7856f0.css"]);case"cypher":return j(()=>import("./assets/cypher.7cd36030.js").then(function(t){return t.c}),["assets/cypher.7cd36030.js","assets/vendor.a626ab9c.js","assets/vendor.fe7856f0.css"]);case"d":return j(()=>import("./assets/d.fa2b4528.js").then(function(t){return t.d}),["assets/d.fa2b4528.js","assets/vendor.a626ab9c.js","assets/vendor.fe7856f0.css"]);case"dart":return j(()=>import("./assets/dart.af44f108.js").then(function(t){return t.d}),["assets/dart.af44f108.js","assets/vendor.a626ab9c.js","assets/vendor.fe7856f0.css","assets/clike.55471781.js"]);case"diff":return j(()=>import("./assets/diff.33d776fc.js").then(function(t){return t.d}),["assets/diff.33d776fc.js","assets/vendor.a626ab9c.js","assets/vendor.fe7856f0.css"]);case"django":return j(()=>import("./assets/django.1965042d.js").then(function(t){return t.d}),["assets/django.1965042d.js","assets/vendor.a626ab9c.js","assets/vendor.fe7856f0.css","assets/htmlmixed.cb1d7158.js","assets/javascript.76216d0d.js","assets/css.7f807b17.js","assets/overlay.7f1c5fa5.js"]);case"dockerfile":return j(()=>import("./assets/dockerfile.f7e82fe7.js").then(function(t){return t.d}),["assets/dockerfile.f7e82fe7.js","assets/vendor.a626ab9c.js","assets/vendor.fe7856f0.css","assets/simple.b69582f5.js"]);case"dtd":return j(()=>import("./assets/dtd.7de198c9.js").then(function(t){return t.d}),["assets/dtd.7de198c9.js","assets/vendor.a626ab9c.js","assets/vendor.fe7856f0.css"]);case"dylan":return j(()=>import("./assets/dylan.4e0afffa.js").then(function(t){return t.d}),["assets/dylan.4e0afffa.js","assets/vendor.a626ab9c.js","assets/vendor.fe7856f0.css"]);case"ebnf":return j(()=>import("./assets/ebnf.423e92bf.js").then(function(t){return t.e}),["assets/ebnf.423e92bf.js","assets/vendor.a626ab9c.js","assets/vendor.fe7856f0.css"]);case"ecl":return j(()=>import("./assets/ecl.5ceaf630.js").then(function(t){return t.e}),["assets/ecl.5ceaf630.js","assets/vendor.a626ab9c.js","assets/vendor.fe7856f0.css"]);case"eiffel":return j(()=>import("./assets/eiffel.4d7ae0c0.js").then(function(t){return t.e}),["assets/eiffel.4d7ae0c0.js","assets/vendor.a626ab9c.js","assets/vendor.fe7856f0.css"]);case"elm":return j(()=>import("./assets/elm.0cc8719f.js").then(function(t){return t.e}),["assets/elm.0cc8719f.js","assets/vendor.a626ab9c.js","assets/vendor.fe7856f0.css"]);case"erlang":return j(()=>import("./assets/erlang.176bea7d.js").then(function(t){return t.e}),["assets/erlang.176bea7d.js","assets/vendor.a626ab9c.js","assets/vendor.fe7856f0.css"]);case"factor":return j(()=>import("./assets/factor.be42c791.js").then(function(t){return t.f}),["assets/factor.be42c791.js","assets/vendor.a626ab9c.js","assets/vendor.fe7856f0.css","assets/simple.b69582f5.js"]);case"fcl":return j(()=>import("./assets/fcl.879030fb.js").then(function(t){return t.f}),["assets/fcl.879030fb.js","assets/vendor.a626ab9c.js","assets/vendor.fe7856f0.css"]);case"forth":return j(()=>import("./assets/forth.fb5f114f.js").then(function(t){return t.f}),["assets/forth.fb5f114f.js","assets/vendor.a626ab9c.js","assets/vendor.fe7856f0.css"]);case"fortran":return j(()=>import("./assets/fortran.ba9b6719.js").then(function(t){return t.f}),["assets/fortran.ba9b6719.js","assets/vendor.a626ab9c.js","assets/vendor.fe7856f0.css"]);case"gas":return j(()=>import("./assets/gas.1bbed2b2.js").then(function(t){return t.g}),["assets/gas.1bbed2b2.js","assets/vendor.a626ab9c.js","assets/vendor.fe7856f0.css"]);case"gfm":return j(()=>import("./assets/gfm.149e301f.js").then(function(t){return t.g}),["assets/gfm.149e301f.js","assets/vendor.a626ab9c.js","assets/vendor.fe7856f0.css","assets/overlay.7f1c5fa5.js"]);case"gherkin":return j(()=>import("./assets/gherkin.7de0d8e2.js").then(function(t){return t.g}),["assets/gherkin.7de0d8e2.js","assets/vendor.a626ab9c.js","assets/vendor.fe7856f0.css"]);case"go":return j(()=>import("./assets/go.7caf0f36.js").then(function(t){return t.g}),["assets/go.7caf0f36.js","assets/vendor.a626ab9c.js","assets/vendor.fe7856f0.css"]);case"groovy":return j(()=>import("./assets/groovy.607002d9.js").then(function(t){return t.g}),["assets/groovy.607002d9.js","assets/vendor.a626ab9c.js","assets/vendor.fe7856f0.css"]);case"haml":return j(()=>import("./assets/haml.504050d1.js").then(function(t){return t.h}),["assets/haml.504050d1.js","assets/vendor.a626ab9c.js","assets/vendor.fe7856f0.css","assets/htmlmixed.cb1d7158.js","assets/javascript.76216d0d.js","assets/css.7f807b17.js","assets/ruby.c4d5f740.js"]);case"handlebars":return j(()=>import("./assets/handlebars.7f84f825.js").then(function(t){return t.h}),["assets/handlebars.7f84f825.js","assets/vendor.a626ab9c.js","assets/vendor.fe7856f0.css","assets/simple.b69582f5.js","assets/multiplex.87dad2d7.js"]);case"haskell":return j(()=>import("./assets/haskell.63e1f2d3.js").then(function(t){return t.h}),["assets/haskell.63e1f2d3.js","assets/vendor.a626ab9c.js","assets/vendor.fe7856f0.css"]);case"haskell-literate":return j(()=>import("./assets/haskell-literate.e78773ef.js").then(function(t){return t.h}),["assets/haskell-literate.e78773ef.js","assets/vendor.a626ab9c.js","assets/vendor.fe7856f0.css","assets/haskell.63e1f2d3.js"]);case"haxe":return j(()=>import("./assets/haxe.fca1efc8.js").then(function(t){return t.h}),["assets/haxe.fca1efc8.js","assets/vendor.a626ab9c.js","assets/vendor.fe7856f0.css"]);case"htmlembedded":return j(()=>import("./assets/htmlembedded.1eb21358.js").then(function(t){return t.h}),["assets/htmlembedded.1eb21358.js","assets/vendor.a626ab9c.js","assets/vendor.fe7856f0.css","assets/htmlmixed.cb1d7158.js","assets/javascript.76216d0d.js","assets/css.7f807b17.js","assets/multiplex.87dad2d7.js"]);case"htmlmixed":return j(()=>import("./assets/htmlmixed.cb1d7158.js").then(function(t){return t.h}),["assets/htmlmixed.cb1d7158.js","assets/vendor.a626ab9c.js","assets/vendor.fe7856f0.css","assets/javascript.76216d0d.js","assets/css.7f807b17.js"]);case"http":return j(()=>import("./assets/http.28fca87c.js").then(function(t){return t.h}),["assets/http.28fca87c.js","assets/vendor.a626ab9c.js","assets/vendor.fe7856f0.css"]);case"idl":return j(()=>import("./assets/idl.32a8e30b.js").then(function(t){return t.i}),["assets/idl.32a8e30b.js","assets/vendor.a626ab9c.js","assets/vendor.fe7856f0.css"]);case"javascript":return j(()=>import("./assets/javascript.76216d0d.js").then(function(t){return t.j}),["assets/javascript.76216d0d.js","assets/vendor.a626ab9c.js","assets/vendor.fe7856f0.css"]);case"jinja2":return j(()=>import("./assets/jinja2.9eba4d82.js").then(function(t){return t.j}),["assets/jinja2.9eba4d82.js","assets/vendor.a626ab9c.js","assets/vendor.fe7856f0.css"]);case"jsx":return j(()=>import("./assets/jsx.2200a77c.js").then(function(t){return t.j}),["assets/jsx.2200a77c.js","assets/vendor.a626ab9c.js","assets/vendor.fe7856f0.css","assets/javascript.76216d0d.js"]);case"julia":return j(()=>import("./assets/julia.15f73490.js").then(function(t){return t.j}),["assets/julia.15f73490.js","assets/vendor.a626ab9c.js","assets/vendor.fe7856f0.css"]);case"livescript":return j(()=>import("./assets/livescript.e919a245.js").then(function(t){return t.l}),["assets/livescript.e919a245.js","assets/vendor.a626ab9c.js","assets/vendor.fe7856f0.css"]);case"lua":return j(()=>import("./assets/lua.75eda1a9.js").then(function(t){return t.l}),["assets/lua.75eda1a9.js","assets/vendor.a626ab9c.js","assets/vendor.fe7856f0.css"]);case"markdown":return j(()=>import("./assets/vendor.a626ab9c.js").then(function(t){return t.a}),["assets/vendor.a626ab9c.js","assets/vendor.fe7856f0.css"]);case"mathematica":return j(()=>import("./assets/mathematica.598d20b5.js").then(function(t){return t.m}),["assets/mathematica.598d20b5.js","assets/vendor.a626ab9c.js","assets/vendor.fe7856f0.css"]);case"mbox":return j(()=>import("./assets/mbox.5b96e107.js").then(function(t){return t.m}),["assets/mbox.5b96e107.js","assets/vendor.a626ab9c.js","assets/vendor.fe7856f0.css"]);case"mirc":return j(()=>import("./assets/mirc.90d37912.js").then(function(t){return t.m}),["assets/mirc.90d37912.js","assets/vendor.a626ab9c.js","assets/vendor.fe7856f0.css"]);case"mllike":return j(()=>import("./assets/mllike.137d1b89.js").then(function(t){return t.m}),["assets/mllike.137d1b89.js","assets/vendor.a626ab9c.js","assets/vendor.fe7856f0.css"]);case"modelica":return j(()=>import("./assets/modelica.bd73920d.js").then(function(t){return t.m}),["assets/modelica.bd73920d.js","assets/vendor.a626ab9c.js","assets/vendor.fe7856f0.css"]);case"mscgen":return j(()=>import("./assets/mscgen.5b4ab425.js").then(function(t){return t.m}),["assets/mscgen.5b4ab425.js","assets/vendor.a626ab9c.js","assets/vendor.fe7856f0.css"]);case"mumps":return j(()=>import("./assets/mumps.61c3783e.js").then(function(t){return t.m}),["assets/mumps.61c3783e.js","assets/vendor.a626ab9c.js","assets/vendor.fe7856f0.css"]);case"nginx":return j(()=>import("./assets/nginx.655bc186.js").then(function(t){return t.n}),["assets/nginx.655bc186.js","assets/vendor.a626ab9c.js","assets/vendor.fe7856f0.css"]);case"nsis":return j(()=>import("./assets/nsis.fdad0c07.js").then(function(t){return t.n}),["assets/nsis.fdad0c07.js","assets/vendor.a626ab9c.js","assets/vendor.fe7856f0.css","assets/simple.b69582f5.js"]);case"ntriples":return j(()=>import("./assets/ntriples.97729057.js").then(function(t){return t.n}),["assets/ntriples.97729057.js","assets/vendor.a626ab9c.js","assets/vendor.fe7856f0.css"]);case"octave":return j(()=>import("./assets/octave.f73b18ac.js").then(function(t){return t.o}),["assets/octave.f73b18ac.js","assets/vendor.a626ab9c.js","assets/vendor.fe7856f0.css"]);case"oz":return j(()=>import("./assets/oz.809f2a14.js").then(function(t){return t.o}),["assets/oz.809f2a14.js","assets/vendor.a626ab9c.js","assets/vendor.fe7856f0.css"]);case"pascal":return j(()=>import("./assets/pascal.f8cd95cf.js").then(function(t){return t.p}),["assets/pascal.f8cd95cf.js","assets/vendor.a626ab9c.js","assets/vendor.fe7856f0.css"]);case"pegjs":return j(()=>import("./assets/pegjs.5dfc390d.js").then(function(t){return t.p}),["assets/pegjs.5dfc390d.js","assets/vendor.a626ab9c.js","assets/vendor.fe7856f0.css","assets/javascript.76216d0d.js"]);case"perl":return j(()=>import("./assets/perl.6b530f7e.js").then(function(t){return t.p}),["assets/perl.6b530f7e.js","assets/vendor.a626ab9c.js","assets/vendor.fe7856f0.css"]);case"php":return j(()=>import("./assets/php.328211b9.js").then(function(t){return t.p}),["assets/php.328211b9.js","assets/vendor.a626ab9c.js","assets/vendor.fe7856f0.css","assets/htmlmixed.cb1d7158.js","assets/javascript.76216d0d.js","assets/css.7f807b17.js","assets/clike.55471781.js"]);case"pig":return j(()=>import("./assets/pig.8c9bf1f9.js").then(function(t){return t.p}),["assets/pig.8c9bf1f9.js","assets/vendor.a626ab9c.js","assets/vendor.fe7856f0.css"]);case"powershell":return j(()=>import("./assets/powershell.015ab379.js").then(function(t){return t.p}),["assets/powershell.015ab379.js","assets/vendor.a626ab9c.js","assets/vendor.fe7856f0.css"]);case"properties":return j(()=>import("./assets/properties.882f6a5f.js").then(function(t){return t.p}),["assets/properties.882f6a5f.js","assets/vendor.a626ab9c.js","assets/vendor.fe7856f0.css"]);case"protobuf":return j(()=>import("./assets/protobuf.8dfcce9b.js").then(function(t){return t.p}),["assets/protobuf.8dfcce9b.js","assets/vendor.a626ab9c.js","assets/vendor.fe7856f0.css"]);case"pug":return j(()=>import("./assets/pug.5b875e17.js").then(function(t){return t.p}),["assets/pug.5b875e17.js","assets/vendor.a626ab9c.js","assets/vendor.fe7856f0.css","assets/javascript.76216d0d.js","assets/css.7f807b17.js","assets/htmlmixed.cb1d7158.js"]);case"puppet":return j(()=>import("./assets/puppet.5aa1fc3a.js").then(function(t){return t.p}),["assets/puppet.5aa1fc3a.js","assets/vendor.a626ab9c.js","assets/vendor.fe7856f0.css"]);case"python":return j(()=>import("./assets/python.67462152.js").then(function(t){return t.p}),["assets/python.67462152.js","assets/vendor.a626ab9c.js","assets/vendor.fe7856f0.css"]);case"q":return j(()=>import("./assets/q.28cbbad3.js").then(function(t){return t.q}),["assets/q.28cbbad3.js","assets/vendor.a626ab9c.js","assets/vendor.fe7856f0.css"]);case"r":return j(()=>import("./assets/r.fdf280db.js").then(function(t){return t.r}),["assets/r.fdf280db.js","assets/vendor.a626ab9c.js","assets/vendor.fe7856f0.css"]);case"rpm":return j(()=>import("./assets/rpm.3b8f7e29.js").then(function(t){return t.r}),["assets/rpm.3b8f7e29.js","assets/vendor.a626ab9c.js","assets/vendor.fe7856f0.css"]);case"rst":return j(()=>import("./assets/rst.528314cf.js").then(function(t){return t.r}),["assets/rst.528314cf.js","assets/vendor.a626ab9c.js","assets/vendor.fe7856f0.css","assets/python.67462152.js","assets/stex.35f42f0e.js","assets/overlay.7f1c5fa5.js"]);case"ruby":return j(()=>import("./assets/ruby.c4d5f740.js").then(function(t){return t.r}),["assets/ruby.c4d5f740.js","assets/vendor.a626ab9c.js","assets/vendor.fe7856f0.css"]);case"rust":return j(()=>import("./assets/rust.409632ee.js").then(function(t){return t.r}),["assets/rust.409632ee.js","assets/vendor.a626ab9c.js","assets/vendor.fe7856f0.css","assets/simple.b69582f5.js"]);case"sas":return j(()=>import("./assets/sas.47cbda6d.js").then(function(t){return t.s}),["assets/sas.47cbda6d.js","assets/vendor.a626ab9c.js","assets/vendor.fe7856f0.css"]);case"sass":return j(()=>import("./assets/sass.a244c156.js").then(function(t){return t.s}),["assets/sass.a244c156.js","assets/vendor.a626ab9c.js","assets/vendor.fe7856f0.css","assets/css.7f807b17.js"]);case"scheme":return j(()=>import("./assets/scheme.163a4a3b.js").then(function(t){return t.s}),["assets/scheme.163a4a3b.js","assets/vendor.a626ab9c.js","assets/vendor.fe7856f0.css"]);case"shell":return j(()=>import("./assets/shell.6d60921a.js").then(function(t){return t.s}),["assets/shell.6d60921a.js","assets/vendor.a626ab9c.js","assets/vendor.fe7856f0.css"]);case"sieve":return j(()=>import("./assets/sieve.c618d5d5.js").then(function(t){return t.s}),["assets/sieve.c618d5d5.js","assets/vendor.a626ab9c.js","assets/vendor.fe7856f0.css"]);case"slim":return j(()=>import("./assets/slim.daebda4a.js").then(function(t){return t.s}),["assets/slim.daebda4a.js","assets/vendor.a626ab9c.js","assets/vendor.fe7856f0.css","assets/htmlmixed.cb1d7158.js","assets/javascript.76216d0d.js","assets/css.7f807b17.js","assets/ruby.c4d5f740.js"]);case"smalltalk":return j(()=>import("./assets/smalltalk.70889ef5.js").then(function(t){return t.s}),["assets/smalltalk.70889ef5.js","assets/vendor.a626ab9c.js","assets/vendor.fe7856f0.css"]);case"smarty":return j(()=>import("./assets/smarty.325ff529.js").then(function(t){return t.s}),["assets/smarty.325ff529.js","assets/vendor.a626ab9c.js","assets/vendor.fe7856f0.css"]);case"solr":return j(()=>import("./assets/solr.bb397dc6.js").then(function(t){return t.s}),["assets/solr.bb397dc6.js","assets/vendor.a626ab9c.js","assets/vendor.fe7856f0.css"]);case"soy":return j(()=>import("./assets/soy.1584d1b4.js").then(function(t){return t.s}),["assets/soy.1584d1b4.js","assets/vendor.a626ab9c.js","assets/vendor.fe7856f0.css","assets/htmlmixed.cb1d7158.js","assets/javascript.76216d0d.js","assets/css.7f807b17.js"]);case"sparql":return j(()=>import("./assets/sparql.9bd63ffb.js").then(function(t){return t.s}),["assets/sparql.9bd63ffb.js","assets/vendor.a626ab9c.js","assets/vendor.fe7856f0.css"]);case"spreadsheet":return j(()=>import("./assets/spreadsheet.bd23b833.js").then(function(t){return t.s}),["assets/spreadsheet.bd23b833.js","assets/vendor.a626ab9c.js","assets/vendor.fe7856f0.css"]);case"sql":return j(()=>import("./assets/sql.ed54c85d.js").then(function(t){return t.s}),["assets/sql.ed54c85d.js","assets/vendor.a626ab9c.js","assets/vendor.fe7856f0.css"]);case"stex":return j(()=>import("./assets/stex.35f42f0e.js").then(function(t){return t.s}),["assets/stex.35f42f0e.js","assets/vendor.a626ab9c.js","assets/vendor.fe7856f0.css"]);case"stylus":return j(()=>import("./assets/stylus.5c8637e4.js").then(function(t){return t.s}),["assets/stylus.5c8637e4.js","assets/vendor.a626ab9c.js","assets/vendor.fe7856f0.css"]);case"swift":return j(()=>import("./assets/swift.6e697047.js").then(function(t){return t.s}),["assets/swift.6e697047.js","assets/vendor.a626ab9c.js","assets/vendor.fe7856f0.css"]);case"tcl":return j(()=>import("./assets/tcl.6462ea3a.js").then(function(t){return t.t}),["assets/tcl.6462ea3a.js","assets/vendor.a626ab9c.js","assets/vendor.fe7856f0.css"]);case"textile":return j(()=>import("./assets/textile.b5cd484d.js").then(function(t){return t.t}),["assets/textile.b5cd484d.js","assets/vendor.a626ab9c.js","assets/vendor.fe7856f0.css"]);case"tiddlywiki":return j(()=>import("./assets/tiddlywiki.b1e435a4.js").then(function(t){return t.t}),["assets/tiddlywiki.b1e435a4.js","assets/vendor.a626ab9c.js","assets/vendor.fe7856f0.css"]);case"tiki":return j(()=>import("./assets/tiki.4013883e.js").then(function(t){return t.t}),["assets/tiki.4013883e.js","assets/vendor.a626ab9c.js","assets/vendor.fe7856f0.css"]);case"toml":return j(()=>import("./assets/toml.d8214748.js").then(function(t){return t.t}),["assets/toml.d8214748.js","assets/vendor.a626ab9c.js","assets/vendor.fe7856f0.css"]);case"tornado":return j(()=>import("./assets/tornado.20d8d573.js").then(function(t){return t.t}),["assets/tornado.20d8d573.js","assets/vendor.a626ab9c.js","assets/vendor.fe7856f0.css","assets/htmlmixed.cb1d7158.js","assets/javascript.76216d0d.js","assets/css.7f807b17.js","assets/overlay.7f1c5fa5.js"]);case"troff":return j(()=>import("./assets/troff.72228b7a.js").then(function(t){return t.t}),["assets/troff.72228b7a.js","assets/vendor.a626ab9c.js","assets/vendor.fe7856f0.css"]);case"ttcn":return j(()=>import("./assets/ttcn.0e972000.js").then(function(t){return t.t}),["assets/ttcn.0e972000.js","assets/vendor.a626ab9c.js","assets/vendor.fe7856f0.css"]);case"ttcn-cfg":return j(()=>import("./assets/ttcn-cfg.f96a99f0.js").then(function(t){return t.t}),["assets/ttcn-cfg.f96a99f0.js","assets/vendor.a626ab9c.js","assets/vendor.fe7856f0.css"]);case"turtle":return j(()=>import("./assets/turtle.8ab64def.js").then(function(t){return t.t}),["assets/turtle.8ab64def.js","assets/vendor.a626ab9c.js","assets/vendor.fe7856f0.css"]);case"twig":return j(()=>import("./assets/twig.7589b410.js").then(function(t){return t.t}),["assets/twig.7589b410.js","assets/vendor.a626ab9c.js","assets/vendor.fe7856f0.css","assets/multiplex.87dad2d7.js"]);case"vb":return j(()=>import("./assets/vb.86e493cb.js").then(function(t){return t.v}),["assets/vb.86e493cb.js","assets/vendor.a626ab9c.js","assets/vendor.fe7856f0.css"]);case"vbscript":return j(()=>import("./assets/vbscript.74f96813.js").then(function(t){return t.v}),["assets/vbscript.74f96813.js","assets/vendor.a626ab9c.js","assets/vendor.fe7856f0.css"]);case"velocity":return j(()=>import("./assets/velocity.a679c97c.js").then(function(t){return t.v}),["assets/velocity.a679c97c.js","assets/vendor.a626ab9c.js","assets/vendor.fe7856f0.css"]);case"verilog":return j(()=>import("./assets/verilog.e437b30d.js").then(function(t){return t.v}),["assets/verilog.e437b30d.js","assets/vendor.a626ab9c.js","assets/vendor.fe7856f0.css"]);case"vhdl":return j(()=>import("./assets/vhdl.1c239e80.js").then(function(t){return t.v}),["assets/vhdl.1c239e80.js","assets/vendor.a626ab9c.js","assets/vendor.fe7856f0.css"]);case"vue":return j(()=>import("./assets/vue.b668d00e.js").then(function(t){return t.v}),["assets/vue.b668d00e.js","assets/vendor.a626ab9c.js","assets/vendor.fe7856f0.css","assets/overlay.7f1c5fa5.js","assets/javascript.76216d0d.js","assets/coffeescript.004ec15d.js","assets/css.7f807b17.js","assets/sass.a244c156.js","assets/stylus.5c8637e4.js","assets/pug.5b875e17.js","assets/htmlmixed.cb1d7158.js","assets/handlebars.7f84f825.js","assets/simple.b69582f5.js","assets/multiplex.87dad2d7.js"]);case"wast":return j(()=>import("./assets/wast.82d9b15b.js").then(function(t){return t.w}),["assets/wast.82d9b15b.js","assets/vendor.a626ab9c.js","assets/vendor.fe7856f0.css","assets/simple.b69582f5.js"]);case"webidl":return j(()=>import("./assets/webidl.5aceeff1.js").then(function(t){return t.w}),["assets/webidl.5aceeff1.js","assets/vendor.a626ab9c.js","assets/vendor.fe7856f0.css"]);case"xml":return j(()=>import("./assets/vendor.a626ab9c.js").then(function(t){return t.x}),["assets/vendor.a626ab9c.js","assets/vendor.fe7856f0.css"]);case"xquery":return j(()=>import("./assets/xquery.900a45f6.js").then(function(t){return t.x}),["assets/xquery.900a45f6.js","assets/vendor.a626ab9c.js","assets/vendor.fe7856f0.css"]);case"yacas":return j(()=>import("./assets/yacas.56dd7cb2.js").then(function(t){return t.y}),["assets/yacas.56dd7cb2.js","assets/vendor.a626ab9c.js","assets/vendor.fe7856f0.css"]);case"yaml":return j(()=>import("./assets/yaml.d877d25f.js").then(function(t){return t.y}),["assets/yaml.d877d25f.js","assets/vendor.a626ab9c.js","assets/vendor.fe7856f0.css"]);case"yaml-frontmatter":return j(()=>import("./assets/yaml-frontmatter.bdb5ae8b.js").then(function(t){return t.y}),["assets/yaml-frontmatter.bdb5ae8b.js","assets/vendor.a626ab9c.js","assets/vendor.fe7856f0.css","assets/yaml.d877d25f.js"]);case"z80":return j(()=>import("./assets/z80.807d7c5a.js").then(function(t){return t.z}),["assets/z80.807d7c5a.js","assets/vendor.a626ab9c.js","assets/vendor.fe7856f0.css"]);default:return Promise.resolve()}}const mq=K({props:{disabled:{type:Boolean,default:!1},value:{type:[String,Object,Array],default:null},altOptions:{type:Object,default:null},template:{type:String,default:null},lineNumber:{type:Boolean,default:!0},placeholder:{type:String,default:null},language:{type:String,default:"plaintext"},type:{type:String,default:null}},emits:["input"],setup(e,{emit:t}){const{t:o}=ae(),l=D(null);let d;rt(async()=>{l.value&&(await s(f.value),await ki(f.value.mode),d=hn(l.value,ye(X({},f.value),{value:c.value})),d.setOption("mode",{name:"javascript "}),await i(),d.on("change",(_,{origin:y})=>{if(y==="setValue")return;const b=_.getValue();if(e.type==="json"){if(b.length===0)return t("input",null);try{t("input",JSON.parse(b))}catch{}}else t("input",b)}))});const c=E(()=>e.value===null?"":typeof e.value=="object"?JSON.stringify(e.value,null,4):e.value);_e(()=>e.language,()=>{i()}),_e(c,()=>{(d==null?void 0:d.getValue())!==c.value&&(d==null||d.setValue(c.value||""))});async function i(){if(d){const _=e.language.toLowerCase();if(_==="json"){await j(()=>import("./assets/javascript.76216d0d.js").then(function(b){return b.j}),["assets/javascript.76216d0d.js","assets/vendor.a626ab9c.js","assets/vendor.fe7856f0.css"]);const y=await j(()=>import("./assets/jsonlint.09bf5bab.js").then(function(b){return b.j}),[]);d.setOption("mode",{name:"javascript",json:!0}),hn.registerHelper("lint","json",b=>{const w=[],$=y.parser;if($.parseError=(k,V)=>{const g=V.loc;w.push({from:hn.Pos(g.first_line-1,g.first_column),to:hn.Pos(g.last_line-1,g.last_column),message:k})},b.length>0)try{y.parse(b)}catch{}return w})}else _==="plaintext"?d.setOption("mode",{name:"plaintext"}):(await ki(_),d.setOption("mode",{name:_}))}}async function s(_){const y=[];_&&_.size>0&&(_.styleActiveLine&&y.push(j(()=>import("./assets/active-line.48de29b0.js").then(function(b){return b.a}),["assets/active-line.48de29b0.js","assets/vendor.a626ab9c.js","assets/vendor.fe7856f0.css"])),_.markSelection&&y.push(j(()=>import("./assets/mark-selection.a99b3033.js").then(function(b){return b.m}),["assets/mark-selection.a99b3033.js","assets/vendor.a626ab9c.js","assets/vendor.fe7856f0.css"])),_.highlightSelectionMatches&&y.push(j(()=>import("./assets/match-highlighter.668a64ca.js").then(function(b){return b.m}),["assets/match-highlighter.668a64ca.js","assets/vendor.a626ab9c.js","assets/vendor.fe7856f0.css"])),_.autoRefresh&&y.push(j(()=>import("./assets/autorefresh.824ac9d2.js").then(function(b){return b.a}),["assets/autorefresh.824ac9d2.js","assets/vendor.a626ab9c.js","assets/vendor.fe7856f0.css"])),_.matchBrackets&&y.push(j(()=>import("./assets/vendor.a626ab9c.js").then(function(b){return b.m}),["assets/vendor.a626ab9c.js","assets/vendor.fe7856f0.css"])),(_.hintOptions||_.showHint)&&(y.push(j(()=>import("./assets/show-hint.e595bcf5.js").then(function(b){return b.s}),["assets/show-hint.e595bcf5.js","assets/vendor.a626ab9c.js","assets/vendor.fe7856f0.css"])),y.push(j(()=>Promise.resolve({}),["assets/show-hint.a1d6f238.css"])),y.push(j(()=>import("./assets/javascript-hint.968a99a5.js").then(function(b){return b.j}),["assets/javascript-hint.968a99a5.js","assets/vendor.a626ab9c.js","assets/vendor.fe7856f0.css"]))),await Promise.all(y))}const r=E(()=>d?d.lineCount():0),p={tabSize:4,autoRefresh:!0,indentUnit:4,styleActiveLine:!0,highlightSelectionMatches:{showToken:/\w/,annotateScrollbar:!0,delay:100},hintOptions:{completeSingle:!0,hint:()=>{}},matchBrackets:!0,showCursorWhenSelecting:!0,theme:"default",extraKeys:{Ctrl:"autocomplete"},lint:!0,gutters:["CodeMirror-lint-markers"]},f=E(()=>Object.assign({},p,{lineNumbers:e.lineNumber,readOnly:e.disabled?"nocursor":!1,mode:e.language,placeholder:e.placeholder},e.altOptions?e.altOptions:{}));return _e(()=>e.disabled,_=>{d==null||d.setOption("readOnly",_?"nocursor":!1)},{immediate:!0}),_e(()=>e.altOptions,async _=>{if(!(!_||_.size===0)){await s(_);for(const y in _)d==null||d.setOption(y,_[y])}}),_e(()=>e.lineNumber,_=>{d==null||d.setOption("lineNumbers",_)}),{t:o,cmOptions:f,lineCount:r,codemirrorEl:l,stringValue:c,fillTemplate:v,formatTitle:Je};function v(){if(e.type==="json")try{t("input",JSON.parse(e.template))}finally{}else t("input",e.template)}}}),fq={ref:"codemirrorEl"};function _q(e,t,o,l,d,c){const i=u("v-icon"),s=u("v-button"),r=Ce("tooltip");return m(),I("div",{class:re(["input-code codemirror-custom-styles",{disabled:e.disabled}])},[S("div",fq,null,512),e.template?te((m(),F(s,{key:0,small:"",icon:"",secondary:"",onClick:e.fillTemplate},{default:a(()=>[n(i,{name:"playlist_add"})]),_:1},8,["onClick"])),[[r,e.t("fill_template"),void 0,{left:!0}]]):N("",!0)],2)}var vq=q(mq,[["render",_q],["__scopeId","data-v-1fa40744"]]);const yq=hn.modeInfo.reduce((e,t)=>["JSON","JSON-LD"].includes(t.name)?(e.JSON="JSON",e):((t.mode==null||t.mode=="null")&&(t.mode="plaintext"),t.mode in e?e[t.mode]+=" / "+t.name:e[t.mode]=t.name,e),{}),gq=Object.entries(yq).map(([e,t])=>({text:t,value:e}));var hq=Me({id:"input-code",name:"$t:interfaces.input-code.code",description:"$t:interfaces.input-code.description",icon:"code",component:vq,types:["string","json","text","geometry"],options:[{field:"language",name:"$t:language",type:"string",meta:{width:"half",interface:"select-dropdown",options:{choices:gq}}},{field:"lineNumber",name:"$t:interfaces.input-code.line_number",type:"boolean",meta:{width:"half",interface:"boolean"},schema:{default_value:!1}},{field:"template",name:"$t:template",type:"text",meta:{width:"full",interface:"input-code",options:{placeholder:"$t:interfaces.input-code.placeholder"}},schema:{default_value:null}}]}),bq=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:hq});const $q=K({props:{value:{type:String,default:null},disabled:{type:Boolean,default:!1},placeholder:{type:String,default:null},masked:{type:Boolean,default:!1}},emits:["input"],setup(e,{emit:t}){const{t:o}=ae(),l=D(!1),d=D(null),c=E(()=>l.value?o("value_hashed"):e.placeholder);return _e(()=>e.value,()=>{l.value=!!(e.value&&e.value.length>0)},{immediate:!0}),{internalPlaceholder:c,isHashed:l,localValue:d,emitValue:i};function i(s){t("input",s),d.value=s}}});function kq(e,t,o,l,d,c){const i=u("v-icon"),s=u("v-input");return m(),F(s,{placeholder:e.internalPlaceholder,disabled:e.disabled,type:e.masked?"password":"text","model-value":e.localValue,class:re({hashed:e.isHashed&&!e.localValue}),"onUpdate:modelValue":e.emitValue},{append:a(()=>[n(i,{class:"lock",name:e.isHashed&&!e.localValue?"lock":"lock_open"},null,8,["name"])]),_:1},8,["placeholder","disabled","type","model-value","class","onUpdate:modelValue"])}var wq=q($q,[["render",kq],["__scopeId","data-v-f5661292"]]),Cq=Me({id:"input-hash",name:"$t:interfaces.input-hash.hash",description:"$t:interfaces.input-hash.description",icon:"fingerprint",component:wq,types:["hash"],options:[{field:"placeholder",name:"$t:placeholder",type:"string",meta:{width:"half",interface:"input",options:{placeholder:"$t:enter_a_placeholder"}}},{field:"masked",name:"$t:interfaces.input-hash.masked",type:"boolean",meta:{width:"half",interface:"boolean",options:{label:"$t:interfaces.input-hash.masked_label"}},schema:{default_value:!1}}]}),Sq=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:Cq});const Fq=K({props:{value:{type:String,default:null},clear:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},placeholder:{type:String,default:null},trim:{type:Boolean,default:!0},font:{type:String,default:"sans-serif"}},emits:["input"]});function Vq(e,t,o,l,d,c){const i=u("v-textarea");return m(),F(i,ct({placeholder:e.placeholder,trim:e.trim},{"model-value":e.value,nullable:!e.clear,disabled:e.disabled,class:e.font,"onUpdate:modelValue":t[0]||(t[0]=s=>e.$emit("input",s))}),null,16,["model-value","nullable","disabled","class"])}var Eq=q(Fq,[["render",Vq],["__scopeId","data-v-9aaedf94"]]),Iq=Me({id:"input-multiline",name:"$t:interfaces.input-multiline.textarea",description:"$t:interfaces.input-multiline.description",icon:"text_fields",component:Eq,types:["text"],options:[{field:"placeholder",name:"$t:placeholder",type:"string",meta:{width:"full",interface:"input",options:{placeholder:"$t:enter_a_placeholder"}}},{field:"trim",name:"$t:interfaces.input.trim",type:"boolean",meta:{width:"half",interface:"boolean",options:{label:"$t:interfaces.input.trim_label"}},schema:{default_value:!1}},{field:"font",name:"$t:font",type:"string",meta:{width:"half",interface:"select-dropdown",options:{choices:[{text:"$t:sans_serif",value:"sans-serif"},{text:"$t:monospace",value:"monospace"},{text:"$t:serif",value:"serif"}]}},schema:{default_value:"sans-serif"}},{field:"clear",name:"$t:interfaces.input.clear",type:"boolean",meta:{width:"half",interface:"boolean",options:{label:"$t:interfaces.input.clear_label"}},schema:{default_value:!1}}]}),Aq=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:Iq});const Dq=Ya(()=>j(()=>import("./assets/input-rich-text-html.e15177a6.js"),["assets/input-rich-text-html.e15177a6.js","assets/input-rich-text-html.67ebfae2.css","assets/vendor.a626ab9c.js","assets/vendor.fe7856f0.css","assets/use-sync.fa2fe3b0.js"]));var Oq=Me({id:"input-rich-text-html",name:"$t:interfaces.input-rich-text-html.wysiwyg",description:"$t:interfaces.input-rich-text-html.description",icon:"format_quote",component:Dq,types:["text"],options:[{field:"toolbar",name:"$t:interfaces.input-rich-text-html.toolbar",type:"json",schema:{default_value:["bold","italic","underline","removeformat","customLink","bullist","numlist","blockquote","h1","h2","h3","customImage","customMedia","hr","code","fullscreen"]},meta:{width:"half",interface:"select-multiple-dropdown",options:{choices:[{value:"aligncenter",text:"$t:wysiwyg_options.aligncenter"},{value:"alignjustify",text:"$t:wysiwyg_options.alignjustify"},{value:"alignleft",text:"$t:wysiwyg_options.alignleft"},{value:"alignnone",text:"$t:wysiwyg_options.alignnone"},{value:"alignright",text:"$t:wysiwyg_options.alignright"},{value:"forecolor",text:"$t:wysiwyg_options.forecolor"},{value:"backcolor",text:"$t:wysiwyg_options.backcolor"},{value:"bold",text:"$t:wysiwyg_options.bold"},{value:"italic",text:"$t:wysiwyg_options.italic"},{value:"underline",text:"$t:wysiwyg_options.underline"},{value:"strikethrough",text:"$t:wysiwyg_options.strikethrough"},{value:"subscript",text:"$t:wysiwyg_options.subscript"},{value:"superscript",text:"$t:wysiwyg_options.superscript"},{value:"blockquote",text:"$t:wysiwyg_options.blockquote"},{value:"bullist",text:"$t:wysiwyg_options.bullist"},{value:"numlist",text:"$t:wysiwyg_options.numlist"},{value:"hr",text:"$t:wysiwyg_options.hr"},{value:"customLink",text:"$t:wysiwyg_options.link"},{value:"unlink",text:"$t:wysiwyg_options.unlink"},{value:"customMedia",text:"$t:wysiwyg_options.media"},{value:"customImage",text:"$t:wysiwyg_options.image"},{value:"copy",text:"$t:wysiwyg_options.copy"},{value:"cut",text:"$t:wysiwyg_options.cut"},{value:"paste",text:"$t:wysiwyg_options.paste"},{value:"h1",text:"$t:wysiwyg_options.h1"},{value:"h2",text:"$t:wysiwyg_options.h2"},{value:"h3",text:"$t:wysiwyg_options.h3"},{value:"h4",text:"$t:wysiwyg_options.h4"},{value:"h5",text:"$t:wysiwyg_options.h5"},{value:"h6",text:"$t:wysiwyg_options.h6"},{value:"fontselect",text:"$t:wysiwyg_options.fontselect"},{value:"fontsizeselect",text:"$t:wysiwyg_options.fontsizeselect"},{value:"indent",text:"$t:wysiwyg_options.indent"},{value:"outdent",text:"$t:wysiwyg_options.outdent"},{value:"undo",text:"$t:wysiwyg_options.undo"},{value:"redo",text:"$t:wysiwyg_options.redo"},{value:"remove",text:"$t:wysiwyg_options.remove"},{value:"removeformat",text:"$t:wysiwyg_options.removeformat"},{value:"selectall",text:"$t:wysiwyg_options.selectall"},{value:"table",text:"$t:wysiwyg_options.table"},{value:"visualaid",text:"$t:wysiwyg_options.visualaid"},{value:"code",text:"$t:wysiwyg_options.source_code"},{value:"fullscreen",text:"$t:wysiwyg_options.fullscreen"},{value:"ltr rtl",text:"$t:wysiwyg_options.directionality"}]}}},{field:"font",name:"$t:font",type:"string",meta:{width:"half",interface:"select-dropdown",options:{choices:[{text:"$t:sans_serif",value:"sans-serif"},{text:"$t:monospace",value:"monospace"},{text:"$t:serif",value:"serif"}]}},schema:{default_value:"sans-serif"}},{field:"customFormats",name:"$t:interfaces.input-rich-text-html.custom_formats",type:"json",meta:{interface:"code",options:{language:"json",template:JSON.stringify([{title:"My Custom Format",inline:"span",classes:"custom-wrapper",styles:{color:"#00ff00","font-size":"20px"},attributes:{title:"My Custom Wrapper"}}],null,4)}}},{field:"tinymceOverrides",name:"$t:interfaces.input-rich-text-html.options_override",type:"json",meta:{interface:"code",options:{language:"json"}}},{field:"imageToken",name:"$t:interfaces.input-rich-text-md.imageToken",type:"string",meta:{note:"$t:interfaces.input-rich-text-md.imageToken_label",width:"full",interface:"input"}}]}),Pq=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:Oq});const Tq={heading(e,{cursorTo:t},o){const l=(o==null?void 0:o.level)||3;let d=e;const c=t,i="#".repeat(l)+" ";return e.startsWith(i)?d=e.substring(i.length):(d=`${i}${e}`,c.ch=c.ch+i.length),{newSelection:d,newCursor:c}},bold(e,{cursorTo:t}){let o=e;const l=t;return e.startsWith("**")&&e.endsWith("**")?o=e.substring(2,e.length-2):(o=`**${e}**`,l.ch=l.ch+2),{newSelection:o,newCursor:l}},italic(e,{cursorTo:t}){let o=e;const l=t;return e.startsWith("*")&&e.endsWith("*")?o=e.substring(1,e.length-1):(o=`*${e}*`,l.ch=l.ch+1),{newSelection:o,newCursor:l}},strikethrough(e,{cursorTo:t}){let o=e;const l=t;return e.startsWith("~~")&&e.endsWith("~~")?o=e.substring(2,e.length-2):(o=`~~${e}~~`,l.ch=l.ch+2),{newSelection:o,newCursor:l}},listBulleted(e,{cursorTo:t}){let o=e;const l=t,d=e.split(`
`);return d.every(i=>i.startsWith("- "))?o=d.map(i=>i.substring(2)).join(`
`):o=d.map(i=>`- ${i}`).join(`
`),e||(l.ch=l.ch+2),{newSelection:o,newCursor:l}},listNumbered(e,{cursorTo:t}){let o=e;const l=t,d=e.split(`
`);return d.every((i,s)=>i.startsWith(`${s+1}.`))?o=d.map(i=>i.substring(3)).join(`
`):o=d.map((i,s)=>`${s+1}. ${i}`).join(`
`),e||(l.ch=l.ch+2),{newSelection:o,newCursor:l}},blockquote(e,{cursorTo:t}){let o=e;const l=t,d=e.split(`
`);return d.every(i=>i.startsWith("> "))?o=d.map(i=>i.substring(2)).join(`
`):o=d.map(i=>`> ${i}`).join(`
`),e||(l.ch=l.ch+2),{newSelection:o,newCursor:l}},code(e,{cursorTo:t}){if(e.includes(`
`)){let o=e;const l=t;return e.startsWith("```")&&e.endsWith("```")?o=e.substring(3,e.length-3):(o="```\n"+o+"\n```",l.line=l.line+1),{newSelection:o,newCursor:l}}else{let o=e;const l=t;return e.startsWith("`")&&e.endsWith("`")?o=e.substring(1,e.length-1):(o=`\`${e}\``,l.ch=l.ch+1),{newSelection:o,newCursor:l}}},link(e,{cursorFrom:t,cursorTo:o}){let l=e;const d=o;let c;return e.endsWith("](url)")?l=e.substring(1,e.length-6):e.startsWith("http")?(l=`[](${e})`,d.ch=t.ch+1):(l=`[${e}](url)`,e?c={from:ye(X({},H.exports.cloneDeep(d)),{ch:d.ch+3}),to:ye(X({},H.exports.cloneDeep(d)),{ch:d.ch+6})}:d.ch=t.ch+1),{newSelection:l,newCursor:d,highlight:c}},table(e,t,o){if(!o)return{newSelection:e,newCursor:t.cursorFrom};let l="";const d=[];for(let c=0;c<o.columns;c++)d.push("Header");l+=`| ${d.join(" | ")} |`,l+=`
| ${d.map(()=>"------").join(" | ")} |`;for(let c=0;c<o.rows;c++)l+=`
| ${d.map(()=>"Cell").join("   | ")}   |`;return{newSelection:l,newCursor:t.cursorFrom}},custom(e,{cursorTo:t,cursorHead:o},l){if(!l)return{newSelection:e,newCursor:o};if(l.box==="block"){let d=e;const c=t;return e.startsWith(l.prefix)&&e.endsWith(l.suffix)?d=e.substring(l.prefix.length,e.length-l.suffix.length):(d=`${l.prefix}
${d}
${l.suffix}`,c.line=c.line+1),{newSelection:d,newCursor:c}}else{let d=e;const c=t;return e.startsWith(l.prefix)&&e.endsWith(l.suffix)?d=e.substring(1,e.length-1):(d=`${l.prefix}${e}${l.suffix}`,c.ch=c.ch+1),{newSelection:d,newCursor:c}}}};function Lq(e,t,o){if(e){const l=e.getCursor("head"),d=e.getCursor("from"),c=e.getCursor("to"),i=e.findWordAt(l),s=e.getRange(i.anchor,i.head).trim(),r=e.getSelection(),{newSelection:p,newCursor:f,highlight:v}=Tq[t](r||s,{cursorFrom:H.exports.cloneDeep(r?d:i.anchor),cursorTo:H.exports.cloneDeep(r?c:i.head),cursorHead:l},o);s&&!r?e.replaceRange(p,i.anchor,i.head):e.replaceSelection(p),e.setCursor(f),v&&e.setSelection(v.from,v.to),e.focus()}}const jq=K({props:{value:{type:String,default:null},disabled:{type:Boolean,default:!1},placeholder:{type:String,default:null},customSyntax:{type:Array,default:()=>[]},imageToken:{type:String,default:void 0}},emits:["input"],setup(e,{emit:t}){const{t:o}=ae(),l=D(),d=D();let c=null;const i=D(["editor"]),s=D(!1);rt(async()=>{d.value&&(c=hn(d.value,{mode:"markdown",configureMouse:()=>({addNew:!1}),lineWrapping:!0,placeholder:e.placeholder,value:e.value||""}),c.on("change",(_,{origin:y})=>{if(y==="setValue")return;const b=_.getValue();t("input",b)}))}),_e(()=>e.value,_=>{if(!c)return;c.getValue()!==_&&(c.setValue(""),c.clearHistory(),c.setValue(_!=null?_:""),c.refresh())});const r=E(()=>{let _=e.value||"";if(!e.imageToken){const y=uo()+"assets/",b=new RegExp(`\\]\\((${Xs(y)}[^\\s\\)]*)`,"gm"),w=Array.from(_.matchAll(b));for(const $ of w)_=_.replace($[1],ut($[1]))}return _}),p=Bt({rows:4,columns:4});return tt("meta+b",()=>v("bold"),l),tt("meta+i",()=>v("italic"),l),tt("meta+k",()=>v("link"),l),tt("meta+alt+d",()=>v("strikethrough"),l),tt("meta+alt+q",()=>v("blockquote"),l),tt("meta+alt+c",()=>v("code"),l),tt("meta+alt+1",()=>v("heading",{level:1}),l),tt("meta+alt+2",()=>v("heading",{level:2}),l),tt("meta+alt+3",()=>v("heading",{level:3}),l),tt("meta+alt+4",()=>v("heading",{level:4}),l),tt("meta+alt+5",()=>v("heading",{level:5}),l),tt("meta+alt+6",()=>v("heading",{level:6}),l),{t:o,codemirrorEl:d,edit:v,view:i,markdownString:r,table:p,onImageUpload:f,imageDialogOpen:s,useShortcut:tt,translateShortcut:co,markdownInterface:l};function f(_){if(!c)return;let y=uo()+"assets/"+_.id;e.imageToken&&(y+="?access_token="+e.imageToken),c.replaceSelection(`![](${y})`),s.value=!1}function v(_,y){c&&Lq(c,_,y)}}}),Rq=e=>(He("data-v-d0a4bd4a"),e=e(),Ge(),e),Mq={class:"toolbar"},Uq={class:"table-options"},Nq={class:"field half"},Bq={class:"type-label"},qq={class:"field half"},zq={class:"type-label"},Kq={class:"field full"},Wq=O(" Create "),Hq=Rq(()=>S("div",{class:"spacer"},null,-1)),Gq=O("Editor"),Qq=O("Preview"),Xq={ref:"codemirrorEl"},Jq={key:0,class:"preview-box"};function Yq(e,t,o,l,d,c){const i=u("v-icon"),s=u("v-button"),r=u("v-text-overflow"),p=u("v-list-item-content"),f=u("v-list-item-hint"),v=u("v-list-item"),_=u("v-list"),y=u("v-menu"),b=u("v-input"),w=u("v-item-group"),$=u("v-card-title"),k=u("v-upload"),V=u("v-card-text"),g=u("v-card-actions"),A=u("v-card"),R=u("v-dialog"),L=Ce("tooltip"),M=Ce("md");return m(),I("div",{ref:"markdownInterface",class:re(["interface-input-rich-text-md",e.view[0]])},[S("div",Mq,[n(y,{"show-arrow":"",placement:"bottom-start"},{activator:a(({toggle:T})=>[te(n(s,{small:"",icon:"",onClick:T},{default:a(()=>[n(i,{name:"title"})]),_:2},1032,["onClick"]),[[L,e.t("wysiwyg_options.heading")]])]),default:a(()=>[n(_,null,{default:a(()=>[(m(),I(oe,null,he(6,T=>n(v,{key:T,clickable:"",onClick:U=>e.edit("heading",{level:T})},{default:a(()=>[n(p,null,{default:a(()=>[n(r,{text:e.t(`wysiwyg_options.h${T}`)},null,8,["text"])]),_:2},1024),n(f,null,{default:a(()=>[O(h(e.translateShortcut(["meta","alt"]))+" "+h(T),1)]),_:2},1024)]),_:2},1032,["onClick"])),64))]),_:1})]),_:1}),te(n(s,{small:"",icon:"",onClick:t[0]||(t[0]=T=>e.edit("bold"))},{default:a(()=>[n(i,{name:"format_bold"})]),_:1},512),[[L,e.t("wysiwyg_options.bold")+" - "+e.translateShortcut(["meta","b"])]]),te(n(s,{small:"",icon:"",onClick:t[1]||(t[1]=T=>e.edit("italic"))},{default:a(()=>[n(i,{name:"format_italic"})]),_:1},512),[[L,e.t("wysiwyg_options.italic")+" - "+e.translateShortcut(["meta","i"])]]),te(n(s,{small:"",icon:"",onClick:t[2]||(t[2]=T=>e.edit("strikethrough"))},{default:a(()=>[n(i,{name:"format_strikethrough"})]),_:1},512),[[L,e.t("wysiwyg_options.strikethrough")+" - "+e.translateShortcut(["meta","alt","d"])]]),te(n(s,{small:"",icon:"",onClick:t[3]||(t[3]=T=>e.edit("listBulleted"))},{default:a(()=>[n(i,{name:"format_list_bulleted"})]),_:1},512),[[L,e.t("wysiwyg_options.bullist")]]),te(n(s,{small:"",icon:"",onClick:t[4]||(t[4]=T=>e.edit("listNumbered"))},{default:a(()=>[n(i,{name:"format_list_numbered"})]),_:1},512),[[L,e.t("wysiwyg_options.numlist")]]),te(n(s,{small:"",icon:"",onClick:t[5]||(t[5]=T=>e.edit("blockquote"))},{default:a(()=>[n(i,{name:"format_quote"})]),_:1},512),[[L,e.t("wysiwyg_options.blockquote")+" - "+e.translateShortcut(["meta","alt","q"])]]),te(n(s,{small:"",icon:"",onClick:t[6]||(t[6]=T=>e.edit("code"))},{default:a(()=>[n(i,{name:"code"})]),_:1},512),[[L,e.t("wysiwyg_options.codeblock")+" - "+e.translateShortcut(["meta","alt","c"])]]),te(n(s,{small:"",icon:"",onClick:t[7]||(t[7]=T=>e.edit("link"))},{default:a(()=>[n(i,{name:"insert_link"})]),_:1},512),[[L,e.t("wysiwyg_options.link")+" - "+e.translateShortcut(["meta","k"])]]),n(y,{"show-arrow":"","close-on-content-click":!1},{activator:a(({toggle:T})=>[te(n(s,{small:"",icon:"",onClick:T},{default:a(()=>[n(i,{name:"table_chart"})]),_:2},1032,["onClick"]),[[L,e.t("wysiwyg_options.table")]])]),default:a(({deactivate:T})=>[S("div",Uq,[S("div",Nq,[S("p",Bq,h(e.t("rows")),1),n(b,{modelValue:e.table.rows,"onUpdate:modelValue":t[8]||(t[8]=U=>e.table.rows=U),min:1,type:"number"},null,8,["modelValue"])]),S("div",qq,[S("p",zq,h(e.t("columns")),1),n(b,{modelValue:e.table.columns,"onUpdate:modelValue":t[9]||(t[9]=U=>e.table.columns=U),min:1,type:"number"},null,8,["modelValue"])]),S("div",Kq,[n(s,{"full-width":"",onClick:()=>{e.edit("table",e.table),T()}},{default:a(()=>[Wq]),_:2},1032,["onClick"])])])]),_:1}),te(n(s,{small:"",icon:"",onClick:t[10]||(t[10]=T=>e.imageDialogOpen=!0)},{default:a(()=>[n(i,{name:"insert_photo"})]),_:1},512),[[L,e.t("wysiwyg_options.image")]]),(m(!0),I(oe,null,he(e.customSyntax,T=>te((m(),F(s,{key:T.name,small:"",icon:"",onClick:U=>e.edit("custom",T)},{default:a(()=>[n(i,{name:T.icon},null,8,["name"])]),_:2},1032,["onClick"])),[[L,T.name]])),128)),Hq,n(w,{modelValue:e.view,"onUpdate:modelValue":t[11]||(t[11]=T=>e.view=T),class:"view",mandatory:"",rounded:""},{default:a(()=>[n(s,{"x-small":"",value:"editor"},{default:a(()=>[Gq]),_:1}),n(s,{"x-small":"",value:"preview"},{default:a(()=>[Qq]),_:1})]),_:1},8,["modelValue"])]),S("div",Xq,null,512),e.view[0]==="preview"?te((m(),I("div",Jq,null,512)),[[M,e.markdownString]]):N("",!0),n(R,{"model-value":e.imageDialogOpen,onEsc:t[13]||(t[13]=T=>e.imageDialogOpen=null),"onUpdate:modelValue":t[14]||(t[14]=T=>e.imageDialogOpen=null)},{default:a(()=>[n(A,null,{default:a(()=>[n($,null,{default:a(()=>[O(h(e.t("upload_from_device")),1)]),_:1}),n(V,null,{default:a(()=>[n(k,{"from-url":"","from-library":"",onInput:e.onImageUpload},null,8,["onInput"])]),_:1}),n(g,null,{default:a(()=>[n(s,{secondary:"",onClick:t[12]||(t[12]=T=>e.imageDialogOpen=null)},{default:a(()=>[O(h(e.t("cancel")),1)]),_:1})]),_:1})]),_:1})]),_:1},8,["model-value"])],2)}var Zq=q(jq,[["render",Yq],["__scopeId","data-v-d0a4bd4a"]]),xq=Me({id:"input-rich-text-md",name:"$t:interfaces.input-rich-text-md.markdown",description:"$t:interfaces.input-rich-text-md.description",icon:"functions",component:Zq,types:["text"],options:[{field:"placeholder",name:"$t:placeholder",type:"string",meta:{width:"full",interface:"input-multiline",options:{placeholder:"$t:enter_a_placeholder"}}},{field:"customSyntax",name:"$t:interfaces.input-rich-text-md.customSyntax",type:"json",meta:{note:"$t:interfaces.input-rich-text-md.customSyntax_label",width:"full",interface:"list",options:{addLabel:"$t:interfaces.input-rich-text-md.customSyntax_add",template:"{{ name }}",fields:[{field:"name",type:"string",name:"$t:name",meta:{interface:"input",width:"half"}},{field:"icon",type:"string",name:"$t:icon",meta:{interface:"select-icon",width:"half"}},{field:"prefix",type:"string",name:"$t:prefix",meta:{interface:"input",width:"half"}},{field:"suffix",type:"string",name:"$t:suffix",meta:{interface:"input",width:"half"}},{field:"box",type:"string",name:"$t:interfaces.input-rich-text-md.box",meta:{interface:"select-radio",width:"half",options:{choices:[{text:"$t:inline",value:"inline"},{text:"$t:block",value:"block"}]}},schema:{default_value:"inline"}}]}}},{field:"imageToken",name:"$t:interfaces.input-rich-text-md.imageToken",type:"string",meta:{note:"$t:interfaces.input-rich-text-md.imageToken_label",width:"full",interface:"input"}}]}),e9=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:xq});const t9=K({components:{Draggable:wt},props:{value:{type:Array,default:null},fields:{type:Array,default:()=>[]},template:{type:String,default:null},addLabel:{type:String,default:()=>We.global.t("create_new")},limit:{type:Number,default:null},disabled:{type:Boolean,default:!1},headerPlaceholder:{type:String,default:()=>We.global.t("empty_item")},collection:{type:String,default:null},placeholder:{type:String,default:()=>We.global.t("no_items")}},emits:["input"],setup(e,{emit:t}){const{t:o}=ae(),l=D(null),d=E(()=>l.value!==null),{value:c}=Re(e),i=E(()=>e.template||`{{${e.fields[0].field}}}`),s=E(()=>e.disabled?!1:!!(e.value===null||e.limit===null||Array.isArray(e.value)&&e.value.length<e.limit)),r=E(()=>l.value!==null?y.value:null),{displayValue:p}=po(i,r),f=E(()=>{var z,W;const B={};for(const J of e.fields)((z=J.schema)==null?void 0:z.default_value)!==void 0&&((W=J.schema)==null?void 0:W.default_value)!==null&&(B[J.field]=J.schema.default_value);return B}),v=E(()=>{var B;return(B=e.fields)==null?void 0:B.map(z=>{var W;return ye(X({},z),{name:(W=z.name)!=null?W:Je(z.field)})})}),_=D(!1),y=D({}),b=D(!1);return{t:o,updateValues:A,removeItem:R,addNew:L,showAddNew:s,hideDragImage:Ut,active:l,drawerOpen:d,displayValue:p,activeItem:r,closeDrawer:U,onSort:T,templateWithDefaults:i,defaults:f,fieldsWithNames:v,isNewItem:_,edits:y,confirmDiscard:b,openItem:w,saveItem:$,trackEdits:k,checkDiscard:V,discardAndLeave:g};function w(B){_.value=!1,y.value=X({},e.value[B]),l.value=B}function $(B){_.value=!1,A(B,y.value),U()}function k(B){Object.assign(y.value,B)}function V(){l.value!==null&&!H.exports.isEqual(y.value,e.value[l.value])?b.value=!0:U()}function g(){U(),b.value=!1}function A(B,z){M(e.value.map((W,J)=>J===B?z:W))}function R(B){c.value?M(e.value.filter(z=>z!==B)):M(null)}function L(){_.value=!0;const B={};e.fields.forEach(z=>{var W;B[z.field]=(W=z.schema)==null?void 0:W.default_value}),e.value!==null?M([...e.value,B]):M([B]),y.value=X({},B),l.value=(e.value||[]).length}function M(B){return B===null||B.length===0?t("input",null):t("input",B)}function T(B){return B===null||B.length===0?t("input",null):t("input",B)}function U(){_.value&&M(e.value.slice(0,-1)),l.value=null}}}),n9=e=>(He("data-v-f6867ec0"),e=e(),Ge(),e),l9={class:"repeater"},a9=n9(()=>S("div",{class:"spacer"},null,-1)),o9={class:"type-title"},i9={class:"drawer-item-content"};function s9(e,t,o,l,d,c){const i=u("v-notice"),s=u("v-icon"),r=u("render-template"),p=u("v-list-item"),f=u("draggable"),v=u("v-list"),_=u("v-button"),y=u("v-form"),b=u("v-drawer"),w=u("v-card-title"),$=u("v-card-text"),k=u("v-card-actions"),V=u("v-card"),g=u("v-dialog"),A=Ce("tooltip");return m(),I("div",l9,[!e.value||e.value.length===0?(m(),F(i,{key:0},{default:a(()=>[O(h(e.placeholder),1)]),_:1})):N("",!0),e.value&&e.value.length>0?(m(),F(v,{key:1},{default:a(()=>[n(f,{disabled:e.disabled,"force-fallback":!0,"model-value":e.value,"item-key":"id",handle:".drag-handle","onUpdate:modelValue":t[1]||(t[1]=R=>e.$emit("input",R))},{item:a(({element:R,index:L})=>[n(p,{dense:e.value.length>4,block:"",onClick:M=>e.openItem(L)},{default:a(()=>[e.disabled?N("",!0):(m(),F(s,{key:0,name:"drag_handle",class:"drag-handle",left:"",onClick:t[0]||(t[0]=Ie(()=>{},["stop"]))})),n(r,{fields:e.fields,item:X(X({},e.defaults),R),template:e.templateWithDefaults},null,8,["fields","item","template"]),a9,e.disabled?N("",!0):(m(),F(s,{key:1,name:"close",onClick:Ie(M=>e.removeItem(R),["stop"])},null,8,["onClick"]))]),_:2},1032,["dense","onClick"])]),_:1},8,["disabled","model-value"])]),_:1})):N("",!0),e.showAddNew?(m(),F(_,{key:2,class:"add-new",onClick:e.addNew},{default:a(()=>[O(h(e.addLabel),1)]),_:1},8,["onClick"])):N("",!0),n(b,{"model-value":e.drawerOpen,title:e.displayValue||e.headerPlaceholder,persistent:"","onUpdate:modelValue":t[4]||(t[4]=R=>e.checkDiscard()),onCancel:t[5]||(t[5]=R=>e.checkDiscard())},{title:a(()=>[S("h1",o9,[n(r,{fields:e.fields,item:e.activeItem,template:e.templateWithDefaults},null,8,["fields","item","template"])])]),actions:a(()=>[te(n(_,{icon:"",rounded:"",onClick:t[2]||(t[2]=R=>e.saveItem(e.active))},{default:a(()=>[n(s,{name:"check"})]),_:1},512),[[A,e.t("save"),void 0,{bottom:!0}]])]),default:a(()=>[S("div",i9,[n(y,{disabled:e.disabled,fields:e.fieldsWithNames,"model-value":e.activeItem,"primary-key":"+","onUpdate:modelValue":t[3]||(t[3]=R=>e.trackEdits(R))},null,8,["disabled","fields","model-value"])])]),_:1},8,["model-value","title"]),n(g,{modelValue:e.confirmDiscard,"onUpdate:modelValue":t[8]||(t[8]=R=>e.confirmDiscard=R),onEsc:t[9]||(t[9]=R=>e.confirmDiscard=!1)},{default:a(()=>[n(V,null,{default:a(()=>[n(w,null,{default:a(()=>[O(h(e.t("unsaved_changes")),1)]),_:1}),n($,null,{default:a(()=>[O(h(e.t("unsaved_changes_copy")),1)]),_:1}),n(k,null,{default:a(()=>[n(_,{secondary:"",onClick:t[6]||(t[6]=R=>e.discardAndLeave())},{default:a(()=>[O(h(e.t("discard_changes")),1)]),_:1}),n(_,{onClick:t[7]||(t[7]=R=>e.confirmDiscard=!1)},{default:a(()=>[O(h(e.t("keep_editing")),1)]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])])}var wi=q(t9,[["render",s9],["__scopeId","data-v-f6867ec0"]]);const r9=K({components:{Repeater:wi},props:{value:{type:Object,default:null}},emits:["input"],setup(e,{emit:t}){const{t:o}=ae(),l=E({get(){var s,r;return(r=(s=e.value)==null?void 0:s.fields)==null?void 0:r.map(p=>p.meta)},set(s){const r=(s||[]).map(p=>({field:p.field,name:p.name||p.field,type:p.type,meta:p}));t("input",ye(X({},e.value||{}),{fields:r}))}}),d=[{name:o("field",1),field:"field",type:"string",meta:{interface:"input",width:"half",sort:2,options:{dbSafe:!0,font:"monospace",placeholder:o("interfaces.list.field_name_placeholder")}},schema:null},{name:o("field_width"),field:"width",type:"string",meta:{interface:"select-dropdown",width:"half",sort:3,options:{choices:[{value:"half",text:o("half_width")},{value:"full",text:o("full_width")}]}},schema:null},{name:o("type"),field:"type",type:"string",meta:{interface:"select-dropdown",width:"half",sort:4,options:{choices:St(Fo)}},schema:null},{name:o("interface_label"),field:"interface",type:"string",meta:{interface:"system-interface",width:"half",sort:5,options:{typeField:"type"}},schema:null},{name:o("note"),field:"note",type:"string",meta:{interface:"input",width:"full",sort:6,options:{placeholder:o("interfaces.list.field_note_placeholder")}},schema:null},{name:o("options"),field:"options",type:"string",meta:{interface:"system-interface-options",width:"full",sort:7,options:{interfaceField:"interface"}}}],c=E({get(){var s;return(s=e.value)==null?void 0:s.template},set(s){t("input",ye(X({},e.value||{}),{template:s}))}}),i=E({get(){var s;return(s=e.value)==null?void 0:s.addLabel},set(s){t("input",ye(X({},e.value||{}),{addLabel:s}))}});return{t:o,repeaterValue:l,repeaterFields:d,template:c,addLabel:i}}}),d9={class:"grid"},u9={class:"grid-element half"},c9={class:"type-label"},p9={class:"grid-element half"},m9={class:"type-label"},f9={class:"grid-element full"},_9={class:"type-label"};function v9(e,t,o,l,d,c){const i=u("v-input"),s=u("repeater");return m(),I("div",d9,[S("div",u9,[S("p",c9,h(e.t("template")),1),n(i,{modelValue:e.template,"onUpdate:modelValue":t[0]||(t[0]=r=>e.template=r),class:"input",placeholder:"{{ field }}"},null,8,["modelValue"])]),S("div",p9,[S("p",m9,h(e.t("interfaces.list.add_label")),1),n(i,{modelValue:e.addLabel,"onUpdate:modelValue":t[1]||(t[1]=r=>e.addLabel=r),class:"input",placeholder:e.t("create_new")},null,8,["modelValue","placeholder"])]),S("div",f9,[S("p",_9,h(e.t("interfaces.list.edit_fields")),1),n(s,{value:e.repeaterValue,template:"{{ field }} \u2014 {{ interface }}",fields:e.repeaterFields,onInput:t[2]||(t[2]=r=>e.repeaterValue=r)},null,8,["value","fields"])])])}var y9=q(r9,[["render",v9],["__scopeId","data-v-7f210cfb"]]),g9=Me({id:"list",name:"$t:interfaces.list.repeater",description:"$t:interfaces.list.description",icon:"replay",component:wi,types:["json"],options:y9}),h9=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:g9});const b9=K({components:{DrawerCollection:Qt,DrawerItem:Nt,Draggable:wt},props:{collection:{type:String,required:!0},field:{type:String,required:!0},value:{type:Array,default:null},disabled:{type:Boolean,default:!1},primaryKey:{type:[String,Number],required:!0},enableCreate:{type:Boolean,default:!0},enableSelect:{type:Boolean,default:!0}},emits:["input"],setup(e,{emit:t}){const{t:o}=ae(),l=_t(),d=ze(),c=qe(),{o2mRelation:i,anyRelation:s,allowedCollections:r,o2mRelationPrimaryKeyField:p}=J(),{fetchValues:f,previewValues:v,loading:_,junctionRowMap:y,relatedItemValues:b}=G(),{collections:w,templates:$,primaryKeys:k}=Q(),{selectingFrom:V,stageSelection:g,deselect:A}=x(),{currentlyEditing:R,relatedPrimaryKey:L,editsAtStart:M,stageEdits:T,cancelEdit:U,editExisting:B,createNew:z}=ee(),{onSort:W}=ne();return _e(e,f,{immediate:!0,deep:!0}),{t:o,previewValues:v,collections:w,selectingFrom:V,stageSelection:g,templates:$,o2mRelation:i,anyRelation:s,currentlyEditing:R,relatedPrimaryKey:L,editsAtStart:M,stageEdits:T,cancelEdit:U,editExisting:B,createNew:z,previewLoading:_,deselect:A,relatedItemValues:b,hideDragImage:Ut,onSort:W,allowedCollections:r};function J(){const ie=E(()=>l.getRelationsForField(e.collection,e.field)),pe=E(()=>ie.value.find(le=>le.related_collection!==null)),Y=E(()=>ie.value.find(le=>le.related_collection===null)),Z=E(()=>d.getPrimaryKeyFieldForCollection(pe.value.collection).field),se=E(()=>Y.value.meta.one_allowed_collections);return{relationsForField:ie,o2mRelation:pe,anyRelation:Y,allowedCollections:se,o2mRelationPrimaryKeyField:Z}}function Q(){const ie=E(()=>{const Z={},se=r.value.map(le=>c.getCollection(le)).filter(le=>le);for(const le of se)Z[le.collection]=le;return Z}),pe=E(()=>{const Z={};for(const se of Object.values(ie.value))Z[se.collection]=d.getPrimaryKeyFieldForCollection(se.collection).field;return Z}),Y=E(()=>{var se;const Z={};for(const le of Object.values(ie.value)){const ce=d.getPrimaryKeyFieldForCollection(le.collection);Z[le.collection]=((se=le.meta)==null?void 0:se.display_template)||`{{${ce.field}}}`}return Z});return{collections:ie,primaryKeys:pe,templates:Y}}function G(){const ie=D(!1),pe=D({}),Y=D(),Z=E(()=>{var ce,ve;if(Y.value===void 0)return[];const le=H.exports.cloneDeep(e.value||[]).map((ue,ge)=>{const fe=H.exports.isPlainObject(ue)?ue[p.value]:ue,me=(Y.value||[]).find(ke=>ke[p.value]===fe);return H.exports.isPlainObject(ue)?ye(X(X({},me),ue),{$index:ge}):me===void 0?null:ye(X({},me),{$index:ge})}).filter(ue=>ue).map(ue=>{var ke;const ge=ue[s.value.meta.one_collection_field],fe=H.exports.isPlainObject(ue[s.value.field])?ue[s.value.field][k.value[ge]]:ue[s.value.field],me=(ke=pe.value[ge])==null?void 0:ke.find(be=>be[k.value[ge]]==fe);return fe&&me&&(H.exports.isPlainObject(ue[s.value.field])?ue[s.value.field]=X(X({},me),ue[s.value.field]):ue[s.value.field]=H.exports.cloneDeep(me)),ue});return((ve=(ce=i.value)==null?void 0:ce.meta)==null?void 0:ve.sort_field)?[...le.filter(ue=>i.value.meta.sort_field in ue).sort((ue,ge)=>ue[i.value.meta.sort_field]-ge[i.value.meta.sort_field]),...le.filter(ue=>!(i.value.meta.sort_field in ue)).sort((ue,ge)=>ue.$index-ge.$index)]:[...le.sort((ue,ge)=>ue.$index-ge.$index)]});return{fetchValues:se,previewValues:Z,loading:ie,junctionRowMap:Y,relatedItemValues:pe};async function se(){var le;if(e.value!==null){ie.value=!0;try{const ce=[],ve={};for(const ge of Object.values(w.value))ve[ge.collection]=[];for(const ge of e.value||[])if(typeof ge=="string"||typeof ge=="number")ce.push(ge);else if(!(s.value.meta.one_collection_field in ge))ce.push(ge[p.value]);else{const fe=ge[s.value.meta.one_collection_field],me=k.value[fe],ke=H.exports.isPlainObject(ge[s.value.field])?ge[s.value.field][me]:ge[s.value.field];ke&&ve[fe].push(ke)}if(ce.length>0){const ge=await de.get(`/items/${i.value.collection}`,{params:{filter:{[p.value]:{_in:ce}},fields:[p.value,s.value.field,s.value.meta.one_collection_field,(le=i.value.meta)==null?void 0:le.sort_field]}});for(const fe of ge.data.data){const me=fe[s.value.meta.one_collection_field];me in ve&&ve[me].push(fe[s.value.field])}Y.value=ge.data.data}else Y.value=[];const ue=await Promise.all(Object.entries(ve).map(([ge,fe])=>{if(fe.length===0)return Promise.resolve({data:{data:[]}});const me=vt($.value[ge]);return me.includes(k.value[ge])===!1&&me.push(k.value[ge]),de.get(Ht(ge),{params:{filter:{[k.value[ge]]:{_in:fe}},fields:me}})}));pe.value||(pe.value={});for(let ge=0;ge<Object.keys(ve).length;ge++){const fe=Object.keys(ve)[ge];pe.value=ye(X({},pe.value),{[fe]:ue[ge].data.data})}}catch(ce){Fe(ce)}finally{ie.value=!1}}}}function x(){const ie=D(null);return{selectingFrom:ie,stageSelection:pe,deselect:Y};function pe(Z){const{field:se}=s.value,le=s.value.meta.one_collection_field,ce=e.value||[],ve=Z.map(ue=>({[le]:ie.value,[se]:ue}));t("input",[...ce,...ve])}function Y(Z){t("input",(e.value||[]).filter(se=>se!==Z))}}function ee(){const ie=D(null),pe=D(null),Y=D({});return{currentlyEditing:ie,relatedPrimaryKey:pe,editsAtStart:Y,stageEdits:Z,cancelEdit:se,editExisting:le,createNew:ce};function Z(ve){const ue=e.value||[],ge=ue.includes(Y.value)||ue.includes(ie.value);ie.value==="+"&&pe.value==="+"&&ge===!1?t("input",[...ue,ve]):t("input",ue.map(me=>me===Y.value||me==ie.value?ve:me))}function se(){ie.value=null,pe.value=null,Y.value={}}function le(ve){var me,ke,be;if(typeof ve=="string"||typeof ve=="number"){const Se=(y.value||[]).find(Le=>Le[p.value]==ve),De=Se[s.value.meta.one_collection_field],Ae=H.exports.isPlainObject(Se[s.value.field])?Se[s.value.field][k.value[De]]:Se[s.value.field];Y.value={[p.value]:ve,[s.value.meta.one_collection_field]:De,[s.value.field]:{[k.value[De]]:Ae}},((me=i.value.meta)==null?void 0:me.sort_field)&&(Y.value[(ke=i.value.meta)==null?void 0:ke.sort_field]=Se[(be=i.value.meta)==null?void 0:be.sort_field]),pe.value=Ae||"+",ie.value=ve;return}const ue=ve[p.value],ge=ve[s.value.meta.one_collection_field];let fe=ve[s.value.field];H.exports.isPlainObject(fe)&&(fe=ve[s.value.field][k.value[ge]]),Y.value=ve,pe.value=fe||"+",ie.value=ue||"+"}function ce(ve){var ge,fe;const ue={[s.value.meta.one_collection_field]:ve,[s.value.field]:{}};if(v.value&&((fe=(ge=i.value)==null?void 0:ge.meta)==null?void 0:fe.sort_field)){const me=Math.max(-1,...v.value.map(ke=>ke[i.value.meta.sort_field]));ue[i.value.meta.sort_field]=me+1}Y.value=ue,pe.value="+",ie.value="+"}}function ne(){return{onSort:ie};function ie(pe){t("input",e.value.map((Y,Z)=>{var le,ce,ve;if(!((le=i.value.meta)==null?void 0:le.sort_field))return Y;const se=pe.findIndex(ue=>ue.$index===Z);return H.exports.isPlainObject(Y)?ye(X({},Y),{[(ce=i.value.meta)==null?void 0:ce.sort_field]:se+1}):ye(X({},pe[se]),{[p.value]:Y,[(ve=i.value.meta)==null?void 0:ve.sort_field]:se+1})}))}}}}),Ci=e=>(He("data-v-d5c7690e"),e=e(),Ge(),e),$9={class:"m2a-builder"},k9={key:0,class:"loader"},w9={class:"collection"},C9={key:1},S9=Ci(()=>S("div",{class:"spacer"},null,-1)),F9=Ci(()=>S("div",{class:"spacer"},null,-1)),V9={class:"buttons"};function E9(e,t,o,l,d,c){const i=u("v-skeleton-loader"),s=u("v-notice"),r=u("v-icon"),p=u("render-template"),f=u("v-list-item"),v=u("draggable"),_=u("v-list"),y=u("v-button"),b=u("v-list-item-icon"),w=u("v-text-overflow"),$=u("v-menu"),k=u("drawer-collection"),V=u("drawer-item");return m(),I("div",$9,[e.previewLoading&&!e.previewValues?(m(),I("div",k9,[(m(!0),I(oe,null,he((e.value||[]).length,g=>(m(),F(i,{key:g}))),128))])):(m(),F(_,{key:1},{default:a(()=>[e.previewValues.length===0?(m(),F(s,{key:0},{default:a(()=>[O(h(e.t("no_items")),1)]),_:1})):N("",!0),n(v,{"force-fallback":!0,"model-value":e.previewValues,"item-key":"$index","set-data":e.hideDragImage,disabled:!e.o2mRelation.meta||!e.o2mRelation.meta.sort_field,"onUpdate:modelValue":e.onSort},{item:a(({element:g})=>[e.allowedCollections.includes(g[e.anyRelation.meta.one_collection_field])?(m(),F(f,{key:0,block:"",dense:e.previewValues.length>4,onClick:A=>e.editExisting((e.value||[])[g.$index])},{default:a(()=>[e.o2mRelation.meta&&e.o2mRelation.meta.sort_field?(m(),F(r,{key:0,class:"drag-handle",left:"",name:"drag_handle",onClick:t[0]||(t[0]=Ie(()=>{},["stop"]))})):N("",!0),S("span",w9,h(e.collections[g[e.anyRelation.meta.one_collection_field]].name)+":",1),typeof g[e.anyRelation.field]=="number"||typeof g[e.anyRelation.field]=="string"?(m(),I("span",C9,h(g[e.anyRelation.field]),1)):(m(),F(p,{key:2,collection:g[e.anyRelation.meta.one_collection_field],template:e.templates[g[e.anyRelation.meta.one_collection_field]],item:g[e.anyRelation.field]},null,8,["collection","template","item"])),S9,e.disabled?N("",!0):(m(),F(r,{key:3,class:"clear-icon",name:"clear",onClick:Ie(A=>e.deselect((e.value||[])[g.$index]),["stop"])},null,8,["onClick"]))]),_:2},1032,["dense","onClick"])):(m(),F(f,{key:1,block:""},{default:a(()=>[n(r,{class:"invalid-icon",name:"warning",left:""}),S("span",null,h(e.t("invalid_item")),1),F9,e.disabled?N("",!0):(m(),F(r,{key:0,class:"clear-icon",name:"clear",onClick:Ie(A=>e.deselect((e.value||[])[g.$index]),["stop"])},null,8,["onClick"]))]),_:2},1024))]),_:1},8,["model-value","set-data","disabled","onUpdate:modelValue"])]),_:1})),S("div",V9,[e.enableCreate?(m(),F($,{key:0,"show-arrow":""},{activator:a(({toggle:g})=>[n(y,{onClick:g},{default:a(()=>[O(h(e.t("create_new"))+" ",1),n(r,{name:"arrow_drop_down",right:""})]),_:2},1032,["onClick"])]),default:a(()=>[n(_,null,{default:a(()=>[(m(!0),I(oe,null,he(e.collections,g=>(m(),F(f,{key:g.collection,clickable:"",onClick:A=>e.createNew(g.collection)},{default:a(()=>[n(b,null,{default:a(()=>[n(r,{name:g.icon},null,8,["name"])]),_:2},1024),n(w,{text:g.name},null,8,["text"])]),_:2},1032,["onClick"]))),128))]),_:1})]),_:1})):N("",!0),e.enableSelect?(m(),F($,{key:1,"show-arrow":""},{activator:a(({toggle:g})=>[n(y,{class:"existing",onClick:g},{default:a(()=>[O(h(e.t("add_existing"))+" ",1),n(r,{name:"arrow_drop_down",right:""})]),_:2},1032,["onClick"])]),default:a(()=>[n(_,null,{default:a(()=>[(m(!0),I(oe,null,he(e.collections,g=>(m(),F(f,{key:g.collection,clickable:"",onClick:A=>e.selectingFrom=g.collection},{default:a(()=>[n(b,null,{default:a(()=>[n(r,{name:g.icon},null,8,["name"])]),_:2},1024),n(w,{text:g.name},null,8,["text"])]),_:2},1032,["onClick"]))),128))]),_:1})]),_:1})):N("",!0)]),!e.disabled&&!!e.selectingFrom?(m(),F(k,{key:2,multiple:"",active:!!e.selectingFrom,collection:e.selectingFrom,selection:[],onInput:e.stageSelection,"onUpdate:active":t[1]||(t[1]=g=>e.selectingFrom=null)},null,8,["active","collection","onInput"])):N("",!0),e.disabled?N("",!0):(m(),F(V,{key:3,active:!!e.currentlyEditing,collection:e.o2mRelation.collection,"primary-key":e.currentlyEditing||"+","related-primary-key":e.relatedPrimaryKey||"+","junction-field":e.o2mRelation.meta.junction_field,edits:e.editsAtStart,"circular-field":e.o2mRelation.field,onInput:e.stageEdits,"onUpdate:active":e.cancelEdit},null,8,["active","collection","primary-key","related-primary-key","junction-field","edits","circular-field","onInput","onUpdate:active"]))])}var I9=q(b9,[["render",E9],["__scopeId","data-v-d5c7690e"]]),A9=Me({id:"list-m2a",name:"$t:list-m2a",icon:"note_add",component:I9,relational:!0,types:["alias"],groups:["m2a"],options:[{field:"enableSelect",name:"$t:selecting_items",schema:{default_value:!0},meta:{interface:"boolean",options:{label:"$t:enable_select_button"},width:"half"}},{field:"enableCreate",name:"$t:creating_items",schema:{default_value:!0},meta:{interface:"boolean",options:{label:"$t:enable_create_button"},width:"half"}}]}),D9=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:A9});const O9=K({components:{DrawerItem:Nt,DrawerCollection:Qt,Draggable:wt},props:{value:{type:Array,default:null},primaryKey:{type:[Number,String],required:!0},collection:{type:String,required:!0},field:{type:String,required:!0},template:{type:String,default:null},disabled:{type:Boolean,default:!1},enableCreate:{type:Boolean,default:!0},enableSelect:{type:Boolean,default:!0}},emits:["input"],setup(e,{emit:t}){const{t:o}=ae(),{value:l,collection:d,field:c}=Re(e),{junction:i,junctionCollection:s,relation:r,relationCollection:p,relationInfo:f}=Tn(d,c),v=E(()=>{var Z,se;if(e.template)return e.template;if((Z=s.value.meta)==null?void 0:Z.display_template)return s.value.meta.display_template;let Y=(se=p.value.meta)==null?void 0:se.display_template;if(Y){const le=/({{.*?}})/g,ce=Y.split(le).filter(ve=>ve);for(const ve of ce){if(ve.startsWith("{{")===!1)continue;const ue=ve.replace(/{{/g,"").replace(/}}/g,"").trim(),ge=`{{${r.value.field}.${ue}}}`;Y=Y.replace(ve,ge)}return Y}return`{{${r.value.field}.${f.value.relationPkField}}}`}),_=E(()=>Xt(vt(v.value),s.value.collection)),{deleteItem:y,getUpdatedItems:b,getNewItems:w,getPrimaryKeys:$,getNewSelectedItems:k}=fi(l,f,pe),{tableHeaders:V,items:g,loading:A}=vi(l,_,f,k,b,w,$),{currentlyEditing:R,editItem:L,editsAtStart:M,stageEdits:T,cancelEdit:U,relatedPrimaryKey:B,editModalActive:z}=yi(l,f,pe),{stageSelection:W,selectModalActive:J,selectedPrimaryKeys:Q}=gi(g,f,pe),{sort:G,sortItems:x,sortedItems:ee}=hi(f,_,g,pe),{createAllowed:ne,selectAllowed:ie}=bi(s,p);return{t:o,junction:i,relation:r,tableHeaders:V,loading:A,currentlyEditing:R,editItem:L,junctionCollection:s,relationCollection:p,editsAtStart:M,stageEdits:T,cancelEdit:U,stageSelection:W,selectModalActive:J,deleteItem:y,selectedPrimaryKeys:Q,items:g,relationInfo:f,relatedPrimaryKey:B,get:H.exports.get,editModalActive:z,sort:G,sortItems:x,sortedItems:ee,templateWithDefaults:v,createAllowed:ne,selectAllowed:ie};function pe(Y){t("input",Y)}}}),P9=e=>(He("data-v-3eb0bf6a"),e=e(),Ge(),e),T9={key:1,class:"many-to-many"},L9=P9(()=>S("div",{class:"spacer"},null,-1)),j9={key:3,class:"actions"};function R9(e,t,o,l,d,c){const i=u("v-notice"),s=u("v-skeleton-loader"),r=u("v-icon"),p=u("render-template"),f=u("v-list-item"),v=u("draggable"),_=u("v-list"),y=u("v-button"),b=u("drawer-item"),w=u("drawer-collection");return!e.junction||!e.relation?(m(),F(i,{key:0,type:"warning"},{default:a(()=>[O(h(e.t("relationship_not_setup")),1)]),_:1})):(m(),I("div",T9,[e.loading?(m(!0),I(oe,{key:0},he((e.value||[]).length||3,$=>(m(),F(s,{key:$,type:(e.value||[]).length>4?"block-list-item-dense":"block-list-item"},null,8,["type"]))),128)):e.sortedItems.length===0?(m(),F(i,{key:1},{default:a(()=>[O(h(e.t("no_items")),1)]),_:1})):(m(),F(_,{key:2},{default:a(()=>[n(v,{"force-fallback":!0,"model-value":e.sortedItems,"item-key":"id",handle:".drag-handle",disabled:!e.junction.meta.sort_field,"onUpdate:modelValue":t[1]||(t[1]=$=>e.sortItems($))},{item:a(({element:$})=>[n(f,{dense:e.sortedItems.length>4,block:"",clickable:"",onClick:k=>e.editItem($)},{default:a(()=>[e.junction.meta.sort_field?(m(),F(r,{key:0,name:"drag_handle",class:"drag-handle",left:"",onClick:t[0]||(t[0]=Ie(()=>{},["stop"]))})):N("",!0),n(p,{collection:e.junctionCollection.collection,item:$,template:e.templateWithDefaults},null,8,["collection","item","template"]),L9,e.disabled?N("",!0):(m(),F(r,{key:1,name:"close",onClick:Ie(k=>e.deleteItem($),["stop"])},null,8,["onClick"]))]),_:2},1032,["dense","onClick"])]),_:1},8,["model-value","disabled"])]),_:1})),e.disabled?N("",!0):(m(),I("div",j9,[e.enableCreate&&e.createAllowed?(m(),F(y,{key:0,onClick:t[2]||(t[2]=$=>e.editModalActive=!0)},{default:a(()=>[O(h(e.t("create_new")),1)]),_:1})):N("",!0),e.enableSelect&&e.selectAllowed?(m(),F(y,{key:1,onClick:t[3]||(t[3]=$=>e.selectModalActive=!0)},{default:a(()=>[O(h(e.t("add_existing")),1)]),_:1})):N("",!0)])),e.disabled?N("",!0):(m(),F(b,{key:4,active:e.editModalActive,collection:e.relationInfo.junctionCollection,"primary-key":e.currentlyEditing||"+","related-primary-key":e.relatedPrimaryKey||"+","junction-field":e.relationInfo.junctionField,edits:e.editsAtStart,"circular-field":e.junction.field,onInput:e.stageEdits,"onUpdate:active":e.cancelEdit},null,8,["active","collection","primary-key","related-primary-key","junction-field","edits","circular-field","onInput","onUpdate:active"])),e.disabled?N("",!0):(m(),F(w,{key:5,active:e.selectModalActive,"onUpdate:active":t[4]||(t[4]=$=>e.selectModalActive=$),collection:e.relationCollection.collection,selection:e.selectedPrimaryKeys,multiple:"",onInput:e.stageSelection},null,8,["active","collection","selection","onInput"]))]))}var M9=q(O9,[["render",R9],["__scopeId","data-v-3eb0bf6a"]]),U9=Me({id:"list-m2m",name:"$t:interfaces.list-m2m.many-to-many",description:"$t:interfaces.list-m2m.description",icon:"note_add",component:M9,relational:!0,types:["alias"],groups:["m2m"],options:$i,recommendedDisplays:["related-values"]}),N9=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:U9});const B9=K({components:{DrawerItem:Nt,DrawerCollection:Qt,Draggable:wt},props:{value:{type:Array,default:null},primaryKey:{type:[Number,String],required:!0},collection:{type:String,required:!0},field:{type:String,required:!0},template:{type:String,default:null},disabled:{type:Boolean,default:!1},enableCreate:{type:Boolean,default:!0},enableSelect:{type:Boolean,default:!0}},emits:["input"],setup(e,{emit:t}){const{t:o}=ae(),l=_t(),d=qe(),c=ze(),i=It(),s=xe(),{relation:r,relatedCollection:p,relatedPrimaryKeyField:f}=ee(),v=E(()=>{var se;return e.template||((se=p.value.meta)==null?void 0:se.display_template)||`{{${c.getPrimaryKeyFieldForCollection(r.value.collection).field}}}`}),_=E(()=>Xt(vt(v.value),p.value.collection)),{items:y,loading:b}=ne(),{currentlyEditing:w,editItem:$,editsAtStart:k,stageEdits:V,cancelEdit:g}=ie(),{selectModalActive:A,selectedPrimaryKeys:R}=pe(),{sort:L,sortItems:M,sortedItems:T}=x(),{createAllowed:U,updateAllowed:B}=Z();return{t:o,relation:r,loading:b,currentlyEditing:w,editItem:$,relatedCollection:p,editsAtStart:k,stageEdits:V,cancelEdit:g,selectModalActive:A,deleteItem:G,items:y,sortItems:M,selectedPrimaryKeys:R,sort:L,sortedItems:T,get:H.exports.get,getItemFromIndex:z,templateWithDefaults:v,createAllowed:U,updateAllowed:B};function z(se){return(T.value||y.value)[se]}function W(){var le;const se=(le=f.value)==null?void 0:le.field;return e.value===null||!se?[]:e.value.filter(ce=>typeof ce=="object"&&!(se in ce))}function J(){var le;const se=(le=f.value)==null?void 0:le.field;return e.value===null||!se?[]:e.value.filter(ce=>typeof ce=="object"&&se in ce)}function Q(){var le;const se=(le=f.value)==null?void 0:le.field;return e.value===null||!se?[]:e.value.map(ce=>{if(typeof ce=="object"){if(se in ce)return ce[se]}else return ce}).filter(ce=>ce)}function G(se){var ve;const le=(ve=f.value)==null?void 0:ve.field;if(e.value===null||!le)return;if(!(le in se)){t("input",e.value.filter(ue=>H.exports.isEqual(se,ue)===!1));return}const ce=se[le];t("input",e.value.filter(ue=>typeof ue=="number"||typeof ue=="string"?ue!==ce:typeof ue=="object"&&le in ue?ue[le]!==ce:!0))}function x(){var ve;const se=D({by:((ve=r.value.meta)==null?void 0:ve.sort_field)||_.value[0],desc:!1});function le(ue){var fe;if(!((fe=r.value.meta)==null?void 0:fe.sort_field))return;const ge=ue.map((me,ke)=>(me[r.value.meta.sort_field]=ke,me));t("input",ge)}const ce=E(()=>{var fe,me;if(!((fe=r.value.meta)==null?void 0:fe.sort_field)||se.value.by!==((me=r.value.meta)==null?void 0:me.sort_field))return y.value;const ue=se.value.desc,ge=H.exports.sortBy(y.value,[r.value.meta.sort_field]);return ue?ge.reverse():ge});return{sort:se,sortItems:le,sortedItems:ce}}function ee(){const se=E(()=>{var ve;return(ve=l.getRelationsForField(e.collection,e.field))==null?void 0:ve[0]}),le=E(()=>d.getCollection(se.value.collection)),{primaryKeyField:ce}=at(le.value.collection);return{relation:se,relatedCollection:le,relatedPrimaryKeyField:ce}}function ne(){const se=D(!1),le=D([]);return _e(()=>e.value,async(ce,ve)=>{var me,ke;if(H.exports.isEqual(ce,ve))return;se.value=!0;const ue=(me=f.value)==null?void 0:me.field;if(!ue)return;const ge=[..._.value.length>0?_.value:Y()];ge.includes(ue)===!1&&ge.push(ue),((ke=r.value.meta)==null?void 0:ke.sort_field)&&ge.includes(r.value.meta.sort_field)===!1&&ge.push(r.value.meta.sort_field);const fe=_i(p.value.collection,ge);try{const be=p.value.collection.startsWith("directus_")?`/${p.value.collection.substring(9)}`:`/items/${p.value.collection}`,Se=Q();let De=[];Se&&Se.length>0&&(De=(await de.get(be,{params:{fields:fe,[`filter[${ue}][_in]`]:Se.join(",")}})).data.data);const Ae=J(),Le=W();le.value=De.map(lt=>{const Oe=Ae.find(je=>je[ue]===lt[ue]);return Oe!==void 0?X(X({},lt),Oe):lt}).concat(...Le)}catch(be){Fe(be)}finally{se.value=!1}},{immediate:!0}),{items:le,loading:se}}function ie(){const se=D(null),le=D({});return{currentlyEditing:se,editItem:ce,editsAtStart:le,stageEdits:ve,cancelEdit:ue};function ce(ge){var be;const fe=(be=f.value)==null?void 0:be.field;if(!fe)return;const me=fe in ge,ke=(e.value||[]).find(Se=>{var De,Ae,Le;return typeof Se=="object"&&((De=f.value)==null?void 0:De.field)&&Se[(Ae=f.value)==null?void 0:Ae.field]===ge[(Le=f.value)==null?void 0:Le.field]});le.value=ke||{[fe]:ge[fe]||{}},se.value=me?ge[fe]:"+"}function ve(ge){var ke;const fe=(ke=f.value)==null?void 0:ke.field;if(!fe)return;const me=(e.value||[]).map(be=>be&&typeof be=="object"&&fe in be&&fe in ge&&be[fe]===ge[fe]||be===ge[fe]||le.value===be?ge:be);me.includes(ge)===!1&&me.push(ge),me.length===0?t("input",null):t("input",me)}function ue(){le.value={},se.value=null}}function pe(){const se=D(!1),le=E(()=>{var ve;const ce=(ve=f.value)==null?void 0:ve.field;return y.value===null||!ce?[]:y.value.filter(ue=>ce in ue).map(ue=>ue[ce])});return{selectModalActive:se,selectedPrimaryKeys:le}}function Y(){return c.getFieldsForCollection(p.value.collection).slice(0,3).map(le=>le.field)}function Z(){const se=E(()=>{var ve;return((ve=s.currentUser)==null?void 0:ve.role.admin_access)===!0?!0:!!i.permissions.find(ue=>ue.action==="create"&&ue.collection===p.value.collection)}),le=E(()=>{var ve;return((ve=s.currentUser)==null?void 0:ve.role.admin_access)===!0?!0:!!i.permissions.find(ue=>ue.action==="update"&&ue.collection===p.value.collection)});return{createAllowed:se,updateAllowed:le}}}}),q9=e=>(He("data-v-3072ea08"),e=e(),Ge(),e),z9={key:1,class:"one-to-many"},K9=q9(()=>S("div",{class:"spacer"},null,-1)),W9={key:3,class:"actions"};function H9(e,t,o,l,d,c){const i=u("v-notice"),s=u("v-skeleton-loader"),r=u("v-icon"),p=u("render-template"),f=u("v-list-item"),v=u("draggable"),_=u("v-list"),y=u("v-button"),b=u("drawer-item"),w=u("drawer-collection");return e.relation?(m(),I("div",z9,[e.loading?(m(!0),I(oe,{key:0},he((e.value||[]).length||3,$=>(m(),F(s,{key:$,type:(e.value||[]).length>4?"block-list-item-dense":"block-list-item"},null,8,["type"]))),128)):e.sortedItems.length===0?(m(),F(i,{key:1},{default:a(()=>[O(h(e.t("no_items")),1)]),_:1})):(m(),F(_,{key:2},{default:a(()=>[n(v,{"force-fallback":!0,"model-value":e.sortedItems,"item-key":"id",handle:".drag-handle",disabled:!e.relation.meta.sort_field,"onUpdate:modelValue":t[1]||(t[1]=$=>e.sortItems($))},{item:a(({element:$})=>[n(f,{dense:e.sortedItems.length>4,block:"",disabled:e.disabled||e.updateAllowed===!1,onClick:k=>e.editItem($)},{default:a(()=>[e.relation.meta.sort_field?(m(),F(r,{key:0,name:"drag_handle",class:"drag-handle",left:"",onClick:t[0]||(t[0]=Ie(()=>{},["stop"]))})):N("",!0),n(p,{collection:e.relation.collection,item:$,template:e.templateWithDefaults},null,8,["collection","item","template"]),K9,!e.disabled&&e.updateAllowed?(m(),F(r,{key:1,name:"close",onClick:Ie(k=>e.deleteItem($),["stop"])},null,8,["onClick"])):N("",!0)]),_:2},1032,["dense","disabled","onClick"])]),_:1},8,["model-value","disabled"])]),_:1})),e.disabled?N("",!0):(m(),I("div",W9,[e.enableCreate&&e.createAllowed&&e.updateAllowed?(m(),F(y,{key:0,onClick:t[2]||(t[2]=$=>e.currentlyEditing="+")},{default:a(()=>[O(h(e.t("create_new")),1)]),_:1})):N("",!0),e.enableSelect&&e.updateAllowed?(m(),F(y,{key:1,onClick:t[3]||(t[3]=$=>e.selectModalActive=!0)},{default:a(()=>[O(h(e.t("add_existing")),1)]),_:1})):N("",!0)])),e.disabled?N("",!0):(m(),F(b,{key:4,active:e.currentlyEditing!==null,collection:e.relatedCollection.collection,"primary-key":e.currentlyEditing||"+",edits:e.editsAtStart,"circular-field":e.relation.field,onInput:e.stageEdits,"onUpdate:active":e.cancelEdit},null,8,["active","collection","primary-key","edits","circular-field","onInput","onUpdate:active"])),e.disabled?N("",!0):(m(),F(w,{key:5,active:e.selectModalActive,"onUpdate:active":t[4]||(t[4]=$=>e.selectModalActive=$),collection:e.relatedCollection.collection,selection:e.selectedPrimaryKeys,multiple:"",onInput:t[5]||(t[5]=$=>e.$emit("input",$.length>0?$:null))},null,8,["active","collection","selection"]))])):(m(),F(i,{key:0,type:"warning"},{default:a(()=>[O(h(e.t("relationship_not_setup")),1)]),_:1}))}var G9=q(B9,[["render",H9],["__scopeId","data-v-3072ea08"]]);const Q9=K({props:{collection:{type:String,required:!0},fieldData:{type:Object,default:null},relations:{type:Array,default:()=>[]},value:{type:Object,default:null},newCollections:{type:Array,default:()=>[]},newFields:{type:Array,default:()=>[]}},emits:["input"],setup(e,{emit:t}){const{t:o}=ae(),l=qe(),d=E({get(){var p;return(p=e.value)==null?void 0:p.template},set(p){t("input",ye(X({},e.value||{}),{template:p}))}}),c=E({get(){var p,f;return(f=(p=e.value)==null?void 0:p.enableCreate)!=null?f:!0},set(p){t("input",ye(X({},e.value||{}),{enableCreate:p}))}}),i=E({get(){var p,f;return(f=(p=e.value)==null?void 0:p.enableSelect)!=null?f:!0},set(p){t("input",ye(X({},e.value||{}),{enableSelect:p}))}}),s=E(()=>{if(!e.fieldData||!e.relations||e.relations.length===0)return null;const{field:p}=e.fieldData,f=e.relations.find(v=>{var _;return v.related_collection===e.collection&&((_=v.meta)==null?void 0:_.one_field)===p});return(f==null?void 0:f.collection)||null}),r=E(()=>s.value?l.getCollection(s.value):null);return{t:o,template:d,enableCreate:c,enableSelect:i,relatedCollection:s,relatedCollectionInfo:r}}}),X9={key:1,class:"form-grid"},J9={class:"field full"},Y9={class:"type-label"},Z9={class:"field half-left"},x9={class:"type-label"},ez={class:"field half-right"},tz={class:"type-label"};function nz(e,t,o,l,d,c){const i=u("v-notice"),s=u("v-field-template"),r=u("v-checkbox");return e.relatedCollection===null?(m(),F(i,{key:0,type:"warning"},{default:a(()=>[O(h(e.t("interfaces.list-o2m.no_collection")),1)]),_:1})):(m(),I("div",X9,[S("div",J9,[S("p",Y9,h(e.t("display_template")),1),n(s,{modelValue:e.template,"onUpdate:modelValue":t[0]||(t[0]=p=>e.template=p),collection:e.relatedCollection,depth:2,inject:e.relatedCollectionInfo?null:{fields:e.newFields,collections:e.newCollections,relations:e.relations},placeholder:e.relatedCollectionInfo&&e.relatedCollectionInfo.meta&&e.relatedCollectionInfo.meta.display_template},null,8,["modelValue","collection","inject","placeholder"])]),S("div",Z9,[S("p",x9,h(e.t("creating_items")),1),n(r,{modelValue:e.enableCreate,"onUpdate:modelValue":t[1]||(t[1]=p=>e.enableCreate=p),block:"",label:e.t("enable_create_button")},null,8,["modelValue","label"])]),S("div",ez,[S("p",tz,h(e.t("selecting_items")),1),n(r,{modelValue:e.enableSelect,"onUpdate:modelValue":t[2]||(t[2]=p=>e.enableSelect=p),block:"",label:e.t("enable_select_button")},null,8,["modelValue","label"])])]))}var lz=q(Q9,[["render",nz]]),az=Me({id:"list-o2m",name:"$t:interfaces.list-o2m.one-to-many",description:"$t:interfaces.list-o2m.description",icon:"arrow_right_alt",component:G9,types:["alias"],groups:["o2m"],relational:!0,options:lz,recommendedDisplays:["related-values"]}),oz=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:az});const iz=K({props:{collection:{type:String,required:!0},fieldData:{type:Object,default:null},relations:{type:Array,default:()=>[]},value:{type:Object,default:null}},emits:["input"],setup(e,{emit:t}){const{t:o}=ae(),l=E({get(){var i;return(i=e.value)==null?void 0:i.displayTemplate},set(i){t("input",ye(X({},e.value||{}),{displayTemplate:i}))}}),d=E({get(){var i,s;return(s=(i=e.value)==null?void 0:i.enableCreate)!=null?s:!0},set(i){t("input",ye(X({},e.value||{}),{enableCreate:i}))}}),c=E({get(){var i,s;return(s=(i=e.value)==null?void 0:i.enableSelect)!=null?s:!0},set(i){t("input",ye(X({},e.value||{}),{enableSelect:i}))}});return{t:o,template:l,enableCreate:d,enableSelect:c}}}),sz={key:1,class:"form-grid"},rz={class:"field full"},dz={class:"type-label"},uz={class:"field half-left"},cz={class:"type-label"},pz={class:"field half-right"},mz={class:"type-label"};function fz(e,t,o,l,d,c){const i=u("v-notice"),s=u("v-field-template"),r=u("v-checkbox");return e.collection===null?(m(),F(i,{key:0,class:"full",type:"warning"},{default:a(()=>[O(h(e.t("interfaces.list-o2m.no_collection")),1)]),_:1})):(m(),I("div",sz,[S("div",rz,[S("p",dz,h(e.t("interfaces.select-dropdown-m2o.display_template")),1),n(s,{modelValue:e.template,"onUpdate:modelValue":t[0]||(t[0]=p=>e.template=p),collection:e.collection,depth:1},null,8,["modelValue","collection"])]),S("div",uz,[S("p",cz,h(e.t("creating_items")),1),n(r,{modelValue:e.enableCreate,"onUpdate:modelValue":t[1]||(t[1]=p=>e.enableCreate=p),block:"",label:e.t("enable_create_button")},null,8,["modelValue","label"])]),S("div",pz,[S("p",mz,h(e.t("selecting_items")),1),n(r,{modelValue:e.enableSelect,"onUpdate:modelValue":t[2]||(t[2]=p=>e.enableSelect=p),block:"",label:e.t("enable_select_button")},null,8,["modelValue","label"])])]))}var _z=q(iz,[["render",fz]]);const vz=K({components:{DrawerItem:Nt},props:{collection:{type:String,required:!0},template:{type:String,required:!0},item:{type:Object,required:!0},primaryKeyField:{type:String,required:!0},disabled:{type:Boolean,default:!1},parentField:{type:String,required:!0}},emits:["deselect","input"],setup(){const{t:e}=ae(),t=D(!1);return{t:e,editActive:t}}}),yz=e=>(He("data-v-569bebef"),e=e(),Ge(),e),gz={class:"preview"},hz=yz(()=>S("div",{class:"spacer"},null,-1)),bz={key:0,class:"actions"};function $z(e,t,o,l,d,c){const i=u("render-template"),s=u("v-icon"),r=u("drawer-item"),p=Ce("tooltip");return m(),I("div",gz,[n(i,{collection:e.collection,template:e.template,item:e.item},null,8,["collection","template","item"]),hz,e.disabled?N("",!0):(m(),I("div",bz,[te(n(s,{name:"launch",clickable:"",onClick:t[0]||(t[0]=f=>e.editActive=!0)},null,512),[[p,e.t("edit")]]),te(n(s,{name:"clear",clickable:"",onClick:t[1]||(t[1]=f=>e.$emit("deselect"))},null,512),[[p,e.t("deselect")]])])),n(r,{active:e.editActive,"onUpdate:active":t[2]||(t[2]=f=>e.editActive=f),collection:e.collection,"primary-key":e.item[e.primaryKeyField]||"+",edits:e.item,"circular-field":e.parentField,onInput:t[3]||(t[3]=f=>e.$emit("input",f))},null,8,["active","collection","primary-key","edits","circular-field"])])}var kz=q(vz,[["render",$z],["__scopeId","data-v-569bebef"]]);const wz=K({name:"NestedDraggable",components:{Draggable:wt,ItemPreview:kz},props:{tree:{required:!0,type:Array,default:()=>[]},root:{type:Boolean,default:!1},collection:{type:String,required:!0},template:{type:String,required:!0},primaryKeyField:{type:String,required:!0},parentField:{type:String,required:!0},childrenField:{type:String,required:!0},disabled:{type:Boolean,default:!1}},emits:["change","input"],setup(e,{emit:t}){const o=D(!1),l=D(!1);return{drag:o,hideDragImage:Ut,editActive:l,dragOptions:{animation:150,group:"description",disabled:!1,ghostClass:"ghost"},replaceItem:d,removeItem:c,replaceChildren:i};function d(s,r){t("input",e.tree.map((p,f)=>f===s?r:p))}function c(s){t("input",e.tree.filter((r,p)=>p!==s))}function i(s,r){t("input",e.tree.map((p,f)=>f===s?ye(X({},p),{[e.childrenField]:r}):p))}}}),Cz={class:"row"};function Sz(e,t,o,l,d,c){const i=u("item-preview"),s=u("nested-draggable",!0),r=u("draggable");return m(),F(r,ct(e.dragOptions,{class:["drag-area",{root:e.root,drag:e.drag}],tag:"ul",list:e.tree,group:{name:"g1"},"item-key":"id",draggable:".row","set-data":e.hideDragImage,disabled:e.disabled,"force-fallback":!0,onStart:t[1]||(t[1]=p=>e.drag=!0),onEnd:t[2]||(t[2]=p=>e.drag=!1),onChange:t[3]||(t[3]=p=>e.$emit("change",p))}),{item:a(({element:p,index:f})=>[S("li",Cz,[n(i,{item:p,template:e.template,collection:e.collection,"primary-key-field":e.primaryKeyField,disabled:e.disabled,"parent-field":e.parentField,onInput:v=>e.replaceItem(f,v),onDeselect:v=>e.removeItem(f)},null,8,["item","template","collection","primary-key-field","disabled","parent-field","onInput","onDeselect"]),n(s,{tree:p[e.childrenField]||[],template:e.template,collection:e.collection,"primary-key-field":e.primaryKeyField,"parent-field":e.parentField,"children-field":e.childrenField,disabled:e.disabled,onChange:t[0]||(t[0]=v=>e.$emit("change",v)),onInput:v=>e.replaceChildren(f,v)},null,8,["tree","template","collection","primary-key-field","parent-field","children-field","disabled","onInput"])])]),_:1},16,["class","list","set-data","disabled"])}var Fz=q(wz,[["render",Sz],["__scopeId","data-v-44b865b0"]]);const Vz=K({components:{NestedDraggable:Fz,DrawerCollection:Qt,DrawerItem:Nt},props:{value:{type:Array,default:null},displayTemplate:{type:String,default:void 0},disabled:{type:Boolean,default:!1},collection:{type:String,required:!0},field:{type:String,required:!0},primaryKey:{type:[String,Number],default:void 0},enableCreate:{type:Boolean,default:!0},enableSelect:{type:Boolean,default:!0}},emits:["input"],setup(e,{emit:t}){const{t:o}=ae(),l=_t(),d=D([]),{relation:c}=A(),{info:i,primaryKeyField:s}=at(c.value.related_collection),{loading:r,error:p,stagedValues:f,fetchValues:v,emitValue:_}=g(),{stageSelection:y,selectDrawer:b}=L(),{addNewActive:w,addNew:$}=M(),k=E(()=>{var T,U,B;return e.displayTemplate||((U=(T=i.value)==null?void 0:T.meta)==null?void 0:U.display_template)||`{{${(B=s.value)==null?void 0:B.field}}}`});rt(v),_e(()=>e.primaryKey,v,{immediate:!0});const V=D(!1);return{t:o,relation:c,openItems:d,template:k,loading:r,error:p,stagedValues:f,fetchValues:v,primaryKeyField:s,onDraggableChange:R,hideDragImage:Ut,dragging:V,emitValue:_,stageSelection:y,selectDrawer:b,addNewActive:w,addNew:$};function g(){const T=D(!1),U=D(null),B=D([]);return{loading:T,error:U,stagedValues:B,fetchValues:z,emitValue:J,getFieldsToFetch:W};async function z(){var Q,G,x;if(!(!e.primaryKey||!c.value||e.primaryKey==="+")){if(((Q=e.value)==null?void 0:Q.length)>0&&e.value.every(ee=>typeof ee=="object")){B.value=e.value;return}T.value=!0;try{const ee=await de.get(`/items/${e.collection}/${encodeURIComponent(e.primaryKey)}`,{params:{fields:W()}});B.value=(x=(G=ee.data.data)==null?void 0:G[c.value.meta.one_field])!=null?x:[]}catch(ee){U.value=ee}finally{T.value=!1}}}function W(){var ee;const Q=[...new Set([(ee=s.value)==null?void 0:ee.field,c.value.meta.one_field,...vt(k.value)])],G=[],x=`${c.value.meta.one_field}.`;for(let ne=1;ne<=5;ne++)for(const ie of Q)G.push(`${x.repeat(ne)}${ie}`);return G}function J(Q){var x;if(B.value=Q,(x=c.value.meta)==null?void 0:x.sort_field)return t("input",G(Q));t("input",Q);function G(ee){return(ee||[]).map((ne,ie)=>ye(X({},ne),{[c.value.meta.sort_field]:ie+1,[c.value.meta.one_field]:G(ne[c.value.meta.one_field])}))}}}function A(){return{relation:E(()=>{var U;return(U=l.getRelationsForField(e.collection,e.field))==null?void 0:U[0]})}}function R(){_(f.value)}function L(){const T=D(!1),U=E(()=>{var J;const z=(J=s.value)==null?void 0:J.field;if(f.value===null||!z||!e.primaryKey)return[];return[e.primaryKey,...W(f.value)];function W(Q){const G=[];if(z)for(const x of Q){if(!x[z])continue;G.push(x[z]);const ee=W(x[c.value.meta.one_field]);G.push(...ee)}return G}});return{stageSelection:B,selectDrawer:T};async function B(z){var ne,ie,pe;r.value=!0;const W=z.filter(Y=>U.value.includes(Y)===!1),J=[...new Set([(ne=s.value)==null?void 0:ne.field,c.value.meta.one_field,...vt(k.value)])],Q=[],G=`${c.value.meta.one_field}.`;for(let Y=1;Y<=5;Y++)for(const Z of J)Q.push(`${G.repeat(Y)}${Z}`);if(!((ie=s.value)==null?void 0:ie.field))return;const ee=[...(await de.get(`/items/${e.collection}`,{params:{fields:[...J,...Q],filter:{[(pe=s.value)==null?void 0:pe.field]:{_in:W}}}})).data.data,...f.value];ee.length===0?_([]):_(ee),r.value=!1}}function M(){return{addNewActive:D(!1),addNew:U};function U(B){_([...f.value,B])}}}}),Ez={key:1,class:"tree-view"},Iz={key:0,class:"actions"};function Az(e,t,o,l,d,c){const i=u("v-notice"),s=u("nested-draggable"),r=u("v-button"),p=u("drawer-item"),f=u("drawer-collection");return e.relation.collection!==e.relation.related_collection?(m(),F(i,{key:0,type:"warning"},{default:a(()=>[O(h(e.t("interfaces.list-o2m-tree-view.recursive_only")),1)]),_:1})):(m(),I("div",Ez,[n(s,{template:e.template,collection:e.collection,tree:e.stagedValues||[],"primary-key-field":e.primaryKeyField.field,"children-field":e.relation.meta.one_field,"parent-field":e.relation.field,disabled:e.disabled,root:"",onChange:e.onDraggableChange,onInput:e.emitValue},null,8,["template","collection","tree","primary-key-field","children-field","parent-field","disabled","onChange","onInput"]),e.disabled?N("",!0):(m(),I("div",Iz,[e.enableCreate?(m(),F(r,{key:0,onClick:t[0]||(t[0]=v=>e.addNewActive=!0)},{default:a(()=>[O(h(e.t("create_new")),1)]),_:1})):N("",!0),e.enableSelect?(m(),F(r,{key:1,onClick:t[1]||(t[1]=v=>e.selectDrawer=!0)},{default:a(()=>[O(h(e.t("add_existing")),1)]),_:1})):N("",!0)])),e.disabled?N("",!0):(m(),F(p,{key:1,active:e.addNewActive,collection:e.collection,"primary-key":"+",edits:{},"circular-field":e.relation.field,onInput:e.addNew,"onUpdate:active":t[2]||(t[2]=v=>e.addNewActive=!1)},null,8,["active","collection","circular-field","onInput"])),e.disabled?N("",!0):(m(),F(f,{key:2,active:e.selectDrawer,"onUpdate:active":t[3]||(t[3]=v=>e.selectDrawer=v),collection:e.collection,selection:[],multiple:"",onInput:e.stageSelection},null,8,["active","collection","onInput"]))]))}var Dz=q(Vz,[["render",Az],["__scopeId","data-v-1d7230b5"]]),Oz=Me({id:"list-o2m-tree-view",name:"$t:tree_view",description:"$t:interfaces.list-o2m-tree-view.description",icon:"account_tree",types:["alias"],groups:["o2m"],relational:!0,component:Dz,options:_z}),Pz=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:Oz});class Ll{constructor(t,o){ft(this,"active");ft(this,"element");ft(this,"groupElement");this.className=t,this.callback=o,this.element=document.createElement("button"),this.element.className=this.className,this.element.onclick=o,this.active=!1}click(...t){this.callback(...t)}activate(t){this.element.classList[t?"add":"remove"]("active"),this.active=t}show(t){this.element.classList[t?"remove":"add"]("hidden")}onAdd(){return this.groupElement=document.createElement("div"),this.groupElement.className="mapboxgl-ctrl mapboxgl-ctrl-group",this.groupElement.appendChild(this.element),this.groupElement}onRemove(){var t;this.element.remove(),(t=this.groupElement)==null||t.remove()}}class Tz{constructor(t){ft(this,"groupElement");ft(this,"boxElement");ft(this,"selectButton");ft(this,"unselectButton");ft(this,"map");ft(this,"layers");ft(this,"selecting",!1);ft(this,"shiftPressed",!1);ft(this,"startPos");ft(this,"lastPos");ft(this,"onKeyDownHandler");ft(this,"onKeyUpHandler");ft(this,"onMouseDownHandler");ft(this,"onMouseMoveHandler");ft(this,"onMouseUpHandler");var o,l,d,c,i;this.layers=(o=t==null?void 0:t.layers)!=null?o:[],this.boxElement=document.createElement("div"),this.boxElement.className=(l=t==null?void 0:t.boxElementClass)!=null?l:"selection-box",this.groupElement=document.createElement("div"),this.groupElement.className=(d=t==null?void 0:t.groupElementClass)!=null?d:"mapboxgl-ctrl mapboxgl-ctrl-group",this.selectButton=new Ll((c=t==null?void 0:t.selectButtonClass)!=null?c:"ctrl-select",()=>{this.activate(!this.shiftPressed)}),this.unselectButton=new Ll((i=t==null?void 0:t.unselectButtonClass)!=null?i:"ctrl-unselect",()=>{this.reset(),this.activate(!1),this.map.fire("select.end",{features:[]})}),this.groupElement.appendChild(this.selectButton.element),this.groupElement.appendChild(this.unselectButton.element),this.onKeyDownHandler=this.onKeyDown.bind(this),this.onKeyUpHandler=this.onKeyUp.bind(this),this.onMouseDownHandler=this.onMouseDown.bind(this),this.onMouseMoveHandler=this.onMouseMove.bind(this),this.onMouseUpHandler=this.onMouseUp.bind(this)}onAdd(t){return this.map=t,this.map.boxZoom.disable(),this.map.getContainer().appendChild(this.boxElement),this.map.getContainer().addEventListener("pointerdown",this.onMouseDownHandler,!0),document.addEventListener("keydown",this.onKeyDownHandler),document.addEventListener("keyup",this.onKeyUpHandler),this.groupElement}onRemove(){this.map.boxZoom.enable(),this.boxElement.remove(),this.groupElement.remove(),this.map.getContainer().removeEventListener("pointerdown",this.onMouseDownHandler),document.removeEventListener("keydown",this.onKeyDownHandler),document.removeEventListener("keyup",this.onKeyUpHandler)}active(){return this.shiftPressed||this.selecting}getMousePosition(t){const o=this.map.getContainer(),l=o.getBoundingClientRect();return new Kt.exports.Point(t.clientX-l.left-o.clientLeft,t.clientY-l.top-o.clientTop)}onKeyDown(t){t.key=="Shift"&&this.activate(!0),t.key=="Escape"&&(this.reset(),this.activate(!1),this.map.fire("select.end",{features:[]}))}activate(t){this.shiftPressed=t,this.selectButton.activate(t),this.map.fire(`select.${t?"enable":"disable"}`)}showUnselect(t){this.unselectButton.show(t)}onKeyUp(t){t.key=="Shift"&&this.activate(!1)}onMouseDown(t){!this.shiftPressed||t.button===0&&(this.selecting=!0,this.map.dragPan.disable(),this.startPos=this.getMousePosition(t),this.lastPos=this.startPos,document.addEventListener("pointermove",this.onMouseMoveHandler),document.addEventListener("pointerup",this.onMouseUpHandler),this.map.fire("select.start"))}onMouseMove(t){this.lastPos=this.getMousePosition(t);const o=Math.min(this.startPos.x,this.lastPos.x),l=Math.max(this.startPos.x,this.lastPos.x),d=Math.min(this.startPos.y,this.lastPos.y),c=Math.max(this.startPos.y,this.lastPos.y),i=`translate(${o}px, ${d}px)`,s=l-o+"px",r=c-d+"px";this.updateBoxStyle({transform:i,width:s,height:r})}onMouseUp(t){this.reset();const o=this.map.queryRenderedFeatures([this.startPos,this.lastPos],{layers:this.layers});this.map.fire("select.end",{features:o,alt:t.altKey})}reset(){this.selecting=!1,this.updateBoxStyle({width:"0",height:"0",transform:""}),document.removeEventListener("pointermove",this.onMouseMoveHandler),document.removeEventListener("pointerup",this.onMouseUpHandler),this.map.dragPan.enable()}updateBoxStyle(t){this.boxElement.style.transform=t.transform,this.boxElement.style.width=t.width,this.boxElement.style.height=t.height}}function Ea(e,t){return[Math.min(e[0],t[0]),Math.min(e[1],t[1]),Math.max(e[2],t[0]),Math.max(e[3],t[1])]}function jl(e){let t=[1/0,1/0,-1/0,-1/0];return Js(e,o=>{t=Ea(t,o)}),t}function Si(e){switch(e){case"geometry":return"native";case"json":return"geojson";case"text":case"string":return"wkt";case"csv":return"lnglat";default:return}}function Lz(e){const{geometryFormat:t}=e;switch(t){case"native":case"geojson":return o=>o;case"wkt":return o=>Ys(o);case"lnglat":return o=>o.coordinates;default:throw new Error(We.global.t("interfaces.map.invalid_format",{format:t}))}}function jz(e){const{geometryFormat:t}=e;switch(t){case"native":case"geojson":return o=>o;case"wkt":return o=>Zs(o);case"lnglat":return o=>({type:"Point",coordinates:[Number(o[0]),Number(o[1])]});default:throw new Error(We.global.t("interfaces.map.invalid_format",{format:t}))}}function Fi(e){const t=jz(e);return function(o){const l=o[e.geometryField],d=l&&t(l);if(!!d)return d.bbox=jl(d),d}}function Rz(e,t){const o=Fi(t),l={type:"FeatureCollection",features:[],bbox:[1/0,1/0,-1/0,-1/0]};for(let d=0;d<e.length;d++){const c=o(e[d]);if(!c)continue;const[i,s,r,p]=c.bbox;l.bbox=Ea(l.bbox,[i,s]),l.bbox=Ea(l.bbox,[r,p]);const f=X({},e[d]);delete f[t.geometryField];const v={type:"Feature",properties:f,geometry:c};l.features.push(v)}return l.features.length==0&&delete l.bbox,l}function Vi(e){if(!e)return[];if(e.type=="GeometryCollection")return e.geometries.flatMap(Vi);if(e.type.startsWith("Multi")){const t=e.type.replace("Multi","");return e.coordinates.map(o=>({type:t,coordinates:o}))}return[e]}const Mz="#000000",Ei="#ffffff",dl="#00c897",yn="#ee9746";var Uz=[{id:"directus-polygon-fill-inactive",type:"fill",filter:["all",["==","active","false"],["==","$type","Polygon"],["!=","mode","static"]],paint:{"fill-color":dl,"fill-outline-color":dl,"fill-opacity":.1}},{id:"directus-polygon-fill-active",type:"fill",filter:["all",["==","active","true"],["==","$type","Polygon"]],paint:{"fill-color":yn,"fill-outline-color":yn,"fill-opacity":.1}},{id:"directus-polygon-midpoint",type:"circle",filter:["all",["==","$type","Point"],["==","meta","midpoint"]],paint:{"circle-radius":3,"circle-color":yn}},{id:"directus-polygon-stroke-inactive",type:"line",filter:["all",["==","active","false"],["==","$type","Polygon"],["!=","mode","static"]],layout:{"line-cap":"round","line-join":"round"},paint:{"line-color":dl,"line-width":2}},{id:"directus-polygon-stroke-active",type:"line",filter:["all",["==","active","true"],["==","$type","Polygon"]],layout:{"line-cap":"round","line-join":"round"},paint:{"line-color":yn,"line-dasharray":[.2,2],"line-width":2}},{id:"directus-line-inactive",type:"line",filter:["all",["==","active","false"],["==","$type","LineString"],["!=","mode","static"]],layout:{"line-cap":"round","line-join":"round"},paint:{"line-color":dl,"line-width":2}},{id:"directus-line-active",type:"line",filter:["all",["==","$type","LineString"],["==","active","true"]],layout:{"line-cap":"round","line-join":"round"},paint:{"line-color":yn,"line-dasharray":[.2,2],"line-width":2}},{id:"directus-polygon-and-line-vertex-stroke-inactive",type:"circle",filter:["all",["==","meta","vertex"],["==","$type","Point"],["!=","mode","static"]],paint:{"circle-radius":5,"circle-color":"#fff"}},{id:"directus-polygon-and-line-vertex-inactive",type:"circle",filter:["all",["==","meta","vertex"],["==","$type","Point"],["!=","mode","static"]],paint:{"circle-radius":3,"circle-color":yn}},{id:"directus-point-shadow",filter:["all",["==","$type","Point"],["==","meta","feature"],["!=","meta","midpoint"]],type:"circle",layout:{},paint:{"circle-radius":10,"circle-blur":1,"circle-opacity":.9,"circle-color":Mz}},{id:"directus-point-inactive",filter:["all",["==","$type","Point"],["==","active","false"],["==","meta","feature"],["!=","meta","midpoint"]],type:"circle",layout:{},paint:{"circle-radius":6,"circle-color":dl,"circle-stroke-color":Ei,"circle-stroke-width":2}},{id:"directus-point-active",filter:["all",["==","$type","Point"],["==","active","true"],["==","meta","feature"],["!=","meta","midpoint"]],type:"circle",layout:{},paint:{"circle-radius":6,"circle-color":yn,"circle-stroke-color":Ei,"circle-stroke-width":2}},{id:"directus-point-static",type:"circle",filter:["all",["==","$type","Point"],["==","mode","static"],["==","meta","feature"],["!=","meta","midpoint"]],layout:{},paint:{"circle-radius":6,"circle-color":"#404040","circle-stroke-color":"#101010","circle-stroke-width":2}},{id:"directus-polygon-fill-static",type:"fill",filter:["all",["==","mode","static"],["==","$type","Polygon"]],paint:{"fill-color":"#404040","fill-outline-color":"#404040","fill-opacity":.1}},{id:"directus-polygon-stroke-static",type:"line",filter:["all",["==","mode","static"],["==","$type","Polygon"]],layout:{"line-cap":"round","line-join":"round"},paint:{"line-color":"#404040","line-width":2}},{id:"directus-line-static",type:"line",filter:["all",["==","mode","static"],["==","$type","LineString"]],layout:{"line-cap":"round","line-join":"round"},paint:{"line-color":"#404040","line-width":2}}];const Nz=K({props:{type:{type:String,default:null},fieldData:{type:Object,default:void 0},value:{type:[Object,Array,String],default:null},loading:{type:Boolean,default:!0},disabled:{type:Boolean,default:!1},geometryFormat:{type:String,default:void 0},geometryType:{type:String,default:void 0},defaultView:{type:Object,default:()=>({})}},emits:["input"],setup(e,{emit:t}){var J,Q,G;const{t:o}=ae(),l=D(null);let d,c=D(!0),i;const s=D(),r=D(),p=(G=(Q=(J=e.fieldData)==null?void 0:J.schema)==null?void 0:Q.geometry_type)!=null?G:e.geometryType,f=e.geometryFormat||Si(e.type),v=ll(),_=$t(),{basemap:y}=Re(_),b=E(()=>{var ee;const x=(ee=v.find(ne=>ne.name==y.value))!=null?ee:v[0];return y.value,va(x)});let w,$;try{w=Fi({geometryFormat:f,geometryField:"value"}),$=Lz({geometryFormat:f,geometryField:"value"})}catch(x){s.value=x}const k=En("mapbox_key"),V={draw:new ml(L(p)),fitData:new Ll("mapboxgl-ctrl-fitdata",R),navigation:new Kt.exports.NavigationControl({showCompass:!1}),geolocate:new Kt.exports.GeolocateControl};return rt(()=>{const x=g();Ct(x)}),{t:o,container:l,mapLoading:c,resetValue:A,geometryParsingError:r,geometryOptionsError:s,basemaps:v,basemap:y};function g(){return d=new Kt.exports.Map(X(X({container:l.value,style:b.value,attributionControl:!1,dragRotate:!1,logoPosition:"bottom-right"},e.defaultView),k?{accessToken:k}:{})),d.addControl(V.navigation,"top-left"),d.addControl(V.geolocate,"top-left"),d.addControl(V.fitData,"top-left"),d.addControl(V.draw,"top-left"),k&&d.addControl(new Za({accessToken:k,marker:!1}),"top-right"),d.on("load",async()=>{d.resize(),c.value=!1,d.on("draw.create",z),d.on("draw.delete",z),d.on("draw.update",z),d.on("draw.modechange",B),window.addEventListener("keydown",W)}),_e(()=>e.value,x=>{if(x)H.exports.isEqual(x,i&&$(i))||(T(),V.draw.changeMode("simple_select"));else if(V.draw.deleteAll(),i=null,p){const ne=`draw_${H.exports.snakeCase(p.replace("Multi",""))}`;V.draw.changeMode(ne)}e.disabled&&V.draw.changeMode("static")},{immediate:!0}),_e(()=>b.value,async()=>{d.removeControl(V.draw),d.setStyle(b.value,{diff:!1}),V.draw=new ml(L(p)),d.addControl(V.draw,"top-left"),T()}),_e(()=>e.disabled,()=>{d.removeControl(V.draw),V.draw=new ml(L(p)),d.addControl(V.draw,"top-left"),T()}),()=>{window.removeEventListener("keydown",W),d.remove()}}function A(x){r.value=void 0,x&&t("input",null)}function R(x){d&&i&&d.fitBounds(i.bbox,X({padding:80,maxZoom:8},x))}function L(x){const ee={styles:Uz,controls:{},userProperties:!0,displayControlsDefault:!1,modes:Object.assign(ml.modes,{static:xs})};if(e.disabled)return ee;if(x){const ne=H.exports.snakeCase(x.replace("Multi",""));return ee.controls[ne]=!0,ee.controls.trash=!0,ee}else return ee.controls.line_string=!0,ee.controls.polygon=!0,ee.controls.point=!0,ee.controls.trash=!0,ee}function M(x,ee){return!x||!ee?!0:x.startsWith("Multi")?x.replace("Multi","")==ee.replace("Multi",""):x==ee}function T(){try{V.draw.deleteAll();const x=w(e);if(!x)return;!e.disabled&&!M(p,x.type)&&(r.value=o("interfaces.map.unexpected_geometry",{expected:p,got:x.type}));const ee=Vi(x);for(const ne of ee)V.draw.add(ne);if(i=U(),i.bbox=jl(i),r.value){const ne=jl(x);d.fitBounds(ne,{padding:0,maxZoom:8,duration:0})}else R({duration:0})}catch(x){r.value=x}}function U(){const ee=V.draw.getAll().features.map(ie=>ie.geometry);let ne;if(ee.length==0)return null;if(!p)ee.length>1?ne={type:"GeometryCollection",geometries:ee}:ne=ee[0];else if(p.startsWith("Multi")){const ie=ee.filter(({type:pe})=>`Multi${pe}`==p).map(({coordinates:pe})=>pe);ne={type:p,coordinates:ie}}else ne=ee[ee.length-1];return ne.bbox=jl(ne),ne}function B(x){if(!e.disabled&&x.mode.startsWith("draw")&&p&&!p.startsWith("Multi"))for(const ee of V.draw.getAll().features.slice(0,-1))V.draw.delete(ee.id)}function z(){i=U(),i?t("input",$(i)):(V.draw.deleteAll(),t("input",null))}function W(x){[8,46].includes(x.keyCode)&&V.draw.trash()}}}),Bz={class:"interface-map"},qz={ref:"container"},zz={class:"mapboxgl-ctrl-group mapboxgl-ctrl mapboxgl-ctrl-dropdown basemap-select"};function Kz(e,t,o,l,d,c){const i=u("v-icon"),s=u("v-select"),r=u("v-notice"),p=u("v-info"),f=u("v-button"),v=u("v-card-actions");return m(),I("div",Bz,[S("div",{class:re(["map",{loading:e.mapLoading,error:e.geometryParsingError||e.geometryOptionsError}])},[S("div",qz,null,512)],2),S("div",zz,[n(i,{name:"map"}),n(s,{modelValue:e.basemap,"onUpdate:modelValue":t[0]||(t[0]=_=>e.basemap=_),inline:"",items:e.basemaps.map(_=>({text:_.name,value:_.name}))},null,8,["modelValue","items"])]),n(qt,{name:"fade"},{default:a(()=>[e.geometryOptionsError?(m(),F(p,{key:0,icon:"error",center:"",type:"danger",title:e.t("interfaces.map.invalid_options")},{default:a(()=>[n(r,{type:"danger",icon:!1},{default:a(()=>[O(h(e.geometryOptionsError),1)]),_:1})]),_:1},8,["title"])):e.geometryParsingError?(m(),F(p,{key:1,icon:"error",center:"",type:"warning",title:e.t("layouts.map.invalid_geometry")},{append:a(()=>[n(v,null,{default:a(()=>[n(f,{small:"",secondary:"",onClick:t[1]||(t[1]=_=>e.resetValue(!1))},{default:a(()=>[O(h(e.t("continue")),1)]),_:1}),n(f,{small:"",kind:"danger",onClick:t[2]||(t[2]=_=>e.resetValue(!0))},{default:a(()=>[O(h(e.t("reset")),1)]),_:1})]),_:1})]),default:a(()=>[n(r,{type:"warning",icon:!1},{default:a(()=>[O(h(e.geometryParsingError),1)]),_:1})]),_:1},8,["title"])):N("",!0)]),_:1})])}var Wz=q(Nz,[["render",Kz],["__scopeId","data-v-01bc881c"]]);const Hz=K({props:{collection:{type:String,required:!0},fieldData:{type:Object,default:null},value:{type:Object,default:null}},emits:["input"],setup(e,{emit:t}){var w,$;const{t:o}=ae(),l=e.fieldData.type=="geometry",d=l?e.fieldData.schema.geometry_type:void 0,c=l?"native":Si(e.fieldData.type),i=D(c.value=="lnglat"?"Point":d!=null?d:(w=e.value)==null?void 0:w.geometryType),s=D(($=e.value)==null?void 0:$.defaultView);_e([i,s],()=>{const k=c=="lnglat"?"Point":i;t("input",{defaultView:s,geometryFormat:c,geometryType:k})},{immediate:!0});const r=D(null);let p;const f=En("mapbox_key"),v=ll(),_=$t(),{basemap:y}=Re(_),b=E(()=>{var V;const k=(V=v.find(g=>g.name==y.value))!=null?V:v[0];return va(k)});return rt(()=>{p=new Kt.exports.Map(X(X({container:r.value,style:b.value,attributionControl:!1},s.value||{}),f?{accessToken:f}:{})),p.on("moveend",()=>{s.value={center:p.getCenter(),zoom:p.getZoom(),bearing:p.getBearing(),pitch:p.getPitch()}})}),Ct(()=>{p.remove()}),{t:o,isGeometry:l,nativeGeometryType:d,geometryFormat:c,GEOMETRY_TYPES:ao,geometryType:i,mapContainer:r}}}),Gz={class:"form-grid"},Qz={key:0,class:"field half-left"},Xz={class:"type-label"},Jz={class:"field"},Yz={class:"type-label"},Zz={ref:"mapContainer",class:"map"};function xz(e,t,o,l,d,c){const i=u("v-select");return m(),I("div",Gz,[!e.nativeGeometryType&&e.geometryFormat!=="lnglat"?(m(),I("div",Qz,[S("div",Xz,h(e.t("interfaces.map.geometry_type")),1),n(i,{modelValue:e.geometryType,"onUpdate:modelValue":t[0]||(t[0]=s=>e.geometryType=s),placeholder:e.t("any"),"show-deselect":!0,items:e.GEOMETRY_TYPES.map(s=>({value:s,text:s}))},null,8,["modelValue","placeholder","items"])])):N("",!0),S("div",Jz,[S("div",Yz,h(e.t("interfaces.map.default_view")),1),S("div",Zz,null,512)])])}var eK=q(Hz,[["render",xz],["__scopeId","data-v-188d0e68"]]),tK=Me({id:"map",name:"$t:interfaces.map.map",description:"$t:interfaces.map.description",icon:"map",component:Wz,types:["geometry","json","string","text","binary","csv"],options:eK,recommendedDisplays:[]}),nK=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:tK});const lK=K({props:{color:{type:String,default:null},icon:{type:String,default:null},title:{type:String,default:null},inlineTitle:{type:Boolean,default:!1},marginTop:{type:Boolean,default:!0}}});function aK(e,t,o,l,d,c){const i=u("v-icon"),s=u("v-divider");return m(),F(s,{class:re({"add-margin-top":e.marginTop}),style:Ke({"--v-divider-label-color":e.color,"--v-divider-color":"var(--border-subdued)"}),large:"","inline-title":e.inlineTitle},Ne({_:2},[e.icon?{name:"icon",fn:a(()=>[n(i,{name:e.icon},null,8,["name"])])}:void 0,e.title?{name:"default",fn:a(()=>[O(h(e.title),1)])}:void 0]),1032,["class","style","inline-title"])}var oK=q(lK,[["render",aK],["__scopeId","data-v-63cedea8"]]),iK=Me({id:"presentation-divider",name:"$t:interfaces.presentation-divider.divider",description:"$t:interfaces.presentation-divider.description",icon:"remove",component:oK,hideLabel:!0,hideLoader:!0,types:["alias"],groups:["presentation"],options:[{field:"color",name:"$t:color",type:"string",meta:{width:"half",interface:"select-color"}},{field:"icon",name:"$t:icon",type:"string",meta:{width:"half",interface:"select-icon"}},{field:"title",name:"$t:title",type:"string",meta:{width:"full",interface:"input",options:{placeholder:"$t:interfaces.presentation-divider.title_placeholder"}}},{field:"marginTop",name:"$t:interfaces.presentation-divider.margin_top",type:"boolean",meta:{width:"half",interface:"boolean",options:{label:"$t:interfaces.presentation-divider.margin_top_label"}},schema:{default_value:!0}},{field:"inlineTitle",name:"$t:interfaces.presentation-divider.inline_title",type:"boolean",meta:{width:"half",interface:"boolean",options:{label:"$t:interfaces.presentation-divider.inline_title_label"}},schema:{default_value:!1}}]}),sK=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:iK});const rK=K({props:{disabled:{type:Boolean,default:!1},links:{type:Array,default:null}},setup(e){const t=ht("values",D({}));return{linksParsed:E(()=>e.links.map(l=>{var i;const d=H.exports.omit(l,["url"]),c=Mn((i=l.url)!=null?i:"",t.value);return c.startsWith("/")?d.to=c:d.href=c,d}))}}}),dK={class:"presentation-links"},uK={key:1};function cK(e,t,o,l,d,c){const i=u("v-icon"),s=u("v-button");return m(),I("div",dK,[(m(!0),I(oe,null,he(e.linksParsed,(r,p)=>(m(),F(s,{key:p,class:re(["action",[r.type]]),secondary:r.type!=="primary",disabled:e.disabled,icon:!r.label,href:r.href,to:r.to},{default:a(()=>[r.icon?(m(),F(i,{key:0,left:"",name:r.icon},null,8,["name"])):N("",!0),r.label?(m(),I("span",uK,h(r.label),1)):N("",!0)]),_:2},1032,["class","secondary","disabled","icon","href","to"]))),128))])}var pK=q(rK,[["render",cK],["__scopeId","data-v-406a838a"]]);const mK=K({props:{collection:{type:String,required:!0},fieldData:{type:Object,default:null},value:{type:Object,default:null}},emits:["input"],setup(e,{emit:t}){const{t:o}=ae(),l=E({get(){var c;return(c=e.value)==null?void 0:c.links},set(c){t("input",ye(X({},e.value||{}),{links:c}))}}),d=E(()=>[{field:"label",type:"string",name:"$t:label",meta:{width:"full",interface:"input",options:{placeholder:"$t:label"}}},{field:"icon",name:"$t:icon",type:"string",meta:{width:"half",interface:"select-icon"}},{field:"type",name:"$t:type",type:"string",meta:{width:"half",interface:"select-dropdown",default_value:"normal",options:{choices:[{text:"$t:primary",value:"primary"},{text:"$t:normal",value:"normal"},{text:"$t:info",value:"info"},{text:"$t:success",value:"success"},{text:"$t:warning",value:"warning"},{text:"$t:danger",value:"danger"}]}},schema:{default_value:"normal"}},{field:"url",type:"string",name:"$t:url",meta:{width:"full",interface:"system-display-template",options:{collectionName:e.collection,font:"monospace",placeholder:"https://example.com/articles/{{ id }}/{{ slug }}"}}}]);return{t:o,links:l,fields:d}}}),fK={class:"form-grid"},_K={class:"field full"},vK={class:"type-label"};function yK(e,t,o,l,d,c){const i=u("interface-list");return m(),I("div",fK,[S("div",_K,[S("p",vK,h(e.t("interfaces.presentation-links.links")),1),n(i,{collection:e.collection,value:e.links,placeholder:e.t("title"),template:"{{ label }}",fields:e.fields,onInput:t[0]||(t[0]=s=>e.links=s)},null,8,["collection","value","placeholder","fields"])])])}var gK=q(mK,[["render",yK],["__scopeId","data-v-756d56ae"]]),hK=Me({id:"presentation-links",name:"$t:interfaces.presentation-links.presentation-links",description:"$t:interfaces.presentation-links.description",icon:"smart_button",component:pK,hideLabel:!0,hideLoader:!0,types:["alias"],groups:["presentation"],options:gK}),bK=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:hK});const $K=K({props:{color:{type:String,default:"normal"},icon:{type:String,default:"info"},text:{type:String,default:"No text configured..."}}}),kK={class:"presentation-notice"};function wK(e,t,o,l,d,c){const i=u("v-notice"),s=Ce("md");return m(),I("div",kK,[n(i,{icon:e.icon,type:e.color},{default:a(()=>[te(S("div",null,null,512),[[s,e.text]])]),_:1},8,["icon","type"])])}var CK=q($K,[["render",wK]]),SK=Me({id:"presentation-notice",name:"$t:interfaces.presentation-notice.notice",description:"$t:interfaces.presentation-notice.description",icon:"info",component:CK,hideLabel:!0,hideLoader:!0,types:["alias"],groups:["presentation"],options:[{field:"color",name:"$t:color",type:"string",meta:{width:"half",interface:"select-dropdown",options:{choices:[{text:"$t:normal",value:"normal"},{text:"$t:info",value:"info"},{text:"$t:success",value:"success"},{text:"$t:warning",value:"warning"},{text:"$t:danger",value:"danger"}]}},schema:{default_value:"normal"}},{field:"icon",name:"$t:icon",type:"string",meta:{width:"half",interface:"select-icon"}},{field:"text",name:"$t:text",type:"string",meta:{width:"full",interface:"input-multiline",options:{placeholder:"$t:interfaces.presentation-notice.text"}}}]}),FK=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:SK});const VK=K({props:{disabled:{type:Boolean,default:!1},value:{type:String,default:null,validator:e=>e===null||e===""||Tl(e)},placeholder:{type:String,default:null},presets:{type:Array,default:()=>[{name:"Red",color:"#E35169"},{name:"Orange",color:"#F7971C"},{name:"Yellow",color:"#F2C94C"},{name:"Green",color:"#00C897"},{name:"Blue",color:"#68B0F4"},{name:"Purple",color:"#9E8DE4"},{name:"Gray",color:"#607D8B"},{name:"Light Gray",color:"#ECEFF1"},{name:"White",color:"#FFFFFF"}]},width:{type:String,required:!0}},emits:["input"],setup(e,{emit:t}){const{t:o}=ae(),l=D(null),d=["RGB","HSL"],c=D("RGB");function i(){t("input",null)}function s(){var $;(($=l.value)==null?void 0:$.$el).getElementsByTagName("input")[0].click()}const r=E(()=>v.value!==null&&e.value!==null),p=E(()=>{if(y.value===null)return!0;const $=getComputedStyle(document.body).getPropertyValue("--background-page").trim(),k=zt($);return y.value.contrast(k)<1.1}),{hsl:f,rgb:v,hex:_,color:y}=w();return{t:o,colorTypes:d,colorType:c,rgb:v,hsl:f,hex:_,htmlColorInput:l,activateColorPicker:s,isValidColor:r,Color:zt,setValue:b,lowContrast:p,unsetColor:i};function b($,k,V){if($==="rgb"){const g=[...v.value];g[k]=V,v.value=g}else{const g=[...f.value];g[k]=V,f.value=g}}function w(){const $=D(null);_e(()=>e.value,R=>{$.value=R!==null?zt(R):null},{immediate:!0});const k=E({get(){return $.value!==null?$.value.rgb().array().map(Math.round):[0,0,0]},set(R){A(zt.rgb(R))}}),V=E({get(){return $.value!==null?$.value.hsl().array().map(Math.round):[0,0,0]},set(R){A(zt.hsl(R))}}),g=E({get(){return $.value!==null?$.value.hex():null},set(R){if(R===null||R==="")i();else{if(Tl(R)===!1)return;A(zt(R))}}});return{rgb:k,hsl:V,hex:g,color:$};function A(R){$.value=R,R===null?i():t("input",R.hex())}}}}),EK={class:"color-data-input color-type"},IK={key:0,class:"presets"};function AK(e,t,o,l,d,c){const i=u("v-input"),s=u("v-icon"),r=u("v-button"),p=u("v-select"),f=u("v-menu"),v=Ce("tooltip");return m(),F(f,{attached:"",disabled:e.disabled,"close-on-content-click":!1},{activator:a(({activate:_})=>[n(i,{modelValue:e.hex,"onUpdate:modelValue":t[1]||(t[1]=y=>e.hex=y),disabled:e.disabled,placeholder:e.placeholder||e.t("interfaces.select-color.placeholder"),pattern:/#([a-f\d]{2}){3}/i,class:"color-input",maxlength:"7",onFocus:_},{prepend:a(()=>[n(i,{ref:"htmlColorInput",modelValue:e.hex,"onUpdate:modelValue":t[0]||(t[0]=y=>e.hex=y),type:"color",class:"html-color-select"},null,8,["modelValue"]),n(r,{class:"swatch",icon:!0,style:Ke({"--v-button-background-color":e.isValidColor?e.hex:"transparent",border:e.lowContrast===!1?"none":"var(--border-width) solid var(--border-normal)"}),onClick:e.activateColorPicker},{default:a(()=>[e.isValidColor?N("",!0):(m(),F(s,{key:0,name:"colorize"}))]),_:1},8,["style","onClick"])]),append:a(()=>[n(s,{name:e.isValidColor?"close":"palette",clickable:"",onClick:e.unsetColor},null,8,["name","onClick"])]),_:2},1032,["modelValue","disabled","placeholder","pattern","onFocus"])]),default:a(()=>[S("div",{class:re(["color-data-inputs",{stacked:e.width==="half"}])},[S("div",EK,[n(p,{modelValue:e.colorType,"onUpdate:modelValue":t[2]||(t[2]=_=>e.colorType=_),items:e.colorTypes},null,8,["modelValue","items"])]),e.colorType==="RGB"?(m(!0),I(oe,{key:0},he(e.rgb,(_,y)=>(m(),F(i,{key:y,type:"number","model-value":_,class:"color-data-input",pattern:"\\d*",min:0,max:255,step:1,maxlength:"3","onUpdate:modelValue":b=>e.setValue("rgb",y,b)},null,8,["model-value","onUpdate:modelValue"]))),128)):N("",!0),e.colorType==="HSL"?(m(!0),I(oe,{key:1},he(e.hsl,(_,y)=>(m(),F(i,{key:y,type:"number","model-value":_,class:"color-data-input",pattern:"\\d*",min:0,max:y===0?360:100,step:1,maxlength:"3","onUpdate:modelValue":b=>e.setValue("hsl",y,b)},null,8,["model-value","max","onUpdate:modelValue"]))),128)):N("",!0)],2),e.presets?(m(),I("div",IK,[(m(!0),I(oe,null,he(e.presets,_=>te((m(),F(r,{key:_.color,class:"preset",rounded:"",icon:"",style:Ke({"--v-button-background-color":_.color}),onClick:()=>e.hex=_.color},null,8,["style","onClick"])),[[v,_.name]])),128))])):N("",!0)]),_:1},8,["disabled"])}var DK=q(VK,[["render",AK],["__scopeId","data-v-72f9a081"]]),OK=Me({id:"select-color",name:"$t:interfaces.select-color.color",description:"$t:interfaces.select-color.description",icon:"palette",component:DK,types:["string"],recommendedDisplays:["color"],options:[{field:"presets",name:"$t:interfaces.select-color.preset_colors",type:"string",meta:{width:"full",interface:"list",options:{addLabel:"$t:interfaces.select-color.preset_colors_add_label",template:"{{ name }} - {{ color }}",fields:[{field:"name",type:"string",name:"$t:name",meta:{interface:"input",width:"half",options:{placeholder:"$t:interfaces.select-color.name_placeholder"}}},{field:"color",type:"string",name:"$t:color",meta:{interface:"select-color",width:"half"}}]}}}]}),PK=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:OK});const TK=K({props:{disabled:{type:Boolean,default:!1},value:{type:String,default:null},choices:{type:Array,default:null},icon:{type:String,default:null},allowNone:{type:Boolean,default:!1},placeholder:{type:String,default:()=>We.global.t("select_an_item")},allowOther:{type:Boolean,default:!1}},emits:["input"],setup(){const{t:e}=ae();return{t:e}}});function LK(e,t,o,l,d,c){const i=u("v-notice"),s=u("v-icon"),r=u("v-select");return e.choices?(m(),F(r,{key:1,"model-value":e.value,items:e.choices,disabled:e.disabled,"show-deselect":e.allowNone,placeholder:e.placeholder,"allow-other":e.allowOther,"onUpdate:modelValue":t[0]||(t[0]=p=>e.$emit("input",p))},Ne({_:2},[e.icon?{name:"prepend",fn:a(()=>[n(s,{name:e.icon},null,8,["name"])])}:void 0]),1032,["model-value","items","disabled","show-deselect","placeholder","allow-other"])):(m(),F(i,{key:0,type:"warning"},{default:a(()=>[O(h(e.t("choices_option_configured_incorrectly")),1)]),_:1}))}var jK=q(TK,[["render",LK]]),RK=Me({id:"select-dropdown",name:"$t:dropdown",description:"$t:interfaces.select-dropdown.description",icon:"arrow_drop_down_circle",component:jK,types:["string"],options:[{field:"choices",type:"json",name:"$t:choices",meta:{width:"full",interface:"list",options:{placeholder:"$t:interfaces.select-dropdown.choices_placeholder",template:"{{ text }}",fields:[{field:"text",type:"string",name:"$t:text",meta:{interface:"input",width:"half",options:{placeholder:"$t:interfaces.select-dropdown.choices_name_placeholder"}}},{field:"value",type:"string",name:"$t:value",meta:{interface:"input",options:{font:"monospace",placeholder:"$t:interfaces.select-dropdown.choices_value_placeholder"},width:"half"}}]}}},{field:"allowOther",name:"$t:interfaces.select-dropdown.allow_other",type:"boolean",meta:{width:"half",interface:"boolean",options:{label:"$t:interfaces.select-dropdown.allow_other_label"}},schema:{default_value:!1}},{field:"allowNone",name:"$t:interfaces.select-dropdown.allow_none",type:"boolean",meta:{width:"half",interface:"boolean",options:{label:"$t:interfaces.select-dropdown.allow_none_label"}},schema:{default_value:!1}},{field:"icon",name:"$t:icon",type:"string",meta:{width:"half",interface:"select-icon"}},{field:"placeholder",name:"$t:placeholder",type:"string",meta:{width:"half",interface:"input",options:{placeholder:"$t:enter_a_placeholder"}}}],recommendedDisplays:["labels"]}),MK=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:RK});const UK=K({components:{DrawerItem:Nt,DrawerCollection:Qt},props:{value:{type:[Number,String,Object],default:null},collection:{type:String,required:!0},field:{type:String,required:!0},template:{type:String,default:null},selectMode:{type:String,default:"auto"},disabled:{type:Boolean,default:!1}},emits:["input"],setup(e,{emit:t}){const{t:o}=ae(),{collection:l}=Re(e),d=_t(),c=qe(),{relation:i,relatedCollection:s,relatedPrimaryKeyField:r}=G(),{usesMenu:p,menuActive:f}=x(),{info:v}=at(l),{selection:_,stageSelection:y,selectModalActive:b}=ne(),{displayTemplate:w,onPreviewClick:$,requiredFields:k}=ee(),{totalCount:V,loading:g,fetchItems:A,items:R}=Q(),{setCurrent:L,currentItem:M,loading:T,currentPrimaryKey:U}=J(),{edits:B,stageEdits:z}=ie(),W=D(!1);return{t:o,collectionInfo:v,currentItem:M,displayTemplate:w,items:R,itemsLoading:g,loadingCurrent:T,menuActive:f,onPreviewClick:$,relatedCollection:s,relation:i,selection:_,selectModalActive:b,setCurrent:L,totalCount:V,stageSelection:y,useMenu:x,currentPrimaryKey:U,edits:B,stageEdits:z,editModalActive:W,relatedPrimaryKeyField:r};function J(){const pe=D(null),Y=D(!1);_e(()=>e.value,ce=>{var ve;ce!==null&&ce!==((ve=pe.value)==null?void 0:ve[r.value.field])&&(typeof ce=="string"||typeof ce=="number")&&le(),ce===null&&(pe.value=null)},{immediate:!0});const Z=E(()=>{var ce,ve,ue;return!pe.value||!e.value||!r.value?"+":typeof e.value=="number"||typeof e.value=="string"?e.value:typeof e.value=="object"&&r.value.field in((ce=e.value)!=null?ce:{})&&(ue=(ve=e.value)==null?void 0:ve[r.value.field])!=null?ue:"+"});return{setCurrent:se,currentItem:pe,loading:Y,currentPrimaryKey:Z};function se(ce){!r.value||(pe.value=ce,t("input",ce[r.value.field]))}async function le(){if(!r.value||!s.value)return;Y.value=!0;const ce=k.value||[];ce.includes(r.value.field)===!1&&ce.push(r.value.field);try{const ve=s.value.collection.startsWith("directus_")?`/${s.value.collection.substring(9)}/${e.value}`:`/items/${s.value.collection}/${encodeURIComponent(e.value)}`,ue=await de.get(ve,{params:{fields:ce}});pe.value=ue.data.data}catch(ve){Fe(ve)}finally{Y.value=!1}}}function Q(){const pe=D(null),Y=D(null),Z=D(!1);return _e(s,()=>{le(),Y.value=null}),{totalCount:pe,fetchItems:se,items:Y,loading:Z};async function se(){if(Y.value!==null||!s.value||!r.value)return;Z.value=!0;const ce=k.value||[];ce.includes(r.value.field)===!1&&ce.push(r.value.field);try{const ve=s.value.collection.startsWith("directus_")?`/${s.value.collection.substring(9)}`:`/items/${s.value.collection}`,ue=await de.get(ve,{params:{fields:ce,limit:-1}});Y.value=ue.data.data}catch(ve){Fe(ve)}finally{Z.value=!1}}async function le(){if(!s.value)return;const ce=s.value.collection.startsWith("directus_")?`/${s.value.collection.substring(9)}`:`/items/${s.value.collection}`,ve=await de.get(ce,{params:{limit:0,meta:"total_count"}});pe.value=ve.data.meta.total_count}}function G(){const pe=E(()=>{var le;return(le=d.getRelationsForField(e.collection,e.field))==null?void 0:le[0]}),Y=E(()=>{var le;return((le=pe.value)==null?void 0:le.related_collection)?c.getCollection(pe.value.related_collection):null}),Z=E(()=>{var le,ce;return(ce=(le=Y.value)==null?void 0:le.collection)!=null?ce:null}),{primaryKeyField:se}=at(Z);return{relation:pe,relatedCollection:Y,relatedPrimaryKeyField:se}}function x(){const pe=D(!1),Y=E(()=>e.selectMode==="modal"?!1:e.selectMode==="dropdown"||V.value!==null&&V.value<=100);return{menuActive:pe,usesMenu:Y}}function ee(){const pe=E(()=>{var se,le,ce;return e.template!==null?e.template:((le=(se=v.value)==null?void 0:se.meta)==null?void 0:le.display_template)||`{{ ${((ce=r==null?void 0:r.value)==null?void 0:ce.field)||""} }}`}),Y=E(()=>!pe.value||!s.value?null:Xt(vt(pe.value),s.value.collection));return{onPreviewClick:Z,displayTemplate:pe,requiredFields:Y};function Z(){if(!e.disabled)if(p.value===!0){const se=!f.value;f.value=se,se===!0&&A()}else b.value=!0}}function ne(){const pe=D(!1);return{selection:E(()=>{var se;return e.value?r.value?typeof e.value=="object"&&r.value.field in((se=e.value)!=null?se:{})?[e.value[r.value.field]]:typeof e.value=="string"||typeof e.value=="number"?[e.value]:[]:[]:[]}),stageSelection:Z,selectModalActive:pe};function Z(se){se.length===0?t("input",null):t("input",se[0])}}function ie(){return{edits:E(()=>e.value&&typeof e.value=="object"?e.value:{}),stageEdits:Y};function Y(Z){!r.value||(U.value&&U.value!=="+"?t("input",X({[r.value.field]:U.value},Z)):(r.value.field in Z&&Z[r.value.field]==="+"&&delete Z[r.value.field],t("input",Z)),M.value=X(X({},M.value),Z))}}}}),NK={key:2,class:"many-to-one"},BK={class:"preview"};function qK(e,t,o,l,d,c){var V;const i=u("v-notice"),s=u("v-skeleton-loader"),r=u("render-template"),p=u("v-icon"),f=u("v-input"),v=u("v-list-item-content"),_=u("v-list-item"),y=u("v-list"),b=u("v-menu"),w=u("drawer-item"),$=u("drawer-collection"),k=Ce("tooltip");return e.relation?e.displayTemplate?(m(),I("div",NK,[n(b,{modelValue:e.menuActive,"onUpdate:modelValue":t[3]||(t[3]=g=>e.menuActive=g),attached:"",disabled:e.disabled},{activator:a(({active:g})=>[e.loadingCurrent?(m(),F(s,{key:0,type:"input"})):(m(),F(f,{key:1,active:g,clickable:"",placeholder:e.t("select_an_item"),disabled:e.disabled,onClick:e.onPreviewClick},Ne({_:2},[e.currentItem?{name:"input",fn:a(()=>[S("div",BK,[n(r,{collection:e.relatedCollection.collection,item:e.currentItem,template:e.displayTemplate},null,8,["collection","item","template"])])])}:void 0,e.disabled?void 0:{name:"append",fn:a(()=>[e.currentItem?(m(),I(oe,{key:0},[te(n(p,{name:"open_in_new",class:"edit",onClick:t[0]||(t[0]=Ie(A=>e.editModalActive=!0,["stop"]))},null,512),[[k,e.t("edit")]]),te(n(p,{name:"close",class:"deselect",onClick:t[1]||(t[1]=Ie(A=>e.$emit("input",null),["stop"]))},null,512),[[k,e.t("deselect")]])],64)):(m(),I(oe,{key:1},[te(n(p,{class:"add",name:"add",onClick:t[2]||(t[2]=Ie(A=>e.editModalActive=!0,["stop"]))},null,512),[[k,e.t("create_item")]]),n(p,{class:re(["expand",{active:g}]),name:"expand_more"},null,8,["class"])],64))])}]),1032,["active","placeholder","disabled","onClick"]))]),default:a(()=>[n(y,null,{default:a(()=>[e.itemsLoading?(m(),I(oe,{key:0},he(10,g=>n(_,{key:`loader-${g}`},{default:a(()=>[n(v,null,{default:a(()=>[n(s,{type:"text"})]),_:1})]),_:2},1024)),64)):(m(!0),I(oe,{key:1},he(e.items,g=>(m(),F(_,{key:g[e.relatedPrimaryKeyField.field],active:e.value===g[e.relatedPrimaryKeyField.field],clickable:"",onClick:A=>e.setCurrent(g)},{default:a(()=>[n(v,null,{default:a(()=>[n(r,{collection:e.relatedCollection.collection,template:e.displayTemplate,item:g},null,8,["collection","template","item"])]),_:2},1024)]),_:2},1032,["active","onClick"]))),128))]),_:1})]),_:1},8,["modelValue","disabled"]),e.disabled?N("",!0):(m(),F(w,{key:0,active:e.editModalActive,"onUpdate:active":t[4]||(t[4]=g=>e.editModalActive=g),collection:e.relatedCollection.collection,"primary-key":e.currentPrimaryKey,edits:e.edits,"circular-field":(V=e.relation.meta)==null?void 0:V.one_field,onInput:e.stageEdits},null,8,["active","collection","primary-key","edits","circular-field","onInput"])),e.disabled?N("",!0):(m(),F($,{key:1,active:e.selectModalActive,"onUpdate:active":t[5]||(t[5]=g=>e.selectModalActive=g),collection:e.relatedCollection.collection,selection:e.selection,onInput:e.stageSelection},null,8,["active","collection","selection","onInput"]))])):(m(),F(i,{key:1,type:"warning"},{default:a(()=>[O(h(e.t("display_template_not_setup")),1)]),_:1})):(m(),F(i,{key:0,type:"warning"},{default:a(()=>[O(h(e.t("relationship_not_setup")),1)]),_:1}))}var zK=q(UK,[["render",qK],["__scopeId","data-v-73dbefca"]]);const KK=K({props:{collection:{type:String,required:!0},fieldData:{type:Object,default:null},relations:{type:Array,default:()=>[]},value:{type:Object,default:null}},emits:["input"],setup(e,{emit:t}){const{t:o}=ae(),l=E({get(){var c;return(c=e.value)==null?void 0:c.template},set(c){t("input",ye(X({},e.value||{}),{template:c}))}}),d=E(()=>{if(!e.fieldData||!e.relations||e.relations.length===0)return null;const{field:c}=e.fieldData,i=e.relations.find(s=>s.collection===e.collection&&s.field===c);return(i==null?void 0:i.related_collection)||null});return{t:o,template:l,relatedCollection:d}}}),WK={key:1,class:"form-grid"},HK={class:"field full"},GK={class:"type-label"};function QK(e,t,o,l,d,c){const i=u("v-notice"),s=u("v-field-template");return e.collection===null?(m(),F(i,{key:0,class:"full",type:"warning"},{default:a(()=>[O(h(e.t("interfaces.list-o2m.no_collection")),1)]),_:1})):(m(),I("div",WK,[S("div",HK,[S("p",GK,h(e.t("interfaces.select-dropdown-m2o.display_template")),1),n(s,{modelValue:e.template,"onUpdate:modelValue":t[0]||(t[0]=r=>e.template=r),collection:e.relatedCollection,depth:2},null,8,["modelValue","collection"])])]))}var XK=q(KK,[["render",QK]]),JK=Me({id:"select-dropdown-m2o",name:"$t:interfaces.select-dropdown-m2o.many-to-one",description:"$t:interfaces.select-dropdown-m2o.description",icon:"arrow_right_alt",component:zK,types:["uuid","string","text","integer","bigInteger"],relational:!0,groups:["m2o"],options:XK,recommendedDisplays:["related-values"]}),YK=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:JK}),Ii=[{name:"action",icons:["3d_rotation","accessibility","accessibility_new","accessible","accessible_forward","account_balance","account_balance_wallet","account_box","account_circle","add_shopping_cart","addchart","admin_panel_settings","alarm","alarm_add","alarm_off","alarm_on","all_inbox","all_out","analytics","anchor","android","announcement","api","app_blocking","arrow_circle_down","arrow_circle_up","arrow_right_alt","article","aspect_ratio","assessment","assignment","assignment_ind","assignment_late","assignment_return","assignment_returned","assignment_turned_in","autorenew","backup","backup_table","batch_prediction","book","book_online","bookmark","bookmark_border","bookmarks","bug_report","build","build_circle","cached","calendar_today","calendar_view_day","camera_enhance","cancel_schedule_send","card_giftcard","card_membership","card_travel","change_history","check_circle","check_circle_outline","chrome_reader_mode","class","close_fullscreen","code","comment_bank","commute","compare_arrows","contact_support","contactless","copyright","credit_card","dashboard","date_range","delete","delete_forever","delete_outline","description","dns","done","done_all","done_outline","donut_large","donut_small","drag_indicator","dynamic_form","eco","eject","euro_symbol","event","event_seat","exit_to_app","explore","explore_off","extension","face","fact_check","favorite","favorite_border","feedback","filter_alt","find_in_page","find_replace","fingerprint","flaky","flight_land","flight_takeoff","flip_to_back","flip_to_front","g_translate","gavel","get_app","gif","grade","grading","group_work","help","help_center","help_outline","highlight_alt","highlight_off","history","history_toggle_off","home","horizontal_split","hourglass_disabled","hourglass_empty","hourglass_full","http","https","important_devices","info","input","integration_instructions","invert_colors","label","label_important","label_off","language","launch","line_style","line_weight","list","lock","lock_open","login","loyalty","markunread_mailbox","maximize","mediation","minimize","motorcycle","note_add","offline_bolt","offline_pin","online_prediction","opacity","open_in_browser","open_in_full","open_in_new","open_with","outlet","pageview","pan_tool","payment","pending","pending_actions","perm_camera_mic","perm_contact_calendar","perm_data_setting","perm_device_information","perm_identity","perm_media","perm_phone_msg","perm_scan_wifi","pets","picture_in_picture","picture_in_picture_alt","plagiarism","play_for_work","polymer","power_settings_new","pregnant_woman","preview","print","privacy_tip","query_builder","question_answer","quickreply","receipt","record_voice_over","redeem","remove_shopping_cart","reorder","report_problem","request_page","restore","restore_from_trash","restore_page","room","rounded_corner","rowing","rule","schedule","search","search_off","settings","settings_applications","settings_backup_restore","settings_bluetooth","settings_brightness","settings_cell","settings_ethernet","settings_input_antenna","settings_input_component","settings_input_composite","settings_input_hdmi","settings_input_svideo","settings_overscan","settings_phone","settings_power","settings_remote","settings_voice","shop","shop_two","shopping_bag","shopping_basket","shopping_cart","smart_button","source","speaker_notes","speaker_notes_off","spellcheck","star_rate","stars","store","subject","subtitles_off","supervised_user_circle","supervisor_account","support","swap_horiz","swap_horizontal_circle","swap_vert","swap_vertical_circle","sync_alt","system_update_alt","tab","tab_unselected","table_view","text_rotate_up","text_rotate_vertical","text_rotation_angledown","text_rotation_angleup","text_rotation_down","text_rotation_none","theaters","thumb_down","thumb_up","thumbs_up_down","timeline","toc","today","toll","touch_app","tour","track_changes","translate","trending_down","trending_flat","trending_up","turned_in","turned_in_not","update","upgrade","verified","verified_user","vertical_split","view_agenda","view_array","view_carousel","view_column","view_day","view_headline","view_list","view_module","view_quilt","view_sidebar","view_stream","view_week","visibility","visibility_off","voice_over_off","watch_later","wifi_protected_setup","work","work_off","work_outline","wysiwyg","youtube_searched_for","zoom_in","zoom_out"]},{name:"alert",icons:["add_alert","auto_delete","error","error_outline","notification_important","warning"]},{name:"av",icons:["4k","5g","add_to_queue","airplay","album","art_track","av_timer","branding_watermark","call_to_action","closed_caption","closed_caption_disabled","control_camera","equalizer","explicit","fast_forward","fast_rewind","featured_play_list","featured_video","fiber_dvr","fiber_manual_record","fiber_new","fiber_pin","fiber_smart_record","forward_10","forward_30","forward_5","games","hd","hearing","hearing_disabled","high_quality","library_add","library_add_check","library_books","library_music","loop","mic","mic_none","mic_off","missed_video_call","movie","music_video","new_releases","not_interested","note","pause","pause_circle_filled","pause_circle_outline","play_arrow","play_circle_filled","play_circle_filled_white","play_circle_outline","playlist_add","playlist_add_check","playlist_play","queue","queue_music","queue_play_next","radio","recent_actors","remove_from_queue","repeat","repeat_one","replay","replay_10","replay_30","replay_5","shuffle","skip_next","skip_previous","slow_motion_video","snooze","sort_by_alpha","speed","stop","stop_circle","subscriptions","subtitles","surround_sound","video_call","video_label","video_library","video_settings","videocam","videocam_off","volume_down","volume_mute","volume_off","volume_up","web","web_asset"]},{name:"communication",icons:["add_ic_call","alternate_email","business","call","call_end","call_made","call_merge","call_missed","call_missed_outgoing","call_received","call_split","cancel_presentation","wifi","chat","chat_bubble","chat_bubble_outline","clear_all","comment","contact_mail","contact_phone","contacts","desktop_access_disabled","dialer_sip","dialpad","domain_disabled","domain_verification","duo","email","forum","forward_to_inbox","hourglass_bottom","hourglass_top","import_contacts","import_export","invert_colors_off","list_alt","live_help","location_off","location_on","mail_outline","mark_chat_read","mark_chat_unread","mark_email_read","mark_email_unread","message","mobile_screen_share","more_time","nat","no_sim","pause_presentation","person_add_disabled","person_search","phone","phone_disabled","phone_enabled","phonelink_erase","phonelink_lock","phonelink_ring","phonelink_setup","portable_wifi_off","present_to_all","print_disabled","qr_code","qr_code_scanner","read_more","ring_volume","rss_feed","screen_share","sentiment_satisfied_alt","speaker_phone","stay_current_landscape","stay_current_portrait","stay_primary_landscape","stay_primary_portrait","stop_screen_share","swap_calls","textsms","unsubscribe","voicemail","vpn_key","wifi_calling"]},{name:"content",icons:["add","add_box","add_circle","add_circle_outline","amp_stories","archive","backspace","ballot","biotech","block","calculate","clear","content_copy","content_cut","content_paste","create","delete_sweep","drafts","dynamic_feed","file_copy","filter_list","flag","font_download","forward","gesture","how_to_reg","how_to_vote","inbox","insights","link","link_off","low_priority","mail","markunread","move_to_inbox","next_week","outlined_flag","policy","push_pin","redo","remove","remove_circle","remove_circle_outline","reply","reply_all","report","report_off","save","save_alt","select_all","send","sort","square_foot","text_format","unarchive","undo","waves","weekend","where_to_vote"]},{name:"device",icons:["access_alarm","access_alarms","access_time","ad_units","add_alarm","add_to_home_screen","airplanemode_active","airplanemode_inactive","battery_alert","battery_charging_full","battery_full","battery_unknown","bluetooth","bluetooth_connected","bluetooth_disabled","bluetooth_searching","brightness_auto","brightness_high","brightness_low","brightness_medium","data_usage","developer_mode","devices","dvr","gps_fixed","graphic_eq","location_disabled","location_searching","mobile_friendly","mobile_off","nfc","screen_lock_landscape","screen_lock_portrait","screen_lock_rotation","screen_rotation","sd_storage","settings_system_daydream","signal_cellular_alt","signal_cellular_no_sim","signal_cellular_null","signal_cellular_off","signal_wifi_off","storage","usb","wallpaper","widgets","wifi_lock","wifi_tethering"]},{name:"editor",icons:["add_comment","attach_file","attach_money","bar_chart","border_all","border_bottom","border_clear","border_horizontal","border_inner","border_left","border_outer","border_right","border_style","border_top","border_vertical","bubble_chart","drag_handle","format_align_center","format_align_justify","format_align_left","format_align_right","format_bold","format_clear","format_color_reset","format_indent_decrease","format_indent_increase","format_italic","format_line_spacing","format_list_bulleted","format_list_numbered","format_list_numbered_rtl","format_paint","format_quote","format_shapes","format_size","format_strikethrough","format_textdirection_l_to_r","format_textdirection_r_to_l","format_underlined","functions","height","highlight","horizontal_rule","insert_chart","insert_comment","insert_drive_file","insert_emoticon","insert_invitation","insert_link","insert_photo","linear_scale","merge_type","mode_comment","monetization_on","money_off","multiline_chart","notes","pie_chart","post_add","publish","scatter_plot","score","short_text","show_chart","space_bar","strikethrough_s","subscript","superscript","table_chart","table_rows","text_fields","title","vertical_align_bottom","vertical_align_center","vertical_align_top","wrap_text"]},{name:"file",icons:["attach_email","attachment","cloud","cloud_circle","cloud_done","cloud_download","cloud_off","cloud_queue","cloud_upload","create_new_folder","folder","folder_open","folder_shared","request_quote","rule_folder","snippet_folder","text_snippet","topic"]},{name:"hardware",icons:["browser_not_supported","cast","cast_connected","cast_for_education","computer","desktop_mac","desktop_windows","developer_board","device_hub","device_unknown","devices_other","dock","gamepad","headset","headset_mic","keyboard","keyboard_arrow_down","keyboard_arrow_left","keyboard_arrow_right","keyboard_arrow_up","keyboard_backspace","keyboard_capslock","keyboard_hide","keyboard_return","keyboard_tab","keyboard_voice","laptop","laptop_chromebook","laptop_mac","laptop_windows","memory","mouse","phone_android","phone_iphone","phonelink","phonelink_off","point_of_sale","power_input","router","scanner","security","sim_card","smartphone","speaker","speaker_group","tablet","tablet_android","tablet_mac","toys","tv","videogame_asset","watch"]},{name:"home",icons:["sensor_door","sensor_window"]},{name:"image",icons:["add_a_photo","add_photo_alternate","add_to_photos","adjust","assistant","assistant_photo","audiotrack","bedtime","blur_circular","blur_linear","blur_off","blur_on","brightness_1","brightness_2","brightness_3","brightness_4","brightness_5","brightness_6","brightness_7","broken_image","brush","burst_mode","camera","camera_alt","camera_front","camera_rear","camera_roll","center_focus_strong","center_focus_weak","collections","collections_bookmark","color_lens","colorize","compare","control_point","control_point_duplicate","crop","crop_16_9","crop_3_2","crop_5_4","crop_7_5","crop_din","crop_free","crop_landscape","crop_original","crop_portrait","crop_rotate","crop_square","dehaze","details","edit","euro","exposure","exposure_neg_1","exposure_neg_2","exposure_plus_1","exposure_plus_2","exposure_zero","filter","filter_1","filter_2","filter_3","filter_4","filter_5","filter_6","filter_7","filter_8","filter_9","filter_9_plus","filter_b_and_w","filter_center_focus","filter_drama","filter_frames","filter_hdr","filter_none","filter_tilt_shift","filter_vintage","flare","flash_auto","flash_off","flash_on","flip","flip_camera_android","flip_camera_ios","gradient","grain","grid_off","grid_on","hdr_off","hdr_on","hdr_strong","hdr_weak","healing","image","image_aspect_ratio","image_not_supported","image_search","iso","landscape","leak_add","leak_remove","lens","linked_camera","looks","looks_3","looks_4","looks_5","looks_6","looks_one","looks_two","loupe","monochrome_photos","motion_photos_on","motion_photos_paused","movie_creation","movie_filter","music_note","music_off","nature","nature_people","navigate_before","navigate_next","palette","panorama","panorama_fish_eye","panorama_horizontal","panorama_vertical","panorama_wide_angle","photo","photo_album","photo_camera","photo_filter","photo_library","photo_size_select_actual","photo_size_select_large","photo_size_select_small","picture_as_pdf","portrait","receipt_long","remove_red_eye","rotate_90_degrees_ccw","rotate_left","rotate_right","shutter_speed","slideshow","straighten","style","switch_camera","switch_video","tag_faces","texture","timelapse","timer","timer_10","timer_3","timer_off","tonality","transform","tune","view_comfy","view_compact","vignette","wb_auto","wb_cloudy","wb_incandescent","wb_iridescent","wb_sunny"]},{name:"maps",icons:["360","add_business","add_location","add_location_alt","add_road","agriculture","alt_route","atm","beenhere","bike_scooter","category","cleaning_services","compass_calibration","departure_board","design_services","directions","directions_bike","directions_boat","directions_bus","directions_car","directions_railway","directions_run","directions_subway","directions_transit","directions_walk","edit_attributes","edit_location","edit_road","electric_bike","electric_car","electric_moped","electric_scooter","electrical_services","ev_station","fastfood","flight","handyman","home_repair_service","hotel","hvac","layers","layers_clear","local_activity","local_airport","local_atm","local_bar","local_cafe","local_car_wash","local_convenience_store","local_dining","local_drink","local_fire_department","local_florist","local_gas_station","local_grocery_store","local_hospital","local_hotel","local_laundry_service","local_library","local_mall","local_movies","local_offer","local_parking","local_pharmacy","local_phone","local_pizza","local_play","local_police","local_post_office","local_printshop","local_see","local_shipping","local_taxi","map","maps_ugc","medical_services","menu_book","miscellaneous_services","money","moped","multiple_stop","museum","my_location","navigation","near_me","no_meals","no_transfer","not_listed_location","pedal_bike","person_pin","person_pin_circle","pest_control","pest_control_rodent","pin_drop","place","plumbing","rate_review","restaurant","restaurant_menu","run_circle","satellite","store_mall_directory","streetview","subway","terrain","traffic","train","tram","transfer_within_a_station","transit_enterexit","trip_origin","two_wheeler","wrong_location","zoom_out_map"]},{name:"navigation",icons:["app_settings_alt","apps","arrow_back","arrow_back_ios","arrow_downward","arrow_drop_down","arrow_drop_down_circle","arrow_drop_up","arrow_forward","arrow_forward_ios","arrow_left","arrow_right","arrow_upward","campaign","cancel","check","chevron_left","chevron_right","close","double_arrow","east","expand_less","expand_more","first_page","fullscreen","fullscreen_exit","home_work","last_page","legend_toggle","menu","menu_open","more_horiz","more_vert","north","north_east","north_west","payments","refresh","south","south_east","south_west","subdirectory_arrow_left","subdirectory_arrow_right","switch_left","switch_right","unfold_less","unfold_more","west"]},{name:"notification",icons:["account_tree","adb","airline_seat_flat","airline_seat_flat_angled","airline_seat_individual_suite","airline_seat_legroom_extra","airline_seat_legroom_normal","airline_seat_legroom_reduced","airline_seat_recline_extra","airline_seat_recline_normal","bluetooth_audio","confirmation_number","directions_off","disc_full","drive_eta","enhanced_encryption","event_available","event_busy","event_note","folder_special","live_tv","mms","more","network_check","network_locked","no_encryption","ondemand_video","personal_video","phone_bluetooth_speaker","phone_callback","phone_forwarded","phone_in_talk","phone_locked","phone_missed","phone_paused","power","power_off","priority_high","sd_card","sms","sms_failed","support_agent","sync","sync_disabled","sync_problem","system_update","tap_and_play","time_to_leave","tv_off","vibration","voice_chat","vpn_lock","wc","wifi","wifi_off"]},{name:"places",icons:["ac_unit","airport_shuttle","all_inclusive","apartment","baby_changing_station","backpack","bathtub","beach_access","business_center","casino","charging_station","checkroom","child_care","child_friendly","corporate_fare","do_not_step","do_not_touch","dry","elevator","escalator","escalator_warning","family_restroom","fire_extinguisher","fitness_center","free_breakfast","golf_course","grass","hot_tub","house","kitchen","meeting_room","no_cell","no_drinks","no_flash","no_food","no_meeting_room","no_photography","no_stroller","pool","room_preferences","room_service","rv_hookup","smoke_free","smoking_rooms","soap","spa","stairs","storefront","stroller","tty","umbrella","wash","wheelchair_pickup"]},{name:"social",icons:["6_ft_apart","architecture","cake","clean_hands","construction","deck","domain","emoji_emotions","emoji_events","emoji_flags","emoji_food_beverage","emoji_nature","emoji_objects","emoji_people","emoji_symbols","emoji_transportation","engineering","fireplace","group","group_add","history_edu","king_bed","location_city","luggage","military_tech","mood","mood_bad","nights_stay","no_luggage","notifications","notifications_active","notifications_none","notifications_off","notifications_paused","outdoor_grill","pages","party_mode","people","people_alt","person","person_add","person_add_alt_1","person_outline","person_remove","plus_one","poll","psychology","public","public_off","school","science","self_improvement","sentiment_dissatisfied","sentiment_satisfied","sentiment_very_dissatisfied","sentiment_very_satisfied","share","single_bed","sports","sports_baseball","sports_basketball","sports_cricket","sports_esports","sports_football","sports_golf","sports_handball","sports_hockey","sports_kabaddi","sports_mma","sports_motorsports","sports_rugby","sports_soccer","sports_tennis","sports_volleyball","thumb_down_alt","thumb_up_alt","whatshot"]},{name:"toggle",icons:["check_box","check_box_outline_blank","indeterminate_check_box","radio_button_checked","radio_button_unchecked","star","star_border","star_half","toggle_off","toggle_on"]}];const ZK=K({props:{value:{type:String,default:null},disabled:{type:Boolean,default:!1},width:{type:String,default:"half"}},emits:["input"],setup(e,{emit:t}){const{t:o}=ae(),l=D(""),d=E(()=>Ii.map(i=>{if(l.value.length===0)return i;const s=i.icons.filter(r=>r.includes(l.value.toLowerCase()));return ye(X({},i),{icons:s,length:s.length})}));return{t:o,icons:Ii,setIcon:c,searchQuery:l,filteredIcons:d,formatTitle:Je};function c(i){l.value="",t("input",i)}}}),xK={key:0,class:"icons"};function eW(e,t,o,l,d,c){const i=u("v-icon"),s=u("v-input"),r=u("v-divider"),p=u("v-menu");return m(),F(p,{attached:"",disabled:e.disabled},{activator:a(({active:f,activate:v})=>[n(s,{modelValue:e.searchQuery,"onUpdate:modelValue":t[1]||(t[1]=_=>e.searchQuery=_),disabled:e.disabled,placeholder:e.value?e.formatTitle(e.value):e.t("interfaces.select-icon.search_for_icon"),class:re({"has-value":e.value}),nullable:!1,onFocus:v},Ne({append:a(()=>[e.value!==null?(m(),F(i,{key:0,clickable:"",name:"close",onClick:t[0]||(t[0]=_=>e.setIcon(null))})):(m(),F(i,{key:1,clickable:"",name:"expand_more",class:re(["open-indicator",{open:f}]),onClick:v},null,8,["class","onClick"]))]),_:2},[e.value?{name:"prepend",fn:a(()=>[n(i,{clickable:"",name:e.value,class:re({active:e.value}),onClick:v},null,8,["name","class","onClick"])])}:void 0]),1032,["modelValue","disabled","placeholder","class","onFocus"])]),default:a(()=>[S("div",{class:re(["content",e.width])},[(m(!0),I(oe,null,he(e.filteredIcons,(f,v)=>(m(),I(oe,{key:f.name},[f.icons.length>0?(m(),I("div",xK,[(m(!0),I(oe,null,he(f.icons,_=>(m(),F(i,{key:_,name:_,class:re({active:_===e.value}),clickable:"",onClick:y=>e.setIcon(_)},null,8,["name","class","onClick"]))),128))])):N("",!0),f.icons.length>0&&v!==e.filteredIcons.length-1?(m(),F(r,{key:1})):N("",!0)],64))),128))],2)]),_:1},8,["disabled"])}var tW=q(ZK,[["render",eW],["__scopeId","data-v-80080b9a"]]),nW=Me({id:"select-icon",name:"$t:interfaces.select-icon.icon",description:"$t:interfaces.select-icon.description",icon:"insert_emoticon",component:tW,types:["string"],options:[],recommendedDisplays:["icon"]}),lW=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:nW});const aW=K({props:{disabled:{type:Boolean,default:!1},value:{type:Array,default:null},choices:{type:Array,default:null},allowOther:{type:Boolean,default:!1},width:{type:String,default:null},iconOn:{type:String,default:"check_box"},iconOff:{type:String,default:"check_box_outline_blank"},color:{type:String,default:"var(--primary)"},itemsShown:{type:Number,default:8}},emits:["input"],setup(e,{emit:t}){const{t:o}=ae(),{choices:l,value:d}=Re(e),c=D(!1),i=E(()=>e.choices.length>e.itemsShown),s=E(()=>c.value||i.value===!1?e.choices:e.choices.slice(0,e.itemsShown)),r=E(()=>e.choices.length-e.itemsShown),p=E(()=>{var b;if(l.value===null)return null;const y=l.value.reduce((w,$)=>($.text.length>w.length&&(w=$.text),w),"").length;return((b=e.width)==null?void 0:b.startsWith("half"))?y<=10?"grid-2":"grid-1":y<=10?"grid-4":y>10&&y<=15?"grid-3":y>15&&y<=25?"grid-2":"grid-1"}),{otherValues:f,addOtherValue:v,setOtherValue:_}=ti(d,l,y=>t("input",y));return{t:o,gridClass:p,otherValues:f,addOtherValue:v,setOtherValue:_,choicesDisplayed:s,hideChoices:i,showAll:c,hiddenCount:r}}}),oW=["disabled"];function iW(e,t,o,l,d,c){const i=u("v-notice"),s=u("v-checkbox"),r=u("v-detail"),p=u("v-icon");return e.choices?(m(),I("div",{key:1,class:re(["checkboxes",e.gridClass]),style:Ke({"--v-checkbox-color":e.color})},[(m(!0),I(oe,null,he(e.choicesDisplayed,f=>(m(),F(s,{key:f.value,block:"",value:f.value,label:f.text,disabled:e.disabled,"icon-on":e.iconOn,"icon-off":e.iconOff,"model-value":e.value||[],"onUpdate:modelValue":t[0]||(t[0]=v=>e.$emit("input",v))},null,8,["value","label","disabled","icon-on","icon-off","model-value"]))),128)),e.hideChoices&&e.showAll===!1?(m(),F(r,{key:0,class:re(e.gridClass),label:e.t("interfaces.select-multiple-checkbox.show_more",{count:e.hiddenCount}),"onUpdate:modelValue":t[1]||(t[1]=f=>e.showAll=!0)},null,8,["class","label"])):N("",!0),e.allowOther?(m(),I(oe,{key:1},[(m(!0),I(oe,null,he(e.otherValues,f=>(m(),F(s,{key:f.key,block:"","custom-value":"",value:f.value,disabled:e.disabled,"icon-on":e.iconOn,"icon-off":e.iconOff,"model-value":e.value||[],"onUpdate:value":v=>e.setOtherValue(f.key,v),"onUpdate:modelValue":t[2]||(t[2]=v=>e.$emit("input",v))},null,8,["value","disabled","icon-on","icon-off","model-value","onUpdate:value"]))),128)),e.allowOther?(m(),I("button",{key:0,disabled:e.disabled,class:"add-new custom",align:"left",outlined:"",dashed:"",secondary:"",onClick:t[3]||(t[3]=f=>e.addOtherValue())},[n(p,{name:"add"}),O(" "+h(e.t("other")),1)],8,oW)):N("",!0)],64)):N("",!0)],6)):(m(),F(i,{key:0,type:"warning"},{default:a(()=>[O(h(e.t("choices_option_configured_incorrectly")),1)]),_:1}))}var sW=q(aW,[["render",iW],["__scopeId","data-v-eb2534aa"]]),rW=Me({id:"select-multiple-checkbox",name:"$t:interfaces.select-multiple-checkbox.checkboxes",icon:"check_box",component:sW,description:"$t:interfaces.select-multiple-checkbox.description",types:["json","csv"],options:[{field:"choices",type:"json",name:"$t:choices",meta:{width:"full",interface:"list",options:{template:"{{ text }}",fields:[{field:"text",type:"string",name:"$t:text",meta:{width:"half",interface:"input",options:{placeholder:"$t:interfaces.select-dropdown.choices_name_placeholder"}}},{field:"value",type:"string",name:"$t:value",meta:{width:"half",interface:"input",options:{font:"monospace",placeholder:"$t:interfaces.select-dropdown.choices_name_placeholder"}}}]}}},{field:"allowOther",name:"$t:interfaces.select-multiple-checkbox.allow_other",type:"boolean",meta:{width:"half",interface:"boolean",options:{label:"$t:enable_custom_values"}},schema:{default_value:!1}},{field:"color",name:"$t:color",type:"string",meta:{width:"half",interface:"select-color"},schema:{default_value:"#00C897"}},{field:"iconOn",name:"$t:icon_on",type:"string",meta:{width:"half",interface:"select-icon"},schema:{default_value:"check_box"}},{field:"iconOff",name:"$t:icon_off",type:"string",meta:{width:"half",interface:"select-icon"},schema:{default_value:"check_box_outline_blank"}},{field:"itemsShown",name:"$t:interfaces.select-multiple-checkbox.items_shown",type:"integer",meta:{width:"half",interface:"input"},schema:{default_value:8}}],recommendedDisplays:["labels"]}),dW=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:rW});const uW=K({props:{value:{type:Array,default:()=>[]},disabled:{type:Boolean,default:!1},choices:{type:Array,default:()=>[]},valueCombining:{type:String,default:"all"}},emits:["input"],setup(){const{t:e}=ae(),t=D(""),o=D(!1),l=H.exports.debounce(c=>{d.value=c},250);_e(t,l);const d=D("");return{search:t,t:e,searchDebounced:d,showSelectionOnly:o}}}),cW={class:"select-multiple-checkbox-tree"},pW={class:"search"},mW={class:"footer"},fW=O(" / ");function _W(e,t,o,l,d,c){const i=u("v-icon"),s=u("v-input"),r=u("v-checkbox-tree");return m(),I("div",cW,[S("div",pW,[n(s,{modelValue:e.search,"onUpdate:modelValue":t[1]||(t[1]=p=>e.search=p),class:"input",type:"text",placeholder:e.t("search")},Ne({prepend:a(()=>[n(i,{name:"search"})]),_:2},[e.search?{name:"append",fn:a(()=>[n(i,{name:"clear",clickable:"",onClick:t[0]||(t[0]=p=>e.search="")})])}:void 0]),1032,["modelValue","placeholder"])]),n(r,{"model-value":e.value,search:e.searchDebounced,disabled:e.disabled,choices:e.choices,"value-combining":e.valueCombining,"show-selection-only":e.showSelectionOnly,"onUpdate:modelValue":t[2]||(t[2]=p=>e.$emit("input",p))},null,8,["model-value","search","disabled","choices","value-combining","show-selection-only"]),S("div",mW,[S("span",{class:re({active:e.showSelectionOnly===!1}),onClick:t[3]||(t[3]=p=>e.showSelectionOnly=!1)},h(e.t("interfaces.select-multiple-checkbox-tree.show_all")),3),fW,S("span",{class:re({active:e.showSelectionOnly===!0}),onClick:t[4]||(t[4]=p=>e.showSelectionOnly=!0)},h(e.t("interfaces.select-multiple-checkbox-tree.show_selected")),3)])])}var vW=q(uW,[["render",_W],["__scopeId","data-v-4588d42a"]]);const Ia=[{field:"text",type:"string",name:"$t:text",meta:{width:"half",interface:"input",options:{placeholder:"$t:interfaces.select-dropdown.choices_name_placeholder"}}},{field:"value",type:"string",name:"$t:value",meta:{width:"half",interface:"input",options:{font:"monospace",placeholder:"$t:interfaces.select-dropdown.choices_name_placeholder"}}}],Ai={field:"children",type:"json",name:"$t:children",meta:{width:"full",interface:"list",options:{fields:Ia}}};function Di(e=0,t=3){return e<t?[...Ia,ye(X({},Ai),{meta:ye(X({},Ai.meta),{options:{fields:Di(e+1)}})})]:Ia}var yW=Me({id:"select-multiple-checkbox-tree",name:"$t:interfaces.select-multiple-checkbox-tree.name",icon:"account_tree",component:vW,description:"$t:interfaces.select-multiple-checkbox-tree.description",types:["json","csv"],options:[{field:"choices",type:"json",name:"$t:choices",meta:{width:"full",interface:"list",options:{template:"{{ text }}",fields:Di()}}},{field:"valueCombining",type:"string",name:"$t:interfaces.select-multiple-checkbox-tree.value_combining",schema:{default_value:"all"},meta:{note:"$t:interfaces.select-multiple-checkbox-tree.value_combining_note",interface:"select-dropdown",options:{choices:[{text:"$t:all",value:"all"},{text:"$t:branch",value:"branch"},{text:"$t:leaf",value:"leaf"},{text:"$t:indeterminate",value:"indeterminate"},{text:"$t:exclusive",value:"exclusive"}]}}}],recommendedDisplays:["labels"]}),gW=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:yW});const hW=K({props:{disabled:{type:Boolean,default:!1},value:{type:Array,default:null},choices:{type:Array,default:null},icon:{type:String,default:null},allowNone:{type:Boolean,default:!1},placeholder:{type:String,default:null},allowOther:{type:Boolean,default:!1}},emits:["input"],setup(){const{t:e}=ae();return{t:e}}});function bW(e,t,o,l,d,c){const i=u("v-notice"),s=u("v-icon"),r=u("v-select");return e.choices?(m(),F(r,{key:1,multiple:"","model-value":e.value,items:e.choices,disabled:e.disabled,"show-deselect":e.allowNone,placeholder:e.placeholder,"allow-other":e.allowOther,"close-on-content-click":!1,"onUpdate:modelValue":t[0]||(t[0]=p=>e.$emit("input",p))},Ne({_:2},[e.icon?{name:"prepend",fn:a(()=>[n(s,{name:e.icon},null,8,["name"])])}:void 0]),1032,["model-value","items","disabled","show-deselect","placeholder","allow-other"])):(m(),F(i,{key:0,type:"warning"},{default:a(()=>[O(h(e.t("choices_option_configured_incorrectly")),1)]),_:1}))}var $W=q(hW,[["render",bW]]),kW=Me({id:"select-multiple-dropdown",name:"$t:interfaces.select-multiple-dropdown.select-multiple-dropdown",description:"$t:interfaces.select-multiple-dropdown.description",icon:"arrow_drop_down_circle",component:$W,types:["json","csv"],options:[{field:"choices",type:"json",name:"$t:choices",meta:{width:"full",interface:"list",options:{placeholder:"$t:interfaces.select-dropdown.choices_placeholder",template:"{{ text }}",fields:[{field:"text",type:"string",name:"$t:text",meta:{width:"half",interface:"input",options:{placeholder:"$t:interfaces.select-dropdown.choices_name_placeholder"}}},{field:"value",type:"string",name:"$t:value",meta:{width:"half",interface:"input",options:{font:"monospace",placeholder:"$t:interfaces.select-dropdown.choices_value_placeholder"}}}]}}},{field:"allowOther",name:"$t:interfaces.select-dropdown.allow_other",type:"boolean",meta:{width:"half",interface:"boolean",options:{label:"$t:interfaces.select-dropdown.allow_other_label"}},schema:{default_value:!1}},{field:"allowNone",name:"$t:interfaces.select-dropdown.allow_none",type:"boolean",meta:{width:"half",interface:"boolean",options:{label:"$t:interfaces.select-dropdown.allow_none_label"}},schema:{default_value:!1}},{field:"placeholder",name:"$t:placeholder",type:"string",meta:{width:"half",interface:"input",options:{placeholder:"$t:enter_a_placeholder"}}},{field:"icon",name:"$t:icon",type:"string",meta:{width:"half",interface:"select-icon"}}],recommendedDisplays:["labels"]}),wW=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:kW});const CW=K({props:{disabled:{type:Boolean,default:!1},value:{type:String,default:null},choices:{type:Array,default:null},allowOther:{type:Boolean,default:!1},width:{type:String,default:null},iconOn:{type:String,default:"radio_button_checked"},iconOff:{type:String,default:"radio_button_unchecked"},color:{type:String,default:"var(--primary)"}},emits:["input"],setup(e,{emit:t}){const{t:o}=ae(),{choices:l,value:d}=Re(e),c=E(()=>{var f;if(l.value===null)return null;const p=l.value.reduce((v,_)=>(_.text.length>v.length&&(v=_.text),v),"").length;return((f=e.width)==null?void 0:f.startsWith("half"))?p<=10?"grid-2":"grid-1":p<=10?"grid-4":p>10&&p<=15?"grid-3":p>15&&p<=25?"grid-2":"grid-1"}),{otherValue:i,usesOtherValue:s}=ei(d,l,p=>t("input",p)),r=E(()=>i.value?i.value&&s.value===!0?e.iconOn:e.iconOff:"add");return{t:o,gridClass:c,otherValue:i,usesOtherValue:s,customIcon:r}}}),SW=["placeholder","disabled"];function FW(e,t,o,l,d,c){const i=u("v-notice"),s=u("v-radio"),r=u("v-icon");return e.choices?(m(),I("div",{key:1,class:re(["radio-buttons",e.gridClass]),style:Ke({"--v-radio-color":e.color})},[(m(!0),I(oe,null,he(e.choices,p=>(m(),F(s,{key:p.value,block:"",value:p.value,label:p.text,disabled:e.disabled,"icon-on":e.iconOn,"icon-off":e.iconOff,"model-value":e.value,"onUpdate:modelValue":t[0]||(t[0]=f=>e.$emit("input",f))},null,8,["value","label","disabled","icon-on","icon-off","model-value"]))),128)),e.allowOther?(m(),I("div",{key:0,class:re(["custom",{active:!e.disabled&&e.usesOtherValue,"has-value":!e.disabled&&e.otherValue,disabled:e.disabled}])},[n(r,{disabled:e.disabled,name:e.customIcon,clickable:"",onClick:t[1]||(t[1]=p=>e.$emit("input",e.otherValue))},null,8,["disabled","name"]),te(S("input",{"onUpdate:modelValue":t[2]||(t[2]=p=>e.otherValue=p),placeholder:e.t("other"),disabled:e.disabled,onFocus:t[3]||(t[3]=p=>e.$emit("input",e.otherValue))},null,40,SW),[[Wl,e.otherValue]])],2)):N("",!0)],6)):(m(),F(i,{key:0,type:"warning"},{default:a(()=>[O(h(e.t("choices_option_configured_incorrectly")),1)]),_:1}))}var VW=q(CW,[["render",FW],["__scopeId","data-v-3c9fc610"]]),EW=Me({id:"select-radio",name:"$t:interfaces.select-radio.radio-buttons",description:"$t:interfaces.select-radio.description",icon:"radio_button_checked",component:VW,types:["string"],recommendedDisplays:["badge"],options:[{field:"choices",type:"json",name:"$t:choices",meta:{width:"full",interface:"list",options:{template:"{{ text }}",fields:[{field:"text",type:"string",name:"$t:text",meta:{width:"half",interface:"input"}},{field:"value",type:"string",name:"$t:value",meta:{width:"half",interface:"input",options:{font:"monospace"}}}]}}},{field:"iconOn",name:"$t:icon_on",type:"string",meta:{width:"half",interface:"select-icon"},schema:{default_value:"radio_button_checked"}},{field:"iconOff",name:"$t:icon_off",type:"string",meta:{width:"half",interface:"select-icon"},schema:{default_value:"radio_button_unchecked"}},{field:"color",name:"$t:color",type:"string",meta:{width:"half",interface:"select-color"}},{field:"allowOther",name:"$t:interfaces.select-dropdown.allow_other",type:"string",meta:{width:"half",interface:"boolean",options:{label:"$t:interfaces.select-dropdown.allow_other_label"}},schema:{default_value:!1}}]}),IW=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:EW});const AW=K({props:{value:{type:Number,default:null},disabled:{type:Boolean,default:!1},minValue:{type:Number,default:0},maxValue:{type:Number,default:100},stepInterval:{type:Number,default:1},alwaysShowValue:{type:Boolean,default:!1}},emits:["input"]});function DW(e,t,o,l,d,c){const i=u("v-slider");return m(),F(i,{"model-value":e.value,disabled:e.disabled,min:e.minValue,max:e.maxValue,step:e.stepInterval,"always-show-value":e.alwaysShowValue,"show-thumb-label":"","show-ticks":"","onUpdate:modelValue":t[0]||(t[0]=s=>e.$emit("input",s))},null,8,["model-value","disabled","min","max","step","always-show-value"])}var OW=q(AW,[["render",DW],["__scopeId","data-v-26b36e86"]]),PW=Me({id:"slider",name:"$t:interfaces.slider.slider",description:"$t:interfaces.slider.description",icon:"linear_scale",component:OW,types:["integer","decimal","float","bigInteger"],options:[{field:"minValue",name:"$t:interfaces.input.minimum_value",type:"integer",meta:{width:"half",interface:"input"}},{field:"maxValue",name:"$t:interfaces.input.maximum_value",type:"integer",meta:{width:"half",interface:"input"}},{field:"stepInterval",name:"$t:interfaces.input.step_interval",type:"integer",meta:{width:"half",interface:"input"}},{field:"alwaysShowValue",name:"$t:interfaces.slider.always_show_value",type:"boolean",meta:{width:"half",interface:"boolean"}}]}),TW=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:PW});const LW=K({props:{disabled:{type:Boolean,default:!1},value:{type:Array,default:null},placeholder:{type:String,default:null},whitespace:{type:String,default:null},capitalization:{type:String,default:null},alphabetize:{type:Boolean,default:!1},iconLeft:{type:String,default:null},iconRight:{type:String,default:"local_offer"},presets:{type:Array,default:null},allowCustom:{type:Boolean,default:!0}},emits:["input"],setup(e,{emit:t}){const{t:o}=ae(),l=E(()=>e.presets!==null?s(e.presets):[]),d=D(s(e.value||[]));_e(()=>e.value,y=>{Array.isArray(y)&&(d.value=s(y)),y===null&&(d.value=[])});const c=E(()=>{let y=s(d.value);return e.allowCustom||(y=y.filter(b=>l.value.includes(b))),y}),i=E(()=>c.value.filter(y=>!l.value.includes(y)));function s(y){return y=y.map(b=>{b=b.trim(),e.capitalization==="uppercase"&&(b=b.toUpperCase()),e.capitalization==="lowercase"&&(b=b.toLowerCase());const w=e.whitespace===null?" ":e.whitespace;return e.capitalization==="auto-format"&&(b=Je(b,new RegExp(w))),b=b.replace(/ +/g,w),b}),e.alphabetize&&(y=y.concat().sort()),y=[...new Set(y)],y}return{t:o,onInput:r,addTag:f,removeTag:v,toggleTag:p,presetVals:l,customVals:i,selectedVals:c};function r(y){y.target&&(y.key==="Enter"||y.key===",")&&(y.preventDefault(),f(y.target.value),y.target.value="")}function p(y){c.value.includes(y)?v(y):f(y)}function f(y){!y||y===""||(y=y.trim(),d.value.push(y),_())}function v(y){d.value=d.value.filter(b=>b!==y),_()}function _(){t("input",c.value)}}}),jW={class:"interface-tags"},RW={key:1,class:"tags"},MW={key:0,class:"presets tag-container"},UW={key:1,class:"custom tag-container"};function NW(e,t,o,l,d,c){const i=u("v-icon"),s=u("v-input"),r=u("v-chip");return m(),I("div",jW,[e.allowCustom?(m(),F(s,{key:0,placeholder:e.placeholder||e.t("interfaces.tags.add_tags"),disabled:e.disabled,onKeydown:e.onInput},Ne({append:a(()=>[n(i,{name:e.iconRight},null,8,["name"])]),_:2},[e.iconLeft?{name:"prepend",fn:a(()=>[n(i,{name:e.iconLeft},null,8,["name"])])}:void 0]),1032,["placeholder","disabled","onKeydown"])):N("",!0),e.presetVals.length>0||e.customVals.length>0?(m(),I("div",RW,[e.presetVals.length>0?(m(),I("span",MW,[(m(!0),I(oe,null,he(e.presetVals,p=>(m(),F(r,{key:p,class:re(["tag",{inactive:!e.selectedVals.includes(p)}]),disabled:e.disabled,small:"",label:"",clickable:"",onClick:f=>e.toggleTag(p)},{default:a(()=>[O(h(p),1)]),_:2},1032,["class","disabled","onClick"]))),128))])):N("",!0),e.customVals.length>0&&e.allowCustom?(m(),I("span",UW,[e.presetVals.length>0?(m(),F(i,{key:0,class:"custom-tags-delimeter",name:"chevron_right"})):N("",!0),(m(!0),I(oe,null,he(e.customVals,p=>(m(),F(r,{key:p,disabled:e.disabled,class:"tag",small:"",label:"",clickable:"",onClick:f=>e.removeTag(p)},{default:a(()=>[O(h(p),1)]),_:2},1032,["disabled","onClick"]))),128))])):N("",!0)])):N("",!0)])}var BW=q(LW,[["render",NW],["__scopeId","data-v-5f85ff84"]]),qW=Me({id:"tags",name:"$t:interfaces.tags.tags",description:"$t:interfaces.tags.description",icon:"local_offer",component:BW,types:["json","csv"],options:[{field:"presets",name:"$t:presets",type:"string",meta:{width:"full",interface:"tags"}},{field:"placeholder",name:"$t:placeholder",type:"string",meta:{width:"full",interface:"input",options:{placeholder:"$t:enter_a_placeholder"}}},{field:"alphabetize",name:"$t:interfaces.tags.alphabetize",type:"boolean",meta:{width:"half",interface:"boolean",options:{label:"$t:interfaces.tags.alphabetize_label"}},schema:{default_value:!1}},{field:"allowCustom",name:"$t:interfaces.select-dropdown.allow_other",type:"boolean",meta:{width:"half",interface:"boolean",options:{label:"$t:interfaces.select-dropdown.allow_other_label"}},schema:{default_value:!1}},{field:"whitespace",name:"$t:interfaces.tags.whitespace",type:"string",meta:{width:"half",interface:"select-dropdown",options:{allowNone:!0,choices:[{text:"$t:interfaces.tags.hyphen",value:"-"},{text:"$t:interfaces.tags.underscore",value:"_"},{text:"$t:interfaces.tags.remove",value:""}]}}},{field:"capitalization",name:"$t:interfaces.tags.capitalization",type:"string",meta:{width:"half",interface:"select-dropdown",options:{allowNone:!0,choices:[{text:"$t:interfaces.tags.uppercase",value:"uppercase"},{text:"$t:interfaces.tags.lowercase",value:"lowercase"},{text:"$t:interfaces.tags.auto_formatter",value:"auto-format"}]}}},{field:"iconLeft",name:"$t:icon_left",type:"string",meta:{width:"half",interface:"select-icon"}},{field:"iconRight",name:"$t:icon_right",type:"string",meta:{width:"half",interface:"select-icon"}}],recommendedDisplays:["labels"]}),zW=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:qW});const KW=K({props:{collection:{type:String,required:!0},fieldData:{type:Object,default:null},relations:{type:Array,default:()=>[]},value:{type:Object,default:null}},emits:["input"],setup(e,{emit:t}){const{t:o}=ae(),{collection:l}=Re(e),d=E(()=>e.fieldData.field),c=E({get(){var r;return(r=e.value)==null?void 0:r.languageField},set(r){t("input",ye(X({},e.value||{}),{languageField:r}))}}),{relationCollection:i,relationFields:s}=Tn(l,d);return{t:o,languageField:c,languageCollection:i,languageCollectionFields:s}}}),WW={key:1,class:"form-grid"},HW={class:"field half"},GW={class:"type-label"};function QW(e,t,o,l,d,c){const i=u("v-notice"),s=u("v-select");return e.collection===null?(m(),F(i,{key:0,class:"full",type:"warning"},{default:a(()=>[O(h(e.t("interfaces.translations.no_collection")),1)]),_:1})):(m(),I("div",WW,[S("div",HW,[S("p",GW,h(e.t("interfaces.translations.language_field")),1),n(s,{modelValue:e.languageField,"onUpdate:modelValue":t[0]||(t[0]=r=>e.languageField=r),items:e.languageCollectionFields,"item-text":"name","item-value":"field"},null,8,["modelValue","items"])])]))}var XW=q(KW,[["render",QW]]);const JW=K({components:{},props:{modelValue:{type:String,default:null},items:{type:Array,default:()=>[]},secondary:{type:Boolean,default:!1}},emits:["update:modelValue"],setup(e){return{displayValue:E(()=>{var l;const o=e.items.find(d=>d.value===e.modelValue);return(l=o==null?void 0:o.text)!=null?l:e.modelValue})}}}),YW=["onClick"],ZW={class:"display-value"},xW={class:"append-slot"},eH={class:"start"},tH={class:"end"};function nH(e,t,o,l,d,c){const i=u("v-icon"),s=u("v-progress-linear"),r=u("v-list-item"),p=u("v-list"),f=u("v-menu"),v=Ce("tooltip");return m(),F(f,{attached:"",class:re(["language-select",{secondary:e.secondary}])},{activator:a(({toggle:_,active:y})=>[S("button",{class:"toggle",onClick:_},[n(i,{class:"translate",name:"translate"}),S("span",ZW,h(e.displayValue),1),n(i,{name:"expand_more",class:re({active:y})},null,8,["class"]),S("span",xW,[$e(e.$slots,"append",{},void 0,!0)])],8,YW)]),default:a(()=>[n(p,null,{default:a(()=>[(m(!0),I(oe,null,he(e.items,(_,y)=>(m(),F(r,{key:y,onClick:b=>e.$emit("update:modelValue",_.value)},{default:a(()=>[S("div",eH,[S("div",{class:re(["dot",{show:_.edited}])},null,2),O(" "+h(_.text),1)]),S("div",tH,[te(n(s,{value:_.progress,rounded:"",colorful:""},null,8,["value"]),[[v,`${Math.round(_.current/_.max*100)}%`]])])]),_:2},1032,["onClick"]))),128))]),_:1})]),_:3},8,["class"])}var lH=q(JW,[["render",nH],["__scopeId","data-v-0ebb08d8"]]);function aH(e={throttle:100}){const t=D(0),o=D(0);function l(){t.value=window.innerWidth,o.value=window.innerHeight}const d=H.exports.throttle(l,e.throttle);return za(l),rt(()=>{window.addEventListener("resize",d,{passive:!0})}),Ct(()=>{window.removeEventListener("resize",d)}),{width:t,height:o}}const oH=K({components:{LanguageSelect:lH},props:{collection:{type:String,required:!0},field:{type:String,required:!0},primaryKey:{type:[Number,String],required:!0},languageField:{type:String,default:null},value:{type:Array,default:null}},emits:["input"],setup(e,{emit:t}){const{collection:o,field:l}=Re(e),d=ze(),c=_t(),{t:i}=ae(),s=xe(),{width:r}=aH(),p=D(!1),f=D(),v=D(),{info:_}=at(o);_e(p,ne=>{const ie=A.value;ne&&v.value===f.value&&(v.value=ie[0].value===f.value?ie[1].value:ie[0].value)});const{junction:y,junctionCollection:b,junctionPrimaryKeyField:w,relation:$,relationCollection:k,relationPrimaryKeyField:V}=Tn(o,l),g=E(()=>$.value?$.value.field:null),{languageOptions:A,loading:R}=x(),{items:L,firstItem:M,loading:T,updateValue:U,secondItem:B,firstItemInitial:z,secondItemInitial:W}=ee(),J=E(()=>b.value===null?[]:d.getFieldsForCollection(b.value.collection)),Q=E(()=>r.value>960&&A.value.length>1),G=E(()=>Q.value&&p.value);return{collectionInfo:_,splitView:p,firstLang:f,secondLang:v,t:i,languageOptions:A,fields:J,translationsRelation:y,translationsCollection:b,translationsPrimaryKeyField:w,languagesRelation:$,languagesCollection:k,languagesPrimaryKeyField:V,translationsLanguageField:g,items:L,firstItem:M,secondItem:B,updateValue:U,relationsStore:c,firstItemInitial:z,secondItemInitial:W,splitViewAvailable:Q,splitViewEnabled:G,languagesLoading:R,valuesLoading:T};function x(){const ne=D([]),ie=D(!1),pe=D(null);return _e(k,Z,{immediate:!0}),{languageOptions:E(()=>{const se=g.value;if(se===null)return[];const le=J.value.filter(ve=>{var ue;return ve.type!=="alias"&&((ue=ve.meta)==null?void 0:ue.hidden)===!1&&ve.meta.readonly===!1}),ce=le.length;return ne.value.map(ve=>{var be,Se,De;if(V.value===null)return ve;const ue=ve[V.value.field],ge=(be=L.value.find(Ae=>Ae[se]===ue))!=null?be:{},fe=(Se=e.value)==null?void 0:Se.find(Ae=>typeof Ae=="object"&&Ae[se]===ue),me=X(X({},ge),fe!=null?fe:{}),ke=le.filter(Ae=>Ae.field in me&&Mt(me[Ae.field])).length;return{text:ve[(De=e.languageField)!=null?De:V.value.field],value:ue,edited:fe!==void 0,progress:Math.round(ke/ce*100),max:ce,current:ke}})}),loading:ie,error:pe};async function Z(){var le,ce,ve,ue,ge,fe,me;if(!k.value||!V.value)return;const se=new Set;e.languageField!==null&&se.add(e.languageField),se.add(V.value.field),ie.value=!0;try{const ke=await de.get(`/items/${k.value.collection}`,{params:{fields:Array.from(se),limit:-1,sort:(le=e.languageField)!=null?le:V.value.field}});if(ne.value=ke.data.data,!f.value){const be=(ve=(ce=ke.data.data)==null?void 0:ce.find(Se=>Se[V.value.field]===s.currentUser.language))==null?void 0:ve[V.value.field];f.value=be||((ge=(ue=ke.data.data)==null?void 0:ue[0])==null?void 0:ge[V.value.field])}v.value||(v.value=(me=(fe=ke.data.data)==null?void 0:fe[1])==null?void 0:me[V.value.field])}catch(ke){Fe(ke)}finally{ie.value=!1}}}function ee(){const ne=D([]),ie=D(!1),pe=D(null),Y=E(()=>ue(f)),Z=E(()=>ue(v)),se=E(()=>ve(f)),le=E(()=>ve(v));_e(()=>e.value,(me,ke)=>{me&&me!==ke&&(me==null?void 0:me.every(be=>typeof be=="string"||typeof be=="number"))&&ge(),(me===null||me.length===0)&&(ne.value=[])},{immediate:!0});const ce=E(()=>{var be,Se;const me=(be=w.value)==null?void 0:be.field;if(!me)return[];const ke=[...ne.value.map(De=>De[me])];return(Se=e.value)==null||Se.forEach(De=>{if(typeof De=="object")if(me in De){const Ae=ke.findIndex(Le=>Le===De[me]);ke[Ae]=De}else ke.push(De)}),ke});return{items:ne,firstItem:Y,updateValue:fe,secondItem:Z,firstItemInitial:se,secondItemInitial:le,loading:ie,error:pe};function ve(me){var Se;const ke=pl(me),be=g.value;return be===null?{}:(Se=ne.value.find(De=>De[be]===ke))!=null?Se:{}}function ue(me){var Se,De;const ke=pl(me),be=g.value;return be===null?{}:(De=(Se=e.value)==null?void 0:Se.find(Ae=>typeof Ae=="object"&&Ae[be]===ke))!=null?De:{}}async function ge(){var me;if(!(!((me=y.value)==null?void 0:me.field)||e.primaryKey==="+")){ie.value=!0;try{const ke=await de.get(`/items/${b.value.collection}`,{params:{fields:"*",limit:-1,filter:{[y.value.field]:{_eq:e.primaryKey}}}});ne.value=ke.data.data}catch(ke){pe.value=ke,Fe(ke)}finally{ie.value=!1}}}function fe(me,ke){var lt,Oe;const be=(lt=w.value)==null?void 0:lt.field,Se=g.value,De=ve(ke),Ae=H.exports.assign({},De,me);if(!be||!Se)return;let Le=H.exports.cloneDeep((Oe=ce.value)!=null?Oe:[]);if(be in Ae){const je=ne.value.find(Te=>Te[Se]===ke);Le=Le.map(Te=>typeof Te=="number"||typeof Te=="string"?Ae[be]===Te?Ae:Te:Ae[be]===Te[be]?H.exports.isEqual(je,X(X({},je),Ae))?Ae[be]:Ae:Te)}else{const je=Le.findIndex(Te=>typeof Te=="object"&&Te[Se]===ke);je!==-1?Object.keys(Ae).length===1&&Se in Ae?Le.splice(je,1):Le[je]=Ae:Le.push(ye(X({},Ae),{[Se]:ke}))}t("input",Le)}}}});function iH(e,t,o,l,d,c){var v,_;const i=u("v-icon"),s=u("language-select"),r=u("v-form"),p=u("v-divider"),f=Ce("tooltip");return m(),I("div",{class:re(["translations",{split:e.splitViewEnabled}])},[S("div",{class:re(["primary",e.splitViewEnabled?"half":"full"])},[n(s,{modelValue:e.firstLang,"onUpdate:modelValue":t[1]||(t[1]=y=>e.firstLang=y),items:e.languageOptions},{append:a(()=>[e.splitViewAvailable&&!e.splitViewEnabled?te((m(),F(i,{key:0,name:"flip",clickable:"",onClick:t[0]||(t[0]=Ie(y=>e.splitView=!0,["stop"]))},null,512)),[[f,e.t("interfaces.translations.toggle_split_view")]]):N("",!0)]),_:1},8,["modelValue","items"]),n(r,{loading:e.valuesLoading,fields:e.fields,"model-value":e.firstItem,"initial-values":e.firstItemInitial,badge:(v=e.languageOptions.find(y=>y.value===e.firstLang))==null?void 0:v.text,"onUpdate:modelValue":t[2]||(t[2]=y=>e.updateValue(y,e.firstLang))},null,8,["loading","fields","model-value","initial-values","badge"]),n(p)],2),e.splitViewEnabled?(m(),I("div",{key:0,class:re(["secondary",e.splitViewEnabled?"half":"full"])},[n(s,{modelValue:e.secondLang,"onUpdate:modelValue":t[4]||(t[4]=y=>e.secondLang=y),items:e.languageOptions,secondary:""},{append:a(()=>[te(n(i,{name:"close",clickable:"",onClick:t[3]||(t[3]=Ie(y=>e.splitView=!e.splitView,["stop"]))},null,512),[[f,e.t("interfaces.translations.toggle_split_view")]])]),_:1},8,["modelValue","items"]),n(r,{loading:e.valuesLoading,"initial-values":e.secondItemInitial,fields:e.fields,badge:(_=e.languageOptions.find(y=>y.value===e.secondLang))==null?void 0:_.text,"model-value":e.secondItem,"onUpdate:modelValue":t[5]||(t[5]=y=>e.updateValue(y,e.secondLang))},null,8,["loading","initial-values","fields","badge","model-value"]),n(p)],2)):N("",!0)],2)}var sH=q(oH,[["render",iH],["__scopeId","data-v-89c31c92"]]),rH=Me({id:"translations",name:"$t:translations",icon:"replay",types:["alias"],relational:!0,component:sH,options:XW}),dH=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:rH});const uH=K({props:{value:{type:String,default:null},disabled:{type:Boolean,default:!1},includeSystem:{type:Boolean,default:!1}},emits:["input"],setup(e){const{t}=ae(),o=qe(),l=E(()=>[...o.collections.filter(c=>c.collection.startsWith("directus_")===!1),...e.includeSystem?o.crudSafeSystemCollections:[]]);return{items:E(()=>l.value.map(c=>({text:c.name,value:c.collection}))),t}}});function cH(e,t,o,l,d,c){const i=u("v-select");return m(),F(i,{"model-value":e.value,disabled:e.disabled,items:e.items,placeholder:e.t("select_a_collection"),"onUpdate:modelValue":t[0]||(t[0]=s=>e.$emit("input",s))},null,8,["model-value","disabled","items","placeholder"])}var pH=q(uH,[["render",cH]]),mH=Me({id:"system-collection",name:"$t:interfaces.system-collection.collection",description:"$t:interfaces.system-collection.description",icon:"featured_play_list",component:pH,types:["string"],options:[{field:"includeSystem",name:"$t:system",type:"boolean",meta:{width:"half",interface:"boolean",options:{label:"$t:interfaces.system-collection.include_system_collections"}},schema:{default_value:!1}}],system:!0,recommendedDisplays:["collection"]}),fH=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:mH});const _H=K({props:{value:{type:Array,default:null},disabled:{type:Boolean,default:!1},includeSystem:{type:Boolean,default:!1}},emits:["input"],setup(e){const{t}=ae(),o=qe(),l=E(()=>e.includeSystem?o.collections:o.collections.filter(c=>c.collection.startsWith("directus_")===!1)),d=E(()=>l.value.map(c=>({text:c.name,value:c.collection})));return{t,items:d}}});function vH(e,t,o,l,d,c){const i=u("v-notice"),s=u("interface-select-multiple-checkbox");return e.items.length===0?(m(),F(i,{key:0},{default:a(()=>[O(h(e.t("no_collections")),1)]),_:1})):(m(),F(s,{key:1,choices:e.items,value:e.value,disabled:e.disabled,onInput:t[0]||(t[0]=r=>e.$emit("input",r))},null,8,["choices","value","disabled"]))}var yH=q(_H,[["render",vH]]),gH=Me({id:"system-collections",name:"$t:interfaces.system-collections.collections",description:"$t:interfaces.system-collections.description",icon:"featured_play_list",component:yH,types:["json","csv"],options:[{field:"includeSystem",name:"$t:system",type:"boolean",meta:{width:"half",interface:"boolean",options:{label:"$t:interfaces.system-collections.include_system_collections"}},schema:{default_value:!1}}],system:!0,recommendedDisplays:["labels"]}),hH=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:gH});const bH=K({props:{disabled:{type:Boolean,default:!1},value:{type:String,default:null},collectionField:{type:String,default:null},collectionName:{type:String,default:null}},emits:["input"],setup(e){const{t}=ae(),o=qe(),l=ht("values",D({})),d=E(()=>{if(!e.collectionField)return e.collectionName?e.collectionName:null;const c=l.value[e.collectionField];return!!o.collections.find(s=>s.collection===c)===!1?null:c});return{t,collection:d}}}),$H={class:"system-display-template"};function kH(e,t,o,l,d,c){const i=u("v-notice"),s=u("v-field-template");return m(),I("div",$H,[!e.collectionField&&!e.collectionName?(m(),F(i,{key:0,type:"warning"},{default:a(()=>[O(h(e.t("interfaces.system-display-template.collection_field_not_setup")),1)]),_:1})):e.collection===null?(m(),F(i,{key:1,type:"warning"},{default:a(()=>[O(h(e.t("interfaces.system-display-template.select_a_collection")),1)]),_:1})):(m(),F(s,{key:2,collection:e.collection,"model-value":e.value,disabled:e.disabled,"onUpdate:modelValue":t[0]||(t[0]=r=>e.$emit("input",r))},null,8,["collection","model-value","disabled"]))])}var wH=q(bH,[["render",kH]]),CH=Me({id:"system-display-template",name:"$t:interfaces.system-display-template.display-template",description:"$t:interfaces.system-display-template.description",icon:"arrow_drop_down_circle",component:wH,types:["string"],system:!0,options:[{field:"collectionField",name:"$t:interfaces.system-display-template.collection_field",type:"string",meta:{width:"full",interface:"input"},schema:{default_value:null}}]}),SH=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:CH});const FH=K({props:{collectionField:{type:String,default:null},collection:{type:String,default:null},typeAllowList:{type:Array,default:()=>[]},value:{type:String,default:null},disabled:{type:Boolean,default:!1},placeholder:{type:String,default:null},allowNone:{type:Boolean,default:!1},allowPrimaryKey:{type:Boolean,default:!1}},emits:["input"],setup(e,{emit:t}){const{t:o}=ae(),l=ze(),d=ht("values",D({})),c=E(()=>d.value[e.collectionField]||e.collection),i=E(()=>!e.collectionField&&!e.collection?[]:l.getFieldsForCollection(c.value));_e(c,(r,p)=>{p!==null&&r!==p&&t("input",null)});const s=E(()=>i.value.map(r=>{var f;let p=!1;return e.allowPrimaryKey===!1&&((f=r==null?void 0:r.schema)==null?void 0:f.is_primary_key)===!0&&(p=!0),e.typeAllowList.length>0&&e.typeAllowList.includes(r.type)===!1&&(p=!0),{text:r.name,value:r.field,disabled:p}}));return{t:o,selectItems:s,values:d,fields:i}}});function VH(e,t,o,l,d,c){const i=u("v-notice"),s=u("v-select");return!e.collectionField&&!e.collection?(m(),F(i,{key:0,type:"warning"},{default:a(()=>[O(h(e.t("collection_field_not_setup")),1)]),_:1})):e.selectItems.length===0?(m(),F(i,{key:1,type:"warning"},{default:a(()=>[O(h(e.t("select_a_collection")),1)]),_:1})):(m(),F(s,{key:2,"show-deselect":e.allowNone,"model-value":e.value,disabled:e.disabled,items:e.selectItems,placeholder:e.placeholder||e.t("select_a_field"),"onUpdate:modelValue":t[0]||(t[0]=r=>e.$emit("input",r))},null,8,["show-deselect","model-value","disabled","items","placeholder"]))}var EH=q(FH,[["render",VH]]),IH=Me({id:"system-field",name:"$t:field",icon:"box",component:EH,types:["string"],options:[],system:!0}),AH=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:IH});const DH=K({props:{collectionField:{type:String,default:null},collection:{type:String,default:null},value:{type:Array,default:null},disabled:{type:Boolean,default:!1},placeholder:{type:String,default:null},allowNone:{type:Boolean,default:!1}},emits:["input"],setup(e){const{t}=ae(),o=ht("values",D({})),l=E(()=>o.value[e.collectionField]||e.collection),{treeList:d,loadFieldRelations:c}=rl(l);return{t,values:o,treeList:d,chosenCollection:l,loadFieldRelations:c}}}),OH={key:2,class:"system-field-tree"};function PH(e,t,o,l,d,c){const i=u("v-notice"),s=u("v-checkbox-tree");return!e.collectionField&&!e.collection?(m(),F(i,{key:0,type:"warning"},{default:a(()=>[O(h(e.t("collection_field_not_setup")),1)]),_:1})):e.chosenCollection?(m(),I("div",OH,[n(s,{"model-value":e.value,disabled:e.disabled,choices:e.treeList,"item-text":"name","item-value":"key","value-combining":"exclusive","onUpdate:modelValue":t[0]||(t[0]=r=>e.$emit("input",r)),onGroupToggle:t[1]||(t[1]=r=>e.loadFieldRelations(r.value,1))},null,8,["model-value","disabled","choices"])])):(m(),F(i,{key:1,type:"warning"},{default:a(()=>[O(h(e.t("select_a_collection")),1)]),_:1}))}var TH=q(DH,[["render",PH],["__scopeId","data-v-e9fff2d6"]]),LH=Me({id:"system-field-tree",name:"$t:field",icon:"box",component:TH,types:["string"],options:[],system:!0}),jH=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:LH});const RH=K({props:{is:{type:String,required:!0},type:{type:String,required:!0},value:{type:[String,Number,Object,Boolean,Array],default:null},focus:{type:Boolean,default:!0},choices:{type:Array,default:()=>[]}},emits:["input"],setup(e,{emit:t}){const o=D(),{t:l}=ae(),d=E(()=>e.value===null||e.value===void 0?null:typeof e.value=="string"&&e.value.length>25?e.value.substring(0,22)+"...":e.value),c=E(()=>{var p;return(((p=e.value)==null?void 0:p.toString().length)||2)+1+"ch"}),i=E(()=>{switch(e.type){case"integer":case"bigInteger":return"[+-]?[0-9]+";case"decimal":case"float":return"[+-]?[0-9]+\\.?[0-9]*";case"uuid":return"[a-fA-F0-9]{8}-[a-fA-F0-9]{4}-[a-fA-F0-9]{4}-[a-fA-F0-9]{4}-[a-fA-F0-9]{12}";default:return""}});rt(()=>{var p;e.focus&&((p=o.value)==null||p.focus())});const s=H.exports.debounce(p=>r(p),250);return{displayValue:d,width:c,t:l,emitValueDebounced:s,inputEl:o,inputPattern:i};function r(p){p===""?t("input",null):(typeof p!="string"||new RegExp(i.value).test(p))&&t("input",p)}}}),MH=["pattern","value"],UH=["onClick"];function NH(e,t,o,l,d,c){const i=u("v-icon"),s=u("v-select"),r=u("v-menu");return e.type==="boolean"?(m(),F(i,{key:0,name:e.value===null?"indeterminate_check_box":e.value?"check_box":"check_box_outline_blank",clickable:"",class:"preview",small:"",onClick:t[0]||(t[0]=p=>e.$emit("input",!e.value))},null,8,["name"])):e.is==="interface-input"?(m(),I("input",{key:1,ref:"inputEl",type:"text",pattern:e.inputPattern,value:e.value,style:Ke({width:e.width}),placeholder:"--",onInput:t[1]||(t[1]=p=>e.emitValueDebounced(p.target.value))},null,44,MH)):e.is==="select"?(m(),F(s,{key:2,inline:"",items:e.choices,"model-value":e.value,"allow-other":"",placeholder:e.t("select"),"onUpdate:modelValue":t[2]||(t[2]=p=>e.emitValueDebounced(p))},null,8,["items","model-value","placeholder"])):(m(),F(r,{key:3,"close-on-content-click":!1,"show-arrow":!0,placement:"bottom-start"},{activator:a(({toggle:p})=>[e.type==="geometry"||e.type==="json"?(m(),F(i,{key:0,class:"preview",name:e.type==="json"?"integration_instructions":"map",onClick:p},null,8,["name","onClick"])):(m(),I("div",{key:1,class:"preview",onClick:p},h(e.displayValue),9,UH))]),default:a(()=>[S("div",{class:re(["input",e.type])},[(m(),F(Ue(e.is),{class:"input-component",small:"",type:e.type,value:e.value,onInput:t[3]||(t[3]=p=>e.emitValueDebounced(p))},null,8,["type","value"]))],2)]),_:1}))}var BH=q(RH,[["render",NH],["__scopeId","data-v-44075fce"]]);function ul(e){return Object.keys(e)[0]}function nn(e){const t=ul(e);if(t.startsWith("_"))return"";const o=nn(e[t]);return o!==""?`${t}.${o}`:t}function Ln(e){return ul(H.exports.get(e,nn(e)))}function Aa(e,t,o){return l(e.split("."));function l(d){const c=d.shift();return c!==void 0?{[c]:l(d)}:{[t]:o}}}const qH=K({components:{InputComponent:BH},props:{field:{type:Object,required:!0},collection:{type:String,required:!0}},emits:["update:field"],setup(e,{emit:t}){const o=ze(),{t:l}=ae(),d=E(()=>o.getField(e.collection,nn(e.field))),c=E(()=>{var p,f,v,_;return((v=(f=(p=d.value)==null?void 0:p.meta)==null?void 0:f.options)==null?void 0:v.choices)?"select":"interface-"+{bigInteger:"input",binary:"input",boolean:"boolean",date:"datetime",dateTime:"datetime",decimal:"input",float:"input",integer:"input",json:"input-code",string:"input",text:"input-multiline",time:"datetime",timestamp:"datetime",uuid:"input",csv:"input",hash:"input-hash",geometry:"map"}[((_=d.value)==null?void 0:_.type)||"string"]}),i=E({get(){const r=nn(e.field),p=Ln(e.field),f=H.exports.get(e.field,`${r}.${p}`);return["_in","_nin"].includes(Ln(e.field))?[...f.filter(v=>v!==null&&v!==""),null]:f},set(r){const p=nn(e.field),f=Ln(e.field);let v;["_in","_nin"].includes(f)?v=r.filter(_=>_!==null&&_!==""):v=r,t("update:field",Aa(p,f,v))}});function s(r,p){let f=Array.isArray(i.value)?H.exports.clone(i.value):new Array(r+1);f[r]=p,i.value=f}return{t:l,fieldInfo:d,interfaceType:c,value:i,setValueAt:s,getComparator:Ln}}}),zH={class:"and"};function KH(e,t,o,l,d,c){var s,r,p,f,v,_;const i=u("input-component");return["_eq","_neq","_lt","_gt","_lte","_gte","_contains","_ncontains","_starts_with","_nstarts_with","_ends_with","_nends_with"].includes(e.getComparator(e.field))?(m(),F(i,{key:0,is:e.interfaceType,choices:(r=(s=e.fieldInfo.meta)==null?void 0:s.options)==null?void 0:r.choices,type:e.fieldInfo.type,value:e.value,onInput:t[0]||(t[0]=y=>e.value=y)},null,8,["is","choices","type","value"])):["_in","_nin"].includes(e.getComparator(e.field))?(m(),I("div",{key:1,class:re(["list",{moveComma:e.interfaceType==="interface-input"}])},[(m(!0),I(oe,null,he(e.value,(y,b)=>{var w,$;return m(),I("div",{key:b,class:"value"},[n(i,{is:e.interfaceType,type:e.fieldInfo.type,value:y,focus:!1,choices:($=(w=e.fieldInfo.meta)==null?void 0:w.options)==null?void 0:$.choices,onInput:k=>e.setValueAt(b,k)},null,8,["is","type","value","choices","onInput"])])}),128))],2)):["_between","_nbetween"].includes(e.getComparator(e.field))?(m(),I(oe,{key:2},[n(i,{is:e.interfaceType,choices:(f=(p=e.fieldInfo.meta)==null?void 0:p.options)==null?void 0:f.choices,type:e.fieldInfo.type,value:e.value[0],onInput:t[1]||(t[1]=y=>e.setValueAt(0,y))},null,8,["is","choices","type","value"]),S("div",zH,h(e.t("interfaces.filter.and")),1),n(i,{is:e.interfaceType,choices:(_=(v=e.fieldInfo.meta)==null?void 0:v.options)==null?void 0:_.choices,type:e.fieldInfo.type,value:e.value[1],onInput:t[2]||(t[2]=y=>e.setValueAt(1,y))},null,8,["is","choices","type","value"])],64)):N("",!0)}var WH=q(qH,[["render",KH],["__scopeId","data-v-e8973d2e"]]);const HH=K({name:"Nodes",components:{Draggable:wt,InputGroup:WH},props:{filter:{type:Object,required:!0},collection:{type:String,required:!0},depth:{type:Number,default:1},inline:{type:Boolean,default:!1}},emits:["remove-node","update:filter","change"],setup(e,{emit:t}){const{collection:o}=Re(e),l=Pe(e,"filter",t),{treeList:d,loadFieldRelations:c}=rl(o),i=ze(),{t:s}=ae(),r=E({get(){return e.filter.map(($,k)=>{const V=ul($),g=V.startsWith("_")===!1;return g?{id:k,isField:g,name:V,field:nn($),comparator:Ln($),node:$}:{id:k,name:V,isField:g,node:$}})},set($){t("update:filter",$.map(k=>k.node))}});return{fieldOptions:d,getCompareOptions:w,updateField:y,updateComparator:_,t:s,replaceNode:b,toggleLogic:v,loadFieldRelations:c,getNodeName:ul,getField:nn,getComparator:Ln,filterInfo:r,getIndex:f,getFieldPreview:p,filterSync:l};function p($){const V=nn($).split(".");return V.map((A,R)=>{var T;const L=V.slice(0,R),M=i.getField(e.collection,[...L,A].join("."));return(T=M==null?void 0:M.name)!=null?T:A}).join(" -> ")}function f($){return e.filter.findIndex(k=>k===$)}function v($){const k=r.value[$];r.value[$].isField||("_and"in k.node?l.value=l.value.map((V,g)=>g===$?{_or:k.node._and}:V):l.value=l.value.map((V,g)=>g===$?{_and:k.node._or}:V))}function _($,k){const V=r.value[$];if(V.isField===!1)return;const g=V.field+"."+V.comparator;let A=H.exports.get(V.node,g);switch(k){case"_in":case"_nin":R(hl(A)||[]);break;case"_between":case"_nbetween":R((hl(A)||[]).slice(0,2));break;case"_null":case"_nnull":case"_empty":case"_nempty":R(!0);break;default:R(Array.isArray(A)?A[0]:A);break}function R(L){V.isField!==!1&&(l.value=l.value.map((M,T)=>T===$?Aa(V.field,k,L):M))}}function y($,k){const V=r.value[$],g=i.getField(e.collection,V.name),A=i.getField(e.collection,k);if(V.isField===!1)return;const R=V.field+"."+V.comparator;let L=H.exports.get(V.node,R),M=V.comparator;(g==null?void 0:g.type)!==(A==null?void 0:A.type)&&(L=null,M=w(k)[0].value),l.value=l.value.map((T,U)=>U===$?Aa(k,M,L):T)}function b($,k){l.value=l.value.map((V,g)=>g===$?k:V)}function w($){const k=i.getField(e.collection,$);return k===null?[]:O1(k.type).map(V=>({text:s(`operators.${V}`),value:`_${V}`}))}}}),GH={class:"row"},QH={key:0,block:"",class:"node field"},XH={class:"delete"},JH={key:1,class:"node logic"},YH=["onClick"],ZH={class:"text"},xH={class:"delete"};function eG(e,t,o,l,d,c){const i=u("v-icon"),s=u("v-select"),r=u("input-group"),p=u("nodes",!0),f=u("draggable"),v=Ce("tooltip");return m(),F(f,{tag:"ul",draggable:".row",handle:".drag-handle",class:"group",list:e.filterSync,group:{name:"g1"},"item-key":e.getIndex,"swap-threshold":.3,"force-fallback":!0,onChange:t[2]||(t[2]=_=>e.$emit("change"))},{item:a(({element:_,index:y})=>[S("li",GH,[e.filterInfo[y].isField?(m(),I("div",QH,[S("div",{class:re(["header",{inline:e.inline}])},[n(i,{name:"drag_indicator",class:"drag-handle",small:""}),n(s,{inline:"",class:"name","item-text":"name","item-value":"key",placement:"bottom-start","full-width":!1,"model-value":e.filterInfo[y].field,items:e.fieldOptions,mandatory:!1,"groups-clickable":!0,onGroupToggle:t[0]||(t[0]=b=>e.loadFieldRelations(b.value,1)),"onUpdate:modelValue":b=>e.updateField(y,b)},{preview:a(()=>[O(h(e.getFieldPreview(_)),1)]),_:2},1032,["model-value","items","onUpdate:modelValue"]),n(s,{inline:"",class:"comparator",placement:"bottom-start","model-value":e.filterInfo[y].comparator,items:e.getCompareOptions(e.filterInfo[y].field),"onUpdate:modelValue":b=>e.updateComparator(y,b)},null,8,["model-value","items","onUpdate:modelValue"]),n(r,{field:_,collection:e.collection,"onUpdate:field":b=>e.replaceNode(y,b)},null,8,["field","collection","onUpdate:field"]),S("span",XH,[te(n(i,{name:"close",small:"",clickable:"",onClick:b=>e.$emit("remove-node",[y])},null,8,["onClick"]),[[v,e.t("delete_label")]])])],2)])):(m(),I("div",JH,[S("div",{class:re(["header",{inline:e.inline}])},[n(i,{name:"drag_indicator",class:"drag-handle",small:""}),S("div",{class:re(["logic-type",{or:e.filterInfo[y].name==="_or"}])},[S("span",{class:"key",onClick:b=>e.toggleLogic(y)},h(e.filterInfo[y].name==="_and"?e.t("interfaces.filter.all"):e.t("interfaces.filter.any")),9,YH),S("span",ZH,h(e.t("interfaces.filter.of_the_following")),1)],2),S("span",xH,[te(n(i,{name:"close",small:"",clickable:"",onClick:b=>e.$emit("remove-node",[y])},null,8,["onClick"]),[[v,e.t("delete_label")]])])],2),n(p,{filter:_[e.filterInfo[y].name],collection:e.collection,depth:e.depth+1,inline:e.inline,onChange:t[1]||(t[1]=b=>e.$emit("change")),onRemoveNode:b=>e.$emit("remove-node",[`${y}.${e.filterInfo[y].name}`,...b]),"onUpdate:filter":b=>e.replaceNode(y,{[e.filterInfo[y].name]:b})},null,8,["filter","collection","depth","inline","onRemoveNode","onUpdate:filter"])]))])]),_:1},8,["list","item-key","swap-threshold"])}var tG=q(HH,[["render",eG],["__scopeId","data-v-113fa033"]]);const nG=K({components:{Nodes:tG},props:{value:{type:Object,default:null},disabled:{type:Boolean,default:!1},collectionName:{type:String,default:null},collectionField:{type:String,default:null},inline:{type:Boolean,default:!1}},emits:["input"],setup(e,{emit:t}){const{t:o}=ae(),l=ht("values",D({})),d=E(()=>{var _;return e.collectionName?e.collectionName:(_=l.value[e.collectionField])!=null?_:null}),{treeList:c,loadFieldRelations:i}=rl(d),s=E({get(){return!e.value||H.exports.isEmpty(e.value)?[]:ul(e.value)==="_and"?H.exports.cloneDeep(e.value._and):H.exports.cloneDeep([e.value])},set(_){_.length===0?t("input",null):t("input",{_and:_})}}),r=E(()=>[{key:"$group",name:o("interfaces.filter.add_group")},{divider:!0},...c.value]);return{t:o,addNode:f,removeNode:v,innerValue:s,fieldOptions:r,loadFieldRelations:i,emitValue:p,collection:d};function p(){s.value.length===0?t("input",null):t("input",{_and:s.value})}function f(_){if(_==="$group")s.value=[...s.value,{_and:[]}];else{const y={};H.exports.set(y,_,{_eq:null}),s.value=[...s.value,y]}}function v(_){const y=_.pop();if(_.length===0){s.value=s.value.filter((w,$)=>$!==Number(y));return}let b=H.exports.get(s.value,_.join("."));b=b.filter((w,$)=>$!==Number(y)),s.value=H.exports.set(s.value,_.join("."),b)}}}),lG={key:0,class:"no-rules"},aG={class:"buttons"};function oG(e,t,o,l,d,c){const i=u("v-notice"),s=u("nodes"),r=u("v-list"),p=u("v-icon"),f=u("v-select");return!e.collectionField&&!e.collection?(m(),F(i,{key:0,type:"warning"},{default:a(()=>[O(h(e.t("collection_field_not_setup")),1)]),_:1})):e.collection?(m(),I("div",{key:2,class:re(["system-filter",{inline:e.inline,empty:e.innerValue.length===0}])},[n(r,{mandatory:!0},{default:a(()=>[e.innerValue.length===0?(m(),I("div",lG,h(e.t("interfaces.filter.no_rules")),1)):(m(),F(s,{key:1,filter:e.innerValue,"onUpdate:filter":t[0]||(t[0]=v=>e.innerValue=v),collection:e.collection,depth:1,onRemoveNode:t[1]||(t[1]=v=>e.removeNode(v)),onChange:e.emitValue},null,8,["filter","collection","onChange"]))]),_:1}),S("div",aG,[n(f,{inline:!e.inline,"item-text":"name","item-value":"key",placement:"bottom-start",class:"add-filter",placeholder:e.t("interfaces.filter.add_filter"),"full-width":e.inline,"model-value":null,items:e.fieldOptions,mandatory:!1,"groups-clickable":!0,onGroupToggle:t[2]||(t[2]=v=>e.loadFieldRelations(v.value,1)),"onUpdate:modelValue":t[3]||(t[3]=v=>e.addNode(v))},Ne({_:2},[e.inline?{name:"prepend",fn:a(()=>[n(p,{name:"add",small:""})])}:void 0]),1032,["inline","placeholder","full-width","items"])])],2)):(m(),F(i,{key:1,type:"warning"},{default:a(()=>[O(h(e.t("select_a_collection")),1)]),_:1}))}var iG=q(nG,[["render",oG],["__scopeId","data-v-2f6d59c4"]]),sG=Me({id:"system-filter",name:"$t:interfaces.filter.name",icon:"search",component:iG,types:["json"],options:[],system:!0}),rG=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:sG});const dG=K({name:"FolderListItem",props:{folder:{type:Object,required:!0},currentFolder:{type:String,default:null},disabled:{type:Boolean,default:!1},disabledFolders:{type:Array,default:()=>[]}},emits:["click"]});function uG(e,t,o,l,d,c){const i=u("v-icon"),s=u("v-list-item-icon"),r=u("v-list-item-content"),p=u("v-list-item"),f=u("folder-list-item",!0),v=u("v-list-group");return!e.folder.children||e.folder.children.length===0?(m(),F(p,{key:0,active:e.currentFolder===e.folder.id,disabled:e.disabled,clickable:"",onClick:t[0]||(t[0]=_=>e.$emit("click",e.folder.id))},{default:a(()=>[n(s,null,{default:a(()=>[n(i,{name:e.currentFolder===e.folder.id?"folder_open":"folder"},null,8,["name"])]),_:1}),n(r,null,{default:a(()=>[O(h(e.folder.name),1)]),_:1})]),_:1},8,["active","disabled"])):(m(),F(v,{key:1,clickable:"",active:e.currentFolder===e.folder.id,disabled:e.disabled,onClick:t[2]||(t[2]=_=>e.$emit("click",e.folder.id))},{activator:a(()=>[n(s,null,{default:a(()=>[n(i,{name:e.currentFolder===e.folder.id?"folder_open":"folder"},null,8,["name"])]),_:1}),n(r,null,{default:a(()=>[O(h(e.folder.name),1)]),_:1})]),default:a(()=>[(m(!0),I(oe,null,he(e.folder.children,_=>(m(),F(f,{key:_.id,folder:_,"current-folder":e.currentFolder,disabled:e.disabledFolders.includes(_.id),"disabled-folders":e.disabledFolders,onClick:t[1]||(t[1]=y=>e.$emit("click",y))},null,8,["folder","current-folder","disabled","disabled-folders"]))),128))]),_:1},8,["active","disabled"]))}var cG=q(dG,[["render",uG]]);const pG=K({components:{FolderListItem:cG},props:{value:{type:String,default:void 0},disabledFolders:{type:Array,default:()=>[]},disabled:{type:Boolean,default:!1},placeholder:{type:String,default:""}},emits:["input"],setup(e,{emit:t}){const{t:o}=ae(),{nestedFolders:l,folders:d,loading:c}=Xn(),i=E(()=>{if(!e.value||!d.value)return o("interfaces.system-folder.root_name");const f=d.value.find(v=>v.id===e.value);return f?r(f,d.value).map(v=>v.name).join(" / "):e.value});return{emitValue:s,loading:c,folderPath:i,nestedFolders:l,onFolderSelect:p,t:o};function s(f){return t("input",f)}function r(f,v){const _=new Map(v.map(b=>[b.id,b])),y=b=>(_.has(b.parent)?y(_.get(b.parent)):[]).concat(b);return y(f)}function p(f){e.disabled||t("input",f)}}});function mG(e,t,o,l,d,c){const i=u("v-skeleton-loader"),s=u("v-icon"),r=u("v-input"),p=u("v-list-item-icon"),f=u("v-list-item-content"),v=u("v-list-item"),_=u("v-divider"),y=u("folder-list-item"),b=u("v-list"),w=u("v-menu");return e.loading?(m(),F(i,{key:0})):(m(),F(w,{key:1,class:"v-select",attached:!0,"show-arrow":!1,disabled:e.disabled,"close-on-content-click":!0},{activator:a(({toggle:$,active:k})=>[n(r,{readonly:"",active:k,"model-value":e.folderPath,placeholder:e.placeholder,disabled:e.disabled,onClick:$},{prepend:a(()=>[n(s,{name:e.value?"folder_open":"folder_special"},null,8,["name"])]),append:a(()=>[n(s,{name:"expand_more",class:re({active:k})},null,8,["class"])]),_:2},1032,["active","model-value","placeholder","disabled","onClick"])]),default:a(()=>[n(b,null,{default:a(()=>[n(v,{clickable:"",active:!e.value,onClick:t[0]||(t[0]=$=>e.emitValue(null))},{default:a(()=>[n(p,null,{default:a(()=>[n(s,{name:"folder_special"})]),_:1}),n(f,null,{default:a(()=>[O(h(e.t("interfaces.system-folder.root_name")),1)]),_:1})]),_:1},8,["active"]),e.nestedFolders&&e.nestedFolders.length>0?(m(),F(_,{key:0})):N("",!0),(m(!0),I(oe,null,he(e.nestedFolders,$=>(m(),F(y,{key:$.id,clickbable:"",folder:$,"current-folder":e.value,disabled:e.disabledFolders.includes($.id),"disabled-folders":e.disabledFolders,onClick:e.emitValue},null,8,["folder","current-folder","disabled","disabled-folders","onClick"]))),128))]),_:1})]),_:1},8,["disabled"]))}var fG=q(pG,[["render",mG],["__scopeId","data-v-243bccaf"]]),_G=Me({id:"system-folder",name:"$t:interfaces.system-folder.folder",description:"$t:interfaces.system-folder.description",icon:"folder",component:fG,types:["uuid"],options:[],system:!0,recommendedDisplays:["raw"]}),vG=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:_G});const yG=K({props:{value:{type:String,default:null},typeField:{type:String,default:null}},emits:["input"],setup(e,{emit:t}){const{t:o}=ae(),{interfaces:l}=Rt(),d=ht("values",D({})),c=E(()=>{if(!(e.typeField===null||!d.value[e.typeField]))return d.value[e.typeField]});_e(()=>d.value[e.typeField],()=>{t("input",null)});const i=E(()=>l.value.filter(s=>s.relational!==!0&&s.system!==!0).filter(s=>c.value===void 0||s.types.includes(c.value)).map(s=>({text:s.name,value:s.id})));return{t:o,items:i,selectedType:c,values:d}}});function gG(e,t,o,l,d,c){const i=u("v-notice"),s=u("v-select");return e.selectedType===void 0?(m(),F(i,{key:0},{default:a(()=>[O(h(e.t("select_field_type")),1)]),_:1})):(m(),F(s,{key:1,items:e.items,"model-value":e.value,placeholder:e.t("interfaces.system-interface.placeholder"),"onUpdate:modelValue":t[0]||(t[0]=r=>e.$emit("input",r))},null,8,["items","model-value","placeholder"]))}var hG=q(yG,[["render",gG]]),bG=Me({id:"system-interface",name:"$t:interfaces.system-interface.interface",description:"$t:interfaces.system-interface.description",icon:"box",component:hG,types:["string"],system:!0,options:[]}),$G=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:bG});const kG=K({props:{value:{type:Object,default:null},interfaceField:{type:String,default:null},interface:{type:String,default:null}},emits:["input"],setup(e){const{t}=ae(),{interfaces:o}=Rt(),l=ht("values",D({})),d=E(()=>{if(e.interface)return o.value.find(c=>c.id===e.interface);if(!!l.value[e.interfaceField])return o.value.find(c=>c.id===l.value[e.interfaceField])});return{t,selectedInterface:d,values:l}}}),wG={key:2,class:"inset"};function CG(e,t,o,l,d,c){const i=u("v-notice"),s=u("v-form");return e.selectedInterface?e.selectedInterface.options?(m(),I("div",wG,[Array.isArray(e.selectedInterface.options)?(m(),F(s,{key:0,fields:e.selectedInterface.options,"primary-key":"+","model-value":e.value,"onUpdate:modelValue":t[0]||(t[0]=r=>e.$emit("input",r))},null,8,["fields","model-value"])):(m(),F(Ue(`interface-options-${e.selectedInterface.id}`),{key:1,value:e.value,onInput:t[1]||(t[1]=r=>e.$emit("input",r))},null,8,["value"]))])):(m(),F(i,{key:1},{default:a(()=>[O(h(e.t("no_options_available")),1)]),_:1})):(m(),F(i,{key:0},{default:a(()=>[O(h(e.t("select_interface")),1)]),_:1}))}var SG=q(kG,[["render",CG],["__scopeId","data-v-0e50e755"]]),FG=Me({id:"system-interface-options",name:"$t:interfaces.system-interface-options.interface-options",description:"$t:interfaces.system-interface-options.description",icon:"box",component:SG,types:["string"],options:[],system:!0}),VG=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:FG});const EG=K({props:{disabled:{type:Boolean,default:!1},value:{type:String,default:null}},emits:["input"],setup(){return{languages:Object.entries(no).map(([t,o])=>({text:o,value:t}))}}});function IG(e,t,o,l,d,c){const i=u("v-select");return m(),F(i,{"model-value":e.value,items:e.languages,disabled:e.disabled,"onUpdate:modelValue":t[0]||(t[0]=s=>e.$emit("input",s))},null,8,["model-value","items","disabled"])}var AG=q(EG,[["render",IG]]),DG=Me({id:"system-language",name:"$t:language",icon:"translate",component:AG,system:!0,types:["string"],options:[]}),OG=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:DG});const PG=K({props:{value:{type:String,default:null},primaryKey:{type:String,default:null}},setup(e){const{t}=ae(),o=xe(),l=D(!!e.value),d=D(!1),c=D(!1),i=D(!1),s=D(!1),r=bt(),p=D(),f=D(""),v=D(),_=D("");rt(()=>{_.value=""}),_e(()=>e.value,()=>{l.value=!!e.value},{immediate:!0});const y=E(()=>{var g;return((g=o.currentUser)==null?void 0:g.id)===e.primaryKey});return{t,tfaEnabled:l,tfaGenerated:d,generateTFA:w,cancelAndClose:$,enableTFA:k,toggle:b,password:_,enableActive:c,disableActive:i,loading:s,canvasID:r,secret:p,disableTFA:V,otp:f,error:v,isCurrentUser:y};function b(){l.value===!1?c.value=!0:i.value=!0}async function w(){if(s.value!==!0){s.value=!0;try{const g=await de.post("/users/me/tfa/generate",{password:_.value}),A=g.data.data.otpauth_url;p.value=g.data.data.secret,await er.toCanvas(document.getElementById(r),A),d.value=!0,v.value=null}catch(g){v.value=g}finally{s.value=!1}}}function $(){d.value=!1,c.value=!1,_.value="",f.value="",p.value=""}async function k(){if(s.value!==!0){s.value=!0;try{await de.post("/users/me/tfa/enable",{otp:f.value,secret:p.value}),l.value=!0,d.value=!1,c.value=!1,_.value="",f.value="",p.value="",v.value=null}catch(g){v.value=g}finally{s.value=!1}}}async function V(){s.value=!0;try{await de.post("/users/me/tfa/disable",{otp:f.value}),l.value=!1,i.value=!1,f.value=""}catch(g){v.value=g}finally{s.value=!1}}}}),TG=e=>(He("data-v-72d3e712"),e=e(),Ge(),e),LG=TG(()=>S("div",{class:"spacer"},null,-1)),jG=["id"],RG={class:"secret selectable"};function MG(e,t,o,l,d,c){const i=u("v-icon"),s=u("v-checkbox"),r=u("v-card-title"),p=u("v-input"),f=u("v-error"),v=u("v-card-text"),_=u("v-button"),y=u("v-card-actions"),b=u("v-progress-circular"),w=u("v-card"),$=u("v-dialog");return m(),I("div",null,[n(s,{block:"","model-value":e.tfaEnabled,disabled:!e.isCurrentUser,onClick:e.toggle},{append:a(()=>[n(i,{name:"launch",class:re(["checkbox-icon",{enabled:e.tfaEnabled}])},null,8,["class"])]),default:a(()=>[O(h(e.tfaEnabled?e.t("enabled"):e.t("disabled"))+" ",1),LG]),_:1},8,["model-value","disabled","onClick"]),n($,{modelValue:e.enableActive,"onUpdate:modelValue":t[4]||(t[4]=k=>e.enableActive=k),persistent:"",onEsc:e.cancelAndClose},{default:a(()=>[n(w,null,{default:a(()=>[e.tfaEnabled===!1&&e.tfaGenerated===!1&&e.loading===!1?(m(),I("form",{key:0,onSubmit:t[1]||(t[1]=Ie((...k)=>e.generateTFA&&e.generateTFA(...k),["prevent"]))},[n(r,null,{default:a(()=>[O(h(e.t("enter_password_to_enable_tfa")),1)]),_:1}),n(v,null,{default:a(()=>[n(p,{modelValue:e.password,"onUpdate:modelValue":t[0]||(t[0]=k=>e.password=k),nullable:!1,type:"password",placeholder:e.t("password")},null,8,["modelValue","placeholder"]),e.error?(m(),F(f,{key:0,error:e.error},null,8,["error"])):N("",!0)]),_:1}),n(y,null,{default:a(()=>[n(_,{type:"button",secondary:"",onClick:e.cancelAndClose},{default:a(()=>[O(h(e.t("cancel")),1)]),_:1},8,["onClick"]),n(_,{type:"submit",loading:e.loading},{default:a(()=>[O(h(e.t("next")),1)]),_:1},8,["loading"])]),_:1})],32)):e.loading===!0?(m(),F(b,{key:1,class:"loader",indeterminate:""})):N("",!0),te(S("div",null,[S("form",{onSubmit:t[3]||(t[3]=Ie((...k)=>e.enableTFA&&e.enableTFA(...k),["prevent"]))},[n(r,null,{default:a(()=>[O(h(e.t("tfa_scan_code")),1)]),_:1}),n(v,null,{default:a(()=>[S("canvas",{id:e.canvasID,class:"qr"},null,8,jG),S("output",RG,h(e.secret),1),n(p,{modelValue:e.otp,"onUpdate:modelValue":t[2]||(t[2]=k=>e.otp=k),type:"text",placeholder:e.t("otp"),nullable:!1},null,8,["modelValue","placeholder"]),e.error?(m(),F(f,{key:0,error:e.error},null,8,["error"])):N("",!0)]),_:1}),n(y,null,{default:a(()=>[n(_,{type:"button",secondary:"",onClick:e.cancelAndClose},{default:a(()=>[O(h(e.t("cancel")),1)]),_:1},8,["onClick"]),n(_,{type:"submit",disabled:e.otp.length!==6,onClick:e.enableTFA},{default:a(()=>[O(h(e.t("done")),1)]),_:1},8,["disabled","onClick"])]),_:1})],32)],512),[[Et,e.tfaEnabled===!1&&e.tfaGenerated===!0&&e.loading===!1]])]),_:1})]),_:1},8,["modelValue","onEsc"]),n($,{modelValue:e.disableActive,"onUpdate:modelValue":t[7]||(t[7]=k=>e.disableActive=k),onEsc:t[8]||(t[8]=k=>e.disableActive=!1)},{default:a(()=>[n(w,null,{default:a(()=>[S("form",{onSubmit:t[6]||(t[6]=Ie((...k)=>e.disableTFA&&e.disableTFA(...k),["prevent"]))},[n(r,null,{default:a(()=>[O(h(e.t("enter_otp_to_disable_tfa")),1)]),_:1}),n(v,null,{default:a(()=>[n(p,{modelValue:e.otp,"onUpdate:modelValue":t[5]||(t[5]=k=>e.otp=k),type:"text",placeholder:e.t("otp"),nullable:!1},null,8,["modelValue","placeholder"]),e.error?(m(),F(f,{key:0,error:e.error},null,8,["error"])):N("",!0)]),_:1}),n(y,null,{default:a(()=>[n(_,{type:"submit",kind:"warning",loading:e.loading,disabled:e.otp.length!==6},{default:a(()=>[O(h(e.t("disable_tfa")),1)]),_:1},8,["loading","disabled"])]),_:1})],32)]),_:1})]),_:1},8,["modelValue"])])}var UG=q(PG,[["render",MG],["__scopeId","data-v-72d3e712"]]),NG=Me({id:"system-mfa-setup",name:"mfa-setup",icon:"box",component:UG,types:["text"],options:[],system:!0}),BG=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:NG});const qG=[{field:"name",name:"$t:name",meta:{required:!0,interface:"input",width:"half-left",options:{placeholder:"$t:enter_a_name"}}},{field:"icon",name:"$t:icon",meta:{required:!0,interface:"select-icon",width:"half-right"}},{field:"url",name:"$t:url",meta:{required:!0,interface:"input",options:{placeholder:"https://example.com"}}}],zG=K({name:"SystemModules",components:{Draggable:wt},props:{value:{type:Array,default:()=>pn}},emits:["input"],setup(e,{emit:t}){const{t:o}=ae(),l=D(),d=D(),c=D(),{modules:i}=Hl(),s=E(()=>i.value.filter(w=>w.hidden!==!0).map(w=>({type:"module",id:w.id,enabled:!1}))),r=E({get(){var $,k;const w=(($=e.value)!=null?$:pn).filter(V=>V.type==="module").map(V=>V.id);return p([...(k=e.value)!=null?k:pn,...s.value.filter(V=>w.includes(V.id)===!1)])},set(w){t("input",f(w))}});return{t:o,editing:l,valuesWithData:r,hideDragImage:Ut,updateItem:v,edit:_,linkFields:qG,save:y,values:d,remove:b,initialValues:c};function p(w){return w.filter($=>$.type==="link"?!0:!!i.value.find(k=>k.id===$.id)).map($=>{if($.type==="link")return ye(X({},$),{to:$.url,icon:$.icon,name:$.name});const k=i.value.find(V=>V.id===$.id);return ye(X({},$),{to:`/${k.id}`,name:k.name,icon:k.icon})})}function f(w){return w.map($=>{if($.type==="link"){const{type:R,id:L,name:M,url:T,icon:U,enabled:B,locked:z}=$;return{type:R,id:L,name:M,url:T,icon:U,enabled:B,locked:z}}const{type:k,id:V,enabled:g,locked:A}=$;return{type:k,id:V,enabled:g,locked:A}})}function v(w,$){r.value=r.value.map(k=>k===w?H.exports.assign({},w,$):k)}function _(w){var k;l.value=w;let $;w!=="+"?$=((k=e.value)!=null?k:pn).find(V=>V.id===w):$={id:bt(),type:"link",enabled:!0,url:"",name:"",icon:""},d.value=$,c.value=$}function y(){var w,$;l.value==="+"?t("input",[...(w=e.value)!=null?w:pn,d.value]):t("input",(($=e.value)!=null?$:pn).map(k=>k.id===l.value?d.value:k)),d.value=null,l.value=null}function b(w){var $;t("input",(($=e.value)!=null?$:pn).filter(k=>k.id!==w))}}}),KG=e=>(He("data-v-006bc8b7"),e=e(),Ge(),e),WG={class:"system-modules"},HG={class:"info"},GG={class:"name"},QG={class:"to"},XG=KG(()=>S("div",{class:"spacer"},null,-1)),JG={class:"drawer-content"};function YG(e,t,o,l,d,c){const i=u("v-icon"),s=u("v-list-item"),r=u("draggable"),p=u("v-list"),f=u("v-button"),v=u("v-form"),_=u("v-drawer"),y=Ce("tooltip");return m(),I("div",WG,[n(p,{class:"list"},{default:a(()=>[n(r,{modelValue:e.valuesWithData,"onUpdate:modelValue":t[0]||(t[0]=b=>e.valuesWithData=b),"force-fallback":!0,"set-data":e.hideDragImage,"item-key":"id",handle:".drag-handle",animation:150},{item:a(({element:b})=>[n(s,{block:"",class:re({enabled:b.enabled}),clickable:b.type==="link",onClick:w=>b.type==="link"?e.edit(b.id):void 0},{default:a(()=>[n(i,{class:"drag-handle",name:"drag_handle"}),n(i,{class:"icon",name:b.icon},null,8,["name"]),S("div",HG,[S("div",GG,h(b.name),1),S("div",QG,h(b.to),1)]),XG,b.locked===!0?(m(),F(i,{key:0,name:"lock"})):b.type==="link"?(m(),F(i,{key:1,name:"clear",onClick:Ie(w=>e.remove(b.id),["stop"])},null,8,["onClick"])):(m(),F(i,{key:2,name:b.enabled?"check_box":"check_box_outline_blank",clickable:"",onClick:Ie(w=>e.updateItem(b,{enabled:!b.enabled}),["stop"])},null,8,["name","onClick"]))]),_:2},1032,["class","clickable","onClick"])]),_:1},8,["modelValue","set-data"])]),_:1}),n(f,{onClick:t[1]||(t[1]=b=>e.edit("+"))},{default:a(()=>[O(h(e.t("add_link")),1)]),_:1}),n(_,{title:e.t("custom_link"),"model-value":!!e.editing,icon:"link","onUpdate:modelValue":t[3]||(t[3]=b=>e.editing=null),onCancel:t[4]||(t[4]=b=>e.editing=null)},{actions:a(()=>[te(n(f,{icon:"",rounded:"",onClick:e.save},{default:a(()=>[n(i,{name:"check"})]),_:1},8,["onClick"]),[[y,e.t("save"),void 0,{bottom:!0}]])]),default:a(()=>[S("div",JG,[n(v,{modelValue:e.values,"onUpdate:modelValue":t[2]||(t[2]=b=>e.values=b),"initial-values":e.initialValues,fields:e.linkFields},null,8,["modelValue","initial-values","fields"])])]),_:1},8,["title","model-value"])])}var ZG=q(zG,[["render",YG],["__scopeId","data-v-006bc8b7"]]),xG=Me({id:"system-modules",name:"$t:module_bar",icon:"arrow_drop_down_circle",component:ZG,types:["json"],options:[],system:!0}),eQ=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:xG});const tQ=K({components:{DrawerCollection:Qt},props:{value:{type:String,default:null}},emits:["input"],setup(e,{emit:t}){const{t:o}=ae(),l=D(null),d=D(null),c=D(!1),i=E(()=>e.value!==null&&(e.value.startsWith("role_")||e.value.startsWith("user_")));return _e(()=>e.value,f),f(),{options:E(()=>{let v=[{text:o("global")+": "+o("all_users"),value:"all"},{text:o("user")+": "+o("select"),value:"directus_users"},{text:o("role")+": "+o("select"),value:"directus_roles"}];if(i.value){const[_,y]=e.value.split("_");v=[{text:o(_)+": "+(d.value||y),value:e.value},{divider:!0},...v]}return v}),collection:l,onSelect:r,onSelectItem:p,loading:c};function r(v){if(v==="all")return l.value=null,t("input","all");l.value=v}function p(v){if(l.value==="directus_users")return t("input","user_"+v[0]);if(l.value==="directus_roles")return t("input","role_"+v[0])}async function f(){if(!i.value){d.value=null;return}c.value=!0;const[v,_]=e.value.split("_");if(v==="role"){const y=await de.get("/roles/"+_,{params:{fields:["id","name"]}});d.value=y.data.data.name}else if(v==="user"){const y=await de.get("/users/"+_,{params:{fields:["id","first_name","last_name","email"]}});d.value=Ft(y.data.data)}c.value=!1}}});function nQ(e,t,o,l,d,c){const i=u("v-skeleton-loader"),s=u("v-select"),r=u("drawer-collection");return m(),I("div",null,[e.loading?(m(),F(i,{key:0})):(m(),F(s,{key:1,"model-value":e.value,items:e.options,"onUpdate:modelValue":e.onSelect},null,8,["model-value","items","onUpdate:modelValue"])),e.collection!==null?(m(),F(r,{key:2,active:e.collection!==null,collection:e.collection,"onUpdate:active":t[0]||(t[0]=p=>e.collection=null),onInput:e.onSelectItem},null,8,["active","collection","onInput"])):N("",!0)])}var lQ=q(tQ,[["render",nQ]]),aQ=Me({id:"system-scope",name:"$t:scope",icon:"arrow_drop_down_circle",component:lQ,types:["string"],options:[],system:!0}),oQ=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:aQ});const{interfacesRaw:Oi}=Rt();async function iQ(e){const o=Object.values({"./boolean/index.ts":VB,"./datetime/index.ts":NB,"./file/index.ts":QB,"./file-image/index.ts":p7,"./files/index.ts":A7,"./group-accordion/index.ts":N7,"./group-detail/index.ts":H7,"./group-raw/index.ts":Z7,"./input/index.ts":iq,"./input-autocomplete-api/index.ts":pq,"./input-code/index.ts":bq,"./input-hash/index.ts":Sq,"./input-multiline/index.ts":Aq,"./input-rich-text-html/index.ts":Pq,"./input-rich-text-md/index.ts":e9,"./list/index.ts":h9,"./list-m2a/index.ts":D9,"./list-m2m/index.ts":N9,"./list-o2m/index.ts":oz,"./list-o2m-tree-view/index.ts":Pz,"./map/index.ts":nK,"./presentation-divider/index.ts":sK,"./presentation-links/index.ts":bK,"./presentation-notice/index.ts":FK,"./select-color/index.ts":PK,"./select-dropdown/index.ts":MK,"./select-dropdown-m2o/index.ts":YK,"./select-icon/index.ts":lW,"./select-multiple-checkbox/index.ts":dW,"./select-multiple-checkbox-tree/index.ts":gW,"./select-multiple-dropdown/index.ts":wW,"./select-radio/index.ts":IW,"./slider/index.ts":TW,"./tags/index.ts":zW,"./translations/index.ts":dH,"./_system/system-collection/index.ts":fH,"./_system/system-collections/index.ts":hH,"./_system/system-display-template/index.ts":SH,"./_system/system-field/index.ts":AH,"./_system/system-field-tree/index.ts":jH,"./_system/system-filter/index.ts":rG,"./_system/system-folder/index.ts":vG,"./_system/system-interface/index.ts":$G,"./_system/system-interface-options/index.ts":VG,"./_system/system-language/index.ts":OG,"./_system/system-mfa-setup/index.ts":BG,"./_system/system-modules/index.ts":eQ,"./_system/system-scope/index.ts":oQ}).map(l=>l.default);try{const l=await j(()=>import(`${Xe()}extensions/interfaces/index.js`),[]);o.push(...l.default)}catch(l){console.warn("Couldn't load custom interfaces"),console.warn(l)}Oi.value=o,Oi.value.forEach(l=>{e.component(`interface-${l.id}`,l.component),typeof l.options!="function"&&Array.isArray(l.options)===!1&&l.options!==null&&e.component(`interface-options-${l.id}`,l.options)})}function sQ(e){switch(e){case"af":return j(()=>import("./assets/af.0ae12dd5.js").then(function(t){return t.a}),[]);case"ar-dz":return j(()=>import("./assets/ar-dz.4def840c.js").then(function(t){return t.a}),[]);case"ar-kw":return j(()=>import("./assets/ar-kw.8e19bfac.js").then(function(t){return t.a}),[]);case"ar-ly":return j(()=>import("./assets/ar-ly.1c517370.js").then(function(t){return t.a}),[]);case"ar-ma":return j(()=>import("./assets/ar-ma.f01598f3.js").then(function(t){return t.a}),[]);case"ar-sa":return j(()=>import("./assets/ar-sa.c5fe14e9.js").then(function(t){return t.a}),[]);case"ar-tn":return j(()=>import("./assets/ar-tn.121f69b2.js").then(function(t){return t.a}),[]);case"ar":return j(()=>import("./assets/ar.bed29460.js").then(function(t){return t.a}),[]);case"az":return j(()=>import("./assets/az.706ff558.js").then(function(t){return t.a}),[]);case"bg":return j(()=>import("./assets/bg.1c68ab52.js").then(function(t){return t.b}),[]);case"bn":return j(()=>import("./assets/bn.52d26e23.js").then(function(t){return t.b}),[]);case"bs":return j(()=>import("./assets/bs.4d20add5.js").then(function(t){return t.b}),[]);case"ca":return j(()=>import("./assets/ca.a79eb6d2.js").then(function(t){return t.c}),[]);case"cs":return j(()=>import("./assets/cs.b1e8bc14.js").then(function(t){return t.c}),[]);case"cy":return j(()=>import("./assets/cy.ac181a59.js").then(function(t){return t.c}),[]);case"da":return j(()=>import("./assets/da.4016bc22.js").then(function(t){return t.d}),[]);case"de-at":return j(()=>import("./assets/de-at.c5829c18.js").then(function(t){return t.d}),[]);case"de":return j(()=>import("./assets/de.a55d079e.js").then(function(t){return t.d}),[]);case"el":return j(()=>import("./assets/el.59a913c2.js").then(function(t){return t.e}),[]);case"en-au":return j(()=>import("./assets/en-au.169355d7.js").then(function(t){return t.e}),[]);case"en-gb":return j(()=>import("./assets/en-gb.0b977da8.js").then(function(t){return t.e}),[]);case"en-nz":return j(()=>import("./assets/en-nz.6296f2b6.js").then(function(t){return t.e}),[]);case"eo":return j(()=>import("./assets/eo.d92d8fbf.js").then(function(t){return t.e}),[]);case"es-us":return j(()=>import("./assets/es-us.35915abe.js").then(function(t){return t.e}),[]);case"es":return j(()=>import("./assets/es.c516dd05.js").then(function(t){return t.e}),[]);case"et":return j(()=>import("./assets/et.420b5f6d.js").then(function(t){return t.e}),[]);case"eu":return j(()=>import("./assets/eu.edaff4b0.js").then(function(t){return t.e}),[]);case"fa":return j(()=>import("./assets/fa.f3993a60.js").then(function(t){return t.f}),[]);case"fi":return j(()=>import("./assets/fi.3ee32d07.js").then(function(t){return t.f}),[]);case"fr-ca":return j(()=>import("./assets/fr-ca.e2e64899.js").then(function(t){return t.f}),[]);case"fr-ch":return j(()=>import("./assets/fr-ch.e9042a4c.js").then(function(t){return t.f}),[]);case"fr":return j(()=>import("./assets/fr.9d599b24.js").then(function(t){return t.f}),[]);case"gl":return j(()=>import("./assets/gl.b8341ed4.js").then(function(t){return t.g}),[]);case"he":return j(()=>import("./assets/he.18403882.js").then(function(t){return t.h}),[]);case"hi":return j(()=>import("./assets/hi.e2a17765.js").then(function(t){return t.h}),[]);case"hr":return j(()=>import("./assets/hr.57f77dc3.js").then(function(t){return t.h}),[]);case"hu":return j(()=>import("./assets/hu.adb9ccdc.js").then(function(t){return t.h}),[]);case"hy-am":return j(()=>import("./assets/hy-am.59b7a75e.js").then(function(t){return t.h}),[]);case"id":return j(()=>import("./assets/id.bc299c4a.js").then(function(t){return t.i}),[]);case"is":return j(()=>import("./assets/is.2eb43668.js").then(function(t){return t.i}),[]);case"it":return j(()=>import("./assets/it.e663f69e.js").then(function(t){return t.i}),[]);case"ja":return j(()=>import("./assets/ja.21755c02.js").then(function(t){return t.j}),[]);case"ka":return j(()=>import("./assets/ka.09267484.js").then(function(t){return t.k}),[]);case"kk":return j(()=>import("./assets/kk.c27d7d0f.js").then(function(t){return t.k}),[]);case"ko":return j(()=>import("./assets/ko.86462d08.js").then(function(t){return t.k}),[]);case"lb":return j(()=>import("./assets/lb.b4fb4102.js").then(function(t){return t.l}),[]);case"lt":return j(()=>import("./assets/lt.bec1e735.js").then(function(t){return t.l}),[]);case"lv":return j(()=>import("./assets/lv.1d9eac62.js").then(function(t){return t.l}),[]);case"mk":return j(()=>import("./assets/mk.ac873732.js").then(function(t){return t.m}),[]);case"ms":return j(()=>import("./assets/ms.a8caaf33.js").then(function(t){return t.m}),[]);case"nb":return j(()=>import("./assets/nb.02bf1f1e.js").then(function(t){return t.n}),[]);case"ne":return j(()=>import("./assets/ne.8c2e7d13.js").then(function(t){return t.n}),[]);case"nl":return j(()=>import("./assets/nl.15edef36.js").then(function(t){return t.n}),[]);case"nn":return j(()=>import("./assets/nn.33ea37c6.js").then(function(t){return t.n}),[]);case"pl":return j(()=>import("./assets/pl.8a0826b3.js").then(function(t){return t.p}),[]);case"pt-br":return j(()=>import("./assets/pt-br.e87cb008.js").then(function(t){return t.p}),[]);case"pt":return j(()=>import("./assets/pt.de450764.js").then(function(t){return t.p}),[]);case"ro":return j(()=>import("./assets/ro.1786958f.js").then(function(t){return t.r}),[]);case"ru":return j(()=>import("./assets/ru.2c0e4894.js").then(function(t){return t.r}),[]);case"sk":return j(()=>import("./assets/sk.e174a41b.js").then(function(t){return t.s}),[]);case"sl":return j(()=>import("./assets/sl.34422efd.js").then(function(t){return t.s}),[]);case"sq":return j(()=>import("./assets/sq.ee367a13.js").then(function(t){return t.s}),[]);case"sr-cyrl":return j(()=>import("./assets/sr-cyrl.0abb2793.js").then(function(t){return t.s}),[]);case"sr":return j(()=>import("./assets/sr.efb7e3ec.js").then(function(t){return t.s}),[]);case"sv":return j(()=>import("./assets/sv.f13855af.js").then(function(t){return t.s}),[]);case"ta-in":return j(()=>import("./assets/ta-in.8c88aa82.js").then(function(t){return t.t}),[]);case"th":return j(()=>import("./assets/th.d0e24ade.js").then(function(t){return t.t}),[]);case"tr":return j(()=>import("./assets/tr.d887c301.js").then(function(t){return t.t}),[]);case"ug":return j(()=>import("./assets/ug.2ae6849b.js").then(function(t){return t.u}),[]);case"uk":return j(()=>import("./assets/uk.69d22b7d.js").then(function(t){return t.u}),[]);case"uz":return j(()=>import("./assets/uz.a2abf7be.js").then(function(t){return t.u}),[]);case"vi":return j(()=>import("./assets/vi.cc30f87c.js").then(function(t){return t.v}),[]);case"zh-cn":return j(()=>import("./assets/zh-cn.f12689f7.js").then(function(t){return t.z}),[]);case"zh-tw":return j(()=>import("./assets/zh-tw.c5aeda5a.js").then(function(t){return t.z}),[]);default:return Promise.resolve()}}async function rQ(e){const t=[e,e.split("-")[0],"en-US"];let o;for(const l of t)try{const d=await sQ(l);o=d.default.default||d.default;break}catch{continue}return o}const dQ=K({inheritAttrs:!1,props:{itemCount:{type:Number,default:null},showingCount:{type:String,default:null}}}),uQ={key:0,class:"item-count"};function cQ(e,t,o,l,d,c){return m(),F(qt,{name:"fade"},{default:a(()=>[e.itemCount?(m(),I("span",uQ,h(e.showingCount),1)):N("",!0)]),_:1})}var pQ=q(dQ,[["render",cQ],["__scopeId","data-v-ceefb89c"]]);const mQ=K({inheritAttrs:!1,props:{createCalendar:{type:Function,required:!0},destroyCalendar:{type:Function,required:!0}},setup(e){const t=D();return rt(()=>{e.createCalendar(t.value)}),Ct(()=>{e.destroyCalendar()}),{calendarElement:t}}}),fQ={class:"calendar-layout"},_Q={ref:"calendarElement"};function vQ(e,t,o,l,d,c){return m(),I("div",fQ,[S("div",_Q,null,512)])}var yQ=q(mQ,[["render",vQ],["__scopeId","data-v-1b062ccb"]]);const gQ=K({inheritAttrs:!1,props:{collection:{type:String,required:!0},template:{type:String,default:null},dateFields:{type:Array,required:!0},startDateField:{type:String,default:null},endDateField:{type:String,default:null}},emits:["update:template","update:startDateField","update:endDateField"],setup(e,{emit:t}){const{t:o}=ae(),l=Pe(e,"template",t),d=Pe(e,"startDateField",t),c=Pe(e,"endDateField",t);return{t:o,templateWritable:l,startDateFieldWritable:d,endDateFieldWritable:c}}}),hQ={class:"field"},bQ={class:"type-label"},$Q={class:"field"},kQ={class:"type-label"},wQ={class:"field"},CQ={class:"type-label"};function SQ(e,t,o,l,d,c){const i=u("v-field-template"),s=u("v-select");return m(),I(oe,null,[S("div",hQ,[S("div",bQ,h(e.t("display_template")),1),n(i,{modelValue:e.templateWritable,"onUpdate:modelValue":t[0]||(t[0]=r=>e.templateWritable=r),collection:e.collection},null,8,["modelValue","collection"])]),S("div",$Q,[S("div",kQ,h(e.t("layouts.calendar.start_date_field")),1),n(s,{modelValue:e.startDateFieldWritable,"onUpdate:modelValue":t[1]||(t[1]=r=>e.startDateFieldWritable=r),"show-deselect":"",items:e.dateFields,"item-text":"name","item-value":"field"},null,8,["modelValue","items"])]),S("div",wQ,[S("div",CQ,h(e.t("layouts.calendar.end_date_field")),1),n(s,{modelValue:e.endDateFieldWritable,"onUpdate:modelValue":t[2]||(t[2]=r=>e.endDateFieldWritable=r),"show-deselect":"",items:e.dateFields,"item-text":"name","item-value":"field"},null,8,["modelValue","items"])])],64)}var FQ=q(gQ,[["render",SQ]]),VQ=_l({id:"calendar",name:"$t:layouts.calendar.calendar",icon:"event",component:yQ,slots:{options:FQ,sidebar:()=>{},actions:pQ},setup(e,{emit:t}){const{t:o,locale:l}=ae(),d=D(),c=$t(),i=Pe(e,"layoutOptions",t),s=Pe(e,"filter",t),r=Pe(e,"search",t),{selection:p,collection:f}=Re(e),{primaryKeyField:v,fields:_}=at(f),y=E(()=>_.value.filter(Y=>["timestamp","dateTime","date"].includes(Y.type))),b=E(()=>{if(!d.value||!k.value)return s.value;const Y={_and:[{[k.value]:{_between:[Nn(d.value.view.currentStart),Nn(d.value.view.currentEnd)]}}]};return s.value&&Y._and.push(s.value),Y}),w=E({get(){var Y,Z;return(Z=(Y=i.value)==null?void 0:Y.template)!=null?Z:null},set(Y){i.value=ye(X({},i.value||{}),{template:Y!=null?Y:void 0})}}),$=E({get(){var Y;return(Y=i.value)==null?void 0:Y.viewInfo},set(Y){i.value=ye(X({},i.value||{}),{viewInfo:Y})}}),k=E({get(){var Y,Z;return(Z=(Y=i.value)==null?void 0:Y.startDateField)!=null?Z:null},set(Y){i.value=ye(X({},i.value||{}),{startDateField:Y!=null?Y:void 0})}}),V=E(()=>_.value.find(Y=>Y.field===k.value)),g=E({get(){var Y,Z;return(Z=(Y=i.value)==null?void 0:Y.endDateField)!=null?Z:null},set(Y){i.value=ye(X({},i.value||{}),{endDateField:Y!=null?Y:void 0})}}),A=E(()=>_.value.find(Y=>Y.field===g.value)),{items:R,loading:L,error:M,totalPages:T,itemCount:U,totalCount:B,changeManualSort:z,getItems:W}=vl(f,{sort:E(()=>{var Y;return[((Y=v.value)==null?void 0:Y.field)||""]}),page:D(1),limit:D(-1),fields:E(()=>{if(!v.value)return[];const Y=[v.value.field];return w.value&&Y.push(...vt(w.value)),k.value&&Y.push(k.value),g.value&&Y.push(g.value),Y}),filter:b,search:r},!1),J=E(()=>R.value.map(Y=>ie(Y)).filter(Y=>Y)||[]),Q=E(()=>{var Z,se,le,ce,ve,ue;const Y={editable:!0,eventStartEditable:!0,eventResizableFromStart:!0,eventDurationEditable:!0,dayMaxEventRows:!0,contentHeight:800,nextDayThreshold:"01:00:00",plugins:[tr,nr,lr,ar],initialView:(se=(Z=$.value)==null?void 0:Z.type)!=null?se:"dayGridMonth",headerToolbar:{left:"prevYear,prev,next,nextYear today",center:"title",right:"dayGridMonth,dayGridWeek,dayGridDay,listWeek"},events:J.value,initialDate:(ce=(le=$.value)==null?void 0:le.startDateStr)!=null?ce:Nn(new Date),eventClick(ge){var fe;if(!!f.value)if(e.selectMode||((fe=p.value)==null?void 0:fe.length)>0){const me=R.value.find(ke=>ke[v.value.field]==ge.event.id);me&&(p.value.includes(me)?p.value=p.value.filter(ke=>ke!==me):p.value=[...p.value,me],x())}else{const me=ge.event.id,ke=f.value.startsWith("directus")?f.value.substring(9):`collections/${f.value}`;Tt.push(`/${ke}/${me}`)}},async eventChange(ge){if(!f.value||!k.value||!V.value)return;const fe={[k.value]:pe(ge.event.startStr,V.value.type)};g.value&&A.value&&ge.event.endStr&&(fe[g.value]=pe(ge.event.endStr,A.value.type));const me=f.value.startsWith("directus")?f.value.substring(9):`/items/${f.value}`;try{await de.patch(`${me}/${ge.event.id}`,fe)}catch(ke){Fe(ke)}}};return(((ve=V.value)==null?void 0:ve.type)==="dateTime"||((ue=V.value)==null?void 0:ue.type)==="timestamp")&&(Y.headerToolbar=ye(X({},Y.headerToolbar),{right:"dayGridMonth,timeGridWeek,timeGridDay,listWeek"})),Y});_e(()=>c.sidebarOpen,()=>setTimeout(()=>{var Y;return(Y=d.value)==null?void 0:Y.updateSize()},300)),_e(Q,()=>x(),{deep:!0,immediate:!0}),_e([d,l],async()=>{if(d.value){const Y=await rQ(l.value);d.value.setOption("locale",Y)}},{immediate:!0});const G=E(()=>U.value?o("item_count",U.value):null);return{items:R,loading:L,error:M,totalPages:T,itemCount:U,totalCount:B,changeManualSort:z,getItems:W,filterWithCalendarView:b,template:w,dateFields:y,startDateField:k,endDateField:g,showingCount:G,createCalendar:ee,destroyCalendar:ne};function x(){d.value&&(d.value.pauseRendering(),d.value.resetOptions(Q.value),d.value.resumeRendering(),d.value.render())}function ee(Y){d.value=new or(Y,Q.value),d.value.on("datesSet",Z=>{$.value={type:Z.view.type,startDateStr:Nn(Z.view.currentStart)}}),d.value.render()}function ne(){var Y;(Y=d.value)==null||Y.destroy()}function ie(Y){if(!k.value||!v.value)return null;let Z;const se=A.value&&A.value.type==="date";if(g.value)if(se){const le=an(Y[g.value],"yyyy-MM-dd",new Date);le.setDate(le.getDate()+1),Z=ln(le,"yyyy-MM-dd")}else Z=Y[g.value];return{id:Y[v.value.field],title:hk(w.value||`{{ ${v.value.field} }}`,Y)||void 0,start:Y[k.value],end:Z,allDay:se,className:p.value.includes(Y)?"selected":void 0}}function pe(Y,Z){return Z==="dateTime"?Y.substring(0,19):Y}}}),EQ=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:VQ});const IQ=K({props:{icon:{type:String,default:"box"},file:{type:Object,default:null},crop:{type:Boolean,default:!1},loading:{type:Boolean,default:!1},item:{type:Object,default:null},modelValue:{type:Array,default:()=>[]},selectMode:{type:Boolean,default:!1},to:{type:String,default:""},readonly:{type:Boolean,default:!1},itemKey:{type:String,required:!0}},emits:["update:modelValue"],setup(e,{emit:t}){const o=et(),l=D(!1),d=E(()=>!e.file||!e.file.type||!l.value&&e.file.type.startsWith("image")?null:Zn(e.file.type,!0)),c=E(()=>{if(!e.file||!e.file.type||e.file.type.startsWith("image")===!1||e.file.type.includes("svg"))return null;let f="system-medium-cover";e.crop===!1&&(f="system-medium-contain");const v=Xe()+`assets/${e.file.id}?key=${f}&modified=${e.file.modified_on}`;return ut(v)}),i=E(()=>{if(!e.file||!e.file.type||e.file.type.startsWith("image")===!1||e.file.type.includes("svg")===!1)return null;const f=Xe()+`assets/${e.file.id}?modified=${e.file.modified_on}`;return ut(f)}),s=E(()=>e.item&&e.modelValue.includes(e.item[e.itemKey])?"check_circle":"radio_button_unchecked");return{imageSource:c,svgSource:i,type:d,selectionIcon:s,toggleSelection:r,handleClick:p,imgError:l};function r(){if(!e.item)return null;e.modelValue.includes(e.item[e.itemKey])?t("update:modelValue",e.modelValue.filter(f=>f!==e.item[e.itemKey])):t("update:modelValue",[...e.modelValue,e.item[e.itemKey]])}function p(){e.selectMode===!0?r():o.push(e.to)}}}),AQ=e=>(He("data-v-6184ebe2"),e=e(),Ge(),e),DQ={class:"header"},OQ=AQ(()=>S("div",{class:"selection-fade"},null,-1)),PQ={key:0,class:"type type-title"},TQ=["src"],LQ=["src"],jQ={key:0,class:"title"},RQ={key:1,class:"subtitle"};function MQ(e,t,o,l,d,c){const i=u("v-icon"),s=u("v-skeleton-loader");return m(),I("div",{class:re(["card",{loading:e.loading,readonly:e.readonly,selected:e.item&&e.modelValue.includes(e.item[e.itemKey]),"select-mode":e.selectMode}]),onClick:t[2]||(t[2]=(...r)=>e.handleClick&&e.handleClick(...r))},[n(i,{class:"selector",name:e.selectionIcon,onClick:Ie(e.toggleSelection,["stop"])},null,8,["name","onClick"]),S("div",DQ,[OQ,e.loading?(m(),F(s,{key:0})):(m(),I(oe,{key:1},[e.type||e.imgError?(m(),I("p",PQ,h(e.type),1)):(m(),I(oe,{key:1},[e.imageSource?(m(),I("img",{key:0,class:"image",loading:"lazy",src:e.imageSource,alt:"",role:"presentation",onError:t[0]||(t[0]=r=>e.imgError=!0)},null,40,TQ)):e.svgSource?(m(),I("img",{key:1,class:"svg",src:e.svgSource,alt:"",role:"presentation",onError:t[1]||(t[1]=r=>e.imgError=!0)},null,40,LQ)):(m(),F(i,{key:2,large:"",name:e.icon},null,8,["name"]))],64))],64))]),e.loading?(m(),F(s,{key:0,type:"text"})):(m(),I(oe,{key:1},[e.$slots.title?(m(),I("div",jQ,[$e(e.$slots,"title",{},void 0,!0)])):N("",!0),e.$slots.subtitle?(m(),I("div",RQ,[$e(e.$slots,"subtitle",{},void 0,!0)])):N("",!0)],64))],2)}var UQ=q(IQ,[["render",MQ],["__scopeId","data-v-6184ebe2"]]);const NQ=K({props:{fields:{type:Array,required:!0},size:{type:Number,required:!0},sort:{type:Array,required:!0},selection:{type:Array,default:()=>[]}},emits:["select-all","update:size","update:sort","update:selection"],setup(e,{emit:t}){const{t:o}=ae(),l=Pe(e,"size",t),d=Pe(e,"sort",t),c=Pe(e,"selection",t),i=E(()=>e.sort[0].startsWith("-")),s=E(()=>e.sort[0].startsWith("-")?e.sort[0].substring(1):e.sort[0]),r=E(()=>e.fields.find(_=>_.field===s.value)),p=E(()=>e.fields.filter(_=>_.field.startsWith("$")===!1).map(_=>({field:_.field,name:_.name,disabled:["json","o2m","m2o","m2a","file","files","alias","presentation"].includes(_.type)})));return{t:o,toggleSize:f,descending:i,toggleDescending:v,sortField:r,sizeSync:l,sortSync:d,selectionSync:c,sortKey:s,fieldsWithoutFake:p};function f(){e.size>=2&&e.size<5?l.value++:l.value=2}function v(){i.value===!0?d.value=[d.value[0].substring(1)]:d.value=["-"+d.value]}}}),BQ={class:"cards-header"},qQ={class:"start"},zQ={class:"label"},KQ={class:"label"},WQ={class:"end"},HQ=["onClick"];function GQ(e,t,o,l,d,c){const i=u("v-icon"),s=u("v-list-item-content"),r=u("v-list-item"),p=u("v-list"),f=u("v-menu"),v=Ce("tooltip");return m(),I("div",BQ,[S("div",qQ,[e.selectionSync.length>0?(m(),I("div",{key:0,class:"selected",onClick:t[0]||(t[0]=_=>e.selectionSync=[])},[n(i,{name:"cancel",outline:""}),S("span",zQ,h(e.t("n_items_selected",e.selectionSync.length)),1)])):(m(),I("button",{key:1,class:"select-all",onClick:t[1]||(t[1]=_=>e.$emit("select-all"))},[n(i,{name:"check_circle",outline:""}),S("span",KQ,h(e.t("select_all")),1)]))]),S("div",WQ,[te(n(i,{class:"size-selector",name:`grid_${7-e.size}`,clickable:"",onClick:e.toggleSize},null,8,["name","onClick"]),[[v,e.t("card_size"),void 0,{top:!0}]]),n(f,{"show-arrow":"",placement:"bottom"},{activator:a(({toggle:_})=>[te(S("div",{class:"sort-selector",onClick:_},[O(h(e.sortField&&e.sortField.name),1)],8,HQ),[[v,e.t("sort_field"),void 0,{top:!0}]])]),default:a(()=>[n(p,null,{default:a(()=>[(m(!0),I(oe,null,he(e.fieldsWithoutFake,_=>(m(),F(r,{key:_.field,disabled:_.disabled,active:_.field===e.sortKey,clickable:"",onClick:y=>e.sortSync=[_.field]},{default:a(()=>[n(s,null,{default:a(()=>[O(h(_.name),1)]),_:2},1024)]),_:2},1032,["disabled","active","onClick"]))),128))]),_:1})]),_:1}),te(n(i,{class:re(["sort-direction",{descending:e.descending}]),name:"sort",clickable:"",onClick:e.toggleDescending},null,8,["class","onClick"]),[[v,e.t("sort_direction"),void 0,{top:!0}]])])])}var QQ=q(NQ,[["render",GQ],["__scopeId","data-v-333e0228"]]);const XQ=K({components:{Card:UQ,CardsHeader:QQ},inheritAttrs:!1,props:{collection:{type:String,required:!0},selection:{type:Array,required:!0},selectMode:{type:Boolean,required:!0},readonly:{type:Boolean,required:!0},items:{type:Array,required:!0},loading:{type:Boolean,required:!0},error:{type:Object,default:null},totalPages:{type:Number,required:!0},page:{type:Number,required:!0},toPage:{type:Function,required:!0},itemCount:{type:Number,default:null},fieldsInCollection:{type:Array,required:!0},limit:{type:Number,required:!0},size:{type:Number,required:!0},primaryKeyField:{type:Object,default:null},icon:{type:String,required:!0},imageSource:{type:String,default:null},title:{type:String,default:null},subtitle:{type:String,default:null},getLinkForItem:{type:Function,required:!0},imageFit:{type:String,required:!0},sort:{type:Array,required:!0},info:{type:Object,default:null},isSingleRow:{type:Boolean,required:!0},width:{type:Number,required:!0},selectAll:{type:Function,required:!0},resetPresetAndRefresh:{type:Function,required:!0},filter:{type:Object,default:null},search:{type:String,default:null}},emits:["update:selection","update:limit","update:size","update:sort","update:width"],setup(e,{emit:t}){const{t:o}=ae(),l=Pe(e,"selection",t),d=Pe(e,"limit",t),c=Pe(e,"size",t),i=Pe(e,"sort",t),s=ht("main-element"),r=D(),{width:p}=xn(r);return _e(()=>e.page,()=>{var f;return(f=s.value)==null?void 0:f.scrollTo({top:0,behavior:"smooth"})}),_e(p,()=>{t("update:width",p.value)}),{t:o,selectionWritable:l,limitWritable:d,sizeWritable:c,sortWritable:i,layoutElement:r}}}),JQ={class:"footer"},YQ={class:"pagination"},ZQ={key:0,class:"per-page"};function xQ(e,t,o,l,d,c){const i=u("cards-header"),s=u("render-template"),r=u("card"),p=u("v-pagination"),f=u("v-select"),v=u("v-error"),_=u("v-button"),y=u("v-info");return m(),I("div",{ref:"layoutElement",class:"layout-cards",style:Ke({"--size":e.size*40+"px"})},[e.loading||e.itemCount>0?(m(),I(oe,{key:0},[n(i,{size:e.sizeWritable,"onUpdate:size":t[0]||(t[0]=b=>e.sizeWritable=b),selection:e.selectionWritable,"onUpdate:selection":t[1]||(t[1]=b=>e.selectionWritable=b),sort:e.sortWritable,"onUpdate:sort":t[2]||(t[2]=b=>e.sortWritable=b),fields:e.fieldsInCollection,onSelectAll:e.selectAll},null,8,["size","selection","sort","fields","onSelectAll"]),S("div",{class:re(["grid",{"single-row":e.isSingleRow}])},[(m(!0),I(oe,null,he(e.items,b=>(m(),F(r,{key:b[e.primaryKeyField.field],modelValue:e.selectionWritable,"onUpdate:modelValue":t[3]||(t[3]=w=>e.selectionWritable=w),"item-key":e.primaryKeyField.field,crop:e.imageFit==="crop",icon:e.icon,file:e.imageSource?b[e.imageSource]:null,item:b,"select-mode":e.selectMode||e.selection&&e.selection.length>0,to:e.getLinkForItem(b),readonly:e.readonly},Ne({_:2},[e.title?{name:"title",fn:a(()=>[n(s,{collection:e.collection,item:b,template:e.title},null,8,["collection","item","template"])])}:void 0,e.subtitle?{name:"subtitle",fn:a(()=>[n(s,{collection:e.collection,item:b,template:e.subtitle},null,8,["collection","item","template"])])}:void 0]),1032,["modelValue","item-key","crop","icon","file","item","select-mode","to","readonly"]))),128))],2),S("div",JQ,[S("div",YQ,[e.totalPages>1?(m(),F(p,{key:0,length:e.totalPages,"total-visible":7,"show-first-last":"","model-value":e.page,"onUpdate:modelValue":e.toPage},null,8,["length","model-value","onUpdate:modelValue"])):N("",!0)]),e.loading===!1&&e.items.length>=25?(m(),I("div",ZQ,[S("span",null,h(e.t("per_page")),1),n(f,{"model-value":`${e.limit}`,items:["25","50","100","250","500","1000"],inline:"","onUpdate:modelValue":t[4]||(t[4]=b=>e.limitWritable=+b)},null,8,["model-value"])])):N("",!0)])],64)):e.error?(m(),F(y,{key:1,type:"danger",title:e.t("unexpected_error"),icon:"error",center:""},{append:a(()=>[n(v,{error:e.error},null,8,["error"]),n(_,{small:"",class:"reset-preset",onClick:e.resetPresetAndRefresh},{default:a(()=>[O(h(e.t("reset_page_preferences")),1)]),_:1},8,["onClick"])]),default:a(()=>[O(h(e.t("unexpected_error_copy"))+" ",1)]),_:1},8,["title"])):e.itemCount===0&&(e.filter||e.search)?$e(e.$slots,"no-results",{key:2},void 0,!0):e.itemCount===0?$e(e.$slots,"no-items",{key:3},void 0,!0):N("",!0)],4)}var eX=q(XQ,[["render",xQ],["__scopeId","data-v-d275a1b8"]]);const tX=K({inheritAttrs:!1,props:{collection:{type:String,required:!0},icon:{type:String,required:!0},fileFields:{type:Array,required:!0},imageSource:{type:String,default:null},title:{type:String,default:null},subtitle:{type:String,default:null},imageFit:{type:String,required:!0}},emits:["update:icon","update:imageSource","update:title","update:subtitle","update:imageFit"],setup(e,{emit:t}){const{t:o}=ae(),l=Pe(e,"icon",t),d=Pe(e,"imageSource",t),c=Pe(e,"title",t),i=Pe(e,"subtitle",t),s=Pe(e,"imageFit",t);return{t:o,iconWritable:l,imageSourceWritable:d,titleWritable:c,subtitleWritable:i,imageFitWritable:s}}}),nX={class:"field"},lX={class:"type-label"},aX={class:"field"},oX={class:"type-label"},iX={class:"field"},sX={class:"type-label"},rX={class:"nested-options"},dX={class:"field"},uX={class:"type-label"},cX={class:"field"},pX={class:"type-label"};function mX(e,t,o,l,d,c){const i=u("v-select"),s=u("v-field-template"),r=u("interface-select-icon"),p=u("v-detail");return m(),I(oe,null,[S("div",nX,[S("div",lX,h(e.t("layouts.cards.image_source")),1),n(i,{modelValue:e.imageSourceWritable,"onUpdate:modelValue":t[0]||(t[0]=f=>e.imageSourceWritable=f),"show-deselect":"","item-value":"field","item-text":"name",items:e.fileFields},null,8,["modelValue","items"])]),S("div",aX,[S("div",oX,h(e.t("layouts.cards.title")),1),n(s,{modelValue:e.titleWritable,"onUpdate:modelValue":t[1]||(t[1]=f=>e.titleWritable=f),collection:e.collection},null,8,["modelValue","collection"])]),S("div",iX,[S("div",sX,h(e.t("layouts.cards.subtitle")),1),n(s,{modelValue:e.subtitleWritable,"onUpdate:modelValue":t[2]||(t[2]=f=>e.subtitleWritable=f),collection:e.collection},null,8,["modelValue","collection"])]),n(p,{class:"field"},{title:a(()=>[O(h(e.t("layout_setup")),1)]),default:a(()=>[S("div",rX,[S("div",dX,[S("div",uX,h(e.t("layouts.cards.image_fit")),1),n(i,{modelValue:e.imageFitWritable,"onUpdate:modelValue":t[3]||(t[3]=f=>e.imageFitWritable=f),disabled:e.imageSource===null,items:[{text:e.t("layouts.cards.crop"),value:"crop"},{text:e.t("layouts.cards.contain"),value:"contain"}]},null,8,["modelValue","disabled","items"])]),S("div",cX,[S("div",pX,h(e.t("fallback_icon")),1),n(r,{value:e.icon,onInput:t[4]||(t[4]=f=>e.iconWritable=f)},null,8,["value"])])])]),_:1})],64)}var fX=q(tX,[["render",mX],["__scopeId","data-v-1167aeea"]]);const _X=K({inheritAttrs:!1,props:{itemCount:{type:Number,default:null},showingCount:{type:String,required:!0}}}),vX={key:0,class:"item-count"};function yX(e,t,o,l,d,c){return m(),F(qt,{name:"fade"},{default:a(()=>[e.itemCount?(m(),I("span",vX,h(e.showingCount),1)):N("",!0)]),_:1})}var gX=q(_X,[["render",yX],["__scopeId","data-v-4039d1ee"]]);function gt(e,t,o){return E({get:()=>{var l;return((l=e.value)==null?void 0:l[t])?e.value[t]:H.exports.isFunction(o)?o():o},set:l=>{e.value=Object.assign({},e.value,{[t]:l})}})}var hX=_l({id:"cards",name:"$t:layouts.cards.cards",icon:"grid_4",component:eX,slots:{options:fX,sidebar:()=>{},actions:gX},setup(e,{emit:t}){const{t:o,n:l}=ae(),d=_t(),c=Pe(e,"selection",t),i=Pe(e,"layoutOptions",t),s=Pe(e,"layoutQuery",t),{collection:r,filter:p,search:f,filterUser:v}=Re(e),{info:_,primaryKeyField:y,fields:b}=at(r),w=E(()=>b.value.filter(ue=>ue.field==="$thumbnail"?!0:!!d.relations.find(fe=>fe.collection===e.collection&&fe.field===ue.field&&fe.related_collection==="directus_files"))),{size:$,icon:k,imageSource:V,title:g,subtitle:A,imageFit:R}=se(),{sort:L,limit:M,page:T,fields:U}=le(),{items:B,loading:z,error:W,totalPages:J,itemCount:Q,totalCount:G,getItems:x}=vl(r,{sort:L,limit:M,page:T,fields:U,filter:p,search:f}),ee=E(()=>(Q.value||0)<(G.value||0)&&v.value?Q.value===1?o("one_filtered_item"):o("start_end_of_count_filtered_items",{start:l((+T.value-1)*M.value+1),end:l(Math.min(T.value*M.value,Q.value||0)),count:l(Q.value||0)}):Q.value===1?o("one_item"):o("start_end_of_count_items",{start:l((+T.value-1)*M.value+1),end:l(Math.min(T.value*M.value,Q.value||0)),count:l(Q.value||0)})),ne=D(0),ie=E(()=>B.value.length*($.value*40)+(B.value.length-1)*24<=ne.value);return{items:B,loading:z,error:W,totalPages:J,page:T,toPage:Z,itemCount:Q,totalCount:G,fieldsInCollection:b,limit:M,size:$,primaryKeyField:y,icon:k,fileFields:w,imageSource:V,title:g,subtitle:A,getLinkForItem:ce,imageFit:R,sort:L,info:_,showingCount:ee,isSingleRow:ie,width:ne,refresh:Y,selectAll:ve,resetPresetAndRefresh:pe,filter:p,search:f};async function pe(){var ue;await((ue=e==null?void 0:e.resetPreset)==null?void 0:ue.call(e)),Y()}function Y(){x()}function Z(ue){T.value=ue}function se(){var De,Ae;const ue=Se("size",4),ge=Se("icon","box"),fe=Se("title",null),me=Se("subtitle",null),ke=Se("imageSource",(Ae=(De=w.value[0])==null?void 0:De.field)!=null?Ae:null),be=Se("imageFit","crop");return{size:ue,icon:ge,imageSource:ke,title:fe,subtitle:me,imageFit:be};function Se(Le,lt){return E({get(){var Oe,je;return((Oe=i.value)==null?void 0:Oe[Le])!==void 0?(je=i.value)==null?void 0:je[Le]:lt},set(Oe){i.value=ye(X({},i.value),{[Le]:Oe})}})}}function le(){const ue=gt(s,"page",1),ge=gt(s,"limit",25),fe=E(()=>{var be;return y.value?[(be=y.value)==null?void 0:be.field]:[]}),me=gt(s,"sort",fe.value),ke=E(()=>{if(!y.value||!e.collection)return[];const be=[y.value.field];V.value&&(be.push(`${V.value}.modified_on`),be.push(`${V.value}.type`),be.push(`${V.value}.filename_disk`),be.push(`${V.value}.storage`),be.push(`${V.value}.id`)),e.collection==="directus_files"&&V.value==="$thumbnail"&&(be.push("modified_on"),be.push("type"));const Se=[];return g.value&&Se.push(...vt(g.value)),A.value&&Se.push(...vt(A.value)),[...be,...Xt(Se,e.collection)]});return{sort:me,limit:ge,page:ue,fields:ke}}function ce(ue){if(!!y.value)return`/collections/${e.collection}/${encodeURIComponent(ue[y.value.field])}`}function ve(){if(!y.value)return;const ue=y.value;c.value=H.exports.clone(B.value).map(ge=>ge[ue.field])}}}),bX=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:hX});const $X=K({components:{},props:{data:{type:Object,required:!0},source:{type:Object,required:!0},layers:{type:Array,default:()=>[]},camera:{type:Object,default:()=>({})},bounds:{type:Array,default:void 0},featureId:{type:String,default:void 0},selection:{type:Array,default:()=>[]}},emits:["moveend","featureclick","featureselect","fitdata","setpopup"],setup(e,{emit:t}){const o=$t();let l;const d=D(),c=D(),i=D(),s=D(),r=[],{sidebarOpen:p,basemap:f}=Re(o),v=ll(),_=E(()=>{var x;const G=(x=v.find(ee=>ee.name===f.value))!=null?x:v[0];return va(G)}),y=new Kt.exports.AttributionControl({compact:!0}),b=new Kt.exports.NavigationControl({showCompass:!1}),w=new Kt.exports.GeolocateControl,$=new Ll("mapboxgl-ctrl-fitdata",()=>{t("fitdata")}),k=new Tz({boxElementClass:"selection-box",selectButtonClass:"mapboxgl-ctrl-select",unselectButtonClass:"mapboxgl-ctrl-unselect",layers:["__directus_polygons","__directus_points","__directus_lines"]}),V=En("mapbox_key");return rt(()=>{g()}),Ct(()=>{l.remove()}),{container:s,hoveredFeature:d,hoveredCluster:c,selectMode:i};function g(){l=new Kt.exports.Map(X(X({container:"map-container",style:_.value,attributionControl:!1,dragRotate:!1},e.camera),V?{accessToken:V}:{})),V&&l.addControl(new Za({accessToken:V,marker:!1}),"top-right"),l.addControl(y,"top-right"),l.addControl(b,"top-left"),l.addControl(w,"top-left"),l.addControl($,"top-left"),l.addControl(k,"top-left"),l.on("load",()=>{_e(()=>_.value,R),_e(()=>e.bounds,A),l.on("click","__directus_polygons",z),l.on("mousemove","__directus_polygons",W),l.on("mouseleave","__directus_polygons",W),l.on("click","__directus_points",z),l.on("mousemove","__directus_points",W),l.on("mouseleave","__directus_points",W),l.on("click","__directus_lines",z),l.on("mousemove","__directus_lines",W),l.on("mouseleave","__directus_lines",W),l.on("click","__directus_clusters",J),l.on("mousemove","__directus_clusters",Q),l.on("mouseleave","__directus_clusters",Q),l.on("select.enable",()=>i.value=!0),l.on("select.disable",()=>i.value=!1),l.on("select.end",G=>{var ee;const x=(ee=G.features)==null?void 0:ee.map(ne=>ne.id);t("featureselect",{ids:x,replace:!G.alt})}),l.on("moveend",G=>{!G.originalEvent||t("moveend",{center:l.getCenter(),zoom:l.getZoom(),bearing:l.getBearing(),pitch:l.getPitch(),bbox:l.getBounds().toArray().flat()})}),L()}),_e(()=>p.value,G=>{G||setTimeout(()=>l.resize(),300)}),setTimeout(()=>l.resize(),300)}function A(){var x;const G=(x=e.data.bbox)==null?void 0:x.map(ee=>ee%90);l&&G&&l.fitBounds(G,{padding:100,speed:1.3,maxZoom:14})}function R(G){r.forEach(x=>x()),r.length=0,l.setStyle(G,{diff:!1}),l.once("styledata",L)}function L(){r.push(_e(()=>e.source,T,{immediate:!0}),_e(()=>e.selection,B,{immediate:!0}),_e(()=>e.layers,U),_e(()=>e.data,M))}function M(G){l.getSource("__directus").setData(G),B(e.selection,void 0)}function T(G){var ee,ne;const x=new Set((ee=l.getStyle().layers)==null?void 0:ee.map(({id:ie})=>ie));for(const ie of e.layers)x.has(ie.id)&&l.removeLayer(ie.id);e.featureId?G.promoteId=e.featureId:G.generateId=!0,((ne=l.getStyle().sources)==null?void 0:ne.__directus)&&l.removeSource("__directus"),l.addSource("__directus",ye(X({},G),{data:e.data})),l.once("sourcedata",()=>{setTimeout(()=>e.layers.forEach(ie=>l.addLayer(ie)))})}function U(G,x){var ne;const ee=new Set((ne=l.getStyle().layers)==null?void 0:ne.map(({id:ie})=>ie));x==null||x.forEach(ie=>{ee.has(ie.id)&&l.removeLayer(ie.id)}),G==null||G.forEach(ie=>{l.addLayer(ie)})}function B(G,x){x==null||x.forEach(ee=>{l.setFeatureState({id:ee,source:"__directus"},{selected:!1}),l.removeFeatureState({id:ee,source:"__directus"})}),G==null||G.forEach(ee=>{l.setFeatureState({id:ee,source:"__directus"},{selected:!0})}),k.showUnselect(G==null?void 0:G.length)}function z(G){var ne;const x=(ne=G.features)==null?void 0:ne[0],ee=!G.originalEvent.altKey;x&&e.featureId&&(k.active()?t("featureselect",{ids:[x.id],replace:ee}):t("featureclick",{id:x.id,replace:ee}))}function W(G){var ie;const x=l.queryRenderedFeatures(G.point,{layers:["__directus_polygons","__directus_points","__directus_lines"]})[0],ee=(ie=d.value)==null?void 0:ie.id,ne=ee!==(x==null?void 0:x.id);if(ee&&ne&&l.setFeatureState({id:ee,source:"__directus"},{hovered:!1}),x&&x.properties){if(x.geometry.type==="Point"){const{x:pe,y:Y}=l.project(x.geometry.coordinates),Z=l.getContainer().getBoundingClientRect();t("setpopup",{x:Z.x+pe,y:Z.y+Y})}else{const{clientX:pe,clientY:Y}=G.originalEvent;t("setpopup",{x:pe,y:Y})}ne&&(l.setFeatureState({id:x.id,source:"__directus"},{hovered:!0}),d.value=x,t("setpopup",{item:x.id}))}else ne&&(d.value=x,t("setpopup",{item:null}))}function J(G){var ie,pe;const x=l.queryRenderedFeatures(G.point,{layers:["__directus_clusters"]}),ee=(pe=(ie=x[0])==null?void 0:ie.properties)==null?void 0:pe.cluster_id;l.getSource("__directus").getClusterExpansionZoom(ee,(Y,Z)=>{Y||l.flyTo({center:x[0].geometry.coordinates,zoom:Z,speed:1.3})})}function Q(G){G.type=="mousemove"?c.value=!0:c.value=!1}}});function kX(e,t,o,l,d,c){return m(),I("div",{id:"map-container",ref:"container",class:re({select:e.selectMode,hover:e.hoveredFeature||e.hoveredCluster})},null,2)}var wX=q($X,[["render",kX],["__scopeId","data-v-2ad5f292"]]);const CX=K({components:{MapComponent:wX},inheritAttrs:!1,props:{collection:{type:String,required:!0},selection:{type:Array,default:()=>[]},search:{type:String,default:null},loading:{type:Boolean,required:!0},error:{type:Object,default:null},geojsonError:{type:String,default:null},geometryOptions:{type:Object,default:void 0},geojson:{type:Object,required:!0},featureId:{type:String,default:null},geojsonBounds:{type:Object,default:void 0},directusSource:{type:Object,required:!0},directusLayers:{type:Array,required:!0},handleClick:{type:Function,required:!0},handleSelect:{type:Function,required:!0},cameraOptions:{type:Object,default:void 0},resetPresetAndRefresh:{type:Function,required:!0},geojsonLoading:{type:Boolean,required:!0},itemCount:{type:Number,default:null},totalPages:{type:Number,required:!0},page:{type:Number,required:!0},toPage:{type:Function,required:!0},limit:{type:Number,required:!0},autoLocationFilter:{type:Boolean,default:void 0},locationFilterOutdated:{type:Boolean,required:!0},fitGeoJSONBounds:{type:Function,required:!0},updateLocationFilter:{type:Function,required:!0},clearDataFilters:{type:Function,required:!0},clearLocationFilter:{type:Function,required:!0},isGeometryFieldNative:{type:Boolean,required:!0},filter:{type:Object,default:null},locationFilter:{type:Object,default:null},template:{type:String,default:()=>{}},popupItem:{type:[String,Number],default:()=>{}},popupPosition:{type:Object,default:()=>{}},updatePopup:{type:Function,required:!0}},emits:["update:cameraOptions","update:limit","update:locationFilterOutdated"],setup(e,{emit:t}){const{t:o,n:l}=ae(),d=Pe(e,"cameraOptions",t),c=Pe(e,"limit",t),i=Pe(e,"locationFilterOutdated",t);return{t:o,n:l,cameraOptionsWritable:d,limitWritable:c,locationFilterOutdatedWritable:i}}}),SX={class:"layout-map"},FX={key:2,class:"footer"},VX={class:"pagination"},EX={class:"mapboxgl-ctrl-dropdown"};function IX(e,t,o,l,d,c){const i=u("map-component"),s=u("render-template"),r=u("v-button"),p=u("v-error"),f=u("v-info"),v=u("v-progress-circular"),_=u("v-card-actions"),y=u("v-pagination"),b=u("v-select");return m(),I("div",SX,[n(i,{ref:"map",class:re(["mapboxgl-map",{loading:e.loading,error:e.error||e.geojsonError||!e.geometryOptions}]),data:e.geojson,"feature-id":e.featureId,selection:e.selection,camera:e.cameraOptions,bounds:e.geojsonBounds,source:e.directusSource,layers:e.directusLayers,onFeatureclick:e.handleClick,onFeatureselect:e.handleSelect,onMoveend:t[0]||(t[0]=w=>e.cameraOptionsWritable=w),onFitdata:e.fitGeoJSONBounds,onSetpopup:e.updatePopup},null,8,["class","data","feature-id","selection","camera","bounds","source","layers","onFeatureclick","onFeatureselect","onFitdata","onSetpopup"]),e.popupItem?(m(),I("div",{key:0,class:"popup",style:Ke({top:e.popupPosition.y+"px",left:e.popupPosition.x+"px"})},[n(s,{template:e.template,item:e.popupItem,collection:e.collection},null,8,["template","item","collection"])],4)):N("",!0),e.isGeometryFieldNative&&!e.autoLocationFilter&&e.locationFilterOutdatedWritable?(m(),F(r,{key:1,small:"",class:"location-filter",onClick:e.updateLocationFilter},{default:a(()=>[O(h(e.t("layouts.map.search_this_area")),1)]),_:1},8,["onClick"])):N("",!0),n(qt,{name:"fade"},{default:a(()=>[e.error?(m(),F(f,{key:0,type:"danger",title:e.t("unexpected_error"),icon:"error",center:""},{append:a(()=>[n(p,{error:e.error},null,8,["error"]),n(r,{small:"",class:"reset-preset",onClick:e.resetPresetAndRefresh},{default:a(()=>[O(h(e.t("reset_page_preferences")),1)]),_:1},8,["onClick"])]),default:a(()=>[O(h(e.t("unexpected_error_copy"))+" ",1)]),_:1},8,["title"])):e.geojsonError?(m(),F(f,{key:1,type:"warning",icon:"wrong_location",center:"",title:e.t("layouts.map.invalid_geometry")},{default:a(()=>[O(h(e.geojsonError),1)]),_:1},8,["title"])):e.loading||e.geojsonLoading?(m(),F(v,{key:2,indeterminate:"","x-large":"",class:"center"})):!e.loading&&!e.itemCount&&!e.locationFilterOutdated&&(e.search||e.filter||e.locationFilter)?(m(),F(f,{key:3,icon:"search",center:"",title:e.t("layouts.map.no_results_here")},{append:a(()=>[n(_,null,{default:a(()=>[n(r,{disabled:!e.search&&!e.filter,onClick:e.clearDataFilters},{default:a(()=>[O(h(e.t("layouts.map.clear_data_filter")),1)]),_:1},8,["disabled","onClick"]),n(r,{disabled:!e.locationFilter,onClick:e.clearLocationFilter},{default:a(()=>[O(h(e.t("layouts.map.clear_location_filter")),1)]),_:1},8,["disabled","onClick"])]),_:1})]),_:1},8,["title"])):N("",!0)]),_:1}),e.loading||e.itemCount>0?(m(),I("div",FX,[S("div",VX,[e.totalPages>1?(m(),F(y,{key:0,length:e.totalPages,"total-visible":7,"show-first-last":"","model-value":e.page,"onUpdate:modelValue":e.toPage},null,8,["length","model-value","onUpdate:modelValue"])):N("",!0)]),S("div",EX,[S("span",null,h(e.t("limit")),1),n(b,{"model-value":e.limit,items:[{text:e.n(100),value:100},{text:e.n(1e3),value:1e3},{text:e.n(1e4),value:1e4},{text:e.n(1e5),value:1e5}],inline:"","onUpdate:modelValue":t[1]||(t[1]=w=>e.limitWritable=+w)},null,8,["model-value","items"])])])):N("",!0)])}var AX=q(CX,[["render",IX],["__scopeId","data-v-3d284134"]]);const DX=K({inheritAttrs:!1,props:{collection:{type:String,required:!0},geometryFields:{type:Array,required:!0},geometryField:{type:String,default:void 0},autoLocationFilter:{type:Boolean,default:void 0},geometryOptions:{type:Object,default:void 0},clusterData:{type:Boolean,default:void 0},customLayerDrawerOpen:{type:Boolean,required:!0},resetLayers:{type:Function,required:!0},updateLayers:{type:Function,required:!0},customLayers:{type:Array,default:void 0},displayTemplate:{type:String,default:void 0}},emits:["update:geometryField","update:autoLocationFilter","update:clusterData","update:customLayerDrawerOpen","update:customLayers"],setup(e,{emit:t}){const{t:o}=ae(),l=$t(),d=Pe(e,"geometryField",t),c=Pe(e,"autoLocationFilter",t),i=Pe(e,"clusterData",t),s=Pe(e,"customLayerDrawerOpen",t),r=Pe(e,"customLayers",t),p=Pe(e,"displayTemplate",t),f=ll(),{basemap:v}=Re(l);return{t:o,geometryFieldWritable:d,autoLocationFilterWritable:c,clusterDataWritable:i,customLayerDrawerOpenWritable:s,customLayersWritable:r,displayTemplateWritable:p,basemaps:f,basemap:v}}}),OX={class:"field"},PX={class:"type-label"},TX={key:0,class:"field"},LX={key:1,class:"field"},jX={class:"type-label"},RX={class:"field"},MX={class:"type-label"},UX={class:"field"},NX={class:"field"};function BX(e,t,o,l,d,c){const i=u("v-select"),s=u("v-input"),r=u("v-field-template"),p=u("v-checkbox");return m(),I(oe,null,[S("div",OX,[S("div",PX,h(e.t("layouts.map.basemap")),1),n(i,{modelValue:e.basemap,"onUpdate:modelValue":t[0]||(t[0]=f=>e.basemap=f),items:e.basemaps.map(f=>({text:f.name,value:f.name}))},null,8,["modelValue","items"])]),e.geometryFields.length==0?(m(),I("div",TX,[n(s,{type:"text",disabled:"",prefix:"No compatible fields"})])):(m(),I("div",LX,[S("div",jX,h(e.t("layouts.map.field")),1),n(i,{modelValue:e.geometryFieldWritable,"onUpdate:modelValue":t[1]||(t[1]=f=>e.geometryFieldWritable=f),items:e.geometryFields.map(({name:f,field:v})=>({text:f,value:v}))},null,8,["modelValue","items"])])),S("div",RX,[S("div",MX,h(e.t("display_template")),1),n(r,{modelValue:e.displayTemplateWritable,"onUpdate:modelValue":t[2]||(t[2]=f=>e.displayTemplateWritable=f),collection:e.collection},null,8,["modelValue","collection"])]),S("div",UX,[n(p,{modelValue:e.autoLocationFilterWritable,"onUpdate:modelValue":t[3]||(t[3]=f=>e.autoLocationFilterWritable=f),label:e.t("layouts.map.auto_location_filter"),disabled:e.geometryOptions&&e.geometryOptions.geometryFormat!=="native"},null,8,["modelValue","label","disabled"])]),S("div",NX,[n(p,{modelValue:e.clusterDataWritable,"onUpdate:modelValue":t[4]||(t[4]=f=>e.clusterDataWritable=f),label:e.t("layouts.map.cluster"),disabled:e.geometryOptions&&e.geometryOptions.geometryType!=="Point"},null,8,["modelValue","label","disabled"])])],64)}var qX=q(DX,[["render",BX]]);const zX=K({inheritAttrs:!1,props:{itemCount:{type:Number,default:null},showingCount:{type:String,required:!0}}}),KX={key:0,class:"item-count"};function WX(e,t,o,l,d,c){return m(),F(qt,{name:"fade"},{default:a(()=>[e.itemCount?(m(),I("span",KX,h(e.showingCount),1)):N("",!0)]),_:1})}var HX=q(zX,[["render",WX],["__scopeId","data-v-08898882"]]);const GX="#ffffff",Rl="#00c897",Pi="#ffb300",jn="#ee9746",Da=[{id:"__directus_polygons_outline",type:"line",source:"__directus",filter:["all",["!has","point_count"],["==","$type","Polygon"]],paint:{"line-color":["case",["boolean",["feature-state","selected"],!1],jn,["boolean",["feature-state","hovered"],!1],jn,Rl],"line-width":2},layout:{"line-join":"round"}},{id:"__directus_polygons",type:"fill",source:"__directus",filter:["all",["!has","point_count"],["==","$type","Polygon"]],paint:{"fill-color":["case",["boolean",["feature-state","selected"],!1],Pi,["boolean",["feature-state","hovered"],!1],Pi,Rl],"fill-opacity":.15}},{id:"__directus_lines",type:"line",source:"__directus",filter:["all",["!has","point_count"],["==","$type","LineString"]],paint:{"line-color":["case",["boolean",["feature-state","selected"],!1],jn,["boolean",["feature-state","hovered"],!1],jn,Rl],"line-width":2}},{id:"__directus_points_shadow",type:"circle",source:"__directus",filter:["all",["!has","point_count"],["==","$type","Point"]],layout:{},paint:{"circle-radius":10,"circle-blur":1,"circle-opacity":.9,"circle-color":"#000000"}},{id:"__directus_points",type:"circle",source:"__directus",filter:["all",["!has","point_count"],["==","$type","Point"]],layout:{},paint:{"circle-radius":6,"circle-color":["case",["boolean",["feature-state","selected"],!1],jn,["boolean",["feature-state","hovered"],!1],jn,Rl],"circle-stroke-color":GX,"circle-stroke-width":2}},{id:"__directus_clusters",type:"circle",source:"__directus",filter:["has","point_count"],paint:{"circle-radius":["step",["get","point_count"],20,100,30,750,40],"circle-color":["step",["get","point_count"],"#7fe3ca",100,"#fde2a7",750,"#f0a7b3"],"circle-opacity":.7}},{id:"__directus_cluster_count",type:"symbol",source:"__directus",filter:["has","point_count"],layout:{"text-field":"{point_count_abbreviated}","text-font":["Open Sans Semibold"],"text-size":["step",["get","point_count"],15,100,17,750,19]},paint:{"text-opacity":.85}}];var QX=_l({id:"map",name:"$t:layouts.map.map",icon:"map",smallHeader:!0,component:AX,slots:{options:qX,sidebar:()=>{},actions:HX},setup(e,{emit:t}){var Pa,Ta;const{t:o,n:l}=ae(),d=et(),c=Pe(e,"selection",t),i=Pe(e,"layoutOptions",t),s=Pe(e,"layoutQuery",t),{collection:r,filter:p,filterUser:f,search:v}=Re(e),{info:_,primaryKeyField:y,fields:b}=at(r),w=gt(s,"page",1),$=gt(s,"limit",1e3),k=gt(s,"sort",[(Ta=(Pa=b.value)==null?void 0:Pa[0])==null?void 0:Ta.field]),V=D(),g=E(()=>V.value?p.value?{_and:[p.value,V.value]}:V.value:p.value),A=D(!1),R=gt(i,"displayTemplate",void 0),L=gt(i,"cameraOptions",void 0),M=gt(i,"customLayers",Da),T=gt(i,"autoLocationFilter",!1),U=gt(i,"clusterData",!1),B=gt(i,"geometryField",void 0),z=E({get:()=>{var Ee;return(Ee=i.value)==null?void 0:Ee.geometryFormat},set(Ee){i.value=ye(X({},i.value||{}),{geometryFormat:Ee,geometryField:void 0})}}),W=E(()=>b.value.find(Ee=>Ee.field==B.value)),J=E(()=>{var Ee;return((Ee=W.value)==null?void 0:Ee.type)=="geometry"}),Q=E(()=>b.value.filter(({type:Ee,meta:st})=>Ee=="geometry"||(st==null?void 0:st.interface)=="map"));_e(()=>Q.value,Ee=>{!B.value&&Ee.length>0&&(B.value=Ee[0].field)},{immediate:!0});const G=E(()=>{var st;const Ee=W.value;if(!!Ee){if(J.value)return{geometryField:Ee.field,geometryFormat:"native",geometryType:(st=Ee.schema)==null?void 0:st.geometry_type};if(Ee.meta&&Ee.meta.interface=="map"&&Ee.meta.options)return{geometryField:Ee.field,geometryFormat:Ee.meta.options.geometryFormat,geometryType:Ee.meta.options.geometryType}}}),x=E(()=>{var Ee,st,Rn;return R.value||((st=(Ee=_.value)==null?void 0:Ee.meta)==null?void 0:st.display_template)||`{{ ${(Rn=y.value)==null?void 0:Rn.field} }}`}),ee=E(()=>{var Ee;return[B.value,...vt(x.value)].concat((Ee=y.value)==null?void 0:Ee.field).filter(st=>!!st)}),ne=D(!1);function ie(){if(!J.value||!L.value||!B.value)return;const Ee=L.value.bbox,st=[[Ee[0],Ee[1]],[Ee[2],Ee[1]],[Ee[2],Ee[3]],[Ee[0],Ee[3]],[Ee[0],Ee[1]]];return{[B.value]:{_intersects_bbox:{type:"Polygon",coordinates:[st]}}}}function pe(){ne.value=!1,V.value=ie()}function Y(){le.value=!0,ne.value=!1,V.value=void 0}function Z(){var Ee;!((Ee=be.value)==null?void 0:Ee.features.length)||(le.value=!0,ne.value=!1,be.value&&(Se.value=H.exports.cloneDeep(be.value.bbox)))}function se(){e==null||e.clearFilters()}const le=D(!1);_e(()=>L.value,()=>{le.value=!1,ne.value=!0,T.value&&pe()}),_e(()=>T.value,Ee=>{Ee&&pe()});const{items:ce,loading:ve,error:ue,totalPages:ge,itemCount:fe,totalCount:me,getItems:ke}=vl(r,{sort:k,limit:$,page:w,search:v,filter:g,fields:ee}),be=D({type:"FeatureCollection",features:[]}),Se=D(),De=D(null),Ae=D(!1);_e([v,r,$,k],Le),_e(ce,lt),_e(()=>B.value,()=>le.value=!0);function Le(){le.value=!0,Ae.value=!1}function lt(){if(G.value)try{be.value={type:"FeatureCollection",features:[]},Ae.value=!0,De.value=null,be.value=Rz(ce.value,G.value),Ae.value=!1,(!L.value||le.value)&&(Se.value=be.value.bbox)}catch(Ee){Ae.value=!1,De.value=Ee,be.value={type:"FeatureCollection",features:[]}}else be.value={type:"FeatureCollection",features:[]}}const Oe=D(Da),je=D({type:"geojson",data:{type:"FeatureCollection",features:[]}});_e(()=>U.value,we,{immediate:!0}),Te();function Te(){var Ee;A.value=!1,Oe.value=(Ee=M.value)!=null?Ee:[]}function Ve(){Oe.value=H.exports.cloneDeep(Da),M.value=Oe.value}function we(){je.value=H.exports.merge({},je.value,{cluster:U.value})}function Be(Ee){c.value=Ee}function Ye(Ee){c.value=Array.from(new Set(c.value.concat(Ee)))}function it({ids:Ee,replace:st}){st?Be(Ee):Ye(Ee)}function ot({id:Ee,replace:st}){e.selectMode?it({ids:[Ee],replace:st}):d.push(`/collections/${r.value}/${Ee}`)}const nt=E(()=>{var Ee,st;return e.readonly?null:(st=(Ee=y.value)==null?void 0:Ee.field)!=null?st:null}),pt=E(()=>(fe.value||0)<(me.value||0)&&f.value?fe.value===1?o("one_filtered_item"):o("start_end_of_count_filtered_items",{start:l((+w.value-1)*$.value+1),end:l(Math.min(w.value*$.value,fe.value||0)),count:l(fe.value||0)}):fe.value===1?o("one_item"):o("start_end_of_count_items",{start:l((+w.value-1)*$.value+1),end:l(Math.min(w.value*$.value,fe.value||0)),count:l(fe.value||0)})),mt=D(null),jt=D({x:0,y:0});function cl({x:Ee,y:st,item:Rn}){var ja;const La=(ja=y.value)==null?void 0:ja.field;!La||(Ee&&st&&(jt.value={x:Ee,y:st}),Rn===null?mt.value=null:mt.value=ce.value.find(Ri=>Ri[La]===Rn))}return{collection:r,geojson:be,directusSource:je,directusLayers:Oe,customLayers:M,updateLayers:Te,resetLayers:Ve,featureId:nt,geojsonBounds:Se,geojsonLoading:Ae,geojsonError:De,geometryOptions:G,handleClick:ot,handleSelect:it,geometryFormat:z,geometryField:B,displayTemplate:R,isGeometryFieldNative:J,cameraOptions:L,autoLocationFilter:T,clusterData:U,items:ce,loading:ve,error:ue,totalPages:ge,page:w,toPage:ji,itemCount:fe,fieldsInCollection:b,limit:$,filter:p,primaryKeyField:y,sort:k,info:_,showingCount:pt,refresh:Oa,resetPresetAndRefresh:Ml,geometryFields:Q,customLayerDrawerOpen:A,locationFilterOutdated:ne,updateLocationFilter:pe,clearLocationFilter:Y,clearDataFilters:se,locationFilter:V,fitGeoJSONBounds:Z,template:x,popupItem:mt,popupPosition:jt,updatePopup:cl};async function Ml(){var Ee;await((Ee=e==null?void 0:e.resetPreset)==null?void 0:Ee.call(e)),Oa()}function Oa(){ke()}function ji(Ee){w.value=Ee}}}),XX=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:QX});const JX=K({inheritAttrs:!1,props:{collection:{type:String,required:!0},selection:{type:Array,default:()=>[]},readonly:{type:Boolean,required:!0},tableHeaders:{type:Array,required:!0},items:{type:Array,required:!0},loading:{type:Boolean,required:!0},error:{type:Object,default:null},totalPages:{type:Number,required:!0},tableSort:{type:Object,required:!0},onRowClick:{type:Function,required:!0},onSortChange:{type:Function,required:!0},tableRowHeight:{type:Number,required:!0},page:{type:Number,required:!0},toPage:{type:Function,required:!0},itemCount:{type:Number,default:null},fields:{type:Array,required:!0},limit:{type:Number,required:!0},primaryKeyField:{type:Object,default:null},info:{type:Object,default:null},sortField:{type:String,default:null},changeManualSort:{type:Function,required:!0},resetPresetAndRefresh:{type:Function,required:!0},selectAll:{type:Function,required:!0},filterUser:{type:Object,default:null},search:{type:String,default:null}},emits:["update:selection","update:tableHeaders","update:limit"],setup(e,{emit:t}){const{t:o}=ae(),l=Pe(e,"selection",t),d=Pe(e,"tableHeaders",t),c=Pe(e,"limit",t),i=ht("main-element"),s=D();return _e(()=>e.page,()=>{var r;return(r=i.value)==null?void 0:r.scrollTo({top:0,behavior:"smooth"})}),tt("meta+a",()=>{e.selectAll()},s),{t:o,selectionWritable:l,tableHeadersWritable:d,limitWritable:c,table:s}}}),YX={class:"layout-tabular"},ZX={class:"footer"},xX={class:"pagination"},eJ={key:0,class:"per-page"};function tJ(e,t,o,l,d,c){const i=u("render-display"),s=u("v-pagination"),r=u("v-select"),p=u("v-table"),f=u("v-error"),v=u("v-button"),_=u("v-info");return m(),I("div",YX,[e.loading||e.itemCount>0?(m(),F(p,{key:0,ref:"table",modelValue:e.selectionWritable,"onUpdate:modelValue":t[1]||(t[1]=y=>e.selectionWritable=y),headers:e.tableHeadersWritable,"onUpdate:headers":t[2]||(t[2]=y=>e.tableHeadersWritable=y),class:"table","fixed-header":"","show-select":e.readonly?!1:e.selection!==void 0,"show-resize":"","must-sort":"",sort:e.tableSort,items:e.items,loading:e.loading,"row-height":e.tableRowHeight,"server-sort":e.itemCount===e.limit||e.totalPages>1,"item-key":e.primaryKeyField.field,"show-manual-sort":e.sortField!==null,"manual-sort-key":e.sortField,"selection-use-keys":"","onClick:row":e.onRowClick,"onUpdate:sort":e.onSortChange,onManualSort:e.changeManualSort},Ne({footer:a(()=>[S("div",ZX,[S("div",xX,[e.totalPages>1?(m(),F(s,{key:0,length:e.totalPages,"total-visible":7,"show-first-last":"","model-value":e.page,"onUpdate:modelValue":e.toPage},null,8,["length","model-value","onUpdate:modelValue"])):N("",!0)]),e.loading===!1&&e.items.length>=25?(m(),I("div",eJ,[S("span",null,h(e.t("per_page")),1),n(r,{"model-value":`${e.limit}`,items:["25","50","100","250","500"," 1000"],inline:"","onUpdate:modelValue":t[0]||(t[0]=y=>e.limitWritable=+y)},null,8,["model-value"])])):N("",!0)])]),_:2},[he(e.tableHeaders,y=>({name:`item.${y.value}`,fn:a(({item:b})=>[n(i,{value:b[y.value],display:y.field.display,options:y.field.displayOptions,interface:y.field.interface,"interface-options":y.field.interfaceOptions,type:y.field.type,collection:e.collection,field:y.field.field},null,8,["value","display","options","interface","interface-options","type","collection","field"])])}))]),1032,["modelValue","headers","show-select","sort","items","loading","row-height","server-sort","item-key","show-manual-sort","manual-sort-key","onClick:row","onUpdate:sort","onManualSort"])):e.error?(m(),F(_,{key:1,type:"danger",title:e.t("unexpected_error"),icon:"error",center:""},{append:a(()=>[n(f,{error:e.error},null,8,["error"]),n(v,{small:"",class:"reset-preset",onClick:e.resetPresetAndRefresh},{default:a(()=>[O(h(e.t("reset_page_preferences")),1)]),_:1},8,["onClick"])]),default:a(()=>[O(h(e.t("unexpected_error_copy"))+" ",1)]),_:1},8,["title"])):e.itemCount===0&&(e.filterUser||e.search)?$e(e.$slots,"no-results",{key:2},void 0,!0):e.itemCount===0?$e(e.$slots,"no-items",{key:3},void 0,!0):N("",!0)])}var nJ=q(JX,[["render",tJ],["__scopeId","data-v-2edb585c"]]);const lJ=K({components:{Draggable:wt},inheritAttrs:!1,props:{fields:{type:Array,required:!0},activeFields:{type:Array,required:!0},tableSpacing:{type:String,required:!0},hideDragImage:{type:Function,required:!0},availableFields:{type:Array,required:!0}},emits:["update:tableSpacing","update:activeFields","update:fields"],setup(e,{emit:t}){const{t:o}=ae(),l=Pe(e,"fields",t),d=Pe(e,"activeFields",t),c=Pe(e,"tableSpacing",t);return{t:o,fieldsWritable:l,activeFieldsWritable:d,tableSpacingWritable:c}}}),aJ=e=>(He("data-v-4a9cb74e"),e=e(),Ge(),e),oJ={class:"field"},iJ={class:"type-label"},sJ={class:"field"},rJ={class:"type-label"},dJ=aJ(()=>S("div",{class:"spacer"},null,-1));function uJ(e,t,o,l,d,c){const i=u("v-select"),s=u("v-icon"),r=u("v-checkbox"),p=u("draggable");return m(),I(oe,null,[S("div",oJ,[S("div",iJ,h(e.t("layouts.tabular.spacing")),1),n(i,{modelValue:e.tableSpacingWritable,"onUpdate:modelValue":t[0]||(t[0]=f=>e.tableSpacingWritable=f),items:[{text:e.t("layouts.tabular.compact"),value:"compact"},{text:e.t("layouts.tabular.cozy"),value:"cozy"},{text:e.t("layouts.tabular.comfortable"),value:"comfortable"}]},null,8,["modelValue","items"])]),S("div",sJ,[S("div",rJ,h(e.t("layouts.tabular.fields")),1),n(p,{modelValue:e.activeFieldsWritable,"onUpdate:modelValue":t[3]||(t[3]=f=>e.activeFieldsWritable=f),"item-key":"field",handle:".drag-handle","set-data":e.hideDragImage,"force-fallback":!0},{item:a(({element:f})=>[n(r,{modelValue:e.fieldsWritable,"onUpdate:modelValue":t[2]||(t[2]=v=>e.fieldsWritable=v),value:f.field,label:f.name},{append:a(()=>[dJ,n(s,{name:"drag_handle",class:"drag-handle",onClick:t[1]||(t[1]=Ie(()=>{},["stop"]))})]),_:2},1032,["modelValue","value","label"])]),_:1},8,["modelValue","set-data"]),(m(!0),I(oe,null,he(e.availableFields.filter(f=>e.fields.includes(f.field)===!1),f=>(m(),F(r,{key:f.field,modelValue:e.fieldsWritable,"onUpdate:modelValue":t[4]||(t[4]=v=>e.fieldsWritable=v),value:f.field,label:f.name},null,8,["modelValue","value","label"]))),128))])],64)}var cJ=q(lJ,[["render",uJ],["__scopeId","data-v-4a9cb74e"]]);const pJ=K({inheritAttrs:!1,props:{itemCount:{type:Number,default:null},showingCount:{type:String,required:!0}}}),mJ={key:0,class:"item-count"};function fJ(e,t,o,l,d,c){return m(),F(qt,{name:"fade"},{default:a(()=>[e.itemCount?(m(),I("span",mJ,h(e.showingCount),1)):N("",!0)]),_:1})}var _J=q(pJ,[["render",fJ],["__scopeId","data-v-34941803"]]),vJ=_l({id:"tabular",name:"$t:layouts.tabular.tabular",icon:"reorder",component:nJ,slots:{options:cJ,sidebar:()=>{},actions:_J},setup(e,{emit:t}){const{t:o,n:l}=ae(),d=et(),c=Pe(e,"selection",t),i=Pe(e,"layoutOptions",t),s=Pe(e,"layoutQuery",t),{collection:r,filter:p,filterUser:f,search:v}=Re(e),{info:_,primaryKeyField:y,fields:b,sortField:w}=at(r),{sort:$,limit:k,page:V,fields:g,fieldsWithRelational:A}=ve(),{items:R,loading:L,error:M,totalPages:T,itemCount:U,totalCount:B,changeManualSort:z,getItems:W}=vl(r,{sort:$,limit:k,page:V,fields:A,filter:p,search:v}),{tableSort:J,tableHeaders:Q,tableRowHeight:G,onRowClick:x,onSortChange:ee,activeFields:ne,tableSpacing:ie}=ue(),pe=E(()=>(U.value||0)<(B.value||0)&&f.value?U.value===1?o("one_filtered_item"):o("start_end_of_count_filtered_items",{start:l((+V.value-1)*k.value+1),end:l(Math.min(V.value*k.value,U.value||0)),count:l(U.value||0)}):U.value===1?o("one_item"):o("start_end_of_count_items",{start:l((+V.value-1)*k.value+1),end:l(Math.min(V.value*k.value,U.value||0)),count:l(U.value||0)})),Y=E(()=>b.value.filter(ge=>{var fe,me;return((me=(fe=ge.meta)==null?void 0:fe.special)==null?void 0:me.includes("no-data"))!==!0}));return{tableHeaders:Q,items:R,loading:L,error:M,totalPages:T,tableSort:J,onRowClick:x,onSortChange:ee,tableRowHeight:G,page:V,toPage:le,itemCount:U,totalCount:B,fieldsInCollection:b,fields:g,limit:k,activeFields:ne,tableSpacing:ie,primaryKeyField:y,info:_,showingCount:pe,sortField:w,changeManualSort:z,hideDragImage:Ut,refresh:se,resetPresetAndRefresh:Z,selectAll:ce,availableFields:Y,filter:p,search:v};async function Z(){var ge;await((ge=e==null?void 0:e.resetPreset)==null?void 0:ge.call(e)),se()}function se(){W()}function le(ge){V.value=ge}function ce(){if(!y.value)return;const ge=y.value;c.value=H.exports.clone(R.value).map(fe=>fe[ge.field])}function ve(){const ge=gt(s,"page",1),fe=gt(s,"limit",25),me=gt(s,"sort",()=>{var Se;return y.value?[(Se=y.value)==null?void 0:Se.field]:[]}),ke=gt(s,"fields",()=>b.value.filter(Se=>{var De;return!((De=Se.meta)==null?void 0:De.hidden)}).slice(0,4).map(({field:Se})=>Se).sort()),be=E(()=>e.collection?Xt(ke.value,e.collection):[]);return{sort:me,limit:fe,page:ge,fields:ke,fieldsWithRelational:be}}function ue(){const ge=E(()=>{var Oe,je;return((Oe=$.value)==null?void 0:Oe[0])?((je=$.value)==null?void 0:je[0].startsWith("-"))?{by:$.value[0].substring(1),desc:!0}:{by:$.value[0],desc:!1}:null}),fe=D({});_e(()=>i.value,()=>{fe.value={}});const me=H.exports.debounce(()=>{i.value=Object.assign({},i.value,{widths:fe.value})},350),ke=E({get(){return g.value.map(Oe=>b.value.find(je=>je.field===Oe)).filter(Oe=>Oe)},set(Oe){g.value=Oe.map(je=>je.field)}}),be=E({get(){return ke.value.map(Oe=>{var je,Te,Ve,we,Be,Ye;return{text:Oe.name,value:Oe.field,width:fe.value[Oe.field]||((Te=(je=i.value)==null?void 0:je.widths)==null?void 0:Te[Oe.field])||null,field:{display:((Ve=Oe.meta)==null?void 0:Ve.display)||Zo(Oe.type),displayOptions:(we=Oe.meta)==null?void 0:we.display_options,interface:(Be=Oe.meta)==null?void 0:Be.interface,interfaceOptions:(Ye=Oe.meta)==null?void 0:Ye.options,type:Oe.type,field:Oe.field},sortable:["json","o2m","m2o","m2m","m2a","file","files","alias","presentation","translations"].includes(Oe.type)===!1}})},set(Oe){const je={};Oe.forEach(Te=>{Te.width&&(je[Te.value]=Te.width)}),fe.value=je,me()}}),Se=gt(i,"spacing","cozy"),De=E(()=>{switch(Se.value){case"compact":return 32;case"cozy":default:return 48;case"comfortable":return 64}});return{tableSort:ge,tableHeaders:be,tableSpacing:Se,tableRowHeight:De,onRowClick:Ae,onSortChange:Le,activeFields:ke,getFieldDisplay:lt};function Ae(Oe){var Te,Ve;if(e.readonly===!0||!y.value)return;const je=Oe[y.value.field];e.selectMode||((Te=c.value)==null?void 0:Te.length)>0?((Ve=c.value)==null?void 0:Ve.includes(je))===!1?c.value.push(je):c.value=c.value.filter(we=>we!==je):d.push(`/collections/${r.value}/${encodeURIComponent(je)}`)}function Le(Oe){let je=Oe.by;if(!Oe.by){$.value=[];return}Oe.desc===!0&&(je="-"+je),$.value=[je]}function lt(Oe){var Te;const je=b.value.find(Ve=>Ve.field===Oe);return((Te=je==null?void 0:je.meta)==null?void 0:Te.display)?{display:je.meta.display,options:je.meta.display_options}:null}}}}),yJ=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:vJ});const{layoutsRaw:Ti}=rn();async function gJ(e){const o=Object.values({"./calendar/index.ts":EQ,"./cards/index.ts":bX,"./map/index.ts":XX,"./tabular/index.ts":yJ}).map(l=>l.default);try{const l=await j(()=>import(`${Xe()}extensions/layouts/index.js`),[]);o.push(...l.default)}catch(l){console.warn("Couldn't load custom layouts"),console.warn(l)}Ti.value=o,Ti.value.forEach(l=>{e.component(`layout-${l.id}`,l.component),e.component(`layout-options-${l.id}`,l.slots.options),e.component(`layout-sidebar-${l.id}`,l.slots.sidebar),e.component(`layout-actions-${l.id}`,l.slots.actions)})}var hJ="assets/logo-light.1a93a59d.svg";const bJ=K({props:{wide:{type:Boolean,default:!1}},setup(){var i;const e=Pn(),t=E(()=>{var s,r;return!!((r=(s=e.info)==null?void 0:s.project)==null?void 0:r.project_color)}),o=E(()=>{var r,p,f,v,_;const s="#263238";return((p=(r=e.info)==null?void 0:r.project)==null?void 0:p.public_background)?`url(${Xe()+`assets/${(f=e.info.project)==null?void 0:f.public_background}`})`:((_=(v=e.info)==null?void 0:v.project)==null?void 0:_.project_color)||s}),l=E(()=>({background:o.value,backgroundSize:"cover",backgroundPosition:"center center"})),d=E(()=>{var s,r,p;return((r=(s=e.info)==null?void 0:s.project)==null?void 0:r.public_foreground)?Xe()+`assets/${(p=e.info.project)==null?void 0:p.public_foreground}`:null}),c=E(()=>{var s,r,p;return((r=(s=e.info)==null?void 0:s.project)==null?void 0:r.project_logo)?Xe()+`assets/${(p=e.info.project)==null?void 0:p.project_logo}`:null});return{version:xa,artStyles:l,branding:(i=e.info)==null?void 0:i.project,foregroundURL:d,logoURL:c,isBranded:t}}}),Li=e=>(He("data-v-468d0212"),e=e(),Ge(),e),$J={class:"title-box"},kJ=["src","alt"],wJ=Li(()=>S("img",{src:hJ,alt:"Directus",class:"directus-logo"},null,-1)),CJ=[wJ],SJ={class:"title"},FJ={class:"type-title"},VJ=Li(()=>S("p",{class:"subtitle"},"Admin App",-1)),EJ={class:"content"},IJ={class:"notice"},AJ=["src","alt"],DJ={class:"note-container"},OJ={key:0,class:"note"};function PJ(e,t,o,l,d,c){const i=Ce("md");return m(),I("div",{class:re(["public-view",{branded:e.isBranded}])},[S("div",{class:re(["container",{wide:e.wide}])},[S("div",$J,[e.branding&&e.branding.project_logo?(m(),I("div",{key:0,class:"logo",style:Ke({backgroundColor:e.branding.project_color})},[S("img",{src:e.logoURL,alt:e.branding.project_name||"Logo"},null,8,kJ)],4)):(m(),I("div",{key:1,class:"logo",style:Ke({backgroundColor:e.branding.project_color})},CJ,4)),S("div",SJ,[S("h1",FJ,h(e.branding&&e.branding.project_name),1),VJ])]),S("div",EJ,[$e(e.$slots,"default")]),S("div",IJ,[$e(e.$slots,"notice")])],2),S("div",{class:"art",style:Ke(e.artStyles)},[n(qt,{name:"scale"},{default:a(()=>[e.foregroundURL?(m(),I("img",{key:0,class:"foreground",src:e.foregroundURL,alt:e.branding&&e.branding.project_name},null,8,AJ)):N("",!0)]),_:1}),S("div",DJ,[e.branding&&e.branding.public_note?te((m(),I("div",OJ,null,512)),[[i,e.branding.public_note]]):N("",!0)])],4)],2)}var TJ=q(bJ,[["render",PJ],["__scopeId","data-v-468d0212"]]);const LJ=Ya(()=>j(()=>import("./assets/index.b0239526.js"),["assets/index.b0239526.js","assets/index.9f6c6cb3.css","assets/vendor.a626ab9c.js","assets/vendor.fe7856f0.css","assets/use-sync.fa2fe3b0.js"]));function jJ(e){e.component("PublicView",TJ),e.component("PrivateView",LJ)}RJ();async function RJ(){console.log(z2),console.info(`Hey! Interested in helping build this open-source data management platform?
If so, join our growing team of contributors at: https://directus.chat`),console.info("%c\u{1F430} Starting Directus...","color:Green"),console.time("\u{1F553} Application Loaded");const e=ir($O);e.use(Tt),e.use(We),e.use(sr()),A6(e),b6(e),jJ(e),await Promise.all([iQ(e),uU(e),kB(e),gJ(e),J3()]),e.mount("#app"),console.timeEnd("\u{1F553} Application Loaded"),console.group("%c\u2728 Project Information","color:DodgerBlue"),console.info("%cEnvironment: production","color:DodgerBlue"),console.groupEnd(),window.addEventListener("dragover",t=>t.preventDefault(),!1),window.addEventListener("drop",t=>t.preventDefault(),!1)}export{RT as H,pn as M,q as _,Dl as a,ut as b,xe as c,Hl as d,wa as e,Pn as f,Xe as g,Al as h,$t as i,Co as j,yk as k,We as l,uo as m,pO as n,St as t,ol as u};
